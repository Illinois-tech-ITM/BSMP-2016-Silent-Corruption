From lucene-user-return-12832-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 01 09:14:56 2005
Return-Path: <lucene-user-return-12832-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 84279 invoked from network); 1 Feb 2005 09:14:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Feb 2005 09:14:56 -0000
Received: (qmail 21943 invoked by uid 500); 1 Feb 2005 09:14:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 21916 invoked by uid 500); 1 Feb 2005 09:14:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21880 invoked by uid 99); 1 Feb 2005 09:14:49 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from web15702.mail.cnb.yahoo.com (HELO web15702.mail.cnb.yahoo.com) (202.165.102.69)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 01 Feb 2005 01:14:48 -0800
Message-ID: <20050201091444.32756.qmail@web15702.mail.cnb.yahoo.com>
Received: from [202.130.224.29] by web15702.mail.cnb.yahoo.com via HTTP; Tue, 01 Feb 2005 17:14:44 CST
Date: Tue, 1 Feb 2005 17:14:44 +0800 (CST)
From: Jingkang Zhang <zjingk@yahoo.com.cn>
Subject: which HTML parser is better?
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=gb2312
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Three HTML parsers(Lucene web application
demo,CyberNeko HTML Parser,JTidy) are mentioned in
Lucene FAQ
1.3.27.Which is the best?Can it filter tags that are
auto-created by MS-word 'Save As HTML files' function?

_________________________________________________________
Do You Yahoo!?
150ÕÚ«˙MP3∑ËøÒÀ—£¨¥¯ƒ˙¥≥»Î“Ù¿÷µÓÃ√
http://music.yisou.com/
√¿≈Æ√˜–«”¶”–æ°”–£¨À—±È√¿Õº°¢—ﬁÕº∫Õø·Õº
http://image.yisou.com
1GæÕ «1000’◊£¨—≈ª¢µÁ” ◊‘÷˙¿©»›£°
http://cn.rd.yahoo.com/mail_cn/tag/1g/*http://cn.mail.yahoo.com/event/mail_1g/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12833-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 01 09:22:21 2005
Return-Path: <lucene-user-return-12833-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 87425 invoked from network); 1 Feb 2005 09:22:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Feb 2005 09:22:21 -0000
Received: (qmail 37779 invoked by uid 500); 1 Feb 2005 09:22:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 37344 invoked by uid 500); 1 Feb 2005 09:22:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 37172 invoked by uid 99); 1 Feb 2005 09:22:00 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from web15710.mail.cnb.yahoo.com (HELO web15710.mail.cnb.yahoo.com) (202.165.102.77)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 01 Feb 2005 01:21:59 -0800
Message-ID: <20050201092155.86282.qmail@web15710.mail.cnb.yahoo.com>
Received: from [202.130.224.29] by web15710.mail.cnb.yahoo.com via HTTP; Tue, 01 Feb 2005 17:21:55 CST
Date: Tue, 1 Feb 2005 17:21:55 +0800 (CST)
From: Jingkang Zhang <zjingk@yahoo.com.cn>
Subject: Can I sort search results by score and docID at one time?
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=gb2312
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Lucene support sort by score or docID.Now I want to
sort search results by score and docID or by two
fields at one time, like sql
command " order by score,docID" , how can I do it?

_________________________________________________________
Do You Yahoo!?
150ÕÚ«˙MP3∑ËøÒÀ—£¨¥¯ƒ˙¥≥»Î“Ù¿÷µÓÃ√
http://music.yisou.com/
√¿≈Æ√˜–«”¶”–æ°”–£¨À—±È√¿Õº°¢—ﬁÕº∫Õø·Õº
http://image.yisou.com
1GæÕ «1000’◊£¨—≈ª¢µÁ” ◊‘÷˙¿©»›£°
http://cn.rd.yahoo.com/mail_cn/tag/1g/*http://cn.mail.yahoo.com/event/mail_1g/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12834-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 01 09:40:49 2005
Return-Path: <lucene-user-return-12834-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 96490 invoked from network); 1 Feb 2005 09:40:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Feb 2005 09:40:48 -0000
Received: (qmail 70480 invoked by uid 500); 1 Feb 2005 09:40:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 70440 invoked by uid 500); 1 Feb 2005 09:40:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 70424 invoked by uid 99); 1 Feb 2005 09:40:42 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of fraschetti@gmail.com designates 64.233.170.198 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.198)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 01 Feb 2005 01:40:41 -0800
Received: by rproxy.gmail.com with SMTP id f1so991120rne
        for <lucene-user@jakarta.apache.org>; Tue, 01 Feb 2005 01:40:39 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type:content-transfer-encoding;
        b=mg/ogqswghYnszW09YzwA3GyfnAx/5//gP9KyYX+S/JBrv4D2p2t//zBcMQ7tLz3rB33ZwCL/QsOjZCWxdeqkUN3vczM9W5uE7fzhw3QH6ordfkJDyETyHuVKqONOGVF+ULT8gCj4tLylGx0oWFrU5gA7hNAmbYGXkbNKMmRzhE=
Received: by 10.38.59.4 with SMTP id h4mr13379rna;
        Tue, 01 Feb 2005 01:40:39 -0800 (PST)
Received: by 10.38.90.32 with HTTP; Tue, 1 Feb 2005 01:40:39 -0800 (PST)
Message-ID: <cbdebdf80502010140c80c332@mail.gmail.com>
Date: Tue, 1 Feb 2005 01:40:39 -0800
From: Chris Fraschetti <fraschetti@gmail.com>
Reply-To: Chris Fraschetti <fraschetti@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: lucene docs in bulk read?
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hey folks.. thanks in advance to any who respond...

I do a good deal of post-search processing and the file io to read the
fields I need becomes horribly costly and is definitely a problem. Is
there any way to either retrieve 1. the entire doc (all fields that
can be retrieved) and/or 2. a group of docs.. specified by say an
array of doc ids?

I've optimized to retrieve the entire list of fields instead of 1 by
1.. and also retrieve only the minimal number of fields that I can..
but still my profilers show me that the lucene io to read the doc
fields is where I spend 95% of my time. Of course this is obvious
given the nature of how it all works.. but can anyone think of a
better way to go about retrieving docs in bulk? Are the different
types of fields quicker/slower than others when retrieving them from
the index?

-- 
___________________________________________________
Chris Fraschetti
e fraschetti@gmail.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12835-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 01 09:54:49 2005
Return-Path: <lucene-user-return-12835-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 3496 invoked from network); 1 Feb 2005 09:54:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Feb 2005 09:54:49 -0000
Received: (qmail 97381 invoked by uid 500); 1 Feb 2005 09:54:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 97347 invoked by uid 500); 1 Feb 2005 09:54:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 97331 invoked by uid 99); 1 Feb 2005 09:54:42 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from proserver2.ifit.uni-klu.ac.at (HELO proserver2.ifit.uni-klu.ac.at) (143.205.118.212)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 01 Feb 2005 01:54:40 -0800
Received: from [143.205.118.98] ([143.205.118.98]) by proserver2.ifit.uni-klu.ac.at over TLS secured channel with Microsoft SMTPSVC(5.0.2195.6713);
	 Tue, 1 Feb 2005 10:54:37 +0100
Message-ID: <41FF51D9.9090608@ifit.uni-klu.ac.at>
Date: Tue, 01 Feb 2005 10:54:33 +0100
From: sergiu gordea <gsergiu@ifit.uni-klu.ac.at>
User-Agent: Mozilla Thunderbird 0.7 (Windows/20040616)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: which HTML parser is better?
References: <20050201091444.32756.qmail@web15702.mail.cnb.yahoo.com>
In-Reply-To: <20050201091444.32756.qmail@web15702.mail.cnb.yahoo.com>
Content-Type: text/plain; charset=GB2312
Content-Transfer-Encoding: 8bit
X-OriginalArrivalTime: 01 Feb 2005 09:54:37.0353 (UTC) FILETIME=[0A4CC990:01C50844]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Jingkang Zhang wrote:

>Three HTML parsers(Lucene web application
>demo,CyberNeko HTML Parser,JTidy) are mentioned in
>Lucene FAQ
>1.3.27.Which is the best?Can it filter tags that are
>auto-created by MS-word 'Save As HTML files' function?
>  
>

maybe you can try this library...

http://htmlparser.sourceforge.net/

I use the following code to get the text from HTML files,
it was not intensively tested, but it works.

import org.htmlparser.Node;
import org.htmlparser.Parser;
import org.htmlparser.util.NodeIterator;
import org.htmlparser.util.Translate;

Parser parser = new Parser(source.getAbsolutePath());
NodeIterator iter = parser.elements();
while (iter.hasMoreNodes()) {
Node element = (Node) iter.nextNode();
//System.out.println("1:" + element.getText());
String text = Translate.decode(element.toPlainTextString());
if (Utils.notEmptyString(text))
writer.write(text);
}

Sergiu

>_________________________________________________________
>Do You Yahoo!?
>150ÕÚ«˙MP3∑ËøÒÀ—£¨¥¯ƒ˙¥≥»Î“Ù¿÷µÓÃ√
>http://music.yisou.com/
>√¿≈Æ√˜–«”¶”–æ°”–£¨À—±È√¿Õº°¢—ﬁÕº∫Õø·Õº
>http://image.yisou.com
>1GæÕ «1000’◊£¨—≈ª¢µÁ” ◊‘÷˙¿©»›£°
>http://cn.rd.yahoo.com/mail_cn/tag/1g/*http://cn.mail.yahoo.com/event/mail_1g/
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>  
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12836-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 01 10:17:43 2005
Return-Path: <lucene-user-return-12836-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 25171 invoked from network); 1 Feb 2005 10:17:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Feb 2005 10:17:42 -0000
Received: (qmail 46137 invoked by uid 500); 1 Feb 2005 10:17:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 46115 invoked by uid 500); 1 Feb 2005 10:17:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 46102 invoked by uid 99); 1 Feb 2005 10:17:31 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from fw1-inet.semantico.net (HELO semantico.com) (212.74.15.68)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 01 Feb 2005 02:17:31 -0800
Received: from spampd.localdomain (localhost [127.0.0.1])
	by localhost.semantico.com (Postfix) with ESMTP id EEC2F320217
	for <lucene-user@jakarta.apache.org>; Tue,  1 Feb 2005 10:17:28 +0000 (GMT)
Received: from [192.168.1.71] (annatto.semantico.net [192.168.1.71])
	by semantico.com (Postfix) with ESMTP id 6946A320217
	for <lucene-user@jakarta.apache.org>; Tue,  1 Feb 2005 10:17:28 +0000 (GMT)
Message-ID: <41FF5918.7080609@semantico.com>
Date: Tue, 01 Feb 2005 10:25:28 +0000
From: Peter Pimley <ppimley@semantico.com>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Source code for an accent-removal filter
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Checker-Version: SpamAssassin 2.63 (2004-01-11) on paprika.rp.lan
X-Spam-Status: No, hits=-100.0 required=5.0 tests=USER_IN_WHITELIST 
	autolearn=no version=2.63
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Hi.

In December I made some posts concerning a filter that could work by 
getting the unicode name of a character and trying to figure out the 
closest latin equivalent.  For example, if it encountered character 00C1 
LATIN CAPITAL LETTER A WITH ACUTE, it would be clever enough to replace 
that with regular 'A'.

I got moved onto another project for a while so I've not looked at the 
problem much since then.  I'm back on it for a few days now though :)

The following perl program generates some Java source for a filter that 
carries out the above task.

Get 'UnicodeData.txt' from www.unicode.org, and then do the following:
    perl make_accent_filter.pl make.this.java.Class < UnicodeData.txt
to generate make/this/java/Class.java

This comes with no license and no warranty  ;)

Do not think this is the full solution to your unicode-mangling 
problems.  I'm using it as a last resort catch-all after some other 
filters that use the IBM ICU4J library to do all sorts of decomposition 
and character-category magic.  Once I get it all working I should be 
able to post some pointers and code snippets up here.

Peter

---8<-------

# usage:  perl make_accent_filter.pl my.full.ClassName < UnicodeData.txt
#
# creates my/full/ClassName.java

use strict;
use warnings;

use File::Path;
use File::Basename;



# decompose the classname that they gave us.
#
# TODO: this doesn't work if the classname has no dots (i.e. it's not in a
# package)
my $full_class = shift;
my @parts = $full_class =~ '^(.*)\.(.*)$';
my $package = shift @parts;
my $class = shift @parts;


# print to the correct place
my $path = $full_class;
$path =~ s/\./\//g;
$path = "$path.java";
mkpath dirname $path;
open STDOUT, "> $path" or die "Could not redirect stdout";




print <<END_JAVA;


// THIS FILE WAS AUTOGENERATED BY make_accent_filter.pl, DO NOT EDIT BY 
HAND.


package $package;

import org.apache.lucene.analysis.*;
import java.io.*;
import java.util.*;


public class $class extends TokenFilter {


    public $class (TokenStream input) {
        super (input);
        createHash();
    }


    // The replacement character, indexed by unicode value.
    // (i.e Character objects indexed by Integer objects)
    private static Hashtable values = null;


    // Creates a HashTable from the array at the bottom of this file.
    private void createHash () {
        // only run this for the first object of this class
        if (values != null) return;
        values = new Hashtable ();

        int i = 0;
        while (true) {
            if (array[i] == null) break; // 'array' is null terminated.

            Object number = array[i++];
            Object replacement = array[i++];

            values.put (number, replacement);
        }

        // we're done with 'array', it can be garbage collected
        array = null;
    }


    public Token next () throws IOException {
        Token t = input.next ();
        if (t == null) return null; // eof

        String s = t.termText();
        s = substituteAZString (s);

        return new Token (s, t.startOffset(), t.endOffset());
    }


    private String substituteAZString (String s) {

        char [] current = s.toCharArray ();
        char [] AZ = new char [current.length];
        int AZi = 0;

        for (int i=0; i<current.length; i++) {
            AZ[AZi++] = substituteAZChar (current[i]);
        }

        s = new String (AZ);
        return s;
    }



    private char substituteAZChar (char c) {
        Integer key = new Integer ((int) c);
        if (values.containsKey(key)) {
            c = ((Character)values.get(key)).charValue();
        }
        return c;
    }


    private static Object [] array = {
END_JAVA




# we only care about characters whose names are of the form:
my $latin_pattern = 'LATIN (.*) LETTER (.)( .*)$';

while (<STDIN>) {
    my @parts = split ";";

    my $num  = shift @parts;
    my $name = shift @parts;

    my @matches;

    if (@matches = ($name =~ $latin_pattern)) {

        my $case = shift @matches;
        my $convert_to_lc = $case eq "SMALL";

        my $letter = shift @matches;
        $letter = lc $letter if $convert_to_lc;

        printf "    new Integer (0x%s), new Character ('%s'), // %s\n",
            $num, $letter, $name;
    }
}


print <<END_JAVA;
    null };
}
END_JAVA


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12837-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 01 10:42:35 2005
Return-Path: <lucene-user-return-12837-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 37002 invoked from network); 1 Feb 2005 10:42:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Feb 2005 10:42:35 -0000
Received: (qmail 12407 invoked by uid 500); 1 Feb 2005 10:42:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 12378 invoked by uid 500); 1 Feb 2005 10:42:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12351 invoked by uid 99); 1 Feb 2005 10:42:28 -0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=NO_REAL_NAME,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of TheRanger@gmx.net designates 213.165.64.20 as permitted sender)
Received: from mail.gmx.net (HELO mail.gmx.net) (213.165.64.20)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 01 Feb 2005 02:42:26 -0800
Received: (qmail 29179 invoked by uid 0); 1 Feb 2005 10:42:23 -0000
Received: from 193.63.235.44 by www3.gmx.net with HTTP;
	Tue, 1 Feb 2005 11:42:23 +0100 (MET)
Date: Tue, 1 Feb 2005 11:42:23 +0100 (MET)
From: TheRanger@gmx.net
To: "User " <lucene-user@jakarta.apache.org>
MIME-Version: 1.0
Subject: Adding Fields to Document (with same name)
X-Priority: 3 (Normal)
X-Authenticated: #21808356
Message-ID: <30685.1107254543@www3.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

what happens when I add two fields with the same name to one Document?

Document doc = new Document();
doc.add(Field.Text("bla", "this is my first text"));
doc.add(Field.Text("bla", "this is my second text"));

Will the second text overwrite the first, because only one field can be held
with the same name in one document?

Will the first and the second text be merged, when I search in the field bla
(e.g. with query "bla:text") ?

I am working on XML indexing and did not get an error when having repeated
XML fields. Now I am wondering...

Karl

-- 
Sparen beginnt mit GMX DSL: http://www.gmx.net/de/go/dsl

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12838-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 01 10:58:42 2005
Return-Path: <lucene-user-return-12838-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 45525 invoked from network); 1 Feb 2005 10:58:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Feb 2005 10:58:42 -0000
Received: (qmail 46833 invoked by uid 500); 1 Feb 2005 10:58:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 46808 invoked by uid 500); 1 Feb 2005 10:58:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 46794 invoked by uid 99); 1 Feb 2005 10:58:34 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of clamprecht@gmail.com designates 64.233.170.204 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.204)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 01 Feb 2005 02:58:33 -0800
Received: by rproxy.gmail.com with SMTP id z35so980516rne
        for <lucene-user@jakarta.apache.org>; Tue, 01 Feb 2005 02:58:30 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=uZxnTPSVgCgZGViT9GJNZ+voB3nbVUq5Fd52o60clsIVEtVpqoeHAIl7M6CmJTNItmtpPa4PqBiOamKYL6/r3cZQYFHYnp4+bhXdwkjFOmQfT4iiwAsY9syN4IIaH4aI2R2o6/siLjYIiHqKKkJHaUR5yt4TYfBq/Nj0FUD1N8M=
Received: by 10.38.11.15 with SMTP id 15mr184525rnk;
        Tue, 01 Feb 2005 02:58:30 -0800 (PST)
Received: by 10.38.104.43 with HTTP; Tue, 1 Feb 2005 02:58:30 -0800 (PST)
Message-ID: <88c6a67205020102582755c9e9@mail.gmail.com>
Date: Tue, 1 Feb 2005 04:58:30 -0600
From: Chris Lamprecht <clamprecht@gmail.com>
Reply-To: Chris Lamprecht <clamprecht@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Adding Fields to Document (with same name)
In-Reply-To: <30685.1107254543@www3.gmx.net>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <30685.1107254543@www3.gmx.net>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Karl,

>From _Lucene in Action_, section 2.2, when you add the same field with
different values, "Internally, Lucene appends all the words together
and index them in a single Field ..., allowing you to use any of the
given words when searching."

See also http://www.lucenebook.com/search?query=appendable+fields

-chris

On Tue, 1 Feb 2005 11:42:23 +0100 (MET), TheRanger@gmx.net
<TheRanger@gmx.net> wrote:
> Hi,
> 
> what happens when I add two fields with the same name to one Document?
> 
> Document doc = new Document();
> doc.add(Field.Text("bla", "this is my first text"));
> doc.add(Field.Text("bla", "this is my second text"));
> 
> Will the second text overwrite the first, because only one field can be held
> with the same name in one document?
> 
> Will the first and the second text be merged, when I search in the field bla
> (e.g. with query "bla:text") ?
> 
> I am working on XML indexing and did not get an error when having repeated
> XML fields. Now I am wondering...
> 
> Karl
> 
> --
> Sparen beginnt mit GMX DSL: http://www.gmx.net/de/go/dsl
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12839-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 01 11:03:25 2005
Return-Path: <lucene-user-return-12839-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 47815 invoked from network); 1 Feb 2005 11:03:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Feb 2005 11:03:25 -0000
Received: (qmail 57688 invoked by uid 500); 1 Feb 2005 11:03:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 57647 invoked by uid 500); 1 Feb 2005 11:03:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 57632 invoked by uid 99); 1 Feb 2005 11:03:14 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork8.mail.Virginia.EDU (HELO fork8.mail.virginia.edu) (128.143.2.178)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 01 Feb 2005 03:03:13 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork8.mail.virginia.edu (Postfix) with ESMTP id AB2F11F532A
	for <lucene-user@jakarta.apache.org>; Tue,  1 Feb 2005 06:03:11 -0500 (EST)
Received: from fork8.mail.virginia.edu ([127.0.0.1])
 by localhost (fork8.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 03013-08 for <lucene-user@jakarta.apache.org>;
 Tue,  1 Feb 2005 06:03:11 -0500 (EST)
Received: from [192.168.1.102] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by fork8.mail.virginia.edu (Postfix) with ESMTP id 675691F520A
	for <lucene-user@jakarta.apache.org>; Tue,  1 Feb 2005 06:03:11 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <20050201092155.86282.qmail@web15710.mail.cnb.yahoo.com>
References: <20050201092155.86282.qmail@web15710.mail.cnb.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <dd34d6b68907c234849e67dd5c28e14e@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Can I sort search results by score and docID at one time?
Date: Tue, 1 Feb 2005 06:03:16 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-UVA-Virus-Scanned: by amavisd-new at fork8.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Feb 1, 2005, at 4:21 AM, Jingkang Zhang wrote:

> Lucene support sort by score or docID.Now I want to
> sort search results by score and docID or by two
> fields at one time, like sql
> command " order by score,docID" , how can I do it?

Sorting by multiple fields (including score and document id) is 
supported.  Here's an example:

	 new Sort(new SortField[]{
           new SortField("category"),
           SortField.FIELD_SCORE,
           new SortField("pubmonth", SortField.INT, true)
         })



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12840-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 01 13:50:31 2005
Return-Path: <lucene-user-return-12840-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 41116 invoked from network); 1 Feb 2005 13:50:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Feb 2005 13:50:30 -0000
Received: (qmail 99021 invoked by uid 500); 1 Feb 2005 13:50:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 98994 invoked by uid 500); 1 Feb 2005 13:50:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98981 invoked by uid 99); 1 Feb 2005 13:50:20 -0000
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=INFO_TLD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from furl.net (HELO furl.net) (65.125.235.114)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 01 Feb 2005 05:50:19 -0800
Received: from [172.16.125.42] (sv-fw.looksmart.com [64.241.242.18])
	(authenticated bits=0)
	by furl.net (8.12.8/8.12.8) with ESMTP id j11DoFMY005243
	for <lucene-user@jakarta.apache.org>; Tue, 1 Feb 2005 13:50:16 GMT
Message-ID: <41FF88B4.3050709@furl.net>
Date: Tue, 01 Feb 2005 08:48:36 -0500
From: Michael Giles <mgiles@furl.net>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: which HTML parser is better?
References: <20050201091444.32756.qmail@web15702.mail.cnb.yahoo.com>
In-Reply-To: <20050201091444.32756.qmail@web15702.mail.cnb.yahoo.com>
Content-Type: text/plain; charset=GB2312
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

When I tested parsers a year or so ago for intensive use in Furl, the
best (tolerant of bad HTML) and fastest (tested on a 1.5M HTML page)
parser by far was TagSoup ( http://www.tagsoup.info ). It is actively
maintained and improved and I have never had any problems with it.

-Mike

Jingkang Zhang wrote:

>Three HTML parsers(Lucene web application
>demo,CyberNeko HTML Parser,JTidy) are mentioned in
>Lucene FAQ
>1.3.27.Which is the best?Can it filter tags that are
>auto-created by MS-word 'Save As HTML files' function?
>
>_________________________________________________________
>Do You Yahoo!?
>150ÕÚ«˙MP3∑ËøÒÀ—£¨¥¯ƒ˙¥≥»Î“Ù¿÷µÓÃ√
>http://music.yisou.com/
>√¿≈Æ√˜–«”¶”–æ°”–£¨À—±È√¿Õº°¢—ﬁÕº∫Õø·Õº
>http://image.yisou.com
>1GæÕ «1000’◊£¨—≈ª¢µÁ” ◊‘÷˙¿©»›£°
>http://cn.rd.yahoo.com/mail_cn/tag/1g/*http://cn.mail.yahoo.com/event/mail_1g/
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>  
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12841-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 01 14:02:50 2005
Return-Path: <lucene-user-return-12841-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 47405 invoked from network); 1 Feb 2005 14:02:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Feb 2005 14:02:50 -0000
Received: (qmail 31069 invoked by uid 500); 1 Feb 2005 14:02:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 31030 invoked by uid 500); 1 Feb 2005 14:02:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 30998 invoked by uid 99); 1 Feb 2005 14:02:19 -0000
X-ASF-Spam-Status: No, hits=1.6 required=10.0
	tests=FORGED_MUA_IMS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from hades.labone.com (HELO hades.labone.com) (198.70.194.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 01 Feb 2005 06:02:18 -0800
Received: from smsrv.1.24.172.in-addr.arpa by hades.labone.com
          via smtpd (for hermes.apache.org [209.237.227.199]) with ESMTP; Tue, 1 Feb 2005 08:02:08 -0600
From: "Jerry Jalenak" <Jerry.Jalenak@LABONE.com>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Subject: Duplicate Hits
Date: Tue, 1 Feb 2005 08:01:55 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
X-WSS-ID: 6DE1545037248132-01-01
Content-Type: text/plain;
 charset=iso-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Is there a way to eliminate duplicate hits being returned from the index?

Jerry Jalenak
Senior Programmer / Analyst, Web Publishing
LabOne, Inc.
10101 Renner Blvd.
Lenexa, KS  66219
(913) 577-1496

jerry.jalenak@labone.com


This transmission (and any information attached to it) may be confidential and
is intended solely for the use of the individual or entity to which it is
addressed. If you are not the intended recipient or the person responsible for
delivering the transmission to the intended recipient, be advised that you
have received this transmission in error and that any use, dissemination,
forwarding, printing, or copying of this information is strictly prohibited.
If you have received this transmission in error, please immediately notify
LabOne at the following email address: securityincidentreporting@labone.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12842-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 01 14:12:12 2005
Return-Path: <lucene-user-return-12842-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 53291 invoked from network); 1 Feb 2005 14:12:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Feb 2005 14:12:11 -0000
Received: (qmail 60055 invoked by uid 500); 1 Feb 2005 14:11:52 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 59976 invoked by uid 500); 1 Feb 2005 14:11:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 59945 invoked by uid 99); 1 Feb 2005 14:11:52 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from lyra.lunarpages.com (HELO lyra.lunarpages.com) (64.235.230.140)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 01 Feb 2005 06:11:50 -0800
Received: from pd9ff06e3.dip.t-dialin.net ([217.255.6.227] helo=Kelvin)
	by lyra.lunarpages.com with esmtpa (Exim 4.44)
	id 1Cvykr-0001Wl-4t
	for lucene-user@jakarta.apache.org; Tue, 01 Feb 2005 06:11:45 -0800
From:     Kelvin Tan <kelvin-lists@relevanz.com>
To:       Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: Barca 1.1 (840) - Licensed Version
Reply-To: Chris Fraschetti <fraschetti@gmail.com>
Date: Tue, 1 Feb 2005 15:11:18 +0100
Message-ID: <200521151118.235430@Kelvin>
In-Reply-To: <cbdebdf80502010140c80c332@mail.gmail.com>
Subject: Re: lucene docs in bulk read?
Mime-Version: 1.0
Content-Type: text/plain; charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - lyra.lunarpages.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - relevanz.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Chris, are your fields string or reader? How large do your fields get?

Kelvin

On Tue, 1 Feb 2005 01:40:39 -0800, Chris Fraschetti wrote:
>=A0Hey folks.. thanks in advance to any who respond...
>
>=A0I do a good deal of post-search processing and the file io to read
>=A0the fields I need becomes horribly costly and is definitely a
>=A0problem. Is there any way to either retrieve 1. the entire doc (all
>=A0fields that can be retrieved) and/or 2. a group of docs.. specified
>=A0by say an array of doc ids?
>
>=A0I've optimized to retrieve the entire list of fields instead of 1
>=A0by 1.. and also retrieve only the minimal number of fields that I
>=A0can.. but still my profilers show me that the lucene io to read the
>=A0doc fields is where I spend 95% of my time. Of course this is
>=A0obvious given the nature of how it all works.. but can anyone think
>=A0of a better way to go about retrieving docs in bulk? Are the
>=A0different types of fields quicker/slower than others when
>=A0retrieving them from the index?



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12843-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 01 14:35:10 2005
Return-Path: <lucene-user-return-12843-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 83132 invoked from network); 1 Feb 2005 14:35:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Feb 2005 14:35:10 -0000
Received: (qmail 25843 invoked by uid 500); 1 Feb 2005 14:35:02 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 25817 invoked by uid 500); 1 Feb 2005 14:35:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25802 invoked by uid 99); 1 Feb 2005 14:35:02 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork12.mail.Virginia.EDU (HELO fork12.mail.virginia.edu) (128.143.2.182)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 01 Feb 2005 06:35:00 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork12.mail.virginia.edu (Postfix) with ESMTP id 599F11F532B
	for <lucene-user@jakarta.apache.org>; Tue,  1 Feb 2005 09:34:58 -0500 (EST)
Received: from fork12.mail.virginia.edu ([127.0.0.1])
 by localhost (fork12.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 30774-05 for <lucene-user@jakarta.apache.org>;
 Tue,  1 Feb 2005 09:34:58 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by fork12.mail.virginia.edu (Postfix) with ESMTP id 0A1CA1F5306
	for <lucene-user@jakarta.apache.org>; Tue,  1 Feb 2005 09:34:57 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <20050201140246.B19FC13E2900@ehatchersolutions.com>
References: <20050201140246.B19FC13E2900@ehatchersolutions.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <fc72ff4409bded4ce4b6c3777e2bbc35@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Duplicate Hits
Date: Tue, 1 Feb 2005 09:35:04 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-UVA-Virus-Scanned: by amavisd-new at fork12.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Feb 1, 2005, at 9:01 AM, Jerry Jalenak wrote:
> Is there a way to eliminate duplicate hits being returned from the 
> index?

Sure, don't put duplicate documents in the index :)

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12844-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 01 14:49:59 2005
Return-Path: <lucene-user-return-12844-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 90349 invoked from network); 1 Feb 2005 14:49:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Feb 2005 14:49:59 -0000
Received: (qmail 66937 invoked by uid 500); 1 Feb 2005 14:49:52 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 66911 invoked by uid 500); 1 Feb 2005 14:49:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 66896 invoked by uid 99); 1 Feb 2005 14:49:51 -0000
X-ASF-Spam-Status: No, hits=1.6 required=10.0
	tests=FORGED_MUA_IMS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from hades.labone.com (HELO hades.labone.com) (198.70.194.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 01 Feb 2005 06:49:50 -0800
Received: from smsrv.1.24.172.in-addr.arpa by hades.labone.com
          via smtpd (for hermes.apache.org [209.237.227.199]) with ESMTP; Tue, 1 Feb 2005 08:49:43 -0600
From: "Jerry Jalenak" <Jerry.Jalenak@LABONE.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Duplicate Hits
Date: Tue, 1 Feb 2005 08:49:33 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
X-WSS-ID: 6DE1488F37253799-01-01
Content-Type: text/plain;
 charset=iso-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Ok, OK.  Should have that response coming  8-)

The documents I'm indexing are sent from a legacy system, and can be sent
multiple times - but I only want to keep the documents if something has
changed.  If the indexed fields match exactly, I don't want to index the
second (or third, forth, etc) documents.  If the indexed fields have
changed, then I want to index the 'new' document, and keep it.

Given Erik's response of 'don't put duplicate documents in the index', how
can I accomplish this in the IndexWriter?

Jerry Jalenak
Senior Programmer / Analyst, Web Publishing
LabOne, Inc.
10101 Renner Blvd.
Lenexa, KS  66219
(913) 577-1496

jerry.jalenak@labone.com


-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
Sent: Tuesday, February 01, 2005 8:35 AM
To: Lucene Users List
Subject: Re: Duplicate Hits


On Feb 1, 2005, at 9:01 AM, Jerry Jalenak wrote:
> Is there a way to eliminate duplicate hits being returned from the 
> index?

Sure, don't put duplicate documents in the index :)

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


This transmission (and any information attached to it) may be confidential and
is intended solely for the use of the individual or entity to which it is
addressed. If you are not the intended recipient or the person responsible for
delivering the transmission to the intended recipient, be advised that you
have received this transmission in error and that any use, dissemination,
forwarding, printing, or copying of this information is strictly prohibited.
If you have received this transmission in error, please immediately notify
LabOne at the following email address: securityincidentreporting@labone.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12845-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 01 15:01:50 2005
Return-Path: <lucene-user-return-12845-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 97479 invoked from network); 1 Feb 2005 15:01:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Feb 2005 15:01:50 -0000
Received: (qmail 4865 invoked by uid 500); 1 Feb 2005 15:01:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 4825 invoked by uid 500); 1 Feb 2005 15:01:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4809 invoked by uid 99); 1 Feb 2005 15:01:41 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from keys.webasto.de (HELO keys1.webasto.de) (194.59.2.36)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 01 Feb 2005 07:01:40 -0800
Received: from sdestopgp1out.svc.de.web-int.net by keys1.webasto.de
          via smtpd (for hermes.apache.org [209.237.227.199]) with ESMTP; Tue, 1 Feb 2005 16:01:39 +0100
Received: from keys1.webasto.de (loopback [127.0.0.1])
	by keys.webasto.de (Postfix) with ESMTP id 37EB2256FF8
	for <lucene-user@jakarta.apache.org>; Tue,  1 Feb 2005 16:01:37 +0100 (CET)
Received: from sdestoex4.svc.de.web-int.net ([192.168.205.32])
  by keys1.webasto.de (PGP Universal service);
  Tue, 01 Feb 2005 16:01:37 +0100
Received: from sdestoex4.sto.de.web-int.net by sdestoex4.svc.de.web-int.net
          via smtpd (for sdestopgp1int.svc.de.web-int.net [192.168.205.101]) with ESMTP; Tue, 1 Feb 2005 16:01:37 +0100
Received: from sdestoex1.sto.de.web-int.net ([172.16.254.10]) by sdestoex4.de.web-int.net with Microsoft SMTPSVC(5.0.2195.6713);
	 Tue, 1 Feb 2005 16:01:37 +0100
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C5086E.ED2152F3"
X-MimeOLE: Produced By Microsoft Exchange V6.0.6556.0
Subject: User Rights Management in Lucene
Date: Tue, 1 Feb 2005 16:01:36 +0100
Message-ID: <74383351CFF58D46848149F70E226D51889BFF@sdestoex1.sto.de.web-int.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: User Rights Management in Lucene
Thread-Index: AcUIbuzjUTwOMpRyQ52P4S66QLBZlA==
From: "Verma Atul (extern)" <AVerma@Webasto.de>
To: <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 01 Feb 2005 15:01:37.0241 (UTC) FILETIME=[ED68A490:01C5086E]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C5086E.ED2152F3
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable

Hi,

I'm new to Lucene and want to know, whether Lucene has the capability of
displaying the search results based the Users Rights.

For Example:

There are suppose some resources, like :

Resource 1
Resource 2
Resource 3
Resource 4

And there are say 2 users with=20

User 1 having access to Resource 1, Resource 2 and Resource 4; and User
2 having access to Resource 1 and Resource 3

So when User 1 searches the database, then he should get results from
Resource 1, 2 and 4, but

When User 2 searches the databse, then he should get results from
Resource 1 and 3.

Regards
Atul Verma

------_=_NextPart_001_01C5086E.ED2152F3--

From lucene-user-return-12846-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 01 15:05:32 2005
Return-Path: <lucene-user-return-12846-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 99687 invoked from network); 1 Feb 2005 15:05:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Feb 2005 15:05:32 -0000
Received: (qmail 14543 invoked by uid 500); 1 Feb 2005 15:05:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 14514 invoked by uid 500); 1 Feb 2005 15:05:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 14499 invoked by uid 99); 1 Feb 2005 15:05:25 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of petite.abeille@gmail.com designates 64.233.184.206 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.206)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 01 Feb 2005 07:05:24 -0800
Received: by wproxy.gmail.com with SMTP id 71so1105542wri
        for <lucene-user@jakarta.apache.org>; Tue, 01 Feb 2005 07:05:13 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=OX3ubrE3eZWhl7Mf31WLvFJa4sxscLTOwrs6MfXCnBvJYoCejDOZbWN20XKfv8R7bp20cc5TflxcZnuIkaFees4QfPJkB8T9DfQ2SGhnauvwiWhE4HP/a4AmRjRC8tK2eNh4YOt0aC0O3M9kYn+9170UDfYnPTwyColRSvaFfDI=
Received: by 10.54.26.74 with SMTP id 74mr338623wrz;
        Tue, 01 Feb 2005 07:05:13 -0800 (PST)
Received: from ?10.0.1.19? ([62.167.68.59])
        by smtp.gmail.com with ESMTP id 45sm294593wri.2005.02.01.07.05.12;
        Tue, 01 Feb 2005 07:05:13 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <74383351CFF58D46848149F70E226D51889BFF@sdestoex1.sto.de.web-int.net>
References: <74383351CFF58D46848149F70E226D51889BFF@sdestoex1.sto.de.web-int.net>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <68518120054a418d1585ded7957206d5@gmail.com>
Content-Transfer-Encoding: 7bit
From: PA <petite.abeille@gmail.com>
Subject: Re: User Rights Management in Lucene
Date: Tue, 1 Feb 2005 16:05:39 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Feb 01, 2005, at 16:01, Verma Atul (extern) wrote:

> I'm new to Lucene and want to know, whether Lucene has the capability 
> of
> displaying the search results based the Users Rights.

Not by itself. But you can make it so.

Cheers

--
PA, Onnay Equitursay
http://alt.textdrive.com/


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12847-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 01 15:06:15 2005
Return-Path: <lucene-user-return-12847-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 99930 invoked from network); 1 Feb 2005 15:06:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Feb 2005 15:06:15 -0000
Received: (qmail 17566 invoked by uid 500); 1 Feb 2005 15:06:03 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 17364 invoked by uid 500); 1 Feb 2005 15:06:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17325 invoked by uid 99); 1 Feb 2005 15:06:02 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from 66-7-226-62.cust.telepacific.net (HELO hagrid.scalix.local) (66.7.226.62)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 01 Feb 2005 07:06:00 -0800
Received: from hagrid.scalix.local (localhost.localdomain [127.0.0.1])
	by hagrid.scalix.local (8.12.11/8.12.11) with ESMTP id j11EvHG8029015
	for <lucene-user@jakarta.apache.org>; Tue, 1 Feb 2005 06:57:17 -0800
Received: from hagrid.scalix.local (root@localhost)
	by hagrid.scalix.local (8.12.11/8.12.11/Submit) with ESMTP id j11EvHdR029013
	for <lucene-user@jakarta.apache.org>; Tue, 1 Feb 2005 06:57:17 -0800
Received: from [10.11.108.24] (snorlax.uk.scalix.com 10.11.108.216)
    by snorlax.uk.scalix.com (Scalix SMTP Relay 9.2.0.102)
    via ESMTP; Tue, 01 Feb 2005 15:05:56 +0000 (GMT)
Date: Tue, 1 Feb 2005 15:05:50 +0000
From: John Haxby <jch@scalix.com>
Sender: John Haxby <jch@scalix.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-ID: <41FF9ACE.5050000@scalix.com>
In-Reply-To: <200502011437.j11EblfK021561@gateway.scalix.local>
References: <200502011437.j11EblfK021561@gateway.scalix.local>
Subject: Re: Duplicate Hits
x-scalix-Hops: 3
User-Agent: Mozilla Thunderbird 0.9 (X11/20041127)
X-Accept-Language: en-us, en
MIME-Version: 1.0
Content-Type: text/plain;
	charset="ISO-8859-1";
	format="flowed"
Content-Disposition: inline
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Jerry Jalenak wrote:

>Given Erik's response of 'don't put duplicate documents in the index', how
>can I accomplish this in the IndexWriter?
>  
>
I was dealing with a similar requirement recently.   I eventually 
decided on storing the MD5 checksum of the document as a keyword.   It 
means reading it twice (once to calculate the checksum, once to index 
it), but it seems to do the trick.

jch

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12848-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 01 15:07:40 2005
Return-Path: <lucene-user-return-12848-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 657 invoked from network); 1 Feb 2005 15:07:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Feb 2005 15:07:40 -0000
Received: (qmail 22469 invoked by uid 500); 1 Feb 2005 15:07:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 22438 invoked by uid 500); 1 Feb 2005 15:07:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22425 invoked by uid 99); 1 Feb 2005 15:07:30 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from keys.webasto.de (HELO server1.webasto.de) (194.59.2.36)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 01 Feb 2005 07:07:30 -0800
Received: from sdestopgp1out.svc.de.web-int.net by server1.webasto.de
          via smtpd (for hermes.apache.org [209.237.227.199]) with ESMTP; Tue, 1 Feb 2005 16:07:29 +0100
Received: from keys1.webasto.de (loopback [127.0.0.1])
	by keys.webasto.de (Postfix) with ESMTP id 35787256FF9
	for <lucene-user@jakarta.apache.org>; Tue,  1 Feb 2005 16:07:27 +0100 (CET)
Received: from sdestoex2.svc.de.web-int.net ([192.168.205.22])
  by keys1.webasto.de (PGP Universal service);
  Tue, 01 Feb 2005 16:07:27 +0100
Received: from mailhub.wan.de.web-int.net by sdestoex2.svc.de.web-int.net
          via smtpd (for sdestopgp1int.svc.de.web-int.net [192.168.205.101]) with ESMTP; Tue, 1 Feb 2005 16:07:27 +0100
Received: from sdestoex1.sto.de.web-int.net ([172.16.254.10]) by sdestoex2.de.web-int.net with Microsoft SMTPSVC(6.0.3790.211);
	 Tue, 1 Feb 2005 16:07:26 +0100
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.0.6556.0
Subject: RE: User Rights Management in Lucene
Date: Tue, 1 Feb 2005 16:07:26 +0100
Message-ID: <74383351CFF58D46848149F70E226D51889C0B@sdestoex1.sto.de.web-int.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: User Rights Management in Lucene
Thread-Index: AcUIb3sYR3CYZgMHTcqUmb3BgZf6XAAABKjQ
From: "Verma Atul (extern)" <AVerma@Webasto.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 01 Feb 2005 15:07:26.0658 (UTC) FILETIME=[BDAD7220:01C5086F]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks for the help. This means that the User management has to be done
over Lucene.

-----Original Message-----
From: PA [mailto:petite.abeille@gmail.com]=20
Sent: Tuesday, February 01, 2005 4:06 PM
To: Lucene Users List
Subject: Re: User Rights Management in Lucene


On Feb 01, 2005, at 16:01, Verma Atul (extern) wrote:

> I'm new to Lucene and want to know, whether Lucene has the capability=20
> of
> displaying the search results based the Users Rights.

Not by itself. But you can make it so.

Cheers

--
PA, Onnay Equitursay
http://alt.textdrive.com/


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12849-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 01 15:14:51 2005
Return-Path: <lucene-user-return-12849-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 4202 invoked from network); 1 Feb 2005 15:14:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Feb 2005 15:14:51 -0000
Received: (qmail 47213 invoked by uid 500); 1 Feb 2005 15:14:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 47178 invoked by uid 500); 1 Feb 2005 15:14:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 47156 invoked by uid 99); 1 Feb 2005 15:14:41 -0000
X-ASF-Spam-Status: No, hits=1.6 required=10.0
	tests=FORGED_MUA_IMS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from hades.labone.com (HELO hades.labone.com) (198.70.194.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 01 Feb 2005 07:14:40 -0800
Received: from smsrv.1.24.172.in-addr.arpa by hades.labone.com
          via smtpd (for hermes.apache.org [209.237.227.199]) with ESMTP; Tue, 1 Feb 2005 09:14:33 -0600
From: "Jerry Jalenak" <Jerry.Jalenak@LABONE.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Duplicate Hits
Date: Tue, 1 Feb 2005 09:14:11 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
X-WSS-ID: 6DE1435A37258344-02-01
Content-Type: text/plain;
 charset=iso-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Nice idea John - one I hadn't considered.  Once you have the checksum, do
you 'check' in the index first before storing the second document?  Or do
you filter on the query side?

Jerry Jalenak
Senior Programmer / Analyst, Web Publishing
LabOne, Inc.
10101 Renner Blvd.
Lenexa, KS  66219
(913) 577-1496

jerry.jalenak@labone.com


-----Original Message-----
From: John Haxby [mailto:jch@scalix.com]
Sent: Tuesday, February 01, 2005 9:06 AM
To: Lucene Users List
Subject: Re: Duplicate Hits


Jerry Jalenak wrote:

>Given Erik's response of 'don't put duplicate documents in the index', how
>can I accomplish this in the IndexWriter?
>  
>
I was dealing with a similar requirement recently.   I eventually 
decided on storing the MD5 checksum of the document as a keyword.   It 
means reading it twice (once to calculate the checksum, once to index 
it), but it seems to do the trick.

jch

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


This transmission (and any information attached to it) may be confidential and
is intended solely for the use of the individual or entity to which it is
addressed. If you are not the intended recipient or the person responsible for
delivering the transmission to the intended recipient, be advised that you
have received this transmission in error and that any use, dissemination,
forwarding, printing, or copying of this information is strictly prohibited.
If you have received this transmission in error, please immediately notify
LabOne at the following email address: securityincidentreporting@labone.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12850-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 01 15:15:04 2005
Return-Path: <lucene-user-return-12850-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 4313 invoked from network); 1 Feb 2005 15:15:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Feb 2005 15:15:03 -0000
Received: (qmail 48327 invoked by uid 500); 1 Feb 2005 15:14:52 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 48290 invoked by uid 500); 1 Feb 2005 15:14:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 48247 invoked by uid 99); 1 Feb 2005 15:14:51 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of petite.abeille@gmail.com designates 64.233.184.203 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.203)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 01 Feb 2005 07:14:51 -0800
Received: by wproxy.gmail.com with SMTP id 71so1107548wri
        for <lucene-user@jakarta.apache.org>; Tue, 01 Feb 2005 07:14:45 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=oJUwDivFA6vhuZQ1IwxKgZ7YWrWoq6h9RvZhSyTVLDy+rTnSlkpq5N8fFqk9H3LFJ64wxtQNJM07NVeymUfe4YcVRavrX3CGfsomT1UPXcE7M74QvWexQuXhSNBJSGWHxRMmOmkf6Ki5KKXCMT3Bb1g7Oql66v8H6opjFT3rq4A=
Received: by 10.54.51.33 with SMTP id y33mr226439wry;
        Tue, 01 Feb 2005 07:14:44 -0800 (PST)
Received: from ?10.0.1.19? ([62.167.68.59])
        by smtp.gmail.com with ESMTP id 65sm164521wra.2005.02.01.07.14.44;
        Tue, 01 Feb 2005 07:14:44 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <74383351CFF58D46848149F70E226D51889C0B@sdestoex1.sto.de.web-int.net>
References: <74383351CFF58D46848149F70E226D51889C0B@sdestoex1.sto.de.web-int.net>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <6941de66f5f1ac180cb7e180470d3101@gmail.com>
Content-Transfer-Encoding: 7bit
From: PA <petite.abeille@gmail.com>
Subject: Re: User Rights Management in Lucene
Date: Tue, 1 Feb 2005 16:13:59 +0100
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Feb 01, 2005, at 16:07, Verma Atul (extern) wrote:

> Thanks for the help. This means that the User management has to be done
> over Lucene.

Your choice. But in a nutshell, yes.

Cheers

--
PA, Onnay Equitursay
http://alt.textdrive.com/


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12851-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 01 15:15:13 2005
Return-Path: <lucene-user-return-12851-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 4427 invoked from network); 1 Feb 2005 15:15:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Feb 2005 15:15:13 -0000
Received: (qmail 48401 invoked by uid 500); 1 Feb 2005 15:14:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 48313 invoked by uid 500); 1 Feb 2005 15:14:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 48281 invoked by uid 99); 1 Feb 2005 15:14:52 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork9.mail.Virginia.EDU (HELO fork9.mail.virginia.edu) (128.143.2.179)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 01 Feb 2005 07:14:50 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork9.mail.virginia.edu (Postfix) with ESMTP id 173BC1F518F
	for <lucene-user@jakarta.apache.org>; Tue,  1 Feb 2005 10:14:48 -0500 (EST)
Received: from fork9.mail.virginia.edu ([127.0.0.1])
 by localhost (fork9.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 14973-04 for <lucene-user@jakarta.apache.org>;
 Tue,  1 Feb 2005 10:14:47 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by fork9.mail.virginia.edu (Postfix) with ESMTP id BFD031F52B6
	for <lucene-user@jakarta.apache.org>; Tue,  1 Feb 2005 10:14:47 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <20050201144957.1D66213E2900@ehatchersolutions.com>
References: <20050201144957.1D66213E2900@ehatchersolutions.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <76d6129ab7d58e1c6827417839b93bfd@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Duplicate Hits
Date: Tue, 1 Feb 2005 10:14:54 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-UVA-Virus-Scanned: by amavisd-new at fork9.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Feb 1, 2005, at 9:49 AM, Jerry Jalenak wrote:
> Given Erik's response of 'don't put duplicate documents in the index', 
> how
> can I accomplish this in the IndexWriter?

As John said - you'll have to come up with some way of knowing whether 
you should index or not.  For example, when dealing with filesystem 
files, the Ant <index> task (in the sandbox) checks last modified date 
and only indexes new files.

Using a unique id on your data (primary key from a DB, URL from web 
pages, etc) is generally what people use for this.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12852-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 01 15:15:23 2005
Return-Path: <lucene-user-return-12852-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 4513 invoked from network); 1 Feb 2005 15:15:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Feb 2005 15:15:23 -0000
Received: (qmail 49746 invoked by uid 500); 1 Feb 2005 15:15:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 49665 invoked by uid 500); 1 Feb 2005 15:15:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 49583 invoked by uid 99); 1 Feb 2005 15:15:04 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of petite.abeille@gmail.com designates 64.233.184.194 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.194)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 01 Feb 2005 07:15:03 -0800
Received: by wproxy.gmail.com with SMTP id 55so1125417wri
        for <lucene-user@jakarta.apache.org>; Tue, 01 Feb 2005 07:14:55 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=i4YKQORA1PgsuMotSwGIeLxwQMHWlris3JKz60W9/rZmDV6+fZbH9jFwaE4SB0tLO/UaL0uBXrO1tt2LVMd1tiKgICI23EDznP4SsCgPyntIEjD9CEcfk53GU+iYsPL+LmeIdCp39nZI8RcxDY6lproonVdDlml2ecOSY4cyvq0=
Received: by 10.54.54.78 with SMTP id c78mr136454wra;
        Tue, 01 Feb 2005 07:14:50 -0800 (PST)
Received: from ?10.0.1.19? ([62.167.68.59])
        by smtp.gmail.com with ESMTP id 35sm332491wra.2005.02.01.07.13.32;
        Tue, 01 Feb 2005 07:13:33 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <74383351CFF58D46848149F70E226D51889C0B@sdestoex1.sto.de.web-int.net>
References: <74383351CFF58D46848149F70E226D51889C0B@sdestoex1.sto.de.web-int.net>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <6941de66f5f1ac180cb7e180470d3101@gmail.com>
Content-Transfer-Encoding: 7bit
From: PA <petite.abeille@gmail.com>
Subject: Re: User Rights Management in Lucene
Date: Tue, 1 Feb 2005 16:13:59 +0100
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Feb 01, 2005, at 16:07, Verma Atul (extern) wrote:

> Thanks for the help. This means that the User management has to be done
> over Lucene.

Your choice. But in a nutshell, yes.

Cheers

--
PA, Onnay Equitursay
http://alt.textdrive.com/


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12853-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 01 15:19:13 2005
Return-Path: <lucene-user-return-12853-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 6929 invoked from network); 1 Feb 2005 15:19:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Feb 2005 15:19:13 -0000
Received: (qmail 58684 invoked by uid 500); 1 Feb 2005 15:19:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 58659 invoked by uid 500); 1 Feb 2005 15:19:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 58643 invoked by uid 99); 1 Feb 2005 15:19:07 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork11.mail.Virginia.EDU (HELO fork11.mail.virginia.edu) (128.143.2.181)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 01 Feb 2005 07:19:06 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork11.mail.virginia.edu (Postfix) with ESMTP id 5BED21F51DC
	for <lucene-user@jakarta.apache.org>; Tue,  1 Feb 2005 10:19:04 -0500 (EST)
Received: from fork11.mail.virginia.edu ([127.0.0.1])
 by localhost (fork11.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 11220-01 for <lucene-user@jakarta.apache.org>;
 Tue,  1 Feb 2005 10:19:04 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by fork11.mail.virginia.edu (Postfix) with ESMTP id 082A01F5206
	for <lucene-user@jakarta.apache.org>; Tue,  1 Feb 2005 10:19:03 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <74383351CFF58D46848149F70E226D51889BFF@sdestoex1.sto.de.web-int.net>
References: <74383351CFF58D46848149F70E226D51889BFF@sdestoex1.sto.de.web-int.net>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <0a2934b16c73dec0ef9b653a35581760@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: User Rights Management in Lucene
Date: Tue, 1 Feb 2005 10:19:10 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-UVA-Virus-Scanned: by amavisd-new at fork11.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Feb 1, 2005, at 10:01 AM, Verma Atul (extern) wrote:

> Hi,
>
> I'm new to Lucene and want to know, whether Lucene has the capability 
> of
> displaying the search results based the Users Rights.
>
> For Example:
>
> There are suppose some resources, like :
>
> Resource 1
> Resource 2
> Resource 3
> Resource 4
>
> And there are say 2 users with
>
> User 1 having access to Resource 1, Resource 2 and Resource 4; and User
> 2 having access to Resource 1 and Resource 3
>
> So when User 1 searches the database, then he should get results from
> Resource 1, 2 and 4, but
>
> When User 2 searches the databse, then he should get results from
> Resource 1 and 3.

Lucene in Action has a SecurityFilterTest example (grab the source code 
distribution).  You can see a glimpse of this here:

	http://www.lucenebook.com/search?query=security

So yes, its possible to index a username or roles alongside each 
document and apply that criteria to any search a user makes such that a 
user only gets documents allowed.  How complex this gets depends on how 
you need the permissions to work - the LIA example is rudimentary and 
simply associates an "owner" with each document and users are only 
allowed to see the documents they own.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12854-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 01 15:39:40 2005
Return-Path: <lucene-user-return-12854-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 17367 invoked from network); 1 Feb 2005 15:39:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Feb 2005 15:39:40 -0000
Received: (qmail 96375 invoked by uid 500); 1 Feb 2005 15:39:33 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 96350 invoked by uid 500); 1 Feb 2005 15:39:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 96337 invoked by uid 99); 1 Feb 2005 15:39:33 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from 66-7-226-62.cust.telepacific.net (HELO hagrid.scalix.local) (66.7.226.62)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 01 Feb 2005 07:39:32 -0800
Received: from hagrid.scalix.local (localhost.localdomain [127.0.0.1])
	by hagrid.scalix.local (8.12.11/8.12.11) with ESMTP id j11FUnJN029590
	for <lucene-user@jakarta.apache.org>; Tue, 1 Feb 2005 07:30:49 -0800
Received: from hagrid.scalix.local (root@localhost)
	by hagrid.scalix.local (8.12.11/8.12.11/Submit) with ESMTP id j11FUmLE029588
	for <lucene-user@jakarta.apache.org>; Tue, 1 Feb 2005 07:30:49 -0800
Received: from [10.11.108.24] (snorlax.uk.scalix.com 10.11.108.216)
    by snorlax.uk.scalix.com (Scalix SMTP Relay 9.2.0.102)
    via ESMTP; Tue, 01 Feb 2005 15:39:28 +0000 (GMT)
Date: Tue, 1 Feb 2005 15:39:22 +0000
From: John Haxby <jch@scalix.com>
Sender: John Haxby <jch@scalix.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-ID: <41FFA2AA.8070802@scalix.com>
In-Reply-To: <200502011502.j11F2c1l021637@gateway.scalix.local>
References: <200502011502.j11F2c1l021637@gateway.scalix.local>
Subject: Re: Duplicate Hits
x-scalix-Hops: 3
User-Agent: Mozilla Thunderbird 0.9 (X11/20041127)
X-Accept-Language: en-us, en
MIME-Version: 1.0
Content-Type: text/plain;
	charset="ISO-8859-1";
	format="flowed"
Content-Disposition: inline
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Jerry Jalenak wrote:

>Nice idea John - one I hadn't considered.  Once you have the checksum, do
>you 'check' in the index first before storing the second document?  Or do
>you filter on the query side?
>  
>
I do a quick search for the md5 checksum before indexing.

Although I suspect not applicable in your case, I also maintained a 
"last time something was indexed" time alongside the index.  I used this 
to drastically prune the number of documents that needed to be 
considered for indexing if I restarted; anything modified before then 
wasn't a candidate.  Since the MD5 checksum provides the definitive (for 
a sufficiently loose definition of definitive) indication of whether a 
document is indexed I didn't need to worry about ultra-fine granularity 
in the time stamp and I didn't need to worry about it being committed to 
disk; it generally got committed to the magnetic stuff every few seconds 
or so.

It does help a lot though if documents have nice unique identifiers that 
you can use instead, then you can use the identifier and the last 
modified time to decide whether or not to re-index.

jch

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12855-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 01 15:42:46 2005
Return-Path: <lucene-user-return-12855-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 18836 invoked from network); 1 Feb 2005 15:42:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Feb 2005 15:42:46 -0000
Received: (qmail 2106 invoked by uid 500); 1 Feb 2005 15:42:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 2080 invoked by uid 500); 1 Feb 2005 15:42:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2066 invoked by uid 99); 1 Feb 2005 15:42:40 -0000
X-ASF-Spam-Status: No, hits=1.6 required=10.0
	tests=FORGED_MUA_IMS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from hades.labone.com (HELO hades.labone.com) (198.70.194.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 01 Feb 2005 07:42:39 -0800
Received: from smsrv.1.24.172.in-addr.arpa by hades.labone.com
          via smtpd (for hermes.apache.org [209.237.227.199]) with ESMTP; Tue, 1 Feb 2005 09:42:32 -0600
From: "Jerry Jalenak" <Jerry.Jalenak@LABONE.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Duplicate Hits
Date: Tue, 1 Feb 2005 09:42:09 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
X-WSS-ID: 6DE17CD637262209-01-01
Content-Type: text/plain;
 charset=iso-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Just to make sure I understand....

Do you keep an IndexReader open at the same time you are running the
IndexWriter?  From what I can see in the JavaDocs, it looks like only
IndexReader (or IndexSearch) can peek into the index and see if a document
exists or not....

Thanks!

Jerry Jalenak
Senior Programmer / Analyst, Web Publishing
LabOne, Inc.
10101 Renner Blvd.
Lenexa, KS  66219
(913) 577-1496

jerry.jalenak@labone.com


-----Original Message-----
From: John Haxby [mailto:jch@scalix.com]
Sent: Tuesday, February 01, 2005 9:39 AM
To: Lucene Users List
Subject: Re: Duplicate Hits


Jerry Jalenak wrote:

>Nice idea John - one I hadn't considered.  Once you have the checksum, do
>you 'check' in the index first before storing the second document?  Or do
>you filter on the query side?
>  
>
I do a quick search for the md5 checksum before indexing.

Although I suspect not applicable in your case, I also maintained a 
"last time something was indexed" time alongside the index.  I used this 
to drastically prune the number of documents that needed to be 
considered for indexing if I restarted; anything modified before then 
wasn't a candidate.  Since the MD5 checksum provides the definitive (for 
a sufficiently loose definition of definitive) indication of whether a 
document is indexed I didn't need to worry about ultra-fine granularity 
in the time stamp and I didn't need to worry about it being committed to 
disk; it generally got committed to the magnetic stuff every few seconds 
or so.

It does help a lot though if documents have nice unique identifiers that 
you can use instead, then you can use the identifier and the last 
modified time to decide whether or not to re-index.

jch

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


This transmission (and any information attached to it) may be confidential and
is intended solely for the use of the individual or entity to which it is
addressed. If you are not the intended recipient or the person responsible for
delivering the transmission to the intended recipient, be advised that you
have received this transmission in error and that any use, dissemination,
forwarding, printing, or copying of this information is strictly prohibited.
If you have received this transmission in error, please immediately notify
LabOne at the following email address: securityincidentreporting@labone.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12856-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 01 15:47:49 2005
Return-Path: <lucene-user-return-12856-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 21853 invoked from network); 1 Feb 2005 15:47:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Feb 2005 15:47:48 -0000
Received: (qmail 13763 invoked by uid 500); 1 Feb 2005 15:47:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 13726 invoked by uid 500); 1 Feb 2005 15:47:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13701 invoked by uid 99); 1 Feb 2005 15:47:40 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from 66-7-226-62.cust.telepacific.net (HELO hagrid.scalix.local) (66.7.226.62)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 01 Feb 2005 07:47:40 -0800
Received: from hagrid.scalix.local (localhost.localdomain [127.0.0.1])
	by hagrid.scalix.local (8.12.11/8.12.11) with ESMTP id j11Fcv5f029641
	for <lucene-user@jakarta.apache.org>; Tue, 1 Feb 2005 07:38:57 -0800
Received: from hagrid.scalix.local (root@localhost)
	by hagrid.scalix.local (8.12.11/8.12.11/Submit) with ESMTP id j11Fcv1l029639
	for <lucene-user@jakarta.apache.org>; Tue, 1 Feb 2005 07:38:57 -0800
Received: from [10.11.108.24] (snorlax.uk.scalix.com 10.11.108.216)
    by snorlax.uk.scalix.com (Scalix SMTP Relay 9.2.0.102)
    via ESMTP; Tue, 01 Feb 2005 15:47:36 +0000 (GMT)
Date: Tue, 1 Feb 2005 15:47:30 +0000
From: John Haxby <jch@scalix.com>
Sender: John Haxby <jch@scalix.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-ID: <41FFA492.4090305@scalix.com>
In-Reply-To: <200502011530.j11FUYSO021705@gateway.scalix.local>
References: <200502011530.j11FUYSO021705@gateway.scalix.local>
Subject: Re: Duplicate Hits
x-scalix-Hops: 3
User-Agent: Mozilla Thunderbird 0.9 (X11/20041127)
X-Accept-Language: en-us, en
MIME-Version: 1.0
Content-Type: text/plain;
	charset="ISO-8859-1";
	format="flowed"
Content-Disposition: inline
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Jerry Jalenak wrote:

>Just to make sure I understand....
>
>Do you keep an IndexReader open at the same time you are running the
>IndexWriter?  From what I can see in the JavaDocs, it looks like only
>IndexReader (or IndexSearch) can peek into the index and see if a document
>exists or not....
>  
>
I slightly misled you: it wasn't Lucene that I was using at the time and 
in that system the distinction between IndexReader and IndexWriter 
didn't exist.   I'm just getting to grips with Lucene really but it 
would seem to be possible to use a similar scheme, especially if you 
batch up your documents for indexing: as they come in, check the md5 
checksum against what's already known and what's already queued and then 
when the time comes to process the queue you know what you've got needs 
to be indexed.

jch

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12857-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 01 15:51:46 2005
Return-Path: <lucene-user-return-12857-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 23860 invoked from network); 1 Feb 2005 15:51:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Feb 2005 15:51:46 -0000
Received: (qmail 22347 invoked by uid 500); 1 Feb 2005 15:51:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 22323 invoked by uid 500); 1 Feb 2005 15:51:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22310 invoked by uid 99); 1 Feb 2005 15:51:41 -0000
X-ASF-Spam-Status: No, hits=1.6 required=10.0
	tests=FORGED_MUA_IMS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from hades.labone.com (HELO hades.labone.com) (198.70.194.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 01 Feb 2005 07:51:39 -0800
Received: from smsrv.1.24.172.in-addr.arpa by hades.labone.com
          via smtpd (for hermes.apache.org [209.237.227.199]) with ESMTP; Tue, 1 Feb 2005 09:51:33 -0600
From: "Jerry Jalenak" <Jerry.Jalenak@LABONE.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Duplicate Hits
Date: Tue, 1 Feb 2005 09:51:09 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2657.72)
X-WSS-ID: 6DE17AF537263515-01-01
Content-Type: text/plain;
 charset=iso-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

OK - but I'm dealing with indexing between 1.5 and 2 million documents, so I
really don't want to 'batch' them up if I can avoid it.  And I also don't
think I can keep an IndexRead open to the index at the same time I have an
IndexWriter open.  I may have to try and deal with this issue through some
sort of filter on the query side, provided it doesn't impact performance to
much.

Thanks.

Jerry Jalenak
Senior Programmer / Analyst, Web Publishing
LabOne, Inc.
10101 Renner Blvd.
Lenexa, KS  66219
(913) 577-1496

jerry.jalenak@labone.com


-----Original Message-----
From: John Haxby [mailto:jch@scalix.com]
Sent: Tuesday, February 01, 2005 9:48 AM
To: Lucene Users List
Subject: Re: Duplicate Hits


Jerry Jalenak wrote:

>Just to make sure I understand....
>
>Do you keep an IndexReader open at the same time you are running the
>IndexWriter?  From what I can see in the JavaDocs, it looks like only
>IndexReader (or IndexSearch) can peek into the index and see if a document
>exists or not....
>  
>
I slightly misled you: it wasn't Lucene that I was using at the time and 
in that system the distinction between IndexReader and IndexWriter 
didn't exist.   I'm just getting to grips with Lucene really but it 
would seem to be possible to use a similar scheme, especially if you 
batch up your documents for indexing: as they come in, check the md5 
checksum against what's already known and what's already queued and then 
when the time comes to process the queue you know what you've got needs 
to be indexed.

jch

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


This transmission (and any information attached to it) may be confidential and
is intended solely for the use of the individual or entity to which it is
addressed. If you are not the intended recipient or the person responsible for
delivering the transmission to the intended recipient, be advised that you
have received this transmission in error and that any use, dissemination,
forwarding, printing, or copying of this information is strictly prohibited.
If you have received this transmission in error, please immediately notify
LabOne at the following email address: securityincidentreporting@labone.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12858-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 01 15:55:17 2005
Return-Path: <lucene-user-return-12858-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 25509 invoked from network); 1 Feb 2005 15:55:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Feb 2005 15:55:16 -0000
Received: (qmail 33054 invoked by uid 500); 1 Feb 2005 15:54:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 32958 invoked by uid 500); 1 Feb 2005 15:54:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 32903 invoked by uid 99); 1 Feb 2005 15:54:49 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from 66-7-226-62.cust.telepacific.net (HELO hagrid.scalix.local) (66.7.226.62)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 01 Feb 2005 07:54:49 -0800
Received: from hagrid.scalix.local (localhost.localdomain [127.0.0.1])
	by hagrid.scalix.local (8.12.11/8.12.11) with ESMTP id j11Fk4FB029740
	for <lucene-user@jakarta.apache.org>; Tue, 1 Feb 2005 07:46:04 -0800
Received: from hagrid.scalix.local (root@localhost)
	by hagrid.scalix.local (8.12.11/8.12.11/Submit) with ESMTP id j11Fk4il029738
	for <lucene-user@jakarta.apache.org>; Tue, 1 Feb 2005 07:46:04 -0800
Received: from [10.11.108.24] (snorlax.uk.scalix.com 10.11.108.216)
    by snorlax.uk.scalix.com (Scalix SMTP Relay 9.2.0.102)
    via ESMTP; Tue, 01 Feb 2005 15:54:44 +0000 (GMT)
Date: Tue, 1 Feb 2005 15:54:38 +0000
From: John Haxby <jch@scalix.com>
Sender: John Haxby <jch@scalix.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-ID: <41FFA63E.8010108@scalix.com>
In-Reply-To: <200502011539.j11FdYaR021732@gateway.scalix.local>
References: <200502011539.j11FdYaR021732@gateway.scalix.local>
Subject: Re: Duplicate Hits
x-scalix-Hops: 3
User-Agent: Mozilla Thunderbird 0.9 (X11/20041127)
X-Accept-Language: en-us, en
MIME-Version: 1.0
Content-Type: text/plain;
	charset="ISO-8859-1";
	format="flowed"
Content-Disposition: inline
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Jerry Jalenak wrote:

>OK - but I'm dealing with indexing between 1.5 and 2 million documents, so I
>really don't want to 'batch' them up if I can avoid it.  And I also don't
>think I can keep an IndexRead open to the index at the same time I have an
>IndexWriter open.  I may have to try and deal with this issue through some
>sort of filter on the query side, provided it doesn't impact performance to
>much.
>  
>
I was thinking of indexing in batches of a few documents (10? 100? 
1000?) which means flipping between IndexReaders and IndexWriters 
wouldn't be too onerous.

jch

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12859-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 01 15:58:04 2005
Return-Path: <lucene-user-return-12859-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 27138 invoked from network); 1 Feb 2005 15:58:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Feb 2005 15:58:04 -0000
Received: (qmail 47882 invoked by uid 500); 1 Feb 2005 15:57:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 47842 invoked by uid 500); 1 Feb 2005 15:57:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 47826 invoked by uid 99); 1 Feb 2005 15:57:53 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from humanizing-42.iquest.net (HELO htexc.hq.htinc.com) (206.246.149.42)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 01 Feb 2005 07:57:52 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: IndexSearcher close
Date: Tue, 1 Feb 2005 10:57:48 -0500
Message-ID: <4568BE33B520DD43B7B24DE0B609B215608985@htexc.hq.htinc.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: IndexSearcher close
Thread-Index: AcUIde8tg+IiiSP0TlqwYsgI84VELgAAKXFw
From: "Ravi" <ravi@htinc.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Is there a way to check if an IndexSearcher is closed?=20


Thanks in advance,
Ravi.



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12860-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 01 16:26:52 2005
Return-Path: <lucene-user-return-12860-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 44147 invoked from network); 1 Feb 2005 16:26:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Feb 2005 16:26:52 -0000
Received: (qmail 37918 invoked by uid 500); 1 Feb 2005 16:26:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 37897 invoked by uid 500); 1 Feb 2005 16:26:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 37882 invoked by uid 99); 1 Feb 2005 16:26:44 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork6.mail.Virginia.EDU (HELO fork6.mail.virginia.edu) (128.143.2.176)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 01 Feb 2005 08:26:43 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork6.mail.virginia.edu (Postfix) with ESMTP id E90551C00C
	for <lucene-user@jakarta.apache.org>; Tue,  1 Feb 2005 11:26:41 -0500 (EST)
Received: from fork6.mail.virginia.edu ([127.0.0.1])
 by localhost (fork6.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 08967-05 for <lucene-user@jakarta.apache.org>;
 Tue,  1 Feb 2005 11:26:41 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by fork6.mail.virginia.edu (Postfix) with ESMTP id AB8C01BF88
	for <lucene-user@jakarta.apache.org>; Tue,  1 Feb 2005 11:26:41 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <20050201155145.2DD3213E28F7@ehatchersolutions.com>
References: <20050201155145.2DD3213E28F7@ehatchersolutions.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <512c400eb89519767ad282d6631bbf6b@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Duplicate Hits
Date: Tue, 1 Feb 2005 11:26:47 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-UVA-Virus-Scanned: by amavisd-new at fork6.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Feb 1, 2005, at 10:51 AM, Jerry Jalenak wrote:

> OK - but I'm dealing with indexing between 1.5 and 2 million 
> documents, so I
> really don't want to 'batch' them up if I can avoid it.  And I also 
> don't
> think I can keep an IndexRead open to the index at the same time I 
> have an
> IndexWriter open.  I may have to try and deal with this issue through 
> some
> sort of filter on the query side, provided it doesn't impact 
> performance to
> much.

You can use an IndexReader and IndexWriter at the same time (the caveat 
is that you cannot delete with the IndexReader at the same time you're 
writing with an IndexWriter).  Is there no other identifying 
information, though, on the incoming documents with a date stamp?  
Identifier?  Or something unique you can go on?

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12861-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 01 16:29:25 2005
Return-Path: <lucene-user-return-12861-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 45597 invoked from network); 1 Feb 2005 16:29:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Feb 2005 16:29:25 -0000
Received: (qmail 46440 invoked by uid 500); 1 Feb 2005 16:29:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 46368 invoked by uid 500); 1 Feb 2005 16:29:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 46336 invoked by uid 99); 1 Feb 2005 16:29:12 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from omx2-ext.sgi.com (HELO omx2.sgi.com) (192.48.171.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 01 Feb 2005 08:29:10 -0800
Received: from internal-mail-relay1.corp.sgi.com (internal-mail-relay1.corp.sgi.com [198.149.32.52])
	by omx2.sgi.com (8.12.11/8.12.9/linux-outbound_gateway-1.1) with ESMTP id j11Hw1i0028664
	for <lucene-user@jakarta.apache.org>; Tue, 1 Feb 2005 09:58:01 -0800
Received: from pinckneya.peachtree.sgi.com (pinckneya.peachtree.sgi.com [169.238.221.130])
	by internal-mail-relay1.corp.sgi.com (8.12.9/8.12.10/SGI_generic_relay-1.2) with ESMTP id j11GW70W156874355
	for <lucene-user@jakarta.apache.org>; Tue, 1 Feb 2005 08:32:07 -0800 (PST)
Received: from [169.238.222.12] (ptc-222-12-pc.peachtree.sgi.com [169.238.222.12])
	by pinckneya.peachtree.sgi.com (SGI-8.12.5/8.12.5) with ESMTP id j11GT5ad22018978
	for <lucene-user@jakarta.apache.org>; Tue, 1 Feb 2005 11:29:05 -0500 (EST)
Message-ID: <41FFAE4A.60103@sgi.com>
Date: Tue, 01 Feb 2005 11:28:58 -0500
From: Jim Lynch <jwl@sgi.com>
User-Agent: Mozilla Thunderbird 0.9 (Windows/20041103)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: How to get document count?
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I've indexed a large set of documents and think that something may have 
gone wrong somewhere in the middle.  Is there a way I can display the 
count of documents in the index? 

Thanks,
Jim.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12862-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 01 16:31:50 2005
Return-Path: <lucene-user-return-12862-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 46915 invoked from network); 1 Feb 2005 16:31:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Feb 2005 16:31:50 -0000
Received: (qmail 54521 invoked by uid 500); 1 Feb 2005 16:31:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 54495 invoked by uid 500); 1 Feb 2005 16:31:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 54482 invoked by uid 99); 1 Feb 2005 16:31:40 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 01 Feb 2005 08:31:39 -0800
Received: from p001002 ([204.225.84.27]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Tue, 1 Feb 2005 11:32:41 -0500
Message-ID: <03d001c5087b$a66ae4b0$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <41FFAE4A.60103@sgi.com>
Subject: Re: How to get document count?
Date: Tue, 1 Feb 2005 11:32:41 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 01 Feb 2005 16:32:41.0847 (UTC) FILETIME=[A6915870:01C5087B]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Not sure if the API provides a method for this, but you could use Luke:

http://www.getopt.org/luke/

It gives you a count and lets you step through each Doc looking at their
fields.

----- Original Message ----- 
From: "Jim Lynch" <jwl@sgi.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Tuesday, February 01, 2005 11:28 AM
Subject: How to get document count?


> I've indexed a large set of documents and think that something may have
> gone wrong somewhere in the middle.  Is there a way I can display the
> count of documents in the index?
>
> Thanks,
> Jim.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12863-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 01 16:35:16 2005
Return-Path: <lucene-user-return-12863-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 48532 invoked from network); 1 Feb 2005 16:35:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Feb 2005 16:35:16 -0000
Received: (qmail 61350 invoked by uid 500); 1 Feb 2005 16:35:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 61300 invoked by uid 500); 1 Feb 2005 16:35:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 61277 invoked by uid 99); 1 Feb 2005 16:35:00 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from humanizing-42.iquest.net (HELO htexc.hq.htinc.com) (206.246.149.42)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 01 Feb 2005 08:34:59 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: How to get document count?
Date: Tue, 1 Feb 2005 11:34:55 -0500
Message-ID: <4568BE33B520DD43B7B24DE0B609B21560898D@htexc.hq.htinc.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: How to get document count?
Thread-Index: AcUIe4hGg08/C1TSQGeF7A8r8d2bbAAAFmLg
From: "Ravi" <ravi@htinc.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/index/IndexW
riter.html#docCount()

You can try this.

-----Original Message-----
From: Luke Shannon [mailto:lshannon@futurebrand.com]=20
Sent: Tuesday, February 01, 2005 11:33 AM
To: Lucene Users List
Subject: Re: How to get document count?

Not sure if the API provides a method for this, but you could use Luke:

http://www.getopt.org/luke/

It gives you a count and lets you step through each Doc looking at their
fields.

----- Original Message -----=20
From: "Jim Lynch" <jwl@sgi.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Tuesday, February 01, 2005 11:28 AM
Subject: How to get document count?


> I've indexed a large set of documents and think that something may
have
> gone wrong somewhere in the middle.  Is there a way I can display the
> count of documents in the index?
>
> Thanks,
> Jim.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12864-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 01 17:18:11 2005
Return-Path: <lucene-user-return-12864-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 80257 invoked from network); 1 Feb 2005 17:18:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Feb 2005 17:18:11 -0000
Received: (qmail 87184 invoked by uid 500); 1 Feb 2005 17:17:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 87148 invoked by uid 500); 1 Feb 2005 17:17:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 87135 invoked by uid 99); 1 Feb 2005 17:17:57 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from reh001-1.rex001.exchangebyregister.com (HELO reh001-1.REX001.ExchangeByRegister.com) (64.78.19.14)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 01 Feb 2005 09:17:55 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="gb2312"
Content-Transfer-Encoding: quoted-printable
Subject: RE: which HTML parser is better?
Date: Tue, 1 Feb 2005 09:17:52 -0800
Message-ID: <E3381E0825F1954D953A4E347017BB1C032CF99F@reh001-1.REX001.ExchangeByRegister.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: which HTML parser is better?
Thread-Index: AcUIPn6BGY2rlY/AQoeCARPVmRr6uQAQuVxQ
From: "Chuck Williams" <chuck@manawiz.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I think that depends on what you want to do.  The Lucene demo parser =
does simple mapping of HTML files into Lucene Documents; it does not =
give you a parse tree for the HTML doc.  CyberNeko is an extension of =
Xerces (uses the same API; will likely become part of Xerces), and so =
maps an HTML document into a full DOM that you can manipulate easily for =
a wide range of purposes.  I haven't used JTidy at an API level and so =
don't know it as well -- based on its UI, it appears to be focused =
primarily on HTML validation and error detection/correction.

I use CyberNeko for a range of operations on HTML documents that go =
beyond indexing them in Lucene, and really like it.  It has been robust =
for me so far.

Chuck

  > -----Original Message-----
  > From: Jingkang Zhang [mailto:zjingk@yahoo.com.cn]
  > Sent: Tuesday, February 01, 2005 1:15 AM
  > To: lucene-user@jakarta.apache.org
  > Subject: which HTML parser is better?
  >=20
  > Three HTML parsers(Lucene web application
  > demo,CyberNeko HTML Parser,JTidy) are mentioned in
  > Lucene FAQ
  > 1.3.27.Which is the best?Can it filter tags that are
  > auto-created by MS-word 'Save As HTML files' function?
  >=20
  > _________________________________________________________
  > Do You Yahoo!?
  > =
150=CD=F2=C7=FAMP3=B7=E8=BF=F1=CB=D1=A3=AC=B4=F8=C4=FA=B4=B3=C8=EB=D2=F4=C0=
=D6=B5=EE=CC=C3
  > http://music.yisou.com/
  > =
=C3=C0=C5=AE=C3=F7=D0=C7=D3=A6=D3=D0=BE=A1=D3=D0=A3=AC=CB=D1=B1=E9=C3=C0=CD=
=BC=A1=A2=D1=DE=CD=BC=BA=CD=BF=E1=CD=BC
  > http://image.yisou.com
  > =
1G=BE=CD=CA=C71000=D5=D7=A3=AC=D1=C5=BB=A2=B5=E7=D3=CA=D7=D4=D6=FA=C0=A9=C8=
=DD=A3=A1
  > =
http://cn.rd.yahoo.com/mail_cn/tag/1g/*http://cn.mail.yahoo.com/event/ma
  > il_1g/
  >=20
  > =
---------------------------------------------------------------------
  > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
  > For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12865-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 01 17:27:35 2005
Return-Path: <lucene-user-return-12865-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 86140 invoked from network); 1 Feb 2005 17:27:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Feb 2005 17:27:35 -0000
Received: (qmail 7891 invoked by uid 500); 1 Feb 2005 17:27:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 7833 invoked by uid 500); 1 Feb 2005 17:27:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7816 invoked by uid 99); 1 Feb 2005 17:27:30 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of fraschetti@gmail.com designates 64.233.170.198 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.198)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 01 Feb 2005 09:27:28 -0800
Received: by rproxy.gmail.com with SMTP id f1so1062841rne
        for <lucene-user@jakarta.apache.org>; Tue, 01 Feb 2005 09:27:27 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=kG2iRKoki1Fg7jOjglohx+xdOXj6Se8zVUFMA5hinCUKp1G9PUqqp1w25Q90ehy16GT3fyz9YeDQKCxzkHBTflqt9GcHbyIfkQnLzlLWM9ferQsV13oHjB9vVrjHjN93aIxWeeUnfO0IT8MvY+wYLftQWlEEaKBEttHmfDgvuCM=
Received: by 10.38.76.74 with SMTP id y74mr271409rna;
        Tue, 01 Feb 2005 09:27:26 -0800 (PST)
Received: by 10.38.90.32 with HTTP; Tue, 1 Feb 2005 09:27:26 -0800 (PST)
Message-ID: <cbdebdf8050201092713f2908e@mail.gmail.com>
Date: Tue, 1 Feb 2005 09:27:26 -0800
From: Chris Fraschetti <fraschetti@gmail.com>
Reply-To: Chris Fraschetti <fraschetti@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: lucene docs in bulk read?
In-Reply-To: <200521151118.235430@Kelvin>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <cbdebdf80502010140c80c332@mail.gmail.com>
	 <200521151118.235430@Kelvin>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Well all my fields are strings when I index them. They're all very
short strings, dates, hashes, etc. The largest field has a cap of 256
chars and there is only one of them, the rest are all fairly small.

Can you explain what you meant by 'string or reader' ?

Thanks,
Chris


On Tue, 1 Feb 2005 15:11:18 +0100, Kelvin Tan <kelvin-lists@relevanz.com> wrote:
> Hi Chris, are your fields string or reader? How large do your fields get?
> 
> Kelvin
> 
> On Tue, 1 Feb 2005 01:40:39 -0800, Chris Fraschetti wrote:
> > Hey folks.. thanks in advance to any who respond...
> >
> > I do a good deal of post-search processing and the file io to read
> > the fields I need becomes horribly costly and is definitely a
> > problem. Is there any way to either retrieve 1. the entire doc (all
> > fields that can be retrieved) and/or 2. a group of docs.. specified
> > by say an array of doc ids?
> >
> > I've optimized to retrieve the entire list of fields instead of 1
> > by 1.. and also retrieve only the minimal number of fields that I
> > can.. but still my profilers show me that the lucene io to read the
> > doc fields is where I spend 95% of my time. Of course this is
> > obvious given the nature of how it all works.. but can anyone think
> > of a better way to go about retrieving docs in bulk? Are the
> > different types of fields quicker/slower than others when
> > retrieving them from the index?
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


-- 
___________________________________________________
Chris Fraschetti
e fraschetti@gmail.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12866-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 01 17:30:41 2005
Return-Path: <lucene-user-return-12866-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 88019 invoked from network); 1 Feb 2005 17:30:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Feb 2005 17:30:41 -0000
Received: (qmail 20135 invoked by uid 500); 1 Feb 2005 17:30:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 20111 invoked by uid 500); 1 Feb 2005 17:30:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20097 invoked by uid 99); 1 Feb 2005 17:30:35 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from proserver2.ifit.uni-klu.ac.at (HELO proserver2.ifit.uni-klu.ac.at) (143.205.118.212)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 01 Feb 2005 09:30:34 -0800
Received: from [143.205.118.98] ([143.205.118.98]) by proserver2.ifit.uni-klu.ac.at over TLS secured channel with Microsoft SMTPSVC(5.0.2195.6713);
	 Tue, 1 Feb 2005 18:30:31 +0100
Message-ID: <41FFBCB7.4090500@ifit.uni-klu.ac.at>
Date: Tue, 01 Feb 2005 18:30:31 +0100
From: sergiu gordea <gsergiu@ifit.uni-klu.ac.at>
User-Agent: Mozilla Thunderbird 0.7 (Windows/20040616)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Duplicate Hits
References: <20050201155145.2DD3213E28F7@ehatchersolutions.com> <512c400eb89519767ad282d6631bbf6b@ehatchersolutions.com>
In-Reply-To: <512c400eb89519767ad282d6631bbf6b@ehatchersolutions.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 01 Feb 2005 17:30:31.0440 (UTC) FILETIME=[BA9B3900:01C50883]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Erik Hatcher wrote:

>
> On Feb 1, 2005, at 10:51 AM, Jerry Jalenak wrote:
>
>> OK - but I'm dealing with indexing between 1.5 and 2 million 
>> documents, so I
>> really don't want to 'batch' them up if I can avoid it.  And I also 
>> don't
>> think I can keep an IndexRead open to the index at the same time I 
>> have an
>> IndexWriter open.  I may have to try and deal with this issue through 
>> some
>> sort of filter on the query side, provided it doesn't impact 
>> performance to
>> much.
>
>
> You can use an IndexReader and IndexWriter at the same time (the 
> caveat is that you cannot delete with the IndexReader at the same time 
> you're writing with an IndexWriter).  Is there no other identifying 
> information, though, on the incoming documents with a date stamp?  
> Identifier?  Or something unique you can go on?
>
>     Erik

As Erick suggested earlier, I think that keeping the information in the 
database and indentifying the new entries at database level is a better 
approach.
Indexing documents and optimizing the index on a that big index will be 
very time consuming information.
Also .. consider that in the future you would like to modify the 
structure of your index.

Think how much effort will be to split some fields in a few smaller 
parts. Or just to change the format of a field,
let's say you have a date in DDMMYY format and you need to change to 
YYYYMMDD.

And consider how much effort is needed to rebuild a completly new index 
from the database....

 Of course, your requirements may not ask to have the information stored 
in the database, and ... it is up to you to use a DB + Lucene index,

or just a Lucene index.


 Best,

 Sergiu

>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12867-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 01 17:50:05 2005
Return-Path: <lucene-user-return-12867-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 99948 invoked from network); 1 Feb 2005 17:50:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Feb 2005 17:50:04 -0000
Received: (qmail 73484 invoked by uid 500); 1 Feb 2005 17:49:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 73463 invoked by uid 500); 1 Feb 2005 17:49:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 73449 invoked by uid 99); 1 Feb 2005 17:49:58 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from omx1-ext.sgi.com (HELO omx1.americas.sgi.com) (192.48.179.11)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 01 Feb 2005 09:49:56 -0800
Received: from hastur.corp.sgi.com (hastur.corp.sgi.com [198.149.32.33])
	by omx1.americas.sgi.com (8.12.10/8.12.9/linux-outbound_gateway-1.1) with ESMTP id j11HnsxT000834
	for <lucene-user@jakarta.apache.org>; Tue, 1 Feb 2005 11:49:54 -0600
Received: from pinckneya.peachtree.sgi.com (pinckneya.peachtree.sgi.com [169.238.221.130])
	by hastur.corp.sgi.com (8.12.9/8.12.10/SGI_generic_relay-1.2) with ESMTP id j11HnXYw98782954
	for <lucene-user@jakarta.apache.org>; Tue, 1 Feb 2005 09:49:33 -0800 (PST)
Received: from [169.238.222.12] (ptc-222-12-pc.peachtree.sgi.com [169.238.222.12])
	by pinckneya.peachtree.sgi.com (SGI-8.12.5/8.12.5) with ESMTP id j11Hnqad22275591
	for <lucene-user@jakarta.apache.org>; Tue, 1 Feb 2005 12:49:53 -0500 (EST)
Message-ID: <41FFC139.3050301@sgi.com>
Date: Tue, 01 Feb 2005 12:49:45 -0500
From: Jim Lynch <jwl@sgi.com>
User-Agent: Mozilla Thunderbird 0.9 (Windows/20041103)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: How to get document count?
References: <4568BE33B520DD43B7B24DE0B609B21560898D@htexc.hq.htinc.com>
In-Reply-To: <4568BE33B520DD43B7B24DE0B609B21560898D@htexc.hq.htinc.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

That works, thanks.  I can't use Luke on this system.   It fails for 
some reason.

Jim.

Ravi wrote:

>http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/index/IndexW
>riter.html#docCount()
>
>You can try this.
>
>-----Original Message-----
>From: Luke Shannon [mailto:lshannon@futurebrand.com] 
>Sent: Tuesday, February 01, 2005 11:33 AM
>To: Lucene Users List
>Subject: Re: How to get document count?
>
>Not sure if the API provides a method for this, but you could use Luke:
>
>http://www.getopt.org/luke/
>
>It gives you a count and lets you step through each Doc looking at their
>fields.
>
>----- Original Message ----- 
>From: "Jim Lynch" <jwl@sgi.com>
>To: "Lucene Users List" <lucene-user@jakarta.apache.org>
>Sent: Tuesday, February 01, 2005 11:28 AM
>Subject: How to get document count?
>
>
>  
>
>>I've indexed a large set of documents and think that something may
>>    
>>
>have
>  
>
>>gone wrong somewhere in the middle.  Is there a way I can display the
>>count of documents in the index?
>>
>>Thanks,
>>Jim.
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>>    
>>
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>  
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12868-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 01 19:39:52 2005
Return-Path: <lucene-user-return-12868-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 57815 invoked from network); 1 Feb 2005 19:39:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Feb 2005 19:39:52 -0000
Received: (qmail 62623 invoked by uid 500); 1 Feb 2005 19:39:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 62607 invoked by uid 500); 1 Feb 2005 19:39:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 62592 invoked by uid 99); 1 Feb 2005 19:39:48 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from server1.hostmon.com (HELO server1.hostmon.com) (66.139.76.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 01 Feb 2005 11:39:45 -0800
Received: (qmail 13501 invoked by uid 532); 1 Feb 2005 19:37:54 -0000
Received: from dave-lucene-user@tropo.com by server1.hostmon.com by uid 0 with qmail-scanner-1.16 
 (spamassassin: 3.0.0.  Clear:. 
 Processed in 0.050627 secs); 01 Feb 2005 19:37:54 -0000
Received: from unknown (HELO ?10.0.0.157?) (127.0.0.1)
  by 0 with SMTP; 1 Feb 2005 19:37:54 -0000
Message-ID: <41FFDB18.7050603@tropo.com>
Date: Tue, 01 Feb 2005 11:40:08 -0800
From: David Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.3) Gecko/20040910
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: competition - Re: rackmount lucene/nutch - Re: google mini? who needs
 it when Lucene is there
References: <7ca12391050127154418eb8003@mail.gmail.com> <41F98470.7070606@tropo.com>
In-Reply-To: <41F98470.7070606@tropo.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


I wasn't sure where in this thread to reply so I'm replying to myself :)

What search appliances exist now?

I only found 3:

	[1] Google

	[2] Thunderstone 		
	http://www.thunderstone.com/texis/site/pages/Appliance.html

	[3] IndexEngines (not out yet)
	http://www.indexengines.com/



------

Also, out of curiosity, do people have appliance h/w vendors they like?

These guys seem like they have nice options for pretty colors:

	http://www.mbx.com/oem/index.cfm
	http://www.mbx.com/oem/options/




David Spencer wrote:

> This reminds me, has anyone every discussed something similar:
> 
> - rackmount server ( or for coolness factor, that mini mac)
> - web i/f for config/control
> 
> - of course the server would have the following s/w:
> -- web server
> -- lucene / nutch
> 
> Part of the work here I think is having a decent web i/f to configure 
> the thing and to customize the L&F of the search results.
> 
> 
> 
> jian chen wrote:
> 
>> Hi,
>>
>> I was searching using google and just found that there was a new
>> feature called "google mini". Initially I thought it was another free
>> service for small companies. Then I realized that it costs quite some
>> money ($4,995) for the hardware and software. (I guess the proprietary
>> software costs a whole lot more than actual hardware.)
>>
>> The "nice" feature is that, you can only index up to 50,000 documents
>> with this price. If you need to index more, sorry, send in the
>> check...
>>
>> It seems to me that any small biz will be ripped off if they install
>> this google mini thing, compared to using Lucene to implement a easy
>> to use search software, which could search up to whatever number of
>> documents you could image.
>>
>> I hope the lucene project could get exposed more to the enterprise so
>> that people know that they have not only cheaper but more importantly,
>> BETTER alternatives.
>>
>> Jian
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12869-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 01 20:25:04 2005
Return-Path: <lucene-user-return-12869-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 99009 invoked from network); 1 Feb 2005 20:25:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Feb 2005 20:25:04 -0000
Received: (qmail 58474 invoked by uid 500); 1 Feb 2005 20:24:59 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 58448 invoked by uid 500); 1 Feb 2005 20:24:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 58434 invoked by uid 99); 1 Feb 2005 20:24:59 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from omx1-ext.sgi.com (HELO omx1.americas.sgi.com) (192.48.179.11)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 01 Feb 2005 12:24:57 -0800
Received: from hastur.corp.sgi.com (hastur.corp.sgi.com [198.149.32.33])
	by omx1.americas.sgi.com (8.12.10/8.12.9/linux-outbound_gateway-1.1) with ESMTP id j11KOtxT031924
	for <lucene-user@jakarta.apache.org>; Tue, 1 Feb 2005 14:24:55 -0600
Received: from pinckneya.peachtree.sgi.com (pinckneya.peachtree.sgi.com [169.238.221.130])
	by hastur.corp.sgi.com (8.12.9/8.12.10/SGI_generic_relay-1.2) with ESMTP id j11KOsYw98858811
	for <lucene-user@jakarta.apache.org>; Tue, 1 Feb 2005 12:24:55 -0800 (PST)
Received: from [169.238.222.12] (ptc-222-12-pc.peachtree.sgi.com [169.238.222.12])
	by pinckneya.peachtree.sgi.com (SGI-8.12.5/8.12.5) with ESMTP id j11KOrad22303125
	for <lucene-user@jakarta.apache.org>; Tue, 1 Feb 2005 15:24:54 -0500 (EST)
Message-ID: <41FFE58E.2080507@sgi.com>
Date: Tue, 01 Feb 2005 15:24:46 -0500
From: Jim Lynch <jwl@sgi.com>
User-Agent: Mozilla Thunderbird 0.9 (Windows/20041103)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: How do I delete?
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I've been merrily cooking along, thinking I was replacing documents when 
I haven't.  My logic is to go through a batch of documents, get a field 
called "reference" which is unique build a term from it and delete it 
via the reader.delete() method.  Then I close the reader and open a 
writer and reprocess the batch indexing all. 

Here is the delete and associated code:

              reader = IndexReader.open(database);

              Term t = new Term("reference",reference);
              try {
                reader.delete(t);
              } catch (Exception e) {
                System.out.println("Delete exception;"+e);
              }

except it isn't working.  I tried to do a commt and a doCommit, but 
those are both protected.  I do a reader.close() after processing the 
batch the first time. 

What am I missing?  I don't get an exception.  Reference is definitely a 
valid field, 'cause I print out the value at search time and compare to 
the doc and they are identical.

Thanks,
Jim.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12870-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 01 20:27:42 2005
Return-Path: <lucene-user-return-12870-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 129 invoked from network); 1 Feb 2005 20:27:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Feb 2005 20:27:38 -0000
Received: (qmail 67509 invoked by uid 500); 1 Feb 2005 20:27:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 67474 invoked by uid 500); 1 Feb 2005 20:27:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 67460 invoked by uid 99); 1 Feb 2005 20:27:29 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from 209-254-108-74.ip.mcleodusa.net (HELO enigmastation.com) (209.254.108.74)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 01 Feb 2005 12:27:28 -0800
Received: from localhost (joeo@localhost)
	by enigmastation.com (8.11.6/8.11.6) with ESMTP id j11KNRk31433
	for <lucene-user@jakarta.apache.org>; Tue, 1 Feb 2005 15:23:27 -0500
Date: Tue, 1 Feb 2005 15:23:27 -0500 (EST)
From: Joseph Ottinger <joeo@enigmastation.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: How do I delete?
In-Reply-To: <41FFE58E.2080507@sgi.com>
Message-ID: <Pine.LNX.4.33.0502011522510.30950-100000@enigmastation.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I've had success with deletion by running IndexReader.delete(int), then
getting an IndexWriter and optimizing the directory. I don't know if
that's "the right way" to do it or not.

On Tue, 1 Feb 2005, Jim Lynch wrote:

> I've been merrily cooking along, thinking I was replacing documents when
> I haven't.  My logic is to go through a batch of documents, get a field
> called "reference" which is unique build a term from it and delete it
> via the reader.delete() method.  Then I close the reader and open a
> writer and reprocess the batch indexing all.
>
> Here is the delete and associated code:
>
>               reader = IndexReader.open(database);
>
>               Term t = new Term("reference",reference);
>               try {
>                 reader.delete(t);
>               } catch (Exception e) {
>                 System.out.println("Delete exception;"+e);
>               }
>
> except it isn't working.  I tried to do a commt and a doCommit, but
> those are both protected.  I do a reader.close() after processing the
> batch the first time.
>
> What am I missing?  I don't get an exception.  Reference is definitely a
> valid field, 'cause I print out the value at search time and compare to
> the doc and they are identical.
>
> Thanks,
> Jim.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>

-----------------------------------------------------------------------
Joseph B. Ottinger                             http://enigmastation.com
IT Consultant                                    joeo@enigmastation.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12871-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 01 20:33:49 2005
Return-Path: <lucene-user-return-12871-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 3654 invoked from network); 1 Feb 2005 20:33:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Feb 2005 20:33:48 -0000
Received: (qmail 82542 invoked by uid 500); 1 Feb 2005 20:33:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 82321 invoked by uid 500); 1 Feb 2005 20:33:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 82308 invoked by uid 99); 1 Feb 2005 20:33:43 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from lyra.lunarpages.com (HELO lyra.lunarpages.com) (64.235.230.140)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 01 Feb 2005 12:33:42 -0800
Received: from pd9ff06e3.dip.t-dialin.net ([217.255.6.227] helo=Kelvin)
	by lyra.lunarpages.com with esmtpa (Exim 4.44)
	id 1Cw4iP-0005vs-Ui
	for lucene-user@jakarta.apache.org; Tue, 01 Feb 2005 12:33:38 -0800
From:     Kelvin Tan <kelvin-lists@relevanz.com>
To:       Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: Barca 1.1 (840) - Licensed Version
Reply-To: Chris Fraschetti <fraschetti@gmail.com>
Date: Tue, 1 Feb 2005 21:33:13 +0100
Message-ID: <200521213313.254535@Kelvin>
In-Reply-To: <cbdebdf8050201092713f2908e@mail.gmail.com>
Subject: Re: lucene docs in bulk read?
Mime-Version: 1.0
Content-Type: text/plain; charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - lyra.lunarpages.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - relevanz.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Please see inline.

On Tue, 1 Feb 2005 09:27:26 -0800, Chris Fraschetti wrote:
>=A0Well all my fields are strings when I index them. They're all very
>=A0short strings, dates, hashes, etc. The largest field has a cap of
>=A0256 chars and there is only one of them, the rest are all fairly
>=A0small.
>
>=A0Can you explain what you meant by 'string or reader' ?

Sorry, I meant to ask if you're using String fields (field.stringValue()) or=
 reader fields (field.readerValue()). 

Can you elaborate on the post-processing you need to do? Have you thought=
 about concatenating the fields you require into a single non-indexed field=
 (Field.UnIndexed) for simple retrieval? It'll increase the size of your=
 index, but should be faster to retrieve them all at one go.

Kelvin


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12872-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 01 20:52:29 2005
Return-Path: <lucene-user-return-12872-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 13966 invoked from network); 1 Feb 2005 20:52:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Feb 2005 20:52:29 -0000
Received: (qmail 5425 invoked by uid 500); 1 Feb 2005 20:52:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 5393 invoked by uid 500); 1 Feb 2005 20:52:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5380 invoked by uid 99); 1 Feb 2005 20:52:23 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from omx3-ext.sgi.com (HELO omx3.sgi.com) (192.48.171.20)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 01 Feb 2005 12:52:22 -0800
Received: from internal-mail-relay1.corp.sgi.com (internal-mail-relay1.corp.sgi.com [198.149.32.52])
	by omx3.sgi.com (8.12.11/8.12.9/linux-outbound_gateway-1.1) with ESMTP id j11KKGMS012693
	for <lucene-user@jakarta.apache.org>; Tue, 1 Feb 2005 12:20:17 -0800
Received: from pinckneya.peachtree.sgi.com (pinckneya.peachtree.sgi.com [169.238.221.130])
	by internal-mail-relay1.corp.sgi.com (8.12.9/8.12.10/SGI_generic_relay-1.2) with ESMTP id j11KtH0W156873602
	for <lucene-user@jakarta.apache.org>; Tue, 1 Feb 2005 12:55:17 -0800 (PST)
Received: from [169.238.222.12] (ptc-222-12-pc.peachtree.sgi.com [169.238.222.12])
	by pinckneya.peachtree.sgi.com (SGI-8.12.5/8.12.5) with ESMTP id j11KqGad22326665
	for <lucene-user@jakarta.apache.org>; Tue, 1 Feb 2005 15:52:16 -0500 (EST)
Message-ID: <41FFEBF8.1040004@sgi.com>
Date: Tue, 01 Feb 2005 15:52:08 -0500
From: Jim Lynch <jwl@sgi.com>
User-Agent: Mozilla Thunderbird 0.9 (Windows/20041103)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: How do I delete?
References: <Pine.LNX.4.33.0502011522510.30950-100000@enigmastation.com>
In-Reply-To: <Pine.LNX.4.33.0502011522510.30950-100000@enigmastation.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks, I'd try that, but I don't think it will make any difference.  If 
I modify the code to not reindex the documents, no files in the index 
directory are touched, hence there is no record of the deletions 
anywhere.  I checked the count coming back from the delete operation and 
it is zero.  I even tried to delete another unique term with similar 
results.

How does one call the commit method anyway? Isn't it automatically called?

Jim.

Joseph Ottinger wrote:

>I've had success with deletion by running IndexReader.delete(int), then
>getting an IndexWriter and optimizing the directory. I don't know if
>that's "the right way" to do it or not.
>
>On Tue, 1 Feb 2005, Jim Lynch wrote:
>
>  
>
>>I've been merrily cooking along, thinking I was replacing documents when
>>I haven't.  My logic is to go through a batch of documents, get a field
>>called "reference" which is unique build a term from it and delete it
>>via the reader.delete() method.  Then I close the reader and open a
>>writer and reprocess the batch indexing all.
>>
>>Here is the delete and associated code:
>>
>>              reader = IndexReader.open(database);
>>
>>              Term t = new Term("reference",reference);
>>              try {
>>                reader.delete(t);
>>              } catch (Exception e) {
>>                System.out.println("Delete exception;"+e);
>>              }
>>
>>except it isn't working.  I tried to do a commt and a doCommit, but
>>those are both protected.  I do a reader.close() after processing the
>>batch the first time.
>>
>>What am I missing?  I don't get an exception.  Reference is definitely a
>>valid field, 'cause I print out the value at search time and compare to
>>the doc and they are identical.
>>
>>Thanks,
>>Jim.
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>    
>>
>
>-----------------------------------------------------------------------
>Joseph B. Ottinger                             http://enigmastation.com
>IT Consultant                                    joeo@enigmastation.com
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>  
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12873-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 01 21:00:06 2005
Return-Path: <lucene-user-return-12873-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 17601 invoked from network); 1 Feb 2005 21:00:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Feb 2005 21:00:06 -0000
Received: (qmail 26440 invoked by uid 500); 1 Feb 2005 20:59:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 26389 invoked by uid 500); 1 Feb 2005 20:59:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26345 invoked by uid 99); 1 Feb 2005 20:59:55 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from 209-254-108-74.ip.mcleodusa.net (HELO enigmastation.com) (209.254.108.74)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 01 Feb 2005 12:59:54 -0800
Received: from localhost (joeo@localhost)
	by enigmastation.com (8.11.6/8.11.6) with ESMTP id j11Kts431737
	for <lucene-user@jakarta.apache.org>; Tue, 1 Feb 2005 15:55:54 -0500
Date: Tue, 1 Feb 2005 15:55:54 -0500 (EST)
From: Joseph Ottinger <joeo@enigmastation.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: How do I delete?
In-Reply-To: <41FFEBF8.1040004@sgi.com>
Message-ID: <Pine.LNX.4.33.0502011555210.30950-100000@enigmastation.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Well, in LuceneRAR, the delete by id code does exactly what I said: gets
the indexreader, deletes the doc id, then it opens a writer and optimizes.
Nothing else.

On Tue, 1 Feb 2005, Jim Lynch wrote:

> Thanks, I'd try that, but I don't think it will make any difference.  If
> I modify the code to not reindex the documents, no files in the index
> directory are touched, hence there is no record of the deletions
> anywhere.  I checked the count coming back from the delete operation and
> it is zero.  I even tried to delete another unique term with similar
> results.
>
> How does one call the commit method anyway? Isn't it automatically called?
>
> Jim.
>
> Joseph Ottinger wrote:
>
> >I've had success with deletion by running IndexReader.delete(int), then
> >getting an IndexWriter and optimizing the directory. I don't know if
> >that's "the right way" to do it or not.
> >
> >On Tue, 1 Feb 2005, Jim Lynch wrote:
> >
> >
> >
> >>I've been merrily cooking along, thinking I was replacing documents when
> >>I haven't.  My logic is to go through a batch of documents, get a field
> >>called "reference" which is unique build a term from it and delete it
> >>via the reader.delete() method.  Then I close the reader and open a
> >>writer and reprocess the batch indexing all.
> >>
> >>Here is the delete and associated code:
> >>
> >>              reader = IndexReader.open(database);
> >>
> >>              Term t = new Term("reference",reference);
> >>              try {
> >>                reader.delete(t);
> >>              } catch (Exception e) {
> >>                System.out.println("Delete exception;"+e);
> >>              }
> >>
> >>except it isn't working.  I tried to do a commt and a doCommit, but
> >>those are both protected.  I do a reader.close() after processing the
> >>batch the first time.
> >>
> >>What am I missing?  I don't get an exception.  Reference is definitely a
> >>valid field, 'cause I print out the value at search time and compare to
> >>the doc and they are identical.
> >>
> >>Thanks,
> >>Jim.
> >>
> >>---------------------------------------------------------------------
> >>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >>
> >>
> >>
> >
> >-----------------------------------------------------------------------
> >Joseph B. Ottinger                             http://enigmastation.com
> >IT Consultant                                    joeo@enigmastation.com
> >
> >
> >---------------------------------------------------------------------
> >To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>

-----------------------------------------------------------------------
Joseph B. Ottinger                             http://enigmastation.com
IT Consultant                                    joeo@enigmastation.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12874-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 01 22:13:03 2005
Return-Path: <lucene-user-return-12874-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 55271 invoked from network); 1 Feb 2005 22:13:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Feb 2005 22:13:03 -0000
Received: (qmail 40052 invoked by uid 500); 1 Feb 2005 22:12:59 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 40032 invoked by uid 500); 1 Feb 2005 22:12:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40019 invoked by uid 99); 1 Feb 2005 22:12:59 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of fraschetti@gmail.com designates 64.233.170.207 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.207)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 01 Feb 2005 14:12:56 -0800
Received: by rproxy.gmail.com with SMTP id f1so1108473rne
        for <lucene-user@jakarta.apache.org>; Tue, 01 Feb 2005 14:12:54 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=ODlTOpaCkkH3WbTCpbWZZYuir6CXybyzg9IG5CzxmfI4xIQgepqGjezXO1Xsusn2ko/8rGG2VQbLJHf2AWnnZSdsnst0dvTcTg4XIXGlX9VcypienYi/09wL0wOrywysZrmeLit3wjvrq78RTx2LHsfW99pz2+bXx1JjJiOzgDc=
Received: by 10.38.59.31 with SMTP id h31mr20593rna;
        Tue, 01 Feb 2005 14:12:54 -0800 (PST)
Received: by 10.38.90.32 with HTTP; Tue, 1 Feb 2005 14:12:54 -0800 (PST)
Message-ID: <cbdebdf8050201141275d81875@mail.gmail.com>
Date: Tue, 1 Feb 2005 14:12:54 -0800
From: Chris Fraschetti <fraschetti@gmail.com>
Reply-To: Chris Fraschetti <fraschetti@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: lucene docs in bulk read?
In-Reply-To: <200521213313.254535@Kelvin>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <cbdebdf8050201092713f2908e@mail.gmail.com>
	 <200521213313.254535@Kelvin>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Definitely a good idea on the one line idea... that could possibly
save a good amount of time. I'm using .stringValue ... in reality, I
hadn't ever even considered readerValue ... is there a strong
performance difference between the two? or is it simply on the
functionality side?

The basic post processing is a grouping of results... because of the
time and space issues of my indexing process I am unable efficiently
go back and reindex a document if I have found a duplicate (my search
engine deals with multiple documents over time) .. so my post
processing groups results in the top 5000 hits which are the same,
except over different dates... But I need to grab the minimal data in
order to do this... the URL of the original page, the date of the doc,
etc... so that I can use only 1 doc, but if I find a duplicate, I can
simple add the new date to already existing doc. I am only reading a
few fields, but on a large scale of many documents, it hurts my timing
quite a bit.

-Chris


On Tue, 1 Feb 2005 21:33:13 +0100, Kelvin Tan <kelvin-lists@relevanz.com> wrote:
> Please see inline.
> 
> On Tue, 1 Feb 2005 09:27:26 -0800, Chris Fraschetti wrote:
> > Well all my fields are strings when I index them. They're all very
> > short strings, dates, hashes, etc. The largest field has a cap of
> > 256 chars and there is only one of them, the rest are all fairly
> > small.
> >
> > Can you explain what you meant by 'string or reader' ?
> 
> Sorry, I meant to ask if you're using String fields (field.stringValue()) or reader fields (field.readerValue()).
> 
> Can you elaborate on the post-processing you need to do? Have you thought about concatenating the fields you require into a single non-indexed field (Field.UnIndexed) for simple retrieval? It'll increase the size of your index, but should be faster to retrieve them all at one go.
> 
> Kelvin
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


-- 
___________________________________________________
Chris Fraschetti
e fraschetti@gmail.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12875-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 01 22:24:15 2005
Return-Path: <lucene-user-return-12875-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 59730 invoked from network); 1 Feb 2005 22:24:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Feb 2005 22:24:15 -0000
Received: (qmail 54131 invoked by uid 500); 1 Feb 2005 22:24:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 54111 invoked by uid 500); 1 Feb 2005 22:24:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 54098 invoked by uid 99); 1 Feb 2005 22:24:11 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 01 Feb 2005 14:24:10 -0800
Received: from p001002 ([204.225.84.27]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Tue, 1 Feb 2005 17:28:41 -0500
Message-ID: <047601c508ad$6152ade0$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <41FFE58E.2080507@sgi.com>
Subject: Combining Documents
Date: Tue, 1 Feb 2005 17:28:40 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 01 Feb 2005 22:28:41.0223 (UTC) FILETIME=[61BF7970:01C508AD]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello;

I have a situation where I need to combine the fields returned from one
document to an existing document.

Is there something in the API for this that I'm missing or is this the best
way:

//add the fields contained in the PDF document to the existing doc Document
Document attachedDoc = LucenePDFDocument.getDocument(attached);
            Enumeration docFields = attachedDoc.fields();
             while (docFields.hasMoreElements()) {
                     doc.add((Field)docFields.nextElement());
              }

Luke



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12876-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 01 22:54:33 2005
Return-Path: <lucene-user-return-12876-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 73031 invoked from network); 1 Feb 2005 22:54:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Feb 2005 22:54:33 -0000
Received: (qmail 5541 invoked by uid 500); 1 Feb 2005 22:54:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 5492 invoked by uid 500); 1 Feb 2005 22:54:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5479 invoked by uid 99); 1 Feb 2005 22:54:28 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from lyra.lunarpages.com (HELO lyra.lunarpages.com) (64.235.230.140)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 01 Feb 2005 14:54:27 -0800
Received: from pd9ff06e3.dip.t-dialin.net ([217.255.6.227] helo=Kelvin)
	by lyra.lunarpages.com with esmtpa (Exim 4.44)
	id 1Cw6ud-0002NX-8i
	for lucene-user@jakarta.apache.org; Tue, 01 Feb 2005 14:54:24 -0800
From:     Kelvin Tan <kelvin-lists@relevanz.com>
To:       Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: Barca 1.1 (840) - Licensed Version
Reply-To: Chris Fraschetti <fraschetti@gmail.com>
Date: Tue, 1 Feb 2005 23:53:56 +0100
Message-ID: <200521235356.338326@Kelvin>
In-Reply-To: <cbdebdf8050201141275d81875@mail.gmail.com>
Subject: Re: lucene docs in bulk read?
Mime-Version: 1.0
Content-Type: text/plain; charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - lyra.lunarpages.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - relevanz.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N



On Tue, 1 Feb 2005 14:12:54 -0800, Chris Fraschetti wrote:
>=A0Definitely a good idea on the one line idea... that could possibly
>=A0save a good amount of time. I'm using .stringValue ... in reality,
>=A0I hadn't ever even considered readerValue ... is there a strong
>=A0performance difference between the two? or is it simply on the
>=A0functionality side?

Not that I'm aware of (performance). Reader fields are useful when reading=
 in bulky data which doesn't make sense to be loaded into mem as a String.

K



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12877-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 01 23:29:37 2005
Return-Path: <lucene-user-return-12877-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 85430 invoked from network); 1 Feb 2005 23:29:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Feb 2005 23:29:37 -0000
Received: (qmail 44180 invoked by uid 500); 1 Feb 2005 23:29:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 43780 invoked by uid 500); 1 Feb 2005 23:29:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43765 invoked by uid 99); 1 Feb 2005 23:29:33 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from brmea-mail-3.Sun.COM (HELO brmea-mail-3.sun.com) (192.18.98.34)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 01 Feb 2005 15:29:32 -0800
Received: from phys-d3-ha21sca-1 ([129.145.155.163])
	by brmea-mail-3.sun.com (8.12.10/8.12.9) with ESMTP id j11NTUVu028251
	for <lucene-user@jakarta.apache.org>; Tue, 1 Feb 2005 16:29:30 -0700 (MST)
Received: from conversion-daemon.ha21sca-mail1.sfbay.sun.com by
 ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 id <0IB900K01AIB1K@ha21sca-mail1.sfbay.sun.com>
 (original mail from Hetan.Shah@Sun.COM) for lucene-user@jakarta.apache.org;
 Tue, 01 Feb 2005 15:29:30 -0800 (PST)
Received: from [127.0.0.1] (d-mpk24-41-121.SFBay.Sun.COM [129.146.41.121])
 by ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 with ESMTP id <0IB900BXVAL0B8@ha21sca-mail1.sfbay.sun.com> for
 lucene-user@jakarta.apache.org; Tue, 01 Feb 2005 15:29:30 -0800 (PST)
Date: Tue, 01 Feb 2005 15:29:03 -0800
From: Hetan Shah <Hetan.Shah@Sun.COM>
Subject: Query Format
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <420010BF.10207@sun.com>
MIME-version: 1.0
Content-type: text/plain; charset=us-ascii; format=flowed
Content-transfer-encoding: 7BIT
X-Accept-Language: en-us, en
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7)
 Gecko/20040616
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello All,

What should my query look like if I want to search all or any of the 
following key words.

Sun Linux Red Hat Advance Server

replies are much appreciated.

-H


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12878-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 02 00:37:10 2005
Return-Path: <lucene-user-return-12878-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 7804 invoked from network); 2 Feb 2005 00:37:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Feb 2005 00:37:10 -0000
Received: (qmail 35234 invoked by uid 500); 2 Feb 2005 00:37:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 35059 invoked by uid 500); 2 Feb 2005 00:37:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 35040 invoked by uid 99); 2 Feb 2005 00:37:06 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from brmea-mail-3.Sun.COM (HELO brmea-mail-3.sun.com) (192.18.98.34)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 01 Feb 2005 16:37:04 -0800
Received: from phys-d3-ha21sca-1 ([129.145.155.163])
	by brmea-mail-3.sun.com (8.12.10/8.12.9) with ESMTP id j120b3Vu012813
	for <lucene-user@jakarta.apache.org>; Tue, 1 Feb 2005 17:37:03 -0700 (MST)
Received: from conversion-daemon.ha21sca-mail1.sfbay.sun.com by
 ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 id <0IB900801DP31X@ha21sca-mail1.sfbay.sun.com>
 (original mail from Hetan.Shah@Sun.COM) for lucene-user@jakarta.apache.org;
 Tue, 01 Feb 2005 16:37:03 -0800 (PST)
Received: from [127.0.0.1] (d-mpk24-41-121.SFBay.Sun.COM [129.146.41.121])
 by ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 with ESMTP id <0IB9003YZDPD2L@ha21sca-mail1.sfbay.sun.com> for
 lucene-user@jakarta.apache.org; Tue, 01 Feb 2005 16:37:03 -0800 (PST)
Date: Tue, 01 Feb 2005 16:36:27 -0800
From: Hetan Shah <Hetan.Shah@Sun.COM>
Subject: Results
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <4200208B.8020901@sun.com>
MIME-version: 1.0
Content-type: text/plain; charset=us-ascii; format=flowed
Content-transfer-encoding: 7BIT
X-Accept-Language: en-us, en
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7)
 Gecko/20040616
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Another question for the day:

How to make sure that the results shown are the only one containing the 
keywords specified?

e.g.
the result for the query Red AND HAT AND Linux
should result in documents which has all the three key words and not 
show documents that only has one or two keywords?

Any hints?
Thanks.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12879-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 02 00:43:53 2005
Return-Path: <lucene-user-return-12879-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 9638 invoked from network); 2 Feb 2005 00:43:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Feb 2005 00:43:53 -0000
Received: (qmail 44010 invoked by uid 500); 2 Feb 2005 00:43:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 43988 invoked by uid 500); 2 Feb 2005 00:43:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43974 invoked by uid 99); 2 Feb 2005 00:43:49 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork9.mail.Virginia.EDU (HELO fork9.mail.virginia.edu) (128.143.2.179)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 01 Feb 2005 16:43:48 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork9.mail.virginia.edu (Postfix) with ESMTP id C49A81F52D4
	for <lucene-user@jakarta.apache.org>; Tue,  1 Feb 2005 19:43:45 -0500 (EST)
Received: from fork9.mail.virginia.edu ([127.0.0.1])
 by localhost (fork9.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 25496-02 for <lucene-user@jakarta.apache.org>;
 Tue,  1 Feb 2005 19:43:45 -0500 (EST)
Received: from [172.25.114.122] (unknown [172.25.114.122])
	by fork9.mail.virginia.edu (Postfix) with ESMTP id 6D51B1F52D0
	for <lucene-user@jakarta.apache.org>; Tue,  1 Feb 2005 19:43:45 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <420010BF.10207@sun.com>
References: <420010BF.10207@sun.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <9bd53bc8745217fd211b4384f0257676@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Query Format
Date: Tue, 1 Feb 2005 19:43:43 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-UVA-Virus-Scanned: by amavisd-new at fork9.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

How are you indexing your document?

If you're using QueryParser with the default operator set to OR (which 
is the default), then you've already provided the expression you need 
:)

	Erik

On Feb 1, 2005, at 6:29 PM, Hetan Shah wrote:

> Hello All,
>
> What should my query look like if I want to search all or any of the 
> following key words.
>
> Sun Linux Red Hat Advance Server
>
> replies are much appreciated.
>
> -H
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12880-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 02 00:45:12 2005
Return-Path: <lucene-user-return-12880-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 10066 invoked from network); 2 Feb 2005 00:45:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Feb 2005 00:45:11 -0000
Received: (qmail 47600 invoked by uid 500); 2 Feb 2005 00:45:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 47580 invoked by uid 500); 2 Feb 2005 00:45:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 47567 invoked by uid 99); 2 Feb 2005 00:45:06 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork7.mail.Virginia.EDU (HELO fork7.mail.virginia.edu) (128.143.2.177)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 01 Feb 2005 16:45:05 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork7.mail.virginia.edu (Postfix) with ESMTP id E23821F5220
	for <lucene-user@jakarta.apache.org>; Tue,  1 Feb 2005 19:45:02 -0500 (EST)
Received: from fork7.mail.virginia.edu ([127.0.0.1])
 by localhost (fork7.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 04554-10 for <lucene-user@jakarta.apache.org>;
 Tue,  1 Feb 2005 19:45:02 -0500 (EST)
Received: from [172.25.114.122] (unknown [172.25.114.122])
	by fork7.mail.virginia.edu (Postfix) with ESMTP id E991C1F51ED
	for <lucene-user@jakarta.apache.org>; Tue,  1 Feb 2005 19:44:59 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <4200208B.8020901@sun.com>
References: <4200208B.8020901@sun.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <5ab58573139a2c508487b0a97bded8ee@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Results
Date: Tue, 1 Feb 2005 19:44:55 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-UVA-Virus-Scanned: by amavisd-new at fork7.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Feb 1, 2005, at 7:36 PM, Hetan Shah wrote:

> Another question for the day:
>
> How to make sure that the results shown are the only one containing 
> the keywords specified?
>
> e.g.
> the result for the query Red AND HAT AND Linux
> should result in documents which has all the three key words and not 
> show documents that only has one or two keywords?

Huh?  You would never get documents returned that only had two of those 
terms given that AND'd query.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12881-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 02 05:12:15 2005
Return-Path: <lucene-user-return-12881-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 20822 invoked from network); 2 Feb 2005 05:12:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Feb 2005 05:12:14 -0000
Received: (qmail 39948 invoked by uid 500); 2 Feb 2005 05:12:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 39932 invoked by uid 500); 2 Feb 2005 05:12:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39917 invoked by uid 99); 2 Feb 2005 05:12:10 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.bayt.net (HELO mail.bayt.net) (216.176.57.91)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 01 Feb 2005 21:12:08 -0800
Received: from [192.168.1.24] [213.132.40.2] by mail.bayt.net with ESMTP
  (SMTPD32-8.15) id A3496E9100BA; Wed, 02 Feb 2005 00:21:13 -0500
Message-ID: <42006123.7070801@bayt.net>
Date: Wed, 02 Feb 2005 09:12:03 +0400
From: Nader Henein <nsh@bayt.net>
Reply-To:  nsh@bayt.net
Organization: Bayt.com
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Re-Indexing a moving target???
References: <20050131091605.93210.qmail@web50506.mail.yahoo.com>
In-Reply-To: <20050131091605.93210.qmail@web50506.mail.yahoo.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

details?

Yousef Ourabi wrote:

>Saad,
>Here is what I got. I will post again, and be more
>specific.
>-Y
>
>--- Nader Henein <nsh@bayt.net> wrote:
>
>  
>
>>We'll need a little more detail to help you, what
>>are the sizes of your 
>>updates and how often are they updated.
>>
>>1) No just re-open the index writer every time to
>>re-index, according to 
>>you it's moderately changing index, just keep a flag
>>on the rows and 
>>batch indexing every so often.
>>2) It all comes down to your needs, more detail
>>would help us help you.
>>
>>Nader Henein
>>
>>Yousef Ourabi wrote:
>>
>>    
>>
>>>Hey,
>>>We are using lucene to index a moderatly changing
>>>database, and I have a couple of questions on a
>>>performance strategy.
>>>
>>>1) Should we just have one index writer open unil
>>>      
>>>
>>the
>>    
>>
>>>system comes down...or create a new index writer
>>>      
>>>
>>each
>>    
>>
>>>time we re-index our data-set.
>>>
>>>2) Does anyone have anythoughts...multi-threading
>>>      
>>>
>>and
>>    
>>
>>>segments instead of one index?
>>>
>>>Thanks for your time and help.
>>>Best,
>>>Yousef
>>>
>>>      
>>>
>>---------------------------------------------------------------------
>>    
>>
>>>To unsubscribe, e-mail:
>>>      
>>>
>>lucene-user-unsubscribe@jakarta.apache.org
>>    
>>
>>>For additional commands, e-mail:
>>>      
>>>
>>lucene-user-help@jakarta.apache.org
>>    
>>
>>>
>>>
>>> 
>>>
>>>      
>>>
>>-- 
>>Nader S. Henein
>>Senior Applications Developer
>>
>>Bayt.com
>>
>>
>>
>>    
>>
>---------------------------------------------------------------------
>  
>
>>To unsubscribe, e-mail:
>>lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail:
>>lucene-user-help@jakarta.apache.org
>>
>>
>>    
>>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>
>  
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12882-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 02 05:23:49 2005
Return-Path: <lucene-user-return-12882-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 24942 invoked from network); 2 Feb 2005 05:23:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Feb 2005 05:23:49 -0000
Received: (qmail 55446 invoked by uid 500); 2 Feb 2005 05:23:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 55420 invoked by uid 500); 2 Feb 2005 05:23:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55401 invoked by uid 99); 2 Feb 2005 05:23:44 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from envoy.cybage.com (HELO envoy.cybage.com) (203.199.150.190)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 01 Feb 2005 21:23:43 -0800
Received: from chandrasekhard ([192.168.11.236]) by envoy.cybage.com with Microsoft SMTPSVC(6.0.3790.211);
	 Wed, 2 Feb 2005 10:53:20 +0530
Message-ID: <003701c508e7$4f25c4b0$ec0ba8c0@cybage.com>
From: "Chandrashekhar" <chandrashekhard@cybage.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <74383351CFF58D46848149F70E226D51889BFF@sdestoex1.sto.de.web-int.net>
Subject: Re: User Rights Management in Lucene
Date: Wed, 2 Feb 2005 10:53:20 +0530
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 02 Feb 2005 05:23:20.0525 (UTC) FILETIME=[4EF7AFD0:01C508E7]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,
If you r working on some CMS or similar app and want to  have user rights
module then you can use metadata for rights information and add this
metadata into index information then you can search on this metadata.


With Regards,
Chandrashekhar V Deshmukh
----- Original Message ----- 
From: "Verma Atul (extern)" <AVerma@Webasto.de>
To: <lucene-user@jakarta.apache.org>
Sent: Tuesday, February 01, 2005 8:31 PM
Subject: User Rights Management in Lucene


Hi,

I'm new to Lucene and want to know, whether Lucene has the capability of
displaying the search results based the Users Rights.

For Example:

There are suppose some resources, like :

Resource 1
Resource 2
Resource 3
Resource 4

And there are say 2 users with

User 1 having access to Resource 1, Resource 2 and Resource 4; and User
2 having access to Resource 1 and Resource 3

So when User 1 searches the database, then he should get results from
Resource 1, 2 and 4, but

When User 2 searches the databse, then he should get results from
Resource 1 and 3.

Regards
Atul Verma


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12883-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 02 06:05:23 2005
Return-Path: <lucene-user-return-12883-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 37928 invoked from network); 2 Feb 2005 06:05:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Feb 2005 06:05:23 -0000
Received: (qmail 4262 invoked by uid 500); 2 Feb 2005 06:05:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 4239 invoked by uid 500); 2 Feb 2005 06:05:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4223 invoked by uid 99); 2 Feb 2005 06:05:18 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of chris.lu@gmail.com designates 64.233.184.200 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.200)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 01 Feb 2005 22:05:17 -0800
Received: by wproxy.gmail.com with SMTP id 71so24505wri
        for <lucene-user@jakarta.apache.org>; Tue, 01 Feb 2005 22:05:15 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:user-agent:x-accept-language:mime-version:to:subject:content-type:content-transfer-encoding;
        b=mvBkr9AeCpHyQWZAkOlkujTzZDGTzmjTmbDlCSAAWEs+XYshDucw1W11hfrARa8TGU2aYsFqaEFmlt0LNQNv87mGW+39webUG/NXNeZDRkGq1MVfTuKkCBr+3OHeYjWm53oBDVRy2p3Ou/Y10SwG98a6evXX87i7KE1tGfxMIiI=
Received: by 10.54.52.76 with SMTP id z76mr113358wrz;
        Tue, 01 Feb 2005 22:05:15 -0800 (PST)
Received: from ?192.168.1.100? ([24.6.189.152])
        by smtp.gmail.com with ESMTP id 66sm19476wra.2005.02.01.22.05.14;
        Tue, 01 Feb 2005 22:05:15 -0800 (PST)
Message-ID: <42006D20.4040602@gmail.com>
Date: Tue, 01 Feb 2005 22:03:12 -0800
From: Chris Lu <chris.lu@gmail.com>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: when indexing, java.io.FileNotFoundException
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,
I am getting this exception now and then when I am indexing content.
It doesn't always happen. But when it happens, I have to delete the 
index and start over again.
This is a serious problem.

In this email, Doug was say it has something to do with win32's lack of 
atomic renaming.
http://java2.5341.com/msg/1348.html

But how can I prevent this?

Chris Lu


java.io.FileNotFoundException: C:\data\indexes\customer\_temp\0\_1e.fnm 
(The system cannot find the file specified)
    at java.io.RandomAccessFile.open(Native Method)
    at java.io.RandomAccessFile.<init>(RandomAccessFile.java:204)
    at 
org.apache.lucene.store.FSInputStream$Descriptor.<init>(FSDirectory.java:376)
    at org.apache.lucene.store.FSInputStream.<init>(FSDirectory.java:405)
    at org.apache.lucene.store.FSDirectory.openFile(FSDirectory.java:268)
    at org.apache.lucene.index.FieldInfos.<init>(FieldInfos.java:53)
    at 
org.apache.lucene.index.SegmentReader.initialize(SegmentReader.java:109)
    at org.apache.lucene.index.SegmentReader.<init>(SegmentReader.java:94)
    at 
org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.java:480)
    at 
org.apache.lucene.index.IndexWriter.maybeMergeSegments(IndexWriter.java:458)
    at org.apache.lucene.index.IndexWriter.addDocument(IndexWriter.java:310)
    at org.apache.lucene.index.IndexWriter.addDocument(IndexWriter.java:294)


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12884-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 02 06:19:34 2005
Return-Path: <lucene-user-return-12884-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 41552 invoked from network); 2 Feb 2005 06:19:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Feb 2005 06:19:34 -0000
Received: (qmail 17437 invoked by uid 500); 2 Feb 2005 06:19:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 17397 invoked by uid 500); 2 Feb 2005 06:19:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17382 invoked by uid 99); 2 Feb 2005 06:19:21 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu) (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 01 Feb 2005 22:19:19 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 52F4F5B7C9; Tue,  1 Feb 2005 22:19:18 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 4FC787F45C
	for <lucene-user@jakarta.apache.org>; Tue,  1 Feb 2005 22:19:18 -0800 (PST)
Date: Tue, 1 Feb 2005 22:19:18 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: How do I delete?
In-Reply-To: <41FFEBF8.1040004@sgi.com>
Message-ID: <Pine.LNX.4.58.0502012203070.29510@hal.rescomp.berkeley.edu>
References: <Pine.LNX.4.33.0502011522510.30950-100000@enigmastation.com>
 <41FFEBF8.1040004@sgi.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


: anywhere.  I checked the count coming back from the delete operation and
: it is zero.  I even tried to delete another unique term with similar
: results.

First off, are you absolutely certain you are closing the reader?  it's
not in the code you listed.

Second, I'd bet $1 that when your documents were indexed, your "reference"
field was analyzed and parsed into multiple terms.  Did you try searching
for the Term you're trying to delete by?

(I hear "luke" is a pretty handy tool for checking exactly which Terms are
in your index)

: >>Here is the delete and associated code:
: >>
: >>              reader = IndexReader.open(database);
: >>
: >>              Term t = new Term("reference",reference);
: >>              try {
: >>                reader.delete(t);
: >>              } catch (Exception e) {
: >>                System.out.println("Delete exception;"+e);
: >>              }


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12885-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 02 07:40:22 2005
Return-Path: <lucene-user-return-12885-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 72018 invoked from network); 2 Feb 2005 07:40:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Feb 2005 07:40:21 -0000
Received: (qmail 8905 invoked by uid 500); 2 Feb 2005 07:40:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 8590 invoked by uid 500); 2 Feb 2005 07:40:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8573 invoked by uid 99); 2 Feb 2005 07:40:16 -0000
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FROM_ENDS_IN_NUMS,HTML_40_50,HTML_FONT_TINY,HTML_IMAGE_ONLY_20,HTML_MESSAGE,HTML_TAG_EXIST_TBODY
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from web90105.mail.scd.yahoo.com (HELO web90105.mail.scd.yahoo.com) (66.218.94.76)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 01 Feb 2005 23:40:14 -0800
Received: (qmail 35188 invoked by uid 60001); 2 Feb 2005 07:40:10 -0000
Message-ID: <20050202074010.35186.qmail@web90105.mail.scd.yahoo.com>
Received: from [137.132.136.237] by web90105.mail.scd.yahoo.com via HTTP; Wed, 02 Feb 2005 15:40:10 CST
Date: Wed, 2 Feb 2005 15:40:10 +0800 (CST)
From: jac jac <foria88@yahoo.com.sg>
Subject: enquiries - pls help, thanks
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <Pine.LNX.4.58.0502012203070.29510@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-947171492-1107330010=:33172"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--0-947171492-1107330010=:33172
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit


Hi

May I know whether Lucene currently supports indexing of xml documents?

I tried building an index to index all my directories in webapps:
via: 

java org.apache.lucene.demo.IndexFiles /homedir/tomcat/webapps

then I tried using the following command to search:

java org.apache.lucene.demo.SearchFiles

and i typed in my query. I was able to see the files which directs me the path which holds my data. 

However, when I do
java org.apache.lucene.demo.IndexHTML -create -index /homedir/index ..

and I went to my website I realised it can't serach for the data I wanted instead. 

I want to search data within XML documents... May I know if the current demo version allows indexing of XML documents? 

Why is it that after I do "java org.apache.lucene.demo.IndexHTML -create -index /homedir/index .." then the data I wanted can't be searched? thanks alot!

 

jac



 

 Yahoo! Mobile
- Download the latest ringtones, games, and more!
--0-947171492-1107330010=:33172--

From lucene-user-return-12886-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 02 09:07:27 2005
Return-Path: <lucene-user-return-12886-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 42063 invoked from network); 2 Feb 2005 09:07:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Feb 2005 09:07:26 -0000
Received: (qmail 43229 invoked by uid 500); 2 Feb 2005 09:07:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 43204 invoked by uid 500); 2 Feb 2005 09:07:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43189 invoked by uid 99); 2 Feb 2005 09:07:19 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=HTML_MESSAGE,SUBJ_ALL_CAPS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 02 Feb 2005 01:07:18 -0800
Received: from kartik1 ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id IBA23Q00.LLZ for <lucene-user@jakarta.apache.org>; Wed,
          2 Feb 2005 14:53:50 +0530 
From: "Karthik N S" <karthik@controlnet.co.in>
To: "LUCENE" <lucene-user@jakarta.apache.org>
Subject: REPLACE USING ANALYZERS
Date: Wed, 2 Feb 2005 14:42:40 +0530
Message-ID: <OBELINLGKPEMCIEIJJNKKENPCBAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: multipart/related;
	boundary="----=_NextPart_000_0000_01C50935.728A9A90"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0000_01C50935.728A9A90
Content-Type: multipart/alternative;
	boundary="----=_NextPart_001_0001_01C50935.728A9A90"


------=_NextPart_001_0001_01C50935.728A9A90
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit

Hi Guys

Apologies.........

I am would like to know if Any Analyzers out there  which can give me the
required o/p as shown below

1)

I/p   =  "+~shoes  -~nike"

O/p  =  "+shoes  -nike"



2)

I/p    = +(+"~shoes -~nike")

O/p   = +(+"shoes -nike")



3)

I/p   =  +~shoes -~nike

O/p  =  +shoes  -nike



[ Note:- I  am Using the Javascript tool avaliable from Lucene Contributers
Site to build Advance Search with synonym factor ]



Thx in advance


WITH WARM REGARDS
HAVE A NICE DAY
[ N.S.KARTHIK]


------=_NextPart_001_0001_01C50935.728A9A90
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META http-equiv=3DContent-Type content=3D"text/html; =
charset=3Diso-8859-1">
<STYLE><!-- body, P.msoNormal, LI.msoNormal, PRE, BLOCKQUOTE, a, MENU, =
dd, UL, DT { font-family: "Arial"; font-size: 12pt; margin-top: 0em; =
margin-bottom: 0em; color: #000000; } dir, ADDRESS, h1, h2, h3, h4, h5, =
h6, HR { font-family: "Arial"; font-size: 12pt; margin-top: 0em; =
margin-bottom: 0em; color: #000000; } --></STYLE>

<META content=3D"MSHTML 6.00.2600.0" name=3DGENERATOR></HEAD>
<BODY id=3DridBody>
<P><SPAN class=3D687090009-02022005><FONT face=3DVerdana =
size=3D2><STRONG>Hi=20
Guys</STRONG></FONT></SPAN></P>
<P><SPAN class=3D687090009-02022005><STRONG><FONT face=3DVerdana=20
size=3D2>Apologies.........</FONT></STRONG></SPAN></P>
<P><SPAN class=3D687090009-02022005><STRONG><FONT face=3DVerdana =
size=3D2>I am would=20
like to know if Any Analyzers out there&nbsp; which can give me the =
required o/p=20
as shown below</FONT></STRONG></SPAN></P>
<P><SPAN class=3D687090009-02022005><STRONG><FONT face=3DVerdana=20
size=3D2>1)</FONT></STRONG></SPAN></P>
<P><SPAN class=3D687090009-02022005><STRONG><FONT face=3DVerdana=20
size=3D2>I/p&nbsp;&nbsp; =3D&nbsp; "+~shoes&nbsp; =
-~nike"&nbsp;&nbsp;&nbsp;&nbsp;=20
</FONT></STRONG></SPAN></P>
<P><SPAN class=3D687090009-02022005><STRONG><FONT face=3DVerdana =
size=3D2>O/p&nbsp; =3D=20
&nbsp;"+shoes&nbsp; -nike"</FONT></STRONG></SPAN></P>
<P><SPAN class=3D687090009-02022005><STRONG><FONT face=3DVerdana=20
size=3D2></FONT></STRONG></SPAN>&nbsp;</P>
<P><SPAN class=3D687090009-02022005><STRONG><FONT face=3DVerdana=20
size=3D2>2)</FONT></STRONG></SPAN></P>
<P><SPAN class=3D687090009-02022005><STRONG><FONT face=3DVerdana=20
size=3D2>I/p&nbsp;&nbsp;&nbsp; =3D +(+"~shoes =
-~nike")</FONT></STRONG></SPAN></P>
<P><SPAN class=3D687090009-02022005><STRONG><FONT face=3DVerdana=20
size=3D2>O/p&nbsp;&nbsp; =3D +(+"shoes =
-nike")</FONT></STRONG></SPAN></P>
<P><SPAN class=3D687090009-02022005><STRONG><FONT face=3DVerdana=20
size=3D2></FONT></STRONG></SPAN>&nbsp;</P>
<P><SPAN class=3D687090009-02022005><STRONG><FONT face=3DVerdana=20
size=3D2>3)</FONT></STRONG></SPAN></P>
<P><SPAN class=3D687090009-02022005><STRONG><FONT face=3DVerdana=20
size=3D2>I/p&nbsp;&nbsp; =3D&nbsp; +~shoes =
-~nike</FONT></STRONG></SPAN></P>
<P><SPAN class=3D687090009-02022005><STRONG><FONT face=3DVerdana =
size=3D2>O/p&nbsp;=20
=3D&nbsp; +shoes&nbsp; -nike</FONT></STRONG></SPAN></P>
<P><SPAN class=3D687090009-02022005><STRONG><FONT face=3DVerdana=20
size=3D2></FONT></STRONG></SPAN>&nbsp;</P>
<P><SPAN class=3D687090009-02022005><STRONG><FONT face=3DVerdana =
size=3D2>[ Note:-=20
I&nbsp; am Using the Javascript tool avaliable from Lucene=20
Contributers&nbsp;Site to build Advance Search with synonym factor=20
]</FONT></STRONG></SPAN></P>
<P><SPAN class=3D687090009-02022005><STRONG><FONT face=3DVerdana=20
size=3D2></FONT></STRONG></SPAN>&nbsp;</P>
<P><SPAN class=3D687090009-02022005><STRONG><FONT face=3DVerdana =
size=3D2>Thx in=20
advance</FONT></STRONG></SPAN></P>
<P><IMG height=3D85 src=3D"cid:687090009@02022005-039c" =
width=3D85><BR><B><FONT=20
face=3DVerdana color=3D#939ff7 size=3D3>WITH WARM REGARDS <BR>HAVE A =
NICE DAY <BR>[=20
N.S.KARTHIK]</FONT></B> </P></BODY></HTML>

------=_NextPart_001_0001_01C50935.728A9A90--

------=_NextPart_000_0000_01C50935.728A9A90--


From lucene-user-return-12887-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 02 10:20:03 2005
Return-Path: <lucene-user-return-12887-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 78554 invoked from network); 2 Feb 2005 10:20:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Feb 2005 10:20:03 -0000
Received: (qmail 58809 invoked by uid 500); 2 Feb 2005 10:19:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 58788 invoked by uid 500); 2 Feb 2005 10:19:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 58774 invoked by uid 99); 2 Feb 2005 10:19:57 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork9.mail.Virginia.EDU (HELO fork9.mail.virginia.edu) (128.143.2.179)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 02 Feb 2005 02:19:56 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork9.mail.virginia.edu (Postfix) with ESMTP id F36C31F518C
	for <lucene-user@jakarta.apache.org>; Wed,  2 Feb 2005 05:19:52 -0500 (EST)
Received: from fork9.mail.virginia.edu ([127.0.0.1])
 by localhost (fork9.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 25688-07 for <lucene-user@jakarta.apache.org>;
 Wed,  2 Feb 2005 05:19:52 -0500 (EST)
Received: from [192.168.1.102] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by fork9.mail.virginia.edu (Postfix) with ESMTP id 7A9D91F528B
	for <lucene-user@jakarta.apache.org>; Wed,  2 Feb 2005 05:19:51 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <OBELINLGKPEMCIEIJJNKKENPCBAA.karthik@controlnet.co.in>
References: <OBELINLGKPEMCIEIJJNKKENPCBAA.karthik@controlnet.co.in>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Message-Id: <01a53c9d67e6e5000a72b8a86de36a61@ehatchersolutions.com>
Content-Transfer-Encoding: quoted-printable
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: REPLACE USING ANALYZERS
Date: Wed, 2 Feb 2005 05:19:50 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-UVA-Virus-Scanned: by amavisd-new at fork9.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Feb 2, 2005, at 4:12 AM, Karthik N S wrote:

> Hi Guys
>
> Apologies.........
>
> I am would like to know if Any Analyzers out there=A0 which can give =
me=20
> the required o/p as shown below

Sure:

	string.replaceAll("~","")

:)

>
> 1)
>
> I/p=A0=A0 =3D=A0 "+~shoes=A0 -~nike"=A0=A0=A0=A0
>
>  O/p=A0 =3D =A0"+shoes=A0 -nike"
>
> =A0
>
> 2)
>
> I/p=A0=A0=A0 =3D +(+"~shoes -~nike")
>
> O/p=A0=A0 =3D +(+"shoes -nike")
>
> =A0
>
> 3)
>
> I/p=A0=A0 =3D=A0 +~shoes -~nike
>
> O/p=A0 =3D=A0 +shoes=A0 -nike
>
> =A0
>
> [ Note:- I=A0 am Using the Javascript tool avaliable from Lucene=20
> Contributers=A0Site to build Advance Search with synonym factor ]
>
> =A0
>
> Thx in advance
>
> <image.tiff>
> WITH WARM REGARDS
>  HAVE A NICE DAY
> [ N.S.KARTHIK]


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12888-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 02 10:21:36 2005
Return-Path: <lucene-user-return-12888-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 79449 invoked from network); 2 Feb 2005 10:21:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Feb 2005 10:21:36 -0000
Received: (qmail 62738 invoked by uid 500); 2 Feb 2005 10:21:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 62709 invoked by uid 500); 2 Feb 2005 10:21:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 62695 invoked by uid 99); 2 Feb 2005 10:21:23 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from Unknown (HELO goose.milesbarr.com) (81.168.89.246)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 02 Feb 2005 02:21:22 -0800
Received: by goose.milesbarr.com (Postfix, from userid 1000)
	id 54518236AF3; Wed,  2 Feb 2005 10:20:52 +0000 (GMT)
Subject: Re: Combining Documents
From: Miles Barr <miles@runtime-collective.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <047601c508ad$6152ade0$7703d00a@hypermedia.com>
References: <41FFE58E.2080507@sgi.com>
	 <047601c508ad$6152ade0$7703d00a@hypermedia.com>
Content-Type: text/plain
Content-Transfer-Encoding: 7bit
Organization: Runtime Collective Ltd.
Date: Wed, 02 Feb 2005 10:20:51 +0000
Message-Id: <1107339651.27848.95.camel@goose.milesbarr.com>
Mime-Version: 1.0
X-Mailer: Evolution 2.0.2 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Tue, 2005-02-01 at 17:28 -0500, Luke Shannon wrote:
> I have a situation where I need to combine the fields returned from one
> document to an existing document.
> 
> Is there something in the API for this that I'm missing or is this the best
> way:
> 
> //add the fields contained in the PDF document to the existing doc Document
> Document attachedDoc = LucenePDFDocument.getDocument(attached);
>             Enumeration docFields = attachedDoc.fields();
>              while (docFields.hasMoreElements()) {
>                      doc.add((Field)docFields.nextElement());
>               }

If you're adding fields to an existing document you need to ensure that
all the existing fields are stored. 

Basically what you need to do is:

1. Retrieve the existing document
2. Remove it from the index
3. Add the new fields
4. Add it back to the index

If you don't remove it from the index you'll have two copies, one with
the new fields and one without. 

If the fields in the existing document are not stored then when you add
it back to the index they will be lost.

-- 
Miles Barr <miles@runtime-collective.com>
Runtime Collective Ltd.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12889-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 02 10:46:21 2005
Return-Path: <lucene-user-return-12889-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 91645 invoked from network); 2 Feb 2005 10:46:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Feb 2005 10:46:20 -0000
Received: (qmail 17091 invoked by uid 500); 2 Feb 2005 10:46:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 17055 invoked by uid 500); 2 Feb 2005 10:46:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17028 invoked by uid 99); 2 Feb 2005 10:46:12 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=SUBJ_ALL_CAPS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 02 Feb 2005 02:46:11 -0800
Received: from kartik1 ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id IBA6OK00.8K1 for <lucene-user@jakarta.apache.org>; Wed,
          2 Feb 2005 16:32:44 +0530 
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: REPLACE USING ANALYZERS
Date: Wed, 2 Feb 2005 16:21:34 +0530
Message-ID: <OBELINLGKPEMCIEIJJNKIEOACBAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <01a53c9d67e6e5000a72b8a86de36a61@ehatchersolutions.com>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Erik

   OOps Forgot !

  What about If the I/p is


 I/p = "+~shoes~† -~nike~"  or  +(+"~shoes~ -~nike~")   or  +~shoes~ -~nike~

  Using replaceAll would not solve the Problem ,

  since Fuzzy Searches in Query Parses would not return hits for
equivalen's.


|:(

thx in advance
Karthik




-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
Sent: Wednesday, February 02, 2005 3:50 PM
To: Lucene Users List
Subject: Re: REPLACE USING ANALYZERS



On Feb 2, 2005, at 4:12 AM, Karthik N S wrote:

> Hi Guys
>
> Apologies.........
>
> I am would like to know if Any Analyzers out there† which can give me
> the required o/p as shown below

Sure:

	string.replaceAll("~","")

:)

>
> 1)
>
> I/p†† =† "+~shoes† -~nike"††††
>
>  O/p† = †"+shoes† -nike"
>
> †
>
> 2)
>
> I/p††† = +(+"~shoes -~nike")
>
> O/p†† = +(+"shoes -nike")
>
> †
>
> 3)
>
> I/p†† =† +~shoes -~nike
>
> O/p† =† +shoes† -nike
>
> †
>
> [ Note:- I† am Using the Javascript tool avaliable from Lucene
> Contributers†Site to build Advance Search with synonym factor ]
>
> †
>
> Thx in advance
>
> <image.tiff>
> WITH WARM REGARDS
>  HAVE A NICE DAY
> [ N.S.KARTHIK]


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12890-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 02 11:10:57 2005
Return-Path: <lucene-user-return-12890-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 3219 invoked from network); 2 Feb 2005 11:10:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Feb 2005 11:10:57 -0000
Received: (qmail 56929 invoked by uid 500); 2 Feb 2005 11:10:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 56830 invoked by uid 500); 2 Feb 2005 11:10:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 56802 invoked by uid 99); 2 Feb 2005 11:10:48 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork8.mail.Virginia.EDU (HELO fork8.mail.virginia.edu) (128.143.2.178)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 02 Feb 2005 03:10:48 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork8.mail.virginia.edu (Postfix) with ESMTP id 81FB21F531F
	for <lucene-user@jakarta.apache.org>; Wed,  2 Feb 2005 06:10:42 -0500 (EST)
Received: from fork8.mail.virginia.edu ([127.0.0.1])
 by localhost (fork8.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 19727-03 for <lucene-user@jakarta.apache.org>;
 Wed,  2 Feb 2005 06:10:41 -0500 (EST)
Received: from [192.168.1.102] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by fork8.mail.virginia.edu (Postfix) with ESMTP id 659551F5277
	for <lucene-user@jakarta.apache.org>; Wed,  2 Feb 2005 06:10:41 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <20050202074010.35186.qmail@web90105.mail.scd.yahoo.com>
References: <20050202074010.35186.qmail@web90105.mail.scd.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <1df37d48c887567c467dcadb06c10cf8@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: enquiries - pls help, thanks
Date: Wed, 2 Feb 2005 06:10:39 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-UVA-Virus-Scanned: by amavisd-new at fork8.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Feb 2, 2005, at 2:40 AM, jac jac wrote:
> May I know whether Lucene currently supports indexing of xml documents?

That's a loaded question.  Lucene "supports" it by being able to index 
text, sure.  But Lucene does not include an XML parser and the facility 
to automatically turn an XML file into a Lucene document, nor would you 
want that.  For example - in my current project, I'm parsing XML 
documents, and indexing pieces of them individually as Lucene Documents 
- in fact I'm doing that in all kinds of various ways too.

The demo applications that you've tried are not designed for anything 
but a very very basic demonstration of how to use Lucene - these 
example applications were never intended to be used as-is for anything 
other than some code you could borrow and learn from to build your own 
custom solutions.

If you want a quick jump on processing XML with Lucene, try out the 
code that comes with Lucene in Action (grab it from 
www.lucenebook.com).  When you get the code, run this:

$ ant ExtensionFileHandler
Buildfile: build.xml

...

ExtensionFileHandler:
      [echo]
      [echo]       This example demonstrates the file extension document 
handler.
      [echo]       Documents with extensions .xml, .rtf, .doc, .pdf, 
.html, and .txt are
      [echo]       all handled by the framework.  The contents of the 
Lucene Document
      [echo]       built for the specified file is displayed.
      [echo]
     [input] Press return to continue...

     [input] File: [src/lia/handlingtypes/data/HTML.html]
src/lia/handlingtypes/data/addressbook.xml
      [echo] Running lia.handlingtypes.framework.ExtensionFileHandler...
      [java] log4j:WARN No appenders could be found for logger 
(org.apache.commons.digester.Digester.sax).
      [java] log4j:WARN Please initialize the log4j system properly.
      [java] Document<Keyword<type:business> Keyword<name:SAMOFIX 
d.o.o.> Keyword<address:Ilica 47-2> Keyword<city:Zagreb> 
Keyword<province:> Keyword<postalcode:10000> Keyword<country:Croatia> 
Keyword<telephone:+385 1 123 4567>>

BUILD SUCCESSFUL
Total time: 18 seconds

Note that I typed in the path to an XML file where it asks for [input]. 
  Now dig into the source tree and borrow what you need from 
src/lia/handlingtypes

	Erik


>
> I tried building an index to index all my directories in webapps:
> via:
>
> java org.apache.lucene.demo.IndexFiles /homedir/tomcat/webapps
>
> then I tried using the following command to search:
>
> java org.apache.lucene.demo.SearchFiles
>
> and i typed in my query. I was able to see the files which directs me 
> the path which holds my data.
>
> However, when I do
> java org.apache.lucene.demo.IndexHTML -create -index /homedir/index ..
>
> and I went to my website I realised it can't serach for the data I 
> wanted instead.
>
> I want to search data within XML documents... May I know if the 
> current demo version allows indexing of XML documents?
>
> Why is it that after I do "java org.apache.lucene.demo.IndexHTML 
> -create -index /homedir/index .." then the data I wanted can't be 
> searched? thanks alot!
>
>
>
> jac
>
>
>
>
>
>  Yahoo! Mobile
> - Download the latest ringtones, games, and more!


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12891-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 02 11:17:36 2005
Return-Path: <lucene-user-return-12891-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 6766 invoked from network); 2 Feb 2005 11:17:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Feb 2005 11:17:36 -0000
Received: (qmail 72855 invoked by uid 500); 2 Feb 2005 11:17:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 72767 invoked by uid 500); 2 Feb 2005 11:17:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 72676 invoked by uid 99); 2 Feb 2005 11:17:22 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of TheRanger@gmx.net designates 213.165.64.20 as permitted sender)
Received: from imap.gmx.net (HELO mail.gmx.net) (213.165.64.20)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 02 Feb 2005 03:17:20 -0800
Received: (qmail 32303 invoked by uid 0); 2 Feb 2005 11:17:18 -0000
Received: from 193.63.235.44 by www8.gmx.net with HTTP;
	Wed, 2 Feb 2005 12:17:18 +0100 (MET)
Date: Wed, 2 Feb 2005 12:17:18 +0100 (MET)
From: "Karl Koch" <TheRanger@gmx.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
MIME-Version: 1.0
References: <E3381E0825F1954D953A4E347017BB1C032CF99F@reh001-1.REX001.ExchangeByRegister.com>
Subject: RE: which HTML parser is better?
X-Priority: 3 (Normal)
X-Authenticated: #21808356
Message-ID: <31052.1107343038@www8.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

I have  been following this thread and have another question. 

Is there a piece of sourcecode (which is preferably very short and simple
(KISS)) which allows to remove all HTML tags from HTML content? HTML 3.2
would be enough...also no frames, CSS, etc. 

I do not need to have the HTML strucutre tree or any other structure but
need a facility to clean up HTML into its normal underlying content before
indexing that content as a whole.

Karl


> I think that depends on what you want to do.  The Lucene demo parser does
> simple mapping of HTML files into Lucene Documents; it does not give you a
> parse tree for the HTML doc.  CyberNeko is an extension of Xerces (uses
the
> same API; will likely become part of Xerces), and so maps an HTML document
> into a full DOM that you can manipulate easily for a wide range of
> purposes.  I haven't used JTidy at an API level and so don't know it as
well --
> based on its UI, it appears to be focused primarily on HTML validation and
> error detection/correction.
> 
> I use CyberNeko for a range of operations on HTML documents that go beyond
> indexing them in Lucene, and really like it.  It has been robust for me so
> far.
> 
> Chuck
> 
>   > -----Original Message-----
>   > From: Jingkang Zhang [mailto:zjingk@yahoo.com.cn]
>   > Sent: Tuesday, February 01, 2005 1:15 AM
>   > To: lucene-user@jakarta.apache.org
>   > Subject: which HTML parser is better?
>   > 
>   > Three HTML parsers(Lucene web application
>   > demo,CyberNeko HTML Parser,JTidy) are mentioned in
>   > Lucene FAQ
>   > 1.3.27.Which is the best?Can it filter tags that are
>   > auto-created by MS-word 'Save As HTML files' function?
>   > 
>   > _________________________________________________________
>   > Do You Yahoo!?
>   > 150ÕÚ«˙MP3∑ËøÒÀ—£¨¥¯ƒ˙¥≥»Î“Ù¿÷µÓÃ√
>   > http://music.yisou.com/
>   > √¿≈Æ√˜–«”¶”–æ°”–£¨À—±È√¿Õº°¢—ﬁÕº∫Õø·Õº
>   > http://image.yisou.com
>   > 1GæÕ «1000’◊£¨—≈ª¢µÁ” ◊‘÷˙¿©»›£°
>   >
> http://cn.rd.yahoo.com/mail_cn/tag/1g/*http://cn.mail.yahoo.com/event/ma
>   > il_1g/
>   > 
>   > ---------------------------------------------------------------------
>   > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>   > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
GMX im TV ... Die Gedanken sind frei ... Schon gesehen?
Jetzt Spot online ansehen: http://www.gmx.net/de/go/tv-spot

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12892-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 02 12:49:25 2005
Return-Path: <lucene-user-return-12892-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 52857 invoked from network); 2 Feb 2005 12:49:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Feb 2005 12:49:25 -0000
Received: (qmail 36893 invoked by uid 500); 2 Feb 2005 12:49:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 36874 invoked by uid 500); 2 Feb 2005 12:49:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 36860 invoked by uid 99); 2 Feb 2005 12:49:19 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from proserver2.ifit.uni-klu.ac.at (HELO proserver2.ifit.uni-klu.ac.at) (143.205.118.212)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 02 Feb 2005 04:49:17 -0800
Received: from [143.205.118.98] ([143.205.118.98]) by proserver2.ifit.uni-klu.ac.at over TLS secured channel with Microsoft SMTPSVC(5.0.2195.6713);
	 Wed, 2 Feb 2005 13:49:14 +0100
Message-ID: <4200CC4A.5050405@ifit.uni-klu.ac.at>
Date: Wed, 02 Feb 2005 13:49:14 +0100
From: sergiu gordea <gsergiu@ifit.uni-klu.ac.at>
User-Agent: Mozilla Thunderbird 0.7 (Windows/20040616)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: which HTML parser is better?
References: <E3381E0825F1954D953A4E347017BB1C032CF99F@reh001-1.REX001.ExchangeByRegister.com> <31052.1107343038@www8.gmx.net>
In-Reply-To: <31052.1107343038@www8.gmx.net>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-OriginalArrivalTime: 02 Feb 2005 12:49:14.0284 (UTC) FILETIME=[997356C0:01C50925]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

  Hi Karl,

 I already submitted a peace of code that removes the html tags.
 Search for my previous answer in this thread.

  Best,

   Sergiu

Karl Koch wrote:

>Hello,
>
>I have  been following this thread and have another question. 
>
>Is there a piece of sourcecode (which is preferably very short and simple
>(KISS)) which allows to remove all HTML tags from HTML content? HTML 3.2
>would be enough...also no frames, CSS, etc. 
>
>I do not need to have the HTML strucutre tree or any other structure but
>need a facility to clean up HTML into its normal underlying content before
>indexing that content as a whole.
>
>Karl
>
>
>  
>
>>I think that depends on what you want to do.  The Lucene demo parser does
>>simple mapping of HTML files into Lucene Documents; it does not give you a
>>parse tree for the HTML doc.  CyberNeko is an extension of Xerces (uses
>>    
>>
>the
>  
>
>>same API; will likely become part of Xerces), and so maps an HTML document
>>into a full DOM that you can manipulate easily for a wide range of
>>purposes.  I haven't used JTidy at an API level and so don't know it as
>>    
>>
>well --
>  
>
>>based on its UI, it appears to be focused primarily on HTML validation and
>>error detection/correction.
>>
>>I use CyberNeko for a range of operations on HTML documents that go beyond
>>indexing them in Lucene, and really like it.  It has been robust for me so
>>far.
>>
>>Chuck
>>
>>  > -----Original Message-----
>>  > From: Jingkang Zhang [mailto:zjingk@yahoo.com.cn]
>>  > Sent: Tuesday, February 01, 2005 1:15 AM
>>  > To: lucene-user@jakarta.apache.org
>>  > Subject: which HTML parser is better?
>>  > 
>>  > Three HTML parsers(Lucene web application
>>  > demo,CyberNeko HTML Parser,JTidy) are mentioned in
>>  > Lucene FAQ
>>  > 1.3.27.Which is the best?Can it filter tags that are
>>  > auto-created by MS-word 'Save As HTML files' function?
>>  > 
>>  > _________________________________________________________
>>  > Do You Yahoo!?
>>  > 150ÕÚ«˙MP3∑ËøÒÀ—£¨¥¯ƒ˙¥≥»Î“Ù¿÷µÓÃ√
>>  > http://music.yisou.com/
>>  > √¿≈Æ√˜–«”¶”–æ°”–£¨À—±È√¿Õº°¢—ﬁÕº∫Õø·Õº
>>  > http://image.yisou.com
>>  > 1GæÕ «1000’◊£¨—≈ª¢µÁ” ◊‘÷˙¿©»›£°
>>  >
>>http://cn.rd.yahoo.com/mail_cn/tag/1g/*http://cn.mail.yahoo.com/event/ma
>>  > il_1g/
>>  > 
>>  > ---------------------------------------------------------------------
>>  > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>  > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>    
>>
>
>  
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12893-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 02 13:22:51 2005
Return-Path: <lucene-user-return-12893-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 68371 invoked from network); 2 Feb 2005 13:22:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Feb 2005 13:22:51 -0000
Received: (qmail 94008 invoked by uid 500); 2 Feb 2005 13:22:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 93823 invoked by uid 500); 2 Feb 2005 13:22:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93749 invoked by uid 99); 2 Feb 2005 13:22:35 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork6.mail.Virginia.EDU (HELO fork6.mail.virginia.edu) (128.143.2.176)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 02 Feb 2005 05:22:35 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork6.mail.virginia.edu (Postfix) with ESMTP id D98731C117
	for <lucene-user@jakarta.apache.org>; Wed,  2 Feb 2005 08:22:31 -0500 (EST)
Received: from fork6.mail.virginia.edu ([127.0.0.1])
 by localhost (fork6.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 27783-09 for <lucene-user@jakarta.apache.org>;
 Wed,  2 Feb 2005 08:22:31 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by fork6.mail.virginia.edu (Postfix) with ESMTP id 942DA1C114
	for <lucene-user@jakarta.apache.org>; Wed,  2 Feb 2005 08:22:31 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <31052.1107343038@www8.gmx.net>
References: <E3381E0825F1954D953A4E347017BB1C032CF99F@reh001-1.REX001.ExchangeByRegister.com> <31052.1107343038@www8.gmx.net>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <65e3e9be961dfb08444b5cf4920e6b31@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: which HTML parser is better?
Date: Wed, 2 Feb 2005 08:22:30 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-UVA-Virus-Scanned: by amavisd-new at fork6.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Feb 2, 2005, at 6:17 AM, Karl Koch wrote:

> Hello,
>
> I have  been following this thread and have another question.
>
> Is there a piece of sourcecode (which is preferably very short and 
> simple
> (KISS)) which allows to remove all HTML tags from HTML content? HTML 
> 3.2
> would be enough...also no frames, CSS, etc.
>
> I do not need to have the HTML strucutre tree or any other structure 
> but
> need a facility to clean up HTML into its normal underlying content 
> before
> indexing that content as a whole.
>

The code in the Lucene Sandbox for parsing HTML with JTidy (under 
contributions/ant) for the <index> task does what you ask.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12894-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 02 14:00:42 2005
Return-Path: <lucene-user-return-12894-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 88941 invoked from network); 2 Feb 2005 14:00:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Feb 2005 14:00:42 -0000
Received: (qmail 69779 invoked by uid 500); 2 Feb 2005 14:00:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 69740 invoked by uid 500); 2 Feb 2005 14:00:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 69726 invoked by uid 99); 2 Feb 2005 14:00:36 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.reitverein-hohenhameln.de (HELO upk-webserver2.upk.de) (62.153.127.74)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 02 Feb 2005 06:00:35 -0800
content-class: urn:content-classes:message
Subject: *term
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Date: Wed, 2 Feb 2005 14:54:05 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.0.6556.0
Message-ID: <D9DB9769052FAC458635F1B52A097A670DAD97@upk.de>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: *term
Thread-Index: AcUJL7mxyKaW6PzcR5y91vzLOCX6UA==
From: "Tim Lebedkov \(UPK\)" <Tim-Lebedkov@upk.de>
To: <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

is there a way to make QueryParser accept *term?

thank you
--Tim

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12895-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 02 14:04:39 2005
Return-Path: <lucene-user-return-12895-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 90716 invoked from network); 2 Feb 2005 14:04:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Feb 2005 14:04:39 -0000
Received: (qmail 76237 invoked by uid 500); 2 Feb 2005 14:04:33 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 76212 invoked by uid 500); 2 Feb 2005 14:04:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 76187 invoked by uid 99); 2 Feb 2005 14:04:33 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from proserver2.ifit.uni-klu.ac.at (HELO proserver2.ifit.uni-klu.ac.at) (143.205.118.212)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 02 Feb 2005 06:04:31 -0800
Received: from [143.205.118.98] ([143.205.118.98]) by proserver2.ifit.uni-klu.ac.at over TLS secured channel with Microsoft SMTPSVC(5.0.2195.6713);
	 Wed, 2 Feb 2005 15:04:28 +0100
Message-ID: <4200DDEC.1060506@ifit.uni-klu.ac.at>
Date: Wed, 02 Feb 2005 15:04:28 +0100
From: sergiu gordea <gsergiu@ifit.uni-klu.ac.at>
User-Agent: Mozilla Thunderbird 0.7 (Windows/20040616)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: *term
References: <D9DB9769052FAC458635F1B52A097A670DAD97@upk.de>
In-Reply-To: <D9DB9769052FAC458635F1B52A097A670DAD97@upk.de>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 02 Feb 2005 14:04:28.0683 (UTC) FILETIME=[1C3DF5B0:01C50930]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Tim Lebedkov (UPK) wrote:

>Hi,
>
>is there a way to make QueryParser accept *term?
>  
>
yes, if you apply a patch the lucene sources.
Search for "*term search" in lucene archive.

 Best,

  Sergiu

>thank you
>--Tim
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>  
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12896-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 02 14:23:05 2005
Return-Path: <lucene-user-return-12896-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 17405 invoked from network); 2 Feb 2005 14:23:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Feb 2005 14:23:04 -0000
Received: (qmail 12728 invoked by uid 500); 2 Feb 2005 14:22:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 12708 invoked by uid 500); 2 Feb 2005 14:22:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12692 invoked by uid 99); 2 Feb 2005 14:22:56 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of TheRanger@gmx.net designates 213.165.64.20 as permitted sender)
Received: from imap.gmx.net (HELO mail.gmx.net) (213.165.64.20)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 02 Feb 2005 06:22:54 -0800
Received: (qmail 28702 invoked by uid 0); 2 Feb 2005 14:22:52 -0000
Received: from 193.63.235.44 by www8.gmx.net with HTTP;
	Wed, 2 Feb 2005 15:22:52 +0100 (MET)
Date: Wed, 2 Feb 2005 15:22:52 +0100 (MET)
From: "Karl Koch" <TheRanger@gmx.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
MIME-Version: 1.0
References: <4200CC4A.5050405@ifit.uni-klu.ac.at>
Subject: Re: which HTML parser is better?
X-Priority: 3 (Normal)
X-Authenticated: #21808356
Message-ID: <21524.1107354172@www8.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

yes, but the library your are using is quite big. I was thinking that a 5kB
code could actually do that. That sourceforge project is doing much more
than that but I do not need it.

Karl

>   Hi Karl,
> 
>  I already submitted a peace of code that removes the html tags.
>  Search for my previous answer in this thread.
> 
>   Best,
> 
>    Sergiu
> 
> Karl Koch wrote:
> 
> >Hello,
> >
> >I have  been following this thread and have another question. 
> >
> >Is there a piece of sourcecode (which is preferably very short and simple
> >(KISS)) which allows to remove all HTML tags from HTML content? HTML 3.2
> >would be enough...also no frames, CSS, etc. 
> >
> >I do not need to have the HTML strucutre tree or any other structure but
> >need a facility to clean up HTML into its normal underlying content
> before
> >indexing that content as a whole.
> >
> >Karl
> >
> >
> >  
> >
> >>I think that depends on what you want to do.  The Lucene demo parser
> does
> >>simple mapping of HTML files into Lucene Documents; it does not give you
> a
> >>parse tree for the HTML doc.  CyberNeko is an extension of Xerces (uses
> >>    
> >>
> >the
> >  
> >
> >>same API; will likely become part of Xerces), and so maps an HTML
> document
> >>into a full DOM that you can manipulate easily for a wide range of
> >>purposes.  I haven't used JTidy at an API level and so don't know it as
> >>    
> >>
> >well --
> >  
> >
> >>based on its UI, it appears to be focused primarily on HTML validation
> and
> >>error detection/correction.
> >>
> >>I use CyberNeko for a range of operations on HTML documents that go
> beyond
> >>indexing them in Lucene, and really like it.  It has been robust for me
> so
> >>far.
> >>
> >>Chuck
> >>
> >>  > -----Original Message-----
> >>  > From: Jingkang Zhang [mailto:zjingk@yahoo.com.cn]
> >>  > Sent: Tuesday, February 01, 2005 1:15 AM
> >>  > To: lucene-user@jakarta.apache.org
> >>  > Subject: which HTML parser is better?
> >>  > 
> >>  > Three HTML parsers(Lucene web application
> >>  > demo,CyberNeko HTML Parser,JTidy) are mentioned in
> >>  > Lucene FAQ
> >>  > 1.3.27.Which is the best?Can it filter tags that are
> >>  > auto-created by MS-word 'Save As HTML files' function?
> >>  > 
> >>  > _________________________________________________________
> >>  > Do You Yahoo!?
> >>  > 150ÕÚ«˙MP3∑ËøÒÀ—£¨¥¯ƒ˙¥≥»Î“Ù¿÷µÓÃ√
> >>  > http://music.yisou.com/
> >>  > √¿≈Æ√˜–«”¶”–æ°”–£¨À—±È√¿Õº°¢—ﬁÕº∫Õø·Õº
> >>  > http://image.yisou.com
> >>  > 1GæÕ «1000’◊£¨—≈ª¢µÁ” ◊‘÷˙¿©»›£°
> >>  >
> >>http://cn.rd.yahoo.com/mail_cn/tag/1g/*http://cn.mail.yahoo.com/event/ma
> >>  > il_1g/
> >>  > 
> >>  >
> ---------------------------------------------------------------------
> >>  > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >>  > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >>
> >>
> >>---------------------------------------------------------------------
> >>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >>
> >>    
> >>
> >
> >  
> >
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
10 GB Mailbox, 100 FreeSMS http://www.gmx.net/de/go/topmail
+++ GMX - die erste Adresse f¸r Mail, Message, More +++

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12897-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 02 14:28:58 2005
Return-Path: <lucene-user-return-12897-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 20612 invoked from network); 2 Feb 2005 14:28:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Feb 2005 14:28:58 -0000
Received: (qmail 24421 invoked by uid 500); 2 Feb 2005 14:28:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 24394 invoked by uid 500); 2 Feb 2005 14:28:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24375 invoked by uid 99); 2 Feb 2005 14:28:50 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from proserver2.ifit.uni-klu.ac.at (HELO proserver2.ifit.uni-klu.ac.at) (143.205.118.212)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 02 Feb 2005 06:28:50 -0800
Received: from [143.205.118.98] ([143.205.118.98]) by proserver2.ifit.uni-klu.ac.at over TLS secured channel with Microsoft SMTPSVC(5.0.2195.6713);
	 Wed, 2 Feb 2005 15:28:47 +0100
Message-ID: <4200E39F.5000208@ifit.uni-klu.ac.at>
Date: Wed, 02 Feb 2005 15:28:47 +0100
From: sergiu gordea <gsergiu@ifit.uni-klu.ac.at>
User-Agent: Mozilla Thunderbird 0.7 (Windows/20040616)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: which HTML parser is better?
References: <4200CC4A.5050405@ifit.uni-klu.ac.at> <21524.1107354172@www8.gmx.net>
In-Reply-To: <21524.1107354172@www8.gmx.net>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-OriginalArrivalTime: 02 Feb 2005 14:28:47.0476 (UTC) FILETIME=[81C01B40:01C50933]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Karl Koch wrote:

>Hi,
>
>yes, but the library your are using is quite big. I was thinking that a 5kB
>code could actually do that. That sourceforge project is doing much more
>than that but I do not need it.
>  
>
you need just the htmlparser.jar 200k.
... you know ... the functionality is strongly correclated with the size.

  You can use 3 lines of code with a good regular expresion to eliminate 
the html tags,
but this won't give you any guarantie that the text from the bad 
fromated html files will be
correctly extracted...

  Best,

  Sergiu

>Karl
>
>  
>
>>  Hi Karl,
>>
>> I already submitted a peace of code that removes the html tags.
>> Search for my previous answer in this thread.
>>
>>  Best,
>>
>>   Sergiu
>>
>>Karl Koch wrote:
>>
>>    
>>
>>>Hello,
>>>
>>>I have  been following this thread and have another question. 
>>>
>>>Is there a piece of sourcecode (which is preferably very short and simple
>>>(KISS)) which allows to remove all HTML tags from HTML content? HTML 3.2
>>>would be enough...also no frames, CSS, etc. 
>>>
>>>I do not need to have the HTML strucutre tree or any other structure but
>>>need a facility to clean up HTML into its normal underlying content
>>>      
>>>
>>before
>>    
>>
>>>indexing that content as a whole.
>>>
>>>Karl
>>>
>>>
>>> 
>>>
>>>      
>>>
>>>>I think that depends on what you want to do.  The Lucene demo parser
>>>>        
>>>>
>>does
>>    
>>
>>>>simple mapping of HTML files into Lucene Documents; it does not give you
>>>>        
>>>>
>>a
>>    
>>
>>>>parse tree for the HTML doc.  CyberNeko is an extension of Xerces (uses
>>>>   
>>>>
>>>>        
>>>>
>>>the
>>> 
>>>
>>>      
>>>
>>>>same API; will likely become part of Xerces), and so maps an HTML
>>>>        
>>>>
>>document
>>    
>>
>>>>into a full DOM that you can manipulate easily for a wide range of
>>>>purposes.  I haven't used JTidy at an API level and so don't know it as
>>>>   
>>>>
>>>>        
>>>>
>>>well --
>>> 
>>>
>>>      
>>>
>>>>based on its UI, it appears to be focused primarily on HTML validation
>>>>        
>>>>
>>and
>>    
>>
>>>>error detection/correction.
>>>>
>>>>I use CyberNeko for a range of operations on HTML documents that go
>>>>        
>>>>
>>beyond
>>    
>>
>>>>indexing them in Lucene, and really like it.  It has been robust for me
>>>>        
>>>>
>>so
>>    
>>
>>>>far.
>>>>
>>>>Chuck
>>>>
>>>> > -----Original Message-----
>>>> > From: Jingkang Zhang [mailto:zjingk@yahoo.com.cn]
>>>> > Sent: Tuesday, February 01, 2005 1:15 AM
>>>> > To: lucene-user@jakarta.apache.org
>>>> > Subject: which HTML parser is better?
>>>> > 
>>>> > Three HTML parsers(Lucene web application
>>>> > demo,CyberNeko HTML Parser,JTidy) are mentioned in
>>>> > Lucene FAQ
>>>> > 1.3.27.Which is the best?Can it filter tags that are
>>>> > auto-created by MS-word 'Save As HTML files' function?
>>>> > 
>>>> > _________________________________________________________
>>>> > Do You Yahoo!?
>>>> > 150ÕÚ«˙MP3∑ËøÒÀ—£¨¥¯ƒ˙¥≥»Î“Ù¿÷µÓÃ√
>>>> > http://music.yisou.com/
>>>> > √¿≈Æ√˜–«”¶”–æ°”–£¨À—±È√¿Õº°¢—ﬁÕº∫Õø·Õº
>>>> > http://image.yisou.com
>>>> > 1GæÕ «1000’◊£¨—≈ª¢µÁ” ◊‘÷˙¿©»›£°
>>>> >
>>>>http://cn.rd.yahoo.com/mail_cn/tag/1g/*http://cn.mail.yahoo.com/event/ma
>>>> > il_1g/
>>>> > 
>>>> >
>>>>        
>>>>
>>---------------------------------------------------------------------
>>    
>>
>>>> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>>> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>>>
>>>>
>>>>---------------------------------------------------------------------
>>>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>>>
>>>>   
>>>>
>>>>        
>>>>
>>> 
>>>
>>>      
>>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>    
>>
>
>  
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12898-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 02 14:48:05 2005
Return-Path: <lucene-user-return-12898-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 32300 invoked from network); 2 Feb 2005 14:48:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Feb 2005 14:48:04 -0000
Received: (qmail 60014 invoked by uid 500); 2 Feb 2005 14:47:59 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 59986 invoked by uid 500); 2 Feb 2005 14:47:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 59970 invoked by uid 99); 2 Feb 2005 14:47:59 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.reitverein-hohenhameln.de (HELO upk-webserver2.upk.de) (62.153.127.74)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 02 Feb 2005 06:47:58 -0800
content-class: urn:content-classes:message
Subject: AW: *term
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Date: Wed, 2 Feb 2005 15:41:29 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.0.6556.0
Message-ID: <D9DB9769052FAC458635F1B52A097A670DAD98@upk.de>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: *term
Thread-Index: AcUJLz0VT8kM809ITaiv3RcvmnY8/AABvbZA
From: "Tim Lebedkov \(UPK\)" <Tim-Lebedkov@upk.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I was not able to find anything.
Does anybody have a link?

--Tim

> -----Urspr=FCngliche Nachricht-----
> Von: sergiu gordea [mailto:gsergiu@ifit.uni-klu.ac.at]
> Gesendet: Mittwoch, 2. Februar 2005 15:04
> An: Lucene Users List
> Betreff: Re: *term
>=20
>=20
> Tim Lebedkov (UPK) wrote:
>=20
> >Hi,
> >
> >is there a way to make QueryParser accept *term?
> > =20
> >
> yes, if you apply a patch the lucene sources.
> Search for "*term search" in lucene archive.
>=20
>  Best,
>=20
>   Sergiu
>=20
> >thank you
> >--Tim
> >
> >---------------------------------------------------------------------
> >To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> > =20
> >
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20
>=20

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12899-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 02 14:51:23 2005
Return-Path: <lucene-user-return-12899-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 33842 invoked from network); 2 Feb 2005 14:51:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Feb 2005 14:51:23 -0000
Received: (qmail 65163 invoked by uid 500); 2 Feb 2005 14:51:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 65134 invoked by uid 500); 2 Feb 2005 14:51:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 65120 invoked by uid 99); 2 Feb 2005 14:51:17 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from mail02.ina.de (HELO mail02.de.ina.com) (159.51.231.16)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 02 Feb 2005 06:51:16 -0800
Received: from de010245 (de010245.ina.de [159.51.231.10])
        by mail02.de.ina.com (SMTP-GW1.2) with SMTP id j12EpuSI016818
        for <lucene-user@jakarta.apache.org>; Wed, 2 Feb 2005 15:51:56 +0100
Received: From DE010358.de.ina.com ([10.160.1.11]) by de010245 (WebShield SMTP v4.5 MR1a P0803.345);
	id 1107355880406; Wed, 2 Feb 2005 15:51:20 +0100
Received: from de010368.de.ina.com ([10.160.13.8]) by DE010358.de.ina.com with Microsoft SMTPSVC(6.0.3790.211);
	 Wed, 2 Feb 2005 15:51:05 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Disposition-Notification-To: "Gast, Thorsten  IZ/HZA-IOL" <gasttor@de.ina.com>
Subject: AW: *term
Date: Wed, 2 Feb 2005 15:51:04 +0100
Message-ID: <EF93F7C40B479D40A81430D9E32F5E8BB895BC@de010368.de.ina.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: *term
Thread-Index: AcUJLz0VT8kM809ITaiv3RcvmnY8/AABvbZAAAAMt2A=
From: "Gast, Thorsten  IZ/HZA-IOL" <gasttor@de.ina.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 02 Feb 2005 14:51:05.0060 (UTC) FILETIME=[9F033A40:01C50936]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

same for me. It was not able to search the lucene archives.
It said: "Text search not available for this list"

Any hints??

Thorsten

-----Urspr=FCngliche Nachricht-----
Von: Tim Lebedkov (UPK) [mailto:Tim-Lebedkov@upk.de]=20
Gesendet: Mittwoch, 2. Februar 2005 15:41
An: Lucene Users List
Betreff: AW: *term


Hi,

I was not able to find anything.
Does anybody have a link?

--Tim

> -----Urspr=FCngliche Nachricht-----
> Von: sergiu gordea [mailto:gsergiu@ifit.uni-klu.ac.at]
> Gesendet: Mittwoch, 2. Februar 2005 15:04
> An: Lucene Users List
> Betreff: Re: *term
>=20
>=20
> Tim Lebedkov (UPK) wrote:
>=20
> >Hi,
> >
> >is there a way to make QueryParser accept *term?
> > =20
> >
> yes, if you apply a patch the lucene sources.
> Search for "*term search" in lucene archive.
>=20
>  Best,
>=20
>   Sergiu
>=20
> >thank you
> >--Tim
> >
> >---------------------------------------------------------------------
> >To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> > =20
> >
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20
>=20

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12900-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 02 15:01:53 2005
Return-Path: <lucene-user-return-12900-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 40322 invoked from network); 2 Feb 2005 15:01:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Feb 2005 15:01:53 -0000
Received: (qmail 97541 invoked by uid 500); 2 Feb 2005 15:01:47 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 97514 invoked by uid 500); 2 Feb 2005 15:01:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 97495 invoked by uid 99); 2 Feb 2005 15:01:47 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.uunet.kelkoo.net (HELO smtp.kelkoo.net) (194.98.147.102)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 02 Feb 2005 07:01:46 -0800
Received: from kelkoo.net (alix.gre.kelkoo.net [192.168.1.144])
	(authenticated bits=0)
	by smtp.kelkoo.net (8.13.1/8.13.1) with ESMTP id j12F1ed1018434
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <lucene-user@jakarta.apache.org>; Wed, 2 Feb 2005 16:01:41 +0100
Message-ID: <4200EAEB.9090601@kelkoo.net>
Date: Wed, 02 Feb 2005 15:59:55 +0100
From: Brisbart Franck <Franck.Brisbart@kelkoo.net>
Reply-To: Lucene Users List <lucene-user@jakarta.apache.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4.3) Gecko/20041005
X-Accept-Language: fr, French/France, fr-FR, French, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: AW: *term
References: <EF93F7C40B479D40A81430D9E32F5E8BB895BC@de010368.de.ina.com>
In-Reply-To: <EF93F7C40B479D40A81430D9E32F5E8BB895BC@de010368.de.ina.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Security-Warning: SMTP AUTH used with SSL, from a friendly host. No further checking required.
X-Spam-Warning: Message skipped by SpamAssassin. [Relay 192.168.1.144 has authenticated securely.]
X-Scanned-By: MIMEDefang 2.44
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Trying searching in the mail archives:
"*term search"

It works for me with the double quotes

Franck

Gast, Thorsten IZ/HZA-IOL wrote:
> Hi,
> 
> same for me. It was not able to search the lucene archives.
> It said: "Text search not available for this list"
> 
> Any hints??
> 



-- 
Franck Brisbart
R&D
http://www.kelkoo.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12901-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 02 15:24:49 2005
Return-Path: <lucene-user-return-12901-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 56572 invoked from network); 2 Feb 2005 15:24:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Feb 2005 15:24:48 -0000
Received: (qmail 63239 invoked by uid 500); 2 Feb 2005 15:24:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 63210 invoked by uid 500); 2 Feb 2005 15:24:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 63192 invoked by uid 99); 2 Feb 2005 15:24:43 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from omx2-ext.sgi.com (HELO omx2.sgi.com) (192.48.171.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 02 Feb 2005 07:24:41 -0800
Received: from internal-mail-relay1.corp.sgi.com (internal-mail-relay1.corp.sgi.com [198.149.32.52])
	by omx2.sgi.com (8.12.11/8.12.9/linux-outbound_gateway-1.1) with ESMTP id j12GrhU4028685
	for <lucene-user@jakarta.apache.org>; Wed, 2 Feb 2005 08:53:43 -0800
Received: from pinckneya.peachtree.sgi.com (pinckneya.peachtree.sgi.com [169.238.221.130])
	by internal-mail-relay1.corp.sgi.com (8.12.9/8.12.10/SGI_generic_relay-1.2) with ESMTP id j12FRd0W156461166
	for <lucene-user@jakarta.apache.org>; Wed, 2 Feb 2005 07:27:40 -0800 (PST)
Received: from [169.238.222.12] (ptc-222-12-pc.peachtree.sgi.com [169.238.222.12])
	by pinckneya.peachtree.sgi.com (SGI-8.12.5/8.12.5) with ESMTP id j12FOcad22390904
	for <lucene-user@jakarta.apache.org>; Wed, 2 Feb 2005 10:24:38 -0500 (EST)
Message-ID: <4200F0AD.7090108@sgi.com>
Date: Wed, 02 Feb 2005 10:24:29 -0500
From: Jim Lynch <jwl@sgi.com>
User-Agent: Mozilla Thunderbird 0.9 (Windows/20041103)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: How do I delete?
References: <Pine.LNX.4.33.0502011522510.30950-100000@enigmastation.com> <41FFEBF8.1040004@sgi.com> <Pine.LNX.4.58.0502012203070.29510@hal.rescomp.berkeley.edu>
In-Reply-To: <Pine.LNX.4.58.0502012203070.29510@hal.rescomp.berkeley.edu>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

OK, the reference field was not parsed.  See:

          }else if(key.equals("reference") ) {
            reference = value;
            Field fReference = new Field("reference",value,true,true,false);
            doc.add(fReference);
On another examination of my program, the delete does seem to be 
working.  At least the delete returns a value of 1 saying it deleted one 
record.  However the search still keeps finding the old record.  I am 
doing an optimize after each index batch. 

Unfortuately the old record is still there even after I delete it.  So I 
deleted it and replaced it with the date in a different format to see if 
it was really replaced.  The date field indicates I've still got the old 
data in there for some reason.  Is data cached somewhere?

Jim.

Chris Hostetter wrote:

>: anywhere.  I checked the count coming back from the delete operation and
>: it is zero.  I even tried to delete another unique term with similar
>: results.
>
>First off, are you absolutely certain you are closing the reader?  it's
>not in the code you listed.
>
>Second, I'd bet $1 that when your documents were indexed, your "reference"
>field was analyzed and parsed into multiple terms.  Did you try searching
>for the Term you're trying to delete by?
>
>(I hear "luke" is a pretty handy tool for checking exactly which Terms are
>in your index)
>
>: >>Here is the delete and associated code:
>: >>
>: >>              reader = IndexReader.open(database);
>: >>
>: >>              Term t = new Term("reference",reference);
>: >>              try {
>: >>                reader.delete(t);
>: >>              } catch (Exception e) {
>: >>                System.out.println("Delete exception;"+e);
>: >>              }
>
>
>-Hoss
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>  
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12902-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 02 18:03:31 2005
Return-Path: <lucene-user-return-12902-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 68891 invoked from network); 2 Feb 2005 18:03:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Feb 2005 18:03:31 -0000
Received: (qmail 20218 invoked by uid 500); 2 Feb 2005 18:03:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 20191 invoked by uid 500); 2 Feb 2005 18:03:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20171 invoked by uid 99); 2 Feb 2005 18:03:24 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of chris.lu@gmail.com designates 64.233.184.204 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.204)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 02 Feb 2005 10:03:23 -0800
Received: by wproxy.gmail.com with SMTP id 71so136341wri
        for <lucene-user@jakarta.apache.org>; Wed, 02 Feb 2005 10:03:21 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:user-agent:x-accept-language:mime-version:to:subject:content-type:content-transfer-encoding;
        b=PfCtFNi6V535zv32JMkoo7Vf291wiu6SnLjg9BJnshZa3RO2A9WCjj3LWFTFwm+sjN1vr4qDx3FhNMcdNCfQxEmA5d08x8NpNQ2ObtZLAXok33wRKm6Cierlm6803GdBpKWS9qI/v8/HhRUUNzglPUK5/OWrlFRxDf/T14ulvek=
Received: by 10.54.30.15 with SMTP id d15mr112621wrd;
        Wed, 02 Feb 2005 10:03:21 -0800 (PST)
Received: from ?192.168.1.100? ([24.6.189.152])
        by smtp.gmail.com with ESMTP id d8sm48988wra.2005.02.02.10.03.20;
        Wed, 02 Feb 2005 10:03:21 -0800 (PST)
Message-ID: <42011575.5010008@gmail.com>
Date: Wed, 02 Feb 2005 10:01:25 -0800
From: Chris Lu <chris.lu@gmail.com>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: when indexing, java.io.FileNotFoundException
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,
I am getting this exception now and then when I am indexing content.
It doesn't always happen. But when it happens, I have to delete the
index and start over again.
This is a serious problem for us.

In this email, Doug was say it has something to do with win32's lack of
atomic renaming.
http://java2.5341.com/msg/1348.html

But how can I prevent this?

Chris Lu


java.io.FileNotFoundException: C:\data\indexes\customer\_temp\0\_1e.fnm
(The system cannot find the file specified)
    at java.io.RandomAccessFile.open(Native Method)
    at java.io.RandomAccessFile.<init>(RandomAccessFile.java:204)
    at
org.apache.lucene.store.FSInputStream$Descriptor.<init>(FSDirectory.java:376)
    at org.apache.lucene.store.FSInputStream.<init>(FSDirectory.java:405)
    at org.apache.lucene.store.FSDirectory.openFile(FSDirectory.java:268)
    at org.apache.lucene.index.FieldInfos.<init>(FieldInfos.java:53)
    at
org.apache.lucene.index.SegmentReader.initialize(SegmentReader.java:109)
    at org.apache.lucene.index.SegmentReader.<init>(SegmentReader.java:94)
    at
org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.java:480)
    at
org.apache.lucene.index.IndexWriter.maybeMergeSegments(IndexWriter.java:458)
    at org.apache.lucene.index.IndexWriter.addDocument(IndexWriter.java:310)
    at org.apache.lucene.index.IndexWriter.addDocument(IndexWriter.java:294)



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12903-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 02 18:03:39 2005
Return-Path: <lucene-user-return-12903-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 68974 invoked from network); 2 Feb 2005 18:03:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Feb 2005 18:03:39 -0000
Received: (qmail 20505 invoked by uid 500); 2 Feb 2005 18:03:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 20450 invoked by uid 500); 2 Feb 2005 18:03:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20385 invoked by uid 99); 2 Feb 2005 18:03:25 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of TheRanger@gmx.net designates 213.165.64.20 as permitted sender)
Received: from imap.gmx.net (HELO mail.gmx.net) (213.165.64.20)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 02 Feb 2005 10:03:24 -0800
Received: (qmail 21458 invoked by uid 0); 2 Feb 2005 18:03:20 -0000
Received: from 193.63.235.44 by www32.gmx.net with HTTP;
	Wed, 2 Feb 2005 19:03:20 +0100 (MET)
Date: Wed, 2 Feb 2005 19:03:20 +0100 (MET)
From: "Karl Koch" <TheRanger@gmx.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
MIME-Version: 1.0
References: <4200E39F.5000208@ifit.uni-klu.ac.at>
Subject: Re: which HTML parser is better?
X-Priority: 3 (Normal)
X-Authenticated: #21808356
Message-ID: <5164.1107367400@www32.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I am in control of the html, which means it is well formated HTML. I use
only HTML files which I have transformed from XML. No external HTML (e.g.
the web).

Are there any very-short solutions for that?

Karl

> Karl Koch wrote:
> 
> >Hi,
> >
> >yes, but the library your are using is quite big. I was thinking that a
> 5kB
> >code could actually do that. That sourceforge project is doing much more
> >than that but I do not need it.
> >  
> >
> you need just the htmlparser.jar 200k.
> ... you know ... the functionality is strongly correclated with the size.
> 
>   You can use 3 lines of code with a good regular expresion to eliminate 
> the html tags,
> but this won't give you any guarantie that the text from the bad 
> fromated html files will be
> correctly extracted...
> 
>   Best,
> 
>   Sergiu
> 
> >Karl
> >
> >  
> >
> >>  Hi Karl,
> >>
> >> I already submitted a peace of code that removes the html tags.
> >> Search for my previous answer in this thread.
> >>
> >>  Best,
> >>
> >>   Sergiu
> >>
> >>Karl Koch wrote:
> >>
> >>    
> >>
> >>>Hello,
> >>>
> >>>I have  been following this thread and have another question. 
> >>>
> >>>Is there a piece of sourcecode (which is preferably very short and
> simple
> >>>(KISS)) which allows to remove all HTML tags from HTML content? HTML
> 3.2
> >>>would be enough...also no frames, CSS, etc. 
> >>>
> >>>I do not need to have the HTML strucutre tree or any other structure
> but
> >>>need a facility to clean up HTML into its normal underlying content
> >>>      
> >>>
> >>before
> >>    
> >>
> >>>indexing that content as a whole.
> >>>
> >>>Karl
> >>>
> >>>
> >>> 
> >>>
> >>>      
> >>>
> >>>>I think that depends on what you want to do.  The Lucene demo parser
> >>>>        
> >>>>
> >>does
> >>    
> >>
> >>>>simple mapping of HTML files into Lucene Documents; it does not give
> you
> >>>>        
> >>>>
> >>a
> >>    
> >>
> >>>>parse tree for the HTML doc.  CyberNeko is an extension of Xerces
> (uses
> >>>>   
> >>>>
> >>>>        
> >>>>
> >>>the
> >>> 
> >>>
> >>>      
> >>>
> >>>>same API; will likely become part of Xerces), and so maps an HTML
> >>>>        
> >>>>
> >>document
> >>    
> >>
> >>>>into a full DOM that you can manipulate easily for a wide range of
> >>>>purposes.  I haven't used JTidy at an API level and so don't know it
> as
> >>>>   
> >>>>
> >>>>        
> >>>>
> >>>well --
> >>> 
> >>>
> >>>      
> >>>
> >>>>based on its UI, it appears to be focused primarily on HTML validation
> >>>>        
> >>>>
> >>and
> >>    
> >>
> >>>>error detection/correction.
> >>>>
> >>>>I use CyberNeko for a range of operations on HTML documents that go
> >>>>        
> >>>>
> >>beyond
> >>    
> >>
> >>>>indexing them in Lucene, and really like it.  It has been robust for
> me
> >>>>        
> >>>>
> >>so
> >>    
> >>
> >>>>far.
> >>>>
> >>>>Chuck
> >>>>
> >>>> > -----Original Message-----
> >>>> > From: Jingkang Zhang [mailto:zjingk@yahoo.com.cn]
> >>>> > Sent: Tuesday, February 01, 2005 1:15 AM
> >>>> > To: lucene-user@jakarta.apache.org
> >>>> > Subject: which HTML parser is better?
> >>>> > 
> >>>> > Three HTML parsers(Lucene web application
> >>>> > demo,CyberNeko HTML Parser,JTidy) are mentioned in
> >>>> > Lucene FAQ
> >>>> > 1.3.27.Which is the best?Can it filter tags that are
> >>>> > auto-created by MS-word 'Save As HTML files' function?
> >>>> > 
> >>>> > _________________________________________________________
> >>>> > Do You Yahoo!?
> >>>> > 150ÕÚ«˙MP3∑ËøÒÀ—£¨¥¯ƒ˙¥≥»Î“Ù¿÷µÓÃ√
> >>>> > http://music.yisou.com/
> >>>> > √¿≈Æ√˜–«”¶”–æ°”–£¨À—±È√¿Õº°¢—ﬁÕº∫Õø·Õº
> >>>> > http://image.yisou.com
> >>>> > 1GæÕ «1000’◊£¨—≈ª¢µÁ” ◊‘÷˙¿©»›£°
> >>>> >
>
>>>>http://cn.rd.yahoo.com/mail_cn/tag/1g/*http://cn.mail.yahoo.com/event/ma
> >>>> > il_1g/
> >>>> > 
> >>>> >
> >>>>        
> >>>>
> >>---------------------------------------------------------------------
> >>    
> >>
> >>>> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >>>> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> >>>>
> >>>>
> >>>>---------------------------------------------------------------------
> >>>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >>>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >>>>
> >>>>   
> >>>>
> >>>>        
> >>>>
> >>> 
> >>>
> >>>      
> >>>
> >>---------------------------------------------------------------------
> >>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >>
> >>    
> >>
> >
> >  
> >
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
GMX im TV ... Die Gedanken sind frei ... Schon gesehen?
Jetzt Spot online ansehen: http://www.gmx.net/de/go/tv-spot

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12904-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 02 18:23:17 2005
Return-Path: <lucene-user-return-12904-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 78281 invoked from network); 2 Feb 2005 18:23:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Feb 2005 18:23:17 -0000
Received: (qmail 61347 invoked by uid 500); 2 Feb 2005 18:23:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 61322 invoked by uid 500); 2 Feb 2005 18:23:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 61307 invoked by uid 99); 2 Feb 2005 18:23:12 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from proserver2.ifit.uni-klu.ac.at (HELO proserver2.ifit.uni-klu.ac.at) (143.205.118.212)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 02 Feb 2005 10:23:10 -0800
Received: from [143.205.118.98] ([143.205.118.98]) by proserver2.ifit.uni-klu.ac.at over TLS secured channel with Microsoft SMTPSVC(5.0.2195.6713);
	 Wed, 2 Feb 2005 19:23:07 +0100
Message-ID: <42011A8B.4050000@ifit.uni-klu.ac.at>
Date: Wed, 02 Feb 2005 19:23:07 +0100
From: sergiu gordea <gsergiu@ifit.uni-klu.ac.at>
User-Agent: Mozilla Thunderbird 0.7 (Windows/20040616)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: which HTML parser is better?
References: <4200E39F.5000208@ifit.uni-klu.ac.at> <5164.1107367400@www32.gmx.net>
In-Reply-To: <5164.1107367400@www32.gmx.net>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-OriginalArrivalTime: 02 Feb 2005 18:23:07.0284 (UTC) FILETIME=[3E0C8D40:01C50954]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Karl Koch wrote:

>I am in control of the html, which means it is well formated HTML. I use
>only HTML files which I have transformed from XML. No external HTML (e.g.
>the web).
>
>Are there any very-short solutions for that?
>  
>
if you are using only correct formated HTML pages and you are in control 
of these pages.
you can use a regular exprestion to remove the tags.

something like
replaceAll("<*>","");

This is the ideea behind the operation. If you will search on google you 
will find a more robust
regular expression.

Using a simple regular expression will be a very cheap solution, that 
can cause you a lot of problems in the future.
 
 It's up to you to use it ....

 Best,
 
 Sergiu

>Karl
>
>  
>
>>Karl Koch wrote:
>>
>>    
>>
>>>Hi,
>>>
>>>yes, but the library your are using is quite big. I was thinking that a
>>>      
>>>
>>5kB
>>    
>>
>>>code could actually do that. That sourceforge project is doing much more
>>>than that but I do not need it.
>>> 
>>>
>>>      
>>>
>>you need just the htmlparser.jar 200k.
>>... you know ... the functionality is strongly correclated with the size.
>>
>>  You can use 3 lines of code with a good regular expresion to eliminate 
>>the html tags,
>>but this won't give you any guarantie that the text from the bad 
>>fromated html files will be
>>correctly extracted...
>>
>>  Best,
>>
>>  Sergiu
>>
>>    
>>
>>>Karl
>>>
>>> 
>>>
>>>      
>>>
>>>> Hi Karl,
>>>>
>>>>I already submitted a peace of code that removes the html tags.
>>>>Search for my previous answer in this thread.
>>>>
>>>> Best,
>>>>
>>>>  Sergiu
>>>>
>>>>Karl Koch wrote:
>>>>
>>>>   
>>>>
>>>>        
>>>>
>>>>>Hello,
>>>>>
>>>>>I have  been following this thread and have another question. 
>>>>>
>>>>>Is there a piece of sourcecode (which is preferably very short and
>>>>>          
>>>>>
>>simple
>>    
>>
>>>>>(KISS)) which allows to remove all HTML tags from HTML content? HTML
>>>>>          
>>>>>
>>3.2
>>    
>>
>>>>>would be enough...also no frames, CSS, etc. 
>>>>>
>>>>>I do not need to have the HTML strucutre tree or any other structure
>>>>>          
>>>>>
>>but
>>    
>>
>>>>>need a facility to clean up HTML into its normal underlying content
>>>>>     
>>>>>
>>>>>          
>>>>>
>>>>before
>>>>   
>>>>
>>>>        
>>>>
>>>>>indexing that content as a whole.
>>>>>
>>>>>Karl
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>     
>>>>>
>>>>>          
>>>>>
>>>>>>I think that depends on what you want to do.  The Lucene demo parser
>>>>>>       
>>>>>>
>>>>>>            
>>>>>>
>>>>does
>>>>   
>>>>
>>>>        
>>>>
>>>>>>simple mapping of HTML files into Lucene Documents; it does not give
>>>>>>            
>>>>>>
>>you
>>    
>>
>>>>>>       
>>>>>>
>>>>>>            
>>>>>>
>>>>a
>>>>   
>>>>
>>>>        
>>>>
>>>>>>parse tree for the HTML doc.  CyberNeko is an extension of Xerces
>>>>>>            
>>>>>>
>>(uses
>>    
>>
>>>>>>  
>>>>>>
>>>>>>       
>>>>>>
>>>>>>            
>>>>>>
>>>>>the
>>>>>
>>>>>
>>>>>     
>>>>>
>>>>>          
>>>>>
>>>>>>same API; will likely become part of Xerces), and so maps an HTML
>>>>>>       
>>>>>>
>>>>>>            
>>>>>>
>>>>document
>>>>   
>>>>
>>>>        
>>>>
>>>>>>into a full DOM that you can manipulate easily for a wide range of
>>>>>>purposes.  I haven't used JTidy at an API level and so don't know it
>>>>>>            
>>>>>>
>>as
>>    
>>
>>>>>>  
>>>>>>
>>>>>>       
>>>>>>
>>>>>>            
>>>>>>
>>>>>well --
>>>>>
>>>>>
>>>>>     
>>>>>
>>>>>          
>>>>>
>>>>>>based on its UI, it appears to be focused primarily on HTML validation
>>>>>>       
>>>>>>
>>>>>>            
>>>>>>
>>>>and
>>>>   
>>>>
>>>>        
>>>>
>>>>>>error detection/correction.
>>>>>>
>>>>>>I use CyberNeko for a range of operations on HTML documents that go
>>>>>>       
>>>>>>
>>>>>>            
>>>>>>
>>>>beyond
>>>>   
>>>>
>>>>        
>>>>
>>>>>>indexing them in Lucene, and really like it.  It has been robust for
>>>>>>            
>>>>>>
>>me
>>    
>>
>>>>>>       
>>>>>>
>>>>>>            
>>>>>>
>>>>so
>>>>   
>>>>
>>>>        
>>>>
>>>>>>far.
>>>>>>
>>>>>>Chuck
>>>>>>
>>>>>>            
>>>>>>
>>>>>>>-----Original Message-----
>>>>>>>From: Jingkang Zhang [mailto:zjingk@yahoo.com.cn]
>>>>>>>Sent: Tuesday, February 01, 2005 1:15 AM
>>>>>>>To: lucene-user@jakarta.apache.org
>>>>>>>Subject: which HTML parser is better?
>>>>>>>
>>>>>>>Three HTML parsers(Lucene web application
>>>>>>>demo,CyberNeko HTML Parser,JTidy) are mentioned in
>>>>>>>Lucene FAQ
>>>>>>>1.3.27.Which is the best?Can it filter tags that are
>>>>>>>auto-created by MS-word 'Save As HTML files' function?
>>>>>>>
>>>>>>>_________________________________________________________
>>>>>>>Do You Yahoo!?
>>>>>>>150ÕÚ«˙MP3∑ËøÒÀ—£¨¥¯ƒ˙¥≥»Î“Ù¿÷µÓÃ√
>>>>>>>http://music.yisou.com/
>>>>>>>√¿≈Æ√˜–«”¶”–æ°”–£¨À—±È√¿Õº°¢—ﬁÕº∫Õø·Õº
>>>>>>>http://image.yisou.com
>>>>>>>1GæÕ «1000’◊£¨—≈ª¢µÁ” ◊‘÷˙¿©»›£°
>>>>>>>
>>>>>>>              
>>>>>>>
>>>>>http://cn.rd.yahoo.com/mail_cn/tag/1g/*http://cn.mail.yahoo.com/event/ma
>>>>>          
>>>>>
>>>>>>>il_1g/
>>>>>>>
>>>>>>>
>>>>>>>              
>>>>>>>
>>>>>>       
>>>>>>
>>>>>>            
>>>>>>
>>>>---------------------------------------------------------------------
>>>>   
>>>>
>>>>        
>>>>
>>>>>>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>>>>>>For additional commands, e-mail:
>>>>>>>              
>>>>>>>
>>lucene-user-help@jakarta.apache.org
>>    
>>
>>>>>>---------------------------------------------------------------------
>>>>>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>>>>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>>>>>
>>>>>>  
>>>>>>
>>>>>>       
>>>>>>
>>>>>>            
>>>>>>
>>>>>     
>>>>>
>>>>>          
>>>>>
>>>>---------------------------------------------------------------------
>>>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>>>
>>>>   
>>>>
>>>>        
>>>>
>>> 
>>>
>>>      
>>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>    
>>
>
>  
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12905-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 02 19:26:39 2005
Return-Path: <lucene-user-return-12905-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 13105 invoked from network); 2 Feb 2005 19:26:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Feb 2005 19:26:38 -0000
Received: (qmail 5592 invoked by uid 500); 2 Feb 2005 19:26:33 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 5568 invoked by uid 500); 2 Feb 2005 19:26:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5554 invoked by uid 99); 2 Feb 2005 19:26:32 -0000
X-ASF-Spam-Status: No, hits=3.7 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_BOGUSMX,DNS_FROM_RFC_POST,FROM_ENDS_IN_NUMS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.itnet.ie (HELO itnet.ie) (193.1.207.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 02 Feb 2005 11:26:31 -0800
Received: from X00001850 [194.145.135.38] by itnet.ie
	with NetMail ModWeb Module; Wed, 02 Feb 2005 19:26:29 +0000
Subject: Compile lucene
From: "Helen Butler" <X00001850@itnet.ie>
To: lucene-user@jakarta.apache.org
Date: Wed, 02 Feb 2005 19:26:29 +0000
X-Mailer: NetMail ModWeb Module
X-Sender: X00001850
MIME-Version: 1.0
Message-ID: <1107372389.a84118c0X00001850@itnet.ie>
Content-Type: text/plain; charset="UTF-8"
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi

Im trying to Compile Lucene but am encountering the following error on typi=
ng ant from the root of Lucene-1.4.3



C:\lucene-1.4.3>ant
Buildfile: build.xml

init:

compile-core:

BUILD FAILED
C:\lucene-1.4.3\build.xml:140: srcdir "C:\lucene-1.4.3\src\java" does not e=
=3D
xist!


I've installed a jdk and ant successfully and set the following CLASSPATH
C:\lucene-1.4.3\lucene-demos-1.4.3.jar;C:\lucene-1.4.3\lucene-1.4.3.jar

Would really appreciate any help or ideas

Thank You
Helen



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12906-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 02 19:39:11 2005
Return-Path: <lucene-user-return-12906-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 29650 invoked from network); 2 Feb 2005 19:39:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Feb 2005 19:39:10 -0000
Received: (qmail 37406 invoked by uid 500); 2 Feb 2005 19:39:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 37379 invoked by uid 500); 2 Feb 2005 19:39:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 37364 invoked by uid 99); 2 Feb 2005 19:39:05 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp-vbr4.xs4all.nl (HELO smtp-vbr4.xs4all.nl) (194.109.24.24)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 02 Feb 2005 11:39:04 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr4.xs4all.nl (8.12.11/8.12.11) with ESMTP id j12Jd1Ai082424
	for <lucene-user@jakarta.apache.org>; Wed, 2 Feb 2005 20:39:01 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: lucene-user@jakarta.apache.org
Subject: Re: Compile lucene
Date: Wed, 2 Feb 2005 20:39:01 +0100
User-Agent: KMail/1.5.4
References: <1107372389.a84118c0X00001850@itnet.ie>
In-Reply-To: <1107372389.a84118c0X00001850@itnet.ie>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200502022039.01191.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Helen,

On Wednesday 02 February 2005 20:26, Helen Butler wrote:
> Hi
> 
> Im trying to Compile Lucene but am encountering the following error on 
typing ant from the root of Lucene-1.4.3
> 
> C:\lucene-1.4.3>ant
> Buildfile: build.xml
> 
> init:
> 
> compile-core:
> 
> BUILD FAILED
> C:\lucene-1.4.3\build.xml:140: srcdir "C:\lucene-1.4.3\src\java" does not e=
> xist!

It seems the java source files were not extracted.

How did you obtain the build.xml file?

Once the compilation works, you'll notice that the lucene jar being built
has a 1.5 version number because of an incorrect version number
in the 1.4.3 build.xml.
You need to correct the version property in the build.xml file:
  <property name="version" value="1.4.3"/>

Regards,
Paul Elschot.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12907-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 02 19:40:13 2005
Return-Path: <lucene-user-return-12907-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 30274 invoked from network); 2 Feb 2005 19:40:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Feb 2005 19:40:13 -0000
Received: (qmail 39752 invoked by uid 500); 2 Feb 2005 19:40:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 39720 invoked by uid 500); 2 Feb 2005 19:40:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39707 invoked by uid 99); 2 Feb 2005 19:40:07 -0000
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web30206.mail.mud.yahoo.com (HELO web30206.mail.mud.yahoo.com) (68.142.200.89)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 02 Feb 2005 11:40:06 -0800
Received: (qmail 89421 invoked by uid 60001); 2 Feb 2005 19:40:03 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=AXrT4Ni2uozkUQUlBPexSr7dq9AmHnpTyjNgwtrU4WxQC1cyIAZ4yrmEmMyQ59XCAGK/E2FCVLPRm0JLsfeKXcARmxzBdJvjdV+R/lf4hEXTjnUVbp11/TVbzvzKcvjYNRTUN32EUAMvsVbUjdeGCXpSf1UmWmPc+7x4ayHoxIc=  ;
Message-ID: <20050202194003.89418.qmail@web30206.mail.mud.yahoo.com>
Received: from [216.194.17.194] by web30206.mail.mud.yahoo.com via HTTP; Wed, 02 Feb 2005 11:40:03 PST
Date: Wed, 2 Feb 2005 11:40:03 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: which HTML parser is better?
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <42011A8B.4050000@ifit.uni-klu.ac.at>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

If you are not married to Java:
http://search.cpan.org/~kilinrax/HTML-Strip-1.04/Strip.pm

Otis

--- sergiu gordea <gsergiu@ifit.uni-klu.ac.at> wrote:

> Karl Koch wrote:
> 
> >I am in control of the html, which means it is well formated HTML. I
> use
> >only HTML files which I have transformed from XML. No external HTML
> (e.g.
> >the web).
> >
> >Are there any very-short solutions for that?
> >  
> >
> if you are using only correct formated HTML pages and you are in
> control 
> of these pages.
> you can use a regular exprestion to remove the tags.
> 
> something like
> replaceAll("<*>","");
> 
> This is the ideea behind the operation. If you will search on google
> you 
> will find a more robust
> regular expression.
> 
> Using a simple regular expression will be a very cheap solution, that
> 
> can cause you a lot of problems in the future.
>  
>  It's up to you to use it ....
> 
>  Best,
>  
>  Sergiu
> 
> >Karl
> >
> >  
> >
> >>Karl Koch wrote:
> >>
> >>    
> >>
> >>>Hi,
> >>>
> >>>yes, but the library your are using is quite big. I was thinking
> that a
> >>>      
> >>>
> >>5kB
> >>    
> >>
> >>>code could actually do that. That sourceforge project is doing
> much more
> >>>than that but I do not need it.
> >>> 
> >>>
> >>>      
> >>>
> >>you need just the htmlparser.jar 200k.
> >>... you know ... the functionality is strongly correclated with the
> size.
> >>
> >>  You can use 3 lines of code with a good regular expresion to
> eliminate 
> >>the html tags,
> >>but this won't give you any guarantie that the text from the bad 
> >>fromated html files will be
> >>correctly extracted...
> >>
> >>  Best,
> >>
> >>  Sergiu
> >>
> >>    
> >>
> >>>Karl
> >>>
> >>> 
> >>>
> >>>      
> >>>
> >>>> Hi Karl,
> >>>>
> >>>>I already submitted a peace of code that removes the html tags.
> >>>>Search for my previous answer in this thread.
> >>>>
> >>>> Best,
> >>>>
> >>>>  Sergiu
> >>>>
> >>>>Karl Koch wrote:
> >>>>
> >>>>   
> >>>>
> >>>>        
> >>>>
> >>>>>Hello,
> >>>>>
> >>>>>I have  been following this thread and have another question. 
> >>>>>
> >>>>>Is there a piece of sourcecode (which is preferably very short
> and
> >>>>>          
> >>>>>
> >>simple
> >>    
> >>
> >>>>>(KISS)) which allows to remove all HTML tags from HTML content?
> HTML
> >>>>>          
> >>>>>
> >>3.2
> >>    
> >>
> >>>>>would be enough...also no frames, CSS, etc. 
> >>>>>
> >>>>>I do not need to have the HTML strucutre tree or any other
> structure
> >>>>>          
> >>>>>
> >>but
> >>    
> >>
> >>>>>need a facility to clean up HTML into its normal underlying
> content
> >>>>>     
> >>>>>
> >>>>>          
> >>>>>
> >>>>before
> >>>>   
> >>>>
> >>>>        
> >>>>
> >>>>>indexing that content as a whole.
> >>>>>
> >>>>>Karl
> >>>>>
> >>>>>
> >>>>>
> >>>>>
> >>>>>     
> >>>>>
> >>>>>          
> >>>>>
> >>>>>>I think that depends on what you want to do.  The Lucene demo
> parser
> >>>>>>       
> >>>>>>
> >>>>>>            
> >>>>>>
> >>>>does
> >>>>   
> >>>>
> >>>>        
> >>>>
> >>>>>>simple mapping of HTML files into Lucene Documents; it does not
> give
> >>>>>>            
> >>>>>>
> >>you
> >>    
> >>
> >>>>>>       
> >>>>>>
> >>>>>>            
> >>>>>>
> >>>>a
> >>>>   
> >>>>
> >>>>        
> >>>>
> >>>>>>parse tree for the HTML doc.  CyberNeko is an extension of
> Xerces
> >>>>>>            
> >>>>>>
> >>(uses
> >>    
> >>
> >>>>>>  
> >>>>>>
> >>>>>>       
> >>>>>>
> >>>>>>            
> >>>>>>
> >>>>>the
> >>>>>
> >>>>>
> >>>>>     
> >>>>>
> >>>>>          
> >>>>>
> >>>>>>same API; will likely become part of Xerces), and so maps an
> HTML
> >>>>>>       
> >>>>>>
> >>>>>>            
> >>>>>>
> >>>>document
> >>>>   
> >>>>
> >>>>        
> >>>>
> >>>>>>into a full DOM that you can manipulate easily for a wide range
> of
> >>>>>>purposes.  I haven't used JTidy at an API level and so don't
> know it
> >>>>>>            
> >>>>>>
> >>as
> >>    
> >>
> >>>>>>  
> >>>>>>
> >>>>>>       
> >>>>>>
> >>>>>>            
> >>>>>>
> >>>>>well --
> >>>>>
> >>>>>
> >>>>>     
> >>>>>
> >>>>>          
> >>>>>
> >>>>>>based on its UI, it appears to be focused primarily on HTML
> validation
> >>>>>>       
> >>>>>>
> >>>>>>            
> >>>>>>
> >>>>and
> >>>>   
> >>>>
> >>>>        
> >>>>
> >>>>>>error detection/correction.
> >>>>>>
> >>>>>>I use CyberNeko for a range of operations on HTML documents
> that go
> >>>>>>       
> >>>>>>
> >>>>>>            
> >>>>>>
> >>>>beyond
> >>>>   
> >>>>
> >>>>        
> >>>>
> >>>>>>indexing them in Lucene, and really like it.  It has been
> robust for
> >>>>>>            
> >>>>>>
> >>me
> >>    
> >>
> >>>>>>       
> >>>>>>
> >>>>>>            
> >>>>>>
> >>>>so
> >>>>   
> >>>>
> >>>>        
> >>>>
> >>>>>>far.
> >>>>>>
> >>>>>>Chuck
> >>>>>>
> >>>>>>            
> >>>>>>
> >>>>>>>-----Original Message-----
> >>>>>>>From: Jingkang Zhang [mailto:zjingk@yahoo.com.cn]
> >>>>>>>Sent: Tuesday, February 01, 2005 1:15 AM
> >>>>>>>To: lucene-user@jakarta.apache.org
> >>>>>>>Subject: which HTML parser is better?
> >>>>>>>
> >>>>>>>Three HTML parsers(Lucene web application
> >>>>>>>demo,CyberNeko HTML Parser,JTidy) are mentioned in
> >>>>>>>Lucene FAQ
> >>>>>>>1.3.27.Which is the best?Can it filter tags that are
> >>>>>>>auto-created by MS-word 'Save As HTML files' function?
> >>>>>>>
> >>>>>>>_________________________________________________________
> >>>>>>>Do You Yahoo!?
> >>>>>>>150ÕÚ«˙MP3∑ËøÒÀ—£¨¥¯ƒ˙¥≥»Î“Ù¿÷µÓÃ√
> >>>>>>>http://music.yisou.com/
> >>>>>>>√¿≈Æ√˜–«”¶”–æ°”–£¨À—±È√¿Õº°¢—ﬁÕº∫Õø·Õº
> >>>>>>>http://image.yisou.com
> >>>>>>>1GæÕ «1000’◊£¨—≈ª¢µÁ” ◊‘÷˙¿©»›£°
> >>>>>>>
> >>>>>>>              
> >>>>>>>
>
>>>>>http://cn.rd.yahoo.com/mail_cn/tag/1g/*http://cn.mail.yahoo.com/event/ma
> >>>>>          
> >>>>>
> >>>>>>>il_1g/
> >>>>>>>
> >>>>>>>
> >>>>>>>              
> >>>>>>>
> >>>>>>       
> >>>>>>
> >>>>>>            
> >>>>>>
>
>>>>---------------------------------------------------------------------
> >>>>   
> >>>>
> >>>>        
> >>>>
> >>>>>>>To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> >>>>>>>For additional commands, e-mail:
> >>>>>>>              
> >>>>>>>
> >>lucene-user-help@jakarta.apache.org
> >>    
> >>
>
>>>>>>---------------------------------------------------------------------
> >>>>>>To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> >>>>>>For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> >>>>>>
> >>>>>>  
> >>>>>>
> >>>>>>       
> >>>>>>
> >>>>>>            
> >>>>>>
> >>>>>     
> >>>>>
> >>>>>          
> >>>>>
>
>>>>---------------------------------------------------------------------
> >>>>To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> >>>>For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> >>>>
> >>>>   
> >>>>
> >>>>        
> >>>>
> >>> 
> >>>
> >>>      
> >>>
>
>>---------------------------------------------------------------------
> >>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >>For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> >>
> >>    
> >>
> >
> >  
> >
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12908-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 02 19:41:55 2005
Return-Path: <lucene-user-return-12908-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 31194 invoked from network); 2 Feb 2005 19:41:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Feb 2005 19:41:55 -0000
Received: (qmail 44592 invoked by uid 500); 2 Feb 2005 19:41:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 44567 invoked by uid 500); 2 Feb 2005 19:41:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 44554 invoked by uid 99); 2 Feb 2005 19:41:49 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork11.mail.Virginia.EDU (HELO fork11.mail.virginia.edu) (128.143.2.181)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 02 Feb 2005 11:41:48 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork11.mail.virginia.edu (Postfix) with ESMTP id B01DF1F51BC
	for <lucene-user@jakarta.apache.org>; Wed,  2 Feb 2005 14:41:44 -0500 (EST)
Received: from fork11.mail.virginia.edu ([127.0.0.1])
 by localhost (fork11.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 21050-04 for <lucene-user@jakarta.apache.org>;
 Wed,  2 Feb 2005 14:41:44 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by fork11.mail.virginia.edu (Postfix) with ESMTP id 2FCC91F5197
	for <lucene-user@jakarta.apache.org>; Wed,  2 Feb 2005 14:41:43 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <1107372389.a84118c0X00001850@itnet.ie>
References: <1107372389.a84118c0X00001850@itnet.ie>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <d9af4287ddb79dbdd2c231588f1f9458@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Compile lucene
Date: Wed, 2 Feb 2005 14:41:41 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-UVA-Virus-Scanned: by amavisd-new at fork11.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Feb 2, 2005, at 2:26 PM, Helen Butler wrote:

> Hi
>
> Im trying to Compile Lucene but am encountering the following error on 
> typing ant from the root of Lucene-1.4.3
>
>
>
> C:\lucene-1.4.3>ant
> Buildfile: build.xml
>
> init:
>
> compile-core:
>
> BUILD FAILED
> C:\lucene-1.4.3\build.xml:140: srcdir "C:\lucene-1.4.3\src\java" does 
> not e=
> xist!


>
>
> I've installed a jdk and ant successfully and set the following 
> CLASSPATH
> C:\lucene-1.4.3\lucene-demos-1.4.3.jar;C:\lucene-1.4.3\lucene-1.4.3.jar

first rule of using Ant, don't use a CLASSPATH.  It is unnecessary, not 
to mention you put JAR files in there that you appear to be trying to 
build.

Do you have the source code distribution of Lucene?  It appears not, or 
you'd have src/java available.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12909-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 02 19:54:16 2005
Return-Path: <lucene-user-return-12909-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 38659 invoked from network); 2 Feb 2005 19:54:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Feb 2005 19:54:15 -0000
Received: (qmail 78115 invoked by uid 500); 2 Feb 2005 19:54:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 78088 invoked by uid 500); 2 Feb 2005 19:54:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78075 invoked by uid 99); 2 Feb 2005 19:54:10 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 02 Feb 2005 11:54:08 -0800
Received: from p001002 ([204.225.84.27]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Wed, 2 Feb 2005 14:58:36 -0500
Message-ID: <053401c50961$94cfa100$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <4200E39F.5000208@ifit.uni-klu.ac.at> <5164.1107367400@www32.gmx.net> <42011A8B.4050000@ifit.uni-klu.ac.at>
Subject: Re: which HTML parser is better?
Date: Wed, 2 Feb 2005 14:58:36 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 02 Feb 2005 19:58:36.0642 (UTC) FILETIME=[95033420:01C50961]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

In our application I use regular expressions to strip all tags in one
situation and specific ones in another situation. Here is sample code for
both:

This strips all html 4.0 tags except <p>, <ul>, <br>, <li>, <strong>, <em>,
<u>:

html_source =
Pattern.compile("</?\\s?(A|ABBR|ACRONYM|ADDRESS|APPLET|AREA|B|BASE|BASEFONT|
BDO|BIG|BLOCKQUOTE|BODY|BUTTON|CAPTION|CENTER|CITE|CODE|COL|COLGROUP|DD|DEL|
DFN|DIR|DIV|DL|DT|FIELDSET|FONT|FORM|FRAME|FRAMESET|H1|H2|H3|H4|H5|H6|HEAD|H
R|HTML|I|IFRAME|IMG|INPUT|INS|ISINDEX|KBD|LABEL|LEGEND|LINK|MAP|MENU|META|NO
FRAMES|NOSCRIPT|OBJECT|OL|OPTGROUP|OPTION|PARAM|PRE|Q|S|SAMP|SCRIPT|SELECT|S
MALL|SPAN|STRIKE|STYLE|SUB|SUP|TABLE|TBODY|TD|TEXTAREA|TFOOT|TH|THEAD|TITLE|
TR|TT|VAR)(.|\n)*?\\s?>",
Pattern.CASE_INSENSITIVE).matcher(html_source).replaceAll("");

When I want to strip anything in a tag I use the following pattern with the
code above:

String strPattern1 = "<\\s?(.|\n)*?\\s?>";

HTH

Luke



----- Original Message ----- 
From: "sergiu gordea" <gsergiu@ifit.uni-klu.ac.at>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Wednesday, February 02, 2005 1:23 PM
Subject: Re: which HTML parser is better?


> Karl Koch wrote:
>
> >I am in control of the html, which means it is well formated HTML. I use
> >only HTML files which I have transformed from XML. No external HTML (e.g.
> >the web).
> >
> >Are there any very-short solutions for that?
> >
> >
> if you are using only correct formated HTML pages and you are in control
> of these pages.
> you can use a regular exprestion to remove the tags.
>
> something like
> replaceAll("<*>","");
>
> This is the ideea behind the operation. If you will search on google you
> will find a more robust
> regular expression.
>
> Using a simple regular expression will be a very cheap solution, that
> can cause you a lot of problems in the future.
>
>  It's up to you to use it ....
>
>  Best,
>
>  Sergiu
>
> >Karl
> >
> >
> >
> >>Karl Koch wrote:
> >>
> >>
> >>
> >>>Hi,
> >>>
> >>>yes, but the library your are using is quite big. I was thinking that a
> >>>
> >>>
> >>5kB
> >>
> >>
> >>>code could actually do that. That sourceforge project is doing much
more
> >>>than that but I do not need it.
> >>>
> >>>
> >>>
> >>>
> >>you need just the htmlparser.jar 200k.
> >>... you know ... the functionality is strongly correclated with the
size.
> >>
> >>  You can use 3 lines of code with a good regular expresion to eliminate
> >>the html tags,
> >>but this won't give you any guarantie that the text from the bad
> >>fromated html files will be
> >>correctly extracted...
> >>
> >>  Best,
> >>
> >>  Sergiu
> >>
> >>
> >>
> >>>Karl
> >>>
> >>>
> >>>
> >>>
> >>>
> >>>> Hi Karl,
> >>>>
> >>>>I already submitted a peace of code that removes the html tags.
> >>>>Search for my previous answer in this thread.
> >>>>
> >>>> Best,
> >>>>
> >>>>  Sergiu
> >>>>
> >>>>Karl Koch wrote:
> >>>>
> >>>>
> >>>>
> >>>>
> >>>>
> >>>>>Hello,
> >>>>>
> >>>>>I have  been following this thread and have another question.
> >>>>>
> >>>>>Is there a piece of sourcecode (which is preferably very short and
> >>>>>
> >>>>>
> >>simple
> >>
> >>
> >>>>>(KISS)) which allows to remove all HTML tags from HTML content? HTML
> >>>>>
> >>>>>
> >>3.2
> >>
> >>
> >>>>>would be enough...also no frames, CSS, etc.
> >>>>>
> >>>>>I do not need to have the HTML strucutre tree or any other structure
> >>>>>
> >>>>>
> >>but
> >>
> >>
> >>>>>need a facility to clean up HTML into its normal underlying content
> >>>>>
> >>>>>
> >>>>>
> >>>>>
> >>>>before
> >>>>
> >>>>
> >>>>
> >>>>
> >>>>>indexing that content as a whole.
> >>>>>
> >>>>>Karl
> >>>>>
> >>>>>
> >>>>>
> >>>>>
> >>>>>
> >>>>>
> >>>>>
> >>>>>
> >>>>>>I think that depends on what you want to do.  The Lucene demo parser
> >>>>>>
> >>>>>>
> >>>>>>
> >>>>>>
> >>>>does
> >>>>
> >>>>
> >>>>
> >>>>
> >>>>>>simple mapping of HTML files into Lucene Documents; it does not give
> >>>>>>
> >>>>>>
> >>you
> >>
> >>
> >>>>>>
> >>>>>>
> >>>>>>
> >>>>>>
> >>>>a
> >>>>
> >>>>
> >>>>
> >>>>
> >>>>>>parse tree for the HTML doc.  CyberNeko is an extension of Xerces
> >>>>>>
> >>>>>>
> >>(uses
> >>
> >>
> >>>>>>
> >>>>>>
> >>>>>>
> >>>>>>
> >>>>>>
> >>>>>>
> >>>>>the
> >>>>>
> >>>>>
> >>>>>
> >>>>>
> >>>>>
> >>>>>
> >>>>>>same API; will likely become part of Xerces), and so maps an HTML
> >>>>>>
> >>>>>>
> >>>>>>
> >>>>>>
> >>>>document
> >>>>
> >>>>
> >>>>
> >>>>
> >>>>>>into a full DOM that you can manipulate easily for a wide range of
> >>>>>>purposes.  I haven't used JTidy at an API level and so don't know it
> >>>>>>
> >>>>>>
> >>as
> >>
> >>
> >>>>>>
> >>>>>>
> >>>>>>
> >>>>>>
> >>>>>>
> >>>>>>
> >>>>>well --
> >>>>>
> >>>>>
> >>>>>
> >>>>>
> >>>>>
> >>>>>
> >>>>>>based on its UI, it appears to be focused primarily on HTML
validation
> >>>>>>
> >>>>>>
> >>>>>>
> >>>>>>
> >>>>and
> >>>>
> >>>>
> >>>>
> >>>>
> >>>>>>error detection/correction.
> >>>>>>
> >>>>>>I use CyberNeko for a range of operations on HTML documents that go
> >>>>>>
> >>>>>>
> >>>>>>
> >>>>>>
> >>>>beyond
> >>>>
> >>>>
> >>>>
> >>>>
> >>>>>>indexing them in Lucene, and really like it.  It has been robust for
> >>>>>>
> >>>>>>
> >>me
> >>
> >>
> >>>>>>
> >>>>>>
> >>>>>>
> >>>>>>
> >>>>so
> >>>>
> >>>>
> >>>>
> >>>>
> >>>>>>far.
> >>>>>>
> >>>>>>Chuck
> >>>>>>
> >>>>>>
> >>>>>>
> >>>>>>>-----Original Message-----
> >>>>>>>From: Jingkang Zhang [mailto:zjingk@yahoo.com.cn]
> >>>>>>>Sent: Tuesday, February 01, 2005 1:15 AM
> >>>>>>>To: lucene-user@jakarta.apache.org
> >>>>>>>Subject: which HTML parser is better?
> >>>>>>>
> >>>>>>>Three HTML parsers(Lucene web application
> >>>>>>>demo,CyberNeko HTML Parser,JTidy) are mentioned in
> >>>>>>>Lucene FAQ
> >>>>>>>1.3.27.Which is the best?Can it filter tags that are
> >>>>>>>auto-created by MS-word 'Save As HTML files' function?
> >>>>>>>
> >>>>>>>_________________________________________________________
> >>>>>>>Do You Yahoo!?
> >>>>>>>150ÕÚ«˙MP3∑ËøÒÀ—£¨¥¯ƒ˙¥≥»Î“Ù¿÷µÓÃ√
> >>>>>>>http://music.yisou.com/
> >>>>>>>√¿≈Æ√˜–«”¶”–æ°”–£¨À—±È√¿Õº°¢—ﬁÕº∫Õø·Õº
> >>>>>>>http://image.yisou.com
> >>>>>>>1GæÕ «1000’◊£¨—≈ª¢µÁ” ◊‘÷˙¿©»›£°
> >>>>>>>
> >>>>>>>
> >>>>>>>
>
>>>>>http://cn.rd.yahoo.com/mail_cn/tag/1g/*http://cn.mail.yahoo.com/event/m
a
> >>>>>
> >>>>>
> >>>>>>>il_1g/
> >>>>>>>
> >>>>>>>
> >>>>>>>
> >>>>>>>
> >>>>>>
> >>>>>>
> >>>>>>
> >>>>>>
> >>>>---------------------------------------------------------------------
> >>>>
> >>>>
> >>>>
> >>>>
> >>>>>>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >>>>>>>For additional commands, e-mail:
> >>>>>>>
> >>>>>>>
> >>lucene-user-help@jakarta.apache.org
> >>
> >>
>
>>>>>>---------------------------------------------------------------------
> >>>>>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >>>>>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >>>>>>
> >>>>>>
> >>>>>>
> >>>>>>
> >>>>>>
> >>>>>>
> >>>>>>
> >>>>>
> >>>>>
> >>>>>
> >>>>>
> >>>>---------------------------------------------------------------------
> >>>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >>>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >>>>
> >>>>
> >>>>
> >>>>
> >>>>
> >>>
> >>>
> >>>
> >>>
> >>---------------------------------------------------------------------
> >>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >>
> >>
> >>
> >
> >
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12910-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 02 19:55:44 2005
Return-Path: <lucene-user-return-12910-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 39414 invoked from network); 2 Feb 2005 19:55:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Feb 2005 19:55:44 -0000
Received: (qmail 80549 invoked by uid 500); 2 Feb 2005 19:55:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 80520 invoked by uid 500); 2 Feb 2005 19:55:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 80502 invoked by uid 99); 2 Feb 2005 19:55:39 -0000
X-ASF-Spam-Status: No, hits=3.7 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_BOGUSMX,DNS_FROM_RFC_POST,FROM_ENDS_IN_NUMS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.itnet.ie (HELO itnet.ie) (193.1.207.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 02 Feb 2005 11:55:38 -0800
Received: from X00001850 [194.145.135.38] by itnet.ie
	with NetMail ModWeb Module; Wed, 02 Feb 2005 19:55:35 +0000
Subject: Re: Re: Compile lucene
From: "Helen Butler" <X00001850@itnet.ie>
To: lucene-user@jakarta.apache.org
Date: Wed, 02 Feb 2005 19:55:35 +0000
X-Mailer: NetMail ModWeb Module
X-Sender: X00001850
MIME-Version: 1.0
Message-ID: <1107374135.a84118c0X00001850@itnet.ie>
Content-Type: text/plain; charset="UTF-8"
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Paul,

Thanks for your quick response.

The Build.xml was obtained from the Lucene-1.4.3.zip that I downloaded from=
 the apache website.

I changed the version in the xml file as you suggested, however the error p=
ersists.

Kind Regards,
Helen Butler


-----Original Message-----
From: Paul Elschot <paul.elschot@xs4all.nl>
To: lucene-user@jakarta.apache.org
Date: Wed, 2 Feb 2005 20:39:01 +0100
Subject: Re: Compile lucene

Helen,

On Wednesday 02 February 2005 20:26, Helen Butler wrote:
> Hi
>=20
> Im trying to Compile Lucene but am encountering the following error on=20
typing ant from the root of Lucene-1.4.3
>=20
> C:\lucene-1.4.3>ant
> Buildfile: build.xml
>=20
> init:
>=20
> compile-core:
>=20
> BUILD FAILED
> C:\lucene-1.4.3\build.xml:140: srcdir "C:\lucene-1.4.3\src\java" does not=
 e=3D
> xist!

It seems the java source files were not extracted.

How did you obtain the build.xml file?

Once the compilation works, you'll notice that the lucene jar being built
has a 1.5 version number because of an incorrect version number
in the 1.4.3 build.xml.
You need to correct the version property in the build.xml file:
  <property name=3D"version" value=3D"1.4.3"/>

Regards,
Paul Elschot.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12911-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 02 20:20:27 2005
Return-Path: <lucene-user-return-12911-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 60764 invoked from network); 2 Feb 2005 20:20:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Feb 2005 20:20:27 -0000
Received: (qmail 53236 invoked by uid 500); 2 Feb 2005 20:20:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 53137 invoked by uid 500); 2 Feb 2005 20:20:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 53104 invoked by uid 99); 2 Feb 2005 20:20:15 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork12.mail.Virginia.EDU (HELO fork12.mail.virginia.edu) (128.143.2.182)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 02 Feb 2005 12:20:14 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork12.mail.virginia.edu (Postfix) with ESMTP id 09D211F5348;
	Wed,  2 Feb 2005 15:20:11 -0500 (EST)
Received: from fork12.mail.virginia.edu ([127.0.0.1])
 by localhost (fork12.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 04805-03; Wed,  2 Feb 2005 15:20:10 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by fork12.mail.virginia.edu (Postfix) with ESMTP id 8C3301F5345;
	Wed,  2 Feb 2005 15:20:10 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <1ea253232503743cad0dc890caa53b64@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
Cc: Lucene User <lucene-user@jakarta.apache.org>
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Subversion conversion
Date: Wed, 2 Feb 2005 15:20:09 -0500
To: Lucene List <lucene-dev@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-UVA-Virus-Scanned: by amavisd-new at fork12.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

The conversion to Subversion is complete.  The new repository is 
available to users read-only at:

	http://svn.apache.org/repos/asf/lucene/java/trunk

Besides /trunk, there is also /branches and /tags.  /tags contains all 
the CVS tags made so that you could grab a snapshot of a previous 
version.  /trunk is analogous to CVS HEAD.  You can learn more about 
the Apache repository configuration here and how to use the 
command-line client to check out the repository:

	http://www.apache.org/dev/version-control.html

Learn about Subversion, including the complete O'Reilly Subversion book 
in electronic form for free here:

	http://subversion.tigris.org

For committers, check out the repository using https and your Apache 
username/password.

The Lucene sandbox has been integrated into our single Subversion 
repository, under /java/trunk/sandbox:

	http://svn.apache.org/repos/asf/lucene/java/trunk/sandbox/

The Lucene CVS repositories have been locked for read-only.

If there are any issues with this conversion, let me know and I'll 
bring them to the Apache infrastructure group.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12912-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 02 20:25:43 2005
Return-Path: <lucene-user-return-12912-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 69292 invoked from network); 2 Feb 2005 20:25:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Feb 2005 20:25:42 -0000
Received: (qmail 73377 invoked by uid 500); 2 Feb 2005 20:25:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 73350 invoked by uid 500); 2 Feb 2005 20:25:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 73336 invoked by uid 99); 2 Feb 2005 20:25:36 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp-vbr8.xs4all.nl (HELO smtp-vbr8.xs4all.nl) (194.109.24.28)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 02 Feb 2005 12:25:35 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr8.xs4all.nl (8.12.11/8.12.11) with ESMTP id j12KPWgx022237
	for <lucene-user@jakarta.apache.org>; Wed, 2 Feb 2005 21:25:32 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: lucene-user@jakarta.apache.org
Subject: Re: Compile lucene
Date: Wed, 2 Feb 2005 21:25:32 +0100
User-Agent: KMail/1.5.4
References: <1107374135.a84118c0X00001850@itnet.ie>
In-Reply-To: <1107374135.a84118c0X00001850@itnet.ie>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200502022125.32279.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Helen,

I downloaded lucene-1.4.3.zip myself from one of the mirrors
(http://apache.essentkabel.com/jakarta/lucene/binaries/)

It contains the lucene demo's, and not the java sources.

The lucene-1.4.3.tar.gz there has the same problem.

It seems something is wrong with the 1.4.3 distribution.

When you need the lucene 1.4.3 jar you can download it from the above mirror,
it looks ok. to me.

In case you have done something like this before:

The following command (on a single line) will checkout the source files from cvs
into directory lucene-1.4.3 (make sure that directory is empty beforehand):

cvs -d :pserver:anoncvs@cvs.apache.org:/home/cvspublic checkout -r lucene_1_4_3 -d lucene-1.4.3 jakarta_lucene

In there you can correct the build.xml file and do:

ant compile

to compile the source code.

Regards,
Paul Elschot


On Wednesday 02 February 2005 20:55, Helen Butler wrote:
> Hi Paul,
> 
> Thanks for your quick response.
> 
> The Build.xml was obtained from the Lucene-1.4.3.zip that I downloaded from the apache website.
> 
> I changed the version in the xml file as you suggested, however the error persists.
> 
> Kind Regards,
> Helen Butler
> 
> 
> -----Original Message-----
> From: Paul Elschot <paul.elschot@xs4all.nl>
> To: lucene-user@jakarta.apache.org
> Date: Wed, 2 Feb 2005 20:39:01 +0100
> Subject: Re: Compile lucene
> 
> Helen,
> 
> On Wednesday 02 February 2005 20:26, Helen Butler wrote:
> > Hi
> > 
> > Im trying to Compile Lucene but am encountering the following error on 
> typing ant from the root of Lucene-1.4.3
> > 
> > C:\lucene-1.4.3>ant
> > Buildfile: build.xml
> > 
> > init:
> > 
> > compile-core:
> > 
> > BUILD FAILED
> > C:\lucene-1.4.3\build.xml:140: srcdir "C:\lucene-1.4.3\src\java" does not e=
> > xist!
> 
> It seems the java source files were not extracted.
> 
> How did you obtain the build.xml file?
> 
> Once the compilation works, you'll notice that the lucene jar being built
> has a 1.5 version number because of an incorrect version number
> in the 1.4.3 build.xml.
> You need to correct the version property in the build.xml file:
>   <property name="version" value="1.4.3"/>
> 
> Regards,
> Paul Elschot.
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12913-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 02 20:28:24 2005
Return-Path: <lucene-user-return-12913-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 70580 invoked from network); 2 Feb 2005 20:28:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Feb 2005 20:28:24 -0000
Received: (qmail 81464 invoked by uid 500); 2 Feb 2005 20:28:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 81384 invoked by uid 500); 2 Feb 2005 20:28:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 81322 invoked by uid 99); 2 Feb 2005 20:28:12 -0000
X-ASF-Spam-Status: No, hits=3.7 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_BOGUSMX,DNS_FROM_RFC_POST,FROM_ENDS_IN_NUMS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.itnet.ie (HELO itnet.ie) (193.1.207.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 02 Feb 2005 12:28:10 -0800
Received: from X00001850 [194.145.135.38] by itnet.ie
	with NetMail ModWeb Module; Wed, 02 Feb 2005 20:28:06 +0000
Subject: Re: Re: Compile lucene
From: "Helen Butler" <X00001850@itnet.ie>
To: lucene-user@jakarta.apache.org
Date: Wed, 02 Feb 2005 20:28:06 +0000
X-Mailer: NetMail ModWeb Module
X-Sender: X00001850
MIME-Version: 1.0
Message-ID: <1107376086.a84118c0X00001850@itnet.ie>
Content-Type: text/plain; charset="UTF-8"
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Erik,

Thanks so much for your help-everything works now.

Kind Regards,

Helen Butler

-----Original Message-----
From: Erik Hatcher <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Date: Wed, 2 Feb 2005 14:41:41 -0500
Subject: Re: Compile lucene


On Feb 2, 2005, at 2:26 PM, Helen Butler wrote:

> Hi
>
> Im trying to Compile Lucene but am encountering the following error on=20
> typing ant from the root of Lucene-1.4.3
>
>
>
> C:\lucene-1.4.3>ant
> Buildfile: build.xml
>
> init:
>
> compile-core:
>
> BUILD FAILED
> C:\lucene-1.4.3\build.xml:140: srcdir "C:\lucene-1.4.3\src\java" does=20
> not e=3D
> xist!


>
>
> I've installed a jdk and ant successfully and set the following=20
> CLASSPATH
> C:\lucene-1.4.3\lucene-demos-1.4.3.jar;C:\lucene-1.4.3\lucene-1.4.3.jar

first rule of using Ant, don't use a CLASSPATH.  It is unnecessary, not=20
to mention you put JAR files in there that you appear to be trying to=20
build.

Do you have the source code distribution of Lucene?  It appears not, or 
you'd have src/java available.

=09Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12914-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 02 20:32:13 2005
Return-Path: <lucene-user-return-12914-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 72215 invoked from network); 2 Feb 2005 20:32:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Feb 2005 20:32:13 -0000
Received: (qmail 95212 invoked by uid 500); 2 Feb 2005 20:32:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 95188 invoked by uid 500); 2 Feb 2005 20:32:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 95174 invoked by uid 99); 2 Feb 2005 20:32:06 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp-vbr6.xs4all.nl (HELO smtp-vbr6.xs4all.nl) (194.109.24.26)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 02 Feb 2005 12:32:04 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr6.xs4all.nl (8.12.11/8.12.11) with ESMTP id j12KW1DX014476
	for <lucene-user@jakarta.apache.org>; Wed, 2 Feb 2005 21:32:01 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: lucene-user@jakarta.apache.org
Subject: Re: Subversion conversion
Date: Wed, 2 Feb 2005 21:32:01 +0100
User-Agent: KMail/1.5.4
References: <1ea253232503743cad0dc890caa53b64@ehatchersolutions.com>
In-Reply-To: <1ea253232503743cad0dc890caa53b64@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200502022132.01333.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Wednesday 02 February 2005 21:20, Erik Hatcher wrote:
> The conversion to Subversion is complete.  The new repository is 
> available to users read-only at:
> 
> 	http://svn.apache.org/repos/asf/lucene/java/trunk
>

Great. I just checked out the trunk:

Checked out revision 151042.

So much for the few minutes instead of hours,

Paul Elschot.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12915-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 02 21:00:56 2005
Return-Path: <lucene-user-return-12915-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 85672 invoked from network); 2 Feb 2005 21:00:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Feb 2005 21:00:56 -0000
Received: (qmail 75249 invoked by uid 500); 2 Feb 2005 21:00:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 75225 invoked by uid 500); 2 Feb 2005 21:00:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 75212 invoked by uid 99); 2 Feb 2005 21:00:51 -0000
X-ASF-Spam-Status: No, hits=3.7 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_BOGUSMX,DNS_FROM_RFC_POST,FROM_ENDS_IN_NUMS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.itnet.ie (HELO itnet.ie) (193.1.207.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 02 Feb 2005 13:00:50 -0800
Received: from X00001850 [194.145.135.38] by itnet.ie
	with NetMail ModWeb Module; Wed, 02 Feb 2005 21:00:47 +0000
Subject: Re: Re: Compile lucene
From: "Helen Butler" <X00001850@itnet.ie>
To: lucene-user@jakarta.apache.org
Date: Wed, 02 Feb 2005 21:00:47 +0000
X-Mailer: NetMail ModWeb Module
X-Sender: X00001850
MIME-Version: 1.0
Message-ID: <1107378047.a84118c0X00001850@itnet.ie>
Content-Type: text/plain; charset="UTF-8"
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Paul,

That was the problem, I had downloaded the binaries instead of source. It's=
 all up and running now..Thanks for your help

Regards
Helen Butler

-----Original Message-----
From: Paul Elschot <paul.elschot@xs4all.nl>
To: lucene-user@jakarta.apache.org
Date: Wed, 2 Feb 2005 21:25:32 +0100
Subject: Re: Compile lucene

Helen,

I downloaded lucene-1.4.3.zip myself from one of the mirrors
(http://apache.essentkabel.com/jakarta/lucene/binaries/)

It contains the lucene demo's, and not the java sources.

The lucene-1.4.3.tar.gz there has the same problem.

It seems something is wrong with the 1.4.3 distribution.

When you need the lucene 1.4.3 jar you can download it from the above mirro=
r,
it looks ok. to me.

In case you have done something like this before:

The following command (on a single line) will checkout the source files fro=
m cvs
into directory lucene-1.4.3 (make sure that directory is empty beforehand):

cvs -d :pserver:anoncvs@cvs.apache.org:/home/cvspublic checkout -r lucene_1=
_4_3 -d lucene-1.4.3 jakarta_lucene

In there you can correct the build.xml file and do:

ant compile

to compile the source code.

Regards,
Paul Elschot


On Wednesday 02 February 2005 20:55, Helen Butler wrote:
> Hi Paul,
>=20
> Thanks for your quick response.
>=20
> The Build.xml was obtained from the Lucene-1.4.3.zip that I downloaded fr=
om the apache website.
>=20
> I changed the version in the xml file as you suggested, however the error=
 persists.
>=20
> Kind Regards,
> Helen Butler
>=20
>=20
> -----Original Message-----
> From: Paul Elschot <paul.elschot@xs4all.nl>
> To: lucene-user@jakarta.apache.org
> Date: Wed, 2 Feb 2005 20:39:01 +0100
> Subject: Re: Compile lucene
>=20
> Helen,
>=20
> On Wednesday 02 February 2005 20:26, Helen Butler wrote:
> > Hi
> >=20
> > Im trying to Compile Lucene but am encountering the following error on=
=20
> typing ant from the root of Lucene-1.4.3
> >=20
> > C:\lucene-1.4.3>ant
> > Buildfile: build.xml
> >=20
> > init:
> >=20
> > compile-core:
> >=20
> > BUILD FAILED
> > C:\lucene-1.4.3\build.xml:140: srcdir "C:\lucene-1.4.3\src\java" does n=
ot e=3D
> > xist!
>=20
> It seems the java source files were not extracted.
>=20
> How did you obtain the build.xml file?
>=20
> Once the compilation works, you'll notice that the lucene jar being built
> has a 1.5 version number because of an incorrect version number
> in the 1.4.3 build.xml.
> You need to correct the version property in the build.xml file:
>   <property name=3D"version" value=3D"1.4.3"/>
>=20
> Regards,
> Paul Elschot.
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20
>=20
>=20
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20
>=20
>=20
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org





---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12916-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 02 21:25:57 2005
Return-Path: <lucene-user-return-12916-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 99222 invoked from network); 2 Feb 2005 21:25:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Feb 2005 21:25:57 -0000
Received: (qmail 53336 invoked by uid 500); 2 Feb 2005 21:25:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 53298 invoked by uid 500); 2 Feb 2005 21:25:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 53285 invoked by uid 99); 2 Feb 2005 21:25:51 -0000
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=FROM_ENDS_IN_NUMS,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of jak-lucene-user@m.gmane.org designates 80.91.229.2 as permitted sender)
Received: from main.gmane.org (HELO ciao.gmane.org) (80.91.229.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 02 Feb 2005 13:25:49 -0800
Received: from list by ciao.gmane.org with local (Exim 4.43)
	id 1CwRzj-0000It-8v
	for lucene-user@jakarta.apache.org; Wed, 02 Feb 2005 22:25:04 +0100
Received: from dhcp-171-71-47-107.cisco.com ([171.71.47.107])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <lucene-user@jakarta.apache.org>; Wed, 02 Feb 2005 22:25:03 +0100
Received: from aurora00 by dhcp-171-71-47-107.cisco.com with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <lucene-user@jakarta.apache.org>; Wed, 02 Feb 2005 22:25:03 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: lucene-user@jakarta.apache.org
From: aurora <aurora00@gmail.com>
Subject: Re: Subversion conversion
Date: Wed, 02 Feb 2005 13:25:16 -0800
Lines: 58
Message-ID: <opslk9segy6yt6e7@dhcp-171-71-47-107.cisco.com>
References: <1ea253232503743cad0dc890caa53b64@ehatchersolutions.com>
Mime-Version: 1.0
Content-Type: text/plain; format=flowed; delsp=yes; charset=iso-8859-15
Content-Transfer-Encoding: Quoted-Printable
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: dhcp-171-71-47-107.cisco.com
User-Agent: Opera M2/7.54u1 (Win32, build 3918)
Sender: news <news@sea.gmane.org>
X-Gmane-MailScanner: Found to be clean
X-Gmane-MailScanner: Found to be clean
X-MailScanner-From: jak-lucene-user@m.gmane.org
X-MailScanner-To: lucene-user@jakarta.apache.org
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Subversion rocks!

I have just setup the Windows svn client TortoiseSVN with my favourite  =

file manager Total Commander 6.5. The svn status and commands are readil=
y  =

integrated with the file manager. Offline diff and revert are two things=
 I  =

really like from svn.


> The conversion to Subversion is complete.  The new repository is  =

> available to users read-only at:
>
> 	http://svn.apache.org/repos/asf/lucene/java/trunk
>
> Besides /trunk, there is also /branches and /tags.  /tags contains all=
  =

> the CVS tags made so that you could grab a snapshot of a previous  =

> version.  /trunk is analogous to CVS HEAD.  You can learn more about t=
he  =

> Apache repository configuration here and how to use the command-line  =

> client to check out the repository:
>
> 	http://www.apache.org/dev/version-control.html
>
> Learn about Subversion, including the complete O'Reilly Subversion boo=
k  =

> in electronic form for free here:
>
> 	http://subversion.tigris.org
>
> For committers, check out the repository using https and your Apache  =

> username/password.
>
> The Lucene sandbox has been integrated into our single Subversion  =

> repository, under /java/trunk/sandbox:
>
> 	http://svn.apache.org/repos/asf/lucene/java/trunk/sandbox/
>
> The Lucene CVS repositories have been locked for read-only.
>
> If there are any issues with this conversion, let me know and I'll bri=
ng  =

> them to the Apache infrastructure group.
>
> 	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12917-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 02 23:01:27 2005
Return-Path: <lucene-user-return-12917-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 47041 invoked from network); 2 Feb 2005 23:01:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Feb 2005 23:01:27 -0000
Received: (qmail 99846 invoked by uid 500); 2 Feb 2005 23:01:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 98990 invoked by uid 500); 2 Feb 2005 23:01:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98977 invoked by uid 99); 2 Feb 2005 23:01:23 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 02 Feb 2005 15:01:22 -0800
Received: from p001002 ([204.225.84.27]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Wed, 2 Feb 2005 18:05:48 -0500
Message-ID: <05d601c5097b$bb7d36e0$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: QueryParser Help
Date: Wed, 2 Feb 2005 18:05:47 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 02 Feb 2005 23:05:48.0331 (UTC) FILETIME=[BB9EEFB0:01C5097B]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello;

Getting squinted with Query Parsing.  I have a questions:

Query query = MultiFieldQueryParser
            .parse("mario", new String[] { "name", "desc" }, new int[] {
                    MultiFieldQueryParser.NORMAL_FIELD,
MultiFieldQueryParser.NORMAL_FIELD }, new StandardAnalyzer());
IndexSearcher searcher = new IndexSearcher(fsDir);
            Hits hits = searcher.search(query);
            System.out.printing("Keywords : " + hits.length()+ " " +
query.toString());
            assertEquals(2, hits.length());

This test is successful.

But, I know "name" contains 2 documents, I also know "desc" contains one.
This may be a dumb question but why does Hits not contain pointers to 3
results (1 from name, 2 from desc)?

Thanks

Luke



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12918-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 02 23:13:38 2005
Return-Path: <lucene-user-return-12918-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 52348 invoked from network); 2 Feb 2005 23:13:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Feb 2005 23:13:38 -0000
Received: (qmail 16506 invoked by uid 500); 2 Feb 2005 23:13:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 16486 invoked by uid 500); 2 Feb 2005 23:13:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16471 invoked by uid 99); 2 Feb 2005 23:13:33 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from cato.nettas.net (HELO cato.nettas.net) (202.7.15.72)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 02 Feb 2005 15:13:32 -0800
Received: from cato.nettas.net (localhost [127.0.0.1])
	by localhost.nettas.net (Postfix) with ESMTP id 836E66B38
	for <lucene-user@jakarta.apache.org>; Thu,  3 Feb 2005 10:13:29 +1100 (EST)
Received: from eduisa2.education.tas.gov.au (eduisa2.education.tas.gov.au [147.41.65.12])
	by cato.nettas.net (Postfix) with ESMTP id 20FA963
	for <lucene-user@jakarta.apache.org>; Thu,  3 Feb 2005 10:13:29 +1100 (EST)
Received: by eduisa2.education.tas.gov.au
	with XWall v3.31 ;
	Thu, 3 Feb 2005 10:13:29 +1100
From: "Kauler, Leto S" <leto.kauler@education.tas.gov.au>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: RE: which HTML parser is better?
Date: Thu, 3 Feb 2005 10:13:27 +1100
X-Assembled-By: XWall v3.31
Message-ID: <AFAC9B2BF1A8BF4886F5C0FDE428E90E06B916CB@edumail2.education.tas.gov.au>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

We index the content from HTML files and because we only want the "good"
text and do not care about the structure, well-formedness, etc we went
with regular expressions similar to what Luke Shannon offered.

Only real difference being that we firstly remove entire blocks of
(script|style|csimport) and similar since the contents of those are not
useful for keyword searching, and afterward just remove every leftover
HTML tags.  I have been meaning to add an expression to extract things
like alt attribute text from <img> though.

--Leto



> -----Original Message-----
> From: Karl Koch [mailto:TheRanger@gmx.net]=20
>=20
> I have  been following this thread and have another question.=20
>=20
> Is there a piece of sourcecode (which is preferably very=20
> short and simple
> (KISS)) which allows to remove all HTML tags from HTML=20
> content? HTML 3.2 would be enough...also no frames, CSS, etc.=20
>=20
> I do not need to have the HTML strucutre tree or any other=20
> structure but need a facility to clean up HTML into its=20
> normal underlying content before indexing that content as a whole.
>=20
> Karl
>=20
> >=20
> >   > -----Original Message-----
> >   > From: Jingkang Zhang [mailto:zjingk@yahoo.com.cn]
> >   > Sent: Tuesday, February 01, 2005 1:15 AM
> >   > To: lucene-user@jakarta.apache.org
> >   > Subject: which HTML parser is better?
> >   >=20
> >   > Three HTML parsers(Lucene web application
> >   > demo,CyberNeko HTML Parser,JTidy) are mentioned in
> >   > Lucene FAQ
> >   > 1.3.27.Which is the best?Can it filter tags that are
> >   > auto-created by MS-word 'Save As HTML files' function?
> >   >=20

CONFIDENTIALITY NOTICE AND DISCLAIMER

Information in this transmission is intended only for the person(s) to whom =
it is addressed and may contain privileged and/or confidential information. =
If you are not the intended recipient, any disclosure, copying or disseminat=
ion of the information is unauthorised and you should delete/destroy all cop=
ies and notify the sender. No liability is accepted for any unauthorised use=
 of the information contained in this transmission.

This disclaimer has been automatically added.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12919-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 02 23:14:10 2005
Return-Path: <lucene-user-return-12919-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 52582 invoked from network); 2 Feb 2005 23:14:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Feb 2005 23:14:10 -0000
Received: (qmail 17658 invoked by uid 500); 2 Feb 2005 23:14:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 17636 invoked by uid 500); 2 Feb 2005 23:14:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17623 invoked by uid 99); 2 Feb 2005 23:14:05 -0000
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=FORGED_RCVD_HELO,SPF_HELO_PASS,SPF_PASS,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of blizzy-keyword-lucene_user.f5486d@blizzy.de designates 217.160.200.68 as permitted sender)
Received: from iceman.iq-computing.de (HELO iceman.iq-computing.de) (217.160.200.68)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 02 Feb 2005 15:14:03 -0800
Received: (qmail 24915 invoked from network); 3 Feb 2005 00:14:00 +0100
Received: from c130116.adsl.hansenet.de (HELO wolverine.hh.iq-computing.de) (mickey@213.39.130.116)
  by iceman.iq-computing.de with AES256-SHA encrypted SMTP; 3 Feb 2005 00:14:00 +0100
Received: (qmail 30438 invoked from network); 3 Feb 2005 00:15:25 +0100
Received: from localhost (HELO ?127.0.0.1?) (127.0.0.1)
  by localhost with SMTP; 3 Feb 2005 00:15:25 +0100
Message-ID: <42015F0B.7040605@blizzy.de>
Date: Thu, 03 Feb 2005 00:15:23 +0100
From: Maik Schreiber <blizzy-keyword-lucene_user.f5486d@blizzy.de>
User-Agent: Mozilla Thunderbird 1.0 (X11/20041227)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: QueryParser Help
References: <05d601c5097b$bb7d36e0$7703d00a@hypermedia.com>
In-Reply-To: <05d601c5097b$bb7d36e0$7703d00a@hypermedia.com>
X-Enigmail-Version: 0.89.5.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: text/plain; charset=iso-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> But, I know "name" contains 2 documents, I also know "desc" contains one.
> This may be a dumb question but why does Hits not contain pointers to 3
> results (1 from name, 2 from desc)?

Your search is an OR search, which is why you get a union of search hits. 
Consider these documents (which I think you have in your index):

Document 1:
- name=mario
- desc=mario

Document 2:
- name=mario
- desc=foo


- Searching for "mario" in field "name" would return 2 hits.
- Searching for "mario" in field "desc" would return 1 hit.
- Searching for "mario" in both fields would return 2 hits (which is what 
you're seeing).

-- 
Maik Schreiber   *   http://www.blizzy.de

GPG public key: http://pgp.mit.edu:11371/pks/lookup?op=get&search=0x1F11D713
Key fingerprint: CF19 AFCE 6E3D 5443 9599 18B5 5640 1F11 D713

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12920-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 02 23:17:07 2005
Return-Path: <lucene-user-return-12920-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 54025 invoked from network); 2 Feb 2005 23:17:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Feb 2005 23:17:07 -0000
Received: (qmail 23983 invoked by uid 500); 2 Feb 2005 23:17:03 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 23962 invoked by uid 500); 2 Feb 2005 23:17:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23947 invoked by uid 99); 2 Feb 2005 23:17:03 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from lyra.lunarpages.com (HELO lyra.lunarpages.com) (64.235.230.140)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 02 Feb 2005 15:17:01 -0800
Received: from pd95355b5.dip.t-dialin.net ([217.83.85.181] helo=Kelvin)
	by lyra.lunarpages.com with esmtpa (Exim 4.44)
	id 1CwTk0-0002n6-IP
	for lucene-user@jakarta.apache.org; Wed, 02 Feb 2005 15:16:57 -0800
From:     Kelvin Tan <kelvin-lists@relevanz.com>
To:       Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: Barca 1.1 (840) - Licensed Version
Date: Thu, 3 Feb 2005 00:16:41 +0100
Message-ID: <20052301641.246901@Kelvin>
In-Reply-To: <05d601c5097b$bb7d36e0$7703d00a@hypermedia.com>
Subject: Re: QueryParser Help
Mime-Version: 1.0
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - lyra.lunarpages.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - relevanz.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Can you provide more information? Your syntax looks ok. Is it possible that=
 one of the docs have been deleted? Sounds stupid, but have you tried=
 searching via a manual query, or using one of the Lucene index browsers?

Kelvin

On Wed, 2 Feb 2005 18:05:47 -0500, Luke Shannon wrote:
>=A0Hello;
>
>=A0Getting squinted with Query Parsing. =A0I have a questions:
>
>=A0Query query =3D MultiFieldQueryParser
>=A0.parse("mario", new String[] { "name", "desc" }, new int[] {
>=A0MultiFieldQueryParser.NORMAL_FIELD,
>=A0MultiFieldQueryParser.NORMAL_FIELD }, new StandardAnalyzer());
>=A0IndexSearcher searcher =3D new IndexSearcher(fsDir); Hits hits =3D
>=A0searcher.search(query);
>=A0System.out.printing("Keywords : " + hits.length()+ " " +
>=A0query.toString()); assertEquals(2, hits.length());
>
>=A0This test is successful.
>
>=A0But, I know "name" contains 2 documents, I also know "desc"
>=A0contains one. This may be a dumb question but why does Hits not
>=A0contain pointers to 3 results (1 from name, 2 from desc)?
>
>=A0Thanks
>
>=A0Luke
>
>
>=A0--------------------------------------------------------------------
>=A0- To unsubscribe, e-mail: lucene-user-
>=A0unsubscribe@jakarta.apache.org For additional commands, e-mail:
>=A0lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12921-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 02 23:19:25 2005
Return-Path: <lucene-user-return-12921-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 55652 invoked from network); 2 Feb 2005 23:19:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Feb 2005 23:19:25 -0000
Received: (qmail 34160 invoked by uid 500); 2 Feb 2005 23:19:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 34134 invoked by uid 500); 2 Feb 2005 23:19:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 34121 invoked by uid 99); 2 Feb 2005 23:19:20 -0000
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=FORGED_RCVD_HELO,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 02 Feb 2005 15:19:20 -0800
Received: from p001002 ([204.225.84.27]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Wed, 2 Feb 2005 18:23:49 -0500
Message-ID: <05ec01c5097e$3fc9b480$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <05d601c5097b$bb7d36e0$7703d00a@hypermedia.com> <42015F0B.7040605@blizzy.de>
Subject: Re: QueryParser Help
Date: Wed, 2 Feb 2005 18:23:48 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 02 Feb 2005 23:23:49.0285 (UTC) FILETIME=[3FEB6D50:01C5097E]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

This is it. Thank Maik. One of the docs had the result in both name and
desc.

Not sure how to handle this yet, I still don't know enough about
QueryParsing.

Luke

----- Original Message ----- 
From: "Maik Schreiber" <blizzy-keyword-lucene_user.f5486d@blizzy.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Wednesday, February 02, 2005 6:15 PM
Subject: Re: QueryParser Help


> > But, I know "name" contains 2 documents, I also know "desc" contains
one.
> > This may be a dumb question but why does Hits not contain pointers to 3
> > results (1 from name, 2 from desc)?
>
> Your search is an OR search, which is why you get a union of search hits.
> Consider these documents (which I think you have in your index):
>
> Document 1:
> - name=mario
> - desc=mario
>
> Document 2:
> - name=mario
> - desc=foo
>
>
> - Searching for "mario" in field "name" would return 2 hits.
> - Searching for "mario" in field "desc" would return 1 hit.
> - Searching for "mario" in both fields would return 2 hits (which is what
> you're seeing).
>
> -- 
> Maik Schreiber   *   http://www.blizzy.de
>
> GPG public key:
http://pgp.mit.edu:11371/pks/lookup?op=get&search=0x1F11D713
> Key fingerprint: CF19 AFCE 6E3D 5443 9599 18B5 5640 1F11 D713
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12922-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 02 23:25:26 2005
Return-Path: <lucene-user-return-12922-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 58740 invoked from network); 2 Feb 2005 23:25:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Feb 2005 23:25:26 -0000
Received: (qmail 42398 invoked by uid 500); 2 Feb 2005 23:25:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 42374 invoked by uid 500); 2 Feb 2005 23:25:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42359 invoked by uid 99); 2 Feb 2005 23:25:21 -0000
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=FORGED_RCVD_HELO,SPF_HELO_PASS,SPF_PASS,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of blizzy-keyword-lucene_user.f5486d@blizzy.de designates 217.160.200.68 as permitted sender)
Received: from iceman.iq-computing.de (HELO iceman.iq-computing.de) (217.160.200.68)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 02 Feb 2005 15:25:20 -0800
Received: (qmail 25037 invoked from network); 3 Feb 2005 00:25:17 +0100
Received: from c130116.adsl.hansenet.de (HELO wolverine.hh.iq-computing.de) (mickey@213.39.130.116)
  by iceman.iq-computing.de with AES256-SHA encrypted SMTP; 3 Feb 2005 00:25:17 +0100
Received: (qmail 31397 invoked from network); 3 Feb 2005 00:26:42 +0100
Received: from localhost (HELO ?127.0.0.1?) (127.0.0.1)
  by localhost with SMTP; 3 Feb 2005 00:26:42 +0100
Message-ID: <420161B2.8050002@blizzy.de>
Date: Thu, 03 Feb 2005 00:26:42 +0100
From: Maik Schreiber <blizzy-keyword-lucene_user.f5486d@blizzy.de>
User-Agent: Mozilla Thunderbird 1.0 (X11/20041227)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: QueryParser Help
References: <05d601c5097b$bb7d36e0$7703d00a@hypermedia.com> <42015F0B.7040605@blizzy.de> <05ec01c5097e$3fc9b480$7703d00a@hypermedia.com>
In-Reply-To: <05ec01c5097e$3fc9b480$7703d00a@hypermedia.com>
X-Enigmail-Version: 0.89.5.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: text/plain; charset=iso-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> Not sure how to handle this yet, I still don't know enough about
> QueryParsing.

What is it you're trying to accomplish?

-- 
Maik Schreiber   *   http://www.blizzy.de

GPG public key: http://pgp.mit.edu:11371/pks/lookup?op=get&search=0x1F11D713
Key fingerprint: CF19 AFCE 6E3D 5443 9599 18B5 5640 1F11 D713

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12923-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 02 23:29:05 2005
Return-Path: <lucene-user-return-12923-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 60073 invoked from network); 2 Feb 2005 23:29:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Feb 2005 23:29:04 -0000
Received: (qmail 46729 invoked by uid 500); 2 Feb 2005 23:29:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 46709 invoked by uid 500); 2 Feb 2005 23:28:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 46696 invoked by uid 99); 2 Feb 2005 23:28:59 -0000
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=FORGED_RCVD_HELO,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 02 Feb 2005 15:28:58 -0800
Received: from p001002 ([204.225.84.27]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Wed, 2 Feb 2005 18:33:27 -0500
Message-ID: <060001c5097f$985b6430$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <05d601c5097b$bb7d36e0$7703d00a@hypermedia.com> <42015F0B.7040605@blizzy.de> <05ec01c5097e$3fc9b480$7703d00a@hypermedia.com> <420161B2.8050002@blizzy.de>
Subject: Re: QueryParser Help
Date: Wed, 2 Feb 2005 18:33:27 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 02 Feb 2005 23:33:27.0392 (UTC) FILETIME=[987F8E00:01C5097F]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Actually now that I am looking at it, I think I am already accomplishing it.

I wanted all the documents with Mario in either field to show up.

There are two, but one has them in both fields in the Document. This is
correct.

Thanks for the help. It would have taken me a while to catch that.

Luke

----- Original Message ----- 
From: "Maik Schreiber" <blizzy-keyword-lucene_user.f5486d@blizzy.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Wednesday, February 02, 2005 6:26 PM
Subject: Re: QueryParser Help


> > Not sure how to handle this yet, I still don't know enough about
> > QueryParsing.
>
> What is it you're trying to accomplish?
>
> -- 
> Maik Schreiber   *   http://www.blizzy.de
>
> GPG public key:
http://pgp.mit.edu:11371/pks/lookup?op=get&search=0x1F11D713
> Key fingerprint: CF19 AFCE 6E3D 5443 9599 18B5 5640 1F11 D713
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12924-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 02 23:35:49 2005
Return-Path: <lucene-user-return-12924-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 62754 invoked from network); 2 Feb 2005 23:35:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 2 Feb 2005 23:35:49 -0000
Received: (qmail 66541 invoked by uid 500); 2 Feb 2005 23:35:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 66511 invoked by uid 500); 2 Feb 2005 23:35:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 66496 invoked by uid 99); 2 Feb 2005 23:35:44 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 02 Feb 2005 15:35:44 -0800
Received: from p001002 ([204.225.84.27]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Wed, 2 Feb 2005 18:40:12 -0500
Message-ID: <060301c50980$89b6ce50$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Synonyms Not Showing In The Index
Date: Wed, 2 Feb 2005 18:40:11 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 02 Feb 2005 23:40:12.0259 (UTC) FILETIME=[89D15B30:01C50980]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello;

It seems my Synonym analyzer is working (based on some successful queries).
But I can't see the synonyms in the index using Luke. Is this correct?

Thanks,

Luke



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12925-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 03 00:50:03 2005
Return-Path: <lucene-user-return-12925-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 91800 invoked from network); 3 Feb 2005 00:50:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Feb 2005 00:50:02 -0000
Received: (qmail 75128 invoked by uid 500); 3 Feb 2005 00:49:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 74807 invoked by uid 500); 3 Feb 2005 00:49:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 74792 invoked by uid 99); 3 Feb 2005 00:49:57 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of chakra.yadavalli@gmail.com designates 64.233.170.192 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.192)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 02 Feb 2005 16:49:55 -0800
Received: by rproxy.gmail.com with SMTP id 34so132501rns
        for <lucene-user@jakarta.apache.org>; Wed, 02 Feb 2005 16:49:53 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=JTYkNf/DwonGUzvv8aimK1Nx+hrdHCGQwzZN0wnsiVwHz7VDvVx0ixoZtG3XJ5SfwxvuqHpLvClBCn3tea8R6IwCibM7AlBdGQy8tzETCo6xpcLrTmhSEUNSNOm7Ns6ksKUyg1AtATANRPROPYkf2dsUam+vBJVwr9zxdX5/ciY=
Received: by 10.38.206.45 with SMTP id d45mr325965rng;
        Wed, 02 Feb 2005 16:49:53 -0800 (PST)
Received: by 10.38.8.43 with HTTP; Wed, 2 Feb 2005 16:49:53 -0800 (PST)
Message-ID: <8b6ad07a05020216494153cdfb@mail.gmail.com>
Date: Wed, 2 Feb 2005 19:49:53 -0500
From: Chakra Yadavalli <chakra.yadavalli@gmail.com>
Reply-To: Chakra Yadavalli <chakra.yadavalli@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Subversion conversion
In-Reply-To: <BE93D3B28027E84197C08BF463AA9CD604515E05@MSGMROCLD2WIN.DMN1.FMR.COM>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <BE93D3B28027E84197C08BF463AA9CD604515E05@MSGMROCLD2WIN.DMN1.FMR.COM>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello ALL, It might not be the right place for it but as we are talking
about SCM, I have a quick question. First, I haven't used CVS/SVN on any
project. I am a ClearCase/PVCS guy. I just would like to know WHICH
CONFIGURATION MANAGEMENT PLAN DO YOU FOLLOW IN LUCENE DEVELOPMENT.

PLAN A: DEVELOP IN TRUNK AND BRANCH OFF ON RELEASE
Recently I had a discussion with a friend about developing in the TRUNK
(which in the /main in ClearCase speak),  which my friend claims that is
done in the APACHE/Open Source projects. The main advantage he pointed
was that Merging could be avoided if you are developing in the TRUNK.
And when there is a release, they create a new Branch (say LUCENE_1.5
branch) and label them. That branch will be used for maintenance and any
code deltas will be merged back to TRUNK as needed.

PLAN B: BRANCH OF BEFORE PLANNED RELEASE AND MERGE BACK TO MAIN/TRUNK
As I am from a "private workspace"/"isolated development" school of
thought promoted by ClearCase, I am used to create a branch at the
project/release initiation and develop in that branch (say /main/dev).
Similarly, we have /main/int for making changes when the project goes to
integration phase, and a /main/acp branch for acceptance. In this
school, the /main will always have fewer versions of files and the
difference between any two consecutive versions is the NET CHANGE of
that SCM element (either file or dir) between two releases (say LUCENE
1.4 and 1.5).

Thanks in advance for your time.
Chakra Yadavalli
http://jroller.com/page/cyblogue

> -----Original Message-----
> From: aurora [mailto:aurora00@gmail.com]
> Sent: Wednesday, February 02, 2005 4:25 PM
> To: lucene-user@jakarta.apache.org
> Subject: Re: Subversion conversion
> 
> Subversion rocks!
> 
> I have just setup the Windows svn client TortoiseSVN with my favourite
> file manager Total Commander 6.5. The svn status and commands are
> readily
> integrated with the file manager. Offline diff and revert are two things
> I
> really like from svn.
> 
> > The conversion to Subversion is complete.  The new repository is
> > available to users read-only at:
> >
> >       http://svn.apache.org/repos/asf/lucene/java/trunk
> >
> > Besides /trunk, there is also /branches and /tags.  /tags contains all
> 
> > the CVS tags made so that you could grab a snapshot of a previous
> > version.  /trunk is analogous to CVS HEAD.  You can learn more about
> the
> > Apache repository configuration here and how to use the command-line
> > client to check out the repository:
> >
> >       http://www.apache.org/dev/version-control.html
> >
> > Learn about Subversion, including the complete O'Reilly Subversion
> book
> > in electronic form for free here:
> >
> >       http://subversion.tigris.org
> >
> > For committers, check out the repository using https and your Apache
> > username/password.
> >
> > The Lucene sandbox has been integrated into our single Subversion
> > repository, under /java/trunk/sandbox:
> >
> >       http://svn.apache.org/repos/asf/lucene/java/trunk/sandbox/
> >
> > The Lucene CVS repositories have been locked for read-only.
> >
> > If there are any issues with this conversion, let me know and I'll
> bring
> > them to the Apache infrastructure group.
> >
> >       Erik
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


-- 
Visit my weblog: http://www.jroller.com/page/cyblogue

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12926-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 03 01:59:21 2005
Return-Path: <lucene-user-return-12926-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 14020 invoked from network); 3 Feb 2005 01:59:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Feb 2005 01:59:21 -0000
Received: (qmail 50386 invoked by uid 500); 3 Feb 2005 01:59:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 50360 invoked by uid 500); 3 Feb 2005 01:59:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 50347 invoked by uid 99); 3 Feb 2005 01:59:17 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from ylpvm15-ext.prodigy.net (HELO ylpvm15.prodigy.net) (207.115.57.46)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 02 Feb 2005 17:59:16 -0800
Received: from [192.168.1.10] (adsl-216-62-201-156.dsl.austtx.swbell.net [216.62.201.156])
	by ylpvm15.prodigy.net (8.12.10 outbound/8.12.10) with ESMTP id j131ssbs026514
	for <lucene-user@jakarta.apache.org>; Wed, 2 Feb 2005 20:54:54 -0500
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <20050201091444.32756.qmail@web15702.mail.cnb.yahoo.com>
References: <20050201091444.32756.qmail@web15702.mail.cnb.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <a0dc58d2b07a6d19b6ebadecc97a1f31@otherwise.com>
Content-Transfer-Encoding: 7bit
From: Bill Tschumy <bill@otherwise.com>
Subject: Re: which HTML parser is better?
Date: Wed, 2 Feb 2005 19:59:09 -0600
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

No one has yet mentioned using ParserDelegator and ParserCallback that 
are part of HTMLEditorKit in Swing.  I have been successfully using 
these classes to parse out the text of an HTML file.  You just need to 
extend HTMLEditorKit.ParserCallback and override the various methods 
that are called when different tags are encountered.


On Feb 1, 2005, at 3:14 AM, Jingkang Zhang wrote:

> Three HTML parsers(Lucene web application
> demo,CyberNeko HTML Parser,JTidy) are mentioned in
> Lucene FAQ
> 1.3.27.Which is the best?Can it filter tags that are
> auto-created by MS-word 'Save As HTML files' function?
-- 
Bill Tschumy
Otherwise -- Austin, TX
http://www.otherwise.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12927-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 03 03:11:55 2005
Return-Path: <lucene-user-return-12927-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 51590 invoked from network); 3 Feb 2005 03:11:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Feb 2005 03:11:55 -0000
Received: (qmail 28269 invoked by uid 500); 3 Feb 2005 03:11:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 28240 invoked by uid 500); 3 Feb 2005 03:11:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28225 invoked by uid 99); 3 Feb 2005 03:11:49 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork10.mail.Virginia.EDU (HELO fork10.mail.virginia.edu) (128.143.2.180)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 02 Feb 2005 19:11:48 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork10.mail.virginia.edu (Postfix) with ESMTP id 8C34A1F5305
	for <lucene-user@jakarta.apache.org>; Wed,  2 Feb 2005 22:11:45 -0500 (EST)
Received: from fork10.mail.virginia.edu ([127.0.0.1])
 by localhost (fork10.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 09318-06 for <lucene-user@jakarta.apache.org>;
 Wed,  2 Feb 2005 22:11:45 -0500 (EST)
Received: from [192.168.1.102] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by fork10.mail.virginia.edu (Postfix) with ESMTP id EE20D1F5377
	for <lucene-user@jakarta.apache.org>; Wed,  2 Feb 2005 22:11:44 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <8b6ad07a05020216494153cdfb@mail.gmail.com>
References: <BE93D3B28027E84197C08BF463AA9CD604515E05@MSGMROCLD2WIN.DMN1.FMR.COM> <8b6ad07a05020216494153cdfb@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <556c84ee503264e675cec7d73ecc9df2@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Subversion conversion
Date: Wed, 2 Feb 2005 22:11:43 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-UVA-Virus-Scanned: by amavisd-new at fork10.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I've seen both of these types of procedures followed on Apache 
projects.  It really just depends.  Lucene's codebase is not being 
modified frequently, so it is not necessary to branch and merge back.  
Rather we simply develop off of the trunk (HEAD) and when we're ready 
for a release we'll just do it from the trunk.  Actually  we'd most 
likely tag and build from that tag just to be clean about it.

	Erik

On Feb 2, 2005, at 7:49 PM, Chakra Yadavalli wrote:

> Hello ALL, It might not be the right place for it but as we are talking
> about SCM, I have a quick question. First, I haven't used CVS/SVN on 
> any
> project. I am a ClearCase/PVCS guy. I just would like to know WHICH
> CONFIGURATION MANAGEMENT PLAN DO YOU FOLLOW IN LUCENE DEVELOPMENT.
>
> PLAN A: DEVELOP IN TRUNK AND BRANCH OFF ON RELEASE
> Recently I had a discussion with a friend about developing in the TRUNK
> (which in the /main in ClearCase speak),  which my friend claims that 
> is
> done in the APACHE/Open Source projects. The main advantage he pointed
> was that Merging could be avoided if you are developing in the TRUNK.
> And when there is a release, they create a new Branch (say LUCENE_1.5
> branch) and label them. That branch will be used for maintenance and 
> any
> code deltas will be merged back to TRUNK as needed.
>
> PLAN B: BRANCH OF BEFORE PLANNED RELEASE AND MERGE BACK TO MAIN/TRUNK
> As I am from a "private workspace"/"isolated development" school of
> thought promoted by ClearCase, I am used to create a branch at the
> project/release initiation and develop in that branch (say /main/dev).
> Similarly, we have /main/int for making changes when the project goes 
> to
> integration phase, and a /main/acp branch for acceptance. In this
> school, the /main will always have fewer versions of files and the
> difference between any two consecutive versions is the NET CHANGE of
> that SCM element (either file or dir) between two releases (say LUCENE
> 1.4 and 1.5).
>
> Thanks in advance for your time.
> Chakra Yadavalli
> http://jroller.com/page/cyblogue
>
>> -----Original Message-----
>> From: aurora [mailto:aurora00@gmail.com]
>> Sent: Wednesday, February 02, 2005 4:25 PM
>> To: lucene-user@jakarta.apache.org
>> Subject: Re: Subversion conversion
>>
>> Subversion rocks!
>>
>> I have just setup the Windows svn client TortoiseSVN with my favourite
>> file manager Total Commander 6.5. The svn status and commands are
>> readily
>> integrated with the file manager. Offline diff and revert are two 
>> things
>> I
>> really like from svn.
>>
>>> The conversion to Subversion is complete.  The new repository is
>>> available to users read-only at:
>>>
>>>       http://svn.apache.org/repos/asf/lucene/java/trunk
>>>
>>> Besides /trunk, there is also /branches and /tags.  /tags contains 
>>> all
>>
>>> the CVS tags made so that you could grab a snapshot of a previous
>>> version.  /trunk is analogous to CVS HEAD.  You can learn more about
>> the
>>> Apache repository configuration here and how to use the command-line
>>> client to check out the repository:
>>>
>>>       http://www.apache.org/dev/version-control.html
>>>
>>> Learn about Subversion, including the complete O'Reilly Subversion
>> book
>>> in electronic form for free here:
>>>
>>>       http://subversion.tigris.org
>>>
>>> For committers, check out the repository using https and your Apache
>>> username/password.
>>>
>>> The Lucene sandbox has been integrated into our single Subversion
>>> repository, under /java/trunk/sandbox:
>>>
>>>       http://svn.apache.org/repos/asf/lucene/java/trunk/sandbox/
>>>
>>> The Lucene CVS repositories have been locked for read-only.
>>>
>>> If there are any issues with this conversion, let me know and I'll
>> bring
>>> them to the Apache infrastructure group.
>>>
>>>       Erik
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>
>
> -- 
> Visit my weblog: http://www.jroller.com/page/cyblogue
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12928-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 03 03:26:01 2005
Return-Path: <lucene-user-return-12928-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 56725 invoked from network); 3 Feb 2005 03:26:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Feb 2005 03:26:01 -0000
Received: (qmail 40517 invoked by uid 500); 3 Feb 2005 03:25:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 40489 invoked by uid 500); 3 Feb 2005 03:25:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40473 invoked by uid 99); 3 Feb 2005 03:25:48 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of clamprecht@gmail.com designates 64.233.170.198 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.198)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 02 Feb 2005 19:25:47 -0800
Received: by rproxy.gmail.com with SMTP id z35so181150rne
        for <lucene-user@jakarta.apache.org>; Wed, 02 Feb 2005 19:25:45 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=nBvHJjIpLzfsDdN1B9XWeNi8cJcZRrfQmOaULCy9xWWudVt/vdj8BHyRIyV7dJIhyt/ZqkLuFz3P9UiNxl4Hd8CuTlj9Kx3QI7AXhrEyqLC7yL4icjeE4kOoDTfmy2YY83aelbx3G4FmW9d9MhFrFSJS6xuGLfsYiTiI1Hjn9qE=
Received: by 10.39.3.39 with SMTP id f39mr529781rni;
        Wed, 02 Feb 2005 19:25:06 -0800 (PST)
Received: by 10.38.104.43 with HTTP; Wed, 2 Feb 2005 19:25:06 -0800 (PST)
Message-ID: <88c6a672050202192570374ff2@mail.gmail.com>
Date: Wed, 2 Feb 2005 21:25:06 -0600
From: Chris Lamprecht <clamprecht@gmail.com>
Reply-To: Chris Lamprecht <clamprecht@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Subversion conversion
In-Reply-To: <8b6ad07a05020216494153cdfb@mail.gmail.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
References: <BE93D3B28027E84197C08BF463AA9CD604515E05@MSGMROCLD2WIN.DMN1.FMR.COM>
	 <8b6ad07a05020216494153cdfb@mail.gmail.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

One thing about subversion branches (from "Key Concepts Behind
Branches" in chapter 4 of the subversion book):

"2. Subversion has no internal concept of a branch=E2=80=94only copies. Whe=
n
you copy a directory, the resulting directory is only a "branch"
because you attach that meaning to it. You may think of the directory
differently, or treat it differently, but to Subversion it's just an
ordinary directory that happens to have been created by copying."


On Wed, 2 Feb 2005 19:49:53 -0500, Chakra Yadavalli
<chakra.yadavalli@gmail.com> wrote:
> Hello ALL, It might not be the right place for it but as we are talking
> about SCM, I have a quick question. First, I haven't used CVS/SVN on any
> project. I am a ClearCase/PVCS guy. I just would like to know WHICH
> CONFIGURATION MANAGEMENT PLAN DO YOU FOLLOW IN LUCENE DEVELOPMENT.
>=20
> PLAN A: DEVELOP IN TRUNK AND BRANCH OFF ON RELEASE
> Recently I had a discussion with a friend about developing in the TRUNK
> (which in the /main in ClearCase speak),  which my friend claims that is
> done in the APACHE/Open Source projects. The main advantage he pointed
> was that Merging could be avoided if you are developing in the TRUNK.
> And when there is a release, they create a new Branch (say LUCENE_1.5
> branch) and label them. That branch will be used for maintenance and any
> code deltas will be merged back to TRUNK as needed.
>=20
> PLAN B: BRANCH OF BEFORE PLANNED RELEASE AND MERGE BACK TO MAIN/TRUNK
> As I am from a "private workspace"/"isolated development" school of
> thought promoted by ClearCase, I am used to create a branch at the
> project/release initiation and develop in that branch (say /main/dev).
> Similarly, we have /main/int for making changes when the project goes to
> integration phase, and a /main/acp branch for acceptance. In this
> school, the /main will always have fewer versions of files and the
> difference between any two consecutive versions is the NET CHANGE of
> that SCM element (either file or dir) between two releases (say LUCENE
> 1.4 and 1.5).
>=20
> Thanks in advance for your time.
> Chakra Yadavalli
> http://jroller.com/page/cyblogue
>=20
> > -----Original Message-----
> > From: aurora [mailto:aurora00@gmail.com]
> > Sent: Wednesday, February 02, 2005 4:25 PM
> > To: lucene-user@jakarta.apache.org
> > Subject: Re: Subversion conversion
> >
> > Subversion rocks!
> >
> > I have just setup the Windows svn client TortoiseSVN with my favourite
> > file manager Total Commander 6.5. The svn status and commands are
> > readily
> > integrated with the file manager. Offline diff and revert are two thing=
s
> > I
> > really like from svn.
> >
> > > The conversion to Subversion is complete.  The new repository is
> > > available to users read-only at:
> > >
> > >       http://svn.apache.org/repos/asf/lucene/java/trunk
> > >
> > > Besides /trunk, there is also /branches and /tags.  /tags contains al=
l
> >
> > > the CVS tags made so that you could grab a snapshot of a previous
> > > version.  /trunk is analogous to CVS HEAD.  You can learn more about
> > the
> > > Apache repository configuration here and how to use the command-line
> > > client to check out the repository:
> > >
> > >       http://www.apache.org/dev/version-control.html
> > >
> > > Learn about Subversion, including the complete O'Reilly Subversion
> > book
> > > in electronic form for free here:
> > >
> > >       http://subversion.tigris.org
> > >
> > > For committers, check out the repository using https and your Apache
> > > username/password.
> > >
> > > The Lucene sandbox has been integrated into our single Subversion
> > > repository, under /java/trunk/sandbox:
> > >
> > >       http://svn.apache.org/repos/asf/lucene/java/trunk/sandbox/
> > >
> > > The Lucene CVS repositories have been locked for read-only.
> > >
> > > If there are any issues with this conversion, let me know and I'll
> > bring
> > > them to the Apache infrastructure group.
> > >
> > >       Erik
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
>=20
> --
> Visit my weblog: http://www.jroller.com/page/cyblogue
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12929-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 03 07:08:57 2005
Return-Path: <lucene-user-return-12929-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 29454 invoked from network); 3 Feb 2005 07:08:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Feb 2005 07:08:57 -0000
Received: (qmail 52597 invoked by uid 500); 3 Feb 2005 07:08:52 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 52577 invoked by uid 500); 3 Feb 2005 07:08:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52558 invoked by uid 99); 3 Feb 2005 07:08:51 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from proserver2.ifit.uni-klu.ac.at (HELO proserver2.ifit.uni-klu.ac.at) (143.205.118.212)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 02 Feb 2005 23:08:49 -0800
Received: from [143.205.118.98] ([143.205.118.98]) by proserver2.ifit.uni-klu.ac.at over TLS secured channel with Microsoft SMTPSVC(5.0.2195.6713);
	 Thu, 3 Feb 2005 08:08:46 +0100
Message-ID: <4201CDFE.3050703@ifit.uni-klu.ac.at>
Date: Thu, 03 Feb 2005 08:08:46 +0100
From: sergiu gordea <gsergiu@ifit.uni-klu.ac.at>
User-Agent: Mozilla Thunderbird 0.7 (Windows/20040616)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: which HTML parser is better?
References: <AFAC9B2BF1A8BF4886F5C0FDE428E90E06B916CB@edumail2.education.tas.gov.au>
In-Reply-To: <AFAC9B2BF1A8BF4886F5C0FDE428E90E06B916CB@edumail2.education.tas.gov.au>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 03 Feb 2005 07:08:46.0550 (UTC) FILETIME=[33FC3F60:01C509BF]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Kauler, Leto S wrote:

Another very cheap, but robust solution in the case you use linux is to 
make lynx to parse your pages.

lynx page.html > page.txt.

This will strip out all html and  script, style, csimport tags. And you 
will have a .txt file ready for indexing.

  Best,

  Sergiu

>We index the content from HTML files and because we only want the "good"
>text and do not care about the structure, well-formedness, etc we went
>with regular expressions similar to what Luke Shannon offered.
>
>Only real difference being that we firstly remove entire blocks of
>(script|style|csimport) and similar since the contents of those are not
>useful for keyword searching, and afterward just remove every leftover
>HTML tags.  I have been meaning to add an expression to extract things
>like alt attribute text from <img> though.
>
>--Leto
>
>
>
>  
>
>>-----Original Message-----
>>From: Karl Koch [mailto:TheRanger@gmx.net] 
>>
>>I have  been following this thread and have another question. 
>>
>>Is there a piece of sourcecode (which is preferably very 
>>short and simple
>>(KISS)) which allows to remove all HTML tags from HTML 
>>content? HTML 3.2 would be enough...also no frames, CSS, etc. 
>>
>>I do not need to have the HTML strucutre tree or any other 
>>structure but need a facility to clean up HTML into its 
>>normal underlying content before indexing that content as a whole.
>>
>>Karl
>>
>>    
>>
>>>  > -----Original Message-----
>>>  > From: Jingkang Zhang [mailto:zjingk@yahoo.com.cn]
>>>  > Sent: Tuesday, February 01, 2005 1:15 AM
>>>  > To: lucene-user@jakarta.apache.org
>>>  > Subject: which HTML parser is better?
>>>  > 
>>>  > Three HTML parsers(Lucene web application
>>>  > demo,CyberNeko HTML Parser,JTidy) are mentioned in
>>>  > Lucene FAQ
>>>  > 1.3.27.Which is the best?Can it filter tags that are
>>>  > auto-created by MS-word 'Save As HTML files' function?
>>>  > 
>>>      
>>>
>
>CONFIDENTIALITY NOTICE AND DISCLAIMER
>
>Information in this transmission is intended only for the person(s) to whom it is addressed and may contain privileged and/or confidential information. If you are not the intended recipient, any disclosure, copying or dissemination of the information is unauthorised and you should delete/destroy all copies and notify the sender. No liability is accepted for any unauthorised use of the information contained in this transmission.
>
>This disclaimer has been automatically added.
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>  
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12930-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 03 07:12:27 2005
Return-Path: <lucene-user-return-12930-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 30591 invoked from network); 3 Feb 2005 07:12:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Feb 2005 07:12:26 -0000
Received: (qmail 57351 invoked by uid 500); 3 Feb 2005 07:12:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 57316 invoked by uid 500); 3 Feb 2005 07:12:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 57302 invoked by uid 99); 3 Feb 2005 07:12:14 -0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FROM_ENDS_IN_NUMS,HTML_30_40,HTML_IMAGE_ONLY_16,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from web90103.mail.scd.yahoo.com (HELO web90103.mail.scd.yahoo.com) (66.218.94.74)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 02 Feb 2005 23:12:12 -0800
Received: (qmail 63055 invoked by uid 60001); 3 Feb 2005 07:12:10 -0000
Message-ID: <20050203071210.63053.qmail@web90103.mail.scd.yahoo.com>
Received: from [137.132.136.237] by web90103.mail.scd.yahoo.com via HTTP; Thu, 03 Feb 2005 15:12:10 CST
Date: Thu, 3 Feb 2005 15:12:10 +0800 (CST)
From: jac jac <foria88@yahoo.com.sg>
Subject: Has anyone tried indexing xml files: DigesterXMLHandler.java file before?
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <556c84ee503264e675cec7d73ecc9df2@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-451831155-1107414730=:62934"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--0-451831155-1107414730=:62934
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit


Hi,

I just tried to compile DigesterXMLHandler.java  from the LIA codes which I have gotten from the src directory. 

I placed it into my own directory... 

I could't seem to be able to compile DigesterXMLHandler.java:
It keeps prompting: 

DigesterXMLHandler.java:9: package org.apache.commons.digester does not exist
import org.apache.commons.digester.Digester;
                                   ^
DigesterXMLHandler.java:19: cannot resolve symbol
symbol  : class Digester
location: class lia.handlingtypes.xml.DigesterXMLHandler
  private Digester dig;
          ^
DigesterXMLHandler.java:25: cannot resolve symbol
symbol  : class Digester
location: class lia.handlingtypes.xml.DigesterXMLHandler
    dig = new Digester();


I have set the classpath... 

May I know how do we run the file in order to get my index folder?
so sorry, i really can't interpret the way to run it... 
are there any documentation around...?

thanks very much!

 Yahoo! Mobile
- Download the latest ringtones, games, and more!
--0-451831155-1107414730=:62934--

From lucene-user-return-12931-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 03 09:16:08 2005
Return-Path: <lucene-user-return-12931-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 8425 invoked from network); 3 Feb 2005 09:16:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Feb 2005 09:16:08 -0000
Received: (qmail 16241 invoked by uid 500); 3 Feb 2005 09:15:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 16175 invoked by uid 500); 3 Feb 2005 09:15:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16100 invoked by uid 99); 3 Feb 2005 09:15:53 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from shared4.hardhathosting.com (HELO getopt.org) (69.44.16.11)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 03 Feb 2005 01:15:50 -0800
Received: from [192.168.0.254] (75-mo3-2.acn.waw.pl [62.121.105.75])
	(authenticated)
	by getopt.org (8.11.6/8.11.6) with ESMTP id j139Ev306815
	for <lucene-user@jakarta.apache.org>; Thu, 3 Feb 2005 03:14:57 -0600
Message-ID: <4201EBBF.2080009@getopt.org>
Date: Thu, 03 Feb 2005 10:15:43 +0100
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Synonyms Not Showing In The Index
References: <060301c50980$89b6ce50$7703d00a@hypermedia.com>
In-Reply-To: <060301c50980$89b6ce50$7703d00a@hypermedia.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Luke Shannon wrote:
> Hello;
> 
> It seems my Synonym analyzer is working (based on some successful queries).
> But I can't see the synonyms in the index using Luke. Is this correct?
> 

Did you use the combined JAR to run? It contains an oldish version of 
Lucene... Other than that, I'm not sure - if you can't find the reason 
you could send me a small test index...


-- 
Best regards,
Andrzej Bialecki
  ___. ___ ___ ___ _ _   __________________________________
[__ || __|__/|__||\/|  Information Retrieval, Semantic Web
___|||__||  \|  ||  |  Embedded Unix, System Integration
http://www.sigram.com  Contact: info at sigram dot com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12932-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 03 09:54:56 2005
Return-Path: <lucene-user-return-12932-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 28279 invoked from network); 3 Feb 2005 09:54:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Feb 2005 09:54:56 -0000
Received: (qmail 70356 invoked by uid 500); 3 Feb 2005 09:54:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 70329 invoked by uid 500); 3 Feb 2005 09:54:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 70316 invoked by uid 99); 3 Feb 2005 09:54:51 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of TheRanger@gmx.net designates 213.165.64.20 as permitted sender)
Received: from pop.gmx.net (HELO mail.gmx.net) (213.165.64.20)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 03 Feb 2005 01:54:48 -0800
Received: (qmail 1737 invoked by uid 0); 3 Feb 2005 09:54:45 -0000
Received: from 193.63.235.44 by www32.gmx.net with HTTP;
	Thu, 3 Feb 2005 10:54:46 +0100 (MET)
Date: Thu, 3 Feb 2005 10:54:46 +0100 (MET)
From: "Karl Koch" <TheRanger@gmx.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
MIME-Version: 1.0
References: <42011A8B.4050000@ifit.uni-klu.ac.at>
Subject: Re: which HTML parser is better?
X-Priority: 3 (Normal)
X-Authenticated: #21808356
Message-ID: <30669.1107424486@www32.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello Sergiu,

thank you for your help so far. I appreciate it.

I am working with Java 1.1 which does not include regular expressions.

Your turn ;-)
Karl 

> Karl Koch wrote:
> 
> >I am in control of the html, which means it is well formated HTML. I use
> >only HTML files which I have transformed from XML. No external HTML (e.g.
> >the web).
> >
> >Are there any very-short solutions for that?
> >  
> >
> if you are using only correct formated HTML pages and you are in control 
> of these pages.
> you can use a regular exprestion to remove the tags.
> 
> something like
> replaceAll("<*>","");
> 
> This is the ideea behind the operation. If you will search on google you 
> will find a more robust
> regular expression.
> 
> Using a simple regular expression will be a very cheap solution, that 
> can cause you a lot of problems in the future.
>  
>  It's up to you to use it ....
> 
>  Best,
>  
>  Sergiu
> 
> >Karl
> >
> >  
> >
> >>Karl Koch wrote:
> >>
> >>    
> >>
> >>>Hi,
> >>>
> >>>yes, but the library your are using is quite big. I was thinking that a
> >>>      
> >>>
> >>5kB
> >>    
> >>
> >>>code could actually do that. That sourceforge project is doing much
> more
> >>>than that but I do not need it.
> >>> 
> >>>
> >>>      
> >>>
> >>you need just the htmlparser.jar 200k.
> >>... you know ... the functionality is strongly correclated with the
> size.
> >>
> >>  You can use 3 lines of code with a good regular expresion to eliminate
> >>the html tags,
> >>but this won't give you any guarantie that the text from the bad 
> >>fromated html files will be
> >>correctly extracted...
> >>
> >>  Best,
> >>
> >>  Sergiu
> >>
> >>    
> >>
> >>>Karl
> >>>
> >>> 
> >>>
> >>>      
> >>>
> >>>> Hi Karl,
> >>>>
> >>>>I already submitted a peace of code that removes the html tags.
> >>>>Search for my previous answer in this thread.
> >>>>
> >>>> Best,
> >>>>
> >>>>  Sergiu
> >>>>
> >>>>Karl Koch wrote:
> >>>>
> >>>>   
> >>>>
> >>>>        
> >>>>
> >>>>>Hello,
> >>>>>
> >>>>>I have  been following this thread and have another question. 
> >>>>>
> >>>>>Is there a piece of sourcecode (which is preferably very short and
> >>>>>          
> >>>>>
> >>simple
> >>    
> >>
> >>>>>(KISS)) which allows to remove all HTML tags from HTML content? HTML
> >>>>>          
> >>>>>
> >>3.2
> >>    
> >>
> >>>>>would be enough...also no frames, CSS, etc. 
> >>>>>
> >>>>>I do not need to have the HTML strucutre tree or any other structure
> >>>>>          
> >>>>>
> >>but
> >>    
> >>
> >>>>>need a facility to clean up HTML into its normal underlying content
> >>>>>     
> >>>>>
> >>>>>          
> >>>>>
> >>>>before
> >>>>   
> >>>>
> >>>>        
> >>>>
> >>>>>indexing that content as a whole.
> >>>>>
> >>>>>Karl
> >>>>>
> >>>>>
> >>>>>
> >>>>>
> >>>>>     
> >>>>>
> >>>>>          
> >>>>>
> >>>>>>I think that depends on what you want to do.  The Lucene demo parser
> >>>>>>       
> >>>>>>
> >>>>>>            
> >>>>>>
> >>>>does
> >>>>   
> >>>>
> >>>>        
> >>>>
> >>>>>>simple mapping of HTML files into Lucene Documents; it does not give
> >>>>>>            
> >>>>>>
> >>you
> >>    
> >>
> >>>>>>       
> >>>>>>
> >>>>>>            
> >>>>>>
> >>>>a
> >>>>   
> >>>>
> >>>>        
> >>>>
> >>>>>>parse tree for the HTML doc.  CyberNeko is an extension of Xerces
> >>>>>>            
> >>>>>>
> >>(uses
> >>    
> >>
> >>>>>>  
> >>>>>>
> >>>>>>       
> >>>>>>
> >>>>>>            
> >>>>>>
> >>>>>the
> >>>>>
> >>>>>
> >>>>>     
> >>>>>
> >>>>>          
> >>>>>
> >>>>>>same API; will likely become part of Xerces), and so maps an HTML
> >>>>>>       
> >>>>>>
> >>>>>>            
> >>>>>>
> >>>>document
> >>>>   
> >>>>
> >>>>        
> >>>>
> >>>>>>into a full DOM that you can manipulate easily for a wide range of
> >>>>>>purposes.  I haven't used JTidy at an API level and so don't know it
> >>>>>>            
> >>>>>>
> >>as
> >>    
> >>
> >>>>>>  
> >>>>>>
> >>>>>>       
> >>>>>>
> >>>>>>            
> >>>>>>
> >>>>>well --
> >>>>>
> >>>>>
> >>>>>     
> >>>>>
> >>>>>          
> >>>>>
> >>>>>>based on its UI, it appears to be focused primarily on HTML
> validation
> >>>>>>       
> >>>>>>
> >>>>>>            
> >>>>>>
> >>>>and
> >>>>   
> >>>>
> >>>>        
> >>>>
> >>>>>>error detection/correction.
> >>>>>>
> >>>>>>I use CyberNeko for a range of operations on HTML documents that go
> >>>>>>       
> >>>>>>
> >>>>>>            
> >>>>>>
> >>>>beyond
> >>>>   
> >>>>
> >>>>        
> >>>>
> >>>>>>indexing them in Lucene, and really like it.  It has been robust for
> >>>>>>            
> >>>>>>
> >>me
> >>    
> >>
> >>>>>>       
> >>>>>>
> >>>>>>            
> >>>>>>
> >>>>so
> >>>>   
> >>>>
> >>>>        
> >>>>
> >>>>>>far.
> >>>>>>
> >>>>>>Chuck
> >>>>>>
> >>>>>>            
> >>>>>>
> >>>>>>>-----Original Message-----
> >>>>>>>From: Jingkang Zhang [mailto:zjingk@yahoo.com.cn]
> >>>>>>>Sent: Tuesday, February 01, 2005 1:15 AM
> >>>>>>>To: lucene-user@jakarta.apache.org
> >>>>>>>Subject: which HTML parser is better?
> >>>>>>>
> >>>>>>>Three HTML parsers(Lucene web application
> >>>>>>>demo,CyberNeko HTML Parser,JTidy) are mentioned in
> >>>>>>>Lucene FAQ
> >>>>>>>1.3.27.Which is the best?Can it filter tags that are
> >>>>>>>auto-created by MS-word 'Save As HTML files' function?
> >>>>>>>
> >>>>>>>_________________________________________________________
> >>>>>>>Do You Yahoo!?
> >>>>>>>150ÕÚ«˙MP3∑ËøÒÀ—£¨¥¯ƒ˙¥≥»Î“Ù¿÷µÓÃ√
> >>>>>>>http://music.yisou.com/
> >>>>>>>√¿≈Æ√˜–«”¶”–æ°”–£¨À—±È√¿Õº°¢—ﬁÕº∫Õø·Õº
> >>>>>>>http://image.yisou.com
> >>>>>>>1GæÕ «1000’◊£¨—≈ª¢µÁ” ◊‘÷˙¿©»›£°
> >>>>>>>
> >>>>>>>              
> >>>>>>>
>
>>>>>http://cn.rd.yahoo.com/mail_cn/tag/1g/*http://cn.mail.yahoo.com/event/ma
> >>>>>          
> >>>>>
> >>>>>>>il_1g/
> >>>>>>>
> >>>>>>>
> >>>>>>>              
> >>>>>>>
> >>>>>>       
> >>>>>>
> >>>>>>            
> >>>>>>
> >>>>---------------------------------------------------------------------
> >>>>   
> >>>>
> >>>>        
> >>>>
> >>>>>>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >>>>>>>For additional commands, e-mail:
> >>>>>>>              
> >>>>>>>
> >>lucene-user-help@jakarta.apache.org
> >>    
> >>
>
>>>>>>---------------------------------------------------------------------
> >>>>>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >>>>>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >>>>>>
> >>>>>>  
> >>>>>>
> >>>>>>       
> >>>>>>
> >>>>>>            
> >>>>>>
> >>>>>     
> >>>>>
> >>>>>          
> >>>>>
> >>>>---------------------------------------------------------------------
> >>>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >>>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >>>>
> >>>>   
> >>>>
> >>>>        
> >>>>
> >>> 
> >>>
> >>>      
> >>>
> >>---------------------------------------------------------------------
> >>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >>
> >>    
> >>
> >
> >  
> >
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
10 GB Mailbox, 100 FreeSMS http://www.gmx.net/de/go/topmail
+++ GMX - die erste Adresse f¸r Mail, Message, More +++

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12933-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 03 09:59:02 2005
Return-Path: <lucene-user-return-12933-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 30331 invoked from network); 3 Feb 2005 09:59:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Feb 2005 09:59:02 -0000
Received: (qmail 76809 invoked by uid 500); 3 Feb 2005 09:58:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 76775 invoked by uid 500); 3 Feb 2005 09:58:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 76761 invoked by uid 99); 3 Feb 2005 09:58:55 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of TheRanger@gmx.net designates 213.165.64.20 as permitted sender)
Received: from pop.gmx.net (HELO mail.gmx.net) (213.165.64.20)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 03 Feb 2005 01:58:54 -0800
Received: (qmail 9644 invoked by uid 0); 3 Feb 2005 09:58:52 -0000
Received: from 193.63.235.44 by www32.gmx.net with HTTP;
	Thu, 3 Feb 2005 10:58:52 +0100 (MET)
Date: Thu, 3 Feb 2005 10:58:52 +0100 (MET)
From: "Karl Koch" <TheRanger@gmx.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
MIME-Version: 1.0
References: <20050202194003.89418.qmail@web30206.mail.mud.yahoo.com>
Subject: Re: which HTML parser is better?
X-Priority: 3 (Normal)
X-Authenticated: #21808356
Message-ID: <14331.1107424732@www32.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Unfortunaltiy I am faithful ;-). Just for practical reason I want to do that
in a single class or even method called by another part in my Java
application. It should also run on Java 1.1 and it should be small and
simple. As I said before, I am in control of the HTML and it will be well
formated, because I generate it from XML using XSLT.

Karl

> If you are not married to Java:
> http://search.cpan.org/~kilinrax/HTML-Strip-1.04/Strip.pm
> 
> Otis
> 
> --- sergiu gordea <gsergiu@ifit.uni-klu.ac.at> wrote:
> 
> > Karl Koch wrote:
> > 
> > >I am in control of the html, which means it is well formated HTML. I
> > use
> > >only HTML files which I have transformed from XML. No external HTML
> > (e.g.
> > >the web).
> > >
> > >Are there any very-short solutions for that?
> > >  
> > >
> > if you are using only correct formated HTML pages and you are in
> > control 
> > of these pages.
> > you can use a regular exprestion to remove the tags.
> > 
> > something like
> > replaceAll("<*>","");
> > 
> > This is the ideea behind the operation. If you will search on google
> > you 
> > will find a more robust
> > regular expression.
> > 
> > Using a simple regular expression will be a very cheap solution, that
> > 
> > can cause you a lot of problems in the future.
> >  
> >  It's up to you to use it ....
> > 
> >  Best,
> >  
> >  Sergiu
> > 
> > >Karl
> > >
> > >  
> > >
> > >>Karl Koch wrote:
> > >>
> > >>    
> > >>
> > >>>Hi,
> > >>>
> > >>>yes, but the library your are using is quite big. I was thinking
> > that a
> > >>>      
> > >>>
> > >>5kB
> > >>    
> > >>
> > >>>code could actually do that. That sourceforge project is doing
> > much more
> > >>>than that but I do not need it.
> > >>> 
> > >>>
> > >>>      
> > >>>
> > >>you need just the htmlparser.jar 200k.
> > >>... you know ... the functionality is strongly correclated with the
> > size.
> > >>
> > >>  You can use 3 lines of code with a good regular expresion to
> > eliminate 
> > >>the html tags,
> > >>but this won't give you any guarantie that the text from the bad 
> > >>fromated html files will be
> > >>correctly extracted...
> > >>
> > >>  Best,
> > >>
> > >>  Sergiu
> > >>
> > >>    
> > >>
> > >>>Karl
> > >>>
> > >>> 
> > >>>
> > >>>      
> > >>>
> > >>>> Hi Karl,
> > >>>>
> > >>>>I already submitted a peace of code that removes the html tags.
> > >>>>Search for my previous answer in this thread.
> > >>>>
> > >>>> Best,
> > >>>>
> > >>>>  Sergiu
> > >>>>
> > >>>>Karl Koch wrote:
> > >>>>
> > >>>>   
> > >>>>
> > >>>>        
> > >>>>
> > >>>>>Hello,
> > >>>>>
> > >>>>>I have  been following this thread and have another question. 
> > >>>>>
> > >>>>>Is there a piece of sourcecode (which is preferably very short
> > and
> > >>>>>          
> > >>>>>
> > >>simple
> > >>    
> > >>
> > >>>>>(KISS)) which allows to remove all HTML tags from HTML content?
> > HTML
> > >>>>>          
> > >>>>>
> > >>3.2
> > >>    
> > >>
> > >>>>>would be enough...also no frames, CSS, etc. 
> > >>>>>
> > >>>>>I do not need to have the HTML strucutre tree or any other
> > structure
> > >>>>>          
> > >>>>>
> > >>but
> > >>    
> > >>
> > >>>>>need a facility to clean up HTML into its normal underlying
> > content
> > >>>>>     
> > >>>>>
> > >>>>>          
> > >>>>>
> > >>>>before
> > >>>>   
> > >>>>
> > >>>>        
> > >>>>
> > >>>>>indexing that content as a whole.
> > >>>>>
> > >>>>>Karl
> > >>>>>
> > >>>>>
> > >>>>>
> > >>>>>
> > >>>>>     
> > >>>>>
> > >>>>>          
> > >>>>>
> > >>>>>>I think that depends on what you want to do.  The Lucene demo
> > parser
> > >>>>>>       
> > >>>>>>
> > >>>>>>            
> > >>>>>>
> > >>>>does
> > >>>>   
> > >>>>
> > >>>>        
> > >>>>
> > >>>>>>simple mapping of HTML files into Lucene Documents; it does not
> > give
> > >>>>>>            
> > >>>>>>
> > >>you
> > >>    
> > >>
> > >>>>>>       
> > >>>>>>
> > >>>>>>            
> > >>>>>>
> > >>>>a
> > >>>>   
> > >>>>
> > >>>>        
> > >>>>
> > >>>>>>parse tree for the HTML doc.  CyberNeko is an extension of
> > Xerces
> > >>>>>>            
> > >>>>>>
> > >>(uses
> > >>    
> > >>
> > >>>>>>  
> > >>>>>>
> > >>>>>>       
> > >>>>>>
> > >>>>>>            
> > >>>>>>
> > >>>>>the
> > >>>>>
> > >>>>>
> > >>>>>     
> > >>>>>
> > >>>>>          
> > >>>>>
> > >>>>>>same API; will likely become part of Xerces), and so maps an
> > HTML
> > >>>>>>       
> > >>>>>>
> > >>>>>>            
> > >>>>>>
> > >>>>document
> > >>>>   
> > >>>>
> > >>>>        
> > >>>>
> > >>>>>>into a full DOM that you can manipulate easily for a wide range
> > of
> > >>>>>>purposes.  I haven't used JTidy at an API level and so don't
> > know it
> > >>>>>>            
> > >>>>>>
> > >>as
> > >>    
> > >>
> > >>>>>>  
> > >>>>>>
> > >>>>>>       
> > >>>>>>
> > >>>>>>            
> > >>>>>>
> > >>>>>well --
> > >>>>>
> > >>>>>
> > >>>>>     
> > >>>>>
> > >>>>>          
> > >>>>>
> > >>>>>>based on its UI, it appears to be focused primarily on HTML
> > validation
> > >>>>>>       
> > >>>>>>
> > >>>>>>            
> > >>>>>>
> > >>>>and
> > >>>>   
> > >>>>
> > >>>>        
> > >>>>
> > >>>>>>error detection/correction.
> > >>>>>>
> > >>>>>>I use CyberNeko for a range of operations on HTML documents
> > that go
> > >>>>>>       
> > >>>>>>
> > >>>>>>            
> > >>>>>>
> > >>>>beyond
> > >>>>   
> > >>>>
> > >>>>        
> > >>>>
> > >>>>>>indexing them in Lucene, and really like it.  It has been
> > robust for
> > >>>>>>            
> > >>>>>>
> > >>me
> > >>    
> > >>
> > >>>>>>       
> > >>>>>>
> > >>>>>>            
> > >>>>>>
> > >>>>so
> > >>>>   
> > >>>>
> > >>>>        
> > >>>>
> > >>>>>>far.
> > >>>>>>
> > >>>>>>Chuck
> > >>>>>>
> > >>>>>>            
> > >>>>>>
> > >>>>>>>-----Original Message-----
> > >>>>>>>From: Jingkang Zhang [mailto:zjingk@yahoo.com.cn]
> > >>>>>>>Sent: Tuesday, February 01, 2005 1:15 AM
> > >>>>>>>To: lucene-user@jakarta.apache.org
> > >>>>>>>Subject: which HTML parser is better?
> > >>>>>>>
> > >>>>>>>Three HTML parsers(Lucene web application
> > >>>>>>>demo,CyberNeko HTML Parser,JTidy) are mentioned in
> > >>>>>>>Lucene FAQ
> > >>>>>>>1.3.27.Which is the best?Can it filter tags that are
> > >>>>>>>auto-created by MS-word 'Save As HTML files' function?
> > >>>>>>>
> > >>>>>>>_________________________________________________________
> > >>>>>>>Do You Yahoo!?
> > >>>>>>>150ÕÚ«˙MP3∑ËøÒÀ—£¨¥¯ƒ˙¥≥»Î“Ù¿÷µÓÃ√
> > >>>>>>>http://music.yisou.com/
> > >>>>>>>√¿≈Æ√˜–«”¶”–æ°”–£¨À—±È√¿Õº°¢—ﬁÕº∫Õø·Õº
> > >>>>>>>http://image.yisou.com
> > >>>>>>>1GæÕ «1000’◊£¨—≈ª¢µÁ” ◊‘÷˙¿©»›£°
> > >>>>>>>
> > >>>>>>>              
> > >>>>>>>
> >
>
>>>>>http://cn.rd.yahoo.com/mail_cn/tag/1g/*http://cn.mail.yahoo.com/event/ma
> > >>>>>          
> > >>>>>
> > >>>>>>>il_1g/
> > >>>>>>>
> > >>>>>>>
> > >>>>>>>              
> > >>>>>>>
> > >>>>>>       
> > >>>>>>
> > >>>>>>            
> > >>>>>>
> >
> >>>>---------------------------------------------------------------------
> > >>>>   
> > >>>>
> > >>>>        
> > >>>>
> > >>>>>>>To unsubscribe, e-mail:
> > lucene-user-unsubscribe@jakarta.apache.org
> > >>>>>>>For additional commands, e-mail:
> > >>>>>>>              
> > >>>>>>>
> > >>lucene-user-help@jakarta.apache.org
> > >>    
> > >>
> >
>
>>>>>>---------------------------------------------------------------------
> > >>>>>>To unsubscribe, e-mail:
> > lucene-user-unsubscribe@jakarta.apache.org
> > >>>>>>For additional commands, e-mail:
> > lucene-user-help@jakarta.apache.org
> > >>>>>>
> > >>>>>>  
> > >>>>>>
> > >>>>>>       
> > >>>>>>
> > >>>>>>            
> > >>>>>>
> > >>>>>     
> > >>>>>
> > >>>>>          
> > >>>>>
> >
> >>>>---------------------------------------------------------------------
> > >>>>To unsubscribe, e-mail:
> > lucene-user-unsubscribe@jakarta.apache.org
> > >>>>For additional commands, e-mail:
> > lucene-user-help@jakarta.apache.org
> > >>>>
> > >>>>   
> > >>>>
> > >>>>        
> > >>>>
> > >>> 
> > >>>
> > >>>      
> > >>>
> >
> >>---------------------------------------------------------------------
> > >>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > >>For additional commands, e-mail:
> > lucene-user-help@jakarta.apache.org
> > >>
> > >>    
> > >>
> > >
> > >  
> > >
> > 
> > 
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> > 
> > 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
10 GB Mailbox, 100 FreeSMS http://www.gmx.net/de/go/topmail
+++ GMX - die erste Adresse f¸r Mail, Message, More +++

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12934-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 03 10:04:32 2005
Return-Path: <lucene-user-return-12934-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 33359 invoked from network); 3 Feb 2005 10:04:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Feb 2005 10:04:32 -0000
Received: (qmail 89211 invoked by uid 500); 3 Feb 2005 10:04:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 89188 invoked by uid 500); 3 Feb 2005 10:04:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 89175 invoked by uid 99); 3 Feb 2005 10:04:26 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from proserver2.ifit.uni-klu.ac.at (HELO proserver2.ifit.uni-klu.ac.at) (143.205.118.212)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 03 Feb 2005 02:04:25 -0800
Received: from [143.205.118.98] ([143.205.118.98]) by proserver2.ifit.uni-klu.ac.at over TLS secured channel with Microsoft SMTPSVC(5.0.2195.6713);
	 Thu, 3 Feb 2005 11:04:22 +0100
Message-ID: <4201F726.8030407@ifit.uni-klu.ac.at>
Date: Thu, 03 Feb 2005 11:04:22 +0100
From: sergiu gordea <gsergiu@ifit.uni-klu.ac.at>
User-Agent: Mozilla Thunderbird 0.7 (Windows/20040616)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: which HTML parser is better?
References: <42011A8B.4050000@ifit.uni-klu.ac.at> <30669.1107424486@www32.gmx.net>
In-Reply-To: <30669.1107424486@www32.gmx.net>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-OriginalArrivalTime: 03 Feb 2005 10:04:22.0456 (UTC) FILETIME=[BBDFEB80:01C509D7]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Karl Koch wrote:

>Hello Sergiu,
>
>thank you for your help so far. I appreciate it.
>
>I am working with Java 1.1 which does not include regular expressions.
>  
>
Why are you using Java 1.1? Are you so limited in resources?
What operating system do you use?
I asume that you just need to index the html files, and you need a 
html2txt conversion.
If  an external converter si a solution for you, you can use
Runtime.executeCommnand(...) to run the converter that will extract the 
information from your HTMLs
and generate a .txt file. Then you can use a reader to index the txt.

As I told you before, the best solution depends on your constraints 
(time, effort, hardware, performance) and requirements :)

  Best,

  Sergiu

>Your turn ;-)
>Karl 
>
>  
>
>>Karl Koch wrote:
>>
>>    
>>
>>>I am in control of the html, which means it is well formated HTML. I use
>>>only HTML files which I have transformed from XML. No external HTML (e.g.
>>>the web).
>>>
>>>Are there any very-short solutions for that?
>>> 
>>>
>>>      
>>>
>>if you are using only correct formated HTML pages and you are in control 
>>of these pages.
>>you can use a regular exprestion to remove the tags.
>>
>>something like
>>replaceAll("<*>","");
>>
>>This is the ideea behind the operation. If you will search on google you 
>>will find a more robust
>>regular expression.
>>
>>Using a simple regular expression will be a very cheap solution, that 
>>can cause you a lot of problems in the future.
>> 
>> It's up to you to use it ....
>>
>> Best,
>> 
>> Sergiu
>>
>>    
>>
>>>Karl
>>>
>>> 
>>>
>>>      
>>>
>>>>Karl Koch wrote:
>>>>
>>>>   
>>>>
>>>>        
>>>>
>>>>>Hi,
>>>>>
>>>>>yes, but the library your are using is quite big. I was thinking that a
>>>>>     
>>>>>
>>>>>          
>>>>>
>>>>5kB
>>>>   
>>>>
>>>>        
>>>>
>>>>>code could actually do that. That sourceforge project is doing much
>>>>>          
>>>>>
>>more
>>    
>>
>>>>>than that but I do not need it.
>>>>>
>>>>>
>>>>>     
>>>>>
>>>>>          
>>>>>
>>>>you need just the htmlparser.jar 200k.
>>>>... you know ... the functionality is strongly correclated with the
>>>>        
>>>>
>>size.
>>    
>>
>>>> You can use 3 lines of code with a good regular expresion to eliminate
>>>>the html tags,
>>>>but this won't give you any guarantie that the text from the bad 
>>>>fromated html files will be
>>>>correctly extracted...
>>>>
>>>> Best,
>>>>
>>>> Sergiu
>>>>
>>>>   
>>>>
>>>>        
>>>>
>>>>>Karl
>>>>>
>>>>>
>>>>>
>>>>>     
>>>>>
>>>>>          
>>>>>
>>>>>>Hi Karl,
>>>>>>
>>>>>>I already submitted a peace of code that removes the html tags.
>>>>>>Search for my previous answer in this thread.
>>>>>>
>>>>>>Best,
>>>>>>
>>>>>> Sergiu
>>>>>>
>>>>>>Karl Koch wrote:
>>>>>>
>>>>>>  
>>>>>>
>>>>>>       
>>>>>>
>>>>>>            
>>>>>>
>>>>>>>Hello,
>>>>>>>
>>>>>>>I have  been following this thread and have another question. 
>>>>>>>
>>>>>>>Is there a piece of sourcecode (which is preferably very short and
>>>>>>>         
>>>>>>>
>>>>>>>              
>>>>>>>
>>>>simple
>>>>   
>>>>
>>>>        
>>>>
>>>>>>>(KISS)) which allows to remove all HTML tags from HTML content? HTML
>>>>>>>         
>>>>>>>
>>>>>>>              
>>>>>>>
>>>>3.2
>>>>   
>>>>
>>>>        
>>>>
>>>>>>>would be enough...also no frames, CSS, etc. 
>>>>>>>
>>>>>>>I do not need to have the HTML strucutre tree or any other structure
>>>>>>>         
>>>>>>>
>>>>>>>              
>>>>>>>
>>>>but
>>>>   
>>>>
>>>>        
>>>>
>>>>>>>need a facility to clean up HTML into its normal underlying content
>>>>>>>    
>>>>>>>
>>>>>>>         
>>>>>>>
>>>>>>>              
>>>>>>>
>>>>>>before
>>>>>>  
>>>>>>
>>>>>>       
>>>>>>
>>>>>>            
>>>>>>
>>>>>>>indexing that content as a whole.
>>>>>>>
>>>>>>>Karl
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>    
>>>>>>>
>>>>>>>         
>>>>>>>
>>>>>>>              
>>>>>>>
>>>>>>>>I think that depends on what you want to do.  The Lucene demo parser
>>>>>>>>      
>>>>>>>>
>>>>>>>>           
>>>>>>>>
>>>>>>>>                
>>>>>>>>
>>>>>>does
>>>>>>  
>>>>>>
>>>>>>       
>>>>>>
>>>>>>            
>>>>>>
>>>>>>>>simple mapping of HTML files into Lucene Documents; it does not give
>>>>>>>>           
>>>>>>>>
>>>>>>>>                
>>>>>>>>
>>>>you
>>>>   
>>>>
>>>>        
>>>>
>>>>>>>>      
>>>>>>>>
>>>>>>>>           
>>>>>>>>
>>>>>>>>                
>>>>>>>>
>>>>>>a
>>>>>>  
>>>>>>
>>>>>>       
>>>>>>
>>>>>>            
>>>>>>
>>>>>>>>parse tree for the HTML doc.  CyberNeko is an extension of Xerces
>>>>>>>>           
>>>>>>>>
>>>>>>>>                
>>>>>>>>
>>>>(uses
>>>>   
>>>>
>>>>        
>>>>
>>>>>>>> 
>>>>>>>>
>>>>>>>>      
>>>>>>>>
>>>>>>>>           
>>>>>>>>
>>>>>>>>                
>>>>>>>>
>>>>>>>the
>>>>>>>
>>>>>>>
>>>>>>>    
>>>>>>>
>>>>>>>         
>>>>>>>
>>>>>>>              
>>>>>>>
>>>>>>>>same API; will likely become part of Xerces), and so maps an HTML
>>>>>>>>      
>>>>>>>>
>>>>>>>>           
>>>>>>>>
>>>>>>>>                
>>>>>>>>
>>>>>>document
>>>>>>  
>>>>>>
>>>>>>       
>>>>>>
>>>>>>            
>>>>>>
>>>>>>>>into a full DOM that you can manipulate easily for a wide range of
>>>>>>>>purposes.  I haven't used JTidy at an API level and so don't know it
>>>>>>>>           
>>>>>>>>
>>>>>>>>                
>>>>>>>>
>>>>as
>>>>   
>>>>
>>>>        
>>>>
>>>>>>>> 
>>>>>>>>
>>>>>>>>      
>>>>>>>>
>>>>>>>>           
>>>>>>>>
>>>>>>>>                
>>>>>>>>
>>>>>>>well --
>>>>>>>
>>>>>>>
>>>>>>>    
>>>>>>>
>>>>>>>         
>>>>>>>
>>>>>>>              
>>>>>>>
>>>>>>>>based on its UI, it appears to be focused primarily on HTML
>>>>>>>>                
>>>>>>>>
>>validation
>>    
>>
>>>>>>>>      
>>>>>>>>
>>>>>>>>           
>>>>>>>>
>>>>>>>>                
>>>>>>>>
>>>>>>and
>>>>>>  
>>>>>>
>>>>>>       
>>>>>>
>>>>>>            
>>>>>>
>>>>>>>>error detection/correction.
>>>>>>>>
>>>>>>>>I use CyberNeko for a range of operations on HTML documents that go
>>>>>>>>      
>>>>>>>>
>>>>>>>>           
>>>>>>>>
>>>>>>>>                
>>>>>>>>
>>>>>>beyond
>>>>>>  
>>>>>>
>>>>>>       
>>>>>>
>>>>>>            
>>>>>>
>>>>>>>>indexing them in Lucene, and really like it.  It has been robust for
>>>>>>>>           
>>>>>>>>
>>>>>>>>                
>>>>>>>>
>>>>me
>>>>   
>>>>
>>>>        
>>>>
>>>>>>>>      
>>>>>>>>
>>>>>>>>           
>>>>>>>>
>>>>>>>>                
>>>>>>>>
>>>>>>so
>>>>>>  
>>>>>>
>>>>>>       
>>>>>>
>>>>>>            
>>>>>>
>>>>>>>>far.
>>>>>>>>
>>>>>>>>Chuck
>>>>>>>>
>>>>>>>>           
>>>>>>>>
>>>>>>>>                
>>>>>>>>
>>>>>>>>>-----Original Message-----
>>>>>>>>>From: Jingkang Zhang [mailto:zjingk@yahoo.com.cn]
>>>>>>>>>Sent: Tuesday, February 01, 2005 1:15 AM
>>>>>>>>>To: lucene-user@jakarta.apache.org
>>>>>>>>>Subject: which HTML parser is better?
>>>>>>>>>
>>>>>>>>>Three HTML parsers(Lucene web application
>>>>>>>>>demo,CyberNeko HTML Parser,JTidy) are mentioned in
>>>>>>>>>Lucene FAQ
>>>>>>>>>1.3.27.Which is the best?Can it filter tags that are
>>>>>>>>>auto-created by MS-word 'Save As HTML files' function?
>>>>>>>>>
>>>>>>>>>_________________________________________________________
>>>>>>>>>Do You Yahoo!?
>>>>>>>>>150ÕÚ«˙MP3∑ËøÒÀ—£¨¥¯ƒ˙¥≥»Î“Ù¿÷µÓÃ√
>>>>>>>>>http://music.yisou.com/
>>>>>>>>>√¿≈Æ√˜–«”¶”–æ°”–£¨À—±È√¿Õº°¢—ﬁÕº∫Õø·Õº
>>>>>>>>>http://image.yisou.com
>>>>>>>>>1GæÕ «1000’◊£¨—≈ª¢µÁ” ◊‘÷˙¿©»›£°
>>>>>>>>>
>>>>>>>>>             
>>>>>>>>>
>>>>>>>>>                  
>>>>>>>>>
>>>>>>http://cn.rd.yahoo.com/mail_cn/tag/1g/*http://cn.mail.yahoo.com/event/ma
>>>>>>            
>>>>>>
>>>>>>>         
>>>>>>>
>>>>>>>              
>>>>>>>
>>>>>>>>>il_1g/
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>             
>>>>>>>>>
>>>>>>>>>                  
>>>>>>>>>
>>>>>>>>      
>>>>>>>>
>>>>>>>>           
>>>>>>>>
>>>>>>>>                
>>>>>>>>
>>>>>>---------------------------------------------------------------------
>>>>>>  
>>>>>>
>>>>>>       
>>>>>>
>>>>>>            
>>>>>>
>>>>>>>>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>>>>>>>>For additional commands, e-mail:
>>>>>>>>>             
>>>>>>>>>
>>>>>>>>>                  
>>>>>>>>>
>>>>lucene-user-help@jakarta.apache.org
>>>>   
>>>>
>>>>        
>>>>
>>>>>>>---------------------------------------------------------------------
>>>>>>>              
>>>>>>>
>>>>>>>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>>>>>>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>>>>>>>
>>>>>>>> 
>>>>>>>>
>>>>>>>>      
>>>>>>>>
>>>>>>>>           
>>>>>>>>
>>>>>>>>                
>>>>>>>>
>>>>>>>    
>>>>>>>
>>>>>>>         
>>>>>>>
>>>>>>>              
>>>>>>>
>>>>>>---------------------------------------------------------------------
>>>>>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>>>>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>>>>>
>>>>>>  
>>>>>>
>>>>>>       
>>>>>>
>>>>>>            
>>>>>>
>>>>>     
>>>>>
>>>>>          
>>>>>
>>>>---------------------------------------------------------------------
>>>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>>>
>>>>   
>>>>
>>>>        
>>>>
>>> 
>>>
>>>      
>>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>    
>>
>
>  
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12935-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 03 10:04:59 2005
Return-Path: <lucene-user-return-12935-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 33541 invoked from network); 3 Feb 2005 10:04:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Feb 2005 10:04:59 -0000
Received: (qmail 92466 invoked by uid 500); 3 Feb 2005 10:04:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 92443 invoked by uid 500); 3 Feb 2005 10:04:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 92429 invoked by uid 99); 3 Feb 2005 10:04:54 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from Unknown (HELO goose.milesbarr.com) (81.168.89.246)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 03 Feb 2005 02:04:52 -0800
Received: by goose.milesbarr.com (Postfix, from userid 1000)
	id D41E7285498; Thu,  3 Feb 2005 09:33:20 +0000 (GMT)
Subject: Re: Subversion conversion
From: Miles Barr <miles@runtime-collective.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <556c84ee503264e675cec7d73ecc9df2@ehatchersolutions.com>
References:
	 <BE93D3B28027E84197C08BF463AA9CD604515E05@MSGMROCLD2WIN.DMN1.FMR.COM>
	 <8b6ad07a05020216494153cdfb@mail.gmail.com>
	 <556c84ee503264e675cec7d73ecc9df2@ehatchersolutions.com>
Content-Type: text/plain
Content-Transfer-Encoding: 7bit
Organization: Runtime Collective Ltd.
Date: Thu, 03 Feb 2005 09:33:20 +0000
Message-Id: <1107423200.8535.8.camel@goose.milesbarr.com>
Mime-Version: 1.0
X-Mailer: Evolution 2.0.2 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Wed, 2005-02-02 at 22:11 -0500, Erik Hatcher wrote:
> I've seen both of these types of procedures followed on Apache 
> projects.  It really just depends.  Lucene's codebase is not being 
> modified frequently, so it is not necessary to branch and merge back.  
> Rather we simply develop off of the trunk (HEAD) and when we're ready 
> for a release we'll just do it from the trunk.  Actually  we'd most 
> likely tag and build from that tag just to be clean about it.

What consequences does this have for the 1.9/2.0 releases? i.e. after
2.0 the deprecated API will be removed, does this mean 1.x will no
longer be supported after 2.0?

The typical scenario being a bug is found that affects 1.x and 2.x, it's
patched in 2.x (i.e. the trunk) but we can't patch the last 1.x release.
The other scenario being a bug is found in the 1.x code, but it cannot
be applied.


-- 
Miles Barr <miles@runtime-collective.com>
Runtime Collective Ltd.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12936-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 03 10:06:03 2005
Return-Path: <lucene-user-return-12936-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 33958 invoked from network); 3 Feb 2005 10:06:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Feb 2005 10:06:03 -0000
Received: (qmail 94116 invoked by uid 500); 3 Feb 2005 10:05:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 94096 invoked by uid 500); 3 Feb 2005 10:05:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94082 invoked by uid 99); 3 Feb 2005 10:05:57 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of TheRanger@gmx.net designates 213.165.64.20 as permitted sender)
Received: from pop.gmx.net (HELO mail.gmx.net) (213.165.64.20)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 03 Feb 2005 02:05:56 -0800
Received: (qmail 30036 invoked by uid 0); 3 Feb 2005 10:05:53 -0000
Received: from 193.63.235.44 by www32.gmx.net with HTTP;
	Thu, 3 Feb 2005 11:05:53 +0100 (MET)
Date: Thu, 3 Feb 2005 11:05:53 +0100 (MET)
From: "Karl Koch" <TheRanger@gmx.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
MIME-Version: 1.0
References: <a0dc58d2b07a6d19b6ebadecc97a1f31@otherwise.com>
Subject: Re: which HTML parser is better?
X-Priority: 3 (Normal)
X-Authenticated: #21808356
Message-ID: <9281.1107425153@www32.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I appologise in advance, if some of my writing here has been said before.
The last three answers to my question have been suggesting pattern matching
solutions and Swing. Pattern matching was introduced in Java 1.4 and Swing
is something I cannot use since I work with Java 1.1 on a PDA.

I am wondering if somebody knows a piece of simple sourcecode with low
requirement which is running under this tense specification.

Thank you all,
Karl

> No one has yet mentioned using ParserDelegator and ParserCallback that 
> are part of HTMLEditorKit in Swing.  I have been successfully using 
> these classes to parse out the text of an HTML file.  You just need to 
> extend HTMLEditorKit.ParserCallback and override the various methods 
> that are called when different tags are encountered.
> 
> 
> On Feb 1, 2005, at 3:14 AM, Jingkang Zhang wrote:
> 
> > Three HTML parsers(Lucene web application
> > demo,CyberNeko HTML Parser,JTidy) are mentioned in
> > Lucene FAQ
> > 1.3.27.Which is the best?Can it filter tags that are
> > auto-created by MS-word 'Save As HTML files' function?
> -- 
> Bill Tschumy
> Otherwise -- Austin, TX
> http://www.otherwise.com
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
Sparen beginnt mit GMX DSL: http://www.gmx.net/de/go/dsl

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12937-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 03 10:07:29 2005
Return-Path: <lucene-user-return-12937-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 34766 invoked from network); 3 Feb 2005 10:07:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Feb 2005 10:07:29 -0000
Received: (qmail 96533 invoked by uid 500); 3 Feb 2005 10:07:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 96513 invoked by uid 500); 3 Feb 2005 10:07:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 96499 invoked by uid 99); 3 Feb 2005 10:07:24 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from proserver2.ifit.uni-klu.ac.at (HELO proserver2.ifit.uni-klu.ac.at) (143.205.118.212)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 03 Feb 2005 02:07:23 -0800
Received: from [143.205.118.98] ([143.205.118.98]) by proserver2.ifit.uni-klu.ac.at over TLS secured channel with Microsoft SMTPSVC(5.0.2195.6713);
	 Thu, 3 Feb 2005 11:07:20 +0100
Message-ID: <4201F7D8.7000508@ifit.uni-klu.ac.at>
Date: Thu, 03 Feb 2005 11:07:20 +0100
From: sergiu gordea <gsergiu@ifit.uni-klu.ac.at>
User-Agent: Mozilla Thunderbird 0.7 (Windows/20040616)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: which HTML parser is better?
References: <20050202194003.89418.qmail@web30206.mail.mud.yahoo.com> <14331.1107424732@www32.gmx.net>
In-Reply-To: <14331.1107424732@www32.gmx.net>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-OriginalArrivalTime: 03 Feb 2005 10:07:20.0834 (UTC) FILETIME=[26323E20:01C509D8]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Karl Koch wrote:

>Unfortunaltiy I am faithful ;-). Just for practical reason I want to do that
>in a single class or even method called by another part in my Java
>application. It should also run on Java 1.1 and it should be small and
>simple. As I said before, I am in control of the HTML and it will be well
>formated, because I generate it from XML using XSLT.
>  
>
Why don't you get the data directly from  XML files?
You can use a SAX parser, ... but I think it will require java 1.3 or at 
least 1.2.2

 Best,

  Sergiu

>Karl
>
>  
>
>>If you are not married to Java:
>>http://search.cpan.org/~kilinrax/HTML-Strip-1.04/Strip.pm
>>
>>Otis
>>
>>--- sergiu gordea <gsergiu@ifit.uni-klu.ac.at> wrote:
>>
>>    
>>
>>>Karl Koch wrote:
>>>
>>>      
>>>
>>>>I am in control of the html, which means it is well formated HTML. I
>>>>        
>>>>
>>>use
>>>      
>>>
>>>>only HTML files which I have transformed from XML. No external HTML
>>>>        
>>>>
>>>(e.g.
>>>      
>>>
>>>>the web).
>>>>
>>>>Are there any very-short solutions for that?
>>>> 
>>>>
>>>>        
>>>>
>>>if you are using only correct formated HTML pages and you are in
>>>control 
>>>of these pages.
>>>you can use a regular exprestion to remove the tags.
>>>
>>>something like
>>>replaceAll("<*>","");
>>>
>>>This is the ideea behind the operation. If you will search on google
>>>you 
>>>will find a more robust
>>>regular expression.
>>>
>>>Using a simple regular expression will be a very cheap solution, that
>>>
>>>can cause you a lot of problems in the future.
>>> 
>>> It's up to you to use it ....
>>>
>>> Best,
>>> 
>>> Sergiu
>>>
>>>      
>>>
>>>>Karl
>>>>
>>>> 
>>>>
>>>>        
>>>>
>>>>>Karl Koch wrote:
>>>>>
>>>>>   
>>>>>
>>>>>          
>>>>>
>>>>>>Hi,
>>>>>>
>>>>>>yes, but the library your are using is quite big. I was thinking
>>>>>>            
>>>>>>
>>>that a
>>>      
>>>
>>>>>>     
>>>>>>
>>>>>>            
>>>>>>
>>>>>5kB
>>>>>   
>>>>>
>>>>>          
>>>>>
>>>>>>code could actually do that. That sourceforge project is doing
>>>>>>            
>>>>>>
>>>much more
>>>      
>>>
>>>>>>than that but I do not need it.
>>>>>>
>>>>>>
>>>>>>     
>>>>>>
>>>>>>            
>>>>>>
>>>>>you need just the htmlparser.jar 200k.
>>>>>... you know ... the functionality is strongly correclated with the
>>>>>          
>>>>>
>>>size.
>>>      
>>>
>>>>> You can use 3 lines of code with a good regular expresion to
>>>>>          
>>>>>
>>>eliminate 
>>>      
>>>
>>>>>the html tags,
>>>>>but this won't give you any guarantie that the text from the bad 
>>>>>fromated html files will be
>>>>>correctly extracted...
>>>>>
>>>>> Best,
>>>>>
>>>>> Sergiu
>>>>>
>>>>>   
>>>>>
>>>>>          
>>>>>
>>>>>>Karl
>>>>>>
>>>>>>
>>>>>>
>>>>>>     
>>>>>>
>>>>>>            
>>>>>>
>>>>>>>Hi Karl,
>>>>>>>
>>>>>>>I already submitted a peace of code that removes the html tags.
>>>>>>>Search for my previous answer in this thread.
>>>>>>>
>>>>>>>Best,
>>>>>>>
>>>>>>> Sergiu
>>>>>>>
>>>>>>>Karl Koch wrote:
>>>>>>>
>>>>>>>  
>>>>>>>
>>>>>>>       
>>>>>>>
>>>>>>>              
>>>>>>>
>>>>>>>>Hello,
>>>>>>>>
>>>>>>>>I have  been following this thread and have another question. 
>>>>>>>>
>>>>>>>>Is there a piece of sourcecode (which is preferably very short
>>>>>>>>                
>>>>>>>>
>>>and
>>>      
>>>
>>>>>>>>         
>>>>>>>>
>>>>>>>>                
>>>>>>>>
>>>>>simple
>>>>>   
>>>>>
>>>>>          
>>>>>
>>>>>>>>(KISS)) which allows to remove all HTML tags from HTML content?
>>>>>>>>                
>>>>>>>>
>>>HTML
>>>      
>>>
>>>>>>>>         
>>>>>>>>
>>>>>>>>                
>>>>>>>>
>>>>>3.2
>>>>>   
>>>>>
>>>>>          
>>>>>
>>>>>>>>would be enough...also no frames, CSS, etc. 
>>>>>>>>
>>>>>>>>I do not need to have the HTML strucutre tree or any other
>>>>>>>>                
>>>>>>>>
>>>structure
>>>      
>>>
>>>>>>>>         
>>>>>>>>
>>>>>>>>                
>>>>>>>>
>>>>>but
>>>>>   
>>>>>
>>>>>          
>>>>>
>>>>>>>>need a facility to clean up HTML into its normal underlying
>>>>>>>>                
>>>>>>>>
>>>content
>>>      
>>>
>>>>>>>>    
>>>>>>>>
>>>>>>>>         
>>>>>>>>
>>>>>>>>                
>>>>>>>>
>>>>>>>before
>>>>>>>  
>>>>>>>
>>>>>>>       
>>>>>>>
>>>>>>>              
>>>>>>>
>>>>>>>>indexing that content as a whole.
>>>>>>>>
>>>>>>>>Karl
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>>    
>>>>>>>>
>>>>>>>>         
>>>>>>>>
>>>>>>>>                
>>>>>>>>
>>>>>>>>>I think that depends on what you want to do.  The Lucene demo
>>>>>>>>>                  
>>>>>>>>>
>>>parser
>>>      
>>>
>>>>>>>>>      
>>>>>>>>>
>>>>>>>>>           
>>>>>>>>>
>>>>>>>>>                  
>>>>>>>>>
>>>>>>>does
>>>>>>>  
>>>>>>>
>>>>>>>       
>>>>>>>
>>>>>>>              
>>>>>>>
>>>>>>>>>simple mapping of HTML files into Lucene Documents; it does not
>>>>>>>>>                  
>>>>>>>>>
>>>give
>>>      
>>>
>>>>>>>>>           
>>>>>>>>>
>>>>>>>>>                  
>>>>>>>>>
>>>>>you
>>>>>   
>>>>>
>>>>>          
>>>>>
>>>>>>>>>      
>>>>>>>>>
>>>>>>>>>           
>>>>>>>>>
>>>>>>>>>                  
>>>>>>>>>
>>>>>>>a
>>>>>>>  
>>>>>>>
>>>>>>>       
>>>>>>>
>>>>>>>              
>>>>>>>
>>>>>>>>>parse tree for the HTML doc.  CyberNeko is an extension of
>>>>>>>>>                  
>>>>>>>>>
>>>Xerces
>>>      
>>>
>>>>>>>>>           
>>>>>>>>>
>>>>>>>>>                  
>>>>>>>>>
>>>>>(uses
>>>>>   
>>>>>
>>>>>          
>>>>>
>>>>>>>>> 
>>>>>>>>>
>>>>>>>>>      
>>>>>>>>>
>>>>>>>>>           
>>>>>>>>>
>>>>>>>>>                  
>>>>>>>>>
>>>>>>>>the
>>>>>>>>
>>>>>>>>
>>>>>>>>    
>>>>>>>>
>>>>>>>>         
>>>>>>>>
>>>>>>>>                
>>>>>>>>
>>>>>>>>>same API; will likely become part of Xerces), and so maps an
>>>>>>>>>                  
>>>>>>>>>
>>>HTML
>>>      
>>>
>>>>>>>>>      
>>>>>>>>>
>>>>>>>>>           
>>>>>>>>>
>>>>>>>>>                  
>>>>>>>>>
>>>>>>>document
>>>>>>>  
>>>>>>>
>>>>>>>       
>>>>>>>
>>>>>>>              
>>>>>>>
>>>>>>>>>into a full DOM that you can manipulate easily for a wide range
>>>>>>>>>                  
>>>>>>>>>
>>>of
>>>      
>>>
>>>>>>>>>purposes.  I haven't used JTidy at an API level and so don't
>>>>>>>>>                  
>>>>>>>>>
>>>know it
>>>      
>>>
>>>>>>>>>           
>>>>>>>>>
>>>>>>>>>                  
>>>>>>>>>
>>>>>as
>>>>>   
>>>>>
>>>>>          
>>>>>
>>>>>>>>> 
>>>>>>>>>
>>>>>>>>>      
>>>>>>>>>
>>>>>>>>>           
>>>>>>>>>
>>>>>>>>>                  
>>>>>>>>>
>>>>>>>>well --
>>>>>>>>
>>>>>>>>
>>>>>>>>    
>>>>>>>>
>>>>>>>>         
>>>>>>>>
>>>>>>>>                
>>>>>>>>
>>>>>>>>>based on its UI, it appears to be focused primarily on HTML
>>>>>>>>>                  
>>>>>>>>>
>>>validation
>>>      
>>>
>>>>>>>>>      
>>>>>>>>>
>>>>>>>>>           
>>>>>>>>>
>>>>>>>>>                  
>>>>>>>>>
>>>>>>>and
>>>>>>>  
>>>>>>>
>>>>>>>       
>>>>>>>
>>>>>>>              
>>>>>>>
>>>>>>>>>error detection/correction.
>>>>>>>>>
>>>>>>>>>I use CyberNeko for a range of operations on HTML documents
>>>>>>>>>                  
>>>>>>>>>
>>>that go
>>>      
>>>
>>>>>>>>>      
>>>>>>>>>
>>>>>>>>>           
>>>>>>>>>
>>>>>>>>>                  
>>>>>>>>>
>>>>>>>beyond
>>>>>>>  
>>>>>>>
>>>>>>>       
>>>>>>>
>>>>>>>              
>>>>>>>
>>>>>>>>>indexing them in Lucene, and really like it.  It has been
>>>>>>>>>                  
>>>>>>>>>
>>>robust for
>>>      
>>>
>>>>>>>>>           
>>>>>>>>>
>>>>>>>>>                  
>>>>>>>>>
>>>>>me
>>>>>   
>>>>>
>>>>>          
>>>>>
>>>>>>>>>      
>>>>>>>>>
>>>>>>>>>           
>>>>>>>>>
>>>>>>>>>                  
>>>>>>>>>
>>>>>>>so
>>>>>>>  
>>>>>>>
>>>>>>>       
>>>>>>>
>>>>>>>              
>>>>>>>
>>>>>>>>>far.
>>>>>>>>>
>>>>>>>>>Chuck
>>>>>>>>>
>>>>>>>>>           
>>>>>>>>>
>>>>>>>>>                  
>>>>>>>>>
>>>>>>>>>>-----Original Message-----
>>>>>>>>>>From: Jingkang Zhang [mailto:zjingk@yahoo.com.cn]
>>>>>>>>>>Sent: Tuesday, February 01, 2005 1:15 AM
>>>>>>>>>>To: lucene-user@jakarta.apache.org
>>>>>>>>>>Subject: which HTML parser is better?
>>>>>>>>>>
>>>>>>>>>>Three HTML parsers(Lucene web application
>>>>>>>>>>demo,CyberNeko HTML Parser,JTidy) are mentioned in
>>>>>>>>>>Lucene FAQ
>>>>>>>>>>1.3.27.Which is the best?Can it filter tags that are
>>>>>>>>>>auto-created by MS-word 'Save As HTML files' function?
>>>>>>>>>>
>>>>>>>>>>_________________________________________________________
>>>>>>>>>>Do You Yahoo!?
>>>>>>>>>>150ÕÚ«˙MP3∑ËøÒÀ—£¨¥¯ƒ˙¥≥»Î“Ù¿÷µÓÃ√
>>>>>>>>>>http://music.yisou.com/
>>>>>>>>>>√¿≈Æ√˜–«”¶”–æ°”–£¨À—±È√¿Õº°¢—ﬁÕº∫Õø·Õº
>>>>>>>>>>http://image.yisou.com
>>>>>>>>>>1GæÕ «1000’◊£¨—≈ª¢µÁ” ◊‘÷˙¿©»›£°
>>>>>>>>>>
>>>>>>>>>>             
>>>>>>>>>>
>>>>>>>>>>                    
>>>>>>>>>>
>>>>>>http://cn.rd.yahoo.com/mail_cn/tag/1g/*http://cn.mail.yahoo.com/event/ma
>>>>>>            
>>>>>>
>>>>>>>>         
>>>>>>>>
>>>>>>>>                
>>>>>>>>
>>>>>>>>>>il_1g/
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>             
>>>>>>>>>>
>>>>>>>>>>                    
>>>>>>>>>>
>>>>>>>>>      
>>>>>>>>>
>>>>>>>>>           
>>>>>>>>>
>>>>>>>>>                  
>>>>>>>>>
>>>>>>---------------------------------------------------------------------
>>>>>>            
>>>>>>
>>>>>>>  
>>>>>>>
>>>>>>>       
>>>>>>>
>>>>>>>              
>>>>>>>
>>>>>>>>>>To unsubscribe, e-mail:
>>>>>>>>>>                    
>>>>>>>>>>
>>>lucene-user-unsubscribe@jakarta.apache.org
>>>      
>>>
>>>>>>>>>>For additional commands, e-mail:
>>>>>>>>>>             
>>>>>>>>>>
>>>>>>>>>>                    
>>>>>>>>>>
>>>>>lucene-user-help@jakarta.apache.org
>>>>>   
>>>>>
>>>>>          
>>>>>
>>>>>>>---------------------------------------------------------------------
>>>>>>>              
>>>>>>>
>>>>>>>>>To unsubscribe, e-mail:
>>>>>>>>>                  
>>>>>>>>>
>>>lucene-user-unsubscribe@jakarta.apache.org
>>>      
>>>
>>>>>>>>>For additional commands, e-mail:
>>>>>>>>>                  
>>>>>>>>>
>>>lucene-user-help@jakarta.apache.org
>>>      
>>>
>>>>>>>>> 
>>>>>>>>>
>>>>>>>>>      
>>>>>>>>>
>>>>>>>>>           
>>>>>>>>>
>>>>>>>>>                  
>>>>>>>>>
>>>>>>>>    
>>>>>>>>
>>>>>>>>         
>>>>>>>>
>>>>>>>>                
>>>>>>>>
>>>>>>---------------------------------------------------------------------
>>>>>>            
>>>>>>
>>>>>>>To unsubscribe, e-mail:
>>>>>>>              
>>>>>>>
>>>lucene-user-unsubscribe@jakarta.apache.org
>>>      
>>>
>>>>>>>For additional commands, e-mail:
>>>>>>>              
>>>>>>>
>>>lucene-user-help@jakarta.apache.org
>>>      
>>>
>>>>>>>  
>>>>>>>
>>>>>>>       
>>>>>>>
>>>>>>>              
>>>>>>>
>>>>>>     
>>>>>>
>>>>>>            
>>>>>>
>>>>---------------------------------------------------------------------
>>>>        
>>>>
>>>>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>>>>For additional commands, e-mail:
>>>>>          
>>>>>
>>>lucene-user-help@jakarta.apache.org
>>>      
>>>
>>>>>   
>>>>>
>>>>>          
>>>>>
>>>> 
>>>>
>>>>        
>>>>
>>>---------------------------------------------------------------------
>>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>>
>>>
>>>      
>>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>    
>>
>
>  
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12938-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 03 10:12:28 2005
Return-Path: <lucene-user-return-12938-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 36628 invoked from network); 3 Feb 2005 10:12:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Feb 2005 10:12:28 -0000
Received: (qmail 2180 invoked by uid 500); 3 Feb 2005 10:12:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 2148 invoked by uid 500); 3 Feb 2005 10:12:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2133 invoked by uid 99); 3 Feb 2005 10:12:20 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of TheRanger@gmx.net designates 213.165.64.20 as permitted sender)
Received: from pop.gmx.net (HELO mail.gmx.net) (213.165.64.20)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 03 Feb 2005 02:12:19 -0800
Received: (qmail 9910 invoked by uid 0); 3 Feb 2005 10:12:15 -0000
Received: from 193.63.235.44 by www32.gmx.net with HTTP;
	Thu, 3 Feb 2005 11:12:15 +0100 (MET)
Date: Thu, 3 Feb 2005 11:12:15 +0100 (MET)
From: "Karl Koch" <TheRanger@gmx.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
MIME-Version: 1.0
References: <4201F726.8030407@ifit.uni-klu.ac.at>
Subject: Re: which HTML parser is better?
X-Priority: 3 (Normal)
X-Authenticated: #21808356
Message-ID: <3461.1107425535@www32.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I am using Java 1.1 with a Sharp Zaurus PDA. I have very limited memory
constraints. I do not think CPU performance is a big issues though. But I
have other parts in my application which use quite a lot of memory and
soemthing run short. I therefore do not look into solutions which build up
tag trees etc. More like a solution who reads a stream of HTML and
transforms it into a stream of text.

I see your point of using an external program. I am however not entirely
sure if this is available. Also it would be much simpler to have a 3-5 kB
solution in Java, perhaps encapsulated in a class which does the job without
the need for advanced libraries which need 100-200 KB on my internal
storage. 

I hope I could clarify my situation now.

Cheers,
Karl 

> Karl Koch wrote:
> 
> >Hello Sergiu,
> >
> >thank you for your help so far. I appreciate it.
> >
> >I am working with Java 1.1 which does not include regular expressions.
> >  
> >
> Why are you using Java 1.1? Are you so limited in resources?
> What operating system do you use?
> I asume that you just need to index the html files, and you need a 
> html2txt conversion.
> If  an external converter si a solution for you, you can use
> Runtime.executeCommnand(...) to run the converter that will extract the 
> information from your HTMLs
> and generate a .txt file. Then you can use a reader to index the txt.
> 
> As I told you before, the best solution depends on your constraints 
> (time, effort, hardware, performance) and requirements :)
> 
>   Best,
> 
>   Sergiu
> 
> >Your turn ;-)
> >Karl 
> >
> >  
> >
> >>Karl Koch wrote:
> >>
> >>    
> >>
> >>>I am in control of the html, which means it is well formated HTML. I
> use
> >>>only HTML files which I have transformed from XML. No external HTML
> (e.g.
> >>>the web).
> >>>
> >>>Are there any very-short solutions for that?
> >>> 
> >>>
> >>>      
> >>>
> >>if you are using only correct formated HTML pages and you are in control
> >>of these pages.
> >>you can use a regular exprestion to remove the tags.
> >>
> >>something like
> >>replaceAll("<*>","");
> >>
> >>This is the ideea behind the operation. If you will search on google you
> >>will find a more robust
> >>regular expression.
> >>
> >>Using a simple regular expression will be a very cheap solution, that 
> >>can cause you a lot of problems in the future.
> >> 
> >> It's up to you to use it ....
> >>
> >> Best,
> >> 
> >> Sergiu
> >>
> >>    
> >>
> >>>Karl
> >>>
> >>> 
> >>>
> >>>      
> >>>
> >>>>Karl Koch wrote:
> >>>>
> >>>>   
> >>>>
> >>>>        
> >>>>
> >>>>>Hi,
> >>>>>
> >>>>>yes, but the library your are using is quite big. I was thinking that
> a
> >>>>>     
> >>>>>
> >>>>>          
> >>>>>
> >>>>5kB
> >>>>   
> >>>>
> >>>>        
> >>>>
> >>>>>code could actually do that. That sourceforge project is doing much
> >>>>>          
> >>>>>
> >>more
> >>    
> >>
> >>>>>than that but I do not need it.
> >>>>>
> >>>>>
> >>>>>     
> >>>>>
> >>>>>          
> >>>>>
> >>>>you need just the htmlparser.jar 200k.
> >>>>... you know ... the functionality is strongly correclated with the
> >>>>        
> >>>>
> >>size.
> >>    
> >>
> >>>> You can use 3 lines of code with a good regular expresion to
> eliminate
> >>>>the html tags,
> >>>>but this won't give you any guarantie that the text from the bad 
> >>>>fromated html files will be
> >>>>correctly extracted...
> >>>>
> >>>> Best,
> >>>>
> >>>> Sergiu
> >>>>
> >>>>   
> >>>>
> >>>>        
> >>>>
> >>>>>Karl
> >>>>>
> >>>>>
> >>>>>
> >>>>>     
> >>>>>
> >>>>>          
> >>>>>
> >>>>>>Hi Karl,
> >>>>>>
> >>>>>>I already submitted a peace of code that removes the html tags.
> >>>>>>Search for my previous answer in this thread.
> >>>>>>
> >>>>>>Best,
> >>>>>>
> >>>>>> Sergiu
> >>>>>>
> >>>>>>Karl Koch wrote:
> >>>>>>
> >>>>>>  
> >>>>>>
> >>>>>>       
> >>>>>>
> >>>>>>            
> >>>>>>
> >>>>>>>Hello,
> >>>>>>>
> >>>>>>>I have  been following this thread and have another question. 
> >>>>>>>
> >>>>>>>Is there a piece of sourcecode (which is preferably very short and
> >>>>>>>         
> >>>>>>>
> >>>>>>>              
> >>>>>>>
> >>>>simple
> >>>>   
> >>>>
> >>>>        
> >>>>
> >>>>>>>(KISS)) which allows to remove all HTML tags from HTML content?
> HTML
> >>>>>>>         
> >>>>>>>
> >>>>>>>              
> >>>>>>>
> >>>>3.2
> >>>>   
> >>>>
> >>>>        
> >>>>
> >>>>>>>would be enough...also no frames, CSS, etc. 
> >>>>>>>
> >>>>>>>I do not need to have the HTML strucutre tree or any other
> structure
> >>>>>>>         
> >>>>>>>
> >>>>>>>              
> >>>>>>>
> >>>>but
> >>>>   
> >>>>
> >>>>        
> >>>>
> >>>>>>>need a facility to clean up HTML into its normal underlying content
> >>>>>>>    
> >>>>>>>
> >>>>>>>         
> >>>>>>>
> >>>>>>>              
> >>>>>>>
> >>>>>>before
> >>>>>>  
> >>>>>>
> >>>>>>       
> >>>>>>
> >>>>>>            
> >>>>>>
> >>>>>>>indexing that content as a whole.
> >>>>>>>
> >>>>>>>Karl
> >>>>>>>
> >>>>>>>
> >>>>>>>
> >>>>>>>
> >>>>>>>    
> >>>>>>>
> >>>>>>>         
> >>>>>>>
> >>>>>>>              
> >>>>>>>
> >>>>>>>>I think that depends on what you want to do.  The Lucene demo
> parser
> >>>>>>>>      
> >>>>>>>>
> >>>>>>>>           
> >>>>>>>>
> >>>>>>>>                
> >>>>>>>>
> >>>>>>does
> >>>>>>  
> >>>>>>
> >>>>>>       
> >>>>>>
> >>>>>>            
> >>>>>>
> >>>>>>>>simple mapping of HTML files into Lucene Documents; it does not
> give
> >>>>>>>>           
> >>>>>>>>
> >>>>>>>>                
> >>>>>>>>
> >>>>you
> >>>>   
> >>>>
> >>>>        
> >>>>
> >>>>>>>>      
> >>>>>>>>
> >>>>>>>>           
> >>>>>>>>
> >>>>>>>>                
> >>>>>>>>
> >>>>>>a
> >>>>>>  
> >>>>>>
> >>>>>>       
> >>>>>>
> >>>>>>            
> >>>>>>
> >>>>>>>>parse tree for the HTML doc.  CyberNeko is an extension of Xerces
> >>>>>>>>           
> >>>>>>>>
> >>>>>>>>                
> >>>>>>>>
> >>>>(uses
> >>>>   
> >>>>
> >>>>        
> >>>>
> >>>>>>>> 
> >>>>>>>>
> >>>>>>>>      
> >>>>>>>>
> >>>>>>>>           
> >>>>>>>>
> >>>>>>>>                
> >>>>>>>>
> >>>>>>>the
> >>>>>>>
> >>>>>>>
> >>>>>>>    
> >>>>>>>
> >>>>>>>         
> >>>>>>>
> >>>>>>>              
> >>>>>>>
> >>>>>>>>same API; will likely become part of Xerces), and so maps an HTML
> >>>>>>>>      
> >>>>>>>>
> >>>>>>>>           
> >>>>>>>>
> >>>>>>>>                
> >>>>>>>>
> >>>>>>document
> >>>>>>  
> >>>>>>
> >>>>>>       
> >>>>>>
> >>>>>>            
> >>>>>>
> >>>>>>>>into a full DOM that you can manipulate easily for a wide range of
> >>>>>>>>purposes.  I haven't used JTidy at an API level and so don't know
> it
> >>>>>>>>           
> >>>>>>>>
> >>>>>>>>                
> >>>>>>>>
> >>>>as
> >>>>   
> >>>>
> >>>>        
> >>>>
> >>>>>>>> 
> >>>>>>>>
> >>>>>>>>      
> >>>>>>>>
> >>>>>>>>           
> >>>>>>>>
> >>>>>>>>                
> >>>>>>>>
> >>>>>>>well --
> >>>>>>>
> >>>>>>>
> >>>>>>>    
> >>>>>>>
> >>>>>>>         
> >>>>>>>
> >>>>>>>              
> >>>>>>>
> >>>>>>>>based on its UI, it appears to be focused primarily on HTML
> >>>>>>>>                
> >>>>>>>>
> >>validation
> >>    
> >>
> >>>>>>>>      
> >>>>>>>>
> >>>>>>>>           
> >>>>>>>>
> >>>>>>>>                
> >>>>>>>>
> >>>>>>and
> >>>>>>  
> >>>>>>
> >>>>>>       
> >>>>>>
> >>>>>>            
> >>>>>>
> >>>>>>>>error detection/correction.
> >>>>>>>>
> >>>>>>>>I use CyberNeko for a range of operations on HTML documents that
> go
> >>>>>>>>      
> >>>>>>>>
> >>>>>>>>           
> >>>>>>>>
> >>>>>>>>                
> >>>>>>>>
> >>>>>>beyond
> >>>>>>  
> >>>>>>
> >>>>>>       
> >>>>>>
> >>>>>>            
> >>>>>>
> >>>>>>>>indexing them in Lucene, and really like it.  It has been robust
> for
> >>>>>>>>           
> >>>>>>>>
> >>>>>>>>                
> >>>>>>>>
> >>>>me
> >>>>   
> >>>>
> >>>>        
> >>>>
> >>>>>>>>      
> >>>>>>>>
> >>>>>>>>           
> >>>>>>>>
> >>>>>>>>                
> >>>>>>>>
> >>>>>>so
> >>>>>>  
> >>>>>>
> >>>>>>       
> >>>>>>
> >>>>>>            
> >>>>>>
> >>>>>>>>far.
> >>>>>>>>
> >>>>>>>>Chuck
> >>>>>>>>
> >>>>>>>>           
> >>>>>>>>
> >>>>>>>>                
> >>>>>>>>
> >>>>>>>>>-----Original Message-----
> >>>>>>>>>From: Jingkang Zhang [mailto:zjingk@yahoo.com.cn]
> >>>>>>>>>Sent: Tuesday, February 01, 2005 1:15 AM
> >>>>>>>>>To: lucene-user@jakarta.apache.org
> >>>>>>>>>Subject: which HTML parser is better?
> >>>>>>>>>
> >>>>>>>>>Three HTML parsers(Lucene web application
> >>>>>>>>>demo,CyberNeko HTML Parser,JTidy) are mentioned in
> >>>>>>>>>Lucene FAQ
> >>>>>>>>>1.3.27.Which is the best?Can it filter tags that are
> >>>>>>>>>auto-created by MS-word 'Save As HTML files' function?
> >>>>>>>>>
> >>>>>>>>>_________________________________________________________
> >>>>>>>>>Do You Yahoo!?
> >>>>>>>>>150ÕÚ«˙MP3∑ËøÒÀ—£¨¥¯ƒ˙¥≥»Î“Ù¿÷µÓÃ√
> >>>>>>>>>http://music.yisou.com/
> >>>>>>>>>√¿≈Æ√˜–«”¶”–æ°”–£¨À—±È√¿Õº°¢—ﬁÕº∫Õø·Õº
> >>>>>>>>>http://image.yisou.com
> >>>>>>>>>1GæÕ «1000’◊£¨—≈ª¢µÁ” ◊‘÷˙¿©»›£°
> >>>>>>>>>
> >>>>>>>>>             
> >>>>>>>>>
> >>>>>>>>>                  
> >>>>>>>>>
>
>>>>>>http://cn.rd.yahoo.com/mail_cn/tag/1g/*http://cn.mail.yahoo.com/event/ma
> >>>>>>            
> >>>>>>
> >>>>>>>         
> >>>>>>>
> >>>>>>>              
> >>>>>>>
> >>>>>>>>>il_1g/
> >>>>>>>>>
> >>>>>>>>>
> >>>>>>>>>             
> >>>>>>>>>
> >>>>>>>>>                  
> >>>>>>>>>
> >>>>>>>>      
> >>>>>>>>
> >>>>>>>>           
> >>>>>>>>
> >>>>>>>>                
> >>>>>>>>
>
>>>>>>---------------------------------------------------------------------
> >>>>>>  
> >>>>>>
> >>>>>>       
> >>>>>>
> >>>>>>            
> >>>>>>
> >>>>>>>>>To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> >>>>>>>>>For additional commands, e-mail:
> >>>>>>>>>             
> >>>>>>>>>
> >>>>>>>>>                  
> >>>>>>>>>
> >>>>lucene-user-help@jakarta.apache.org
> >>>>   
> >>>>
> >>>>        
> >>>>
>
>>>>>>>---------------------------------------------------------------------
> >>>>>>>              
> >>>>>>>
> >>>>>>>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >>>>>>>>For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> >>>>>>>>
> >>>>>>>> 
> >>>>>>>>
> >>>>>>>>      
> >>>>>>>>
> >>>>>>>>           
> >>>>>>>>
> >>>>>>>>                
> >>>>>>>>
> >>>>>>>    
> >>>>>>>
> >>>>>>>         
> >>>>>>>
> >>>>>>>              
> >>>>>>>
>
>>>>>>---------------------------------------------------------------------
> >>>>>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >>>>>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >>>>>>
> >>>>>>  
> >>>>>>
> >>>>>>       
> >>>>>>
> >>>>>>            
> >>>>>>
> >>>>>     
> >>>>>
> >>>>>          
> >>>>>
> >>>>---------------------------------------------------------------------
> >>>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >>>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >>>>
> >>>>   
> >>>>
> >>>>        
> >>>>
> >>> 
> >>>
> >>>      
> >>>
> >>---------------------------------------------------------------------
> >>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >>
> >>    
> >>
> >
> >  
> >
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
GMX im TV ... Die Gedanken sind frei ... Schon gesehen?
Jetzt Spot online ansehen: http://www.gmx.net/de/go/tv-spot

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12939-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 03 10:17:59 2005
Return-Path: <lucene-user-return-12939-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 39179 invoked from network); 3 Feb 2005 10:17:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Feb 2005 10:17:59 -0000
Received: (qmail 15160 invoked by uid 500); 3 Feb 2005 10:17:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 15140 invoked by uid 500); 3 Feb 2005 10:17:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15123 invoked by uid 99); 3 Feb 2005 10:17:51 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from proserver2.ifit.uni-klu.ac.at (HELO proserver2.ifit.uni-klu.ac.at) (143.205.118.212)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 03 Feb 2005 02:17:49 -0800
Received: from [143.205.118.98] ([143.205.118.98]) by proserver2.ifit.uni-klu.ac.at over TLS secured channel with Microsoft SMTPSVC(5.0.2195.6713);
	 Thu, 3 Feb 2005 11:17:46 +0100
Message-ID: <4201FA4A.5030202@ifit.uni-klu.ac.at>
Date: Thu, 03 Feb 2005 11:17:46 +0100
From: sergiu gordea <gsergiu@ifit.uni-klu.ac.at>
User-Agent: Mozilla Thunderbird 0.7 (Windows/20040616)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: which HTML parser is better?
References: <a0dc58d2b07a6d19b6ebadecc97a1f31@otherwise.com> <9281.1107425153@www32.gmx.net>
In-Reply-To: <9281.1107425153@www32.gmx.net>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 03 Feb 2005 10:17:46.0940 (UTC) FILETIME=[9B626FC0:01C509D9]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Karl Koch wrote:

>I appologise in advance, if some of my writing here has been said before.
>The last three answers to my question have been suggesting pattern matching
>solutions and Swing. Pattern matching was introduced in Java 1.4 and Swing
>is something I cannot use since I work with Java 1.1 on a PDA.
>  
>
I see,

In this case you can read line by line your HTML file and then write 
something like this:

String line;
int startPos, endPos;
StringBuffer text = new StringBuffer();
while((line = reader.readLine()) != null   ){
    startPos = line.indexOf(">");
    endPos = line.indexOf("<");
    if(startPos >0 && endPos > startPos)
          text.append(line.substring(startPos, endPos));
}

This is just a sample code that should work if you have just one tag per 
line in the HTML file.
This can be a start point for you.

  Hope it helps,

 Best,

 Sergiu

>I am wondering if somebody knows a piece of simple sourcecode with low
>requirement which is running under this tense specification.
>
>Thank you all,
>Karl
>
>  
>
>>No one has yet mentioned using ParserDelegator and ParserCallback that 
>>are part of HTMLEditorKit in Swing.  I have been successfully using 
>>these classes to parse out the text of an HTML file.  You just need to 
>>extend HTMLEditorKit.ParserCallback and override the various methods 
>>that are called when different tags are encountered.
>>
>>
>>On Feb 1, 2005, at 3:14 AM, Jingkang Zhang wrote:
>>
>>    
>>
>>>Three HTML parsers(Lucene web application
>>>demo,CyberNeko HTML Parser,JTidy) are mentioned in
>>>Lucene FAQ
>>>1.3.27.Which is the best?Can it filter tags that are
>>>auto-created by MS-word 'Save As HTML files' function?
>>>      
>>>
>>-- 
>>Bill Tschumy
>>Otherwise -- Austin, TX
>>http://www.otherwise.com
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>    
>>
>
>  
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12940-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 03 10:20:04 2005
Return-Path: <lucene-user-return-12940-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 40156 invoked from network); 3 Feb 2005 10:20:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Feb 2005 10:20:03 -0000
Received: (qmail 19160 invoked by uid 500); 3 Feb 2005 10:19:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 19141 invoked by uid 500); 3 Feb 2005 10:19:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19125 invoked by uid 99); 3 Feb 2005 10:19:58 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from libra.cs.put.poznan.pl (HELO libra.cs.put.poznan.pl) (150.254.30.30)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 03 Feb 2005 02:19:58 -0800
Received: from libra.cs.put.poznan.pl (localhost [127.0.0.1])
	by libra (Postfix on VMS) with SMTP id 5F9DF2D5C
	for <lucene-user@jakarta.apache.org>; Thu,  3 Feb 2005 11:19:54 +0100 (CET)
Received: from [150.254.24.146] (idss-dw-pnca.cs.put.poznan.pl [150.254.24.146])
	by libra.cs.put.poznan.pl (Postfix on VMS) with ESMTP id 2C7472D5A
	for <lucene-user@jakarta.apache.org>; Thu,  3 Feb 2005 11:19:54 +0100 (CET)
Message-ID: <4201FA76.2040703@cs.put.poznan.pl>
Date: Thu, 03 Feb 2005 11:18:30 +0100
From: Dawid Weiss <dawid.weiss@cs.put.poznan.pl>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: which HTML parser is better?
References: <a0dc58d2b07a6d19b6ebadecc97a1f31@otherwise.com> <9281.1107425153@www32.gmx.net>
In-Reply-To: <9281.1107425153@www32.gmx.net>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Karl,

Two things, try to experiment with both:

1) I would try to write a lexical scanner that strips HTML tags, much 
like the regular expression does. Java lexical scanner packages produce 
nice pure Java classes that seldom use any advanced API, so they should 
work on Java 1.1. They are simple state machines with states encoded in 
integers -- this should work like a charm, be fast and small.

2) Write a parser yourself. Having a regular expression it isn't that 
difficult to do... :)

D.

Karl Koch wrote:
> I appologise in advance, if some of my writing here has been said before.
> The last three answers to my question have been suggesting pattern matching
> solutions and Swing. Pattern matching was introduced in Java 1.4 and Swing
> is something I cannot use since I work with Java 1.1 on a PDA.
> 
> I am wondering if somebody knows a piece of simple sourcecode with low
> requirement which is running under this tense specification.
> 
> Thank you all,
> Karl
> 
> 
>>No one has yet mentioned using ParserDelegator and ParserCallback that 
>>are part of HTMLEditorKit in Swing.  I have been successfully using 
>>these classes to parse out the text of an HTML file.  You just need to 
>>extend HTMLEditorKit.ParserCallback and override the various methods 
>>that are called when different tags are encountered.
>>
>>
>>On Feb 1, 2005, at 3:14 AM, Jingkang Zhang wrote:
>>
>>
>>>Three HTML parsers(Lucene web application
>>>demo,CyberNeko HTML Parser,JTidy) are mentioned in
>>>Lucene FAQ
>>>1.3.27.Which is the best?Can it filter tags that are
>>>auto-created by MS-word 'Save As HTML files' function?
>>
>>-- 
>>Bill Tschumy
>>Otherwise -- Austin, TX
>>http://www.otherwise.com
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
> 
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12941-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 03 10:20:39 2005
Return-Path: <lucene-user-return-12941-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 40373 invoked from network); 3 Feb 2005 10:20:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Feb 2005 10:20:39 -0000
Received: (qmail 20456 invoked by uid 500); 3 Feb 2005 10:20:33 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 20437 invoked by uid 500); 3 Feb 2005 10:20:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20422 invoked by uid 99); 3 Feb 2005 10:20:33 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of TheRanger@gmx.net designates 213.165.64.20 as permitted sender)
Received: from pop.gmx.net (HELO mail.gmx.net) (213.165.64.20)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 03 Feb 2005 02:20:31 -0800
Received: (qmail 17465 invoked by uid 0); 3 Feb 2005 10:20:28 -0000
Received: from 193.63.235.44 by www32.gmx.net with HTTP;
	Thu, 3 Feb 2005 11:20:28 +0100 (MET)
Date: Thu, 3 Feb 2005 11:20:28 +0100 (MET)
From: "Karl Koch" <TheRanger@gmx.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
MIME-Version: 1.0
References: <4201FA4A.5030202@ifit.uni-klu.ac.at>
Subject: Re: which HTML parser is better? - Thread closed
X-Priority: 3 (Normal)
X-Authenticated: #21808356
Message-ID: <2770.1107426028@www32.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thank you, I will do that.

> Karl Koch wrote:
> 
> >I appologise in advance, if some of my writing here has been said before.
> >The last three answers to my question have been suggesting pattern
> matching
> >solutions and Swing. Pattern matching was introduced in Java 1.4 and
> Swing
> >is something I cannot use since I work with Java 1.1 on a PDA.
> >  
> >
> I see,
> 
> In this case you can read line by line your HTML file and then write 
> something like this:
> 
> String line;
> int startPos, endPos;
> StringBuffer text = new StringBuffer();
> while((line = reader.readLine()) != null   ){
>     startPos = line.indexOf(">");
>     endPos = line.indexOf("<");
>     if(startPos >0 && endPos > startPos)
>           text.append(line.substring(startPos, endPos));
> }
> 
> This is just a sample code that should work if you have just one tag per 
> line in the HTML file.
> This can be a start point for you.
> 
>   Hope it helps,
> 
>  Best,
> 
>  Sergiu
> 
> >I am wondering if somebody knows a piece of simple sourcecode with low
> >requirement which is running under this tense specification.
> >
> >Thank you all,
> >Karl
> >
> >  
> >
> >>No one has yet mentioned using ParserDelegator and ParserCallback that 
> >>are part of HTMLEditorKit in Swing.  I have been successfully using 
> >>these classes to parse out the text of an HTML file.  You just need to 
> >>extend HTMLEditorKit.ParserCallback and override the various methods 
> >>that are called when different tags are encountered.
> >>
> >>
> >>On Feb 1, 2005, at 3:14 AM, Jingkang Zhang wrote:
> >>
> >>    
> >>
> >>>Three HTML parsers(Lucene web application
> >>>demo,CyberNeko HTML Parser,JTidy) are mentioned in
> >>>Lucene FAQ
> >>>1.3.27.Which is the best?Can it filter tags that are
> >>>auto-created by MS-word 'Save As HTML files' function?
> >>>      
> >>>
> >>-- 
> >>Bill Tschumy
> >>Otherwise -- Austin, TX
> >>http://www.otherwise.com
> >>
> >>
> >>---------------------------------------------------------------------
> >>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >>
> >>    
> >>
> >
> >  
> >
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
10 GB Mailbox, 100 FreeSMS http://www.gmx.net/de/go/topmail
+++ GMX - die erste Adresse f¸r Mail, Message, More +++

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12942-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 03 10:38:48 2005
Return-Path: <lucene-user-return-12942-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 48487 invoked from network); 3 Feb 2005 10:38:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Feb 2005 10:38:48 -0000
Received: (qmail 45178 invoked by uid 500); 3 Feb 2005 10:38:46 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 44317 invoked by uid 500); 3 Feb 2005 10:38:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 44304 invoked by uid 99); 3 Feb 2005 10:38:43 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from fluffy.torchboxapps.com (HELO fluffy.torchbox.com) (81.187.40.70)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 03 Feb 2005 02:38:42 -0800
Received: from grenache.internal.torchbox.com ([192.168.1.81])
	by fluffy.torchbox.com with esmtp (Exim 4.34)
	id 1CweNi-0005NQ-8U
	for lucene-user@jakarta.apache.org; Thu, 03 Feb 2005 10:38:39 +0000
Date: Thu, 3 Feb 2005 10:38:32 +0000 (GMT)
From: Nick Burch <nick@torchbox.com>
X-X-Sender: nick@localhost.localdomain
To: lucene-user@jakarta.apache.org
Subject: Rewrite causes BooleanQuery to loose required terms
Message-ID: <Pine.LNX.4.44.0502031031100.2267-200000@localhost.localdomain>
MIME-Version: 1.0
Content-Type: MULTIPART/MIXED; BOUNDARY="8323328-202035445-1107427112=:2267"
X-Spam-Score: -105.9 (---------------------------------------------------)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--8323328-202035445-1107427112=:2267
Content-Type: TEXT/PLAIN; charset=US-ASCII

Hi All

I'm using lucene from CVS, and I've discovered the rewriting a 
BooleanQuery created with the old style (Query,boolean,boolean) method,
the rewrite will cause the required parameters to get lost.

Using old style (Query,boolean,boolean):
query = +contents:test* +(class:1.2 class:1.2.*)
rewritten query = (contents:tester contents:testing contents:tests) 
  (class:1.2 (class:1.2.3 class:1.2.4))

Using new style (Query,BooleanClause.Occur.MUST):
query = +contents:test* +(class:1.2 class:1.2.*)
rewritten query = +(contents:tester contents:testing contents:tests) 
  +(class:1.2 (class:1.2.3 class:1.2.4))

Attached is a simple RAMDirectory test to show this. I know that the 
(Query,boolean,boolean) method is depricated, but should it also be 
broken?

Thanks
Nick

--8323328-202035445-1107427112=:2267
Content-Type: TEXT/PLAIN; charset=US-ASCII; name="rewritingTest.java"
Content-Transfer-Encoding: BASE64
Content-ID: <Pine.LNX.4.44.0502031038320.2267@localhost.localdomain>
Content-Description: 
Content-Disposition: attachment; filename="rewritingTest.java"

LyoNCiAqIEZvciB0ZXN0aW5nIHRvIHNlZSBpZiB0aGVyZSBhcmUgcHJvYmxl
bXMgd2l0aCByZXdyaXRpbmcNCiAqDQogKiBTaG91bGQgc2hvdw0KICogICAg
K2NvbnRlbnRzOnRlc3QqICsoY2xhc3M6MS4yIGNsYXNzOjEuMi4qKQ0KICog
R29lcyB0byB3aXRoIG9sZCBzdHlsZQ0KICogICAgKGNvbnRlbnRzOnRlc3Rl
ciBjb250ZW50czp0ZXN0aW5nIGNvbnRlbnRzOnRlc3RzKSAoY2xhc3M6MS4y
IChjbGFzczoxLjIuMyBjbGFzczoxLjIuNCkpDQogKiBHb2VzIHRvIChjb3Jy
ZWN0bHkpIHdpdGggbmV3IHN0eWxlDQogKiAgICArKGNvbnRlbnRzOnRlc3Rl
ciBjb250ZW50czp0ZXN0aW5nIGNvbnRlbnRzOnRlc3RzKSArKGNsYXNzOjEu
MiAoY2xhc3M6MS4yLjMgY2xhc3M6MS4yLjQpKQ0KICoNCiAqIE5pY2sgQnVy
Y2ggPG5pY2sgYXQgdG9yY2hib3ggZG90IGNvbT4NCiAqLw0KDQppbXBvcnQg
b3JnLmFwYWNoZS5sdWNlbmUuaW5kZXguKjsNCmltcG9ydCBvcmcuYXBhY2hl
Lmx1Y2VuZS5zdG9yZS4qOw0KaW1wb3J0IG9yZy5hcGFjaGUubHVjZW5lLnNl
YXJjaC4qOw0KaW1wb3J0IG9yZy5hcGFjaGUubHVjZW5lLmRvY3VtZW50Lio7
DQoNCmltcG9ydCBvcmcuYXBhY2hlLmx1Y2VuZS5hbmFseXNpcy5TaW1wbGVB
bmFseXplcjsNCmltcG9ydCBvcmcuYXBhY2hlLmx1Y2VuZS5hbmFseXNpcy5B
bmFseXplcjsNCg0KaW1wb3J0IGphdmEuaW8uSU9FeGNlcHRpb247DQoNCnB1
YmxpYyBjbGFzcyByZXdyaXRpbmdUZXN0IHsNCnB1YmxpYyBzdGF0aWMgdm9p
ZCBtYWluKFN0cmluZyBhcmdzW10pIHRocm93cyBJT0V4Y2VwdGlvbiB7DQoJ
Ly8gQ3JlYXRlIGEgcmFtIGRpcmVjdG9yeSB3aXRoIGEgZmV3IHRlc3QgZW50
cmllcyBpbiBpdA0KCVJBTURpcmVjdG9yeSBkaXIgPSBuZXcgUkFNRGlyZWN0
b3J5KCk7DQoNCgkvLyBDcmVhdGUgYW4gYW5hbHl6ZXINCglBbmFseXplciBh
ID0gbmV3IFNpbXBsZUFuYWx5emVyKCk7DQoNCgkvLyBPcGVuIGFuIGluZGV4
IHdyaXRlcg0KCUluZGV4V3JpdGVyIHdyaXRlciA9IG5ldyBJbmRleFdyaXRl
cihkaXIsYSx0cnVlKTsNCg0KCS8vIEFkZCBzb21lIHRlc3QgZG9jcw0KCURv
Y3VtZW50IGRvYzsNCglGaWVsZCBmOw0KDQoJLy8gRG9jIDENCglkb2MgPSBu
ZXcgRG9jdW1lbnQoKTsNCglmID0gbmV3IEZpZWxkKCJjb250ZW50cyIsInRl
c3RpbmciLEZpZWxkLlN0b3JlLllFUyxGaWVsZC5JbmRleC5UT0tFTklaRUQp
Ow0KCWRvYy5hZGQoZik7DQoJZiA9IG5ldyBGaWVsZCgidGl0bGUiLCJ0ZXN0
aW5nIixGaWVsZC5TdG9yZS5ZRVMsRmllbGQuSW5kZXguVE9LRU5JWkVEKTsN
Cglkb2MuYWRkKGYpOw0KCWYgPSBuZXcgRmllbGQoImNsYXNzIiwiMS4yLjMi
LEZpZWxkLlN0b3JlLllFUyxGaWVsZC5JbmRleC5VTl9UT0tFTklaRUQpOw0K
CWRvYy5hZGQoZik7DQoJZiA9IG5ldyBGaWVsZCgiY2xhc3MiLCIxLjIuNCIs
RmllbGQuU3RvcmUuWUVTLEZpZWxkLkluZGV4LlVOX1RPS0VOSVpFRCk7DQoJ
ZG9jLmFkZChmKTsNCgl3cml0ZXIuYWRkRG9jdW1lbnQoZG9jKTsNCg0KCS8v
IERvYyAyDQoJZG9jID0gbmV3IERvY3VtZW50KCk7DQoJZiA9IG5ldyBGaWVs
ZCgiY29udGVudHMiLCJ0ZXN0cyIsRmllbGQuU3RvcmUuWUVTLEZpZWxkLklu
ZGV4LlRPS0VOSVpFRCk7DQoJZG9jLmFkZChmKTsNCglmID0gbmV3IEZpZWxk
KCJ0aWx0ZSIsInRlc3RzIixGaWVsZC5TdG9yZS5ZRVMsRmllbGQuSW5kZXgu
VE9LRU5JWkVEKTsNCglkb2MuYWRkKGYpOw0KCWYgPSBuZXcgRmllbGQoImNs
YXNzIiwiMS4zLjMiLEZpZWxkLlN0b3JlLllFUyxGaWVsZC5JbmRleC5VTl9U
T0tFTklaRUQpOw0KCWRvYy5hZGQoZik7DQoJZiA9IG5ldyBGaWVsZCgiY2xh
c3MiLCIxLjMuNCIsRmllbGQuU3RvcmUuWUVTLEZpZWxkLkluZGV4LlVOX1RP
S0VOSVpFRCk7DQoJZG9jLmFkZChmKTsNCgl3cml0ZXIuYWRkRG9jdW1lbnQo
ZG9jKTsNCg0KCS8vIERvYyAzDQoJZG9jID0gbmV3IERvY3VtZW50KCk7DQoJ
ZiA9IG5ldyBGaWVsZCgiY29udGVudHMiLCJ0ZXN0ZXIiLEZpZWxkLlN0b3Jl
LllFUyxGaWVsZC5JbmRleC5UT0tFTklaRUQpOw0KCWRvYy5hZGQoZik7DQoJ
ZiA9IG5ldyBGaWVsZCgidGlsdGUiLCJ0ZXN0ZXIiLEZpZWxkLlN0b3JlLllF
UyxGaWVsZC5JbmRleC5UT0tFTklaRUQpOw0KCWRvYy5hZGQoZik7DQoJZiA9
IG5ldyBGaWVsZCgiY2xhc3MiLCIxLjQiLEZpZWxkLlN0b3JlLllFUyxGaWVs
ZC5JbmRleC5VTl9UT0tFTklaRUQpOw0KCWRvYy5hZGQoZik7DQoJZiA9IG5l
dyBGaWVsZCgiY2xhc3MiLCIxLjUiLEZpZWxkLlN0b3JlLllFUyxGaWVsZC5J
bmRleC5VTl9UT0tFTklaRUQpOw0KCWRvYy5hZGQoZik7DQoJd3JpdGVyLmFk
ZERvY3VtZW50KGRvYyk7DQoNCgkvLyBOb3cgZ2V0IGEgc2VhcmNoZXINCgl3
cml0ZXIuY2xvc2UoKTsNCglJbmRleFJlYWRlciByZWFkZXIgPSBJbmRleFJl
YWRlci5vcGVuKGRpcik7DQoJSW5kZXhTZWFyY2hlciBzZWFyY2ggPSBuZXcg
SW5kZXhTZWFyY2hlcihyZWFkZXIpOw0KDQoJLy8gQ29uc3RydWN0IGEgbmVz
dCBvZiBxdWVyaWVzDQoJQm9vbGVhblF1ZXJ5IG92ZXJhbGxRdWVyeU9sZCA9
IG5ldyBCb29sZWFuUXVlcnkoKTsNCglCb29sZWFuUXVlcnkgb3ZlcmFsbFF1
ZXJ5TmV3ID0gbmV3IEJvb2xlYW5RdWVyeSgpOw0KDQoJLy8gQ29udGVudHMg
cXVlcnkNCglUZXJtIGNvbnRlbnRzVCA9IG5ldyBUZXJtKCJjb250ZW50cyIs
InRlc3QqIik7DQoJV2lsZGNhcmRRdWVyeSBjb250ZW50cyA9IG5ldyBXaWxk
Y2FyZFF1ZXJ5KGNvbnRlbnRzVCk7DQoJb3ZlcmFsbFF1ZXJ5T2xkLmFkZChj
b250ZW50cyx0cnVlLGZhbHNlKTsNCglvdmVyYWxsUXVlcnlOZXcuYWRkKGNv
bnRlbnRzLEJvb2xlYW5DbGF1c2UuT2NjdXIuTVVTVCk7DQoNCgkvLyBDbGFz
c2lmY2F0aW9uIFF1ZXJ5DQoJQm9vbGVhblF1ZXJ5IGNsYXNzUSA9IG5ldyBC
b29sZWFuUXVlcnkoKTsNCglUZXJtIGp1c3RDbGFzc1QgPSBuZXcgVGVybSgi
Y2xhc3MiLCIxLjIiKTsNCglUZXJtIGNsYXNzQ2hpbGRyZW5UID0gbmV3IFRl
cm0oImNsYXNzIiwiMS4yLioiKTsNCglUZXJtUXVlcnkganVzdENsYXNzID0g
bmV3IFRlcm1RdWVyeShqdXN0Q2xhc3NUKTsNCglXaWxkY2FyZFF1ZXJ5IGNs
YXNzQ2hpbGRyZW4gPSBuZXcgV2lsZGNhcmRRdWVyeShjbGFzc0NoaWxkcmVu
VCk7DQoJY2xhc3NRLmFkZChqdXN0Q2xhc3MsZmFsc2UsZmFsc2UpOw0KCWNs
YXNzUS5hZGQoY2xhc3NDaGlsZHJlbixmYWxzZSxmYWxzZSk7DQoJb3ZlcmFs
bFF1ZXJ5T2xkLmFkZChjbGFzc1EsdHJ1ZSxmYWxzZSk7DQoJb3ZlcmFsbFF1
ZXJ5TmV3LmFkZChjbGFzc1EsQm9vbGVhbkNsYXVzZS5PY2N1ci5NVVNUKTsN
Cg0KCVN5c3RlbS5vdXQucHJpbnRsbihvdmVyYWxsUXVlcnlPbGQpOw0KCVF1
ZXJ5IHJld3JpdHRlbk9sZCA9IG92ZXJhbGxRdWVyeU9sZC5yZXdyaXRlKHJl
YWRlcik7DQoJU3lzdGVtLm91dC5wcmludGxuKHJld3JpdHRlbk9sZCk7DQoN
CglTeXN0ZW0ub3V0LnByaW50bG4oIiIpOw0KCVN5c3RlbS5vdXQucHJpbnRs
bihvdmVyYWxsUXVlcnlOZXcpOw0KCVF1ZXJ5IHJld3JpdHRlbk5ldyA9IG92
ZXJhbGxRdWVyeU5ldy5yZXdyaXRlKHJlYWRlcik7DQoJU3lzdGVtLm91dC5w
cmludGxuKHJld3JpdHRlbk5ldyk7DQp9DQp9DQo=

--8323328-202035445-1107427112=:2267
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org
--8323328-202035445-1107427112=:2267--

From lucene-user-return-12943-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 03 12:01:01 2005
Return-Path: <lucene-user-return-12943-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 85594 invoked from network); 3 Feb 2005 12:01:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Feb 2005 12:01:01 -0000
Received: (qmail 59849 invoked by uid 500); 3 Feb 2005 12:00:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 59817 invoked by uid 500); 3 Feb 2005 12:00:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 59803 invoked by uid 99); 3 Feb 2005 12:00:55 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork3.mail.Virginia.EDU (HELO fork3.mail.virginia.edu) (128.143.2.193)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 03 Feb 2005 04:00:54 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork3.mail.virginia.edu (Postfix) with ESMTP id 06B781C00C
	for <lucene-user@jakarta.apache.org>; Thu,  3 Feb 2005 07:00:52 -0500 (EST)
Received: from fork3.mail.virginia.edu ([127.0.0.1])
 by localhost (fork3.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 07638-02 for <lucene-user@jakarta.apache.org>;
 Thu,  3 Feb 2005 07:00:51 -0500 (EST)
Received: from [192.168.1.102] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by fork3.mail.virginia.edu (Postfix) with ESMTP id 7891D1BFCA
	for <lucene-user@jakarta.apache.org>; Thu,  3 Feb 2005 07:00:51 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <20050203071210.63053.qmail@web90103.mail.scd.yahoo.com>
References: <20050203071210.63053.qmail@web90103.mail.scd.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <ccfe21d9bca543e59b784f8926b364cd@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Has anyone tried indexing xml files: DigesterXMLHandler.java file before?
Date: Thu, 3 Feb 2005 06:59:56 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-UVA-Virus-Scanned: by amavisd-new at fork3.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

You're missing the Commons Digester JAR, which is in the lib directory 
of the LIA download.  Check the build.xml file for the build details of 
how the compile class path is set.  You'll likely need some other JAR's 
at runtime too.

	Erik

On Feb 3, 2005, at 2:12 AM, jac jac wrote:

>
> Hi,
>
> I just tried to compile DigesterXMLHandler.java  from the LIA codes 
> which I have gotten from the src directory.
>
> I placed it into my own directory...
>
> I could't seem to be able to compile DigesterXMLHandler.java:
> It keeps prompting:
>
> DigesterXMLHandler.java:9: package org.apache.commons.digester does 
> not exist
> import org.apache.commons.digester.Digester;
>                                    ^
> DigesterXMLHandler.java:19: cannot resolve symbol
> symbol  : class Digester
> location: class lia.handlingtypes.xml.DigesterXMLHandler
>   private Digester dig;
>           ^
> DigesterXMLHandler.java:25: cannot resolve symbol
> symbol  : class Digester
> location: class lia.handlingtypes.xml.DigesterXMLHandler
>     dig = new Digester();
>
>
> I have set the classpath...
>
> May I know how do we run the file in order to get my index folder?
> so sorry, i really can't interpret the way to run it...
> are there any documentation around...?
>
> thanks very much!
>
>  Yahoo! Mobile
> - Download the latest ringtones, games, and more!


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12944-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 03 12:06:29 2005
Return-Path: <lucene-user-return-12944-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 88609 invoked from network); 3 Feb 2005 12:06:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Feb 2005 12:06:29 -0000
Received: (qmail 69285 invoked by uid 500); 3 Feb 2005 12:06:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 69266 invoked by uid 500); 3 Feb 2005 12:06:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 69248 invoked by uid 99); 3 Feb 2005 12:06:22 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork7.mail.Virginia.EDU (HELO fork7.mail.virginia.edu) (128.143.2.177)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 03 Feb 2005 04:06:20 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork7.mail.virginia.edu (Postfix) with ESMTP id CECAC1F5343
	for <lucene-user@jakarta.apache.org>; Thu,  3 Feb 2005 07:06:18 -0500 (EST)
Received: from fork7.mail.virginia.edu ([127.0.0.1])
 by localhost (fork7.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 12579-07 for <lucene-user@jakarta.apache.org>;
 Thu,  3 Feb 2005 07:06:18 -0500 (EST)
Received: from [192.168.1.102] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by fork7.mail.virginia.edu (Postfix) with ESMTP id 818581F535C
	for <lucene-user@jakarta.apache.org>; Thu,  3 Feb 2005 07:06:18 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <1107423200.8535.8.camel@goose.milesbarr.com>
References: <BE93D3B28027E84197C08BF463AA9CD604515E05@MSGMROCLD2WIN.DMN1.FMR.COM> <8b6ad07a05020216494153cdfb@mail.gmail.com> <556c84ee503264e675cec7d73ecc9df2@ehatchersolutions.com> <1107423200.8535.8.camel@goose.milesbarr.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <434ddcabbebd5eec3bd3759369d3369f@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Subversion conversion
Date: Thu, 3 Feb 2005 07:06:17 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-UVA-Virus-Scanned: by amavisd-new at fork7.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

We can work the 1.x and 2.0 lines of code however we need to.  We can 
branch (a branch or tag in Subversion is inexpensive and a constant 
time operation).  How we want to manage both versions of Lucene is open 
for discussion.  Nothing about Subversion changes how we manage this 
from how we'd do it with CVS.

Currently the 1.x and 2.x lines of code are one and the same.  Once 
they diverge in 2.0, it will depend on who steps up to maintain 1.x but 
I suspect there will be a strong interest in keeping it alive by some, 
but we would of course encourage everyone using 1.x upgrade to 1.9 and 
remove deprecation warnings.

	Erik



On Feb 3, 2005, at 4:33 AM, Miles Barr wrote:

> On Wed, 2005-02-02 at 22:11 -0500, Erik Hatcher wrote:
>> I've seen both of these types of procedures followed on Apache
>> projects.  It really just depends.  Lucene's codebase is not being
>> modified frequently, so it is not necessary to branch and merge back.
>> Rather we simply develop off of the trunk (HEAD) and when we're ready
>> for a release we'll just do it from the trunk.  Actually  we'd most
>> likely tag and build from that tag just to be clean about it.
>
> What consequences does this have for the 1.9/2.0 releases? i.e. after
> 2.0 the deprecated API will be removed, does this mean 1.x will no
> longer be supported after 2.0?
>
> The typical scenario being a bug is found that affects 1.x and 2.x, 
> it's
> patched in 2.x (i.e. the trunk) but we can't patch the last 1.x 
> release.
> The other scenario being a bug is found in the 1.x code, but it cannot
> be applied.
>
>
> -- 
> Miles Barr <miles@runtime-collective.com>
> Runtime Collective Ltd.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12945-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 03 12:15:13 2005
Return-Path: <lucene-user-return-12945-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 92962 invoked from network); 3 Feb 2005 12:15:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Feb 2005 12:15:13 -0000
Received: (qmail 77851 invoked by uid 500); 3 Feb 2005 12:15:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 77817 invoked by uid 500); 3 Feb 2005 12:15:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 77804 invoked by uid 99); 3 Feb 2005 12:15:09 -0000
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FROM_ENDS_IN_NUMS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web42008.mail.yahoo.com (HELO web42008.mail.yahoo.com) (66.218.93.176)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 03 Feb 2005 04:15:08 -0800
Received: (qmail 5818 invoked by uid 60001); 3 Feb 2005 12:15:06 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=BVc9vyTFiJgzrvhL01ueNVBVsTaHraIsm0GN2N2aKNKTGqI3zbHMogIu5G28rW+jeKL6qAUBq+r9TJ6M2+LLEVdEwzIctyK6aq4ZiKqu1fwCBc15OwPQSvcIpkD7/V4zU1EoogaNnzc59SRymev62BXQ+bhHU/C/5DXujfiPYnE=  ;
Message-ID: <20050203121506.5816.qmail@web42008.mail.yahoo.com>
Received: from [219.64.156.124] by web42008.mail.yahoo.com via HTTP; Thu, 03 Feb 2005 04:15:06 PST
Date: Thu, 3 Feb 2005 04:15:06 -0800 (PST)
From: mahaveer jain <jainmahaveer23@yahoo.com>
Subject: Getting Search Results Pharse
To: lucene user <lucene-user@jakarta.apache.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi All,

I am using lucene to index and search my app. Till
date I am just showing file name or title based on my
application. We want to show, pharse that contain the
keyword searched. 
Has anybody tried this ? Can someone help me start
this ?

Thanks
Mahaveer


		
__________________________________ 
Do you Yahoo!? 
Yahoo! Mail - Easier than ever with enhanced search. Learn more.
http://info.mail.yahoo.com/mail_250

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12946-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 03 12:31:28 2005
Return-Path: <lucene-user-return-12946-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 3541 invoked from network); 3 Feb 2005 12:31:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Feb 2005 12:31:28 -0000
Received: (qmail 1836 invoked by uid 500); 3 Feb 2005 12:31:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 1817 invoked by uid 500); 3 Feb 2005 12:31:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1803 invoked by uid 99); 3 Feb 2005 12:31:22 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of fckdp@ok.ru designates 195.2.83.226 as permitted sender)
Received: from mail3.zmail.ru (HELO aha.ru) (195.2.83.226)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 03 Feb 2005 04:31:20 -0800
Received: from [195.98.167.2] (account fckdp@ok.ru HELO pb)
  by frontend3.aha.ru (CommuniGate Pro SMTP 4.2.8)
  with ESMTP id 109736200 for lucene-user@jakarta.apache.org; Thu, 03 Feb 2005 15:31:16 +0300
Reply-To: <fckdp@ok.ru>
From: "Pasha Bizhan" <fckdp@ok.ru>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Getting Search Results Pharse
Date: Thu, 3 Feb 2005 15:35:31 +0300
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
Thread-Index: AcUJ6gTz/6ARv8rxSYm7OW1+SZvcOwAApN3g
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
In-Reply-To: <20050203121506.5816.qmail@web42008.mail.yahoo.com>
Message-ID: <auto-000109736200@frontend3.aha.ru>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi, 

> From: mahaveer jain [mailto:jainmahaveer23@yahoo.com] 

> I am using lucene to index and search my app. Till date I am 
> just showing file name or title based on my application. We 
> want to show, pharse that contain the keyword searched. 
> Has anybody tried this ? Can someone help me start this ?

Look the Mark Harwood's Highlighter package :
http://cvs.apache.org/viewcvs.cgi/jakarta-lucene-sandbox/contributions/highl
ighter/

Pasha Bizhan
http://lucenedotnet.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12947-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 03 13:11:44 2005
Return-Path: <lucene-user-return-12947-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 21384 invoked from network); 3 Feb 2005 13:11:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Feb 2005 13:11:44 -0000
Received: (qmail 62945 invoked by uid 500); 3 Feb 2005 13:11:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 62913 invoked by uid 500); 3 Feb 2005 13:11:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 62896 invoked by uid 99); 3 Feb 2005 13:11:38 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from ip-64-32-221-50.dsl.iad.megapath.net (HELO mail.lou.emergint.com) (64.32.221.50)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 03 Feb 2005 05:11:37 -0800
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
Subject: RE: Subversion conversion
Date: Thu, 3 Feb 2005 08:11:34 -0500
Message-ID: <8D7DE0C84F1D5149894354E754E6807E3326A4@mail.lou.emergint.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Subversion conversion
Thread-Index: AcUJiko8SWrJ/14XTuWoC2LI6ODwEgAZf4zQ
From: "Kevin L. Cobb" <kevin.cobb@emergint.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
	"Chakra Yadavalli" <chakra.yadavalli@gmail.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

We recently started using SVN for SCM, were using VSS. We're trying out
approach A, branching off for each release. Development always develops
on the trunk, except when a bug is discovered that needs to be patched
to a previous version of the product. When that scenario comes up (and
it never has), then the developer has to make the change to the branched
version that needs to be patched and then must merge those changes into
other branches and the trunk. =20

It seems to be a cleaner approach, at least for now. Of course, for an
open source project like Lucene, I'm not sure branching is necessary at
all. Anyone have any other models to use for SCM, I'd love to hear them,

Here's some ASCII art showing our model:

                                                     +--- branch release
1.2
                                                     |
---trunk----|-------trunk------|------trunk----------|-------trunk------
---
            |                  |
            |                  +------ branch release 1.1
            |
            +---- branch release 1.0 -------
=20

Kevin Cobb


-----Original Message-----
From: Chakra Yadavalli [mailto:chakra.yadavalli@gmail.com]=20
Sent: Wednesday, February 02, 2005 7:50 PM
To: Lucene Users List
Subject: Re: Subversion conversion

Hello ALL, It might not be the right place for it but as we are talking
about SCM, I have a quick question. First, I haven't used CVS/SVN on any
project. I am a ClearCase/PVCS guy. I just would like to know WHICH
CONFIGURATION MANAGEMENT PLAN DO YOU FOLLOW IN LUCENE DEVELOPMENT.

PLAN A: DEVELOP IN TRUNK AND BRANCH OFF ON RELEASE
Recently I had a discussion with a friend about developing in the TRUNK
(which in the /main in ClearCase speak),  which my friend claims that is
done in the APACHE/Open Source projects. The main advantage he pointed
was that Merging could be avoided if you are developing in the TRUNK.
And when there is a release, they create a new Branch (say LUCENE_1.5
branch) and label them. That branch will be used for maintenance and any
code deltas will be merged back to TRUNK as needed.

PLAN B: BRANCH OF BEFORE PLANNED RELEASE AND MERGE BACK TO MAIN/TRUNK
As I am from a "private workspace"/"isolated development" school of
thought promoted by ClearCase, I am used to create a branch at the
project/release initiation and develop in that branch (say /main/dev).
Similarly, we have /main/int for making changes when the project goes to
integration phase, and a /main/acp branch for acceptance. In this
school, the /main will always have fewer versions of files and the
difference between any two consecutive versions is the NET CHANGE of
that SCM element (either file or dir) between two releases (say LUCENE
1.4 and 1.5).

Thanks in advance for your time.
Chakra Yadavalli
http://jroller.com/page/cyblogue

> -----Original Message-----
> From: aurora [mailto:aurora00@gmail.com]
> Sent: Wednesday, February 02, 2005 4:25 PM
> To: lucene-user@jakarta.apache.org
> Subject: Re: Subversion conversion
>=20
> Subversion rocks!
>=20
> I have just setup the Windows svn client TortoiseSVN with my favourite
> file manager Total Commander 6.5. The svn status and commands are
> readily
> integrated with the file manager. Offline diff and revert are two
things
> I
> really like from svn.
>=20
> > The conversion to Subversion is complete.  The new repository is
> > available to users read-only at:
> >
> >       http://svn.apache.org/repos/asf/lucene/java/trunk
> >
> > Besides /trunk, there is also /branches and /tags.  /tags contains
all
>=20
> > the CVS tags made so that you could grab a snapshot of a previous
> > version.  /trunk is analogous to CVS HEAD.  You can learn more about
> the
> > Apache repository configuration here and how to use the command-line
> > client to check out the repository:
> >
> >       http://www.apache.org/dev/version-control.html
> >
> > Learn about Subversion, including the complete O'Reilly Subversion
> book
> > in electronic form for free here:
> >
> >       http://subversion.tigris.org
> >
> > For committers, check out the repository using https and your Apache
> > username/password.
> >
> > The Lucene sandbox has been integrated into our single Subversion
> > repository, under /java/trunk/sandbox:
> >
> >       http://svn.apache.org/repos/asf/lucene/java/trunk/sandbox/
> >
> > The Lucene CVS repositories have been locked for read-only.
> >
> > If there are any issues with this conversion, let me know and I'll
> bring
> > them to the Apache infrastructure group.
> >
> >       Erik
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20


--=20
Visit my weblog: http://www.jroller.com/page/cyblogue

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12948-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 03 14:26:46 2005
Return-Path: <lucene-user-return-12948-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 72913 invoked from network); 3 Feb 2005 14:26:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Feb 2005 14:26:46 -0000
Received: (qmail 16222 invoked by uid 500); 3 Feb 2005 14:26:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 16191 invoked by uid 500); 3 Feb 2005 14:26:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16178 invoked by uid 99); 3 Feb 2005 14:26:41 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from sparta.hostgo.com (HELO sparta.hostgo.com) (66.220.22.162)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 03 Feb 2005 06:26:40 -0800
Received: from [65.19.37.63] (helo=[10.0.1.2])
	by sparta.hostgo.com with esmtpa (Exim 4.44)
	id 1CwhwJ-0001kR-5a
	for lucene-user@jakarta.apache.org; Thu, 03 Feb 2005 09:26:35 -0500
Mime-Version: 1.0 (Apple Message framework v619)
Content-Transfer-Encoding: 7bit
Message-Id: <98A96566-75EF-11D9-98D3-000A95973046@backspaces.net>
Content-Type: text/plain; charset=US-ASCII; format=flowed
To: lucene-user@jakarta.apache.org
From: Owen Densmore <owen@backspaces.net>
Subject: Right way to make analyzer
Date: Thu, 3 Feb 2005 07:26:30 -0700
X-Mailer: Apple Mail (2.619)
X-MailScanner-Information: This email message has been scanned for viruses
X-MailScanner-HostGo: Found to be clean
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - sparta.hostgo.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - backspaces.net
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Is this the right way to make a porter analyzer using the standard 
tokenizer?  I'm not sure about the order of the filters.

Owen

     class MyAnalyzer extends Analyzer {
       public TokenStream tokenStream(String fieldName, Reader reader) {
         return new PorterStemFilter(
             new StopFilter(
                 new LowerCaseFilter(
                     new StandardFilter(
                         new StandardTokenizer(reader))),
                StopAnalyzer.ENGLISH_STOP_WORDS));
       }
     }



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12949-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 03 14:48:40 2005
Return-Path: <lucene-user-return-12949-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 82350 invoked from network); 3 Feb 2005 14:48:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Feb 2005 14:48:40 -0000
Received: (qmail 69343 invoked by uid 500); 3 Feb 2005 14:48:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 69162 invoked by uid 500); 3 Feb 2005 14:48:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 69149 invoked by uid 99); 3 Feb 2005 14:48:35 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork6.mail.Virginia.EDU (HELO fork6.mail.virginia.edu) (128.143.2.176)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 03 Feb 2005 06:48:33 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork6.mail.virginia.edu (Postfix) with ESMTP id 3D4301C035
	for <lucene-user@jakarta.apache.org>; Thu,  3 Feb 2005 09:48:31 -0500 (EST)
Received: from fork6.mail.virginia.edu ([127.0.0.1])
 by localhost (fork6.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 10854-08 for <lucene-user@jakarta.apache.org>;
 Thu,  3 Feb 2005 09:48:30 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by fork6.mail.virginia.edu (Postfix) with ESMTP id E6B3F1C00F
	for <lucene-user@jakarta.apache.org>; Thu,  3 Feb 2005 09:48:30 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <98A96566-75EF-11D9-98D3-000A95973046@backspaces.net>
References: <98A96566-75EF-11D9-98D3-000A95973046@backspaces.net>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <747b9ad60cfdbeb304a5017e2aff7173@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Right way to make analyzer
Date: Thu, 3 Feb 2005 09:48:30 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-UVA-Virus-Scanned: by amavisd-new at fork6.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Feb 3, 2005, at 9:26 AM, Owen Densmore wrote:

> Is this the right way to make a porter analyzer using the standard 
> tokenizer?  I'm not sure about the order of the filters.
>
> Owen
>
>     class MyAnalyzer extends Analyzer {
>       public TokenStream tokenStream(String fieldName, Reader reader) {
>         return new PorterStemFilter(
>             new StopFilter(
>                 new LowerCaseFilter(
>                     new StandardFilter(
>                         new StandardTokenizer(reader))),
>                StopAnalyzer.ENGLISH_STOP_WORDS));
>       }
>     }

Yes, that is correct.

Analysis starts with a tokenizer, and chains the output of that to the 
next filter and so on.

I strongly recommend, as you start tinkering with custom analysis, to 
use a little bit of code to see how your analyzer works on some text.  
The Lucene Intro article I wrote for java.net has some code you can 
borrow to do this, as does Lucene in Action's source code.  Also, Luke 
has this capability - which is a tool I also highly recommend.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12950-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 03 16:30:38 2005
Return-Path: <lucene-user-return-12950-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 35620 invoked from network); 3 Feb 2005 16:30:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Feb 2005 16:30:37 -0000
Received: (qmail 87579 invoked by uid 500); 3 Feb 2005 16:30:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 87558 invoked by uid 500); 3 Feb 2005 16:30:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 87536 invoked by uid 99); 3 Feb 2005 16:30:31 -0000
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=FROM_ENDS_IN_NUMS,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of jak-lucene-user@m.gmane.org designates 80.91.229.2 as permitted sender)
Received: from main.gmane.org (HELO ciao.gmane.org) (80.91.229.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 03 Feb 2005 08:30:30 -0800
Received: from list by ciao.gmane.org with local (Exim 4.43)
	id 1Cwjo3-0001Ws-Aj
	for lucene-user@jakarta.apache.org; Thu, 03 Feb 2005 17:26:11 +0100
Received: from netblock-66-159-221-83.dslextreme.com ([66.159.221.83])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <lucene-user@jakarta.apache.org>; Thu, 03 Feb 2005 17:26:11 +0100
Received: from aurora00 by netblock-66-159-221-83.dslextreme.com with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <lucene-user@jakarta.apache.org>; Thu, 03 Feb 2005 17:26:11 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: lucene-user@jakarta.apache.org
From: aurora <aurora00@gmail.com>
Subject: Re: which HTML parser is better?
Date: Thu, 03 Feb 2005 08:24:33 -0800
Lines: 44
Message-ID: <opslmqi7ms6yt6e7@wtung-w2k01.amer.cisco.com>
References: <20050201091444.32756.qmail@web15702.mail.cnb.yahoo.com> <a0dc58d2b07a6d19b6ebadecc97a1f31@otherwise.com>
Mime-Version: 1.0
Content-Type: text/plain; format=flowed; delsp=yes; charset=iso-8859-15
Content-Transfer-Encoding: Quoted-Printable
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: netblock-66-159-221-83.dslextreme.com
User-Agent: Opera M2/7.54u1 (Win32, build 3918)
Sender: news <news@sea.gmane.org>
X-Gmane-MailScanner: Found to be clean
X-Gmane-MailScanner: Found to be clean
X-MailScanner-From: jak-lucene-user@m.gmane.org
X-MailScanner-To: lucene-user@jakarta.apache.org
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

For all parser suggestion I think there is one important attribute. Some=
  =

parsers returns data provide that the input HTML is sensible. Some parse=
rs  =

is designed to be most flexible as tolerant as it can be. If the input i=
s  =

clean and controlled the former class is sufficient. Even some regular  =

expression may be sufficient. (I that's the original poster wants). If y=
ou  =

are building a web crawler you need something really tolerant.

Once I have prototyped a nice and fast parser. Later I have to abandon i=
t  =

because it failed to parse about 15% documents (problem handling nested =
 =

quotes like onclick=3D"alert('hi')").

> No one has yet mentioned using ParserDelegator and ParserCallback that=
  =

> are part of HTMLEditorKit in Swing.  I have been successfully using  =

> these classes to parse out the text of an HTML file.  You just need to=
  =

> extend HTMLEditorKit.ParserCallback and override the various methods  =

> that are called when different tags are encountered.
>
>
> On Feb 1, 2005, at 3:14 AM, Jingkang Zhang wrote:
>
>> Three HTML parsers(Lucene web application
>> demo,CyberNeko HTML Parser,JTidy) are mentioned in
>> Lucene FAQ
>> 1.3.27.Which is the best?Can it filter tags that are
>> auto-created by MS-word 'Save As HTML files' function?


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12951-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 03 16:43:56 2005
Return-Path: <lucene-user-return-12951-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 43560 invoked from network); 3 Feb 2005 16:43:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Feb 2005 16:43:56 -0000
Received: (qmail 14046 invoked by uid 500); 3 Feb 2005 16:43:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 14023 invoked by uid 500); 3 Feb 2005 16:43:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 14002 invoked by uid 99); 3 Feb 2005 16:43:51 -0000
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=FROM_ENDS_IN_NUMS,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of jak-lucene-user@m.gmane.org designates 80.91.229.2 as permitted sender)
Received: from main.gmane.org (HELO ciao.gmane.org) (80.91.229.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 03 Feb 2005 08:43:51 -0800
Received: from list by ciao.gmane.org with local (Exim 4.43)
	id 1Cwk0R-0005Lw-LW
	for lucene-user@jakarta.apache.org; Thu, 03 Feb 2005 17:38:59 +0100
Received: from netblock-66-159-221-83.dslextreme.com ([66.159.221.83])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <lucene-user@jakarta.apache.org>; Thu, 03 Feb 2005 17:38:59 +0100
Received: from aurora00 by netblock-66-159-221-83.dslextreme.com with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <lucene-user@jakarta.apache.org>; Thu, 03 Feb 2005 17:38:59 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: lucene-user@jakarta.apache.org
From: aurora <aurora00@gmail.com>
Subject: Hits and HitCollector performance
Date: Thu, 03 Feb 2005 08:35:24 -0800
Lines: 30
Message-ID: <opslmq1ad46yt6e7@wtung-w2k01.amer.cisco.com>
Mime-Version: 1.0
Content-Type: text/plain; format=flowed; delsp=yes; charset=iso-8859-15
Content-Transfer-Encoding: Quoted-Printable
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: netblock-66-159-221-83.dslextreme.com
User-Agent: Opera M2/7.54u1 (Win32, build 3918)
Sender: news <news@sea.gmane.org>
X-Gmane-MailScanner: Found to be clean
X-Gmane-MailScanner: Found to be clean
X-MailScanner-From: jak-lucene-user@m.gmane.org
X-MailScanner-To: lucene-user@jakarta.apache.org
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I am trying to do some filtering and rearrangement of search result. Two=
  =

possiblity come into mind are iterating though the Hits or making custom=
  =

HitCollector.

All documentation invaribly warn about the performance impact of using  =

HitCollector with large result set. The scenario that google return 10s =
of  =

millions of documents comes into mind. But I'm thinking, wouldn't Hits  =

also have to fill up an array with millions of integer id at least? Or  =

does it only return the correct lenght but build the result array on  =

demand?

Another idea I have is first gone through the first n hits, let say 1000=
,  =

which I filter and rearrange. If user ever need the result pass 1000 the=
  =

get the result from Hits.

Is there any recommended way in these situations?


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12952-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 03 16:49:34 2005
Return-Path: <lucene-user-return-12952-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 46048 invoked from network); 3 Feb 2005 16:49:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Feb 2005 16:49:33 -0000
Received: (qmail 21136 invoked by uid 500); 3 Feb 2005 16:49:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 21053 invoked by uid 500); 3 Feb 2005 16:49:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21026 invoked by uid 99); 3 Feb 2005 16:49:07 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from 66-7-226-62.cust.telepacific.net (HELO hagrid.scalix.local) (66.7.226.62)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 03 Feb 2005 08:49:06 -0800
Received: from hagrid.scalix.local (localhost.localdomain [127.0.0.1])
	by hagrid.scalix.local (8.12.11/8.12.11) with ESMTP id j13GeDAx009204
	for <lucene-user@jakarta.apache.org>; Thu, 3 Feb 2005 08:40:13 -0800
Received: from hagrid.scalix.local (root@localhost)
	by hagrid.scalix.local (8.12.11/8.12.11/Submit) with ESMTP id j13GeDCd009202
	for <lucene-user@jakarta.apache.org>; Thu, 3 Feb 2005 08:40:13 -0800
Received: from [10.11.108.231] (snorlax.uk.scalix.com 10.11.108.216)
    by snorlax.uk.scalix.com (Scalix SMTP Relay 9.2.0.107)
    via ESMTP; Thu, 03 Feb 2005 16:49:01 +0000 (GMT)
Date: Thu, 3 Feb 2005 16:47:42 +0000
From: John Haxby <jch@scalix.com>
Sender: John Haxby <jch@scalix.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-ID: <420255AE.1040704@scalix.com>
In-Reply-To: <8D7DE0C84F1D5149894354E754E6807E3326A4@mail.lou.emergint.com>
References: <8D7DE0C84F1D5149894354E754E6807E3326A4@mail.lou.emergint.com>
Subject: Re: Subversion conversion
x-scalix-Hops: 3
User-Agent: Mozilla Thunderbird 0.9 (X11/20041127)
X-Accept-Language: en-us, en
MIME-Version: 1.0
Content-Type: text/plain;
	charset="ISO-8859-1";
	format="flowed"
Content-Disposition: inline
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Kevin L. Cobb wrote:

>We recently started using SVN for SCM, were using VSS. We're trying out
>approach A, branching off for each release. Development always develops
>on the trunk, except when a bug is discovered that needs to be patched
>to a previous version of the product. When that scenario comes up (and
>it never has), then the developer has to make the change to the branched
>version that needs to be patched and then must merge those changes into
>other branches and the trunk.  
>
>It seems to be a cleaner approach, at least for now. Of course, for an
>open source project like Lucene, I'm not sure branching is necessary at
>all. Anyone have any other models to use for SCM, I'd love to hear them,
>  
>
We've tried a variety of approaches over the years, but this one seems 
to be the easiest to handle and least prone to errors.   It's nice to 
see someone else has reached the same conclusion!

jch

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12953-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 03 17:02:17 2005
Return-Path: <lucene-user-return-12953-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 53385 invoked from network); 3 Feb 2005 17:02:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Feb 2005 17:02:17 -0000
Received: (qmail 60519 invoked by uid 500); 3 Feb 2005 17:02:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 60495 invoked by uid 500); 3 Feb 2005 17:02:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 60480 invoked by uid 99); 3 Feb 2005 17:02:12 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.polopoly.com (HELO mail.polopoly.com) (62.95.90.145)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 03 Feb 2005 09:02:11 -0800
Received: from [172.31.252.192] (holmer.intra.polopoly.com [172.31.252.192])
	by mail.polopoly.com (8.11.3/8.11.3/SuSE Linux 8.11.1-0.5) with ESMTP id j13H27U10662
	for <lucene-user@jakarta.apache.org>; Thu, 3 Feb 2005 18:02:07 +0100
Message-ID: <4202590F.8080209@polopoly.com>
Date: Thu, 03 Feb 2005 18:02:07 +0100
From: Claes Holmerson <claes.holmerson@polopoly.com>
Organization: Polopoly AB
User-Agent: Mozilla Thunderbird 0.9 (X11/20041127)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Lock failure recovery
References: <opslmq1ad46yt6e7@wtung-w2k01.amer.cisco.com>
In-Reply-To: <opslmq1ad46yt6e7@wtung-w2k01.amer.cisco.com>
Content-Type: text/plain; charset=ISO-8859-15; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello

A commit.lock can get left by a process that dies in the middle of 
reading the index, for example because of an OutOfMemoryError. How can I 
handle such a left lock gracefully the next time the process runs? 
Checking if there is a lock is straight forward - but how can I be sure 
that it is not just a current lock created by another thread? The only 
methods I find to deal with the lock is IndexReader.isLocked() and 
IndexReader.unlock(). I would like to know the lock age - if it is older 
than a certain age then I can remove it. How do other people deal with 
left over locks?

Claes
-- 

Claes Holmerson
Polopoly - Cultivating the information garden
Kungsgatan 88, SE-112 27 Stockholm, SWEDEN
Direct: +46 8 506 782 59
Mobile: +46 704 47 82 59
Fax:  +46 8 506 782 51
claes.holmerson@polopoly.com, http://www.polopoly.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12954-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 03 17:09:13 2005
Return-Path: <lucene-user-return-12954-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 57335 invoked from network); 3 Feb 2005 17:09:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Feb 2005 17:09:13 -0000
Received: (qmail 70567 invoked by uid 500); 3 Feb 2005 17:09:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 70539 invoked by uid 500); 3 Feb 2005 17:09:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 70525 invoked by uid 99); 3 Feb 2005 17:09:07 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 03 Feb 2005 09:09:05 -0800
Received: from p001002 ([204.225.84.27]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Thu, 3 Feb 2005 12:13:31 -0500
Message-ID: <00fc01c50a13$af7f0240$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <opslmq1ad46yt6e7@wtung-w2k01.amer.cisco.com> <4202590F.8080209@polopoly.com>
Subject: Re: Lock failure recovery
Date: Thu, 3 Feb 2005 12:13:31 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-15"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 03 Feb 2005 17:13:31.0595 (UTC) FILETIME=[AF8EB9B0:01C50A13]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

The indexing process is totally synchronized in our system. Thus if an
Indexing thread starts up and the index exists, but is locked, I know this
to be the only indexing processing running so the lock must be from a
process that got stopped before it could finish.

So right before I begin writing to the index I have this check:

//if we have gotten to here that this is the only index running.
//the index should not be locked. if it is, the lock is "stale"
//and must be released before we can continue
        try {
            if (index.exists() && IndexReader.isLocked(indexFileLocation)) {
                Trace.ERROR("INDEX INFO: Had to clear a stale index lock");
                IndexReader.unlock(FSDirectory.getDirectory(index, false));
            }
        } catch (IOException e3) {
            Trace.ERROR("INDEX ERROR: Was unable to clear a stale index
lock: " + e3);
        }

Luke

----- Original Message ----- 
From: "Claes Holmerson" <claes.holmerson@polopoly.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Thursday, February 03, 2005 12:02 PM
Subject: Lock failure recovery


> Hello
>
> A commit.lock can get left by a process that dies in the middle of
> reading the index, for example because of an OutOfMemoryError. How can I
> handle such a left lock gracefully the next time the process runs?
> Checking if there is a lock is straight forward - but how can I be sure
> that it is not just a current lock created by another thread? The only
> methods I find to deal with the lock is IndexReader.isLocked() and
> IndexReader.unlock(). I would like to know the lock age - if it is older
> than a certain age then I can remove it. How do other people deal with
> left over locks?
>
> Claes
> -- 
>
> Claes Holmerson
> Polopoly - Cultivating the information garden
> Kungsgatan 88, SE-112 27 Stockholm, SWEDEN
> Direct: +46 8 506 782 59
> Mobile: +46 704 47 82 59
> Fax:  +46 8 506 782 51
> claes.holmerson@polopoly.com, http://www.polopoly.com
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12955-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 03 17:46:25 2005
Return-Path: <lucene-user-return-12955-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 77439 invoked from network); 3 Feb 2005 17:46:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Feb 2005 17:46:25 -0000
Received: (qmail 72713 invoked by uid 500); 3 Feb 2005 17:46:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 72691 invoked by uid 500); 3 Feb 2005 17:46:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 72676 invoked by uid 99); 3 Feb 2005 17:46:20 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of chris.lu@gmail.com designates 64.233.184.204 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.204)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 03 Feb 2005 09:46:18 -0800
Received: by wproxy.gmail.com with SMTP id 55so373739wri
        for <lucene-user@jakarta.apache.org>; Thu, 03 Feb 2005 09:46:17 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:user-agent:x-accept-language:mime-version:to:subject:content-type:content-transfer-encoding;
        b=Z7FWX4lThiqkdGVg9JWGizMkD2NqD5Hlxepq5w/cWXGAGBWmSRLLtjESLWfyawFRfUmXPh0MA+SBRyuEnkfbRT5TydHvSWZNqJWeJOliA+RihOvrSwBlH90wWKYv/SeknOE/s+fhdxv/F9rcTh7hdU42lw3t7QhsLprkJBMmBfM=
Received: by 10.54.43.14 with SMTP id q14mr31233wrq;
        Thu, 03 Feb 2005 09:46:16 -0800 (PST)
Received: from ?192.168.1.100? ([24.6.189.152])
        by smtp.gmail.com with ESMTP id 34sm105286wra.2005.02.03.09.46.16;
        Thu, 03 Feb 2005 09:46:16 -0800 (PST)
Message-ID: <42026366.7010707@gmail.com>
Date: Thu, 03 Feb 2005 09:46:14 -0800
From: Chris Lu <chris.lu@gmail.com>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: when indexing, java.io.FileNotFoundException
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,
I am getting this exception now and then when I am indexing content.
It doesn't always happen. But when it happens, I have to delete the
index and start over again.
This is a serious problem for us.

In this email, Doug was say it has something to do with win32's lack of
atomic renaming.
http://java2.5341.com/msg/1348.html

But how can I prevent this?

Chris Lu


java.io.FileNotFoundException: C:\data\indexes\customer\_temp\0\_1e.fnm
(The system cannot find the file specified)
   at java.io.RandomAccessFile.open(Native Method)
   at java.io.RandomAccessFile.<init>(RandomAccessFile.java:204)
   at 
org.apache.lucene.store.FSInputStream$Descriptor.<init>(FSDirectory.java:376)
   at org.apache.lucene.store.FSInputStream.<init>(FSDirectory.java:405)
   at org.apache.lucene.store.FSDirectory.openFile(FSDirectory.java:268)
   at org.apache.lucene.index.FieldInfos.<init>(FieldInfos.java:53)
   at 
org.apache.lucene.index.SegmentReader.initialize(SegmentReader.java:109)
   at org.apache.lucene.index.SegmentReader.<init>(SegmentReader.java:94)
   at 
org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.java:480)
   at 
org.apache.lucene.index.IndexWriter.maybeMergeSegments(IndexWriter.java:458)
   at org.apache.lucene.index.IndexWriter.addDocument(IndexWriter.java:310)
   at org.apache.lucene.index.IndexWriter.addDocument(IndexWriter.java:294)



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12956-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 03 17:51:04 2005
Return-Path: <lucene-user-return-12956-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 80157 invoked from network); 3 Feb 2005 17:51:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Feb 2005 17:51:04 -0000
Received: (qmail 82192 invoked by uid 500); 3 Feb 2005 17:51:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 82010 invoked by uid 500); 3 Feb 2005 17:50:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 81996 invoked by uid 99); 3 Feb 2005 17:50:59 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.cyveillance.com (HELO hermes.corp.cyveillance.com) (63.100.163.104)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 03 Feb 2005 09:50:58 -0800
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Subject: RE: when indexing, java.io.FileNotFoundException
Date: Thu, 3 Feb 2005 12:50:58 -0500
Message-ID: <63434C14F9A6F74CB36B85033E4C30CAF4D366@hermes.corp.cyveillance.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: when indexing, java.io.FileNotFoundException
Thread-Index: AcUKGEfyw3UE22bVTO2tP7msBCdlfAAAGlaw
From: "Will Allen" <wallen@Cyveillance.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Increase the minMergeDocs and use the compact file format when creating =
your index.

http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/index/IndexWr=
iter.html

http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/index/IndexWr=
iter.html#setUseCompoundFile(boolean)

-----Original Message-----
From: Chris Lu [mailto:chris.lu@gmail.com]
Sent: Thursday, February 03, 2005 12:46 PM
To: Lucene Users List
Subject: when indexing, java.io.FileNotFoundException


Hi,
I am getting this exception now and then when I am indexing content.
It doesn't always happen. But when it happens, I have to delete the
index and start over again.
This is a serious problem for us.

In this email, Doug was say it has something to do with win32's lack of
atomic renaming.
http://java2.5341.com/msg/1348.html

But how can I prevent this?

Chris Lu


java.io.FileNotFoundException: C:\data\indexes\customer\_temp\0\_1e.fnm
(The system cannot find the file specified)
   at java.io.RandomAccessFile.open(Native Method)
   at java.io.RandomAccessFile.<init>(RandomAccessFile.java:204)
   at=20
org.apache.lucene.store.FSInputStream$Descriptor.<init>(FSDirectory.java:=
376)
   at org.apache.lucene.store.FSInputStream.<init>(FSDirectory.java:405)
   at org.apache.lucene.store.FSDirectory.openFile(FSDirectory.java:268)
   at org.apache.lucene.index.FieldInfos.<init>(FieldInfos.java:53)
   at=20
org.apache.lucene.index.SegmentReader.initialize(SegmentReader.java:109)
   at =
org.apache.lucene.index.SegmentReader.<init>(SegmentReader.java:94)
   at=20
org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.java:480)
   at=20
org.apache.lucene.index.IndexWriter.maybeMergeSegments(IndexWriter.java:4=
58)
   at =
org.apache.lucene.index.IndexWriter.addDocument(IndexWriter.java:310)
   at =
org.apache.lucene.index.IndexWriter.addDocument(IndexWriter.java:294)



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12957-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 03 17:58:15 2005
Return-Path: <lucene-user-return-12957-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 84114 invoked from network); 3 Feb 2005 17:58:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Feb 2005 17:58:15 -0000
Received: (qmail 99608 invoked by uid 500); 3 Feb 2005 17:58:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 99541 invoked by uid 500); 3 Feb 2005 17:58:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 99463 invoked by uid 99); 3 Feb 2005 17:58:04 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of chris.lu@gmail.com designates 64.233.184.198 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.198)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 03 Feb 2005 09:58:02 -0800
Received: by wproxy.gmail.com with SMTP id 71so377892wri
        for <lucene-user@jakarta.apache.org>; Thu, 03 Feb 2005 09:58:00 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:user-agent:x-accept-language:mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=upduHNshdtzgeHAwJw7+/D5J5d7UIwqhQpR2nBbLFvEMS/4BvMnn6IhHOJ0iDtx/MSFzwMMwG++LMx0vGS5/ZSHh0U4C4W8ZQBPDO4GNdkPtiOuwqisp5my/w7WcWQMl4ZkPZnYRzyBdeE/NFgkaj2F/oc9on5IdA/07xfHI87k=
Received: by 10.54.38.63 with SMTP id l63mr31900wrl;
        Thu, 03 Feb 2005 09:57:33 -0800 (PST)
Received: from ?192.168.1.100? ([24.6.189.152])
        by smtp.gmail.com with ESMTP id 65sm132838wra.2005.02.03.09.57.32;
        Thu, 03 Feb 2005 09:57:33 -0800 (PST)
Message-ID: <4202660A.5010802@gmail.com>
Date: Thu, 03 Feb 2005 09:57:30 -0800
From: Chris Lu <chris.lu@gmail.com>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: when indexing, java.io.FileNotFoundException
References: <63434C14F9A6F74CB36B85033E4C30CAF4D366@hermes.corp.cyveillance.com>
In-Reply-To: <63434C14F9A6F74CB36B85033E4C30CAF4D366@hermes.corp.cyveillance.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thank you for your reply.

I am already using compound file format, and the minMergeDocs is already 
increased to 50.
As my understanding and observation,  files are compounded at the end of 
indexing. The error happens when indexing, so compound file format 
should not matter.


Chris Lu

Will Allen wrote:

>Increase the minMergeDocs and use the compact file format when creating your index.
>
>http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/index/IndexWriter.html
>
>http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/index/IndexWriter.html#setUseCompoundFile(boolean)
>
>-----Original Message-----
>From: Chris Lu [mailto:chris.lu@gmail.com]
>Sent: Thursday, February 03, 2005 12:46 PM
>To: Lucene Users List
>Subject: when indexing, java.io.FileNotFoundException
>
>
>Hi,
>I am getting this exception now and then when I am indexing content.
>It doesn't always happen. But when it happens, I have to delete the
>index and start over again.
>This is a serious problem for us.
>
>In this email, Doug was say it has something to do with win32's lack of
>atomic renaming.
>http://java2.5341.com/msg/1348.html
>
>But how can I prevent this?
>
>Chris Lu
>
>
>java.io.FileNotFoundException: C:\data\indexes\customer\_temp\0\_1e.fnm
>(The system cannot find the file specified)
>   at java.io.RandomAccessFile.open(Native Method)
>   at java.io.RandomAccessFile.<init>(RandomAccessFile.java:204)
>   at 
>org.apache.lucene.store.FSInputStream$Descriptor.<init>(FSDirectory.java:376)
>   at org.apache.lucene.store.FSInputStream.<init>(FSDirectory.java:405)
>   at org.apache.lucene.store.FSDirectory.openFile(FSDirectory.java:268)
>   at org.apache.lucene.index.FieldInfos.<init>(FieldInfos.java:53)
>   at 
>org.apache.lucene.index.SegmentReader.initialize(SegmentReader.java:109)
>   at org.apache.lucene.index.SegmentReader.<init>(SegmentReader.java:94)
>   at 
>org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.java:480)
>   at 
>org.apache.lucene.index.IndexWriter.maybeMergeSegments(IndexWriter.java:458)
>   at org.apache.lucene.index.IndexWriter.addDocument(IndexWriter.java:310)
>   at org.apache.lucene.index.IndexWriter.addDocument(IndexWriter.java:294)
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>  
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12958-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 03 18:00:31 2005
Return-Path: <lucene-user-return-12958-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 85036 invoked from network); 3 Feb 2005 18:00:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Feb 2005 18:00:31 -0000
Received: (qmail 3634 invoked by uid 500); 3 Feb 2005 18:00:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 3613 invoked by uid 500); 3 Feb 2005 18:00:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3589 invoked by uid 99); 3 Feb 2005 18:00:26 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 03 Feb 2005 10:00:24 -0800
Received: from p001002 ([204.225.84.27]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Thu, 3 Feb 2005 13:04:51 -0500
Message-ID: <013201c50a1a$db152270$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <opslmq1ad46yt6e7@wtung-w2k01.amer.cisco.com> <4202590F.8080209@polopoly.com>
Subject: Parsing The Query: Every document that doesn't have a field containing x
Date: Thu, 3 Feb 2005 13:04:50 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-15"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 03 Feb 2005 18:04:51.0199 (UTC) FILETIME=[DB2500F0:01C50A1A]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello;

I have a query that finds document that contain fields with a specific
value.

query1 = QueryParser.parse("jpg", "kcfileupload", new StandardAnalyzer());

This works well.

I would like a query that find documents containing all kcfileupload fields
that don't contain jpg.

The example I found in the book that seems to relate shows me how to find
documents without a specific term:

QueryParser parser = new QueryParser("contents", analyzer);
parser.setOperator(QueryParser.DEFAULT_OPERATOR_AND);

But than it says:

Negating a term must be combined with at least one nonnegated term to return
documents; in other words, it isn't possible to use a query like NOT term to
find all documents that don't contain a term.

So does that mean the above example wouldn't work?

The API says:

 a plus (+) or a minus (-) sign, indicating that the clause is required or
prohibited respectively;

I have been playing around with using the minus character without much luck.

Can someone give point me in the right direction to figure this out?

Thanks,

Luke




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12959-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 03 18:18:00 2005
Return-Path: <lucene-user-return-12959-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 92213 invoked from network); 3 Feb 2005 18:18:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Feb 2005 18:18:00 -0000
Received: (qmail 37480 invoked by uid 500); 3 Feb 2005 18:17:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 37457 invoked by uid 500); 3 Feb 2005 18:17:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 37430 invoked by uid 99); 3 Feb 2005 18:17:55 -0000
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=FORGED_RCVD_HELO,SPF_HELO_PASS,SPF_PASS,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of blizzy-keyword-lucene_user.f5486d@blizzy.de designates 217.160.200.68 as permitted sender)
Received: from iceman.iq-computing.de (HELO iceman.iq-computing.de) (217.160.200.68)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 03 Feb 2005 10:17:51 -0800
Received: (qmail 30908 invoked from network); 3 Feb 2005 19:17:48 +0100
Received: from c181236.adsl.hansenet.de (HELO wolverine.hh.iq-computing.de) (mickey@213.39.181.236)
  by iceman.iq-computing.de with AES256-SHA encrypted SMTP; 3 Feb 2005 19:17:48 +0100
Received: (qmail 5009 invoked from network); 3 Feb 2005 19:19:16 +0100
Received: from localhost (HELO ?127.0.0.1?) (127.0.0.1)
  by localhost with SMTP; 3 Feb 2005 19:19:16 +0100
Message-ID: <42026B23.7090104@blizzy.de>
Date: Thu, 03 Feb 2005 19:19:15 +0100
From: Maik Schreiber <blizzy-keyword-lucene_user.f5486d@blizzy.de>
User-Agent: Mozilla Thunderbird 1.0 (X11/20041227)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Parsing The Query: Every document that doesn't have a field containing
 x
References: <opslmq1ad46yt6e7@wtung-w2k01.amer.cisco.com> <4202590F.8080209@polopoly.com> <013201c50a1a$db152270$7703d00a@hypermedia.com>
In-Reply-To: <013201c50a1a$db152270$7703d00a@hypermedia.com>
X-Enigmail-Version: 0.89.5.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: text/plain; charset=iso-8859-15; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> Negating a term must be combined with at least one nonnegated term to return
> documents; in other words, it isn't possible to use a query like NOT term to
> find all documents that don't contain a term.
> 
> So does that mean the above example wouldn't work?

Exactly. You cannot search for "-kcfileupload:jpg", you need at least one 
clause that actually _includes_ documents.

Do you by chance have a field with known contents? If so, you could misuse 
that one and include it in your query (perhaps by doing range or 
wildcard/prefix search). If not, try IndexReader.terms() for building a 
Query yourself, then use that one for search.

-- 
Maik Schreiber   *   http://www.blizzy.de

GPG public key: http://pgp.mit.edu:11371/pks/lookup?op=get&search=0x1F11D713
Key fingerprint: CF19 AFCE 6E3D 5443 9599 18B5 5640 1F11 D713

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12960-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 03 18:48:28 2005
Return-Path: <lucene-user-return-12960-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 4328 invoked from network); 3 Feb 2005 18:48:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Feb 2005 18:48:28 -0000
Received: (qmail 81996 invoked by uid 500); 3 Feb 2005 18:48:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 81862 invoked by uid 500); 3 Feb 2005 18:48:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 81848 invoked by uid 99); 3 Feb 2005 18:48:23 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp-vbr5.xs4all.nl (HELO smtp-vbr5.xs4all.nl) (194.109.24.25)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 03 Feb 2005 10:48:22 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr5.xs4all.nl (8.12.11/8.12.11) with ESMTP id j13ImJLI037310
	for <lucene-user@jakarta.apache.org>; Thu, 3 Feb 2005 19:48:19 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Rewrite causes BooleanQuery to loose required terms
Date: Thu, 3 Feb 2005 19:48:18 +0100
User-Agent: KMail/1.5.4
References: <Pine.LNX.4.44.0502031031100.2267-200000@localhost.localdomain>
In-Reply-To: <Pine.LNX.4.44.0502031031100.2267-200000@localhost.localdomain>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200502031948.18876.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Thursday 03 February 2005 11:38, Nick Burch wrote:
> Hi All
> 
> I'm using lucene from CVS, and I've discovered the rewriting a 
> BooleanQuery created with the old style (Query,boolean,boolean) method,
> the rewrite will cause the required parameters to get lost.
> 
> Using old style (Query,boolean,boolean):
> query = +contents:test* +(class:1.2 class:1.2.*)
> rewritten query = (contents:tester contents:testing contents:tests) 
>   (class:1.2 (class:1.2.3 class:1.2.4))
> 
> Using new style (Query,BooleanClause.Occur.MUST):
> query = +contents:test* +(class:1.2 class:1.2.*)
> rewritten query = +(contents:tester contents:testing contents:tests) 
>   +(class:1.2 (class:1.2.3 class:1.2.4))
> 
> Attached is a simple RAMDirectory test to show this. I know that the 
> (Query,boolean,boolean) method is depricated, but should it also be 
> broken?

No.
Currently, the "old" constructor for BooleanClause does not carry the
old state forward.
The "new" constructor does carry the new state backward.

I'll post a fix in bugzilla later.

Thanks,
Paul Elschot.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12961-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 03 18:51:59 2005
Return-Path: <lucene-user-return-12961-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 5726 invoked from network); 3 Feb 2005 18:51:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Feb 2005 18:51:59 -0000
Received: (qmail 87868 invoked by uid 500); 3 Feb 2005 18:51:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 87677 invoked by uid 500); 3 Feb 2005 18:51:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 87664 invoked by uid 99); 3 Feb 2005 18:51:54 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from lyra.lunarpages.com (HELO lyra.lunarpages.com) (64.235.230.140)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 03 Feb 2005 10:51:53 -0800
Received: from p54856a08.dip.t-dialin.net ([84.133.106.8] helo=Kelvin)
	by lyra.lunarpages.com with esmtpa (Exim 4.44)
	id 1Cwm4z-0007lR-VM
	for lucene-user@jakarta.apache.org; Thu, 03 Feb 2005 10:51:50 -0800
From:     Kelvin Tan <kelvin-lists@relevanz.com>
To:       Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: Barca 1.1 (840) - Licensed Version
Date: Thu, 3 Feb 2005 19:51:36 +0100
Message-ID: <200523195136.063886@Kelvin>
In-Reply-To: <42026B23.7090104@blizzy.de>
Subject: Re: Parsing The Query: Every document that doesn't have a field containing x
Mime-Version: 1.0
Content-Type: text/plain; charset="iso-8859-15"
Content-Transfer-Encoding: quoted-printable
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - lyra.lunarpages.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - relevanz.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Alternatively, add a dummy field-value to all documents, like=
 doc.add(Field.Keyword("foo", "bar"))

Waste of space, but allows you to perform negated queries.

On Thu, 03 Feb 2005 19:19:15 +0100, Maik Schreiber wrote:
>>=A0Negating a term must be combined with at least one nonnegated
>>=A0term to return documents; in other words, it isn't possible to
>>=A0use a query like NOT term to find all documents that don't
>>=A0contain a term.
>>
>>=A0So does that mean the above example wouldn't work?
>>
>=A0Exactly. You cannot search for "-kcfileupload:jpg", you need at
>=A0least one clause that actually _includes_ documents.
>
>=A0Do you by chance have a field with known contents? If so, you could
>=A0misuse that one and include it in your query (perhaps by doing
>=A0range or wildcard/prefix search). If not, try IndexReader.terms()
>=A0for building a Query yourself, then use that one for search.



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12962-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 03 19:18:49 2005
Return-Path: <lucene-user-return-12962-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 17368 invoked from network); 3 Feb 2005 19:18:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Feb 2005 19:18:49 -0000
Received: (qmail 28406 invoked by uid 500); 3 Feb 2005 19:18:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 28382 invoked by uid 500); 3 Feb 2005 19:18:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28369 invoked by uid 99); 3 Feb 2005 19:18:44 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=RCVD_IN_NJABL_PROXY
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from ylpvm29-ext.prodigy.net (HELO ylpvm29.prodigy.net) (207.115.57.60)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 03 Feb 2005 11:18:43 -0800
Received: from [192.168.1.10] (adsl-66-143-168-87.dsl.austtx.swbell.net [66.143.168.87])
	by ylpvm29.prodigy.net (8.12.10 outbound/8.12.10) with ESMTP id j13JIRh2022724
	for <lucene-user@jakarta.apache.org>; Thu, 3 Feb 2005 14:18:28 -0500
Mime-Version: 1.0 (Apple Message framework v619.2)
Content-Transfer-Encoding: 7bit
Message-Id: <cb06805dad63076372783f460385d654@otherwise.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
To: Lucene Users List <lucene-user@jakarta.apache.org>
From: Bill Tschumy <bill@otherwise.com>
Subject: Searching for doc without a field
Date: Thu, 3 Feb 2005 13:18:35 -0600
X-Mailer: Apple Mail (2.619.2)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Is there any way to construct a query to locate all documents without a 
specific field?  By this I mean the Document was created without ever 
having that field added to it.
-- 
Bill Tschumy
Otherwise -- Austin, TX
http://www.otherwise.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12963-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 03 19:53:19 2005
Return-Path: <lucene-user-return-12963-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 32882 invoked from network); 3 Feb 2005 19:53:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Feb 2005 19:53:19 -0000
Received: (qmail 94585 invoked by uid 500); 3 Feb 2005 19:53:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 94560 invoked by uid 500); 3 Feb 2005 19:53:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94545 invoked by uid 99); 3 Feb 2005 19:53:15 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from shared4.hardhathosting.com (HELO getopt.org) (69.44.16.11)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 03 Feb 2005 11:53:14 -0800
Received: from [192.168.0.254] (75-mo3-2.acn.waw.pl [62.121.105.75])
	(authenticated)
	by getopt.org (8.11.6/8.11.6) with ESMTP id j13JqQW12887
	for <lucene-user@jakarta.apache.org>; Thu, 3 Feb 2005 13:52:26 -0600
Message-ID: <42028126.1010201@getopt.org>
Date: Thu, 03 Feb 2005 20:53:10 +0100
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Synonyms Not Showing In The Index
References: <060301c50980$89b6ce50$7703d00a@hypermedia.com> <4201EBBF.2080009@getopt.org>
In-Reply-To: <4201EBBF.2080009@getopt.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Andrzej Bialecki wrote:
> Luke Shannon wrote:
> 
>> Hello;
>>
>> It seems my Synonym analyzer is working (based on some successful 
>> queries).
>> But I can't see the synonyms in the index using Luke. Is this correct?
>>
> 
> Did you use the combined JAR to run? It contains an oldish version of 
> Lucene... Other than that, I'm not sure - if you can't find the reason 
> you could send me a small test index...
> 
> 

Got the bug. Your index is ok, and your synonym analyzer works as 
expected. The Doc #16, field "name" has the content "luigi|mario test", 
where tokens "luigi" and "mario" occupy the same position.

This was a deficiency with the current version of Luke, where if you 
press "Reconstruct" it tries to reconstruct only unstored fields, but 
shows you the stored fields verbatim (without actually checking how 
their content was tokenized, and what tokens ended up in the index).

This is fixed in the new (yet unreleased) version of Luke. This new 
version restores all fields (no matter if they are stored or only 
indexed), and then displays both the stored content, and the restored 
tokenized content. There was also a bug in GrowableStringsArray - the 
values of tokens with the same position were being overwritten instead 
of appended. This is also fixed now.

You should expect a new release within a week or two. If you can't wait, 
let me know and I'll send you the patches.

-- 
Best regards,
Andrzej Bialecki
  ___. ___ ___ ___ _ _   __________________________________
[__ || __|__/|__||\/|  Information Retrieval, Semantic Web
___|||__||  \|  ||  |  Embedded Unix, System Integration
http://www.sigram.com  Contact: info at sigram dot com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12964-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 03 19:54:40 2005
Return-Path: <lucene-user-return-12964-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 33432 invoked from network); 3 Feb 2005 19:54:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Feb 2005 19:54:40 -0000
Received: (qmail 96669 invoked by uid 500); 3 Feb 2005 19:54:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 96640 invoked by uid 500); 3 Feb 2005 19:54:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 96625 invoked by uid 99); 3 Feb 2005 19:54:36 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 03 Feb 2005 11:54:35 -0800
Received: from p001002 ([204.225.84.27]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Thu, 3 Feb 2005 14:59:01 -0500
Message-ID: <018601c50a2a$ce56b3e0$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <060301c50980$89b6ce50$7703d00a@hypermedia.com> <4201EBBF.2080009@getopt.org> <42028126.1010201@getopt.org>
Subject: Re: Synonyms Not Showing In The Index
Date: Thu, 3 Feb 2005 14:59:01 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 03 Feb 2005 19:59:01.0977 (UTC) FILETIME=[CE86C490:01C50A2A]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks!

I can wait for the release.

Luke

----- Original Message ----- 
From: "Andrzej Bialecki" <ab@getopt.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Thursday, February 03, 2005 2:53 PM
Subject: Re: Synonyms Not Showing In The Index


> Andrzej Bialecki wrote:
> > Luke Shannon wrote:
> > 
> >> Hello;
> >>
> >> It seems my Synonym analyzer is working (based on some successful 
> >> queries).
> >> But I can't see the synonyms in the index using Luke. Is this correct?
> >>
> > 
> > Did you use the combined JAR to run? It contains an oldish version of 
> > Lucene... Other than that, I'm not sure - if you can't find the reason 
> > you could send me a small test index...
> > 
> > 
> 
> Got the bug. Your index is ok, and your synonym analyzer works as 
> expected. The Doc #16, field "name" has the content "luigi|mario test", 
> where tokens "luigi" and "mario" occupy the same position.
> 
> This was a deficiency with the current version of Luke, where if you 
> press "Reconstruct" it tries to reconstruct only unstored fields, but 
> shows you the stored fields verbatim (without actually checking how 
> their content was tokenized, and what tokens ended up in the index).
> 
> This is fixed in the new (yet unreleased) version of Luke. This new 
> version restores all fields (no matter if they are stored or only 
> indexed), and then displays both the stored content, and the restored 
> tokenized content. There was also a bug in GrowableStringsArray - the 
> values of tokens with the same position were being overwritten instead 
> of appended. This is also fixed now.
> 
> You should expect a new release within a week or two. If you can't wait, 
> let me know and I'll send you the patches.
> 
> -- 
> Best regards,
> Andrzej Bialecki
>   ___. ___ ___ ___ _ _   __________________________________
> [__ || __|__/|__||\/|  Information Retrieval, Semantic Web
> ___|||__||  \|  ||  |  Embedded Unix, System Integration
> http://www.sigram.com  Contact: info at sigram dot com
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12965-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 03 20:04:55 2005
Return-Path: <lucene-user-return-12965-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 37369 invoked from network); 3 Feb 2005 20:04:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Feb 2005 20:04:55 -0000
Received: (qmail 13770 invoked by uid 500); 3 Feb 2005 20:04:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 13746 invoked by uid 500); 3 Feb 2005 20:04:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13731 invoked by uid 99); 3 Feb 2005 20:04:50 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp-vbr15.xs4all.nl (HELO smtp-vbr15.xs4all.nl) (194.109.24.35)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 03 Feb 2005 12:04:49 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr15.xs4all.nl (8.12.11/8.12.11) with ESMTP id j13K4k5b096895
	for <lucene-user@jakarta.apache.org>; Thu, 3 Feb 2005 21:04:46 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: lucene-user@jakarta.apache.org
Subject: Re: Searching for doc without a field
Date: Thu, 3 Feb 2005 21:04:46 +0100
User-Agent: KMail/1.5.4
References: <cb06805dad63076372783f460385d654@otherwise.com>
In-Reply-To: <cb06805dad63076372783f460385d654@otherwise.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200502032104.46032.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Thursday 03 February 2005 20:18, Bill Tschumy wrote:
> Is there any way to construct a query to locate all documents without a 
> specific field?  By this I mean the Document was created without ever 
> having that field added to it.

One way is to add an extra document field containing the field
names of all (other) indexed fields in the document.
Assuming there is always a primary key field the query is then:

+fieldnames:primarykeyfield -fieldnames:specificfield

Regards,
Paul Elschot


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12966-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 03 20:32:14 2005
Return-Path: <lucene-user-return-12966-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 63719 invoked from network); 3 Feb 2005 20:32:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Feb 2005 20:32:14 -0000
Received: (qmail 59897 invoked by uid 500); 3 Feb 2005 20:32:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 59874 invoked by uid 500); 3 Feb 2005 20:32:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 59859 invoked by uid 99); 3 Feb 2005 20:32:11 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from rogue.ncsl.nist.gov (HELO rogue.ncsl.nist.gov) (129.6.101.41)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 03 Feb 2005 12:32:09 -0800
Received: from rogue.ncsl.nist.gov.nist.gov (localhost.localdomain [127.0.0.1])
	by rogue.ncsl.nist.gov (8.12.11/8.12.11) with ESMTP id j13KW6db008530
	for <lucene-user@jakarta.apache.org>; Thu, 3 Feb 2005 15:32:06 -0500
From: Ian Soboroff <ian.soboroff@nist.gov>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: which HTML parser is better?
References: <20050201091444.32756.qmail@web15702.mail.cnb.yahoo.com>
	<a0dc58d2b07a6d19b6ebadecc97a1f31@otherwise.com>
	<opslmqi7ms6yt6e7@wtung-w2k01.amer.cisco.com>
Date: Thu, 03 Feb 2005 15:32:06 -0500
In-Reply-To: <opslmqi7ms6yt6e7@wtung-w2k01.amer.cisco.com>
	(aurora00@gmail.com's message of "Thu, 03 Feb 2005 08:24:33 -0800")
Message-ID: <9cfhdktpepl.fsf@rogue.ncsl.nist.gov>
User-Agent: Gnus/5.110003 (No Gnus v0.3) Emacs/21.3 (gnu/linux)
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


One which we've been using can be found at:
http://www.ltg.ed.ac.uk/~richard/ftp-area/html-parser/

We absolutely need to be able to recover gracefully from malformed
HTML and/or SGML.  Most of the nicer SAX/DOM/TLA parsers out there
failed this criterion when we started our effort.  The above one is
kind of SAX-y but doesn't fall over at the sight of a real web page
;-)

Ian


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12967-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 03 20:33:37 2005
Return-Path: <lucene-user-return-12967-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 64716 invoked from network); 3 Feb 2005 20:33:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Feb 2005 20:33:37 -0000
Received: (qmail 61493 invoked by uid 500); 3 Feb 2005 20:33:33 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 61473 invoked by uid 500); 3 Feb 2005 20:33:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 61457 invoked by uid 99); 3 Feb 2005 20:33:33 -0000
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=FORGED_RCVD_HELO,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 03 Feb 2005 12:33:32 -0800
Received: from p001002 ([204.225.84.27]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Thu, 3 Feb 2005 15:37:58 -0500
Message-ID: <019c01c50a30$3ef79c90$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <opslmq1ad46yt6e7@wtung-w2k01.amer.cisco.com> <4202590F.8080209@polopoly.com> <013201c50a1a$db152270$7703d00a@hypermedia.com> <42026B23.7090104@blizzy.de>
Subject: Re: Parsing The Query: Every document that doesn't have a field containing x
Date: Thu, 3 Feb 2005 15:37:58 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-15"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 03 Feb 2005 20:37:58.0358 (UTC) FILETIME=[3F1E3760:01C50A30]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Ok.

I have added the following to every document:

doc.add(Field.UnIndexed("olFaithfull", "stillHere"));

The plan is a query that says: olFaithull = stillHere and kcfileupload!=jpg.

I have been experimenting with the MultiFieldQueryParser, this is not
working out for me. From a syntax how is this done? Does someone have an
example of a query similar to the one I am trying?

Thanks,

Luke

----- Original Message ----- 
From: "Maik Schreiber" <blizzy-keyword-lucene_user.f5486d@blizzy.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Thursday, February 03, 2005 1:19 PM
Subject: Re: Parsing The Query: Every document that doesn't have a field
containing x


> > Negating a term must be combined with at least one nonnegated term to
return
> > documents; in other words, it isn't possible to use a query like NOT
term to
> > find all documents that don't contain a term.
> >
> > So does that mean the above example wouldn't work?
>
> Exactly. You cannot search for "-kcfileupload:jpg", you need at least one
> clause that actually _includes_ documents.
>
> Do you by chance have a field with known contents? If so, you could misuse
> that one and include it in your query (perhaps by doing range or
> wildcard/prefix search). If not, try IndexReader.terms() for building a
> Query yourself, then use that one for search.
>
> -- 
> Maik Schreiber   *   http://www.blizzy.de
>
> GPG public key:
http://pgp.mit.edu:11371/pks/lookup?op=get&search=0x1F11D713
> Key fingerprint: CF19 AFCE 6E3D 5443 9599 18B5 5640 1F11 D713
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12968-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 03 21:01:21 2005
Return-Path: <lucene-user-return-12968-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 80934 invoked from network); 3 Feb 2005 21:01:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Feb 2005 21:01:21 -0000
Received: (qmail 7216 invoked by uid 500); 3 Feb 2005 21:01:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 7193 invoked by uid 500); 3 Feb 2005 21:01:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7178 invoked by uid 99); 3 Feb 2005 21:01:16 -0000
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=FORGED_RCVD_HELO,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 03 Feb 2005 13:01:14 -0800
Received: from p001002 ([204.225.84.27]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Thu, 3 Feb 2005 16:05:28 -0500
Message-ID: <01ac01c50a34$16a5f800$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <opslmq1ad46yt6e7@wtung-w2k01.amer.cisco.com> <4202590F.8080209@polopoly.com> <013201c50a1a$db152270$7703d00a@hypermedia.com> <42026B23.7090104@blizzy.de>
Subject: Re: Parsing The Query: Every document that doesn't have a field containing x
Date: Thu, 3 Feb 2005 16:05:28 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-15"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 03 Feb 2005 21:05:28.0684 (UTC) FILETIME=[16C9FAC0:01C50A34]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

Still working on the same query, here is the code I am currently working
with.

I am thinking this should bring up all the documents that have
olFaithFull=stillHere and kcfileupload!=jpg (so anything else)

query1 = QueryParser.parse("jpg", "kcfileupload", new StandardAnalyzer());
query2 = QueryParser.parse("stillHere", "olFaithFull", new
StandardAnalyzer());
BooleanQuery typeNegativeSearch = new BooleanQuery();
typeNegativeSearch.add(query1, false, true);
typeNegativeSearch.add(query2, true, false);

There toString() on the query is:

-kcfileupload:jpg +olFaithFull:stillhere

This looks right to me. Why the 0 results?

Thanks,

Luke

----- Original Message ----- 
From: "Maik Schreiber" <blizzy-keyword-lucene_user.f5486d@blizzy.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Thursday, February 03, 2005 1:19 PM
Subject: Re: Parsing The Query: Every document that doesn't have a field
containing x


> > Negating a term must be combined with at least one nonnegated term to
return
> > documents; in other words, it isn't possible to use a query like NOT
term to
> > find all documents that don't contain a term.
> >
> > So does that mean the above example wouldn't work?
>
> Exactly. You cannot search for "-kcfileupload:jpg", you need at least one
> clause that actually _includes_ documents.
>
> Do you by chance have a field with known contents? If so, you could misuse
> that one and include it in your query (perhaps by doing range or
> wildcard/prefix search). If not, try IndexReader.terms() for building a
> Query yourself, then use that one for search.
>
> -- 
> Maik Schreiber   *   http://www.blizzy.de
>
> GPG public key:
http://pgp.mit.edu:11371/pks/lookup?op=get&search=0x1F11D713
> Key fingerprint: CF19 AFCE 6E3D 5443 9599 18B5 5640 1F11 D713
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12969-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 03 21:08:34 2005
Return-Path: <lucene-user-return-12969-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 84370 invoked from network); 3 Feb 2005 21:08:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Feb 2005 21:08:34 -0000
Received: (qmail 18156 invoked by uid 500); 3 Feb 2005 21:08:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 17738 invoked by uid 500); 3 Feb 2005 21:08:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17722 invoked by uid 99); 3 Feb 2005 21:08:29 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from em02.ibx.com (HELO em02.ibx.com) (144.42.100.53)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 03 Feb 2005 13:08:28 -0800
Received: from twmms01.ibx.com (twmms01.ibx.com [144.42.9.110])
	by em02.ibx.com (Switch-2.2.8/Switch-2.2.8) with ESMTP id j13L8Px10737
	for <lucene-user@jakarta.apache.org>; Thu, 3 Feb 2005 16:08:25 -0500 (EST)
Received: from 144.42.9.67 by twmms02.ibx.com with ESMTP (ESMTP Relay (
 MMS v5.6.3)); Thu, 03 Feb 2005 16:08:13 -0500
X-Server-Uuid: 0E179360-D2A8-4FA1-B66B-75C2B7B00A53
Received: from im02.ibx.com (im02.ibx.com) by ecf01.ibx.com (Content
 Technologies SMTPRS 4.3.12) with ESMTP id
 <T6ee563510d902a0943750@ecf01.ibx.com>; Thu, 3 Feb 2005 16:08:13 -0500
Received: from mg05.ibx.com (mg05.ibx.com [144.42.199.38]) by
 im02.ibx.com (Switch-2.2.8/Switch-2.2.8) with ESMTP id j13L8DA02818;
 Thu, 3 Feb 2005 16:08:13 -0500 (EST)
Received: from M20.ibx.com ([144.42.199.66]) by mg05.ibx.com with
 Microsoft SMTPSVC (5.0.2195.6713); Thu, 3 Feb 2005 16:08:13 -0500
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Disposition-Notification-To: "Hauck, William B." <William.Hauck@ibx.com>
Subject: RE: google mini? who needs it when Lucene is there
Date: Thu, 3 Feb 2005 16:08:13 -0500
Message-ID: <94E94C701415CC4DB7F7A1D8E5B378BE018414@M20.ibx.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: google mini? who needs it when Lucene is there
Thread-Index: AcUE7sLd4w6B2cN5SxyHZqxI2mtFnwFQeuWw
From: "Hauck, William B." <William.Hauck@ibx.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
   "jian chen" <chenjian1227@gmail.com>
X-OriginalArrivalTime: 03 Feb 2005 21:08:13.0543 (UTC)
 FILETIME=[790D7770:01C50A34]
X-WSS-ID: 6E1C4D371H84664822-01-01
Content-Type: text/plain;
 charset=us-ascii
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Jian,

I disagree that the Google Mini is useless.  $5000 is quite inexpensive
for a commercial search engine.  I know of search engines where the cost
is practically 20 cents per document.  Heck, a decent server capable of
running a heavily loaded search engine costs $3000.  Also, don't forget
you get two years of hardware replacements in case of failure and
software updates for that $5000.

Lucene is a great concept, a great effort, and a great indexer.  But it
doesn't have a built-in spider; you need to provide that or use add-on
code or a system like Nutch which, according to
http://www.nutch.org/docs/en/developers.html, only parses HTML.  You
can't process PDFs, MS Office-type docs, and others without still more
code.  At this point, for a small company, probably with an over-worked
IT staff, Lucene would be just too time consuming to use.

The other thing to consider is the use of the search engine.  Is it for
a company's public website?  Is it to index every document that the
company produces?  Will it index databases?  Email?  Lotus Notes apps?
For a simple website search engine, Google Mini and other appliances are
hard to beat.  The 50,000 document limit:  50,000 documents is a lot for
a small company website.

Cheers,

bill


-----Original Message-----
From: jian chen [mailto:chenjian1227@gmail.com]=20
Sent: Thursday, January 27, 2005 11:06 PM
To: Lucene Users List
Subject: Re: google mini? who needs it when Lucene is there


Overall, even if google mini gives a lot of cool features compared to a
bare-born lucene project, what is good with the 50,000 documents limit.
It is useless with that limit. That is just their way of trying to turn
it into another cash cow.

Jian


On Thu, 27 Jan 2005 17:45:03 -0800 (PST), Otis Gospodnetic
<otis_gospodnetic@yahoo.com> wrote:
> 500 times the original data?  Not true! :)
>=20
> Otis
>=20
> --- "Xiaohong Yang (Sharon)" <sharonxyang@yahoo.com> wrote:
>=20
> > Hi,
> >
> > I agree that Google mini is quite expensive.  It might be similar to

> > the desktop version in quality.  Anyone knows google's ratio of
index
> > to text?   Is it true that Lucene's index is about 500 times the
> > original text size (not including image size)?  I don't have one=20
> > installed, so I cannot measure.
> >
> > Best,
> >
> > Sharon
> >
> > jian chen <chenjian1227@gmail.com> wrote:
> > Hi,
> >
> > I was searching using google and just found that there was a new=20
> > feature called "google mini". Initially I thought it was another=20
> > free service for small companies. Then I realized that it costs=20
> > quite some money ($4,995) for the hardware and software. (I guess=20
> > the proprietary software costs a whole lot more than actual=20
> > hardware.)
> >
> > The "nice" feature is that, you can only index up to 50,000=20
> > documents with this price. If you need to index more, sorry, send in

> > the check...
> >
> > It seems to me that any small biz will be ripped off if they install

> > this google mini thing, compared to using Lucene to implement a easy

> > to use search software, which could search up to whatever number of=20
> > documents you could image.
> >
> > I hope the lucene project could get exposed more to the enterprise=20
> > so that people know that they have not only cheaper but more=20
> > importantly, BETTER alternatives.
> >
> > Jian
> >
> > --------------------------------------------------------------------
> > -
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




CONFIDENTIALITY NOTICE: This E-Mail is intended only=20
for the use of the individual or entity to which it is addressed and may co=
ntain information that is privileged, confidential and exempt from disclosu=
re under applicable law. If you have received this communication in error, =
please do not distribute and delete the original message.  Please notify th=
e sender by E-Mail at the address shown. Thank you for your compliance.



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12970-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 03 21:25:57 2005
Return-Path: <lucene-user-return-12970-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 90696 invoked from network); 3 Feb 2005 21:25:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Feb 2005 21:25:57 -0000
Received: (qmail 37026 invoked by uid 500); 3 Feb 2005 21:25:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 36751 invoked by uid 500); 3 Feb 2005 21:25:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 36735 invoked by uid 99); 3 Feb 2005 21:25:53 -0000
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=FORGED_RCVD_HELO,SPF_HELO_PASS,SPF_PASS,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of blizzy-keyword-lucene_user.f5486d@blizzy.de designates 217.160.200.68 as permitted sender)
Received: from iceman.iq-computing.de (HELO iceman.iq-computing.de) (217.160.200.68)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 03 Feb 2005 13:25:51 -0800
Received: (qmail 643 invoked from network); 3 Feb 2005 22:25:49 +0100
Received: from c181236.adsl.hansenet.de (HELO wolverine.hh.iq-computing.de) (mickey@213.39.181.236)
  by iceman.iq-computing.de with AES256-SHA encrypted SMTP; 3 Feb 2005 22:25:49 +0100
Received: (qmail 22548 invoked from network); 3 Feb 2005 22:27:17 +0100
Received: from localhost (HELO ?127.0.0.1?) (127.0.0.1)
  by localhost with SMTP; 3 Feb 2005 22:27:17 +0100
Message-ID: <42029734.7030309@blizzy.de>
Date: Thu, 03 Feb 2005 22:27:16 +0100
From: Maik Schreiber <blizzy-keyword-lucene_user.f5486d@blizzy.de>
User-Agent: Mozilla Thunderbird 1.0 (X11/20041227)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Parsing The Query: Every document that doesn't have a field containing
 x
References: <opslmq1ad46yt6e7@wtung-w2k01.amer.cisco.com> <4202590F.8080209@polopoly.com> <013201c50a1a$db152270$7703d00a@hypermedia.com> <42026B23.7090104@blizzy.de> <01ac01c50a34$16a5f800$7703d00a@hypermedia.com>
In-Reply-To: <01ac01c50a34$16a5f800$7703d00a@hypermedia.com>
X-Enigmail-Version: 0.89.5.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: text/plain; charset=iso-8859-15; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> -kcfileupload:jpg +olFaithFull:stillhere
> 
> This looks right to me. Why the 0 results?

Looks good to me, too. You sure all your documents have 
olFaithFull:stillhere and there is at least a document with kcfileupload not 
being "jpg"?

-- 
Maik Schreiber   *   http://www.blizzy.de <-- Get GMail invites here!

GPG public key: http://pgp.mit.edu:11371/pks/lookup?op=get&search=0x1F11D713
Key fingerprint: CF19 AFCE 6E3D 5443 9599 18B5 5640 1F11 D713

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12971-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 03 21:52:23 2005
Return-Path: <lucene-user-return-12971-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 2359 invoked from network); 3 Feb 2005 21:52:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Feb 2005 21:52:23 -0000
Received: (qmail 77918 invoked by uid 500); 3 Feb 2005 21:52:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 77898 invoked by uid 500); 3 Feb 2005 21:52:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 77885 invoked by uid 99); 3 Feb 2005 21:52:18 -0000
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=FORGED_RCVD_HELO,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 03 Feb 2005 13:52:17 -0800
Received: from p001002 ([204.225.84.27]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Thu, 3 Feb 2005 16:56:43 -0500
Message-ID: <01c401c50a3b$3f83fd10$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <opslmq1ad46yt6e7@wtung-w2k01.amer.cisco.com> <4202590F.8080209@polopoly.com> <013201c50a1a$db152270$7703d00a@hypermedia.com> <42026B23.7090104@blizzy.de> <01ac01c50a34$16a5f800$7703d00a@hypermedia.com> <42029734.7030309@blizzy.de>
Subject: Re: Parsing The Query: Every document that doesn't have a field containing x
Date: Thu, 3 Feb 2005 16:56:43 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-15"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 03 Feb 2005 21:56:43.0695 (UTC) FILETIME=[3FA36BF0:01C50A3B]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Yes. There should be 119 with stillHere, and if I run a query in Luke on
kcfileupload = ppt, it returns one result. I am thinking I should at least
get this result back with: -kcfileupload:jpg +olFaithFull:stillhere?

Luke

----- Original Message ----- 
From: "Maik Schreiber" <blizzy-keyword-lucene_user.f5486d@blizzy.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Thursday, February 03, 2005 4:27 PM
Subject: Re: Parsing The Query: Every document that doesn't have a field
containing x


> > -kcfileupload:jpg +olFaithFull:stillhere
> >
> > This looks right to me. Why the 0 results?
>
> Looks good to me, too. You sure all your documents have
> olFaithFull:stillhere and there is at least a document with kcfileupload
not
> being "jpg"?
>
> -- 
> Maik Schreiber   *   http://www.blizzy.de <-- Get GMail invites here!
>
> GPG public key:
http://pgp.mit.edu:11371/pks/lookup?op=get&search=0x1F11D713
> Key fingerprint: CF19 AFCE 6E3D 5443 9599 18B5 5640 1F11 D713
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12972-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 03 21:54:49 2005
Return-Path: <lucene-user-return-12972-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 3348 invoked from network); 3 Feb 2005 21:54:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Feb 2005 21:54:48 -0000
Received: (qmail 81000 invoked by uid 500); 3 Feb 2005 21:54:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 80948 invoked by uid 500); 3 Feb 2005 21:54:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 80894 invoked by uid 99); 3 Feb 2005 21:54:35 -0000
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=FORGED_RCVD_HELO,SPF_HELO_PASS,SPF_PASS,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of blizzy-keyword-lucene_user.f5486d@blizzy.de designates 217.160.200.68 as permitted sender)
Received: from iceman.iq-computing.de (HELO iceman.iq-computing.de) (217.160.200.68)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 03 Feb 2005 13:54:32 -0800
Received: (qmail 832 invoked from network); 3 Feb 2005 22:54:29 +0100
Received: from c181236.adsl.hansenet.de (HELO wolverine.hh.iq-computing.de) (mickey@213.39.181.236)
  by iceman.iq-computing.de with AES256-SHA encrypted SMTP; 3 Feb 2005 22:54:29 +0100
Received: (qmail 24830 invoked from network); 3 Feb 2005 22:55:58 +0100
Received: from localhost (HELO ?127.0.0.1?) (127.0.0.1)
  by localhost with SMTP; 3 Feb 2005 22:55:58 +0100
Message-ID: <42029DED.3060801@blizzy.de>
Date: Thu, 03 Feb 2005 22:55:57 +0100
From: Maik Schreiber <blizzy-keyword-lucene_user.f5486d@blizzy.de>
User-Agent: Mozilla Thunderbird 1.0 (X11/20041227)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Parsing The Query: Every document that doesn't have a field containing
 x
References: <opslmq1ad46yt6e7@wtung-w2k01.amer.cisco.com> <4202590F.8080209@polopoly.com> <013201c50a1a$db152270$7703d00a@hypermedia.com> <42026B23.7090104@blizzy.de> <01ac01c50a34$16a5f800$7703d00a@hypermedia.com> <42029734.7030309@blizzy.de> <01c401c50a3b$3f83fd10$7703d00a@hypermedia.com>
In-Reply-To: <01c401c50a3b$3f83fd10$7703d00a@hypermedia.com>
X-Enigmail-Version: 0.89.5.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: text/plain; charset=iso-8859-15; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> Yes. There should be 119 with stillHere,

You have double-checked that, haven't you? :)

> and if I run a query in Luke on
> kcfileupload = ppt, it returns one result. I am thinking I should at least
> get this result back with: -kcfileupload:jpg +olFaithFull:stillhere?

You really should.

-- 
Maik Schreiber   *   http://www.blizzy.de <-- Get GMail invites here!

GPG public key: http://pgp.mit.edu:11371/pks/lookup?op=get&search=0x1F11D713
Key fingerprint: CF19 AFCE 6E3D 5443 9599 18B5 5640 1F11 D713

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12973-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 03 21:58:58 2005
Return-Path: <lucene-user-return-12973-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 5238 invoked from network); 3 Feb 2005 21:58:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Feb 2005 21:58:58 -0000
Received: (qmail 90428 invoked by uid 500); 3 Feb 2005 21:58:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 90118 invoked by uid 500); 3 Feb 2005 21:58:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 90105 invoked by uid 99); 3 Feb 2005 21:58:53 -0000
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=FORGED_RCVD_HELO,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 03 Feb 2005 13:58:53 -0800
Received: from p001002 ([204.225.84.27]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Thu, 3 Feb 2005 17:03:20 -0500
Message-ID: <01ca01c50a3c$2bfbb980$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <opslmq1ad46yt6e7@wtung-w2k01.amer.cisco.com> <4202590F.8080209@polopoly.com> <013201c50a1a$db152270$7703d00a@hypermedia.com> <42026B23.7090104@blizzy.de> <01ac01c50a34$16a5f800$7703d00a@hypermedia.com> <42029734.7030309@blizzy.de> <01c401c50a3b$3f83fd10$7703d00a@hypermedia.com> <42029DED.3060801@blizzy.de>
Subject: Re: Parsing The Query: Every document that doesn't have a field containing x
Date: Thu, 3 Feb 2005 17:03:20 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-15"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 03 Feb 2005 22:03:20.0500 (UTC) FILETIME=[2C270F40:01C50A3C]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I did, I have ran both queries in Luke.

kcfileupload:ppt

returns 1

olFaithfull:stillhere

returns 119

Luke

----- Original Message ----- 
From: "Maik Schreiber" <blizzy-keyword-lucene_user.f5486d@blizzy.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Thursday, February 03, 2005 4:55 PM
Subject: Re: Parsing The Query: Every document that doesn't have a field
containing x


> > Yes. There should be 119 with stillHere,
>
> You have double-checked that, haven't you? :)
>
> > and if I run a query in Luke on
> > kcfileupload = ppt, it returns one result. I am thinking I should at
least
> > get this result back with: -kcfileupload:jpg +olFaithFull:stillhere?
>
> You really should.
>
> -- 
> Maik Schreiber   *   http://www.blizzy.de <-- Get GMail invites here!
>
> GPG public key:
http://pgp.mit.edu:11371/pks/lookup?op=get&search=0x1F11D713
> Key fingerprint: CF19 AFCE 6E3D 5443 9599 18B5 5640 1F11 D713
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12974-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 03 22:19:34 2005
Return-Path: <lucene-user-return-12974-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 12072 invoked from network); 3 Feb 2005 22:19:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Feb 2005 22:19:34 -0000
Received: (qmail 17148 invoked by uid 500); 3 Feb 2005 22:19:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 17126 invoked by uid 500); 3 Feb 2005 22:19:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17111 invoked by uid 99); 3 Feb 2005 22:19:20 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from brmea-mail-4.Sun.COM (HELO brmea-mail-4.sun.com) (192.18.98.36)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 03 Feb 2005 14:19:18 -0800
Received: from phys-d3-ha21sca-1 ([129.145.155.163])
	by brmea-mail-4.sun.com (8.12.10/8.12.9) with ESMTP id j13MJHdt009696
	for <lucene-user@jakarta.apache.org>; Thu, 3 Feb 2005 15:19:17 -0700 (MST)
Received: from conversion-daemon.ha21sca-mail1.sfbay.sun.com by
 ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 id <0IBC00001WO46R@ha21sca-mail1.sfbay.sun.com>
 (original mail from Hetan.Shah@Sun.COM) for lucene-user@jakarta.apache.org;
 Thu, 03 Feb 2005 14:19:17 -0800 (PST)
Received: from [127.0.0.1] (d-mpk24-41-121.SFBay.Sun.COM [129.146.41.121])
 by ha21sca-mail1.sfbay.sun.com
 (iPlanet Messaging Server 5.2 HotFix 1.24 (built Dec 19 2003))
 with ESMTP id <0IBC00M4RWNYHX@ha21sca-mail1.sfbay.sun.com> for
 lucene-user@jakarta.apache.org; Thu, 03 Feb 2005 14:19:16 -0800 (PST)
Date: Thu, 03 Feb 2005 14:18:40 -0800
From: Hetan Shah <Hetan.Shah@Sun.COM>
Subject: Numbers in the Query String
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <4202A340.5090601@sun.com>
MIME-version: 1.0
Content-type: text/plain; charset=us-ascii; format=flowed
Content-transfer-encoding: 7BIT
X-Accept-Language: en-us, en
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7)
 Gecko/20040616
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

How can one search for a document based on the query which has numbers 
in the query srting.

e.g. query = Java 2 Platform J2EE

What do I need to do so that the numbers do not get neglected.

I am using StandardAnalyzer to index the pages and using StopAnalyzer to 
search the documents. Would the use of two different analyzers cause any 
trouble for the results?

Thanks.
-H


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12975-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 03 22:27:14 2005
Return-Path: <lucene-user-return-12975-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 15446 invoked from network); 3 Feb 2005 22:27:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Feb 2005 22:27:14 -0000
Received: (qmail 26580 invoked by uid 500); 3 Feb 2005 22:27:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 26553 invoked by uid 500); 3 Feb 2005 22:27:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26540 invoked by uid 99); 3 Feb 2005 22:27:10 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from shared4.hardhathosting.com (HELO getopt.org) (69.44.16.11)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 03 Feb 2005 14:27:09 -0800
Received: from [192.168.0.254] (75-mo3-2.acn.waw.pl [62.121.105.75])
	(authenticated)
	by getopt.org (8.11.6/8.11.6) with ESMTP id j13MQFW29681
	for <lucene-user@jakarta.apache.org>; Thu, 3 Feb 2005 16:26:16 -0600
Message-ID: <4202A533.4030501@getopt.org>
Date: Thu, 03 Feb 2005 23:26:59 +0100
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Numbers in the Query String
References: <4202A340.5090601@sun.com>
In-Reply-To: <4202A340.5090601@sun.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hetan Shah wrote:
> Hello,
> 
> How can one search for a document based on the query which has numbers 
> in the query srting.
> 
> e.g. query = Java 2 Platform J2EE
> 
> What do I need to do so that the numbers do not get neglected.
> 
> I am using StandardAnalyzer to index the pages and using StopAnalyzer to 
> search the documents. Would the use of two different analyzers cause any 
> trouble for the results?

Yes. StopAnalyzer eats all numbers for breakfast. ;-) You need to use 
another analyzer, one that doesn't discard numbers.

-- 
Best regards,
Andrzej Bialecki
  ___. ___ ___ ___ _ _   __________________________________
[__ || __|__/|__||\/|  Information Retrieval, Semantic Web
___|||__||  \|  ||  |  Embedded Unix, System Integration
http://www.sigram.com  Contact: info at sigram dot com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12976-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 03 22:29:21 2005
Return-Path: <lucene-user-return-12976-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 16109 invoked from network); 3 Feb 2005 22:29:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Feb 2005 22:29:20 -0000
Received: (qmail 28670 invoked by uid 500); 3 Feb 2005 22:29:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 28648 invoked by uid 500); 3 Feb 2005 22:29:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28634 invoked by uid 99); 3 Feb 2005 22:29:16 -0000
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web30209.mail.mud.yahoo.com (HELO web30209.mail.mud.yahoo.com) (68.142.200.92)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 03 Feb 2005 14:29:15 -0800
Received: (qmail 64222 invoked by uid 60001); 3 Feb 2005 22:29:13 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=W8zHIOu1VY0lQV5kGsKqACgGqaiAHwiaYv9eNbSXcy7hG2vOSsxzjhChXeb4b0VZpcoxfiCbYu6M0AHmKXAhsVAVp+i2BqsPFNqo+OsDVna1Tz8te5jrd8eqRqMdGJE9HEPaeGJQKrb+4n0cf3h0Mjgpmm71yxkM/TITkd5+kFI=  ;
Message-ID: <20050203222913.64220.qmail@web30209.mail.mud.yahoo.com>
Received: from [216.194.17.194] by web30209.mail.mud.yahoo.com via HTTP; Thu, 03 Feb 2005 14:29:13 PST
Date: Thu, 3 Feb 2005 14:29:13 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Numbers in the Query String
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <4202A340.5090601@sun.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Using different analyzers for indexing and searching is not
recommended.
Your numbers are not even in the index because you are using
StandardAnalyzer.  Use Luke to look at your index.

Otis


--- Hetan Shah <Hetan.Shah@Sun.COM> wrote:

> Hello,
> 
> How can one search for a document based on the query which has
> numbers 
> in the query srting.
> 
> e.g. query = Java 2 Platform J2EE
> 
> What do I need to do so that the numbers do not get neglected.
> 
> I am using StandardAnalyzer to index the pages and using StopAnalyzer
> to 
> search the documents. Would the use of two different analyzers cause
> any 
> trouble for the results?
> 
> Thanks.
> -H
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12977-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 03 22:44:42 2005
Return-Path: <lucene-user-return-12977-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 21996 invoked from network); 3 Feb 2005 22:44:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Feb 2005 22:44:42 -0000
Received: (qmail 47223 invoked by uid 500); 3 Feb 2005 22:44:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 47197 invoked by uid 500); 3 Feb 2005 22:44:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 47183 invoked by uid 99); 3 Feb 2005 22:44:30 -0000
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=FORGED_RCVD_HELO,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 03 Feb 2005 14:44:28 -0800
Received: from p001002 ([204.225.84.27]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Thu, 3 Feb 2005 17:48:55 -0500
Message-ID: <01e501c50a42$8a07bf50$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <opslmq1ad46yt6e7@wtung-w2k01.amer.cisco.com> <4202590F.8080209@polopoly.com> <013201c50a1a$db152270$7703d00a@hypermedia.com> <42026B23.7090104@blizzy.de> <01ac01c50a34$16a5f800$7703d00a@hypermedia.com> <42029734.7030309@blizzy.de> <01c401c50a3b$3f83fd10$7703d00a@hypermedia.com> <42029DED.3060801@blizzy.de>
Subject: Re: Parsing The Query: Every document that doesn't have a field containing x
Date: Thu, 3 Feb 2005 17:48:54 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-15"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 03 Feb 2005 22:48:55.0233 (UTC) FILETIME=[8A2E3310:01C50A42]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

This works:

query1 = QueryParser.parse("jpg", "kcfileupload", new StandardAnalyzer());
query2 = QueryParser.parse("stillHere", "olFaithFull", new
StandardAnalyzer());
BooleanQuery typeNegativeSearch = new BooleanQuery();
typeNegativeSearch.add(query1, false, false);
typeNegativeSearch.add(query2, false, false);

It returns 9 results. And in string form is: kcfileupload:jpg
olFaithFull:stillhere

But this:

query1 = QueryParser.parse("jpg", "kcfileupload", new StandardAnalyzer());
            query2 = QueryParser.parse("stillHere", "olFaithFull", new
StandardAnalyzer());
            BooleanQuery typeNegativeSearch = new BooleanQuery();
            typeNegativeSearch.add(query1, true, false);
            typeNegativeSearch.add(query2, true, false);

Reutrns 0 results and is in string form : +kcfileupload:jpg
+olFaithFull:stillhere

If I do the query kcfileupload:jpg in Luke I get 9 docs, each doc containing
a olFaithFull:stillHere. Why would +kcfileupload:jpg +olFaithFull:stillhere
return no results?

Thanks,

Luke

----- Original Message ----- 
From: "Maik Schreiber" <blizzy-keyword-lucene_user.f5486d@blizzy.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Thursday, February 03, 2005 4:55 PM
Subject: Re: Parsing The Query: Every document that doesn't have a field
containing x


> > Yes. There should be 119 with stillHere,
>
> You have double-checked that, haven't you? :)
>
> > and if I run a query in Luke on
> > kcfileupload = ppt, it returns one result. I am thinking I should at
least
> > get this result back with: -kcfileupload:jpg +olFaithFull:stillhere?
>
> You really should.
>
> -- 
> Maik Schreiber   *   http://www.blizzy.de <-- Get GMail invites here!
>
> GPG public key:
http://pgp.mit.edu:11371/pks/lookup?op=get&search=0x1F11D713
> Key fingerprint: CF19 AFCE 6E3D 5443 9599 18B5 5640 1F11 D713
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12978-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 03 23:40:24 2005
Return-Path: <lucene-user-return-12978-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 42965 invoked from network); 3 Feb 2005 23:40:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Feb 2005 23:40:23 -0000
Received: (qmail 15551 invoked by uid 500); 3 Feb 2005 23:40:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 15499 invoked by uid 500); 3 Feb 2005 23:40:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15455 invoked by uid 99); 3 Feb 2005 23:40:20 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from cato.nettas.net (HELO cato.nettas.net) (202.7.15.72)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 03 Feb 2005 15:40:18 -0800
Received: from cato.nettas.net (localhost [127.0.0.1])
	by localhost.nettas.net (Postfix) with ESMTP id 209A96699
	for <lucene-user@jakarta.apache.org>; Fri,  4 Feb 2005 10:40:14 +1100 (EST)
Received: from eduisa1.education.tas.gov.au (eduisa1.education.tas.gov.au [147.41.65.11])
	by cato.nettas.net (Postfix) with ESMTP id B1BAF68
	for <lucene-user@jakarta.apache.org>; Fri,  4 Feb 2005 10:40:13 +1100 (EST)
Received: by eduisa1.education.tas.gov.au
	with XWall v3.31 ;
	Fri, 4 Feb 2005 10:40:13 +1100
From: "Kauler, Leto S" <leto.kauler@education.tas.gov.au>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: RE: Parsing The Query: Every document that doesn't have a field containing x
Date: Fri, 4 Feb 2005 10:40:12 +1100
X-Assembled-By: XWall v3.31
Message-ID: <AFAC9B2BF1A8BF4886F5C0FDE428E90E06B916CD@edumail2.education.tas.gov.au>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

First thing that jumps out is case-sensitivity.  Does your olFaithFull
field contain "stillHere" or "stillhere"?

--Leto


> -----Original Message-----
> From: Luke Shannon [mailto:lshannon@futurebrand.com]=20
> This works:
>=20
> query1 =3D QueryParser.parse("jpg", "kcfileupload", new=20
> StandardAnalyzer()); query2 =3D QueryParser.parse("stillHere",=20
> "olFaithFull", new StandardAnalyzer()); BooleanQuery=20
> typeNegativeSearch =3D new BooleanQuery();=20
> typeNegativeSearch.add(query1, false, false);=20
> typeNegativeSearch.add(query2, false, false);
>=20
> It returns 9 results. And in string form is: kcfileupload:jpg=20
> olFaithFull:stillhere
>=20
> But this:
>=20
> query1 =3D QueryParser.parse("jpg", "kcfileupload", new=20
> StandardAnalyzer());
>             query2 =3D QueryParser.parse("stillHere",=20
> "olFaithFull", new StandardAnalyzer());
>             BooleanQuery typeNegativeSearch =3D new BooleanQuery();
>             typeNegativeSearch.add(query1, true, false);
>             typeNegativeSearch.add(query2, true, false);
>=20
> Reutrns 0 results and is in string form : +kcfileupload:jpg
> +olFaithFull:stillhere
>=20
> If I do the query kcfileupload:jpg in Luke I get 9 docs, each=20
> doc containing a olFaithFull:stillHere. Why would=20
> +kcfileupload:jpg +olFaithFull:stillhere return no results?
>=20
> Thanks,
>=20
> Luke

CONFIDENTIALITY NOTICE AND DISCLAIMER

Information in this transmission is intended only for the person(s) to whom =
it is addressed and may contain privileged and/or confidential information. =
If you are not the intended recipient, any disclosure, copying or disseminat=
ion of the information is unauthorised and you should delete/destroy all cop=
ies and notify the sender. No liability is accepted for any unauthorised use=
 of the information contained in this transmission.

This disclaimer has been automatically added.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12979-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 03 23:42:14 2005
Return-Path: <lucene-user-return-12979-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 43575 invoked from network); 3 Feb 2005 23:42:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Feb 2005 23:42:13 -0000
Received: (qmail 18413 invoked by uid 500); 3 Feb 2005 23:42:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 18388 invoked by uid 500); 3 Feb 2005 23:42:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 18375 invoked by uid 99); 3 Feb 2005 23:42:09 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 03 Feb 2005 15:42:07 -0800
Received: from p001002 ([204.225.84.27]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Thu, 3 Feb 2005 18:46:34 -0500
Message-ID: <020301c50a4a$97c69a00$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <AFAC9B2BF1A8BF4886F5C0FDE428E90E06B916CD@edumail2.education.tas.gov.au>
Subject: Re: Parsing The Query: Every document that doesn't have a field containing x
Date: Thu, 3 Feb 2005 18:46:33 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 03 Feb 2005 23:46:34.0190 (UTC) FILETIME=[97E126E0:01C50A4A]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

"stillHere"

Capital H.

----- Original Message ----- 
From: "Kauler, Leto S" <leto.kauler@education.tas.gov.au>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Thursday, February 03, 2005 6:40 PM
Subject: RE: Parsing The Query: Every document that doesn't have a field
containing x


First thing that jumps out is case-sensitivity.  Does your olFaithFull
field contain "stillHere" or "stillhere"?

--Leto


> -----Original Message-----
> From: Luke Shannon [mailto:lshannon@futurebrand.com]
> This works:
>
> query1 = QueryParser.parse("jpg", "kcfileupload", new
> StandardAnalyzer()); query2 = QueryParser.parse("stillHere",
> "olFaithFull", new StandardAnalyzer()); BooleanQuery
> typeNegativeSearch = new BooleanQuery();
> typeNegativeSearch.add(query1, false, false);
> typeNegativeSearch.add(query2, false, false);
>
> It returns 9 results. And in string form is: kcfileupload:jpg
> olFaithFull:stillhere
>
> But this:
>
> query1 = QueryParser.parse("jpg", "kcfileupload", new
> StandardAnalyzer());
>             query2 = QueryParser.parse("stillHere",
> "olFaithFull", new StandardAnalyzer());
>             BooleanQuery typeNegativeSearch = new BooleanQuery();
>             typeNegativeSearch.add(query1, true, false);
>             typeNegativeSearch.add(query2, true, false);
>
> Reutrns 0 results and is in string form : +kcfileupload:jpg
> +olFaithFull:stillhere
>
> If I do the query kcfileupload:jpg in Luke I get 9 docs, each
> doc containing a olFaithFull:stillHere. Why would
> +kcfileupload:jpg +olFaithFull:stillhere return no results?
>
> Thanks,
>
> Luke

CONFIDENTIALITY NOTICE AND DISCLAIMER

Information in this transmission is intended only for the person(s) to whom
it is addressed and may contain privileged and/or confidential information.
If you are not the intended recipient, any disclosure, copying or
dissemination of the information is unauthorised and you should
delete/destroy all copies and notify the sender. No liability is accepted
for any unauthorised use of the information contained in this transmission.

This disclaimer has been automatically added.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12980-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 03 23:48:29 2005
Return-Path: <lucene-user-return-12980-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 45618 invoked from network); 3 Feb 2005 23:48:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 3 Feb 2005 23:48:29 -0000
Received: (qmail 28524 invoked by uid 500); 3 Feb 2005 23:48:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 28507 invoked by uid 500); 3 Feb 2005 23:48:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28492 invoked by uid 99); 3 Feb 2005 23:48:24 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from clift.nettas.net (HELO clift.nettas.net) (202.7.15.71)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 03 Feb 2005 15:48:23 -0800
Received: from clift.nettas.net (localhost [127.0.0.1])
	by localhost.nettas.net (Postfix) with ESMTP id 27EDD1C7F6
	for <lucene-user@jakarta.apache.org>; Fri,  4 Feb 2005 10:48:19 +1100 (EST)
Received: from eduisa1.education.tas.gov.au (eduisa1.education.tas.gov.au [147.41.65.11])
	by clift.nettas.net (Postfix) with ESMTP id 38BD368
	for <lucene-user@jakarta.apache.org>; Fri,  4 Feb 2005 10:48:18 +1100 (EST)
Received: by eduisa1.education.tas.gov.au
	with XWall v3.31 ;
	Fri, 4 Feb 2005 10:48:17 +1100
From: "Kauler, Leto S" <leto.kauler@education.tas.gov.au>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: RE: Parsing The Query: Every document that doesn't have a field containing x
Date: Fri, 4 Feb 2005 10:48:17 +1100
X-Assembled-By: XWall v3.31
Message-ID: <AFAC9B2BF1A8BF4886F5C0FDE428E90E06B916CE@edumail2.education.tas.gov.au>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Because you are build from QueryParser rather than a TermQuery, all
search terms in the query are being lowercased by StandardAnalyzer.

So your query of "olFaithFull:stillhere" requires that there is an exact
index term of "stillhere" in that field.  It depends on how you built
the index (index and stored fields are different), but I would check on
that.  Also maybe try out TermQuery and see if that does anything for
you.



> -----Original Message-----
> From: Luke Shannon [mailto:lshannon@futurebrand.com]=20
> Sent: Friday, 4 February 2005 10:47 AM
> To: Lucene Users List
> Subject: Re: Parsing The Query: Every document that doesn't=20
> have a field containing x
>=20
>=20
> "stillHere"
>=20
> Capital H.
>=20
> ----- Original Message -----=20
> From: "Kauler, Leto S" <leto.kauler@education.tas.gov.au>
> To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> Sent: Thursday, February 03, 2005 6:40 PM
> Subject: RE: Parsing The Query: Every document that doesn't=20
> have a field containing x
>=20
>=20
> First thing that jumps out is case-sensitivity.  Does your=20
> olFaithFull field contain "stillHere" or "stillhere"?
>=20
> --Leto
>=20
>=20
> > -----Original Message-----
> > From: Luke Shannon [mailto:lshannon@futurebrand.com]
> > This works:
> >
> > query1 =3D QueryParser.parse("jpg", "kcfileupload", new=20
> > StandardAnalyzer()); query2 =3D QueryParser.parse("stillHere",=20
> > "olFaithFull", new StandardAnalyzer()); BooleanQuery=20
> > typeNegativeSearch =3D new BooleanQuery();=20
> > typeNegativeSearch.add(query1, false, false);=20
> > typeNegativeSearch.add(query2, false, false);
> >
> > It returns 9 results. And in string form is: kcfileupload:jpg=20
> > olFaithFull:stillhere
> >
> > But this:
> >
> > query1 =3D QueryParser.parse("jpg", "kcfileupload", new=20
> > StandardAnalyzer());
> >             query2 =3D QueryParser.parse("stillHere",=20
> "olFaithFull", new=20
> > StandardAnalyzer());
> >             BooleanQuery typeNegativeSearch =3D new BooleanQuery();
> >             typeNegativeSearch.add(query1, true, false);
> >             typeNegativeSearch.add(query2, true, false);
> >
> > Reutrns 0 results and is in string form : +kcfileupload:jpg
> > +olFaithFull:stillhere
> >
> > If I do the query kcfileupload:jpg in Luke I get 9 docs, each doc=20
> > containing a olFaithFull:stillHere. Why would
> > +kcfileupload:jpg +olFaithFull:stillhere return no results?
> >
> > Thanks,
> >
> > Luke

CONFIDENTIALITY NOTICE AND DISCLAIMER

Information in this transmission is intended only for the person(s) to whom =
it is addressed and may contain privileged and/or confidential information. =
If you are not the intended recipient, any disclosure, copying or disseminat=
ion of the information is unauthorised and you should delete/destroy all cop=
ies and notify the sender. No liability is accepted for any unauthorised use=
 of the information contained in this transmission.

This disclaimer has been automatically added.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12981-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 04 00:01:10 2005
Return-Path: <lucene-user-return-12981-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 49339 invoked from network); 4 Feb 2005 00:01:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 4 Feb 2005 00:01:10 -0000
Received: (qmail 41810 invoked by uid 500); 4 Feb 2005 00:01:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 41776 invoked by uid 500); 4 Feb 2005 00:01:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 41763 invoked by uid 99); 4 Feb 2005 00:01:07 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 03 Feb 2005 16:01:06 -0800
Received: from p001002 ([204.225.84.27]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Thu, 3 Feb 2005 19:05:31 -0500
Message-ID: <020e01c50a4d$3da7e4e0$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <AFAC9B2BF1A8BF4886F5C0FDE428E90E06B916CE@edumail2.education.tas.gov.au>
Subject: Re: Parsing The Query: Every document that doesn't have a field containing x
Date: Thu, 3 Feb 2005 19:05:31 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 04 Feb 2005 00:05:31.0515 (UTC) FILETIME=[3DC72CB0:01C50A4D]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Bingo! Nice catch. That was it. Made everything lower case when I set the
field. Works great now.

Thanks!

Luke

----- Original Message ----- 
From: "Kauler, Leto S" <leto.kauler@education.tas.gov.au>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Thursday, February 03, 2005 6:48 PM
Subject: RE: Parsing The Query: Every document that doesn't have a field
containing x


Because you are build from QueryParser rather than a TermQuery, all
search terms in the query are being lowercased by StandardAnalyzer.

So your query of "olFaithFull:stillhere" requires that there is an exact
index term of "stillhere" in that field.  It depends on how you built
the index (index and stored fields are different), but I would check on
that.  Also maybe try out TermQuery and see if that does anything for
you.



> -----Original Message-----
> From: Luke Shannon [mailto:lshannon@futurebrand.com]
> Sent: Friday, 4 February 2005 10:47 AM
> To: Lucene Users List
> Subject: Re: Parsing The Query: Every document that doesn't
> have a field containing x
>
>
> "stillHere"
>
> Capital H.
>
> ----- Original Message ----- 
> From: "Kauler, Leto S" <leto.kauler@education.tas.gov.au>
> To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> Sent: Thursday, February 03, 2005 6:40 PM
> Subject: RE: Parsing The Query: Every document that doesn't
> have a field containing x
>
>
> First thing that jumps out is case-sensitivity.  Does your
> olFaithFull field contain "stillHere" or "stillhere"?
>
> --Leto
>
>
> > -----Original Message-----
> > From: Luke Shannon [mailto:lshannon@futurebrand.com]
> > This works:
> >
> > query1 = QueryParser.parse("jpg", "kcfileupload", new
> > StandardAnalyzer()); query2 = QueryParser.parse("stillHere",
> > "olFaithFull", new StandardAnalyzer()); BooleanQuery
> > typeNegativeSearch = new BooleanQuery();
> > typeNegativeSearch.add(query1, false, false);
> > typeNegativeSearch.add(query2, false, false);
> >
> > It returns 9 results. And in string form is: kcfileupload:jpg
> > olFaithFull:stillhere
> >
> > But this:
> >
> > query1 = QueryParser.parse("jpg", "kcfileupload", new
> > StandardAnalyzer());
> >             query2 = QueryParser.parse("stillHere",
> "olFaithFull", new
> > StandardAnalyzer());
> >             BooleanQuery typeNegativeSearch = new BooleanQuery();
> >             typeNegativeSearch.add(query1, true, false);
> >             typeNegativeSearch.add(query2, true, false);
> >
> > Reutrns 0 results and is in string form : +kcfileupload:jpg
> > +olFaithFull:stillhere
> >
> > If I do the query kcfileupload:jpg in Luke I get 9 docs, each doc
> > containing a olFaithFull:stillHere. Why would
> > +kcfileupload:jpg +olFaithFull:stillhere return no results?
> >
> > Thanks,
> >
> > Luke

CONFIDENTIALITY NOTICE AND DISCLAIMER

Information in this transmission is intended only for the person(s) to whom
it is addressed and may contain privileged and/or confidential information.
If you are not the intended recipient, any disclosure, copying or
dissemination of the information is unauthorised and you should
delete/destroy all copies and notify the sender. No liability is accepted
for any unauthorised use of the information contained in this transmission.

This disclaimer has been automatically added.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12982-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 04 01:36:18 2005
Return-Path: <lucene-user-return-12982-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 83633 invoked from network); 4 Feb 2005 01:36:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 4 Feb 2005 01:36:17 -0000
Received: (qmail 49162 invoked by uid 500); 4 Feb 2005 01:36:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 49138 invoked by uid 500); 4 Feb 2005 01:36:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 49123 invoked by uid 99); 4 Feb 2005 01:36:14 -0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=FROM_ENDS_IN_NUMS,NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from w07.bloglines.com (HELO w07.bloglines.com) (216.148.212.181)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 03 Feb 2005 17:36:13 -0800
Received: (qmail 3868 invoked by uid 99); 4 Feb 2005 01:36:11 -0000
Message-ID: <1107480971.456899330.3867.sendItem@bloglines.com>
Date: 4 Feb 2005 01:36:11 -0000
From: yahootintin.1247688@bloglines.com
To: lucene-user@jakarta.apache.org
Subject: Optimize not deleting all files
MIME-Version: 1.0
Content-Type: text/plain
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

When I run an optimize in our production environment, old index are
left in the directory and are not deleted.  

My understanding is that an
optimize will create new index files and all existing index files should be
deleted.  Is this correct?

We are running Lucene 1.4.2 on Windows.  


Any help is appreciated.  Thanks!

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12983-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 04 07:06:37 2005
Return-Path: <lucene-user-return-12983-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 7120 invoked from network); 4 Feb 2005 07:06:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 4 Feb 2005 07:06:37 -0000
Received: (qmail 40668 invoked by uid 500); 4 Feb 2005 07:06:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 40633 invoked by uid 500); 4 Feb 2005 07:06:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40603 invoked by uid 99); 4 Feb 2005 07:06:30 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of prettykely@gmail.com designates 64.233.184.207 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.207)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 03 Feb 2005 23:06:29 -0800
Received: by wproxy.gmail.com with SMTP id 55so507784wri
        for <lucene-user@jakarta.apache.org>; Thu, 03 Feb 2005 23:06:28 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=UdSMY6+BZP59NYgtjoTNMoDHCaDEx1Vt8SlgIVyHPG0DycLLUO09oYr6blGXzXcqk50/9LhDvd0TnAiQtlbC0PDg7U2CaT8W7OzGwbgcLF3JmrxE2++xxVnLX7srvuBqULh9AYr5OtjYfCuZIg2HxMgNS0dXKydYAoxaujt37U8=
Received: by 10.54.48.35 with SMTP id v35mr436113wrv;
        Thu, 03 Feb 2005 23:06:27 -0800 (PST)
Received: by 10.54.25.31 with HTTP; Thu, 3 Feb 2005 23:06:27 -0800 (PST)
Message-ID: <8fa7a78e05020323066f70c655@mail.gmail.com>
Date: Fri, 4 Feb 2005 15:06:27 +0800
From: =?UTF-8?B?5byg55G+?= <prettykely@gmail.com>
Reply-To: =?UTF-8?B?5byg55G+?= <prettykely@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Optimize not deleting all files
In-Reply-To: <1107480971.456899330.3867.sendItem@bloglines.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
References: <1107480971.456899330.3867.sendItem@bloglines.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Your understanding is right!

The old existing files should be deleted,but it  will build new files!


On Thu, 03 Feb 2005 17:36:27 -0800 (PST),
yahootintin.1247688@bloglines.com <yahootintin.1247688@bloglines.com>
wrote:
> Hi,
>=20
> When I run an optimize in our production environment, old index are
> left in the directory and are not deleted.
>=20
> My understanding is that an
> optimize will create new index files and all existing index files should =
be
> deleted.  Is this correct?
>=20
> We are running Lucene 1.4.2 on Windows.
>=20
> Any help is appreciated.  Thanks!
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20
>=20


--=20
=E6=84=BF=E4=BD=A0=E5=BF=AB=E4=B9=90=E6=AF=8F=E4=B8=80=E5=A4=A9

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12984-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 04 07:12:27 2005
Return-Path: <lucene-user-return-12984-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 8702 invoked from network); 4 Feb 2005 07:12:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 4 Feb 2005 07:12:27 -0000
Received: (qmail 49738 invoked by uid 500); 4 Feb 2005 07:12:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 49713 invoked by uid 500); 4 Feb 2005 07:12:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 49698 invoked by uid 99); 4 Feb 2005 07:12:21 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of prettykely@gmail.com designates 64.233.184.198 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.198)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 03 Feb 2005 23:12:20 -0800
Received: by wproxy.gmail.com with SMTP id 55so508326wri
        for <lucene-user@jakarta.apache.org>; Thu, 03 Feb 2005 23:12:18 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=tSEIk+8MktXTR+cJ4/ljWEuO98Xgv2FLuLYrGUG3Kzhyy3UhjDwix51uMmNSKcWe7+en7ZJNbtswJZ6HW2frA4eHsjiC0EENXuiWTPDZ9pyVrvviRB94/Z4CZKEVefrUc4oE61l+2M6VmlAfRMEro6EDpAA0E2TrCSQ/e3MPqws=
Received: by 10.54.57.39 with SMTP id f39mr79052wra;
        Thu, 03 Feb 2005 23:12:17 -0800 (PST)
Received: by 10.54.25.31 with HTTP; Thu, 3 Feb 2005 23:12:17 -0800 (PST)
Message-ID: <8fa7a78e0502032312556841da@mail.gmail.com>
Date: Fri, 4 Feb 2005 15:12:17 +0800
From: =?UTF-8?B?5byg55G+?= <prettykely@gmail.com>
Reply-To: =?UTF-8?B?5byg55G+?= <prettykely@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Parsing The Query: Every document that doesn't have a field containing x
In-Reply-To: <013201c50a1a$db152270$7703d00a@hypermedia.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
References: <opslmq1ad46yt6e7@wtung-w2k01.amer.cisco.com>
	 <4202590F.8080209@polopoly.com>
	 <013201c50a1a$db152270$7703d00a@hypermedia.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I  think you may can use a filter to get right result!
See examlples below
package lia.advsearching;

import junit.framework.TestCase;
import org.apache.lucene.analysis.WhitespaceAnalyzer;
import org.apache.lucene.document.Document;
import org.apache.lucene.document.Field;
import org.apache.lucene.index.IndexWriter;
import org.apache.lucene.index.Term;
import org.apache.lucene.search.Hits;
import org.apache.lucene.search.IndexSearcher;
import org.apache.lucene.search.QueryFilter;
import org.apache.lucene.search.TermQuery;
import org.apache.lucene.store.RAMDirectory;

public class SecurityFilterTest extends TestCase {
  private RAMDirectory directory;

  protected void setUp() throws Exception {
    directory =3D new RAMDirectory();
    IndexWriter writer =3D new IndexWriter(directory,
        new WhitespaceAnalyzer(), true);

    // Elwood
    Document document =3D new Document();
    document.add(Field.Keyword("owner", "elwood"));
    document.add(Field.Text("keywords", "elwoods sensitive info"));
    writer.addDocument(document);

    // Jake
    document =3D new Document();
    document.add(Field.Keyword("owner", "jake"));
    document.add(Field.Text("keywords", "jakes sensitive info"));
    writer.addDocument(document);

    writer.close();
  }

  public void testSecurityFilter() throws Exception {
    TermQuery query =3D new TermQuery(new Term("keywords", "info"));

    IndexSearcher searcher =3D new IndexSearcher(directory);
    Hits hits =3D searcher.search(query);
    assertEquals("Both documents match", 2, hits.length());

    QueryFilter jakeFilter =3D new QueryFilter(
        new TermQuery(new Term("owner", "jake")));

    hits =3D searcher.search(query, jakeFilter);
    assertEquals(1, hits.length());
    assertEquals("elwood is safe",
        "jakes sensitive info", hits.doc(0).get("keywords"));
  }

}


On Thu, 3 Feb 2005 13:04:50 -0500, Luke Shannon
<lshannon@futurebrand.com> wrote:
> Hello;
>=20
> I have a query that finds document that contain fields with a specific
> value.
>=20
> query1 =3D QueryParser.parse("jpg", "kcfileupload", new StandardAnalyzer(=
));
>=20
> This works well.
>=20
> I would like a query that find documents containing all kcfileupload fiel=
ds
> that don't contain jpg.
>=20
> The example I found in the book that seems to relate shows me how to find
> documents without a specific term:
>=20
> QueryParser parser =3D new QueryParser("contents", analyzer);
> parser.setOperator(QueryParser.DEFAULT_OPERATOR_AND);
>=20
> But than it says:
>=20
> Negating a term must be combined with at least one nonnegated term to ret=
urn
> documents; in other words, it isn't possible to use a query like NOT term=
 to
> find all documents that don't contain a term.
>=20
> So does that mean the above example wouldn't work?
>=20
> The API says:
>=20
>  a plus (+) or a minus (-) sign, indicating that the clause is required o=
r
> prohibited respectively;
>=20
> I have been playing around with using the minus character without much lu=
ck.
>=20
> Can someone give point me in the right direction to figure this out?
>=20
> Thanks,
>=20
> Luke
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20
>=20


--=20
=E6=84=BF=E4=BD=A0=E5=BF=AB=E4=B9=90=E6=AF=8F=E4=B8=80=E5=A4=A9

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12985-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 04 07:14:33 2005
Return-Path: <lucene-user-return-12985-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 9622 invoked from network); 4 Feb 2005 07:14:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 4 Feb 2005 07:14:33 -0000
Received: (qmail 52825 invoked by uid 500); 4 Feb 2005 07:14:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 52805 invoked by uid 500); 4 Feb 2005 07:14:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52790 invoked by uid 99); 4 Feb 2005 07:14:25 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of prettykely@gmail.com designates 64.233.184.206 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.206)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 03 Feb 2005 23:14:24 -0800
Received: by wproxy.gmail.com with SMTP id 55so508545wri
        for <lucene-user@jakarta.apache.org>; Thu, 03 Feb 2005 23:14:22 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=suqeS3guusH+RRQKUxgmrkfEeSa/6WFrt2uzfftppzgC6qAVzfg6bdtqe/+fIRe+jBnviTnx9/QXMgsksrcQZLvI+0n2Wq1nVyRWnCSU7WG6QQcG6alx8JjzT1+wCJ1AZD4S0Ey7qi2ezGYH3TmI/c73FDvitV41VMVloEcF3RE=
Received: by 10.54.46.64 with SMTP id t64mr23774wrt;
        Thu, 03 Feb 2005 23:14:22 -0800 (PST)
Received: by 10.54.25.31 with HTTP; Thu, 3 Feb 2005 23:14:22 -0800 (PST)
Message-ID: <8fa7a78e050203231456d0038e@mail.gmail.com>
Date: Fri, 4 Feb 2005 15:14:22 +0800
From: =?UTF-8?B?5byg55G+?= <prettykely@gmail.com>
Reply-To: =?UTF-8?B?5byg55G+?= <prettykely@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Numbers in the Query String
In-Reply-To: <20050203222913.64220.qmail@web30209.mail.mud.yahoo.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
References: <4202A340.5090601@sun.com>
	 <20050203222913.64220.qmail@web30209.mail.mud.yahoo.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I agree their viewpoint!


On Thu, 3 Feb 2005 14:29:13 -0800 (PST), Otis Gospodnetic
<otis_gospodnetic@yahoo.com> wrote:
> Using different analyzers for indexing and searching is not
> recommended.
> Your numbers are not even in the index because you are using
> StandardAnalyzer.  Use Luke to look at your index.
>=20
> Otis
>=20
>=20
> --- Hetan Shah <Hetan.Shah@Sun.COM> wrote:
>=20
> > Hello,
> >
> > How can one search for a document based on the query which has
> > numbers
> > in the query srting.
> >
> > e.g. query =3D Java 2 Platform J2EE
> >
> > What do I need to do so that the numbers do not get neglected.
> >
> > I am using StandardAnalyzer to index the pages and using StopAnalyzer
> > to
> > search the documents. Would the use of two different analyzers cause
> > any
> > trouble for the results?
> >
> > Thanks.
> > -H
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20
>=20


--=20
=E6=84=BF=E4=BD=A0=E5=BF=AB=E4=B9=90=E6=AF=8F=E4=B8=80=E5=A4=A9

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12986-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 04 08:56:28 2005
Return-Path: <lucene-user-return-12986-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 85729 invoked from network); 4 Feb 2005 08:56:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 4 Feb 2005 08:56:28 -0000
Received: (qmail 4094 invoked by uid 500); 4 Feb 2005 08:56:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 4011 invoked by uid 500); 4 Feb 2005 08:56:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3992 invoked by uid 99); 4 Feb 2005 08:56:22 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DATE_IN_FUTURE_03_06,FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from relay.fis.ru (HELO mail.office.fis.ru) (212.20.24.193)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 04 Feb 2005 00:56:20 -0800
Received: by mail.office.fis.ru (Postfix, from userid 1007)
	id B143C89E21; Fri,  4 Feb 2005 14:56:31 +0600 (NOVT)
Received: from develop.fis.ru (dev.fis.ru [212.20.24.39])
	by mail.office.fis.ru (Postfix) with ESMTP id 5889689E02
	for <lucene-user@jakarta.apache.org>; Fri,  4 Feb 2005 14:56:31 +0600 (NOVT)
From: Simeon Koptelov <skoptelov@fis.ru>
Organization: FIS
To: lucene-user@jakarta.apache.org
Subject: Document numbers and ids
Date: Fri, 4 Feb 2005 14:49:44 +0000
User-Agent: KMail/1.7
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200502041449.44471.skoptelov@fis.ru>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

The LiA says that I can use Sort.INDEXORDER when indexing order is relevant 
and gives an example where documents' ids (got from Hits.id() ) are 
increasing from top to bottom of resultset. Are that ids the same thing as 
document numbers? 

If they are the same, how can it be that they are preserved during indexing 
process? LiA says that documents are renumbered when merging segments.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12987-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 04 09:53:55 2005
Return-Path: <lucene-user-return-12987-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 10154 invoked from network); 4 Feb 2005 09:53:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 4 Feb 2005 09:53:55 -0000
Received: (qmail 68911 invoked by uid 500); 4 Feb 2005 09:53:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 68892 invoked by uid 500); 4 Feb 2005 09:53:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68876 invoked by uid 99); 4 Feb 2005 09:53:50 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork9.mail.Virginia.EDU (HELO fork9.mail.virginia.edu) (128.143.2.179)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 04 Feb 2005 01:53:49 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork9.mail.virginia.edu (Postfix) with ESMTP id 679E71F5286
	for <lucene-user@jakarta.apache.org>; Fri,  4 Feb 2005 04:53:47 -0500 (EST)
Received: from fork9.mail.virginia.edu ([127.0.0.1])
 by localhost (fork9.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 14483-10 for <lucene-user@jakarta.apache.org>;
 Fri,  4 Feb 2005 04:53:47 -0500 (EST)
Received: from [192.168.1.102] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by fork9.mail.virginia.edu (Postfix) with ESMTP id 03A0E1F5282
	for <lucene-user@jakarta.apache.org>; Fri,  4 Feb 2005 04:53:46 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <200502041449.44471.skoptelov@fis.ru>
References: <200502041449.44471.skoptelov@fis.ru>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <d4d74740bd057d1a59d303a13df6035c@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Document numbers and ids
Date: Fri, 4 Feb 2005 04:53:46 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-UVA-Virus-Scanned: by amavisd-new at fork9.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Feb 4, 2005, at 9:49 AM, Simeon Koptelov wrote:
> The LiA says that I can use Sort.INDEXORDER when indexing order is 
> relevant
> and gives an example where documents' ids (got from Hits.id() ) are
> increasing from top to bottom of resultset. Are that ids the same 
> thing as
> document numbers?

Yes, id is the same as document number.

> If they are the same, how can it be that they are preserved during 
> indexing
> process? LiA says that documents are renumbered when merging segments.

By "renumbered", it means it squeezes out holes left by deletes.  The 
actual order does not change and thus does not affect a Sort.INDEXORDER 
sort.

Documents are stored in the index in the order that they were indexed - 
nothing changes this order.  Document id's are not permanent if deletes 
occur followed by an optimize.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12988-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 04 10:22:10 2005
Return-Path: <lucene-user-return-12988-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 23110 invoked from network); 4 Feb 2005 10:22:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 4 Feb 2005 10:22:09 -0000
Received: (qmail 98351 invoked by uid 500); 4 Feb 2005 10:22:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 98328 invoked by uid 500); 4 Feb 2005 10:22:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98311 invoked by uid 99); 4 Feb 2005 10:22:04 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of TheRanger@gmx.net designates 213.165.64.20 as permitted sender)
Received: from pop.gmx.net (HELO mail.gmx.net) (213.165.64.20)
  by apache.org (qpsmtpd/0.28) with SMTP; Fri, 04 Feb 2005 02:22:03 -0800
Received: (qmail 14047 invoked by uid 0); 4 Feb 2005 10:21:54 -0000
Received: from 193.63.235.44 by www20.gmx.net with HTTP;
	Fri, 4 Feb 2005 11:21:54 +0100 (MET)
Date: Fri, 4 Feb 2005 11:21:54 +0100 (MET)
From: "Karl Koch" <TheRanger@gmx.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
MIME-Version: 1.0
References: <9cfhdktpepl.fsf@rogue.ncsl.nist.gov>
Subject: Re: which HTML parser is better?
X-Priority: 3 (Normal)
X-Authenticated: #21808356
Message-ID: <22373.1107512514@www20.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

The link does not work.

> 
> One which we've been using can be found at:
> http://www.ltg.ed.ac.uk/~richard/ftp-area/html-parser/
> 
> We absolutely need to be able to recover gracefully from malformed
> HTML and/or SGML.  Most of the nicer SAX/DOM/TLA parsers out there
> failed this criterion when we started our effort.  The above one is
> kind of SAX-y but doesn't fall over at the sight of a real web page
> ;-)
> 
> Ian
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
DSL Komplett von GMX +++ Superg¸nstig und stressfrei einsteigen!
AKTION "Kein Einrichtungspreis" nutzen: http://www.gmx.net/de/go/dsl

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12989-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 04 11:31:43 2005
Return-Path: <lucene-user-return-12989-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 51793 invoked from network); 4 Feb 2005 11:31:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 4 Feb 2005 11:31:43 -0000
Received: (qmail 76101 invoked by uid 500); 4 Feb 2005 11:31:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 76071 invoked by uid 500); 4 Feb 2005 11:31:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 76051 invoked by uid 99); 4 Feb 2005 11:31:37 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DATE_IN_FUTURE_03_06,FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from relay.fis.ru (HELO mail.office.fis.ru) (212.20.24.193)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 04 Feb 2005 03:31:36 -0800
Received: by mail.office.fis.ru (Postfix, from userid 1007)
	id 752E289422; Fri,  4 Feb 2005 17:31:47 +0600 (NOVT)
Received: from develop.fis.ru (dev.fis.ru [212.20.24.39])
	by mail.office.fis.ru (Postfix) with ESMTP id 149D689321
	for <lucene-user@jakarta.apache.org>; Fri,  4 Feb 2005 17:31:47 +0600 (NOVT)
From: Simeon Koptelov <skoptelov@fis.ru>
Organization: FIS
To: lucene-user@jakarta.apache.org
Subject: Re: Re: Document numbers and ids
Date: Fri, 4 Feb 2005 17:24:58 +0000
User-Agent: KMail/1.7
MIME-Version: 1.0
Content-Disposition: inline
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Message-Id: <200502041724.58819.skoptelov@fis.ru>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> By "renumbered", it means it squeezes out holes left by deletes. =A0The=20
> actual order does not change and thus does not affect a Sort.INDEXORDER=20
> sort.
>=20
> Documents are stored in the index in the order that they were indexed -=20
> nothing changes this order. =A0Document id's are not permanent if deletes=
=20
> occur followed by an optimize.

Thanks for clarification, Erik. Could you answer one more question: can I=20
control the assignment of document numbers during indexing? It would be ver=
y=20
handy for me to have categories of documents aligned on some boudaries, e.g=
=2E=20
category N numbers start on  N*10000. Obviously, there will be some holes i=
n=20
numeration with this scheme.

Maybe I should explain, why I'm asking.=20
I'm searching for documents, but for most (almost all) of them I don't real=
ly=20
care about their content. I only want to know a particular numeric field fr=
om=20
document (id of document's category).=20
I also need to know how many docs in category were found, so I can't index=
=20
categories instead of docs.=20
The result set can be pertty big (30K) and all must be handled in inner loo=
p.=20
So I wanna use HitCollector and assign intervals of ids to categories of=20
documents. Following this way, there's no need to actually retrieve documen=
t=20
in inner loop.=20

Am I on the right way?

Mood: wondering, why SQL GROUP BY works so fast.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12990-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 04 13:33:45 2005
Return-Path: <lucene-user-return-12990-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 251 invoked from network); 4 Feb 2005 13:33:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 4 Feb 2005 13:33:45 -0000
Received: (qmail 7664 invoked by uid 500); 4 Feb 2005 13:33:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 7634 invoked by uid 500); 4 Feb 2005 13:33:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7617 invoked by uid 99); 4 Feb 2005 13:33:37 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork2.mail.Virginia.EDU (HELO fork2.mail.virginia.edu) (128.143.2.192)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 04 Feb 2005 05:33:37 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork2.mail.virginia.edu (Postfix) with ESMTP id 2FCC81C066
	for <lucene-user@jakarta.apache.org>; Fri,  4 Feb 2005 08:33:35 -0500 (EST)
Received: from fork2.mail.virginia.edu ([127.0.0.1])
 by localhost (fork2.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 14006-07 for <lucene-user@jakarta.apache.org>;
 Fri,  4 Feb 2005 08:33:34 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by fork2.mail.virginia.edu (Postfix) with ESMTP id D809F1C065
	for <lucene-user@jakarta.apache.org>; Fri,  4 Feb 2005 08:33:34 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <200502041724.58819.skoptelov@fis.ru>
References: <200502041724.58819.skoptelov@fis.ru>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Message-Id: <e7241789226c04c0ec600060931ef862@ehatchersolutions.com>
Content-Transfer-Encoding: quoted-printable
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Document numbers and ids
Date: Fri, 4 Feb 2005 08:33:35 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-UVA-Virus-Scanned: by amavisd-new at fork2.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Feb 4, 2005, at 12:24 PM, Simeon Koptelov wrote:
>> By "renumbered", it means it squeezes out holes left by deletes. =A0The=

>> actual order does not change and thus does not affect a=20
>> Sort.INDEXORDER
>> sort.
>>
>> Documents are stored in the index in the order that they were indexed=20=

>> -
>> nothing changes this order. =A0Document id's are not permanent if=20
>> deletes
>> occur followed by an optimize.
>
> Thanks for clarification, Erik. Could you answer one more question:=20
> can I
> control the assignment of document numbers during indexing?

No, you cannot control Lucene's document id scheme - it is basically=20
"for internal use".

> Maybe I should explain, why I'm asking.
> I'm searching for documents, but for most (almost all) of them I don't=20=

> really
> care about their content. I only want to know a particular numeric=20
> field from
> document (id of document's category).
> I also need to know how many docs in category were found, so I can't=20=

> index
> categories instead of docs.
> The result set can be pertty big (30K) and all must be handled in=20
> inner loop.
> So I wanna use HitCollector and assign intervals of ids to categories=20=

> of
> documents. Following this way, there's no need to actually retrieve=20
> document
> in inner loop.
>
> Am I on the right way?

You should explore the use of IndexReader.  Index your documents with=20
category id field, and use the methods on IndexReader to find all=20
unique categories (TermEnum).

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12991-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 04 14:52:04 2005
Return-Path: <lucene-user-return-12991-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 52940 invoked from network); 4 Feb 2005 14:52:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 4 Feb 2005 14:52:04 -0000
Received: (qmail 26945 invoked by uid 500); 4 Feb 2005 14:51:47 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 26909 invoked by uid 500); 4 Feb 2005 14:51:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26878 invoked by uid 99); 4 Feb 2005 14:51:46 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 04 Feb 2005 06:51:45 -0800
Received: from p001002 ([204.225.84.27]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Fri, 4 Feb 2005 09:56:08 -0500
Message-ID: <024901c50ac9$a88e9cf0$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
	=?UTF-8?B?5byg55G+?= <prettykely@gmail.com>
References: <opslmq1ad46yt6e7@wtung-w2k01.amer.cisco.com> <4202590F.8080209@polopoly.com> <013201c50a1a$db152270$7703d00a@hypermedia.com> <8fa7a78e0502032312556841da@mail.gmail.com>
Subject: Re: Parsing The Query: Every document that doesn't have a field containing x
Date: Fri, 4 Feb 2005 09:56:08 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="UTF-8"
Content-Transfer-Encoding: 8bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 04 Feb 2005 14:56:08.0515 (UTC) FILETIME=[A8B64930:01C50AC9]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Very Nice. Thanks!

Luke

----- Original Message ----- 
From: "Âº†Áëæ" <prettykely@gmail.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Friday, February 04, 2005 2:12 AM
Subject: Re: Parsing The Query: Every document that doesn't have a field
containing x


I  think you may can use a filter to get right result!
See examlples below
package lia.advsearching;

import junit.framework.TestCase;
import org.apache.lucene.analysis.WhitespaceAnalyzer;
import org.apache.lucene.document.Document;
import org.apache.lucene.document.Field;
import org.apache.lucene.index.IndexWriter;
import org.apache.lucene.index.Term;
import org.apache.lucene.search.Hits;
import org.apache.lucene.search.IndexSearcher;
import org.apache.lucene.search.QueryFilter;
import org.apache.lucene.search.TermQuery;
import org.apache.lucene.store.RAMDirectory;

public class SecurityFilterTest extends TestCase {
  private RAMDirectory directory;

  protected void setUp() throws Exception {
    directory = new RAMDirectory();
    IndexWriter writer = new IndexWriter(directory,
        new WhitespaceAnalyzer(), true);

    // Elwood
    Document document = new Document();
    document.add(Field.Keyword("owner", "elwood"));
    document.add(Field.Text("keywords", "elwoods sensitive info"));
    writer.addDocument(document);

    // Jake
    document = new Document();
    document.add(Field.Keyword("owner", "jake"));
    document.add(Field.Text("keywords", "jakes sensitive info"));
    writer.addDocument(document);

    writer.close();
  }

  public void testSecurityFilter() throws Exception {
    TermQuery query = new TermQuery(new Term("keywords", "info"));

    IndexSearcher searcher = new IndexSearcher(directory);
    Hits hits = searcher.search(query);
    assertEquals("Both documents match", 2, hits.length());

    QueryFilter jakeFilter = new QueryFilter(
        new TermQuery(new Term("owner", "jake")));

    hits = searcher.search(query, jakeFilter);
    assertEquals(1, hits.length());
    assertEquals("elwood is safe",
        "jakes sensitive info", hits.doc(0).get("keywords"));
  }

}


On Thu, 3 Feb 2005 13:04:50 -0500, Luke Shannon
<lshannon@futurebrand.com> wrote:
> Hello;
>
> I have a query that finds document that contain fields with a specific
> value.
>
> query1 = QueryParser.parse("jpg", "kcfileupload", new StandardAnalyzer());
>
> This works well.
>
> I would like a query that find documents containing all kcfileupload
fields
> that don't contain jpg.
>
> The example I found in the book that seems to relate shows me how to find
> documents without a specific term:
>
> QueryParser parser = new QueryParser("contents", analyzer);
> parser.setOperator(QueryParser.DEFAULT_OPERATOR_AND);
>
> But than it says:
>
> Negating a term must be combined with at least one nonnegated term to
return
> documents; in other words, it isn't possible to use a query like NOT term
to
> find all documents that don't contain a term.
>
> So does that mean the above example wouldn't work?
>
> The API says:
>
>  a plus (+) or a minus (-) sign, indicating that the clause is required or
> prohibited respectively;
>
> I have been playing around with using the minus character without much
luck.
>
> Can someone give point me in the right direction to figure this out?
>
> Thanks,
>
> Luke
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


-- 
ÊÑø‰Ω†Âø´‰πêÊØè‰∏ÄÂ§©

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12992-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 04 15:17:03 2005
Return-Path: <lucene-user-return-12992-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 64830 invoked from network); 4 Feb 2005 15:17:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 4 Feb 2005 15:17:03 -0000
Received: (qmail 73881 invoked by uid 500); 4 Feb 2005 15:16:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 73849 invoked by uid 500); 4 Feb 2005 15:16:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 73832 invoked by uid 99); 4 Feb 2005 15:16:58 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from artishost.net (HELO artisangel.artishost.net) (69.56.132.178)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 04 Feb 2005 07:16:56 -0800
Received: from [81.25.38.57] (helo=localhost)
	by artisangel.artishost.net with esmtpa (Exim 4.43)
	id 1Cx5CV-0005hU-Ez
	for lucene-user@jakarta.apache.org; Fri, 04 Feb 2005 09:16:53 -0600
Date: Fri, 4 Feb 2005 16:42:20 +0200
From: Yura Smolsky <info@altervision.biz>
X-Mailer: The Bat! (v3.0.1.33) Professional
Reply-To: Yura Smolsky <info@altervision.biz>
Organization: AlterVision Web Development Group
X-Priority: 3 (Normal)
Message-ID: <18110294268.20050204164220@altervision.biz>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re[2]: Disk space used by optimize
In-Reply-To: <41FE69DA.40800@apache.org>
References:
 <AFAC9B2BF1A8BF4886F5C0FDE428E90E06B916C1@edumail2.education.tas.gov.au>
 <20050128014341.67717.qmail@web30209.mail.mud.yahoo.com>
 <1485505105.20050130123401@altervision.biz> <41FE69DA.40800@apache.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Spam-Score: 0.0
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - artisangel.artishost.net
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - altervision.biz
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello, Doug.

>> There is a big difference when you use compound index format or
>> multiple files. I have tested it on the big index (45 Gb). When I used
>> compound file then optimize takes 3 times more space, b/c *.cfs needs
>> to be unpacked.
>> 
>> Now I do use non compound file format. It needs like twice as much
>> disk space.
DC> Perhaps we should add something to the javadocs noting this?

Sure. I was a bit confused about optimizing compound file format b/c I
had not info about space usage when optimizing.
More info in the javadocs will save somebody's time :)


Yura Smolsky




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12993-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 04 15:37:05 2005
Return-Path: <lucene-user-return-12993-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 77098 invoked from network); 4 Feb 2005 15:37:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 4 Feb 2005 15:37:04 -0000
Received: (qmail 7451 invoked by uid 500); 4 Feb 2005 15:37:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 7050 invoked by uid 500); 4 Feb 2005 15:37:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7035 invoked by uid 99); 4 Feb 2005 15:37:00 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from rogue.ncsl.nist.gov (HELO rogue.ncsl.nist.gov) (129.6.101.41)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 04 Feb 2005 07:36:58 -0800
Received: from rogue.ncsl.nist.gov.nist.gov (localhost.localdomain [127.0.0.1])
	by rogue.ncsl.nist.gov (8.12.11/8.12.11) with ESMTP id j14Faubl014607
	for <lucene-user@jakarta.apache.org>; Fri, 4 Feb 2005 10:36:56 -0500
From: Ian Soboroff <ian.soboroff@nist.gov>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: which HTML parser is better?
References: <9cfhdktpepl.fsf@rogue.ncsl.nist.gov>
	<22373.1107512514@www20.gmx.net>
Date: Fri, 04 Feb 2005 10:36:56 -0500
In-Reply-To: <22373.1107512514@www20.gmx.net> (Karl Koch's message of "Fri, 4
	Feb 2005 11:21:54 +0100 (MET)")
Message-ID: <9cf6518l4kn.fsf@rogue.ncsl.nist.gov>
User-Agent: Gnus/5.110003 (No Gnus v0.3) Emacs/21.3 (gnu/linux)
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Oops.  It's in the Google cache and also the Internet Archive Wayback
machine.  I'll drop the original author a note to let him know that
his links are stale.

http://web.archive.org/web/20040208014740/http://www.ltg.ed.ac.uk/~richard/ftp-area/html-parser/

Ian

"Karl Koch" <TheRanger@gmx.net> writes:

> The link does not work.
>
>> 
>> One which we've been using can be found at:
>> http://www.ltg.ed.ac.uk/~richard/ftp-area/html-parser/
>> 
>> We absolutely need to be able to recover gracefully from malformed
>> HTML and/or SGML.  Most of the nicer SAX/DOM/TLA parsers out there
>> failed this criterion when we started our effort.  The above one is
>> kind of SAX-y but doesn't fall over at the sight of a real web page
>> ;-)



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12994-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 04 15:51:52 2005
Return-Path: <lucene-user-return-12994-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 85292 invoked from network); 4 Feb 2005 15:51:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 4 Feb 2005 15:51:52 -0000
Received: (qmail 26697 invoked by uid 500); 4 Feb 2005 15:51:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 26672 invoked by uid 500); 4 Feb 2005 15:51:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26658 invoked by uid 99); 4 Feb 2005 15:51:47 -0000
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FROM_ENDS_IN_NUMS,HTML_20_30,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web42008.mail.yahoo.com (HELO web42008.mail.yahoo.com) (66.218.93.176)
  by apache.org (qpsmtpd/0.28) with SMTP; Fri, 04 Feb 2005 07:51:45 -0800
Received: (qmail 1222 invoked by uid 60001); 4 Feb 2005 15:51:44 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=4dcCZI/DKm2+r50cKCM36pq6LpGdqFFvuCA/nhSj15iZNDe7RwGJY8kgaW0JVBNMn8tLhctja+BlYe2TavtY3q+RSdYIA5ke8IFvbJFC81RrtiZbDBQxXYK8CS3am0q9DH61Mf1zJSrlXjD2fM1aqt4P+oPsGyIHQjCAutwSRF8=  ;
Message-ID: <20050204155144.1220.qmail@web42008.mail.yahoo.com>
Received: from [219.64.157.41] by web42008.mail.yahoo.com via HTTP; Fri, 04 Feb 2005 07:51:44 PST
Date: Fri, 4 Feb 2005 07:51:44 -0800 (PST)
From: mahaveer jain <jainmahaveer23@yahoo.com>
Subject: RE: Getting Search Results Pharse
To: Lucene Users List <lucene-user@jakarta.apache.org>, fckdp@ok.ru
In-Reply-To: <auto-000109736200@frontend3.aha.ru>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1735521471-1107532304=:98550"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--0-1735521471-1107532304=:98550
Content-Type: text/plain; charset=us-ascii

Thanks Pasha for the link, but right now I am interested in KWIC and not highlighting part.. can you help we start of with KWIC.
 
Thanks

Pasha Bizhan <fckdp@ok.ru> wrote:
Hi, 

> From: mahaveer jain [mailto:jainmahaveer23@yahoo.com] 

> I am using lucene to index and search my app. Till date I am 
> just showing file name or title based on my application. We 
> want to show, pharse that contain the keyword searched. 
> Has anybody tried this ? Can someone help me start this ?

Look the Mark Harwood's Highlighter package :
http://cvs.apache.org/viewcvs.cgi/jakarta-lucene-sandbox/contributions/highl
ighter/

Pasha Bizhan
http://lucenedotnet.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


		
---------------------------------
Do you Yahoo!?
 Yahoo! Search presents - Jib Jab's 'Second Term'
--0-1735521471-1107532304=:98550--

From lucene-user-return-12995-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 04 16:06:39 2005
Return-Path: <lucene-user-return-12995-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 92231 invoked from network); 4 Feb 2005 16:06:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 4 Feb 2005 16:06:39 -0000
Received: (qmail 48101 invoked by uid 500); 4 Feb 2005 16:06:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 47881 invoked by uid 500); 4 Feb 2005 16:06:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 47731 invoked by uid 99); 4 Feb 2005 16:06:20 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from avas-mr01.fibertel.com.ar (HELO avas-mr01.fibertel.com.ar) (24.232.0.214)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 04 Feb 2005 08:06:18 -0800
Received: from OL152-184.fibertel.com.ar ([24.232.184.152]:23559 "EHLO
	[24.232.184.152]" smtp-auth: "edesantis") by avas-mr01.fibertel.com.ar
	with ESMTP id S557119AbVBDQGG; Fri, 4 Feb 2005 13:06:06 -0300
X-Comment: RFC 2476 MSA function at avas-mr01.fibertel.com.ar logged sender identity as: edesantis
Received: from 127.0.0.1 (AVG SMTP 7.0.300 [265.8.5]); Fri, 04 Feb 2005 13:10:27 -0300
Message-ID: <42039E71.40800@colaborativa.net>
Date:	Fri, 04 Feb 2005 13:10:26 -0300
From:	Ernesto De Santis <ernesto.desantis@colaborativa.net>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: es-ar, es, en-us, en
To:	Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Optimize not deleting all files
References: <1107480971.456899330.3867.sendItem@bloglines.com>
In-Reply-To: <1107480971.456899330.3867.sendItem@bloglines.com>
Mime-Version: 1.0
Content-Transfer-Encoding: 8bit
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
X-Fib-Al-Info: Al
X-Fib-Al-MRId: 9baad3a9651afbba4cf07ea07cbc8d63
X-Fib-Al-From: ernesto.desantis@colaborativa.net
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi all

We have the same problem.
We guess that the problem is that windows lock files.

Our enviroment:
Windows 2000
Tomcat 5.5.4

Ernesto.

yahootintin.1247688@bloglines.com escribiÛ:

>Hi,
>
>When I run an optimize in our production environment, old index are
>left in the directory and are not deleted.  
>
>My understanding is that an
>optimize will create new index files and all existing index files should be
>deleted.  Is this correct?
>
>We are running Lucene 1.4.2 on Windows.  
>
>
>Any help is appreciated.  Thanks!
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>  
>


-- 
No virus found in this outgoing message.
Checked by AVG Anti-Virus.
Version: 7.0.300 / Virus Database: 265.8.5 - Release Date: 03/02/2005


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12996-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 04 16:15:00 2005
Return-Path: <lucene-user-return-12996-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 96275 invoked from network); 4 Feb 2005 16:15:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 4 Feb 2005 16:15:00 -0000
Received: (qmail 59715 invoked by uid 500); 4 Feb 2005 16:14:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 59691 invoked by uid 500); 4 Feb 2005 16:14:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 59677 invoked by uid 99); 4 Feb 2005 16:14:57 -0000
X-ASF-Spam-Status: No, hits=1.8 required=10.0
	tests=RCVD_IN_BL_SPAMCOP_NET
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from avas-mr04.fibertel.com.ar (HELO avas-mr04.fibertel.com.ar) (24.232.0.217)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 04 Feb 2005 08:14:55 -0800
Received: from OL152-184.fibertel.com.ar ([24.232.184.152]:35847 "EHLO
	[24.232.184.152]" smtp-auth: "edesantis") by avas-mr04.fibertel.com.ar
	with ESMTP id S147556AbVBDQOi; Fri, 4 Feb 2005 13:14:38 -0300
X-Comment: RFC 2476 MSA function at avas-mr04.fibertel.com.ar logged sender identity as: edesantis
Received: from 127.0.0.1 (AVG SMTP 7.0.300 [265.8.5]); Fri, 04 Feb 2005 13:19:11 -0300
Message-ID: <4203A07F.4000000@colaborativa.net>
Date:	Fri, 04 Feb 2005 13:19:11 -0300
From:	Ernesto De Santis <ernesto.desantis@colaborativa.net>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: es-ar, es, en-us, en
To:	Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Disk space used by optimize - non space in disk corrupts index.
References: <AFAC9B2BF1A8BF4886F5C0FDE428E90E06B916C1@edumail2.education.tas.gov.au> <20050128014341.67717.qmail@web30209.mail.mud.yahoo.com> <1485505105.20050130123401@altervision.biz>
In-Reply-To: <1485505105.20050130123401@altervision.biz>
Mime-Version: 1.0
Content-Transfer-Encoding: 8bit
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
X-Fib-Al-Info: Al
X-Fib-Al-MRId: 8acfa18d5e976f4a4d9a03ba24d45f13
X-Fib-Al-From: ernesto.desantis@colaborativa.net
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi all

We have a big index and a little space in disk.
When optimize and all space is consumed, our index is corrupted.
segments file point to nonexistent files.

Enviroment:
java 1.4.2_04
W2000 SP4
Tomat 5.5.4

Bye,
Ernesto.


Yura Smolsky escribiÛ:

>Hello, Otis.
>
>There is a big difference when you use compound index format or
>multiple files. I have tested it on the big index (45 Gb). When I used
>compound file then optimize takes 3 times more space, b/c *.cfs needs
>to be unpacked.
>
>Now I do use non compound file format. It needs like twice as much
>disk space.
>
>OG> Have you tried using the multifile index format?  Now I wonder if there
>OG> is actually a difference in disk space cosumed by optimize() when you
>OG> use multifile and compound index format...
>
>OG> Otis
>
>OG> --- "Kauler, Leto S" <leto.kauler@education.tas.gov.au> wrote:
>
>  
>
>>>Our copy of LIA is "in the mail" ;)
>>>
>>>Yes the final three files are: the .cfs (46.8MB), deletable (4
>>>bytes),
>>>and segments (29 bytes).
>>>
>>>--Leto
>>>
>>>
>>>
>>>      
>>>
>>>>-----Original Message-----
>>>>From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com] 
>>>>
>>>>Hello,
>>>>
>>>>Yes, that is how optimize works - copies all existing index 
>>>>segments into one unified index segment, thus optimizing it.
>>>>
>>>>see hit #1:
>>>>        
>>>>
>>>http://www.lucenebook.com/search?query=optimize+disk+space
>>>      
>>>
>>>>However, three times the space sounds a bit too much, or I 
>>>>make a mistake in the book. :)
>>>>
>>>>You said you end up with 3 files - .cfs is one of them, right?
>>>>
>>>>Otis
>>>>
>>>>
>>>>--- "Kauler, Leto S" <leto.kauler@education.tas.gov.au> wrote:
>>>>
>>>>        
>>>>
>>>>>Just a quick question:  after writing an index and then calling
>>>>>optimize(), is it normal for the index to expand to about 
>>>>>          
>>>>>
>>>>three times 
>>>>        
>>>>
>>>>>the size before finally compressing?
>>>>>
>>>>>In our case the optimise grinds the disk, expanding the index
>>>>>          
>>>>>
>>>into 
>>>      
>>>
>>>>>many files of about 145MB total, before compressing down to three
>>>>>          
>>>>>
>>>>>files of about 47MB total.  That must be a lot of disk activity
>>>>>          
>>>>>
>>>for 
>>>      
>>>
>>>>>the people with multi-gigabyte indexes!
>>>>>
>>>>>Regards,
>>>>>Leto
>>>>>          
>>>>>
>>>CONFIDENTIALITY NOTICE AND DISCLAIMER
>>>
>>>Information in this transmission is intended only for the person(s)
>>>to whom it is addressed and may contain privileged and/or
>>>confidential information. If you are not the intended recipient, any
>>>disclosure, copying or dissemination of the information is
>>>unauthorised and you should delete/destroy all copies and notify the
>>>sender. No liability is accepted for any unauthorised use of the
>>>information contained in this transmission.
>>>
>>>This disclaimer has been automatically added.
>>>
>>>---------------------------------------------------------------------
>>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>>For additional commands, e-mail:
>>>lucene-user-help@jakarta.apache.org
>>>
>>>
>>>      
>>>
>
>
>OG> ---------------------------------------------------------------------
>OG> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>OG> For additional commands, e-mail:
>OG> lucene-user-help@jakarta.apache.org
>
>
>Yura Smolsky,
>
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>  
>


-- 
No virus found in this outgoing message.
Checked by AVG Anti-Virus.
Version: 7.0.300 / Virus Database: 265.8.5 - Release Date: 03/02/2005


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12997-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 04 16:17:17 2005
Return-Path: <lucene-user-return-12997-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 97562 invoked from network); 4 Feb 2005 16:17:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 4 Feb 2005 16:17:16 -0000
Received: (qmail 63134 invoked by uid 500); 4 Feb 2005 16:17:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 63115 invoked by uid 500); 4 Feb 2005 16:17:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 63102 invoked by uid 99); 4 Feb 2005 16:17:12 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of fckdp@ok.ru designates 195.2.83.226 as permitted sender)
Received: from mail3.zmail.ru (HELO aha.ru) (195.2.83.226)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 04 Feb 2005 08:17:10 -0800
Received: from [195.98.167.2] (account fckdp@ok.ru HELO pb)
  by frontend3.aha.ru (CommuniGate Pro SMTP 4.2.8)
  with ESMTP id 110359364 for lucene-user@jakarta.apache.org; Fri, 04 Feb 2005 19:17:07 +0300
Reply-To: <fckdp@ok.ru>
From: "Pasha Bizhan" <fckdp@ok.ru>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Getting Search Results Pharse
Date: Fri, 4 Feb 2005 19:21:21 +0300
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
Thread-Index: AcUK0W/LzX6ErkLKSmGjlhZFhpJlrwAA3dLg
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
In-Reply-To: <20050204155144.1220.qmail@web42008.mail.yahoo.com>
Message-ID: <auto-000110359364@frontend3.aha.ru>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

> From: mahaveer jain [mailto:jainmahaveer23@yahoo.com] 
> 
> Thanks Pasha for the link, but right now I am interested in 
> KWIC and not highlighting part.. can you help we start of with KWIC.

KWIC mean "Keyword In Context"?  If yes, then the Highlighter package do it.
See the highlighter's sample.

Pasha Bizhan
http://lucenedotnet.com

  
> Pasha Bizhan <fckdp@ok.ru> wrote:
> Hi, 
> 
> > From: mahaveer jain [mailto:jainmahaveer23@yahoo.com]
> 
> > I am using lucene to index and search my app. Till date I am just 
> > showing file name or title based on my application. We want 
> to show, 
> > pharse that contain the keyword searched.
> > Has anybody tried this ? Can someone help me start this ?
> 
> Look the Mark Harwood's Highlighter package :
> http://cvs.apache.org/viewcvs.cgi/jakarta-lucene-sandbox/contr
> ibutions/highl
> ighter/
> 
> Pasha Bizhan
> http://lucenedotnet.com
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> 		
> ---------------------------------
> Do you Yahoo!?
>  Yahoo! Search presents - Jib Jab's 'Second Term'
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12998-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 04 16:19:33 2005
Return-Path: <lucene-user-return-12998-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 98620 invoked from network); 4 Feb 2005 16:19:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 4 Feb 2005 16:19:33 -0000
Received: (qmail 65476 invoked by uid 500); 4 Feb 2005 16:19:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 65449 invoked by uid 500); 4 Feb 2005 16:19:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 65435 invoked by uid 99); 4 Feb 2005 16:19:30 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from ylpvm43-ext.prodigy.net (HELO ylpvm43.prodigy.net) (207.115.57.74)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 04 Feb 2005 08:19:29 -0800
Received: from [192.168.1.10] (adsl-66-143-170-241.dsl.austtx.swbell.net [66.143.170.241])
	by ylpvm43.prodigy.net (8.12.10 outbound/8.12.10) with ESMTP id j14GJd2Y026235
	for <lucene-user@jakarta.apache.org>; Fri, 4 Feb 2005 11:19:39 -0500
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <200502032104.46032.paul.elschot@xs4all.nl>
References: <cb06805dad63076372783f460385d654@otherwise.com> <200502032104.46032.paul.elschot@xs4all.nl>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <17786330dc86b97c0eadfe5c5e0554e0@otherwise.com>
Content-Transfer-Encoding: 7bit
From: Bill Tschumy <bill@otherwise.com>
Subject: Re: Searching for doc without a field
Date: Fri, 4 Feb 2005 10:19:23 -0600
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Feb 3, 2005, at 2:04 PM, Paul Elschot wrote:

> On Thursday 03 February 2005 20:18, Bill Tschumy wrote:
>> Is there any way to construct a query to locate all documents without 
>> a
>> specific field?  By this I mean the Document was created without ever
>> having that field added to it.
>
> One way is to add an extra document field containing the field
> names of all (other) indexed fields in the document.
> Assuming there is always a primary key field the query is then:
>
> +fieldnames:primarykeyfield -fieldnames:specificfield
>
> Regards,
> Paul Elschot

Paul,

Thanks for the suggestion, but I need to do this on an existing 
database as it is.

It just occurred to me that I should try a query on the field with a 
value of NULL.  Don't know if that will work or not.

-- 
Bill Tschumy
Otherwise -- Austin, TX
http://www.otherwise.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-12999-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 04 16:29:15 2005
Return-Path: <lucene-user-return-12999-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 3915 invoked from network); 4 Feb 2005 16:29:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 4 Feb 2005 16:29:14 -0000
Received: (qmail 83580 invoked by uid 500); 4 Feb 2005 16:29:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 83542 invoked by uid 500); 4 Feb 2005 16:29:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 83468 invoked by uid 99); 4 Feb 2005 16:29:10 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from ylpvm29-ext.prodigy.net (HELO ylpvm29.prodigy.net) (207.115.57.60)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 04 Feb 2005 08:29:10 -0800
Received: from [192.168.1.10] (adsl-66-143-170-241.dsl.austtx.swbell.net [66.143.170.241])
	by ylpvm29.prodigy.net (8.12.10 outbound/8.12.10) with ESMTP id j14GSsh2007475
	for <lucene-user@jakarta.apache.org>; Fri, 4 Feb 2005 11:28:55 -0500
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <17786330dc86b97c0eadfe5c5e0554e0@otherwise.com>
References: <cb06805dad63076372783f460385d654@otherwise.com> <200502032104.46032.paul.elschot@xs4all.nl> <17786330dc86b97c0eadfe5c5e0554e0@otherwise.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <0036435c21ffa029df9cb7f63144bc09@otherwise.com>
Content-Transfer-Encoding: 7bit
From: Bill Tschumy <bill@otherwise.com>
Subject: Re: Searching for doc without a field
Date: Fri, 4 Feb 2005 10:29:05 -0600
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Feb 4, 2005, at 10:19 AM, Bill Tschumy wrote:

>
> On Feb 3, 2005, at 2:04 PM, Paul Elschot wrote:
>
>> On Thursday 03 February 2005 20:18, Bill Tschumy wrote:
>>> Is there any way to construct a query to locate all documents 
>>> without a
>>> specific field?  By this I mean the Document was created without ever
>>> having that field added to it.
>>
>> One way is to add an extra document field containing the field
>> names of all (other) indexed fields in the document.
>> Assuming there is always a primary key field the query is then:
>>
>> +fieldnames:primarykeyfield -fieldnames:specificfield
>>
>> Regards,
>> Paul Elschot
>
> Paul,
>
> Thanks for the suggestion, but I need to do this on an existing 
> database as it is.
>
> It just occurred to me that I should try a query on the field with a 
> value of NULL.  Don't know if that will work or not.

Nope, using null as a search value just result in a 
NullPointerException.

-- 
Bill Tschumy
Otherwise -- Austin, TX
http://www.otherwise.com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13000-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 04 16:53:11 2005
Return-Path: <lucene-user-return-13000-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 14984 invoked from network); 4 Feb 2005 16:53:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 4 Feb 2005 16:53:11 -0000
Received: (qmail 16884 invoked by uid 500); 4 Feb 2005 16:53:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 16859 invoked by uid 500); 4 Feb 2005 16:53:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16846 invoked by uid 99); 4 Feb 2005 16:53:06 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from p15112568.pureserver.info (HELO p15112568.pureserver.info) (217.160.91.29)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 04 Feb 2005 08:53:05 -0800
Received: from [192.168.10.103] (ppp-62-245-211-164.mnet-online.de [62.245.211.164])
	(using TLSv1 with cipher RC4-MD5 (128/128 bits))
	(No client certificate requested)
	by p15112568.pureserver.info (Postfix) with ESMTP id 3BC1E14010F
	for <lucene-user@jakarta.apache.org>; Fri,  4 Feb 2005 17:53:02 +0100 (CET)
Message-ID: <4203A865.2050001@intrafind.de>
Date: Fri, 04 Feb 2005 17:52:53 +0100
From: Bernhard Messer <bernhard.messer@intrafind.de>
Organization: IntraFind Software AG
User-Agent: Mozilla Thunderbird 0.8 (X11/20040913)
X-Accept-Language: de-DE, de, en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Disk space used by optimize
References: <20050127235250.11133.qmail@web30202.mail.mud.yahoo.com>
In-Reply-To: <20050127235250.11133.qmail@web30202.mail.mud.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


>However, three times the space sounds a bit too much, or I make a
>mistake in the book. :)
>  
>
there already was  a discussion about disk usage during index optimize. 
Please have a look to the developers list at: 
http://mail-archives.apache.org/eyebrowse/ReadMsg?listName=lucene-dev@jakarta.apache.org&msgId=1797569 
<http://mail-archives.apache.org/eyebrowse/ReadMsg?listName=lucene-dev@jakarta.apache.org&msgId=1797569>
where i made some measurements about the disk usage within lucene.
At that time i proposed a patch which was reducing disk total used disk 
size from 3 times to a little more than 2 times of the final index size. 
Together with Christoph we implemented some improvements to the 
optimization patch and finally commit the changes.

Bernhard

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13001-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 04 16:55:33 2005
Return-Path: <lucene-user-return-13001-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 16030 invoked from network); 4 Feb 2005 16:55:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 4 Feb 2005 16:55:33 -0000
Received: (qmail 20210 invoked by uid 500); 4 Feb 2005 16:55:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 20168 invoked by uid 500); 4 Feb 2005 16:55:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20155 invoked by uid 99); 4 Feb 2005 16:55:28 -0000
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web30201.mail.mud.yahoo.com (HELO web30201.mail.mud.yahoo.com) (68.142.200.84)
  by apache.org (qpsmtpd/0.28) with SMTP; Fri, 04 Feb 2005 08:55:27 -0800
Received: (qmail 23045 invoked by uid 60001); 4 Feb 2005 16:55:25 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=ZhWCbDf+9bdAQlcLcTQ7DzEHg2YWNmjF+4cBSERMn76KBexno609sU2zT8lMsFt3ecB80JpCh9qdHRGa0TO0n/PGfm1K49L906yFw9vo3VoHjdTEixOSkjYWVIqOcLLQLtv6jSCc5kSAJKsS6bonWE8ubrRizFZQ6QDtSBCNI44=  ;
Message-ID: <20050204165525.23042.qmail@web30201.mail.mud.yahoo.com>
Received: from [216.194.17.194] by web30201.mail.mud.yahoo.com via HTTP; Fri, 04 Feb 2005 08:55:24 PST
Date: Fri, 4 Feb 2005 08:55:24 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Optimize not deleting all files
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <1107480971.456899330.3867.sendItem@bloglines.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Get and try Lucene 1.4.3.  One of the older versions had a bug that was
not deleting old index files.

Otis

--- yahootintin.1247688@bloglines.com wrote:

> Hi,
> 
> When I run an optimize in our production environment, old index are
> left in the directory and are not deleted.  
> 
> My understanding is that an
> optimize will create new index files and all existing index files
> should be
> deleted.  Is this correct?
> 
> We are running Lucene 1.4.2 on Windows.  
> 
> 
> Any help is appreciated.  Thanks!
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13002-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 04 16:58:34 2005
Return-Path: <lucene-user-return-13002-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 17504 invoked from network); 4 Feb 2005 16:58:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 4 Feb 2005 16:58:34 -0000
Received: (qmail 26510 invoked by uid 500); 4 Feb 2005 16:58:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 26486 invoked by uid 500); 4 Feb 2005 16:58:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26472 invoked by uid 99); 4 Feb 2005 16:58:29 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from rogue.ncsl.nist.gov (HELO rogue.ncsl.nist.gov) (129.6.101.41)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 04 Feb 2005 08:58:27 -0800
Received: from rogue.ncsl.nist.gov.nist.gov (localhost.localdomain [127.0.0.1])
	by rogue.ncsl.nist.gov (8.12.11/8.12.11) with ESMTP id j14GwOLw015647
	for <lucene-user@jakarta.apache.org>; Fri, 4 Feb 2005 11:58:24 -0500
From: Ian Soboroff <ian.soboroff@nist.gov>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Reconstruct segments file?
Date: Fri, 04 Feb 2005 11:58:24 -0500
Message-ID: <9cf6518jm8f.fsf@rogue.ncsl.nist.gov>
User-Agent: Gnus/5.110003 (No Gnus v0.3) Emacs/21.3 (gnu/linux)
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Idiot question.  I've managed to blow away the "segments" file.  This
is an optimized index, so there's only one segment.  Is there an easy
way to reconstruct the segments file?

I've looked over the file formats web page, and poked at a known-good
segments file from a separate, similar index using od(1) and such.  I
guess what I'm not sure how to do is to recover the SegSize from the
segment I have.

Ian



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13003-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 04 17:26:08 2005
Return-Path: <lucene-user-return-13003-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 30620 invoked from network); 4 Feb 2005 17:26:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 4 Feb 2005 17:26:08 -0000
Received: (qmail 75109 invoked by uid 500); 4 Feb 2005 17:26:03 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 75079 invoked by uid 500); 4 Feb 2005 17:26:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 75064 invoked by uid 99); 4 Feb 2005 17:26:03 -0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=FROM_ENDS_IN_NUMS,NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from w08.bloglines.com (HELO w08.bloglines.com) (216.148.252.99)
  by apache.org (qpsmtpd/0.28) with SMTP; Fri, 04 Feb 2005 09:26:01 -0800
Received: (qmail 1166 invoked by uid 99); 4 Feb 2005 17:26:00 -0000
Message-ID: <1107537960.224751589.1158.sendItem@bloglines.com>
Date: 4 Feb 2005 17:26:00 -0000
From: yahootintin.1247688@bloglines.com
To: lucene-user@jakarta.apache.org
Subject: Re: Optimize not deleting all files
MIME-Version: 1.0
Content-Type: text/plain
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Ernestor, what version of Lucene are you running?

--- Lucene Users List"
<lucene-user@jakarta.apache.org wrote:
Hi all
> 
> We have the same problem.

> We guess that the problem is that windows lock files.
> 
> Our enviroment:

> Windows 2000
> Tomcat 5.5.4
> 
> Ernesto.
> 
> yahootintin.1247688@bloglines.com
escribiÛ∫äæ 
> >Hi,
> >
> >When I run an optimize in our production environment,
old index are
> >left in the directory and are not deleted.  
> >
> >My
understanding is that an
> >optimize will create new index files and all
existing index files should be
> >deleted.  Is this correct?
> >
> >We
are running Lucene 1.4.2 on Windows.  
> >
> >
> >Any help is appreciated.
 Thanks!
> >
> >---------------------------------------------------------------------

> >To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >

> >
> >
> >  
> >
> 
> 
> -- 
> No virus found in this outgoing message.

> Checked by AVG Anti-Virus.
> Version: 7.0.300 / Virus Database: 265.8.5
- Release Date: 03/02/2005
> 
> 
> ---------------------------------------------------------------------

> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For
additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13004-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 04 18:32:36 2005
Return-Path: <lucene-user-return-13004-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 59956 invoked from network); 4 Feb 2005 18:32:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 4 Feb 2005 18:32:36 -0000
Received: (qmail 99938 invoked by uid 500); 4 Feb 2005 18:32:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 99897 invoked by uid 500); 4 Feb 2005 18:32:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 99883 invoked by uid 99); 4 Feb 2005 18:32:30 -0000
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_POST,FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from host48.advance.com.ar (HELO infomail2.infovia.com.ar) (200.51.80.48)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 04 Feb 2005 10:32:29 -0800
Received: from [192.168.0.190] ([127.0.0.1]) by tdimso48.backend.tdata.com.ar
 (Sun Java System Messaging Server 6.1 HotFix 0.02 (built Aug 25 2004))
 with ESMTPA id <0IBE005PAI829470@tdimso48.backend.tdata.com.ar> for
 lucene-user@jakarta.apache.org; Fri, 04 Feb 2005 16:02:28 -0300 (ART)
Date: Fri, 04 Feb 2005 15:32:47 -0300
From: Patricio Keilty <patriciokeilty@infovia.com.ar>
Subject: Re: Optimize not deleting all files
In-reply-to: <1107537960.224751589.1158.sendItem@bloglines.com>
Sender: patriciokeilty@infovia.com.ar
To: Lucene Users List <lucene-user@jakarta.apache.org>
Reply-to: patriciokeilty@computer.org
Message-id: <4203BFCF.3010409@infovia.com.ar>
MIME-version: 1.0
Content-type: text/plain; charset=windows-1252; format=flowed
Content-transfer-encoding: 8BIT
X-Accept-Language: en-us, en
X-imss-version: 2.019
X-imss-result: Passed
X-imss-scores: Clean:81.81424 C:2 M:3 S:5 R:5
X-imss-settings: Baseline:2 C:2 M:3 S:3 R:3 (0.1500 0.1500)
References: <1107537960.224751589.1158.sendItem@bloglines.com>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi all, i¥ll answer on behalf of Ernesto, our environment is:

Lucene 1.4.2
Tomcat 5.5.4
java 1.4.2_04
Windows 2000 SP4

--p

yahootintin.1247688@bloglines.com wrote:

>Ernestor, what version of Lucene are you running?
>
>--- Lucene Users List"
><lucene-user@jakarta.apache.org wrote:
>Hi all
>
>>We have the same problem.
>>
>
>>We guess that the problem is that windows lock files.
>>
>>Our enviroment:
>>
>
>>Windows 2000
>>Tomcat 5.5.4
>>
>>Ernesto.
>>
>>yahootintin.1247688@bloglines.com
>>
>escribiÛ∫äæ 
>
>>>Hi,
>>>
>>>When I run an optimize in our production environment,
>>>
>old index are
>
>>>left in the directory and are not deleted.  
>>>
>>>My
>>>
>understanding is that an
>
>>>optimize will create new index files and all
>>>
>existing index files should be
>
>>>deleted.  Is this correct?
>>>
>>>We
>>>
>are running Lucene 1.4.2 on Windows.  
>
>>>
>>>Any help is appreciated.
>>>
> Thanks!
>
>>>---------------------------------------------------------------------
>>>
>
>>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>>
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>
>>>
>>> 
>>>
>>>
>>
>>-- 
>>No virus found in this outgoing message.
>>
>
>>Checked by AVG Anti-Virus.
>>Version: 7.0.300 / Virus Database: 265.8.5
>>
>- Release Date: 03/02/2005
>
>>
>>---------------------------------------------------------------------
>>
>
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For
>>
>additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13005-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 04 19:25:45 2005
Return-Path: <lucene-user-return-13005-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 1137 invoked from network); 4 Feb 2005 19:25:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 4 Feb 2005 19:25:44 -0000
Received: (qmail 73565 invoked by uid 500); 4 Feb 2005 19:25:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 73521 invoked by uid 500); 4 Feb 2005 19:25:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 73457 invoked by uid 99); 4 Feb 2005 19:25:34 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from rwcrmhc11.comcast.net (HELO rwcrmhc11.comcast.net) (204.127.198.35)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 04 Feb 2005 11:25:33 -0800
Received: from [192.168.168.81] (c-24-5-160-217.client.comcast.net[24.5.160.217])
          by comcast.net (rwcrmhc11) with ESMTP
          id <2005020419253001300kdd4pe>; Fri, 4 Feb 2005 19:25:30 +0000
Message-ID: <4203CC2A.6050209@apache.org>
Date: Fri, 04 Feb 2005 11:25:30 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 0.9 (X11/20041127)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Reconstruct segments file?
References: <9cf6518jm8f.fsf@rogue.ncsl.nist.gov>
In-Reply-To: <9cf6518jm8f.fsf@rogue.ncsl.nist.gov>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Ian Soboroff wrote:
> I've looked over the file formats web page, and poked at a known-good
> segments file from a separate, similar index using od(1) and such.  I
> guess what I'm not sure how to do is to recover the SegSize from the
> segment I have.

The SegSize should be the same as the length in bytes of any of the 
.f[0-9]+ files in the segment.  If your segment is in compound format 
then you can use IndexReader.main() in the current SVN version to list 
the files and sizes in the .cfs file, including its contained .f[0-9]+ 
files.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13006-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 04 20:04:00 2005
Return-Path: <lucene-user-return-13006-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 23262 invoked from network); 4 Feb 2005 20:04:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 4 Feb 2005 20:04:00 -0000
Received: (qmail 30206 invoked by uid 500); 4 Feb 2005 20:03:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 30186 invoked by uid 500); 4 Feb 2005 20:03:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 30173 invoked by uid 99); 4 Feb 2005 20:03:55 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu) (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 04 Feb 2005 12:03:53 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 3FEE35B79D; Fri,  4 Feb 2005 12:03:49 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 37ED17F45C
	for <lucene-user@jakarta.apache.org>; Fri,  4 Feb 2005 12:03:49 -0800 (PST)
Date: Fri, 4 Feb 2005 12:03:49 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Parsing The Query: Every document that doesn't have a field
 containing x
In-Reply-To: <200523195136.063886@Kelvin>
Message-ID: <Pine.LNX.4.58.0502041154280.8893@hal.rescomp.berkeley.edu>
References: <200523195136.063886@Kelvin>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=iso-8859-1
Content-Transfer-Encoding: QUOTED-PRINTABLE
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Another approach...

You can make a Filter that is the inverse of the output from another
filter, which means you can make a QueryFilter on the search, then wrap it
in your inverse Filter.

you can't execute a query on a filter without having a Query object, but
you can just apply the Filter directly to an IndexReader yourself, and get
back a BitSet containing the docIds of everydocument that does not contain
your term.

something like this should work...

   class NotFilter extends Filter {
      private Filter wraped;
      public NotFilter(Filter w) {
        wraped =3D w;
      }
      public BitSet bits(IndexReader r) {
        BitSet b =3D wraped.bits(r);
        b.flip(0,b.size());
        return b;
      }
   }
   ...
   BitSet results =3D (new NotFilter
                     (new QueryFilter
                      (new TermQuery(new Term("f","x"))))).bits(reader);




: Date: Thu, 3 Feb 2005 19:51:36 +0100
: From: Kelvin Tan <kelvin-lists@relevanz.com>
: Reply-To: Lucene Users List <lucene-user@jakarta.apache.org>
: To: Lucene Users List <lucene-user@jakarta.apache.org>
: Subject: Re: Parsing The Query: Every document that doesn't have a field
:     containing x
:
: Alternatively, add a dummy field-value to all documents, like doc.add(Fie=
ld.Keyword("foo", "bar"))
:
: Waste of space, but allows you to perform negated queries.
:
: On Thu, 03 Feb 2005 19:19:15 +0100, Maik Schreiber wrote:
: >>=A0Negating a term must be combined with at least one nonnegated
: >>=A0term to return documents; in other words, it isn't possible to
: >>=A0use a query like NOT term to find all documents that don't
: >>=A0contain a term.
: >>
: >>=A0So does that mean the above example wouldn't work?
: >>
: >=A0Exactly. You cannot search for "-kcfileupload:jpg", you need at
: >=A0least one clause that actually _includes_ documents.
: >
: >=A0Do you by chance have a field with known contents? If so, you could
: >=A0misuse that one and include it in your query (perhaps by doing
: >=A0range or wildcard/prefix search). If not, try IndexReader.terms()
: >=A0for building a Query yourself, then use that one for search.
:
:
:
: ---------------------------------------------------------------------
: To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
: For additional commands, e-mail: lucene-user-help@jakarta.apache.org
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13007-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 04 20:29:12 2005
Return-Path: <lucene-user-return-13007-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 49803 invoked from network); 4 Feb 2005 20:29:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 4 Feb 2005 20:29:12 -0000
Received: (qmail 62383 invoked by uid 500); 4 Feb 2005 20:29:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 62362 invoked by uid 500); 4 Feb 2005 20:29:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 62349 invoked by uid 99); 4 Feb 2005 20:29:08 -0000
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_POST,FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from host48.advance.com.ar (HELO infomail2.infovia.com.ar) (200.51.80.48)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 04 Feb 2005 12:29:06 -0800
Received: from [192.168.0.190] ([127.0.0.1]) by tdimso48.backend.tdata.com.ar
 (Sun Java System Messaging Server 6.1 HotFix 0.02 (built Aug 25 2004))
 with ESMTPA id <0IBE005NSNMB91B0@tdimso48.backend.tdata.com.ar> for
 lucene-user@jakarta.apache.org; Fri, 04 Feb 2005 17:59:05 -0300 (ART)
Date: Fri, 04 Feb 2005 17:29:12 -0300
From: Patricio Keilty <patriciokeilty@infovia.com.ar>
Subject: Re: Optimize not deleting all files
In-reply-to: <20050204165525.23042.qmail@web30201.mail.mud.yahoo.com>
Sender: patriciokeilty@infovia.com.ar
To: Lucene Users List <lucene-user@jakarta.apache.org>
Reply-to: patriciokeilty@computer.org
Message-id: <4203DB18.8030703@infovia.com.ar>
MIME-version: 1.0
Content-type: text/plain; charset=ISO-8859-1; format=flowed
Content-transfer-encoding: 7BIT
X-Accept-Language: en-us, en
X-imss-version: 2.019
X-imss-result: Passed
X-imss-scores: Clean:99.90000 C:2 M:3 S:5 R:5
X-imss-settings: Baseline:2 C:2 M:3 S:3 R:3 (0.1500 0.1500)
References: <20050204165525.23042.qmail@web30201.mail.mud.yahoo.com>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Otis, tried version 1.4.3 without success, old index files still 
remain in the directory.
Also tried not calling optimize(), and still getting the same behaviour, 
maybe our problem is not related to optimize() call at all.

--p

Otis Gospodnetic wrote:

>Get and try Lucene 1.4.3.  One of the older versions had a bug that was
>not deleting old index files.
>
>Otis
>
>--- yahootintin.1247688@bloglines.com wrote:
>
>
>>Hi,
>>
>>When I run an optimize in our production environment, old index are
>>left in the directory and are not deleted.  
>>
>>My understanding is that an
>>optimize will create new index files and all existing index files
>>should be
>>deleted.  Is this correct?
>>
>>We are running Lucene 1.4.2 on Windows.  
>>
>>
>>Any help is appreciated.  Thanks!
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13008-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 04 20:34:16 2005
Return-Path: <lucene-user-return-13008-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 53145 invoked from network); 4 Feb 2005 20:34:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 4 Feb 2005 20:34:16 -0000
Received: (qmail 75028 invoked by uid 500); 4 Feb 2005 20:34:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 75009 invoked by uid 500); 4 Feb 2005 20:34:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 74996 invoked by uid 99); 4 Feb 2005 20:34:11 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 04 Feb 2005 12:34:09 -0800
Received: from p001002 ([204.225.84.27]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Fri, 4 Feb 2005 15:38:33 -0500
Message-ID: <036d01c50af9$7e7a5cd0$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <opslmq1ad46yt6e7@wtung-w2k01.amer.cisco.com> <4202590F.8080209@polopoly.com> <013201c50a1a$db152270$7703d00a@hypermedia.com> <8fa7a78e0502032312556841da@mail.gmail.com>
Subject: Re: Parsing The Query: Every document that doesn't have a field containing x
Date: Fri, 4 Feb 2005 15:38:33 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="UTF-8"
Content-Transfer-Encoding: 8bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 04 Feb 2005 20:38:33.0675 (UTC) FILETIME=[7E94E9B0:01C50AF9]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks for everyone who has been posting possible solutions. I am making
great progress and learning a lot.

This works, but the results include files that don't even contain a
"kcfileupload" field (not good):

query1 = QueryParser.parse("jpg", "kcfileupload", new StandardAnalyzer());
query2 = QueryParser.parse("stillhere", "olfaithfull", new
StandardAnalyzer());
BooleanQuery typeNegativeSearch = new BooleanQuery();
typeNegativeSearch.add(query1, false, true);
typeNegativeSearch.add(query2, true, false);

Someone meantioned a filter. So I have been playing with the test below.

The problem I have is this line:

Query query2 = QueryParser.parse("*", "kcfileupload", new
StandardAnalyzer());

Results in the following error:

org.apache.lucene.queryParser.ParseException: Lexical error at line 1,
column 2.  Encountered: <EOF> after : ""

I was hoping it would create a wild card search on kcfileupload. I feel like
I am getting close to a good solution. Any tips would help.

Thanks,

Luke

import junit.framework.TestCase;

import org.apache.lucene.analysis.standard.StandardAnalyzer;
import org.apache.lucene.document.Document;
import org.apache.lucene.document.Field;
import org.apache.lucene.index.IndexWriter;
import org.apache.lucene.index.Term;
import org.apache.lucene.queryParser.QueryParser;
import org.apache.lucene.search.Hits;
import org.apache.lucene.search.IndexSearcher;
import org.apache.lucene.search.Query;
import org.apache.lucene.search.QueryFilter;
import org.apache.lucene.search.TermQuery;
import org.apache.lucene.store.RAMDirectory;

public class IsNotTypeTest extends TestCase {

    private RAMDirectory directory;

    protected void setUp() throws Exception {
        directory = new RAMDirectory();
        IndexWriter writer = new IndexWriter(directory,
            new StandardAnalyzer(), true);

        //jpg should show up in first query
        Document document = new Document();
        document.add(Field.Text("kcfileupload", "picture.jpg"));
        document.add(Field.Text("name", "pic one"));
        writer.addDocument(document);

        //jpg should show up in first query
        document = new Document();
        document.add(Field.Text("kcfileupload", "picture2.jpg"));
        document.add(Field.Text("name", "pic two"));
        writer.addDocument(document);

        //pdf should show up in second query
        document = new Document();
        document.add(Field.Text("kcfileupload", "file.pdf"));
        document.add(Field.Text("name", "pdf one"));
        writer.addDocument(document);

        //ppt should show up in second query
        document = new Document();
        document.add(Field.Text("kcfileupload", "file.ppt"));
        document.add(Field.Text("name", "power point one"));
        writer.addDocument(document);

        //ppt should show up in second query
        document = new Document();
        document.add(Field.Text("kcfileupload", "file2.ppt"));
        document.add(Field.Text("name", "power point two"));
        writer.addDocument(document);

        //other should not show in this test
        document = new Document();
        document.add(Field.Text("name", "link"));
        document.add(Field.Text("address", "www.cbc.ca"));
        writer.addDocument(document);

        writer.close();

    }

    public void testIsNotType() throws Exception {
        IndexSearcher searcher = new IndexSearcher(directory);
        Query query1 = QueryParser.parse("jpg", "kcfileupload", new
StandardAnalyzer());
        Query query2 = QueryParser.parse("*", "kcfileupload", new
StandardAnalyzer());
        QueryFilter jpgFilter = new QueryFilter(new TermQuery(new
Term("kcfileupload", "jpg")));
        Hits hits = searcher.search(query1);
        assertEquals(2, hits.length());
        int totalHits = hits.length();
        int count = 0;
        while (count < totalHits) {
            Document current = (Document)hits.doc(count);
            System.out.println("The upload is " + count + " is " +
current.getField("kcfileupload"));
            count++;
        }
        hits = searcher.search(query2, jpgFilter);
        assertEquals(3, hits.length());
        totalHits = hits.length();
        count = 0;
        while (count < totalHits) {
            Document current = (Document)hits.doc(count);
            System.out.println("The upload is " + count + " is " +
current.getField("kcfileupload"));
            count++;
        }
    }

}


----- Original Message ----- 
From: "Âº†Áëæ" <prettykely@gmail.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Friday, February 04, 2005 2:12 AM
Subject: Re: Parsing The Query: Every document that doesn't have a field
containing x


I  think you may can use a filter to get right result!
See examlples below
package lia.advsearching;

import junit.framework.TestCase;
import org.apache.lucene.analysis.WhitespaceAnalyzer;
import org.apache.lucene.document.Document;
import org.apache.lucene.document.Field;
import org.apache.lucene.index.IndexWriter;
import org.apache.lucene.index.Term;
import org.apache.lucene.search.Hits;
import org.apache.lucene.search.IndexSearcher;
import org.apache.lucene.search.QueryFilter;
import org.apache.lucene.search.TermQuery;
import org.apache.lucene.store.RAMDirectory;

public class SecurityFilterTest extends TestCase {
  private RAMDirectory directory;

  protected void setUp() throws Exception {
    directory = new RAMDirectory();
    IndexWriter writer = new IndexWriter(directory,
        new WhitespaceAnalyzer(), true);

    // Elwood
    Document document = new Document();
    document.add(Field.Keyword("owner", "elwood"));
    document.add(Field.Text("keywords", "elwoods sensitive info"));
    writer.addDocument(document);

    // Jake
    document = new Document();
    document.add(Field.Keyword("owner", "jake"));
    document.add(Field.Text("keywords", "jakes sensitive info"));
    writer.addDocument(document);

    writer.close();
  }

  public void testSecurityFilter() throws Exception {
    TermQuery query = new TermQuery(new Term("keywords", "info"));

    IndexSearcher searcher = new IndexSearcher(directory);
    Hits hits = searcher.search(query);
    assertEquals("Both documents match", 2, hits.length());

    QueryFilter jakeFilter = new QueryFilter(
        new TermQuery(new Term("owner", "jake")));

    hits = searcher.search(query, jakeFilter);
    assertEquals(1, hits.length());
    assertEquals("elwood is safe",
        "jakes sensitive info", hits.doc(0).get("keywords"));
  }

}


On Thu, 3 Feb 2005 13:04:50 -0500, Luke Shannon
<lshannon@futurebrand.com> wrote:
> Hello;
>
> I have a query that finds document that contain fields with a specific
> value.
>
> query1 = QueryParser.parse("jpg", "kcfileupload", new StandardAnalyzer());
>
> This works well.
>
> I would like a query that find documents containing all kcfileupload
fields
> that don't contain jpg.
>
> The example I found in the book that seems to relate shows me how to find
> documents without a specific term:
>
> QueryParser parser = new QueryParser("contents", analyzer);
> parser.setOperator(QueryParser.DEFAULT_OPERATOR_AND);
>
> But than it says:
>
> Negating a term must be combined with at least one nonnegated term to
return
> documents; in other words, it isn't possible to use a query like NOT term
to
> find all documents that don't contain a term.
>
> So does that mean the above example wouldn't work?
>
> The API says:
>
>  a plus (+) or a minus (-) sign, indicating that the clause is required or
> prohibited respectively;
>
> I have been playing around with using the minus character without much
luck.
>
> Can someone give point me in the right direction to figure this out?
>
> Thanks,
>
> Luke
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


-- 
ÊÑø‰Ω†Âø´‰πêÊØè‰∏ÄÂ§©

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13009-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 04 20:39:00 2005
Return-Path: <lucene-user-return-13009-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 55833 invoked from network); 4 Feb 2005 20:38:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 4 Feb 2005 20:38:59 -0000
Received: (qmail 80418 invoked by uid 500); 4 Feb 2005 20:38:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 80397 invoked by uid 500); 4 Feb 2005 20:38:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 80384 invoked by uid 99); 4 Feb 2005 20:38:55 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 04 Feb 2005 12:38:54 -0800
Received: from p001002 ([204.225.84.27]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Fri, 4 Feb 2005 15:43:18 -0500
Message-ID: <037301c50afa$2865d030$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <200523195136.063886@Kelvin> <Pine.LNX.4.58.0502041154280.8893@hal.rescomp.berkeley.edu>
Subject: Re: Parsing The Query: Every document that doesn't have a field containing x
Date: Fri, 4 Feb 2005 15:43:18 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 04 Feb 2005 20:43:18.0784 (UTC) FILETIME=[28851800:01C50AFA]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Chris;

So the result would contain all documents that don't have field f containing
x?

What I need to figure out how to do is return all documents that have a
field f, but does not contain x.

Thanks for your post.

Luke


----- Original Message ----- 
From: "Chris Hostetter" <hossman_lucene@fucit.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Friday, February 04, 2005 3:03 PM
Subject: Re: Parsing The Query: Every document that doesn't have a field
containing x



Another approach...

You can make a Filter that is the inverse of the output from another
filter, which means you can make a QueryFilter on the search, then wrap it
in your inverse Filter.

you can't execute a query on a filter without having a Query object, but
you can just apply the Filter directly to an IndexReader yourself, and get
back a BitSet containing the docIds of everydocument that does not contain
your term.

something like this should work...

   class NotFilter extends Filter {
      private Filter wraped;
      public NotFilter(Filter w) {
        wraped = w;
      }
      public BitSet bits(IndexReader r) {
        BitSet b = wraped.bits(r);
        b.flip(0,b.size());
        return b;
      }
   }
   ...
   BitSet results = (new NotFilter
                     (new QueryFilter
                      (new TermQuery(new Term("f","x"))))).bits(reader);




: Date: Thu, 3 Feb 2005 19:51:36 +0100
: From: Kelvin Tan <kelvin-lists@relevanz.com>
: Reply-To: Lucene Users List <lucene-user@jakarta.apache.org>
: To: Lucene Users List <lucene-user@jakarta.apache.org>
: Subject: Re: Parsing The Query: Every document that doesn't have a field
:     containing x
:
: Alternatively, add a dummy field-value to all documents, like
doc.add(Field.Keyword("foo", "bar"))
:
: Waste of space, but allows you to perform negated queries.
:
: On Thu, 03 Feb 2005 19:19:15 +0100, Maik Schreiber wrote:
: >> Negating a term must be combined with at least one nonnegated
: >> term to return documents; in other words, it isn't possible to
: >> use a query like NOT term to find all documents that don't
: >> contain a term.
: >>
: >> So does that mean the above example wouldn't work?
: >>
: > Exactly. You cannot search for "-kcfileupload:jpg", you need at
: > least one clause that actually _includes_ documents.
: >
: > Do you by chance have a field with known contents? If so, you could
: > misuse that one and include it in your query (perhaps by doing
: > range or wildcard/prefix search). If not, try IndexReader.terms()
: > for building a Query yourself, then use that one for search.
:
:
:
: ---------------------------------------------------------------------
: To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
: For additional commands, e-mail: lucene-user-help@jakarta.apache.org
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13010-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 04 21:03:11 2005
Return-Path: <lucene-user-return-13010-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 69333 invoked from network); 4 Feb 2005 21:03:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 4 Feb 2005 21:03:11 -0000
Received: (qmail 15049 invoked by uid 500); 4 Feb 2005 21:03:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 15029 invoked by uid 500); 4 Feb 2005 21:03:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15015 invoked by uid 99); 4 Feb 2005 21:03:07 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp-vbr11.xs4all.nl (HELO smtp-vbr11.xs4all.nl) (194.109.24.31)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 04 Feb 2005 13:03:05 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr11.xs4all.nl (8.12.11/8.12.11) with ESMTP id j14L33UM079573
	for <lucene-user@jakarta.apache.org>; Fri, 4 Feb 2005 22:03:03 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: lucene-user@jakarta.apache.org
Subject: Re: Searching for doc without a field
Date: Fri, 4 Feb 2005 22:03:02 +0100
User-Agent: KMail/1.5.4
References: <cb06805dad63076372783f460385d654@otherwise.com> <17786330dc86b97c0eadfe5c5e0554e0@otherwise.com> <0036435c21ffa029df9cb7f63144bc09@otherwise.com>
In-Reply-To: <0036435c21ffa029df9cb7f63144bc09@otherwise.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200502042203.02758.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Friday 04 February 2005 17:29, Bill Tschumy wrote:
> 
> On Feb 4, 2005, at 10:19 AM, Bill Tschumy wrote:
> 
> >
> > On Feb 3, 2005, at 2:04 PM, Paul Elschot wrote:
> >
> >> On Thursday 03 February 2005 20:18, Bill Tschumy wrote:
> >>> Is there any way to construct a query to locate all documents 
> >>> without a
> >>> specific field?  By this I mean the Document was created without ever
> >>> having that field added to it.
> >>
> >> One way is to add an extra document field containing the field
> >> names of all (other) indexed fields in the document.
> >> Assuming there is always a primary key field the query is then:
> >>
> >> +fieldnames:primarykeyfield -fieldnames:specificfield
> >>
> >> Regards,
> >> Paul Elschot
> >
> > Paul,
> >
> > Thanks for the suggestion, but I need to do this on an existing 
> > database as it is.
> >
> > It just occurred to me that I should try a query on the field with a 
> > value of NULL.  Don't know if that will work or not.
> 
> Nope, using null as a search value just result in a 
> NullPointerException.

It's not impossible, but the problem is that the term index is first sorted
by field name, then by term text, then by document number, and then
by term position within document.

That means that the index path is no good to query for field name and
document number: you have to check all indexed terms in  between.

Lucene "only" allows to find the existence of a indexed field, the
indexed terms (field name + term text) in sorted order from a given term,
and the indexed documents of a term, possibly combined with the
with the term positions within each document.

The solution above shortcuts the index path by putting the field name
in place of the term text for a special field.

Regards,
Paul Elschot.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13011-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 04 21:04:37 2005
Return-Path: <lucene-user-return-13011-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 69624 invoked from network); 4 Feb 2005 21:04:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 4 Feb 2005 21:04:37 -0000
Received: (qmail 17354 invoked by uid 500); 4 Feb 2005 21:04:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 16497 invoked by uid 500); 4 Feb 2005 21:04:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16482 invoked by uid 99); 4 Feb 2005 21:04:33 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mailer.syr.edu (HELO mailer.syr.edu) (128.230.18.29)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 04 Feb 2005 13:04:32 -0800
Received: from [128.230.38.212] (syru38-212.syr.edu) by mailer.syr.edu (LSMTP for Windows NT v1.1b) with SMTP id <0.13C4471C@mailer.syr.edu>; Fri, 4 Feb 2005 16:04:29 -0500
Message-ID: <4203E35C.2080402@syr.edu>
Date: Fri, 04 Feb 2005 16:04:28 -0500
From: Steven Rowe <sarowe@syr.edu>
User-Agent: Mozilla Thunderbird 0.9 (Windows/20041111)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Optimize not deleting all files
References: <20050204165525.23042.qmail@web30201.mail.mud.yahoo.com> <4203DB18.8030703@infovia.com.ar>
In-Reply-To: <4203DB18.8030703@infovia.com.ar>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Patricio,

Is it the case that the "old index files" are not removed from session to
session, or only within the same session?  The discussion below pertains to
the latter case, that is, where the "old index files" are used in the same
process as the files replacing them.

I was having a similar problem, and tracked the source down to IndexReaders
not being closed in my application.  

As far as I can tell, in order for IndexReaders to present a consistent
view of an index while changes are being made to it, read-only copies
of the index are kept around until all IndexReaders using them are
closed.  If any IndexReaders are open on the index, IndexWriters first
make a copy, then operate on the copy.  If you track down all of these
open IndexReaders and close them before optimization, all of the
"old index files" should be deleted.  (Lucene Gurus, please correct this
if I have misrepresented the situation).

In my application, I had a bad interaction between IndexReader caching,
garbage collection, and incremental indexing, in which a new IndexReader
was being opened on an index after each indexing increment, without
closing the already-opened IndexReaders.

On Windows, operating-system level file locking caused by IndexReaders
left open was disallowing index re-creation, because the IndexWriter
wasn't allowed to delete the index files opened by the abandoned
IndexReaders.

In short, if you need to write to an index more than once in a single
session, be sure to keep careful track of your IndexReaders.

Hope it helps,
Steve

Patricio Keilty wrote:
> Hi Otis, tried version 1.4.3 without success, old index files still 
> remain in the directory.
> Also tried not calling optimize(), and still getting the same behaviour, 
> maybe our problem is not related to optimize() call at all.
> 
> --p
> 
> Otis Gospodnetic wrote:
> 
>> Get and try Lucene 1.4.3.  One of the older versions had a bug that was
>> not deleting old index files.
>>
>> Otis
>>
>> --- yahootintin.1247688@bloglines.com wrote:
>>
>>
>>> Hi,
>>>
>>> When I run an optimize in our production environment, old index are
>>> left in the directory and are not deleted. 
>>> My understanding is that an
>>> optimize will create new index files and all existing index files
>>> should be
>>> deleted.  Is this correct?
>>>
>>> We are running Lucene 1.4.2 on Windows. 
>>>
>>> Any help is appreciated.  Thanks!


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13012-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 04 21:25:56 2005
Return-Path: <lucene-user-return-13012-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 77809 invoked from network); 4 Feb 2005 21:25:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 4 Feb 2005 21:25:56 -0000
Received: (qmail 48457 invoked by uid 500); 4 Feb 2005 21:25:52 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 48440 invoked by uid 500); 4 Feb 2005 21:25:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 48427 invoked by uid 99); 4 Feb 2005 21:25:51 -0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=FROM_ENDS_IN_NUMS,NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from w02.bloglines.com (HELO w02.bloglines.com) (216.148.212.184)
  by apache.org (qpsmtpd/0.28) with SMTP; Fri, 04 Feb 2005 13:25:50 -0800
Received: (qmail 32083 invoked by uid 99); 4 Feb 2005 21:25:49 -0000
Message-ID: <1107552349.908092897.32082.sendItem@bloglines.com>
Date: 4 Feb 2005 21:25:49 -0000
From: yahootintin.1247688@bloglines.com
To: lucene-user@jakarta.apache.org
Subject: Re: Optimize not deleting all files
MIME-Version: 1.0
Content-Type: text/plain
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Yes, I believe my problem is related to open IndexReaders.  The issues is
that we can't shut down our live search application while we wait for a 10
minute optimization.  Search is a major part of our application and removing
the feature would significantly affect our end users (even though we run the
optimize during the night).

After the optimize is completed, I close and
re-open the readers so they start reading from the new index files.  I'm thinking
of adding code to delete all the old files at that point.  I presume they
will no longer be locked.

--- Lucene Users List" <lucene-user@jakarta.apache.org
wrote:
Hi Patricio,
> 
> Is it the case that the "old index files" are
not removed from session to
> session, or only within the same session? 
The discussion below pertains to
> the latter case, that is, where the "old
index files" are used in the same
> process as the files replacing them.

> 
> I was having a similar problem, and tracked the source down to IndexReaders

> not being closed in my application.  
> 
> As far as I can tell, in order
for IndexReaders to present a consistent
> view of an index while changes
are being made to it, read-only copies
> of the index are kept around until
all IndexReaders using them are
> closed.  If any IndexReaders are open on
the index, IndexWriters first
> make a copy, then operate on the copy.  If
you track down all of these
> open IndexReaders and close them before optimization,
all of the
> "old index files" should be deleted.  (Lucene Gurus, please
correct this
> if I have misrepresented the situation).
> 
> In my application,
I had a bad interaction between IndexReader caching,
> garbage collection,
and incremental indexing, in which a new IndexReader
> was being opened on
an index after each indexing increment, without
> closing the already-opened
IndexReaders.
> 
> On Windows, operating-system level file locking caused
by IndexReaders
> left open was disallowing index re-creation, because the
IndexWriter
> wasn't allowed to delete the index files opened by the abandoned

> IndexReaders.
> 
> In short, if you need to write to an index more than
once in a single
> session, be sure to keep careful track of your IndexReaders.

> 
> Hope it helps,
> Steve
> 
> Patricio Keilty wrote:
> > Hi Otis,
tried version 1.4.3 without success, old index files still 
> > remain in
the directory.
> > Also tried not calling optimize(), and still getting the
same behaviour, 
> > maybe our problem is not related to optimize() call
at all.
> > 
> > --p
> > 
> > Otis Gospodnetic wrote:
> > 
> >> Get
and try Lucene 1.4.3.  One of the older versions had a bug that was
> >>
not deleting old index files.
> >>
> >> Otis
> >>
> >> --- yahootintin.1247688@bloglines.com
wrote:
> >>
> >>
> >>> Hi,
> >>>
> >>> When I run an optimize in our
production environment, old index are
> >>> left in the directory and are
not deleted. 
> >>> My understanding is that an
> >>> optimize will create
new index files and all existing index files
> >>> should be
> >>> deleted.
 Is this correct?
> >>>
> >>> We are running Lucene 1.4.2 on Windows. 
> >>>
> >>> Any help is appreciated.  Thanks!
> 
> 
> ---------------------------------------------------------------------

> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For
additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13013-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 04 22:44:54 2005
Return-Path: <lucene-user-return-13013-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 7398 invoked from network); 4 Feb 2005 22:44:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 4 Feb 2005 22:44:54 -0000
Received: (qmail 46656 invoked by uid 500); 4 Feb 2005 22:44:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 46638 invoked by uid 500); 4 Feb 2005 22:44:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 46620 invoked by uid 99); 4 Feb 2005 22:44:49 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 04 Feb 2005 14:44:47 -0800
Received: from p001002 ([204.225.84.27]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Fri, 4 Feb 2005 17:49:11 -0500
Message-ID: <03b201c50b0b$bdfbd1b0$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <200523195136.063886@Kelvin> <Pine.LNX.4.58.0502041154280.8893@hal.rescomp.berkeley.edu>
Subject: Re: Parsing The Query: Every document that doesn't have a field containing x (but still has the field)
Date: Fri, 4 Feb 2005 17:49:10 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 04 Feb 2005 22:49:11.0146 (UTC) FILETIME=[BE1414A0:01C50B0B]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello;

I think Chris's approach might be helpfull, but I can't seems to get it to
work.

So since I running out of time and I still need to figure out "starts with"
and "ends with" queries, I have implemented a hacky solution to getting all
documents with a kcfileupload field present that does not contain jpg:

query1 = QueryParser.parse("jpg", "kcfileupload", new StandardAnalyzer());
query2 = QueryParser.parse("stillhere", "olfaithfull", new
StandardAnalyzer());//each document contains this
BooleanQuery typeNegativeSearch = new BooleanQuery();
typeNegativeSearch.add(query1, false, true);
typeNegativeSearch.add(query2, true, false);

What gets returned are all the documents without a kcfileupload = jpg. This
includes documents that don't even have a kcfileupload.

When I go through the results before displaying I check to make sure there
is a "kcfileupload" field.

This is not a good solution, and I hope to replace it soon. If anyone has
ideas please let me know.

Luke

----- Original Message ----- 
From: "Chris Hostetter" <hossman_lucene@fucit.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Friday, February 04, 2005 3:03 PM
Subject: Re: Parsing The Query: Every document that doesn't have a field
containing x



Another approach...

You can make a Filter that is the inverse of the output from another
filter, which means you can make a QueryFilter on the search, then wrap it
in your inverse Filter.

you can't execute a query on a filter without having a Query object, but
you can just apply the Filter directly to an IndexReader yourself, and get
back a BitSet containing the docIds of everydocument that does not contain
your term.

something like this should work...

   class NotFilter extends Filter {
      private Filter wraped;
      public NotFilter(Filter w) {
        wraped = w;
      }
      public BitSet bits(IndexReader r) {
        BitSet b = wraped.bits(r);
        b.flip(0,b.size());
        return b;
      }
   }
   ...
   BitSet results = (new NotFilter
                     (new QueryFilter
                      (new TermQuery(new Term("f","x"))))).bits(reader);




: Date: Thu, 3 Feb 2005 19:51:36 +0100
: From: Kelvin Tan <kelvin-lists@relevanz.com>
: Reply-To: Lucene Users List <lucene-user@jakarta.apache.org>
: To: Lucene Users List <lucene-user@jakarta.apache.org>
: Subject: Re: Parsing The Query: Every document that doesn't have a field
:     containing x
:
: Alternatively, add a dummy field-value to all documents, like
doc.add(Field.Keyword("foo", "bar"))
:
: Waste of space, but allows you to perform negated queries.
:
: On Thu, 03 Feb 2005 19:19:15 +0100, Maik Schreiber wrote:
: >> Negating a term must be combined with at least one nonnegated
: >> term to return documents; in other words, it isn't possible to
: >> use a query like NOT term to find all documents that don't
: >> contain a term.
: >>
: >> So does that mean the above example wouldn't work?
: >>
: > Exactly. You cannot search for "-kcfileupload:jpg", you need at
: > least one clause that actually _includes_ documents.
: >
: > Do you by chance have a field with known contents? If so, you could
: > misuse that one and include it in your query (perhaps by doing
: > range or wildcard/prefix search). If not, try IndexReader.terms()
: > for building a Query yourself, then use that one for search.
:
:
:
: ---------------------------------------------------------------------
: To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
: For additional commands, e-mail: lucene-user-help@jakarta.apache.org
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13014-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Feb 05 00:46:08 2005
Return-Path: <lucene-user-return-13014-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 45077 invoked from network); 5 Feb 2005 00:46:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 5 Feb 2005 00:46:08 -0000
Received: (qmail 47848 invoked by uid 500); 5 Feb 2005 00:46:04 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 47820 invoked by uid 500); 5 Feb 2005 00:46:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 47807 invoked by uid 99); 5 Feb 2005 00:46:04 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 04 Feb 2005 16:46:02 -0800
Received: from p001002 ([204.225.84.27]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Fri, 4 Feb 2005 19:50:26 -0500
Message-ID: <03d601c50b1c$ae6ff5d0$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20050204165525.23042.qmail@web30201.mail.mud.yahoo.com>
Subject: Starts With x and Ends With x Queries
Date: Fri, 4 Feb 2005 19:50:26 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 05 Feb 2005 00:50:26.0524 (UTC) FILETIME=[AE8AA9C0:01C50B1C]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello;

I have these two documents:

Text<sort:9>
Keyword<modified:0e1as4og8>
Text<progress_ref:1099927045180>
Text<name:FutureBrand Testing>
Text<desc:Demo>
Text<anouncement:We are testing our project>
Text<category:Category 1>
Text<olfaithfull:stillhere>
Text<poster:hello>
Text<urgent:yes>
Text<provider:Mo>


Text<sort:1>
Text<Author:cbalom>
Text<Creator:PScript5.dll Version 5.2.2>
Keyword<modified:0e1bgsfk0>
Keyword<modified:0e1bgsfk0>
Text<Producer:Acrobat Distiller 5.0.5 (Windows)>
Text<progress_ref:1099957931806>
Text<name:testing stuff>
Text<desc:testing>
Text<category:Category 1>
Text<olfaithfull:stillhere>
Text<poster:hello>
Text<Title:Microsoft Word - FINAL-FutureBrand Creates, Launches 'Air Canada'
Brand Ide.>
Text<provider:Ray>
Text<kcfileupload:aircanada3.pdf>

I would like to be able to match a name fields that starts with testing
(specifically) and those that end with it.

I thought the below code would parse to a Prefix Query that would satisfy my
starting requirment (maybe I don't understand what this query is for). But
this matches both.

Query query = QueryParser.parse("testing*", "name", new StandardAnalyzer());

Has anyone done this before? Any tips?

Thanks,

Luke



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13015-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Feb 05 01:07:55 2005
Return-Path: <lucene-user-return-13015-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 49701 invoked from network); 5 Feb 2005 01:07:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 5 Feb 2005 01:07:55 -0000
Received: (qmail 63579 invoked by uid 500); 5 Feb 2005 01:07:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 63559 invoked by uid 500); 5 Feb 2005 01:07:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 63546 invoked by uid 99); 5 Feb 2005 01:07:42 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork3.mail.Virginia.EDU (HELO fork3.mail.virginia.edu) (128.143.2.193)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 04 Feb 2005 17:07:41 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork3.mail.virginia.edu (Postfix) with ESMTP id E18EE1C08A
	for <lucene-user@jakarta.apache.org>; Fri,  4 Feb 2005 20:07:38 -0500 (EST)
Received: from fork3.mail.virginia.edu ([127.0.0.1])
 by localhost (fork3.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 29664-07 for <lucene-user@jakarta.apache.org>;
 Fri,  4 Feb 2005 20:07:38 -0500 (EST)
Received: from [192.168.1.102] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by fork3.mail.virginia.edu (Postfix) with ESMTP id 742DC1BFCF
	for <lucene-user@jakarta.apache.org>; Fri,  4 Feb 2005 20:07:38 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <03d601c50b1c$ae6ff5d0$7703d00a@hypermedia.com>
References: <20050204165525.23042.qmail@web30201.mail.mud.yahoo.com> <03d601c50b1c$ae6ff5d0$7703d00a@hypermedia.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <1081c493bd80a555f390191c641f9c45@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Starts With x and Ends With x Queries
Date: Fri, 4 Feb 2005 20:07:35 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-UVA-Virus-Scanned: by amavisd-new at fork3.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

It matches both because you're tokenizing the name field.  In both 
documents, the name field has a "testing" term in it (it gets 
lowercased also).  A PrefixQuery matches terms that start with the 
prefix.  Use an untokenized field type (Field.Keyword) if you want to 
keep the entire original string as-is for searching purposes - however 
you'd have issues with case-sensitivity in your example.

Also keep in mind that QueryParser only allows a trailing asterisk, 
creating a PrefixQuery.  However, if you use a WildcardQuery directly, 
you can use an asterisk as the starting character (at the risk of 
performance).

	Erik


On Feb 4, 2005, at 7:50 PM, Luke Shannon wrote:

> Hello;
>
> I have these two documents:
>
> Text<sort:9>
> Keyword<modified:0e1as4og8>
> Text<progress_ref:1099927045180>
> Text<name:FutureBrand Testing>
> Text<desc:Demo>
> Text<anouncement:We are testing our project>
> Text<category:Category 1>
> Text<olfaithfull:stillhere>
> Text<poster:hello>
> Text<urgent:yes>
> Text<provider:Mo>
>
>
> Text<sort:1>
> Text<Author:cbalom>
> Text<Creator:PScript5.dll Version 5.2.2>
> Keyword<modified:0e1bgsfk0>
> Keyword<modified:0e1bgsfk0>
> Text<Producer:Acrobat Distiller 5.0.5 (Windows)>
> Text<progress_ref:1099957931806>
> Text<name:testing stuff>
> Text<desc:testing>
> Text<category:Category 1>
> Text<olfaithfull:stillhere>
> Text<poster:hello>
> Text<Title:Microsoft Word - FINAL-FutureBrand Creates, Launches 'Air 
> Canada'
> Brand Ide.>
> Text<provider:Ray>
> Text<kcfileupload:aircanada3.pdf>
>
> I would like to be able to match a name fields that starts with testing
> (specifically) and those that end with it.
>
> I thought the below code would parse to a Prefix Query that would 
> satisfy my
> starting requirment (maybe I don't understand what this query is for). 
> But
> this matches both.
>
> Query query = QueryParser.parse("testing*", "name", new 
> StandardAnalyzer());
>
> Has anyone done this before? Any tips?
>
> Thanks,
>
> Luke
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13016-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Feb 05 02:37:53 2005
Return-Path: <lucene-user-return-13016-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 87451 invoked from network); 5 Feb 2005 02:37:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 5 Feb 2005 02:37:53 -0000
Received: (qmail 16882 invoked by uid 500); 5 Feb 2005 02:37:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 16859 invoked by uid 500); 5 Feb 2005 02:37:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16845 invoked by uid 99); 5 Feb 2005 02:37:49 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu) (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 04 Feb 2005 18:37:47 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 34DC05B7A0; Fri,  4 Feb 2005 18:37:44 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 332977F45C
	for <lucene-user@jakarta.apache.org>; Fri,  4 Feb 2005 18:37:44 -0800 (PST)
Date: Fri, 4 Feb 2005 18:37:44 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Starts With x and Ends With x Queries
In-Reply-To: <1081c493bd80a555f390191c641f9c45@ehatchersolutions.com>
Message-ID: <Pine.LNX.4.58.0502041744520.4294@hal.rescomp.berkeley.edu>
References: <20050204165525.23042.qmail@web30201.mail.mud.yahoo.com>
 <03d601c50b1c$ae6ff5d0$7703d00a@hypermedia.com>
 <1081c493bd80a555f390191c641f9c45@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


: Also keep in mind that QueryParser only allows a trailing asterisk,
: creating a PrefixQuery.  However, if you use a WildcardQuery directly,
: you can use an asterisk as the starting character (at the risk of
: performance).

On the issue of "ends with" wildcard queries, I wanted to throw out and
idea that i've seen used to deal with matches like this in other systems.
I've never acctually tried this with Lucene, but I've seen it used
effectively with other systems where the goal is to "sort" strings by the
least significant (ie: right most) characters first.  I think it could
apply nicely to people who have compelling needs for efficent 'ends with'
queries.



Imagine you have a field call name, which you can already do efficient
prefix matching on using the PrefixQuery class.  Your docs and query may
look something like this...

   D1> name:"Adam Smith" age:13 state:CA ...
   D2> name:"Joe Bob" age:42 state:WA ...
   D3> name:"John Adams" age:35 state:NV ...
   D3> name:"Sue Smith" age:33 state:CA ...

...and your queries may look something like...

   Query q1 = new PrefixQuery(new Term("name","J*"));
   Query q2 = new PrefixQuery(new Term("name","Sue*"));

If you want to start doing suffix queries (ie: all names ending with
"s", or all names ending with "Smith") one approach would be to use
WildcarQuery, which as Erik mentioned, will allow you to use a quey Term
that starts with a "*". ie...

   Query q3 = new WildcardQuery(new Term("name","*s"));
   Query q4 = new WildcardQuery(new Term("name","*Smith"));

(NOTE: Erik says you can do this, but the docs for WildcardQuery say you
can't I'll assume the docs are wrong and Erik is correct.)

The problem is that this is horrendously inefficient.  In order to find
the docs that contain Terms which match your suffix, WildcardQuery must
first identify what all of those Terms are, by iterating over every Term
in your index to see if they match the suffix.  This is much slower then a
PrefixQuery, or even a WildcardQuery that has just 1 initial character
before a "*" (ie: "s*foobar"), because it can then seek to directly to the
first Term that starts with that character, and also stop iterating as
soon as it encounters a Term that no longer begins with that character.

Which leads me to my point: if you denormalize your data so that you store
both the Term you want, and the *reverse* of the term you want, then a
Suffix query is just a Prefix query on a reversed field -- by sacrificing
space, you can get all the speed efficiencies of a PrefixQuery when doing
a SuffixQuery...

   D1> name:"Adam Smith" rname:"htimS madA" age:13 state:CA ...
   D2> name:"Joe Bob" rname:"boB oeJ" age:42 state:WA ...
   D3> name:"John Adams" rname:"smadA nhoJ" age:35 state:NV ...
   D3> name:"Sue Smith" rname:"htimS euS" age:33 state:CA ...

   Query q1 = new PrefixQuery(new Term("name","J*"));
   Query q2 = new PrefixQuery(new Term("name","Sue*"));
   Query q3 = new PrefixQuery(new Term("rname","s*"));
   Query q4 = new PrefixQuery(new Term("rname","htimS*"));


(If anyone sees a flaw in my theory, please chime in)


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13017-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Feb 05 02:58:20 2005
Return-Path: <lucene-user-return-13017-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 92074 invoked from network); 5 Feb 2005 02:58:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 5 Feb 2005 02:58:20 -0000
Received: (qmail 27274 invoked by uid 500); 5 Feb 2005 02:58:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 27249 invoked by uid 500); 5 Feb 2005 02:58:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27234 invoked by uid 99); 5 Feb 2005 02:58:16 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from anchor-post-32.mail.demon.net (HELO anchor-post-32.mail.demon.net) (194.217.242.90)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 04 Feb 2005 18:58:15 -0800
Received: from peterpi.demon.co.uk ([80.176.85.36] helo=[10.0.0.3])
	by anchor-post-32.mail.demon.net with esmtp (Exim 4.42)
	id 1CxG9D-0006tX-97
	for lucene-user@jakarta.apache.org; Sat, 05 Feb 2005 02:58:11 +0000
Message-ID: <42043643.3000603@semantico.com>
Date: Sat, 05 Feb 2005 02:58:11 +0000
From: Peter Pimley <ppimley@semantico.com>
User-Agent: Mozilla Thunderbird 0.9 (X11/20041124)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Starts With x and Ends With x Queries
References: <20050204165525.23042.qmail@web30201.mail.mud.yahoo.com> <03d601c50b1c$ae6ff5d0$7703d00a@hypermedia.com>
In-Reply-To: <03d601c50b1c$ae6ff5d0$7703d00a@hypermedia.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N



Well done.

I was so annoyed with the humiliation-for-kicks this afternoon that I 
just practised my self-destruction technicques with some friends this 
evening ;)

As for configuration, java.lang.system.getenv will give you access to an 
environment variable.

http://java.sun.com/j2se/1.5.0/docs/api/java/lang/System.html

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13018-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Feb 05 03:15:15 2005
Return-Path: <lucene-user-return-13018-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 95615 invoked from network); 5 Feb 2005 03:15:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 5 Feb 2005 03:15:15 -0000
Received: (qmail 37326 invoked by uid 500); 5 Feb 2005 03:15:03 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 37290 invoked by uid 500); 5 Feb 2005 03:15:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 37277 invoked by uid 99); 5 Feb 2005 03:15:02 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from anchor-post-33.mail.demon.net (HELO anchor-post-33.mail.demon.net) (194.217.242.91)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 04 Feb 2005 19:15:01 -0800
Received: from peterpi.demon.co.uk ([80.176.85.36] helo=[10.0.0.3])
	by anchor-post-33.mail.demon.net with esmtp (Exim 4.42)
	id 1CxGPS-000M5H-Ce; Sat, 05 Feb 2005 03:14:58 +0000
Message-ID: <42043A32.9070106@semantico.com>
Date: Sat, 05 Feb 2005 03:14:58 +0000
From: Peter Pimley <ppimley@semantico.com>
User-Agent: Mozilla Thunderbird 0.9 (X11/20041124)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Peter Pimley <ppimley@semantico.com>
CC: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Starts With x and Ends With x Queries
References: <20050204165525.23042.qmail@web30201.mail.mud.yahoo.com> <03d601c50b1c$ae6ff5d0$7703d00a@hypermedia.com> <42043643.3000603@semantico.com>
In-Reply-To: <42043643.3000603@semantico.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


I sent this to the wrong address.  Sorry.

Peter Pimley wrote:

>
>
> Well done.



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13019-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Feb 05 15:04:56 2005
Return-Path: <lucene-user-return-13019-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 8019 invoked from network); 5 Feb 2005 15:04:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 5 Feb 2005 15:04:56 -0000
Received: (qmail 79696 invoked by uid 500); 5 Feb 2005 15:04:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 79664 invoked by uid 500); 5 Feb 2005 15:04:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 79649 invoked by uid 99); 5 Feb 2005 15:04:43 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of TheRanger@gmx.net designates 213.165.64.20 as permitted sender)
Received: from mail.gmx.de (HELO mail.gmx.net) (213.165.64.20)
  by apache.org (qpsmtpd/0.28) with SMTP; Sat, 05 Feb 2005 07:04:41 -0800
Received: (qmail 14624 invoked by uid 0); 5 Feb 2005 15:04:38 -0000
Received: from 193.63.235.44 by www1.gmx.net with HTTP;
	Sat, 5 Feb 2005 16:04:38 +0100 (MET)
Date: Sat, 5 Feb 2005 16:04:38 +0100 (MET)
From: "Karl Koch" <TheRanger@gmx.net>
To: "User " <lucene-user@jakarta.apache.org>
MIME-Version: 1.0
Subject: Some questions about index...
X-Priority: 3 (Normal)
X-Authenticated: #21808356
Message-ID: <18110.1107615878@www1.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi all,

for simplicity reasons I would like to use the index as my data storage
whilst using the advantage of the highly optimised Lucene index structure.

1) Can I store all the information of the text file, but also apply a
analyser. E.g. I use the StopAnalyzer. After finding the document, I want to
extract the original text also from the index. Does this require that I
store the information twice in two different fields (one indexed and one
unindexed) ?

2) I would like to extract information from the index which can found in a
boolean way. I know that Lucene is a VSM which provides Boolean operators.
This however does not change its functioning. For example, I have a field
with contains an ID number and I want to use the search like a database
operatation (e.g. to find the document with id=1). I can solve the problem
by searching with query "id:1". However, this does not ensure that I will
only get one result. Usually the first result is the document I want. But it
could happen, that this sometimes does not work. What happens if I should
get no results? I guess if I search for id=5 and 5 did not exist I would
probably get 50, 51, .. just because the contain 5. Did somebody work with
this and can suggest a stable solution?

A good solution for these two questions would help me avoiding a database
which would need to replicate most the data which I already have in my
Lucene index...

Kind Regards,
Karl


-- 
DSL Komplett von GMX +++ Superg¸nstig und stressfrei einsteigen!
AKTION "Kein Einrichtungspreis" nutzen: http://www.gmx.net/de/go/dsl

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13020-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Feb 05 20:43:54 2005
Return-Path: <lucene-user-return-13020-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 3790 invoked from network); 5 Feb 2005 20:43:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 5 Feb 2005 20:43:54 -0000
Received: (qmail 83887 invoked by uid 500); 5 Feb 2005 20:43:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 83853 invoked by uid 500); 5 Feb 2005 20:43:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 83840 invoked by uid 99); 5 Feb 2005 20:43:51 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork6.mail.Virginia.EDU (HELO fork6.mail.virginia.edu) (128.143.2.176)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sat, 05 Feb 2005 12:43:50 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork6.mail.virginia.edu (Postfix) with ESMTP id 398C71C16C
	for <lucene-user@jakarta.apache.org>; Sat,  5 Feb 2005 15:43:48 -0500 (EST)
Received: from fork6.mail.virginia.edu ([127.0.0.1])
 by localhost (fork6.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 28605-04 for <lucene-user@jakarta.apache.org>;
 Sat,  5 Feb 2005 15:43:47 -0500 (EST)
Received: from [192.168.1.102] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by fork6.mail.virginia.edu (Postfix) with ESMTP id D1EF21C0A7
	for <lucene-user@jakarta.apache.org>; Sat,  5 Feb 2005 15:43:47 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <18110.1107615878@www1.gmx.net>
References: <18110.1107615878@www1.gmx.net>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <cb019a0c1ede6c22fb8a68fe33490019@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Some questions about index...
Date: Sat, 5 Feb 2005 15:43:47 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-UVA-Virus-Scanned: by amavisd-new at fork6.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Feb 5, 2005, at 10:04 AM, Karl Koch wrote:
> 1) Can I store all the information of the text file, but also apply a
> analyser. E.g. I use the StopAnalyzer. After finding the document, I 
> want to
> extract the original text also from the index. Does this require that I
> store the information twice in two different fields (one indexed and 
> one
> unindexed) ?

You should use a single stored, tokenized, and indexed field for this 
purpose.  Be cautious of how you construct the Field object to achieve 
this.

> 2) I would like to extract information from the index which can found 
> in a
> boolean way. I know that Lucene is a VSM which provides Boolean 
> operators.
> This however does not change its functioning. For example, I have a 
> field
> with contains an ID number and I want to use the search like a database
> operatation (e.g. to find the document with id=1). I can solve the 
> problem
> by searching with query "id:1". However, this does not ensure that I 
> will
> only get one result. Usually the first result is the document I want. 
> But it
> could happen, that this sometimes does not work.

Why wouldn't it work?  For ID-type fields, use a Field.Keyword (stored, 
indexed, but not tokenized).  Search for a specific ID using a 
TermQuery (don't use QueryParser for this, please).  If the ID values 
are unique, you'll either get zero or one result.

>  What happens if I should
> get no results? I guess if I search for id=5 and 5 did not exist I 
> would
> probably get 50, 51, .. just because the contain 5. Did somebody work 
> with
> this and can suggest a stable solution?

No, this would not be the case, unless you're analyzing the ID field 
with some strange character-by-character analyzer or doing a wildcard 
"*5*" type query.

> A good solution for these two questions would help me avoiding a 
> database
> which would need to replicate most the data which I already have in my
> Lucene index...

You're on the right track and avoiding a database when it is overkill 
or duplicative is commendable :)

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13021-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Feb 05 20:54:19 2005
Return-Path: <lucene-user-return-13021-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 5743 invoked from network); 5 Feb 2005 20:54:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 5 Feb 2005 20:54:19 -0000
Received: (qmail 90587 invoked by uid 500); 5 Feb 2005 20:54:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 89738 invoked by uid 500); 5 Feb 2005 20:54:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 89725 invoked by uid 99); 5 Feb 2005 20:54:15 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from artishost.net (HELO artisangel.artishost.net) (69.56.132.178)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sat, 05 Feb 2005 12:54:13 -0800
Received: from [81.25.38.57] (helo=localhost)
	by artisangel.artishost.net with esmtpa (Exim 4.43)
	id 1CxWwQ-0002RY-MB
	for lucene-user@jakarta.apache.org; Sat, 05 Feb 2005 14:54:08 -0600
Date: Sat, 5 Feb 2005 22:54:04 +0200
From: Yura Smolsky <info@altervision.biz>
X-Mailer: The Bat! (v3.0.1.33) Professional
Reply-To: Yura Smolsky <info@altervision.biz>
Organization: AlterVision Web Development Group
X-Priority: 3 (Normal)
Message-ID: <963019314.20050205225404@altervision.biz>
To: lucene-user@jakarta.apache.org
Subject: ParallelMultiSearcher and many RemoteSearchers
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Spam-Score: 0.0
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - artisangel.artishost.net
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - altervision.biz
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello, lucene-user.

Does anyone have idea will ParallelMultiSearcher and many
RemoteSearchers be a way to get fast search on distributed index on
many servers.

For example I have 5 servers with indexes of 50Gb on each server.
Indexes are updated interactively. I want to run on 6th server
ParallelMultiSearcher which will be connected to other 5 server
through RemoteSearcher.

Does it okay to go with RemoteSearcher class based on RMI in this case?..
I am concerned about reponse time and speed of the system...

Yura Smolsky




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13022-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Feb 05 21:39:52 2005
Return-Path: <lucene-user-return-13022-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 14489 invoked from network); 5 Feb 2005 21:39:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 5 Feb 2005 21:39:52 -0000
Received: (qmail 20573 invoked by uid 500); 5 Feb 2005 21:39:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 20545 invoked by uid 500); 5 Feb 2005 21:39:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20532 invoked by uid 99); 5 Feb 2005 21:39:48 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of TheRanger@gmx.net designates 213.165.64.20 as permitted sender)
Received: from mail.gmx.de (HELO mail.gmx.net) (213.165.64.20)
  by apache.org (qpsmtpd/0.28) with SMTP; Sat, 05 Feb 2005 13:39:47 -0800
Received: (qmail 21249 invoked by uid 0); 5 Feb 2005 21:39:45 -0000
Received: from 193.63.235.44 by www69.gmx.net with HTTP;
	Sat, 5 Feb 2005 22:39:45 +0100 (MET)
Date: Sat, 5 Feb 2005 22:39:45 +0100 (MET)
From: "Karl Koch" <TheRanger@gmx.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
MIME-Version: 1.0
References: <cb019a0c1ede6c22fb8a68fe33490019@ehatchersolutions.com>
Subject: Re: Some questions about index...
X-Priority: 3 (Normal)
X-Authenticated: #21808356
Message-ID: <10706.1107639585@www69.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thank you four fast, straight and usefull comments. Keeping in mind what was
said, did anybody actually think about implementing a kind of database layer
on top of a lucene index. A database would be an index, collumns would be
fields and entries documents. At least everything which would only require a
single table could be done. A SELECT would be search ...

:-)

Karl

> 
> On Feb 5, 2005, at 10:04 AM, Karl Koch wrote:
> > 1) Can I store all the information of the text file, but also apply a
> > analyser. E.g. I use the StopAnalyzer. After finding the document, I 
> > want to
> > extract the original text also from the index. Does this require that I
> > store the information twice in two different fields (one indexed and 
> > one
> > unindexed) ?
> 
> You should use a single stored, tokenized, and indexed field for this 
> purpose.  Be cautious of how you construct the Field object to achieve 
> this.
> 
> > 2) I would like to extract information from the index which can found 
> > in a
> > boolean way. I know that Lucene is a VSM which provides Boolean 
> > operators.
> > This however does not change its functioning. For example, I have a 
> > field
> > with contains an ID number and I want to use the search like a database
> > operatation (e.g. to find the document with id=1). I can solve the 
> > problem
> > by searching with query "id:1". However, this does not ensure that I 
> > will
> > only get one result. Usually the first result is the document I want. 
> > But it
> > could happen, that this sometimes does not work.
> 
> Why wouldn't it work?  For ID-type fields, use a Field.Keyword (stored, 
> indexed, but not tokenized).  Search for a specific ID using a 
> TermQuery (don't use QueryParser for this, please).  If the ID values 
> are unique, you'll either get zero or one result.
> 
> >  What happens if I should
> > get no results? I guess if I search for id=5 and 5 did not exist I 
> > would
> > probably get 50, 51, .. just because the contain 5. Did somebody work 
> > with
> > this and can suggest a stable solution?
> 
> No, this would not be the case, unless you're analyzing the ID field 
> with some strange character-by-character analyzer or doing a wildcard 
> "*5*" type query.
> 
> > A good solution for these two questions would help me avoiding a 
> > database
> > which would need to replicate most the data which I already have in my
> > Lucene index...
> 
> You're on the right track and avoiding a database when it is overkill 
> or duplicative is commendable :)
> 
> 	Erik
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
Lassen Sie Ihren Gedanken freien Lauf... z.B. per FreeSMS
GMX bietet bis zu 100 FreeSMS/Monat: http://www.gmx.net/de/go/mail

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13023-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Feb 06 14:00:32 2005
Return-Path: <lucene-user-return-13023-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 72685 invoked from network); 6 Feb 2005 14:00:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Feb 2005 14:00:32 -0000
Received: (qmail 56124 invoked by uid 500); 6 Feb 2005 14:00:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 56058 invoked by uid 500); 6 Feb 2005 14:00:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 56045 invoked by uid 99); 6 Feb 2005 14:00:27 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork9.mail.Virginia.EDU (HELO fork9.mail.virginia.edu) (128.143.2.179)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 06 Feb 2005 06:00:27 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork9.mail.virginia.edu (Postfix) with ESMTP id 0931F1F52C8
	for <lucene-user@jakarta.apache.org>; Sun,  6 Feb 2005 09:00:25 -0500 (EST)
Received: from fork9.mail.virginia.edu ([127.0.0.1])
 by localhost (fork9.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 24565-01 for <lucene-user@jakarta.apache.org>;
 Sun,  6 Feb 2005 09:00:24 -0500 (EST)
Received: from [192.168.1.100] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by fork9.mail.virginia.edu (Postfix) with ESMTP id 96CAA1F52B4
	for <lucene-user@jakarta.apache.org>; Sun,  6 Feb 2005 09:00:24 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <Pine.LNX.4.58.0502041744520.4294@hal.rescomp.berkeley.edu>
References: <20050204165525.23042.qmail@web30201.mail.mud.yahoo.com> <03d601c50b1c$ae6ff5d0$7703d00a@hypermedia.com> <1081c493bd80a555f390191c641f9c45@ehatchersolutions.com> <Pine.LNX.4.58.0502041744520.4294@hal.rescomp.berkeley.edu>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <5425d345fc609349f5962d3e0e31b46d@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Starts With x and Ends With x Queries
Date: Sun, 6 Feb 2005 09:00:26 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-UVA-Virus-Scanned: by amavisd-new at fork9.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Feb 4, 2005, at 9:37 PM, Chris Hostetter wrote:
> If you want to start doing suffix queries (ie: all names ending with
> "s", or all names ending with "Smith") one approach would be to use
> WildcarQuery, which as Erik mentioned, will allow you to use a quey 
> Term
> that starts with a "*". ie...
>
>    Query q3 = new WildcardQuery(new Term("name","*s"));
>    Query q4 = new WildcardQuery(new Term("name","*Smith"));
>
> (NOTE: Erik says you can do this, but the docs for WildcardQuery say 
> you
> can't I'll assume the docs are wrong and Erik is correct.)

I assume you mean this comment on WildcardQuery's javadocs:

"In order to prevent extremely slow WildcardQueries, a Wildcard term 
must not start with one of the wildcards <code>*</code> or 
<code>?</code>."

I don't read that as saying you cannot use an initial wildcard 
character, but rather as if you use a leading wildcard character you 
risk performance issues.  I'm going to change "must" to "should".  And 
yes, WildcardQuery itself supports a leading wildcard character exactly 
as you have shown.

> Which leads me to my point: if you denormalize your data so that you 
> store
> both the Term you want, and the *reverse* of the term you want, then a
> Suffix query is just a Prefix query on a reversed field -- by 
> sacrificing
> space, you can get all the speed efficiencies of a PrefixQuery when 
> doing
> a SuffixQuery...
>
>    D1> name:"Adam Smith" rname:"htimS madA" age:13 state:CA ...
>    D2> name:"Joe Bob" rname:"boB oeJ" age:42 state:WA ...
>    D3> name:"John Adams" rname:"smadA nhoJ" age:35 state:NV ...
>    D3> name:"Sue Smith" rname:"htimS euS" age:33 state:CA ...
>
>    Query q1 = new PrefixQuery(new Term("name","J*"));
>    Query q2 = new PrefixQuery(new Term("name","Sue*"));
>    Query q3 = new PrefixQuery(new Term("rname","s*"));
>    Query q4 = new PrefixQuery(new Term("rname","htimS*"));
>
>
> (If anyone sees a flaw in my theory, please chime in)

This trick has been mentioned on this list before, and is a good one.  
I'll go one step further and mention another technique I found in the 
book Managing Gigabytes, making "*string*" queries drastically more 
efficient for searching (though also impacting index size).  Take the 
term "cat".  It would be indexed with all rotated variations with an 
end of word marker added:

	cat$
	at$c
	t$ca
	$cat

The query for "*at*" would be preprocessed and rotated such that the 
wildcards are collapsed at the end to search for "at*" as a 
PrefixQuery.  A wildcard in the middle of a string like "c*t" would 
become a prefix query for "t$c*".

Has anyone tried this technique with Lucene?

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13024-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Feb 06 17:10:47 2005
Return-Path: <lucene-user-return-13024-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 48125 invoked from network); 6 Feb 2005 17:10:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Feb 2005 17:10:46 -0000
Received: (qmail 88928 invoked by uid 500); 6 Feb 2005 17:10:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 88636 invoked by uid 500); 6 Feb 2005 17:10:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88622 invoked by uid 99); 6 Feb 2005 17:10:42 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from sparta.hostgo.com (HELO sparta.hostgo.com) (66.220.22.162)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 06 Feb 2005 09:10:40 -0800
Received: from [65.19.37.63] (helo=[10.0.1.2])
	by sparta.hostgo.com with esmtpa (Exim 4.44)
	id 1Cxpvh-0006V4-DH
	for lucene-user@jakarta.apache.org; Sun, 06 Feb 2005 12:10:37 -0500
Mime-Version: 1.0 (Apple Message framework v619)
Content-Transfer-Encoding: 7bit
Message-Id: <04CF214B-7862-11D9-BD83-000A95973046@backspaces.net>
Content-Type: text/plain; charset=US-ASCII; format=flowed
To: lucene-user@jakarta.apache.org
From: Owen Densmore <owen@backspaces.net>
Subject: PHP-Lucene Integration
Date: Sun, 6 Feb 2005 10:10:36 -0700
X-Mailer: Apple Mail (2.619)
X-MailScanner-Information: This email message has been scanned for viruses
X-MailScanner-HostGo: Found to be clean
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - sparta.hostgo.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - backspaces.net
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I'm building a lucene project for a client who uses php for their 
dynamic web pages.  It would be possible to add servlets to their 
environment easily enough (they use apache) but I'd like to have 
minimal impact on their IT group.

There appears to be a php java extension that lets php call back & 
forth to java classes, but I thought I'd ask here if anyone has had 
success using lucene from php.

Note: I looked in the Lucene In Action search page, and yup, I bought 
the book and love it!  No examples there tho.  The list archives 
mention that using java lucene from php is the way to go, without 
saying how.  There's mention of a lucene server and a php interface to 
that.  And some similar comments.  But I'm a bit surprised there's not 
a bit more in terms of use of the official java extension to php.

Thanks for the great package!

Owen


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13025-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Feb 06 17:43:34 2005
Return-Path: <lucene-user-return-13025-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 59844 invoked from network); 6 Feb 2005 17:43:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Feb 2005 17:43:34 -0000
Received: (qmail 24511 invoked by uid 500); 6 Feb 2005 17:43:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 24474 invoked by uid 500); 6 Feb 2005 17:43:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24461 invoked by uid 99); 6 Feb 2005 17:43:28 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from vmx15.multikabel.net (HELO vmx15.multikabel.net) (212.127.254.144)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 06 Feb 2005 09:43:27 -0800
Received: from vmx60.multikabel.net ([212.127.254.141])
	by vmx15.multikabel.net with esmtp (Exim 4.44)
	id 1CxqRD-0008Ut-Pn
	for lucene-user@jakarta.apache.org; Sun, 06 Feb 2005 18:43:12 +0100
Received: from [127.0.0.1] (80-242-226-122.multikabel.nl [80.242.226.122])
	by vmx60.multikabel.net (8.12.10/8.12.8) with ESMTP id j16Hh4Q9007097;
	Sun, 6 Feb 2005 18:43:05 +0100
Message-ID: <42065727.1040506@extendlimits.nl>
Date: Sun, 06 Feb 2005 18:43:03 +0100
From: Maurits van Wijland <maurits.van.wijland@extendlimits.nl>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>, owen@backspaces.net
Subject: Re: PHP-Lucene Integration
References: <04CF214B-7862-11D9-BD83-000A95973046@backspaces.net>
In-Reply-To: <04CF214B-7862-11D9-BD83-000A95973046@backspaces.net>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Antivirus: avast! (VPS 0505-2, 02/05/2005), Outbound message
X-Antivirus-Status: Clean
X-MultiKabel-MailScanner-Information: Please contact helpdesk@quicknet.nl for more information
X-MultiKabel-MailScanner: Found to be clean
X-MultiKabel-MailScanner-SpamCheck: not spam, SpamAssassin (score=-0.413,
	required 5, autolearn=not spam, BAYES_05 -0.41)
X-MultiKabel-MX-MailScanner-Information: Please contact helpdesk@quicknet.nl for more information
X-MultiKabel-MX-MailScanner: Found to be clean
X-MultiKabel-MX-MailScanner-SpamCheck: 
X-MailScanner-From: maurits.van.wijland@extendlimits.nl
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Owen,

This can easily be done! Simply install tomcat on port 8080 and create a 
jk2 or proxy that points to tomcat. then all requests for jsps can be 
send to tomcat. The search engine can even be placed on a separate 
server. If you give me some details on your server, i will create a 
proxy script for your apache!

regards,

Maurits

Owen Densmore wrote:

> I'm building a lucene project for a client who uses php for their 
> dynamic web pages.  It would be possible to add servlets to their 
> environment easily enough (they use apache) but I'd like to have 
> minimal impact on their IT group.
>
> There appears to be a php java extension that lets php call back & 
> forth to java classes, but I thought I'd ask here if anyone has had 
> success using lucene from php.
>
> Note: I looked in the Lucene In Action search page, and yup, I bought 
> the book and love it!  No examples there tho.  The list archives 
> mention that using java lucene from php is the way to go, without 
> saying how.  There's mention of a lucene server and a php interface to 
> that.  And some similar comments.  But I'm a bit surprised there's not 
> a bit more in terms of use of the official java extension to php.
>
> Thanks for the great package!
>
> Owen
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13026-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Feb 06 18:19:12 2005
Return-Path: <lucene-user-return-13026-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 72454 invoked from network); 6 Feb 2005 18:19:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Feb 2005 18:19:12 -0000
Received: (qmail 82917 invoked by uid 500); 6 Feb 2005 18:19:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 82890 invoked by uid 500); 6 Feb 2005 18:19:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 82874 invoked by uid 99); 6 Feb 2005 18:19:09 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from lyra.lunarpages.com (HELO lyra.lunarpages.com) (64.235.230.140)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 06 Feb 2005 10:19:07 -0800
Received: from mueasb-wan159.citykom.de ([195.202.39.159] helo=Kelvin)
	by lyra.lunarpages.com with esmtpa (Exim 4.44)
	id 1Cxqzt-00020R-Bd
	for lucene-user@jakarta.apache.org; Sun, 06 Feb 2005 10:19:02 -0800
From:     Kelvin Tan <kelvin-lists@relevanz.com>
To:       Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: Barca 1.1 (840) - Licensed Version
Date: Sun, 6 Feb 2005 19:18:43 +0100
Message-ID: <200526191843.135427@Kelvin>
In-Reply-To: <04CF214B-7862-11D9-BD83-000A95973046@backspaces.net>
Subject: Re: PHP-Lucene Integration
Mime-Version: 1.0
Content-Type: text/plain; charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - lyra.lunarpages.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - relevanz.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

How about XML-RPC/SOAP, or REST? 

For REST, just have a servlet listening for HTTP Gets and respond with XML=
 that your PHP app can parse (for searching). For indexing, let's say you=
 want to index an uploaded file, construct a URL with the fields and field=
 values, and also pass the location of the file on the FS. Shouldn't be that=
 difficult.

I'm guessing its more desirable to have all your code in one place, which is=
 an advantage to using Java in PHP. But it feels cleaner to have the Java=
 stuff in one codebase and the PHP in another. May make debugging easier. No=
 idea how widely used the PHP-Java binding is.

k

On Sun, 6 Feb 2005 10:10:36 -0700, Owen Densmore wrote:
>=A0I'm building a lucene project for a client who uses php for their
>=A0dynamic web pages. =A0It would be possible to add servlets to their
>=A0environment easily enough (they use apache) but I'd like to have
>=A0minimal impact on their IT group.
>
>=A0There appears to be a php java extension that lets php call back &
>=A0forth to java classes, but I thought I'd ask here if anyone has had
>=A0success using lucene from php.
>
>=A0Note: I looked in the Lucene In Action search page, and yup, I
>=A0bought the book and love it! =A0No examples there tho. =A0The list
>=A0archives mention that using java lucene from php is the way to go,
>=A0without saying how. =A0There's mention of a lucene server and a php
>=A0interface to that. =A0And some similar comments. =A0But I'm a bit
>=A0surprised there's not a bit more in terms of use of the official
>=A0java extension to php.
>
>=A0Thanks for the great package!
>
>=A0Owen
>
>
>=A0--------------------------------------------------------------------
>=A0- To unsubscribe, e-mail: lucene-user-
>=A0unsubscribe@jakarta.apache.org For additional commands, e-mail:
>=A0lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13027-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Feb 06 18:55:18 2005
Return-Path: <lucene-user-return-13027-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 84006 invoked from network); 6 Feb 2005 18:55:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Feb 2005 18:55:18 -0000
Received: (qmail 21728 invoked by uid 500); 6 Feb 2005 18:55:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 21108 invoked by uid 500); 6 Feb 2005 18:55:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21090 invoked by uid 99); 6 Feb 2005 18:55:14 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from fork6.mail.Virginia.EDU (HELO fork6.mail.virginia.edu) (128.143.2.176)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 06 Feb 2005 10:55:12 -0800
Received: from localhost (localhost [127.0.0.1])
	by fork6.mail.virginia.edu (Postfix) with ESMTP id 908CC1C090
	for <lucene-user@jakarta.apache.org>; Sun,  6 Feb 2005 13:55:10 -0500 (EST)
Received: from fork6.mail.virginia.edu ([127.0.0.1])
 by localhost (fork6.mail.virginia.edu [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 12063-01 for <lucene-user@jakarta.apache.org>;
 Sun,  6 Feb 2005 13:55:10 -0500 (EST)
Received: from [192.168.1.102] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by fork6.mail.virginia.edu (Postfix) with ESMTP id 1C6611C0AB
	for <lucene-user@jakarta.apache.org>; Sun,  6 Feb 2005 13:55:10 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <04CF214B-7862-11D9-BD83-000A95973046@backspaces.net>
References: <04CF214B-7862-11D9-BD83-000A95973046@backspaces.net>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <e378518dd28c1182cd537755e6b12166@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: PHP-Lucene Integration
Date: Sun, 6 Feb 2005 13:55:10 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-UVA-Virus-Scanned: by amavisd-new at fork6.mail.virginia.edu
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Eventually you can just do PHP within the servlet container

	http://www.jcp.org/en/jsr/detail?id=223

and have your cake and eat it too!  :)

	Erik

On Feb 6, 2005, at 12:10 PM, Owen Densmore wrote:

> I'm building a lucene project for a client who uses php for their 
> dynamic web pages.  It would be possible to add servlets to their 
> environment easily enough (they use apache) but I'd like to have 
> minimal impact on their IT group.
>
> There appears to be a php java extension that lets php call back & 
> forth to java classes, but I thought I'd ask here if anyone has had 
> success using lucene from php.
>
> Note: I looked in the Lucene In Action search page, and yup, I bought 
> the book and love it!  No examples there tho.  The list archives 
> mention that using java lucene from php is the way to go, without 
> saying how.  There's mention of a lucene server and a php interface to 
> that.  And some similar comments.  But I'm a bit surprised there's not 
> a bit more in terms of use of the official java extension to php.
>
> Thanks for the great package!
>
> Owen
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13028-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Feb 06 20:00:57 2005
Return-Path: <lucene-user-return-13028-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 5879 invoked from network); 6 Feb 2005 20:00:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Feb 2005 20:00:57 -0000
Received: (qmail 77519 invoked by uid 500); 6 Feb 2005 20:00:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 77489 invoked by uid 500); 6 Feb 2005 20:00:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 77476 invoked by uid 99); 6 Feb 2005 20:00:45 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu) (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 06 Feb 2005 12:00:44 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 474815B7BB; Sun,  6 Feb 2005 12:00:40 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 438707F45C
	for <lucene-user@jakarta.apache.org>; Sun,  6 Feb 2005 12:00:40 -0800 (PST)
Date: Sun, 6 Feb 2005 12:00:40 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Document numbers and ids
In-Reply-To: <e7241789226c04c0ec600060931ef862@ehatchersolutions.com>
Message-ID: <Pine.LNX.4.58.0502061157150.19021@hal.rescomp.berkeley.edu>
References: <200502041724.58819.skoptelov@fis.ru>
 <e7241789226c04c0ec600060931ef862@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

: > care about their content. I only want to know a particular numeric
: > field from
: > document (id of document's category).
: > I also need to know how many docs in category were found, so I can't
: > index

: You should explore the use of IndexReader.  Index your documents with
: category id field, and use the methods on IndexReader to find all
: unique categories (TermEnum).

to expand on erik's suggestion: once you know the complete list of
categories you iterate over then and execute your search once per
category, filtering each time on the category Id (to determine the number
of results from that category).



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13029-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Feb 06 20:01:47 2005
Return-Path: <lucene-user-return-13029-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 6089 invoked from network); 6 Feb 2005 20:01:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Feb 2005 20:01:46 -0000
Received: (qmail 78709 invoked by uid 500); 6 Feb 2005 20:01:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 78678 invoked by uid 500); 6 Feb 2005 20:01:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78665 invoked by uid 99); 6 Feb 2005 20:01:43 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from shared4.hardhathosting.com (HELO getopt.org) (69.44.16.11)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 06 Feb 2005 12:01:42 -0800
Received: from [192.168.0.252] (75-mo3-2.acn.waw.pl [62.121.105.75])
	(authenticated)
	by getopt.org (8.11.6/8.11.6) with ESMTP id j16K10q23425
	for <lucene-user@jakarta.apache.org>; Sun, 6 Feb 2005 14:01:00 -0600
Message-ID: <42067798.2000206@getopt.org>
Date: Sun, 06 Feb 2005 21:01:28 +0100
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: PHP-Lucene Integration
References: <04CF214B-7862-11D9-BD83-000A95973046@backspaces.net> <e378518dd28c1182cd537755e6b12166@ehatchersolutions.com>
In-Reply-To: <e378518dd28c1182cd537755e6b12166@ehatchersolutions.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Erik Hatcher wrote:
> Eventually you can just do PHP within the servlet container
> 
>     http://www.jcp.org/en/jsr/detail?id=223
> 
> and have your cake and eat it too!  :)

An intriguing thought occured to me: with the recent work on PyLucene, 
it should be quite possible to generate a SWIG wrapper for PHP and build 
a fully native PHPLucene module using gcj.


-- 
Best regards,
Andrzej Bialecki
  ___. ___ ___ ___ _ _   __________________________________
[__ || __|__/|__||\/|  Information Retrieval, Semantic Web
___|||__||  \|  ||  |  Embedded Unix, System Integration
http://www.sigram.com  Contact: info at sigram dot com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13030-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Feb 06 20:12:58 2005
Return-Path: <lucene-user-return-13030-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 10181 invoked from network); 6 Feb 2005 20:12:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Feb 2005 20:12:58 -0000
Received: (qmail 88365 invoked by uid 500); 6 Feb 2005 20:12:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 88335 invoked by uid 500); 6 Feb 2005 20:12:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88321 invoked by uid 99); 6 Feb 2005 20:12:45 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu) (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 06 Feb 2005 12:12:44 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id EA9B25B7B8; Sun,  6 Feb 2005 12:12:42 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id E97507F45C
	for <lucene-user@jakarta.apache.org>; Sun,  6 Feb 2005 12:12:42 -0800 (PST)
Date: Sun, 6 Feb 2005 12:12:42 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Starts With x and Ends With x Queries
In-Reply-To: <5425d345fc609349f5962d3e0e31b46d@ehatchersolutions.com>
Message-ID: <Pine.LNX.4.58.0502061203210.19021@hal.rescomp.berkeley.edu>
References: <20050204165525.23042.qmail@web30201.mail.mud.yahoo.com>
 <03d601c50b1c$ae6ff5d0$7703d00a@hypermedia.com>
 <1081c493bd80a555f390191c641f9c45@ehatchersolutions.com>
 <Pine.LNX.4.58.0502041744520.4294@hal.rescomp.berkeley.edu>
 <5425d345fc609349f5962d3e0e31b46d@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


: book Managing Gigabytes, making "*string*" queries drastically more
: efficient for searching (though also impacting index size).  Take the
: term "cat".  It would be indexed with all rotated variations with an
: end of word marker added:
    ...
: The query for "*at*" would be preprocessed and rotated such that the
: wildcards are collapsed at the end to search for "at*" as a
: PrefixQuery.  A wildcard in the middle of a string like "c*t" would
: become a prefix query for "t$c*".

That's a pretty slick trick.

Considering how many Terms the index would wind up containing in order to
denormalize the data in that way, I wonder if it would be more practicle
to index each of the characters as a seperate term, with the word repeated
after the "end of word" character, making wildcard searches into "phase"
searches (after doing preprocessing and rotating as you described).

Ie, index "cat" as:   c a t $ c a t
  search for "*at*" as a phrase search for "a t"
  search for "*at"  as a phrase search for "a t $"
  search for "c*t"  as a phrase search for "t $ c"

...i'm fairly certain that would keep the index size much smaller (the
number of terms would be much smaller, while the average term frequence
wouldn't really increase), but i'm not sure if it would actaully be any
faster.  it depends on the algorithm/performace of PhraseQuery -- which is
something I haven't really looked into.  It could very well be
significantly slower.


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13031-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Feb 06 22:11:41 2005
Return-Path: <lucene-user-return-13031-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 61899 invoked from network); 6 Feb 2005 22:11:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 6 Feb 2005 22:11:41 -0000
Received: (qmail 79852 invoked by uid 500); 6 Feb 2005 22:11:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 79828 invoked by uid 500); 6 Feb 2005 22:11:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 79814 invoked by uid 99); 6 Feb 2005 22:11:28 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp002.mail.ukl.yahoo.com (HELO smtp002.mail.ukl.yahoo.com) (217.12.11.33)
  by apache.org (qpsmtpd/0.28) with SMTP; Sun, 06 Feb 2005 14:11:27 -0800
Received: from unknown (HELO ?10.0.0.1?) (markharw00d@194.106.34.5 with plain)
  by smtp002.mail.ukl.yahoo.com with SMTP; 6 Feb 2005 22:11:25 -0000
Message-ID: <42069618.6060105@yahoo.co.uk>
Date: Sun, 06 Feb 2005 22:11:36 +0000
From: markharw00d <markharw00d@yahoo.co.uk>
User-Agent: Mozilla Thunderbird 0.8 (Windows/20040913)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Highlighter: new support for encoding
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Nicko Cadell was good enough to point out the issues involved with 
generating XHTML compliant markup with the highlighter and provided a 
patch to fix it.

The main code has now been updated in the new SVN repository here: 
http://svn.apache.org/repos/asf/lucene/java/trunk/contrib/highlighter/

To encode your content simply pass an encoder to the Highlighter eg:


         //create an example doc for this test 
        String myDocContent = "\"Smith & sons' prices < 3 and >4\" 
claims article";       
        //Ordinarily you'd get the doc content like this..
        //myDocContent=hits.doc(i).get(FIELD_NAME)

       //create a query - you'd normally get this from QueryParser.parse
        Query myDocQuery=new TermQuery(new Term("contents","prices"));

        //Create a highlighter and pass a QueryScorer to provide the 
list of query tokens 
        Highlighter highlighter = new Highlighter(new 
QueryScorer(myDocQuery));
        //set the choice of encoder to our simple encoder - otherwise 
default is no encoding
        highlighter.setEncoder(new SimpleHTMLEncoder());
       
       
        //Tokenize the document content to get the positions using an 
analyzer:
        Analyzer analyzer=new WhitespaceAnalyzer();
        TokenStream tokenStream = analyzer.tokenStream("contents", new 
StringReader(myDocContent));
       
       
        //As a faster alternative to re-analyzing doc content you can
        //use "TokenSources" to take advantage of any pre-tokenized 
content held in any term vectors:
        //TokenStream 
tokenStream=TokenSources.getAnyTokenStream(indexReader,docId, 
fieldName,analyzer);
       
        //Now pass the tokenStream to the highlighter to process
        String encodedSnippet = 
highlighter.getBestFragments(tokenStream, myDocContent,1,"...");
        System.out.println(encodedSnippet);
        //Should print &quot;Smith &amp; sons' <B>prices</B> &lt; 3 and 
&gt;4&quot; claims article

Cheers
Mark



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13032-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 07 00:51:14 2005
Return-Path: <lucene-user-return-13032-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 3849 invoked from network); 7 Feb 2005 00:51:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Feb 2005 00:51:14 -0000
Received: (qmail 78943 invoked by uid 500); 7 Feb 2005 00:51:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 78912 invoked by uid 500); 7 Feb 2005 00:51:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78895 invoked by uid 99); 7 Feb 2005 00:51:10 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from ns.cybersites.net (HELO ns.uscybersites.net) (206.98.167.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 06 Feb 2005 16:51:10 -0800
Received: from [127.0.0.1] (unknown [216.126.80.147])
	by ns.uscybersites.net (Postfix) with ESMTP id 1286781E3E
	for <lucene-user@jakarta.apache.org>; Sun,  6 Feb 2005 19:47:47 -0500 (EST)
Message-ID: <4206BB7E.7070602@max3d.com>
Date: Sun, 06 Feb 2005 19:51:10 -0500
From: "amigo@max3d.com" <amigo@max3d.com>
User-Agent: Mozilla Thunderbird 0.9 (Windows/20041103)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: PHP-Lucene Integration
References: <04CF214B-7862-11D9-BD83-000A95973046@backspaces.net>
In-Reply-To: <04CF214B-7862-11D9-BD83-000A95973046@backspaces.net>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Owen

I am using Lucene with PHP, though in previous replies it was suggested 
to run Tomcat on an alternate port, but for me that was not a solution. 
I did not want to run too many tasks or too many servers
for various reasons (maintenance, security etc) and also needed to have 
control over PHP sessions and what not.

The original PHP extension for Java is broken and is far fro being 
usable in production. Instead I have been using PHP and Lucene with a 
PHP-Java-Bridge for the past 6 months or so.
It does the job very well and I can call classes and methods right out 
of PHP just like you would expect with a PHP extension.

The bridge is available here: 
http://sourceforge.net/projects/php-java-bridge


Hope this helps,

-pedja





Owen Densmore said the following on 2/6/2005 12:10 PM:

> I'm building a lucene project for a client who uses php for their 
> dynamic web pages.  It would be possible to add servlets to their 
> environment easily enough (they use apache) but I'd like to have 
> minimal impact on their IT group.
>
> There appears to be a php java extension that lets php call back & 
> forth to java classes, but I thought I'd ask here if anyone has had 
> success using lucene from php.
>
> Note: I looked in the Lucene In Action search page, and yup, I bought 
> the book and love it!  No examples there tho.  The list archives 
> mention that using java lucene from php is the way to go, without 
> saying how.  There's mention of a lucene server and a php interface to 
> that.  And some similar comments.  But I'm a bit surprised there's not 
> a bit more in terms of use of the official java extension to php.
>
> Thanks for the great package!
>
> Owen
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13033-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 07 03:32:10 2005
Return-Path: <lucene-user-return-13033-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 59023 invoked from network); 7 Feb 2005 03:32:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Feb 2005 03:32:10 -0000
Received: (qmail 93322 invoked by uid 500); 7 Feb 2005 03:31:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 93298 invoked by uid 500); 7 Feb 2005 03:31:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93284 invoked by uid 99); 7 Feb 2005 03:31:58 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=DATE_IN_FUTURE_03_06,FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from relay.fis.ru (HELO mail.office.fis.ru) (212.20.24.193)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 06 Feb 2005 19:31:57 -0800
Received: by mail.office.fis.ru (Postfix, from userid 1007)
	id 7687B89433; Mon,  7 Feb 2005 09:32:41 +0600 (NOVT)
Received: from develop.fis.ru (dev.fis.ru [212.20.24.39])
	by mail.office.fis.ru (Postfix) with ESMTP id 0478B89407
	for <lucene-user@jakarta.apache.org>; Mon,  7 Feb 2005 09:32:41 +0600 (NOVT)
From: Simeon Koptelov <skoptelov@fis.ru>
Organization: FIS
To: lucene-user@jakarta.apache.org
Subject: Re: Document numbers and ids
Date: Mon, 7 Feb 2005 09:25:12 +0000
User-Agent: KMail/1.7
References: <200502041724.58819.skoptelov@fis.ru> <e7241789226c04c0ec600060931ef862@ehatchersolutions.com> <Pine.LNX.4.58.0502061157150.19021@hal.rescomp.berkeley.edu>
In-Reply-To: <Pine.LNX.4.58.0502061157150.19021@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200502070925.12204.skoptelov@fis.ru>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Sunday 06 February 2005 20:00, Chris Hostetter wrote:
> : > care about their content. I only want to know a particular numeric
> : > field from
> : > document (id of document's category).
> : > I also need to know how many docs in category were found, so I can't
> : > index
> :
> : You should explore the use of IndexReader.  Index your documents with
> : category id field, and use the methods on IndexReader to find all
> : unique categories (TermEnum).
>
> to expand on erik's suggestion: once you know the complete list of
> categories you iterate over then and execute your search once per
> category, filtering each time on the category Id (to determine the number
> of results from that category).

Nah, I did a little more tricky thing, but promises to be faster (I have 12K 
categories now and there will be more).
I index docs' categories ids as zero-padded keywords. Then I do search for 
documents, sorting them by category id. Then I iterate Hits following the 
scheme: 
1. I have the cache that holds ids of documents in current category.
2. Each time I see doc id that is not in current category, I read that 
document and reload cache with it's category data. 

So if I found docs in N categories (N usually is not big), I really need to 
read exactly N docs from disk, the rest of iterating through Hits is just 
checking cache (because I sort by category).

It's a pity lucene doesn't have IndexSearcher.search( Query, Sort, 
HitCollector ), but if I understood Hits properly, it gives me O( log2
( doc_dum ) ) performance impact per resultset, which is perfectly 
acceptable.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13034-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 07 06:02:49 2005
Return-Path: <lucene-user-return-13034-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 13780 invoked from network); 7 Feb 2005 06:02:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Feb 2005 06:02:49 -0000
Received: (qmail 7879 invoked by uid 500); 7 Feb 2005 06:02:46 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 7853 invoked by uid 500); 7 Feb 2005 06:02:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7837 invoked by uid 99); 7 Feb 2005 06:02:46 -0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail2.pershing.com (HELO mail2.pershing.com) (170.61.18.52)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 06 Feb 2005 22:02:44 -0800
Received: from plzlmh02.pershing.com ([172.19.110.13])
          by mail2.pershing.com (Lotus Domino Release 6.0.4)
          with ESMTP id 2005020700413481-1024 ;
          Mon, 7 Feb 2005 00:41:34 -0500 
Subject: Shui Cheung Yip/JerseyCity/iNautix is out of the office.
From: syip@pershing.com
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Message-ID: <OFE78D7DA7.1F9BD32B-ON85256FA1.00213274-85256FA1.00213274@pershing.com>
Date: Mon, 7 Feb 2005 01:02:36 -0500
MIME-Version: 1.0
X-MIMETrack: Serialize by Router on PLZLMH02/Pershing(Release 6.0.4|June 01, 2004) at 02/07/2005
 01:02:41 AM,
	Itemize by SMTP Server on Pershing2/External(Release 6.0.4|June 01, 2004) at
 02/07/2005 12:41:34 AM,
	Serialize by Router on Pershing2/External(Release 6.0.4|June 01, 2004) at
 02/07/2005 12:41:37 AM,
	Serialize complete at 02/07/2005 12:41:37 AM
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I will be out of the office starting  02/04/2005 and will not return until
02/14/2005.

 I will respond to your message when I return. For CashEdge issues, please
contact  Aravind Ravi Subramania or  Subramaniam Sundaram,  For other
issue, please contact Dave Wong.

Thank you.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13035-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 07 07:07:37 2005
Return-Path: <lucene-user-return-13035-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 31489 invoked from network); 7 Feb 2005 07:07:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Feb 2005 07:07:37 -0000
Received: (qmail 71576 invoked by uid 500); 7 Feb 2005 07:07:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 71551 invoked by uid 500); 7 Feb 2005 07:07:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 71536 invoked by uid 99); 7 Feb 2005 07:07:24 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from proserver2.ifit.uni-klu.ac.at (HELO proserver2.ifit.uni-klu.ac.at) (143.205.118.212)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 06 Feb 2005 23:07:23 -0800
Received: from [143.205.118.98] ([143.205.118.98]) by proserver2.ifit.uni-klu.ac.at over TLS secured channel with Microsoft SMTPSVC(5.0.2195.6713);
	 Mon, 7 Feb 2005 08:07:20 +0100
Message-ID: <420713A3.90204@ifit.uni-klu.ac.at>
Date: Mon, 07 Feb 2005 08:07:15 +0100
From: sergiu gordea <gsergiu@ifit.uni-klu.ac.at>
User-Agent: Mozilla Thunderbird 0.7 (Windows/20040616)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Starts With x and Ends With x Queries
References: <20050204165525.23042.qmail@web30201.mail.mud.yahoo.com> <03d601c50b1c$ae6ff5d0$7703d00a@hypermedia.com> <1081c493bd80a555f390191c641f9c45@ehatchersolutions.com> <Pine.LNX.4.58.0502041744520.4294@hal.rescomp.berkeley.edu> <5425d345fc609349f5962d3e0e31b46d@ehatchersolutions.com>
In-Reply-To: <5425d345fc609349f5962d3e0e31b46d@ehatchersolutions.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 07 Feb 2005 07:07:20.0175 (UTC) FILETIME=[AA2777F0:01C50CE3]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Erick,

>
>
> "In order to prevent extremely slow WildcardQueries, a Wildcard term 
> must not start with one of the wildcards <code>*</code> or 
> <code>?</code>."
>
> I don't read that as saying you cannot use an initial wildcard 
> character, but rather as if you use a leading wildcard character you 
> risk performance issues.  I'm going to change "must" to "should". 

Will this change available in the next realease of lucene? How do you 
plan to implement this? Will this be available as an atributte of  
QueryParser?

  Best,

  Sergiu


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13036-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 07 07:39:13 2005
Return-Path: <lucene-user-return-13036-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 41399 invoked from network); 7 Feb 2005 07:39:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Feb 2005 07:39:13 -0000
Received: (qmail 7640 invoked by uid 500); 7 Feb 2005 07:39:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 6793 invoked by uid 500); 7 Feb 2005 07:39:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6780 invoked by uid 99); 7 Feb 2005 07:39:09 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.tanto.de (HELO mail.tanto.de) (213.61.178.43)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 06 Feb 2005 23:39:08 -0800
Received: from localhost (localhost [127.0.0.1])
	by mail.tanto.de (Postfix) with ESMTP id 6CCD023BF1
	for <lucene-user@jakarta.apache.org>; Mon,  7 Feb 2005 08:39:15 +0100 (CET)
Received: from mail.tanto.de ([127.0.0.1])
 by localhost (mail.tanto.de [127.0.0.1]) (amavisd-new, port 10024) with ESMTP
 id 26423-04 for <lucene-user@jakarta.apache.org>;
 Mon,  7 Feb 2005 08:39:15 +0100 (CET)
Received: from tucholsky.office.tanto.de (tucholsky.office.tanto.de [10.0.0.35])
	by mail.tanto.de (Postfix) with ESMTP id 1E57123BF0
	for <lucene-user@jakarta.apache.org>; Mon,  7 Feb 2005 08:39:15 +0100 (CET)
Received: from tucholsky.office.tanto.de (morus@localhost [127.0.0.1])
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-7.1) with ESMTP id j177dP72023469
	for <lucene-user@jakarta.apache.org>; Mon, 7 Feb 2005 08:39:25 +0100
Received: (from morus@localhost)
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-7.1) id j177dPKU023465;
	Mon, 7 Feb 2005 08:39:25 +0100
From: Morus Walter <morus.walter@tanto.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16903.6957.397456.440361@tanto-xipolis.de>
Date: Mon, 7 Feb 2005 08:39:25 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Disk space used by optimize
In-Reply-To: <4203A865.2050001@intrafind.de>
References: <20050127235250.11133.qmail@web30202.mail.mud.yahoo.com>
	<4203A865.2050001@intrafind.de>
X-Mailer: VM 7.03 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Virus-Scanned: by amavisd-new at mail.tanto.de Q&A postmaster@tanto.de
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Bernhard Messer writes:
> 
> >However, three times the space sounds a bit too much, or I make a
> >mistake in the book. :)
> >  
> >
> there already was  a discussion about disk usage during index optimize. 
> Please have a look to the developers list at: 
> http://mail-archives.apache.org/eyebrowse/ReadMsg?listName=lucene-dev@jakarta.apache.org&msgId=1797569 
> <http://mail-archives.apache.org/eyebrowse/ReadMsg?listName=lucene-dev@jakarta.apache.org&msgId=1797569>
> where i made some measurements about the disk usage within lucene.
> At that time i proposed a patch which was reducing disk total used disk 
> size from 3 times to a little more than 2 times of the final index size. 
> Together with Christoph we implemented some improvements to the 
> optimization patch and finally commit the changes.
> 
Hmm. In the case that the index is used (open reader), I doubt your patch 
makes a difference. In that case the disk space used by the non optimized 
index will still be used even if the files are deleted (on unix/linux).
What happens, if disk space run's out during creation of the compound index?
Will the non compound files be a usable index?
Otherwise you risk to loose the index.

Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13037-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 07 07:51:20 2005
Return-Path: <lucene-user-return-13037-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 45928 invoked from network); 7 Feb 2005 07:51:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Feb 2005 07:51:19 -0000
Received: (qmail 20269 invoked by uid 500); 7 Feb 2005 07:51:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 20241 invoked by uid 500); 7 Feb 2005 07:51:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20227 invoked by uid 99); 7 Feb 2005 07:51:15 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO mail.sofari.com) (12.43.53.196)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 06 Feb 2005 23:51:14 -0800
Received: from [192.168.1.104] (dsl081-071-021.sfo1.dsl.speakeasy.net [64.81.71.21])
	by mail.sofari.com (8.12.11/8.12.3/Debian-6.6) with ESMTP id j177p8jQ029966
	for <lucene-user@jakarta.apache.org>; Sun, 6 Feb 2005 23:51:08 -0800
Message-ID: <42071DE6.5040302@newsmonster.org>
Date: Sun, 06 Feb 2005 23:51:02 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040616
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: DbDirectory and Berkeley DB Java Edition...
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I'm reading the Lucene in Action book right nowand on page 309 they talk 
about using the DbDirectory which berkeley DB for maintaining your index.

Anyone ever consider a port to Berkeley DB Java Edition?

The only downside would be the license (I think its GPL) but it could 
really free up the time it takes to optimize() I think.  You could just 
rehash the hashtable and then insert rows into the new table.

Would be interesting to benchmark I think though.

Thoughts?

http://www.sleepycat.com/products/je.shtml

-- 

Use Rojo (RSS/Atom aggregator).  Visit http://rojo.com. Ask me for an 
invite!  Also see irc.freenode.net #rojo if you want to chat.

Rojo is Hiring! - http://www.rojonetworks.com/JobsAtRojo.html

If you're interested in RSS, Weblogs, Social Networking, etc... then you 
should work for Rojo!  If you recommend someone and we hire them you'll 
get a free iPod!
    
Kevin A. Burton, Location - San Francisco, CA
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13038-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 07 08:07:56 2005
Return-Path: <lucene-user-return-13038-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 53660 invoked from network); 7 Feb 2005 08:07:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Feb 2005 08:07:56 -0000
Received: (qmail 45753 invoked by uid 500); 7 Feb 2005 08:07:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 45718 invoked by uid 500); 7 Feb 2005 08:07:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 45700 invoked by uid 99); 7 Feb 2005 08:07:50 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from server1.hostmon.com (HELO server1.hostmon.com) (66.139.76.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 07 Feb 2005 00:07:49 -0800
Received: (qmail 1757 invoked by uid 532); 7 Feb 2005 08:05:48 -0000
Received: from dave-lucene-user@tropo.com by server1.hostmon.com by uid 0 with qmail-scanner-1.16 
 (spamassassin: 3.0.0.  Clear:. 
 Processed in 0.220673 secs); 07 Feb 2005 08:05:48 -0000
Received: from unknown (HELO ?172.31.1.2?) (127.0.0.1)
  by 0 with SMTP; 7 Feb 2005 08:05:47 -0000
Message-ID: <420721D0.6060906@tropo.com>
Date: Mon, 07 Feb 2005 00:07:44 -0800
From: David Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.5) Gecko/20041217
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  lucene-user@jakarta.apache.org
Subject: Configurable indexing of an RDBMS, has it been done before?
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Many times I've written ad-hoc code that pulls in data from an RDBMS and 
builds a Lucene index. The use case is a typical database-driven dynamic 
website which would be a hassle to spider (say, due to tricky 
authentication).

I had a feeling this had been done in a general manner but didn't see 
any code in the sandbox, nor did any searches turn it up.

I've spent a few mins thinking this thru - what I'd expect is to be able 
to configure is:

1. JDBC Driver + conn params
2. Query to do a 1 time full index
3. Query to show new records
4. Query to show changed records
5. Query to show deleted records
6. Query columns to Lucene Field name mapping
7. "Type" of each field name (e.g. the equivalent of the args to the 
Field ctr)

So a simple example, taking item 2 is

	query: "select url, name, body from foo"

(now the column to field mapping)
	col 1 => url
	col 2 => title
	col 3 => contents

(now the field types for each named field)

	url => Field( ...store=true, index=false)
       title => Field( ...store=true, index=true)
    contents => Field( ...store=false, index=true)



And voilla, nice, elegant, data driven indexing.
Does it exist?
Should it? :)

PS
  I know in the more general form, "query" needs to be replaced by 
"queries" above, and the updated query may need some time stamp variable 
expansion, and possibly the queries need "paging" to deal w/ lamo DBs 
like mysql that don't have cursors for large result sets...




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13039-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 07 08:54:22 2005
Return-Path: <lucene-user-return-13039-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 99539 invoked from network); 7 Feb 2005 08:54:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Feb 2005 08:54:22 -0000
Received: (qmail 4170 invoked by uid 500); 7 Feb 2005 08:54:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 4149 invoked by uid 500); 7 Feb 2005 08:54:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4135 invoked by uid 99); 7 Feb 2005 08:54:16 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web21322.mail.yahoo.com (HELO web21322.mail.yahoo.com) (216.136.175.208)
  by apache.org (qpsmtpd/0.28) with SMTP; Mon, 07 Feb 2005 00:54:14 -0800
Received: (qmail 72720 invoked by uid 60001); 7 Feb 2005 08:54:12 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=U5cFuQmceV/2bGCM54jLSkdrUA9xFrOLDO/0sveTJw0sFU5jHg6A5F62ElIOXkR0BG9V9Xo2yRq2Ik28oKs2a32OzemiWRumsmXFKmlbPKpUnogAMZBtnGNBUEgpkUgGllk2K5A8GtVvDG4qsGHMbtJVlcBYEpXHdwunlkk9GkE=  ;
Message-ID: <20050207085412.72718.qmail@web21322.mail.yahoo.com>
Received: from [193.226.211.176] by web21322.mail.yahoo.com via HTTP; Mon, 07 Feb 2005 00:54:12 PST
Date: Mon, 7 Feb 2005 00:54:12 -0800 (PST)
From: Sanyi <need4sid@yahoo.com>
Subject: Re: PHP-Lucene Integration
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <4206BB7E.7070602@max3d.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi!

Can you please explain how did you implement the java and php part to let them communicate through
this bridge?
The brige's project summary talks about "java "application-server" or a dedicated java process"
and I'm not into Java that much.
Currenty I'm using a self-written command-line search program and it outputs its results to the
standard output.
I guess your solution must be better ;)

If the "communication parts" of your code aren't top secret, can you please share them with me/us?

Regards,
Sanyi



		
__________________________________ 
Do you Yahoo!? 
Read only the mail you want - Yahoo! Mail SpamGuard. 
http://promotions.yahoo.com/new_mail 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13040-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 07 10:29:54 2005
Return-Path: <lucene-user-return-13040-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 36954 invoked from network); 7 Feb 2005 10:29:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Feb 2005 10:29:54 -0000
Received: (qmail 9542 invoked by uid 500); 7 Feb 2005 10:29:52 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 8941 invoked by uid 500); 7 Feb 2005 10:29:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8928 invoked by uid 99); 7 Feb 2005 10:29:50 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from otto.isd-holland.nl (HELO otto2.isd-holland.nl) (62.221.254.21)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 07 Feb 2005 02:29:50 -0800
Received: from [192.168.0.50] (dsl-82-199-135-164.dutchdsl.nl [82.199.135.164])
	by otto2.isd-holland.nl (Postfix) with ESMTP id 0AEDF3640C5
	for <lucene-user@jakarta.apache.org>; Mon,  7 Feb 2005 11:29:52 +0100 (CET)
Message-ID: <4207431A.2040202@rotterdam-cs.com>
Date: Mon, 07 Feb 2005 11:29:46 +0100
From: Aad Nales <aad.nales@rotterdam-cs.com>
User-Agent: Mozilla Thunderbird 1.0 (X11/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Configurable indexing of an RDBMS, has it been done before?
References: <420721D0.6060906@tropo.com>
In-Reply-To: <420721D0.6060906@tropo.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Yep,

This is how we do it.

We have a search.xml that maps database fields to search fields and a 
parameter part that describes the 'click for detailed result url' and 
the parameter names (based on the search fields). In this xml we also 
describe how the different fields should be stored we have for instance 
a number of large text fields for we use the unstored option.

The framework that we have build around has an element that we call 
detailer. This detailer creates a lucene Document with the fields as 
specified in the search.xml

To illustrate here is the code that specifies the detailer for a forum.


-------------------------------------------------- XML ---------------------
<documenttype id="FORUM" index="general" defaultfield="body">
<fields>
<field property="messageid" searchfield="messageid" type="unindexed" 
key="true"/>
<field property="instanceid" searchfield="instanceid" type="unindexed" />
<field property="subject" searchfield="title" type="split" maxwords="8" />
<field property="body" searchfield="default" type="split" maxwords="20" />
<field property="aka_username" searchfield="username" type="keyword" />
<field property="modifiedDateAsDate" searchfield="modifieddate" 
type="keyword" />
</fields>
<action uri="/forum/viewMessage.do" 
image="/htmlarea/images/cops_insert_threadlink.gif">
<parameter property="messageid" name="messageid"/>
<parameter property="instanceid" name="instanceid"/>
</action>
<analyzer 
classname="org.apache.lucene.analysis.standard.StandardAnalyzer"/>
</documenttype>
-------------------------------- END XML -------------------

Please note:

Messageid is the keyfield here when we search the index we use a 
combined TYPE + KEY id to filter out double hits on the same document 
(not unusual in for instance a long forum thread).

Per type of document we also specifify what picture to show in the 
result (image), and we specify in what index the result should be 
written and what the general search field is (if the user submits a 
query without search all and without a field specified).

We have added the 'split' key word which makes it possbile to search a 
long text but only store a bit in the resulting hit.

The reindex is pretty straightforward we build a series of detailers for 
all possible document types and we run through the database and call the 
right detailer from a HashMap.

We have not included the JDBC stuff since the application is always 
running in Tomcat-Struts and since we cache most of the database reads. 
(a completely differnt story).

Queries on new and changed records seem to only make sense if asked in a 
context of time. (Right?). We have not needed it yet. The mapping can be 
query from a singleton java class. (SearchConfiguration).

We are currently adding functionality to store 'user structured data' 
best imagined as user defined input forms that are described in XML and 
are then stored as XML in the database. We query these documents using 
Lucene. These documents end up in the same index but this is quite 
manageable by using specialized detailers. For these document the type 
is more important then for the 'normally' stored documents. For this 
latter situation the search logic assumes that the query is 
appropriately configured by the application.

I am not sure if this is the kind of solution that you are looking for, 
but everything we produce is 100% open source.

Cheers,
Aad


David Spencer wrote:

> Many times I've written ad-hoc code that pulls in data from an RDBMS 
> and builds a Lucene index. The use case is a typical database-driven 
> dynamic website which would be a hassle to spider (say, due to tricky 
> authentication).
>
> I had a feeling this had been done in a general manner but didn't see 
> any code in the sandbox, nor did any searches turn it up.
>
> I've spent a few mins thinking this thru - what I'd expect is to be 
> able to configure is:
>
> 1. JDBC Driver + conn params
> 2. Query to do a 1 time full index
> 3. Query to show new records
> 4. Query to show changed records
> 5. Query to show deleted records
> 6. Query columns to Lucene Field name mapping
> 7. "Type" of each field name (e.g. the equivalent of the args to the 
> Field ctr)
>
> So a simple example, taking item 2 is
>
> query: "select url, name, body from foo"
>
> (now the column to field mapping)
> col 1 => url
> col 2 => title
> col 3 => contents
>
> (now the field types for each named field)
>
> url => Field( ...store=true, index=false)
> title => Field( ...store=true, index=true)
> contents => Field( ...store=false, index=true)
>
>
>
> And voilla, nice, elegant, data driven indexing.
> Does it exist?
> Should it? :)
>
> PS
> I know in the more general form, "query" needs to be replaced by 
> "queries" above, and the updated query may need some time stamp 
> variable expansion, and possibly the queries need "paging" to deal w/ 
> lamo DBs like mysql that don't have cursors for large result sets...
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13041-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 07 10:41:51 2005
Return-Path: <lucene-user-return-13041-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 40776 invoked from network); 7 Feb 2005 10:41:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Feb 2005 10:41:51 -0000
Received: (qmail 23369 invoked by uid 500); 7 Feb 2005 10:41:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 23343 invoked by uid 500); 7 Feb 2005 10:41:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23328 invoked by uid 99); 7 Feb 2005 10:41:47 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of TheRanger@gmx.net designates 213.165.64.20 as permitted sender)
Received: from pop.gmx.de (HELO mail.gmx.net) (213.165.64.20)
  by apache.org (qpsmtpd/0.28) with SMTP; Mon, 07 Feb 2005 02:41:46 -0800
Received: (qmail 25548 invoked by uid 0); 7 Feb 2005 10:41:43 -0000
Received: from 193.63.235.44 by www10.gmx.net with HTTP;
	Mon, 7 Feb 2005 11:41:43 +0100 (MET)
Date: Mon, 7 Feb 2005 11:41:43 +0100 (MET)
From: "Karl Koch" <TheRanger@gmx.net>
To: "User " <lucene-user@jakarta.apache.org>
MIME-Version: 1.0
Subject: Retrieve all documents - possible?
X-Priority: 3 (Normal)
X-Authenticated: #21808356
Message-ID: <6242.1107772903@www10.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

is it possible to retrieve ALL documents from a Lucene index? This should
then actually not be a search...

Karl

-- 
Lassen Sie Ihren Gedanken freien Lauf... z.B. per FreeSMS
GMX bietet bis zu 100 FreeSMS/Monat: http://www.gmx.net/de/go/mail

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13042-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 07 10:42:47 2005
Return-Path: <lucene-user-return-13042-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 41086 invoked from network); 7 Feb 2005 10:42:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Feb 2005 10:42:47 -0000
Received: (qmail 24834 invoked by uid 500); 7 Feb 2005 10:42:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 24812 invoked by uid 500); 7 Feb 2005 10:42:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24799 invoked by uid 99); 7 Feb 2005 10:42:42 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 07 Feb 2005 02:42:41 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id B999213E28FC; Mon,  7 Feb 2005 05:42:39 -0500 (EST)
Received: from [192.168.1.104] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id 4BC4F13E28F9
	for <lucene-user@jakarta.apache.org>; Mon,  7 Feb 2005 05:42:30 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <420713A3.90204@ifit.uni-klu.ac.at>
References: <20050204165525.23042.qmail@web30201.mail.mud.yahoo.com> <03d601c50b1c$ae6ff5d0$7703d00a@hypermedia.com> <1081c493bd80a555f390191c641f9c45@ehatchersolutions.com> <Pine.LNX.4.58.0502041744520.4294@hal.rescomp.berkeley.edu> <5425d345fc609349f5962d3e0e31b46d@ehatchersolutions.com> <420713A3.90204@ifit.uni-klu.ac.at>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <8cd7b988e36ef8d03be8c5be925d6696@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Starts With x and Ends With x Queries
Date: Mon, 7 Feb 2005 05:42:27 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.5 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Feb 7, 2005, at 2:07 AM, sergiu gordea wrote:

> Hi Erick,
>
>>
>>
>> "In order to prevent extremely slow WildcardQueries, a Wildcard term 
>> must not start with one of the wildcards <code>*</code> or 
>> <code>?</code>."
>>
>> I don't read that as saying you cannot use an initial wildcard 
>> character, but rather as if you use a leading wildcard character you 
>> risk performance issues.  I'm going to change "must" to "should".
>
> Will this change available in the next realease of lucene? How do you 
> plan to implement this? Will this be available as an atributte of  
> QueryParser?

I'm not changing any functionality.  WildcardQuery will still support 
leading wildcard characters, QueryParser will still disallow them.  All 
I'm going to change is the javadoc that makes it sound like 
WildcardQuery does not support leading wildcard characters.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13043-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 07 11:09:55 2005
Return-Path: <lucene-user-return-13043-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 52678 invoked from network); 7 Feb 2005 11:09:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Feb 2005 11:09:54 -0000
Received: (qmail 63936 invoked by uid 500); 7 Feb 2005 11:09:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 63887 invoked by uid 500); 7 Feb 2005 11:09:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 63736 invoked by uid 99); 7 Feb 2005 11:09:47 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from p15112568.pureserver.info (HELO p15112568.pureserver.info) (217.160.91.29)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 07 Feb 2005 03:09:46 -0800
Received: from [192.168.10.103] (ppp-62-245-209-114.mnet-online.de [62.245.209.114])
	(using TLSv1 with cipher RC4-MD5 (128/128 bits))
	(No client certificate requested)
	by p15112568.pureserver.info (Postfix) with ESMTP id 80FDF14010F
	for <lucene-user@jakarta.apache.org>; Mon,  7 Feb 2005 12:09:43 +0100 (CET)
Message-ID: <42074C6F.20203@intrafind.de>
Date: Mon, 07 Feb 2005 12:09:35 +0100
From: Bernhard Messer <bernhard.messer@intrafind.de>
Organization: IntraFind Software AG
User-Agent: Mozilla Thunderbird 0.8 (X11/20040913)
X-Accept-Language: de-DE, de, en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Retrieve all documents - possible?
References: <6242.1107772903@www10.gmx.net>
In-Reply-To: <6242.1107772903@www10.gmx.net>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

you could use something like:

int maxDoc = reader.maxDoc();
for (int i = 0; i < maxDoc; i++) {
    Document doc = reader.document(i);
}

Bernhard

>Hi,
>
>is it possible to retrieve ALL documents from a Lucene index? This should
>then actually not be a search...
>
>Karl
>
>  
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13044-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 07 11:16:26 2005
Return-Path: <lucene-user-return-13044-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 55876 invoked from network); 7 Feb 2005 11:16:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Feb 2005 11:16:26 -0000
Received: (qmail 74470 invoked by uid 500); 7 Feb 2005 11:16:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 74429 invoked by uid 500); 7 Feb 2005 11:16:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 74411 invoked by uid 99); 7 Feb 2005 11:16:17 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from lyra.lunarpages.com (HELO lyra.lunarpages.com) (64.235.230.140)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 07 Feb 2005 03:16:16 -0800
Received: from mueasb-wan159.citykom.de ([195.202.39.159] helo=Kelvin)
	by lyra.lunarpages.com with esmtpa (Exim 4.44)
	id 1Cy6sF-0007Iq-TL
	for lucene-user@jakarta.apache.org; Mon, 07 Feb 2005 03:16:12 -0800
From:     Kelvin Tan <kelvin-lists@relevanz.com>
To:       Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: Barca 1.1 (840) - Licensed Version
Date: Mon, 7 Feb 2005 12:16:01 +0100
Message-ID: <20052712161.416912@Kelvin>
In-Reply-To: <42074C6F.20203@intrafind.de>
Subject: Re: Retrieve all documents - possible?
Mime-Version: 1.0
Content-Type: text/plain; charset="ISO-8859-1"
Content-Transfer-Encoding: quoted-printable
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - lyra.lunarpages.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - relevanz.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Don't forget to test if a document is deleted with reader.isDeleted(i)

On Mon, 07 Feb 2005 12:09:35 +0100, Bernhard Messer wrote:
>=A0you could use something like:
>
>=A0int maxDoc =3D reader.maxDoc();
>=A0for (int i =3D 0; i <=A0maxDoc; i++) {
>=A0Document doc =3D reader.document(i);
>=A0}
>
>=A0Bernhard
>
>>=A0Hi,
>>
>>=A0is it possible to retrieve ALL documents from a Lucene index?
>>=A0This should then actually not be a search...
>>
>>=A0Karl
>
>
>=A0--------------------------------------------------------------------
>=A0- To unsubscribe, e-mail: lucene-user-
>=A0unsubscribe@jakarta.apache.org For additional commands, e-mail:
>=A0lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13045-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 07 11:16:59 2005
Return-Path: <lucene-user-return-13045-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 56156 invoked from network); 7 Feb 2005 11:16:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Feb 2005 11:16:59 -0000
Received: (qmail 76784 invoked by uid 500); 7 Feb 2005 11:16:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 76748 invoked by uid 500); 7 Feb 2005 11:16:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 76721 invoked by uid 99); 7 Feb 2005 11:16:52 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from shared4.hardhathosting.com (HELO getopt.org) (69.44.16.11)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 07 Feb 2005 03:16:50 -0800
Received: from [192.168.0.252] (75-mo3-2.acn.waw.pl [62.121.105.75])
	(authenticated)
	by getopt.org (8.11.6/8.11.6) with ESMTP id j17BGMN13002
	for <lucene-user@jakarta.apache.org>; Mon, 7 Feb 2005 05:16:22 -0600
Message-ID: <42074E1E.5070804@getopt.org>
Date: Mon, 07 Feb 2005 12:16:46 +0100
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Retrieve all documents - possible?
References: <6242.1107772903@www10.gmx.net>
In-Reply-To: <6242.1107772903@www10.gmx.net>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Karl Koch wrote:
> Hi,
> 
> is it possible to retrieve ALL documents from a Lucene index? This should
> then actually not be a search...

You are right. Just use the IndexReader.document(int).


-- 
Best regards,
Andrzej Bialecki
  ___. ___ ___ ___ _ _   __________________________________
[__ || __|__/|__||\/|  Information Retrieval, Semantic Web
___|||__||  \|  ||  |  Embedded Unix, System Integration
http://www.sigram.com  Contact: info at sigram dot com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13046-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 07 13:48:44 2005
Return-Path: <lucene-user-return-13046-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 35422 invoked from network); 7 Feb 2005 13:48:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Feb 2005 13:48:44 -0000
Received: (qmail 58874 invoked by uid 500); 7 Feb 2005 13:48:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 58841 invoked by uid 500); 7 Feb 2005 13:48:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 58824 invoked by uid 99); 7 Feb 2005 13:48:31 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from static-68-236-183-90.ny325.east.verizon.net (HELO mail01.nyc-ofc.criticalmention.com) (68.236.183.90)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 07 Feb 2005 05:48:30 -0800
Received: from MCELONA (unknown [192.168.42.109])
	by mail01.nyc-ofc.criticalmention.com (Postfix) with ESMTP id 678521675D
	for <lucene-user@jakarta.apache.org>; Mon,  7 Feb 2005 08:48:25 -0500 (EST)
From: "Michael Celona" <mcelona@criticalmention.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Similarity coord,lengthNorm
Date: Mon, 7 Feb 2005 08:48:29 -0500
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0004_01C50CF1.CBF54E30"
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
Thread-Index: AcUNG7Su9pwOSpX5RqidlEfhqHGKMw==
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Message-Id: <20050207134825.678521675D@mail01.nyc-ofc.criticalmention.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0004_01C50CF1.CBF54E30
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

I have varying length text fields which I am searching on.  I would like
relevancy to be dictated predominantly by the number of terms in my query
that match.  Right now I am seeing a high relevancy for a single word
matching in a small document even though all the terms in my query don't
match.  Does, anyone have an example of a custom Similarity sub class which
overrides the coord and lengthNorm methods.

 

Thanks..

Michael 


------=_NextPart_000_0004_01C50CF1.CBF54E30--



From lucene-user-return-13047-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 07 13:54:04 2005
Return-Path: <lucene-user-return-13047-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 37152 invoked from network); 7 Feb 2005 13:54:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Feb 2005 13:54:03 -0000
Received: (qmail 67021 invoked by uid 500); 7 Feb 2005 13:53:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 66978 invoked by uid 500); 7 Feb 2005 13:53:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 66912 invoked by uid 99); 7 Feb 2005 13:53:53 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from static-68-236-183-90.ny325.east.verizon.net (HELO mail01.nyc-ofc.criticalmention.com) (68.236.183.90)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 07 Feb 2005 05:53:51 -0800
Received: from MCELONA (unknown [192.168.42.109])
	by mail01.nyc-ofc.criticalmention.com (Postfix) with ESMTP id 7CD1B1675D
	for <lucene-user@jakarta.apache.org>; Mon,  7 Feb 2005 08:53:49 -0500 (EST)
From: "Michael Celona" <mcelona@criticalmention.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Similarity coord,lengthNorm
Date: Mon, 7 Feb 2005 08:53:53 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
Thread-Index: AcUNG7Su9pwOSpX5RqidlEfhqHGKMwAAKjsQ
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
In-Reply-To: <20050207134825.678521675D@mail01.nyc-ofc.criticalmention.com>
Message-Id: <20050207135349.7CD1B1675D@mail01.nyc-ofc.criticalmention.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Would fixing the lengthNorm to 1 fix this problem?

Michael

-----Original Message-----
From: Michael Celona [mailto:mcelona@criticalmention.com] 
Sent: Monday, February 07, 2005 8:48 AM
To: Lucene Users List
Subject: Similarity coord,lengthNorm

I have varying length text fields which I am searching on.  I would like
relevancy to be dictated predominantly by the number of terms in my query
that match.  Right now I am seeing a high relevancy for a single word
matching in a small document even though all the terms in my query don't
match.  Does, anyone have an example of a custom Similarity sub class which
overrides the coord and lengthNorm methods.

 

Thanks..

Michael 




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13048-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 07 14:51:26 2005
Return-Path: <lucene-user-return-13048-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 20661 invoked from network); 7 Feb 2005 14:51:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Feb 2005 14:51:25 -0000
Received: (qmail 64283 invoked by uid 500); 7 Feb 2005 14:51:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 64253 invoked by uid 500); 7 Feb 2005 14:51:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64237 invoked by uid 99); 7 Feb 2005 14:51:20 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 07 Feb 2005 06:51:19 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 2CD3213E28FC; Mon,  7 Feb 2005 09:51:17 -0500 (EST)
Received: from [128.143.167.231] (d-128-167-231.bootp.Virginia.EDU [128.143.167.231])
	by ehatchersolutions.com (Postfix) with ESMTP id 1293913E28F9
	for <lucene-user@jakarta.apache.org>; Mon,  7 Feb 2005 09:50:55 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <20050207135349.7CD1B1675D@mail01.nyc-ofc.criticalmention.com>
References: <20050207135349.7CD1B1675D@mail01.nyc-ofc.criticalmention.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <c198cfee8c8563b0b25e738b3838c1e7@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Similarity coord,lengthNorm
Date: Mon, 7 Feb 2005 09:50:52 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-3.7 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Feb 7, 2005, at 8:53 AM, Michael Celona wrote:
> Would fixing the lengthNorm to 1 fix this problem?

Yes, it would eliminate the length of a field as a factor.

Your best bet is to set up a test harness where you can try out various 
tweaks to Similarity, but setting the length normalization factor to 
1.0 may be all you need to do, as the coord() takes care of the other 
factor you're after.

	Erik

>
> Michael
>
> -----Original Message-----
> From: Michael Celona [mailto:mcelona@criticalmention.com]
> Sent: Monday, February 07, 2005 8:48 AM
> To: Lucene Users List
> Subject: Similarity coord,lengthNorm
>
> I have varying length text fields which I am searching on.  I would 
> like
> relevancy to be dictated predominantly by the number of terms in my 
> query
> that match.  Right now I am seeing a high relevancy for a single word
> matching in a small document even though all the terms in my query 
> don't
> match.  Does, anyone have an example of a custom Similarity sub class 
> which
> overrides the coord and lengthNorm methods.
>
>
>
> Thanks..
>
> Michael
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13049-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 07 16:09:33 2005
Return-Path: <lucene-user-return-13049-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 76820 invoked from network); 7 Feb 2005 16:09:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Feb 2005 16:09:32 -0000
Received: (qmail 50015 invoked by uid 500); 7 Feb 2005 16:09:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 49995 invoked by uid 500); 7 Feb 2005 16:09:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 49981 invoked by uid 99); 7 Feb 2005 16:09:27 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from reh001-1.rex001.exchangebyregister.com (HELO reh001-1.REX001.ExchangeByRegister.com) (64.78.19.14)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 07 Feb 2005 08:09:26 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Similarity coord,lengthNorm
Date: Mon, 7 Feb 2005 08:09:23 -0800
Message-ID: <E3381E0825F1954D953A4E347017BB1C03373E36@reh001-1.REX001.ExchangeByRegister.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Similarity coord,lengthNorm
Thread-Index: AcUNJH8hJ6PtP1S4TBSIxZUndfQ9VwACipaQ
From: "Chuck Williams" <chuck@manawiz.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Michael,

I'd suggest first using the explain() mechanism to figure out what's
going on.  Besides lengthNorm(), another factor that is likely skewing
your results in my experience is idf(), which Lucene typically makes
very large by squaring the intrinsic value.  I've found it helpful to
flatten lengthNorm(), tf() and idf() relative to what is used in
DefaultSimilarity.  There is a comparative evaluation of Similarity's
going on now.  You might consider looking at these:

Bug 32674 has a WikipediaSimilarity posted that you might want to try.
You might want to flatten lengthNorm() even further (e.g. all the way to
1.0), but I'd suggest trying it as is first.  If you try it, please post
your assessment.  Here's the link:
http://issues.apache.org/bugzilla/show_bug.cgi?id=3D32674

You also might find it interesting to read the thread entitled "RE:
Scoring benchmark evaluation.  Was RE: How to proceed with Bug 31841 -
MultiSearcher problems with Similarity.docFreq() ?" on lucene-dev, as
this contains a discussion of many of the issues.

Good luck,

Chuck

  > -----Original Message-----
  > From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
  > Sent: Monday, February 07, 2005 6:51 AM
  > To: Lucene Users List
  > Subject: Re: Similarity coord,lengthNorm
  >=20
  >=20
  > On Feb 7, 2005, at 8:53 AM, Michael Celona wrote:
  > > Would fixing the lengthNorm to 1 fix this problem?
  >=20
  > Yes, it would eliminate the length of a field as a factor.
  >=20
  > Your best bet is to set up a test harness where you can try out
various
  > tweaks to Similarity, but setting the length normalization factor to
  > 1.0 may be all you need to do, as the coord() takes care of the
other
  > factor you're after.
  >=20
  > 	Erik
  >=20
  > >
  > > Michael
  > >
  > > -----Original Message-----
  > > From: Michael Celona [mailto:mcelona@criticalmention.com]
  > > Sent: Monday, February 07, 2005 8:48 AM
  > > To: Lucene Users List
  > > Subject: Similarity coord,lengthNorm
  > >
  > > I have varying length text fields which I am searching on.  I
would
  > > like
  > > relevancy to be dictated predominantly by the number of terms in
my
  > > query
  > > that match.  Right now I am seeing a high relevancy for a single
word
  > > matching in a small document even though all the terms in my query
  > > don't
  > > match.  Does, anyone have an example of a custom Similarity sub
class
  > > which
  > > overrides the coord and lengthNorm methods.
  > >
  > >
  > >
  > > Thanks..
  > >
  > > Michael
  > >
  > >
  > >
  > >
  > >
---------------------------------------------------------------------
  > > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
  > > For additional commands, e-mail:
lucene-user-help@jakarta.apache.org
  >=20
  >=20
  >
---------------------------------------------------------------------
  > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
  > For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13050-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 07 16:29:31 2005
Return-Path: <lucene-user-return-13050-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 86362 invoked from network); 7 Feb 2005 16:29:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Feb 2005 16:29:30 -0000
Received: (qmail 85277 invoked by uid 500); 7 Feb 2005 16:29:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 85248 invoked by uid 500); 7 Feb 2005 16:29:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85234 invoked by uid 99); 7 Feb 2005 16:29:26 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from humanizing-42.iquest.net (HELO htexc.hq.htinc.com) (206.246.149.42)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 07 Feb 2005 08:29:24 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: Query Analyzer
Date: Mon, 7 Feb 2005 11:29:12 -0500
Message-ID: <4568BE33B520DD43B7B24DE0B609B215608B66@htexc.hq.htinc.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Query Analyzer
Thread-Index: AcUNJH8hJ6PtP1S4TBSIxZUndfQ9VwACipaQAADS8FA=
From: "Ravi" <ravi@htinc.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

How do I set the analyzer when I build the query in my code instead of
using a query parser ?

Thanks in advance
Ravi.=20



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13051-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 07 16:40:32 2005
Return-Path: <lucene-user-return-13051-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 92494 invoked from network); 7 Feb 2005 16:40:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Feb 2005 16:40:32 -0000
Received: (qmail 2356 invoked by uid 500); 7 Feb 2005 16:40:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 2335 invoked by uid 500); 7 Feb 2005 16:40:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2321 invoked by uid 99); 7 Feb 2005 16:40:27 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 07 Feb 2005 08:40:27 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 349BF13E28FE; Mon,  7 Feb 2005 11:40:21 -0500 (EST)
Received: from [128.143.167.231] (d-128-167-231.bootp.Virginia.EDU [128.143.167.231])
	by ehatchersolutions.com (Postfix) with ESMTP id 7583413E28F9
	for <lucene-user@jakarta.apache.org>; Mon,  7 Feb 2005 11:39:31 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <4568BE33B520DD43B7B24DE0B609B215608B66@htexc.hq.htinc.com>
References: <4568BE33B520DD43B7B24DE0B609B215608B66@htexc.hq.htinc.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <c78b675b470ace7e36962948db48cee3@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Query Analyzer
Date: Mon, 7 Feb 2005 11:39:23 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-3.7 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Feb 7, 2005, at 11:29 AM, Ravi wrote:

> How do I set the analyzer when I build the query in my code instead of
> using a query parser ?

You don't.  All terms you use for any Query subclasses you instantiate 
must match exactly the terms in the index.  If you need an analyzer to 
do this then you're responsible for doing it yourself, just as 
QueryParser does underneath.  I do this myself in my current 
application like this:

     private Query createPhraseQuery(String fieldName, String string, 
boolean lowercase) {
         RossettiAnalyzer analyzer = new RossettiAnalyzer(lowercase);
         TokenStream stream = analyzer.tokenStream(fieldName, new 
StringReader(string));

         PhraseQuery pq = new PhraseQuery();
         Token token;
         try {
           while ((token = stream.next()) != null) {
               pq.add(new Term(fieldName, token.termText()));
           }
         } catch (IOException ignored) {
           // ignore - shouldn't get an IOException on a StringReader
         }

         if (pq.getTerms().length == 1) {
             // optimize single term phrase to TermQuery
             return new TermQuery(pq.getTerms()[0]);
         }

         return pq;
     }

Hope that helps.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13052-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 07 17:27:32 2005
Return-Path: <lucene-user-return-13052-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 18004 invoked from network); 7 Feb 2005 17:27:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Feb 2005 17:27:32 -0000
Received: (qmail 93354 invoked by uid 500); 7 Feb 2005 17:27:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 93157 invoked by uid 500); 7 Feb 2005 17:27:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93141 invoked by uid 99); 7 Feb 2005 17:27:27 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from ns.cybersites.net (HELO ns.uscybersites.net) (206.98.167.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 07 Feb 2005 09:27:27 -0800
Received: from [127.0.0.1] (unknown [216.126.80.147])
	by ns.uscybersites.net (Postfix) with ESMTP id 24FDA82982
	for <lucene-user@jakarta.apache.org>; Mon,  7 Feb 2005 12:23:56 -0500 (EST)
Message-ID: <4207A4F9.5050805@max3d.com>
Date: Mon, 07 Feb 2005 12:27:21 -0500
From: "amigo@max3d.com" <amigo@max3d.com>
User-Agent: Mozilla Thunderbird 0.9 (Windows/20041103)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: PHP-Lucene Integration
References: <20050207085412.72718.qmail@web21322.mail.yahoo.com>
In-Reply-To: <20050207085412.72718.qmail@web21322.mail.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Howdy,

For starters, compile and install the java bridge (and if necessary 
recompile PHP and Apache2) and make sure it works (there's a test php 
file supplied).

Then, here's a simplified part of my code, just to give you an example 
how it works. This is the part that does the searching, indexing is done 
in a similar way.

PHP:

...some code here for HTML page setup etc...

$lucene_dir = $GLOBALS["lucene_dir"];
java_set_library_path("/path/to/your/custom/lucene-classes.jar");
$obj = new Java("searcher"); // searcher is the custom written class 
that does actual searching and data output
$writer = new Java("java.io.StringWriter");
$obj->setWriter($writer);
$obj->initSearch($lucene_dir);
$obj->getQuery($query); // $query is the user supplied query from the 
HTML form, not visible here

// get the last exception
$e = java_last_exception_get();

if ($e) {
    // print error
    echo $e->toString();
} else {
    echo $writer->toString();
    $writer->flush();
    $writer->close();
}
java_last_exception_get();
// clear the exception
java_last_exception_clear();

---------------------------------

JAVA (custom written class located in the 
/path/to/your/custom/lucene-classes.jar):

import ...whatever is needed here for the class...

public class searcher {

   IndexReader reader     = null;
   IndexSearcher s        = null;          //the searcher used to 
open/search the index
   Query q                = null;          //the Query created by the 
QueryParser
   BooleanQuery query  = new BooleanQuery();
   Hits hits              = null;          //the search results
   
   public Writer out;

   public void setWriter(Writer out) {
                this.out=out;
   }

  public void initSearch(String indexName) throws Exception {
        try {
                File indexFile            = new File(indexName);
                Directory activeDir       = 
FSDirectory.getDirectory(indexFile, false);
                if(reader.isLocked(activeDir)) {
                        //out.write("Lucene index is locked, waiting 5 
sec.");
                        Thread.sleep(5000);
                }
                reader = IndexReader.open(indexName);
                s = new IndexSearcher(reader);
                //out.write("Index opened");
        } catch (Exception e) {
                throw new Exception(e.getMessage());
        }
   }

   public void getQuery(String queryString) throws Exception {

        int totalhits   = 0;
        Analyzer analyzer = new StandardAnalyzer();
       
        String[] queryFields = 
{"field1","field2","field3","field4","field5};
        float[] boostFields = {10, 6, 2, 1, 1};

        try {
                for ( int i = 0; i < queryFields.length; i++)
                {
                q = QueryParser.parse(queryString, queryFields[i], 
analyzer);
                if (boostFields[i] > 1)
                        q.setBoost(boostFields[i]);
                query.add(q, false, false);
                }
        } catch (ParseException e) {
                throw new Exception(e.getMessage());
        }

        try {
                hits = s.search(query);
        } catch (Exception e) {
                throw new Exception(e.getMessage());
        }
       
        totalhits = hits.length();

        if (totalhits == 0) {                             // if we find 
no hits, tell the user
                out.write("<br>I'm sorry I couldn't find your query: " + 
queryString);
        } else {

        for (int i = 0; i < totalhits; i++) {
            Document doc = hits.doc(i);
            String field1 = doc.get("field1");
            String field2 = doc.get("field2");
            String field3 = doc.get("field3");
            String field4 = doc.get("field4");
            String field5 = doc.get("field5");
            out.write("Field1: " + field1 + ", Field2: " + field2 + ", 
Field3: " + field3 + ", Field4: " + field4 + ", Field5: " + field5 + 
"<br>");
        }
  }
}



Sanyi said the following on 2/7/2005 3:54 AM:

>Hi!
>
>Can you please explain how did you implement the java and php part to let them communicate through
>this bridge?
>The brige's project summary talks about "java "application-server" or a dedicated java process"
>and I'm not into Java that much.
>Currenty I'm using a self-written command-line search program and it outputs its results to the
>standard output.
>I guess your solution must be better ;)
>
>If the "communication parts" of your code aren't top secret, can you please share them with me/us?
>
>Regards,
>Sanyi
>
>
>
>		
>__________________________________ 
>Do you Yahoo!? 
>Read only the mail you want - Yahoo! Mail SpamGuard. 
>http://promotions.yahoo.com/new_mail 
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>  
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13053-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 07 17:47:06 2005
Return-Path: <lucene-user-return-13053-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 28393 invoked from network); 7 Feb 2005 17:47:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Feb 2005 17:47:06 -0000
Received: (qmail 39494 invoked by uid 500); 7 Feb 2005 17:47:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 39477 invoked by uid 500); 7 Feb 2005 17:47:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39463 invoked by uid 99); 7 Feb 2005 17:47:00 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from humanizing-42.iquest.net (HELO htexc.hq.htinc.com) (206.246.149.42)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 07 Feb 2005 09:46:59 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Query Analyzer
Date: Mon, 7 Feb 2005 12:46:46 -0500
Message-ID: <4568BE33B520DD43B7B24DE0B609B215608B71@htexc.hq.htinc.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Query Analyzer
Thread-Index: AcUNM73MhUabSu/RRce35YGReAfxIgACTa8A
From: "Ravi" <ravi@htinc.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

That worked. Thanks a lot.=20

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]=20
Sent: Monday, February 07, 2005 11:39 AM
To: Lucene Users List
Subject: Re: Query Analyzer


On Feb 7, 2005, at 11:29 AM, Ravi wrote:

> How do I set the analyzer when I build the query in my code instead of
> using a query parser ?

You don't.  All terms you use for any Query subclasses you instantiate=20
must match exactly the terms in the index.  If you need an analyzer to=20
do this then you're responsible for doing it yourself, just as=20
QueryParser does underneath.  I do this myself in my current=20
application like this:

     private Query createPhraseQuery(String fieldName, String string,=20
boolean lowercase) {
         RossettiAnalyzer analyzer =3D new RossettiAnalyzer(lowercase);
         TokenStream stream =3D analyzer.tokenStream(fieldName, new=20
StringReader(string));

         PhraseQuery pq =3D new PhraseQuery();
         Token token;
         try {
           while ((token =3D stream.next()) !=3D null) {
               pq.add(new Term(fieldName, token.termText()));
           }
         } catch (IOException ignored) {
           // ignore - shouldn't get an IOException on a StringReader
         }

         if (pq.getTerms().length =3D=3D 1) {
             // optimize single term phrase to TermQuery
             return new TermQuery(pq.getTerms()[0]);
         }

         return pq;
     }

Hope that helps.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13054-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 07 18:03:27 2005
Return-Path: <lucene-user-return-13054-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 42663 invoked from network); 7 Feb 2005 18:03:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Feb 2005 18:03:27 -0000
Received: (qmail 75088 invoked by uid 500); 7 Feb 2005 18:03:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 74727 invoked by uid 500); 7 Feb 2005 18:03:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 74710 invoked by uid 99); 7 Feb 2005 18:03:22 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from sparta.hostgo.com (HELO sparta.hostgo.com) (66.220.22.162)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 07 Feb 2005 10:03:21 -0800
Received: from [65.19.37.63] (helo=[10.0.1.2])
	by sparta.hostgo.com with esmtpa (Exim 4.44)
	id 1CyDEC-0006oI-Pw
	for lucene-user@jakarta.apache.org; Mon, 07 Feb 2005 13:03:17 -0500
Mime-Version: 1.0 (Apple Message framework v619)
Content-Transfer-Encoding: 7bit
Message-Id: <8A269A2E-7932-11D9-BD83-000A95973046@backspaces.net>
Content-Type: text/plain; charset=US-ASCII; format=flowed
To: lucene-user@jakarta.apache.org
From: Owen Densmore <owen@backspaces.net>
Subject: Re: PHP-Lucene Integration
Date: Mon, 7 Feb 2005 11:03:15 -0700
X-Mailer: Apple Mail (2.619)
X-MailScanner-Information: This email message has been scanned for viruses
X-MailScanner-HostGo: Found to be clean
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - sparta.hostgo.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - backspaces.net
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Wow, thanks all for the great spectrum of possibilities.  We'll be 
doing a design review in a week or two with the client and we'll find 
out what way would be best for their site.  I'll report back then.

Thanks again, what a group!

Owen


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13055-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 07 18:14:05 2005
Return-Path: <lucene-user-return-13055-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 47781 invoked from network); 7 Feb 2005 18:14:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Feb 2005 18:14:04 -0000
Received: (qmail 99837 invoked by uid 500); 7 Feb 2005 18:13:59 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 99815 invoked by uid 500); 7 Feb 2005 18:13:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 99802 invoked by uid 99); 7 Feb 2005 18:13:59 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from rogue.ncsl.nist.gov (HELO rogue.ncsl.nist.gov) (129.6.101.41)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 07 Feb 2005 10:13:57 -0800
Received: from rogue.ncsl.nist.gov.nist.gov (localhost.localdomain [127.0.0.1])
	by rogue.ncsl.nist.gov (8.12.11/8.12.11) with ESMTP id j17IDtE5014899
	for <lucene-user@jakarta.apache.org>; Mon, 7 Feb 2005 13:13:55 -0500
From: Ian Soboroff <ian.soboroff@nist.gov>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Reconstruct segments file?
References: <9cf6518jm8f.fsf@rogue.ncsl.nist.gov>
	<4203CC2A.6050209@apache.org>
Date: Mon, 07 Feb 2005 13:13:55 -0500
In-Reply-To: <4203CC2A.6050209@apache.org> (Doug Cutting's message of "Fri, 04
	Feb 2005 11:25:30 -0800")
Message-ID: <9cfhdko44rg.fsf@rogue.ncsl.nist.gov>
User-Agent: Gnus/5.110003 (No Gnus v0.3) Emacs/21.3 (gnu/linux)
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Doug Cutting <cutting@apache.org> writes:

> Ian Soboroff wrote:
>> I've looked over the file formats web page, and poked at a known-good
>> segments file from a separate, similar index using od(1) and such.  I
>> guess what I'm not sure how to do is to recover the SegSize from the
>> segment I have.
>
> The SegSize should be the same as the length in bytes of any of the 
> .f[0-9]+ files in the segment.  If your segment is in compound format 
> then you can use IndexReader.main() in the current SVN version to list 
> the files and sizes in the .cfs file, including its contained .f[0-9]+ 
> files.

Thanks, Doug, that is a huge help.

BTW, the fileformats.html page on the Lucene web site is incorrect
with regards to the segments file.  The description should read:

Segments --> Format, Version, Counter, SegCount, 
             <SegName, SegSize>^SegCount

That is, the Counter field is missing.  The Counter field is a UInt32.
Counter is used to generate the next segment name (see
IndexWriter.newSegmentName()).

Speaking of Counter, I have a dumb question.  If the segments are
named using an integer counter which is incremented, what is the point
in converting that counter into a string for the segment filename?
Why not just name the segments e.g. "1.frq", etc.?

Ian




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13056-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 07 18:38:42 2005
Return-Path: <lucene-user-return-13056-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 65281 invoked from network); 7 Feb 2005 18:38:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Feb 2005 18:38:42 -0000
Received: (qmail 34372 invoked by uid 500); 7 Feb 2005 18:38:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 34348 invoked by uid 500); 7 Feb 2005 18:38:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 34335 invoked by uid 99); 7 Feb 2005 18:38:37 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from rwcrmhc13.comcast.net (HELO rwcrmhc13.comcast.net) (204.127.198.39)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 07 Feb 2005 10:38:37 -0800
Received: from [192.168.168.81] (c-24-5-160-217.client.comcast.net[24.5.160.217])
          by comcast.net (rwcrmhc13) with ESMTP
          id <20050207183835015009kl9ae>; Mon, 7 Feb 2005 18:38:35 +0000
Message-ID: <4207B5AA.7050007@apache.org>
Date: Mon, 07 Feb 2005 10:38:34 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 0.9 (X11/20041127)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Reconstruct segments file?
References: <9cf6518jm8f.fsf@rogue.ncsl.nist.gov>	<4203CC2A.6050209@apache.org> <9cfhdko44rg.fsf@rogue.ncsl.nist.gov>
In-Reply-To: <9cfhdko44rg.fsf@rogue.ncsl.nist.gov>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Ian Soboroff wrote:
> Speaking of Counter, I have a dumb question.  If the segments are
> named using an integer counter which is incremented, what is the point
> in converting that counter into a string for the segment filename?
> Why not just name the segments e.g. "1.frq", etc.?

The names are prefixed with an underscore, since it turns out that some 
filesystems have trouble (DOS?) with certain all-digit names.  Other 
than that, they are integers, just with a large radix.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13057-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 07 19:05:47 2005
Return-Path: <lucene-user-return-13057-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 79152 invoked from network); 7 Feb 2005 19:05:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Feb 2005 19:05:47 -0000
Received: (qmail 76422 invoked by uid 500); 7 Feb 2005 19:05:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 76401 invoked by uid 500); 7 Feb 2005 19:05:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 76387 invoked by uid 99); 7 Feb 2005 19:05:42 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from server1.hostmon.com (HELO server1.hostmon.com) (66.139.76.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 07 Feb 2005 11:05:41 -0800
Received: (qmail 12996 invoked by uid 532); 7 Feb 2005 19:03:39 -0000
Received: from dave-lucene-user@tropo.com by server1.hostmon.com by uid 0 with qmail-scanner-1.16 
 (spamassassin: 3.0.0.  Clear:. 
 Processed in 0.149576 secs); 07 Feb 2005 19:03:39 -0000
Received: from unknown (HELO ?10.0.0.157?) (127.0.0.1)
  by 0 with SMTP; 7 Feb 2005 19:03:39 -0000
Message-ID: <4207BC1E.90005@tropo.com>
Date: Mon, 07 Feb 2005 11:06:06 -0800
From: David Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.3) Gecko/20040910
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Configurable indexing of an RDBMS, has it been done before?
References: <420721D0.6060906@tropo.com> <4207431A.2040202@rotterdam-cs.com>
In-Reply-To: <4207431A.2040202@rotterdam-cs.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Nice, very similar to what I was thinking of, where the most significant 
difference is probably just that I was thinking of a batch indexer, not 
one embedded in a web container. Probably a worthwhile contribution to 
the sandbox.




Aad Nales wrote:
> Yep,
> 
> This is how we do it.
> 
> We have a search.xml that maps database fields to search fields and a 
> parameter part that describes the 'click for detailed result url' and 
> the parameter names (based on the search fields). In this xml we also 
> describe how the different fields should be stored we have for instance 
> a number of large text fields for we use the unstored option.
> 
> The framework that we have build around has an element that we call 
> detailer. This detailer creates a lucene Document with the fields as 
> specified in the search.xml
> 
> To illustrate here is the code that specifies the detailer for a forum.
> 
> 
> -------------------------------------------------- XML 
> ---------------------
> <documenttype id="FORUM" index="general" defaultfield="body">
> <fields>
> <field property="messageid" searchfield="messageid" type="unindexed" 
> key="true"/>
> <field property="instanceid" searchfield="instanceid" type="unindexed" />
> <field property="subject" searchfield="title" type="split" maxwords="8" />
> <field property="body" searchfield="default" type="split" maxwords="20" />
> <field property="aka_username" searchfield="username" type="keyword" />
> <field property="modifiedDateAsDate" searchfield="modifieddate" 
> type="keyword" />
> </fields>
> <action uri="/forum/viewMessage.do" 
> image="/htmlarea/images/cops_insert_threadlink.gif">
> <parameter property="messageid" name="messageid"/>
> <parameter property="instanceid" name="instanceid"/>
> </action>
> <analyzer 
> classname="org.apache.lucene.analysis.standard.StandardAnalyzer"/>
> </documenttype>
> -------------------------------- END XML -------------------
> 
> Please note:
> 
> Messageid is the keyfield here when we search the index we use a 
> combined TYPE + KEY id to filter out double hits on the same document 
> (not unusual in for instance a long forum thread).
> 
> Per type of document we also specifify what picture to show in the 
> result (image), and we specify in what index the result should be 
> written and what the general search field is (if the user submits a 
> query without search all and without a field specified).
> 
> We have added the 'split' key word which makes it possbile to search a 
> long text but only store a bit in the resulting hit.
> 
> The reindex is pretty straightforward we build a series of detailers for 
> all possible document types and we run through the database and call the 
> right detailer from a HashMap.
> 
> We have not included the JDBC stuff since the application is always 
> running in Tomcat-Struts and since we cache most of the database reads. 
> (a completely differnt story).
> 
> Queries on new and changed records seem to only make sense if asked in a 
> context of time. (Right?). We have not needed it yet. The mapping can be 
> query from a singleton java class. (SearchConfiguration).
> 
> We are currently adding functionality to store 'user structured data' 
> best imagined as user defined input forms that are described in XML and 
> are then stored as XML in the database. We query these documents using 
> Lucene. These documents end up in the same index but this is quite 
> manageable by using specialized detailers. For these document the type 
> is more important then for the 'normally' stored documents. For this 
> latter situation the search logic assumes that the query is 
> appropriately configured by the application.
> 
> I am not sure if this is the kind of solution that you are looking for, 
> but everything we produce is 100% open source.
> 
> Cheers,
> Aad
> 
> 
> David Spencer wrote:
> 
>> Many times I've written ad-hoc code that pulls in data from an RDBMS 
>> and builds a Lucene index. The use case is a typical database-driven 
>> dynamic website which would be a hassle to spider (say, due to tricky 
>> authentication).
>>
>> I had a feeling this had been done in a general manner but didn't see 
>> any code in the sandbox, nor did any searches turn it up.
>>
>> I've spent a few mins thinking this thru - what I'd expect is to be 
>> able to configure is:
>>
>> 1. JDBC Driver + conn params
>> 2. Query to do a 1 time full index
>> 3. Query to show new records
>> 4. Query to show changed records
>> 5. Query to show deleted records
>> 6. Query columns to Lucene Field name mapping
>> 7. "Type" of each field name (e.g. the equivalent of the args to the 
>> Field ctr)
>>
>> So a simple example, taking item 2 is
>>
>> query: "select url, name, body from foo"
>>
>> (now the column to field mapping)
>> col 1 => url
>> col 2 => title
>> col 3 => contents
>>
>> (now the field types for each named field)
>>
>> url => Field( ...store=true, index=false)
>> title => Field( ...store=true, index=true)
>> contents => Field( ...store=false, index=true)
>>
>>
>>
>> And voilla, nice, elegant, data driven indexing.
>> Does it exist?
>> Should it? :)
>>
>> PS
>> I know in the more general form, "query" needs to be replaced by 
>> "queries" above, and the updated query may need some time stamp 
>> variable expansion, and possibly the queries need "paging" to deal w/ 
>> lamo DBs like mysql that don't have cursors for large result sets...
>>
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>>
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13058-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 07 19:13:57 2005
Return-Path: <lucene-user-return-13058-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 82637 invoked from network); 7 Feb 2005 19:13:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Feb 2005 19:13:57 -0000
Received: (qmail 94354 invoked by uid 500); 7 Feb 2005 19:13:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 94326 invoked by uid 500); 7 Feb 2005 19:13:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94311 invoked by uid 99); 7 Feb 2005 19:13:53 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 07 Feb 2005 11:13:51 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 3992513E28F9; Mon,  7 Feb 2005 14:13:50 -0500 (EST)
Received: from [128.143.167.231] (d-128-167-231.bootp.Virginia.EDU [128.143.167.231])
	by ehatchersolutions.com (Postfix) with ESMTP id 22F9513E28F9
	for <lucene-user@jakarta.apache.org>; Mon,  7 Feb 2005 14:13:47 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
Content-Transfer-Encoding: 7bit
Message-Id: <66631020c5cb629be2f5e7a485930014@ehatchersolutions.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
To: Lucene User <lucene-user@jakarta.apache.org>
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Fwd: SearchBean?
Date: Mon, 7 Feb 2005 14:13:42 -0500
X-Mailer: Apple Mail (2.619.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-3.7 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I want to double-check with the user community now that I've run this 
past the lucene-dev list.

Anyone using SearchBean from the Sandbox?  If so, please speak up and 
let me know what it offers that the sort feature does not.  If this is 
now essentially deprecated, I'd like to remove it.

Thanks,
	Erik


Begin forwarded message:

> From: Erik Hatcher <erik@ehatchersolutions.com>
> Date: February 6, 2005 10:02:37 AM EST
> To: Lucene List <lucene-dev@jakarta.apache.org>
> Subject: SearchBean?
> Reply-To: "Lucene Developers List" <lucene-dev@jakarta.apache.org>
>
> Is the SearchBean code in the Sandbox still useful now that we have 
> sorting in Lucene 1.4?  If so, what does it offer that the core does 
> not provide now?
>
> As I'm cleaning up the sandbox and migrating it to a "contrib" area, 
> I'm evaluating the pieces and making sure it makes sense to keep or if 
> it is no longer useful or should be reorganized in some way.
>
> 	Erik
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-dev-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-dev-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13059-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 07 20:22:39 2005
Return-Path: <lucene-user-return-13059-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 31868 invoked from network); 7 Feb 2005 20:22:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Feb 2005 20:22:39 -0000
Received: (qmail 37790 invoked by uid 500); 7 Feb 2005 20:22:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 37763 invoked by uid 500); 7 Feb 2005 20:22:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 37749 invoked by uid 99); 7 Feb 2005 20:22:33 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from ns.part.net (HELO mail.part.net) (65.106.108.178)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 07 Feb 2005 12:22:32 -0800
Received: from [192.168.5.23] ([192.168.1.253])
  by mail.part.net with esmtp; Mon, 07 Feb 2005 13:22:30 -0700
Message-ID: <4207CDFF.4080004@part.net>
Date: Mon, 07 Feb 2005 13:22:23 -0700
From: Todd VanderVeen <tdv@part.net>
User-Agent: Mozilla Thunderbird 0.9 (Windows/20041103)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Storage Cost of Indexed, Untokenized Fields
References: <3C6997A8-8661-11D8-86DE-0003938771F0@mellin.net> <4072E3A0.9090606@apache.org>
In-Reply-To: <4072E3A0.9090606@apache.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Is there an additional storage cost to flagging an untokenized, indexed 
field as stored? Is the flag just for indicating that it be returned in 
result sets? I assume storage for tokenized fields is managed 
separately, but am curious if untokenized fields are resolved from the 
native index structure?

Thanks,
Todd VanderVeen

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13060-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 07 20:41:59 2005
Return-Path: <lucene-user-return-13060-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 40615 invoked from network); 7 Feb 2005 20:41:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Feb 2005 20:41:59 -0000
Received: (qmail 75726 invoked by uid 500); 7 Feb 2005 20:41:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 75703 invoked by uid 500); 7 Feb 2005 20:41:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 75689 invoked by uid 99); 7 Feb 2005 20:41:55 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 07 Feb 2005 12:41:53 -0800
Received: from p001002 ([204.225.84.27]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Mon, 7 Feb 2005 15:46:08 -0500
Message-ID: <015c01c50d56$0cc19950$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20050204165525.23042.qmail@web30201.mail.mud.yahoo.com> <03d601c50b1c$ae6ff5d0$7703d00a@hypermedia.com> <1081c493bd80a555f390191c641f9c45@ehatchersolutions.com> <Pine.LNX.4.58.0502041744520.4294@hal.rescomp.berkeley.edu> <5425d345fc609349f5962d3e0e31b46d@ehatchersolutions.com> <Pine.LNX.4.58.0502061203210.19021@hal.rescomp.berkeley.edu>
Subject: RangeQuery With Date
Date: Mon, 7 Feb 2005 15:46:08 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 07 Feb 2005 20:46:08.0329 (UTC) FILETIME=[0CD0DB90:01C50D56]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi;

I am working on a set of queries that allow you to find modification dates
before, after and equal to a given date.

Here are some of the before queries I have been playing with. I want a query
that pull up dates modified before Nov 11 2004:

Query query = new RangeQuery(null, new Term("modified", "11/11/04"), false);

This one doesn't work. It turns up all the documents in the index.

Query query = QueryParser.parse("modified:[1/1/00 TO 11/11/04]", "subject",
new StandardAnalyzer());

This works but I don't like having to specify the begin date like this.

Query query = QueryParser.parse("modified:[null TO 11/11/04]", "subject",
new StandardAnalyzer());

This throws an exception.

How are other doing a Query like this?

Thanks,

Luke



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13061-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 07 21:08:18 2005
Return-Path: <lucene-user-return-13061-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 53044 invoked from network); 7 Feb 2005 21:08:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Feb 2005 21:08:18 -0000
Received: (qmail 14906 invoked by uid 500); 7 Feb 2005 21:08:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 14871 invoked by uid 500); 7 Feb 2005 21:08:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 14858 invoked by uid 99); 7 Feb 2005 21:08:13 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from shared4.hardhathosting.com (HELO getopt.org) (69.44.16.11)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 07 Feb 2005 13:08:12 -0800
Received: from [192.168.0.252] (75-mo3-2.acn.waw.pl [62.121.105.75])
	(authenticated)
	by getopt.org (8.11.6/8.11.6) with ESMTP id j17L7ki05289
	for <lucene-user@jakarta.apache.org>; Mon, 7 Feb 2005 15:07:46 -0600
Message-ID: <4207D8B8.3040602@getopt.org>
Date: Mon, 07 Feb 2005 22:08:08 +0100
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Similarity coord,lengthNorm
References: <20050207135349.7CD1B1675D@mail01.nyc-ofc.criticalmention.com> <c198cfee8c8563b0b25e738b3838c1e7@ehatchersolutions.com>
In-Reply-To: <c198cfee8c8563b0b25e738b3838c1e7@ehatchersolutions.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Erik Hatcher wrote:
> 
> On Feb 7, 2005, at 8:53 AM, Michael Celona wrote:
> 
>> Would fixing the lengthNorm to 1 fix this problem?
> 
> 
> Yes, it would eliminate the length of a field as a factor.
> 
> Your best bet is to set up a test harness where you can try out various 
> tweaks to Similarity, but setting the length normalization factor to 1.0 
> may be all you need to do, as the coord() takes care of the other factor 
> you're after.

I'm releasing next week a new version of Luke, which includes a custom 
Similarity designer (using Rhino JavaScript engine) - it makes 
experimenting with Similarity super-easy.

-- 
Best regards,
Andrzej Bialecki
  ___. ___ ___ ___ _ _   __________________________________
[__ || __|__/|__||\/|  Information Retrieval, Semantic Web
___|||__||  \|  ||  |  Embedded Unix, System Integration
http://www.sigram.com  Contact: info at sigram dot com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13062-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 07 21:15:46 2005
Return-Path: <lucene-user-return-13062-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 56461 invoked from network); 7 Feb 2005 21:15:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Feb 2005 21:15:46 -0000
Received: (qmail 25985 invoked by uid 500); 7 Feb 2005 21:15:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 25966 invoked by uid 500); 7 Feb 2005 21:15:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25953 invoked by uid 99); 7 Feb 2005 21:15:41 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_40_50,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mspmail2.stellent.com (HELO mspmail2.stellent.com) (12.40.185.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 07 Feb 2005 13:15:40 -0800
Received: from [10.10.20.20] ([10.10.20.20])
	by mspmail2.stellent.com (8.11.6+Sun/8.11.5) with ESMTP id j17LFaj23990
	for <lucene-user@jakarta.apache.org>; Mon, 7 Feb 2005 15:15:36 -0600 (CST)
Subject: Re: RangeQuery With Date
From: Luke Francl <luke.francl@stellent.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <015c01c50d56$0cc19950$7703d00a@hypermedia.com>
References: <20050204165525.23042.qmail@web30201.mail.mud.yahoo.com>
	 <03d601c50b1c$ae6ff5d0$7703d00a@hypermedia.com>
	 <1081c493bd80a555f390191c641f9c45@ehatchersolutions.com>
	 <Pine.LNX.4.58.0502041744520.4294@hal.rescomp.berkeley.edu>
	 <5425d345fc609349f5962d3e0e31b46d@ehatchersolutions.com>
	 <Pine.LNX.4.58.0502061203210.19021@hal.rescomp.berkeley.edu>
	 <015c01c50d56$0cc19950$7703d00a@hypermedia.com>
Content-Type: multipart/alternative; boundary="=-h0zB39De8vnGdc53uzjh"
Message-Id: <1107810923.12259.10.camel@localhost>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.6 
Date: Mon, 07 Feb 2005 15:15:23 -0600
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--=-h0zB39De8vnGdc53uzjh
Content-Type: text/plain
Content-Transfer-Encoding: 7bit

Your dates need to be stored in lexicographical order for the RangeQuery
to work.

Index them using this date format: YYYYMMDD.

Also, I'm not sure if the QueryParser can handle range queries with only
one end point. You may need to create this query programmatically.

Regards,
Luke Francl

--=-h0zB39De8vnGdc53uzjh--


From lucene-user-return-13063-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 07 21:20:41 2005
Return-Path: <lucene-user-return-13063-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 59721 invoked from network); 7 Feb 2005 21:20:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Feb 2005 21:20:40 -0000
Received: (qmail 39206 invoked by uid 500); 7 Feb 2005 21:20:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 39150 invoked by uid 500); 7 Feb 2005 21:20:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39094 invoked by uid 99); 7 Feb 2005 21:20:24 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of crodriguez@gmail.com designates 64.233.184.202 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.202)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 07 Feb 2005 13:20:24 -0800
Received: by wproxy.gmail.com with SMTP id 68so1654842wri
        for <lucene-user@jakarta.apache.org>; Mon, 07 Feb 2005 13:20:21 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type:content-transfer-encoding;
        b=qGwrbQWJm/EZ9OejM1oXuI0iZCFKm75U2kOuk+mn0yXgf8V7jZAJmuouVzqd2/QaeSFSEJKk1XiHUTUS21t01GWfpd07hWwpXwSOYxKhUCLUIM/NPlZzK2TseD5W+V1ZhrtIkAPly/qbgism8jKiYY0eVbJz9YxCREGKpjU6qcg=
Received: by 10.54.24.51 with SMTP id 51mr26221wrx;
        Mon, 07 Feb 2005 13:20:21 -0800 (PST)
Received: by 10.54.13.44 with HTTP; Mon, 7 Feb 2005 13:20:21 -0800 (PST)
Message-ID: <ce6cc8cf0502071320238aef41@mail.gmail.com>
Date: Mon, 7 Feb 2005 18:20:21 -0300
From: Christian Rodriguez <crodriguez@gmail.com>
Reply-To: Christian Rodriguez <crodriguez@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: When are deletions permanent?
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi everyone,

I need to "update a document" in Lucene. I already know that for that
I need to do a delete (IndexReader) and then an add (IndexWriter). I
also know that the deletion means been marked as deleted, until
optimize().

My question is, when am I SURE that the mark is "commited" to disk? I
mean, suppose that there is a crash while Im doing a deletion. Could
it be that when I recover and check Lucene, the item is still there?
At which point Im 100% sure the deletion is permanent?

What about adds?

Thanks,
Christian

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13064-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 07 22:10:32 2005
Return-Path: <lucene-user-return-13064-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 83875 invoked from network); 7 Feb 2005 22:10:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Feb 2005 22:10:32 -0000
Received: (qmail 33617 invoked by uid 500); 7 Feb 2005 22:10:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 32771 invoked by uid 500); 7 Feb 2005 22:10:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 32755 invoked by uid 99); 7 Feb 2005 22:10:28 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu) (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 07 Feb 2005 14:10:27 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 17B235B7AB; Mon,  7 Feb 2005 14:10:22 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id D9E977F459
	for <lucene-user@jakarta.apache.org>; Mon,  7 Feb 2005 14:10:22 -0800 (PST)
Date: Mon, 7 Feb 2005 14:10:22 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: RangeQuery With Date
In-Reply-To: <1107810923.12259.10.camel@localhost>
Message-ID: <Pine.LNX.4.58.0502071408320.27088@hal.rescomp.berkeley.edu>
References: <20050204165525.23042.qmail@web30201.mail.mud.yahoo.com> 
 <03d601c50b1c$ae6ff5d0$7703d00a@hypermedia.com> 
 <1081c493bd80a555f390191c641f9c45@ehatchersolutions.com> 
 <Pine.LNX.4.58.0502041744520.4294@hal.rescomp.berkeley.edu> 
 <5425d345fc609349f5962d3e0e31b46d@ehatchersolutions.com> 
 <Pine.LNX.4.58.0502061203210.19021@hal.rescomp.berkeley.edu> 
 <015c01c50d56$0cc19950$7703d00a@hypermedia.com> <1107810923.12259.10.camel@localhost>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

: Your dates need to be stored in lexicographical order for the RangeQuery
: to work.
:
: Index them using this date format: YYYYMMDD.
:
: Also, I'm not sure if the QueryParser can handle range queries with only
: one end point. You may need to create this query programmatically.

and when creating them progromaticaly, you need to use the exact same
format they were indexed in.  Assuming I've corectly guess what your
indexing code looks like, you probably want...

Query query = new RangeQuery(null, new Term("modified", "20041111"), false);




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13065-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 07 22:18:26 2005
Return-Path: <lucene-user-return-13065-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 88662 invoked from network); 7 Feb 2005 22:18:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Feb 2005 22:18:26 -0000
Received: (qmail 47822 invoked by uid 500); 7 Feb 2005 22:18:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 47793 invoked by uid 500); 7 Feb 2005 22:18:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 47780 invoked by uid 99); 7 Feb 2005 22:18:21 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 07 Feb 2005 14:18:20 -0800
Received: from p001002 ([204.225.84.27]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Mon, 7 Feb 2005 17:22:35 -0500
Message-ID: <017e01c50d63$8658d820$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20050204165525.23042.qmail@web30201.mail.mud.yahoo.com>  <03d601c50b1c$ae6ff5d0$7703d00a@hypermedia.com>  <1081c493bd80a555f390191c641f9c45@ehatchersolutions.com>  <Pine.LNX.4.58.0502041744520.4294@hal.rescomp.berkeley.edu>  <5425d345fc609349f5962d3e0e31b46d@ehatchersolutions.com>  <Pine.LNX.4.58.0502061203210.19021@hal.rescomp.berkeley.edu>  <015c01c50d56$0cc19950$7703d00a@hypermedia.com> <1107810923.12259.10.camel@localhost> <Pine.LNX.4.58.0502071408320.27088@hal.rescomp.berkeley.edu>
Subject: Re: RangeQuery With Date
Date: Mon, 7 Feb 2005 17:22:35 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 07 Feb 2005 22:22:35.0511 (UTC) FILETIME=[863EC070:01C50D63]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Bingo. Thanks!

Luke

----- Original Message ----- 
From: "Chris Hostetter" <hossman_lucene@fucit.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Monday, February 07, 2005 5:10 PM
Subject: Re: RangeQuery With Date


> : Your dates need to be stored in lexicographical order for the RangeQuery
> : to work.
> :
> : Index them using this date format: YYYYMMDD.
> :
> : Also, I'm not sure if the QueryParser can handle range queries with only
> : one end point. You may need to create this query programmatically.
>
> and when creating them progromaticaly, you need to use the exact same
> format they were indexed in.  Assuming I've corectly guess what your
> indexing code looks like, you probably want...
>
> Query query = new RangeQuery(null, new Term("modified", "20041111"),
false);
>
>
>
>
> -Hoss
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13066-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 07 22:51:32 2005
Return-Path: <lucene-user-return-13066-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 6241 invoked from network); 7 Feb 2005 22:51:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Feb 2005 22:51:32 -0000
Received: (qmail 92343 invoked by uid 500); 7 Feb 2005 22:51:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 91490 invoked by uid 500); 7 Feb 2005 22:51:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 91477 invoked by uid 99); 7 Feb 2005 22:51:29 -0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=FROM_ENDS_IN_NUMS,NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from w02.bloglines.com (HELO w02.bloglines.com) (216.148.212.184)
  by apache.org (qpsmtpd/0.28) with SMTP; Mon, 07 Feb 2005 14:51:27 -0800
Received: (qmail 32330 invoked by uid 99); 7 Feb 2005 22:51:26 -0000
Message-ID: <1107816686.923176986.32329.sendItem@bloglines.com>
Date: 7 Feb 2005 22:51:26 -0000
From: yahootintin.1247688@bloglines.com
To: lucene-user@jakarta.apache.org
Subject: Re: When are deletions permanent?
MIME-Version: 1.0
Content-Type: text/plain
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

When you close the IndexReader you know the delete is commited to disk.  I
believe calling the "commit" method will also guarantee that all changes are
written to disk.  

--- Lucene Users List" <lucene-user@jakarta.apache.org
wrote:
Hi everyone,
> 
> I need to "update a document" in Lucene. I already
know that for that
> I need to do a delete (IndexReader) and then an add
(IndexWriter). I
> also know that the deletion means been marked as deleted,
until
> optimize().
> 
> My question is, when am I SURE that the mark is
"commited" to disk? I
> mean, suppose that there is a crash while Im doing
a deletion. Could
> it be that when I recover and check Lucene, the item
is still there?
> At which point Im 100% sure the deletion is permanent?

> 
> What about adds?
> 
> Thanks,
> Christian
> 
> ---------------------------------------------------------------------

> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For
additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13067-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 07 23:49:28 2005
Return-Path: <lucene-user-return-13067-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 37780 invoked from network); 7 Feb 2005 23:49:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 7 Feb 2005 23:49:28 -0000
Received: (qmail 93177 invoked by uid 500); 7 Feb 2005 23:49:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 92807 invoked by uid 500); 7 Feb 2005 23:49:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 92793 invoked by uid 99); 7 Feb 2005 23:49:23 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 07 Feb 2005 15:49:22 -0800
Received: from p001002 ([204.225.84.27]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Mon, 7 Feb 2005 18:53:39 -0500
Message-ID: <019801c50d70$3eddaae0$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20050204165525.23042.qmail@web30201.mail.mud.yahoo.com> <03d601c50b1c$ae6ff5d0$7703d00a@hypermedia.com> <1081c493bd80a555f390191c641f9c45@ehatchersolutions.com> <Pine.LNX.4.58.0502041744520.4294@hal.rescomp.berkeley.edu>
Subject: Re: Starts With x and Ends With x Queries
Date: Mon, 7 Feb 2005 18:53:39 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 07 Feb 2005 23:53:39.0525 (UTC) FILETIME=[3F0D1F50:01C50D70]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I implemented this concept for my ends with query. It works very well!

----- Original Message ----- 
From: "Chris Hostetter" <hossman_lucene@fucit.org>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Friday, February 04, 2005 9:37 PM
Subject: Re: Starts With x and Ends With x Queries


>
> : Also keep in mind that QueryParser only allows a trailing asterisk,
> : creating a PrefixQuery.  However, if you use a WildcardQuery directly,
> : you can use an asterisk as the starting character (at the risk of
> : performance).
>
> On the issue of "ends with" wildcard queries, I wanted to throw out and
> idea that i've seen used to deal with matches like this in other systems.
> I've never acctually tried this with Lucene, but I've seen it used
> effectively with other systems where the goal is to "sort" strings by the
> least significant (ie: right most) characters first.  I think it could
> apply nicely to people who have compelling needs for efficent 'ends with'
> queries.
>
>
>
> Imagine you have a field call name, which you can already do efficient
> prefix matching on using the PrefixQuery class.  Your docs and query may
> look something like this...
>
>    D1> name:"Adam Smith" age:13 state:CA ...
>    D2> name:"Joe Bob" age:42 state:WA ...
>    D3> name:"John Adams" age:35 state:NV ...
>    D3> name:"Sue Smith" age:33 state:CA ...
>
> ...and your queries may look something like...
>
>    Query q1 = new PrefixQuery(new Term("name","J*"));
>    Query q2 = new PrefixQuery(new Term("name","Sue*"));
>
> If you want to start doing suffix queries (ie: all names ending with
> "s", or all names ending with "Smith") one approach would be to use
> WildcarQuery, which as Erik mentioned, will allow you to use a quey Term
> that starts with a "*". ie...
>
>    Query q3 = new WildcardQuery(new Term("name","*s"));
>    Query q4 = new WildcardQuery(new Term("name","*Smith"));
>
> (NOTE: Erik says you can do this, but the docs for WildcardQuery say you
> can't I'll assume the docs are wrong and Erik is correct.)
>
> The problem is that this is horrendously inefficient.  In order to find
> the docs that contain Terms which match your suffix, WildcardQuery must
> first identify what all of those Terms are, by iterating over every Term
> in your index to see if they match the suffix.  This is much slower then a
> PrefixQuery, or even a WildcardQuery that has just 1 initial character
> before a "*" (ie: "s*foobar"), because it can then seek to directly to the
> first Term that starts with that character, and also stop iterating as
> soon as it encounters a Term that no longer begins with that character.
>
> Which leads me to my point: if you denormalize your data so that you store
> both the Term you want, and the *reverse* of the term you want, then a
> Suffix query is just a Prefix query on a reversed field -- by sacrificing
> space, you can get all the speed efficiencies of a PrefixQuery when doing
> a SuffixQuery...
>
>    D1> name:"Adam Smith" rname:"htimS madA" age:13 state:CA ...
>    D2> name:"Joe Bob" rname:"boB oeJ" age:42 state:WA ...
>    D3> name:"John Adams" rname:"smadA nhoJ" age:35 state:NV ...
>    D3> name:"Sue Smith" rname:"htimS euS" age:33 state:CA ...
>
>    Query q1 = new PrefixQuery(new Term("name","J*"));
>    Query q2 = new PrefixQuery(new Term("name","Sue*"));
>    Query q3 = new PrefixQuery(new Term("rname","s*"));
>    Query q4 = new PrefixQuery(new Term("rname","htimS*"));
>
>
> (If anyone sees a flaw in my theory, please chime in)
>
>
> -Hoss
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13068-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 08 04:41:58 2005
Return-Path: <lucene-user-return-13068-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 55143 invoked from network); 8 Feb 2005 04:41:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Feb 2005 04:41:58 -0000
Received: (qmail 78063 invoked by uid 500); 8 Feb 2005 04:41:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 78032 invoked by uid 500); 8 Feb 2005 04:41:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78018 invoked by uid 99); 8 Feb 2005 04:41:45 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from sparta.hostgo.com (HELO sparta.hostgo.com) (66.220.22.162)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 07 Feb 2005 20:41:43 -0800
Received: from [65.19.37.63] (helo=[10.0.1.2])
	by sparta.hostgo.com with esmtpa (Exim 4.44)
	id 1CyNBw-0007Vd-JB
	for lucene-user@jakarta.apache.org; Mon, 07 Feb 2005 23:41:36 -0500
Mime-Version: 1.0 (Apple Message framework v619)
Content-Transfer-Encoding: 7bit
Message-Id: <B5C031CA-798B-11D9-99C0-000A95973046@backspaces.net>
Content-Type: text/plain; charset=US-ASCII; format=flowed
To: lucene-user@jakarta.apache.org
From: Owen Densmore <owen@backspaces.net>
Subject: Re: Document Clustering
Date: Mon, 7 Feb 2005 21:41:34 -0700
X-Mailer: Apple Mail (2.619)
X-MailScanner-Information: This email message has been scanned for viruses
X-MailScanner-HostGo: Found to be clean
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - sparta.hostgo.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - backspaces.net
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I would like to be able to analyze my document collection (~1200 
documents) and discover good "buckets" of categories for them.  I'm 
pretty sure this is termed Document Clustering .. finding the emergent 
clumps the documents fall naturally into judging from their term 
vectors.

Looking at the discussion that flared roughly a year ago (last message 
2003-11-12) with the subject Document Clustering, it seems Lucene 
should be able to help with this.  Has anyone had success with this 
recently?

Last year it was suggested Carrot2 could help, and it would even 
produce good labels for the clusters.  Has this proven to be true?  Our 
goal is to use clustering to build a nifty graphic interface, probably 
using Flash.

Thanks for any pointers.

Owen


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13069-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 08 07:42:50 2005
Return-Path: <lucene-user-return-13069-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 13890 invoked from network); 8 Feb 2005 07:42:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Feb 2005 07:42:50 -0000
Received: (qmail 30584 invoked by uid 500); 8 Feb 2005 07:42:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 30557 invoked by uid 500); 8 Feb 2005 07:42:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 30544 invoked by uid 99); 8 Feb 2005 07:42:37 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from pluto.isd-holland.nl (HELO pluto2.isd-holland.nl) (62.221.254.24)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 07 Feb 2005 23:42:37 -0800
Received: from [192.168.0.50] (dsl-82-199-135-164.dutchdsl.nl [82.199.135.164])
	by pluto2.isd-holland.nl (Postfix) with ESMTP id 572FD2FC207
	for <lucene-user@jakarta.apache.org>; Tue,  8 Feb 2005 08:42:34 +0100 (CET)
Message-ID: <42086D66.8070403@rotterdam-cs.com>
Date: Tue, 08 Feb 2005 08:42:30 +0100
From: Aad Nales <aad.nales@rotterdam-cs.com>
User-Agent: Mozilla Thunderbird 1.0 (X11/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Configurable indexing of an RDBMS, has it been done before?
References: <420721D0.6060906@tropo.com> <4207431A.2040202@rotterdam-cs.com> <4207BC1E.90005@tropo.com>
In-Reply-To: <4207BC1E.90005@tropo.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

If that is a general thought then I will plan for some time to put this 
in action.

Cheers,
Aad


David Spencer wrote:

> Nice, very similar to what I was thinking of, where the most 
> significant difference is probably just that I was thinking of a batch 
> indexer, not one embedded in a web container. Probably a worthwhile 
> contribution to the sandbox.
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13070-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 08 08:03:20 2005
Return-Path: <lucene-user-return-13070-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 20903 invoked from network); 8 Feb 2005 08:03:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Feb 2005 08:03:19 -0000
Received: (qmail 50553 invoked by uid 500); 8 Feb 2005 08:03:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 50395 invoked by uid 500); 8 Feb 2005 08:03:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 50381 invoked by uid 99); 8 Feb 2005 08:03:14 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of kristian.hermsdorf@ifbus.de designates 193.101.57.201 as permitted sender)
Received: from trinity.interface-business.de (HELO trinity.interface-business.de) (193.101.57.201)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 08 Feb 2005 00:03:11 -0800
Received: from localhost (localhost [127.0.0.1])
	by trinity.interface-business.de (Postfix) with ESMTP id AAE3253844
	for <lucene-user@jakarta.apache.org>; Tue,  8 Feb 2005 09:03:06 +0100 (CET)
Received: from willy.interface-business.de (willy.interface-business.de [193.101.57.12])
	by trinity.interface-business.de (Postfix) with ESMTP id 7EAB953844
	for <lucene-user@jakarta.apache.org>; Tue,  8 Feb 2005 09:03:06 +0100 (CET)
Received: from buddelflink.interface-business.de ([193.101.57.21])
 by willy.interface-business.de
 (Sun Java System Messaging Server 6.1 HotFix 0.06 (built Nov 11 2004))
 with ESMTP id <0IBL00A5V2D6TZ30@willy.interface-business.de> for
 lucene-user@jakarta.apache.org; Tue, 08 Feb 2005 09:03:06 +0100 (MET)
Date: Tue, 08 Feb 2005 09:03:05 +0100
From: Kristian Hermsdorf <kristian.hermsdorf@ifbus.de>
Subject: Re: Use an executable from java ...
In-reply-to: 
 <OF7A7BE3CA.5E42F7B7-ONC1256F9A.0061D85F-C1256F9A.00633C0A@urssaf.fr>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <opslvcnflwdlrf9s@buddelflink.interface-business.de>
Organization: Interface Projects
MIME-version: 1.0
Content-type: text/plain; format=flowed; delsp=yes; charset=iso-8859-15
References: 
 <OF7A7BE3CA.5E42F7B7-ONC1256F9A.0061D85F-C1256F9A.00633C0A@urssaf.fr>
User-Agent: Opera M2/7.60 (Win32, build 7321)
Content-Transfer-Encoding: quoted-printable
X-AntiVirus: checked by AntiVir MailGate (version: 2.0.2-6; AVE: 6.29.0.11; VDF: 6.29.0.111; host: trinity)
X-Spam-Status: No, hits=-103.6 required=7.0 tests=AWL,BAYES_00,
	USER_IN_WHITELIST autolearn=ham version=2.63
X-Spam-Level: 
X-Spam-Checker-Version: SpamAssassin 2.63 (2004-01-11) on 
	trinity.interface-business.de
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi

> I ve a kind of problem to execute a converting tool to modify a pdf to =
an
> html under Linux. In fact, i have an executable "pdftohtml" which work
> correctly on batch mode, and when I want to use it through Java under
> Windows 2000 works also,BUT it does not work at all on the server under
> linux. I m using the following code....

you've got to read the processes stdout and stderr while the process is r=
unning. If you don't read those streams the process will block after it w=
rote some (about 8k) bytes to ist's stdout/stderr.

We're using pdftotext as well, because PDFbox ist really slow. If your ap=
plication should work under Windows you will probably experiance some mys=
tic Java-VM crashes while executing external processes in batch-mode. (Th=
is is because of a bug in Windows-VM... we implemented out own Process wi=
th JNI to compensate this bug).

Greetings,
Kristian


--=20
ACRONYM: Acronym Causing Recursion, Obviously Numbing Your Mind =A0

Kristian Hermsdorf

Interface Projects GmbH
Tolkewitzer Stra=DFe  49	=09
01277 Dresden		=09


tel.: ++49-351-3 18 09 39

mail: Kristian.Hermsdorf@interface-business.de
priv: kristian@entropus.de


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13071-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 08 08:16:22 2005
Return-Path: <lucene-user-return-13071-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 43759 invoked from network); 8 Feb 2005 08:16:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Feb 2005 08:16:22 -0000
Received: (qmail 63746 invoked by uid 500); 8 Feb 2005 08:16:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 63292 invoked by uid 500); 8 Feb 2005 08:16:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 63273 invoked by uid 99); 8 Feb 2005 08:16:17 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from server1.hostmon.com (HELO server1.hostmon.com) (66.139.76.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 08 Feb 2005 00:16:16 -0800
Received: (qmail 606 invoked by uid 532); 8 Feb 2005 08:14:13 -0000
Received: from dave-lucene-user@tropo.com by server1.hostmon.com by uid 0 with qmail-scanner-1.16 
 (spamassassin: 3.0.0.  Clear:. 
 Processed in 0.222984 secs); 08 Feb 2005 08:14:13 -0000
Received: from unknown (HELO ?172.31.1.2?) (127.0.0.1)
  by 0 with SMTP; 8 Feb 2005 08:14:13 -0000
Message-ID: <4208754C.60502@tropo.com>
Date: Tue, 08 Feb 2005 00:16:12 -0800
From: David Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.5) Gecko/20041217
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Document Clustering
References: <B5C031CA-798B-11D9-99C0-000A95973046@backspaces.net>
In-Reply-To: <B5C031CA-798B-11D9-99C0-000A95973046@backspaces.net>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Owen Densmore wrote:

> I would like to be able to analyze my document collection (~1200 
> documents) and discover good "buckets" of categories for them.  I'm 
> pretty sure this is termed Document Clustering .. finding the emergent 
> clumps the documents fall naturally into judging from their term vectors.
> 
> Looking at the discussion that flared roughly a year ago (last message 
> 2003-11-12) with the subject Document Clustering, it seems Lucene should 
> be able to help with this.  Has anyone had success with this recently?
> 
> Last year it was suggested Carrot2 could help, and it would even produce 
> good labels for the clusters.  Has this proven to be true?  Our goal is 
> to use clustering to build a nifty graphic interface, probably using Flash.

Carrot2 seems to work nicely.
Demo here...

Search for something like "artificial intelligence" in my Wikipedia 
Search engine:

http://www.searchmorph.com/kat/wikipedia.jsp?s=artificial+intelligence

The click on "see clustered results.." link to go here:

http://www.searchmorph.com/kat/wikipedia-cluster.jsp?s=artificial%20intelligence

And voilla, what seems like decent clusters.

I'm not sure what the complexity of the algorithm is, but for me ~100 
docs works ok, maybe 200, but beyond 200 you need lots more CPU and RAM.

I suggest: try it w/ ~100 docs, and if you like what you see, keep 
increasing the # of docs you give it. You might have to wait a while w/ 
all 1,200 docs...

- Dave






> 
> Thanks for any pointers.
> 
> Owen
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13072-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 08 08:27:34 2005
Return-Path: <lucene-user-return-13072-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 53975 invoked from network); 8 Feb 2005 08:27:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Feb 2005 08:27:34 -0000
Received: (qmail 82141 invoked by uid 500); 8 Feb 2005 08:27:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 82118 invoked by uid 500); 8 Feb 2005 08:27:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 82105 invoked by uid 99); 8 Feb 2005 08:27:29 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web21324.mail.yahoo.com (HELO web21324.mail.yahoo.com) (216.136.175.210)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 08 Feb 2005 00:27:26 -0800
Received: (qmail 46468 invoked by uid 60001); 8 Feb 2005 08:27:25 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=kBW49xd+nU6fHYh1MdT2MkqWy0NVyCacF/Xone6pllFwcDT9qfga+dxSnIx2KV4MeioaVX/RiYbgfEXGSbu2BEXX618lYmjXGhgXTJwb3SPD3B59wOooyK6P8hq8OTXGJT3OGdErYHsqpjmeOYSbJDVp7JeW2qX28PQFzYHdvRg=  ;
Message-ID: <20050208082725.46466.qmail@web21324.mail.yahoo.com>
Received: from [193.226.211.176] by web21324.mail.yahoo.com via HTTP; Tue, 08 Feb 2005 00:27:24 PST
Date: Tue, 8 Feb 2005 00:27:24 -0800 (PST)
From: Sanyi <need4sid@yahoo.com>
Subject: Re: PHP-Lucene Integration
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <4207A4F9.5050805@max3d.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanx a lot!

Sanyi

--- "amigo@max3d.com" <amigo@max3d.com> wrote:

> Howdy,
> [...]



		
__________________________________ 
Do you Yahoo!? 
Yahoo! Mail - now with 250MB free storage. Learn more.
http://info.mail.yahoo.com/mail_250

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13073-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 08 08:42:01 2005
Return-Path: <lucene-user-return-13073-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 59160 invoked from network); 8 Feb 2005 08:42:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Feb 2005 08:42:00 -0000
Received: (qmail 97935 invoked by uid 500); 8 Feb 2005 08:41:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 97900 invoked by uid 500); 8 Feb 2005 08:41:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 97885 invoked by uid 99); 8 Feb 2005 08:41:55 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from gateway.aduna.biz (HELO mail.aduna.biz) (213.53.169.170)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 08 Feb 2005 00:41:54 -0800
Received: from [127.0.0.1] (laguna.tech.aduna.biz [10.1.0.20])
	by mail.aduna.biz (Postfix) with ESMTP id D78525A2F703;
	Tue,  8 Feb 2005 09:42:43 +0100 (CET)
Message-ID: <42087B44.9070908@aduna.biz>
Date: Tue, 08 Feb 2005 09:41:40 +0100
From: Christiaan Fluit <christiaan.fluit@aduna.biz>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.5) Gecko/20041217
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Use an executable from java ...
References: <OF7A7BE3CA.5E42F7B7-ONC1256F9A.0061D85F-C1256F9A.00633C0A@urssaf.fr> <opslvcnflwdlrf9s@buddelflink.interface-business.de>
In-Reply-To: <opslvcnflwdlrf9s@buddelflink.interface-business.de>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Kristian Hermsdorf wrote:

> We're using pdftotext as well, because PDFbox ist really slow. If your 
> application should work under Windows you will probably experiance some 
> mystic Java-VM crashes while executing external processes in batch-mode. 
> (This is because of a bug in Windows-VM... we implemented out own 
> Process with JNI to compensate this bug).

Just to defend PDFBox: we actually recently decided to move in the 
opposite direction.

We just removed pdftotext from our application and are now using PDFBox 
0.7.0 for all our PDF processing. Before we were using them both in 
parallel: pdftotext for fast text extraction and PDFBox for all metadata 
such as titles, authors, etc.

One reason for this is that with version 0.7.0 the difference in 
performance was only marginal on our testset of 113 PDF documents from 
various sources. Of course the difference will be bigger when you are 
only extracting text, because in the old situation we had to let two 
tools process the same file.

Upon closer inspection of the output, we also saw that pdftotext was not 
able to extract text from a significant amount of PDFs (9 out of 113 
documents, all perfectly readable PDF documents) while PDFBox performed 
flawlessly. For us, quality is of greater concern than speed.

Finally, I must say that the speed and quality of Ben's replies to bug 
reports and suggestions is very impressive, giving us confidence in that 
future problems will be handled satisfactorily.


Regards,

Chris
--

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13074-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 08 09:22:44 2005
Return-Path: <lucene-user-return-13074-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 77608 invoked from network); 8 Feb 2005 09:22:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Feb 2005 09:22:44 -0000
Received: (qmail 48675 invoked by uid 500); 8 Feb 2005 09:22:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 48641 invoked by uid 500); 8 Feb 2005 09:22:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 48628 invoked by uid 99); 8 Feb 2005 09:22:33 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of kristian.hermsdorf@ifbus.de designates 193.101.57.201 as permitted sender)
Received: from trinity.interface-business.de (HELO trinity.interface-business.de) (193.101.57.201)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 08 Feb 2005 01:22:31 -0800
Received: from localhost (localhost [127.0.0.1])
	by trinity.interface-business.de (Postfix) with ESMTP id 967AF53870
	for <lucene-user@jakarta.apache.org>; Tue,  8 Feb 2005 10:22:24 +0100 (CET)
Received: from willy.interface-business.de (willy.interface-business.de [193.101.57.12])
	by trinity.interface-business.de (Postfix) with ESMTP id 48E1D53870
	for <lucene-user@jakarta.apache.org>; Tue,  8 Feb 2005 10:22:24 +0100 (CET)
Received: from buddelflink.interface-business.de ([193.101.57.21])
 by willy.interface-business.de
 (Sun Java System Messaging Server 6.1 HotFix 0.06 (built Nov 11 2004))
 with ESMTP id <0IBL00H5R61B8L00@willy.interface-business.de> for
 lucene-user@jakarta.apache.org; Tue, 08 Feb 2005 10:22:23 +0100 (MET)
Date: Tue, 08 Feb 2005 10:22:22 +0100
From: Kristian Hermsdorf <kristian.hermsdorf@ifbus.de>
Subject: Re: Use an executable from java ...
In-reply-to: <42087B44.9070908@aduna.biz>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <opslvgbkexdlrf9s@buddelflink.interface-business.de>
Organization: Interface Projects
MIME-version: 1.0
Content-type: text/plain; format=flowed; delsp=yes; charset=iso-8859-15
References: 
 <OF7A7BE3CA.5E42F7B7-ONC1256F9A.0061D85F-C1256F9A.00633C0A@urssaf.fr>
 <opslvcnflwdlrf9s@buddelflink.interface-business.de>
 <42087B44.9070908@aduna.biz>
User-Agent: Opera M2/7.60 (Win32, build 7321)
Content-Transfer-Encoding: quoted-printable
X-AntiVirus: checked by AntiVir MailGate (version: 2.0.2-6; AVE: 6.29.0.11; VDF: 6.29.0.112; host: trinity)
X-Spam-Status: No, hits=-103.6 required=7.0 tests=AWL,BAYES_00,
	USER_IN_WHITELIST autolearn=ham version=2.63
X-Spam-Level: 
X-Spam-Checker-Version: SpamAssassin 2.63 (2004-01-11) on 
	trinity.interface-business.de
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Christiaan

> Just to defend PDFBox: we actually recently decided to move in the
> opposite direction.

I didn't want to offend PDFBox *g*

> We just removed pdftotext from our application and are now using PDFBox
> 0.7.0 for all our PDF processing. Before we were using them both in
> parallel: pdftotext for fast text extraction and PDFBox for all metadat=
a
> such as titles, authors, etc.

pdftotext is able to produce html output which contains these metadata as=
 well.
Conversion from pdf to html and parsing html is (with our tests) still tw=
ice as fast as PDFBox.

> Upon closer inspection of the output, we also saw that pdftotext was no=
t
> able to extract text from a significant amount of PDFs (9 out of 113
> documents, all perfectly readable PDF documents) while PDFBox performed
> flawlessly. For us, quality is of greater concern than speed.

That's courious beacause we experienced that pdftotext was able to conver=
t 33% more pdf documents than PDFBox.

> Finally, I must say that the speed and quality of Ben's replies to bug
> reports and suggestions is very impressive, giving us confidence in tha=
t
> future problems will be handled satisfactorily.

That's good. Out application supports alternative conversion pipelines th=
at provide fallback mechanims. If the first converter cannot convert a do=
cument a second converter is called. So PDFBox is our fallback converter.

Greetings
Kristian

--=20
ACRONYM: Acronym Causing Recursion, Obviously Numbing Your Mind =A0

Kristian Hermsdorf

Interface Projects GmbH
Tolkewitzer Stra=DFe  49	=09
01277 Dresden		=09


tel.: ++49-351-3 18 09 39

mail: Kristian.Hermsdorf@interface-business.de
priv: kristian@entropus.de


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13075-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 08 09:48:58 2005
Return-Path: <lucene-user-return-13075-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 89745 invoked from network); 8 Feb 2005 09:48:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Feb 2005 09:48:58 -0000
Received: (qmail 79248 invoked by uid 500); 8 Feb 2005 09:48:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 79225 invoked by uid 500); 8 Feb 2005 09:48:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 79210 invoked by uid 99); 8 Feb 2005 09:48:53 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from libra.cs.put.poznan.pl (HELO libra.cs.put.poznan.pl) (150.254.30.30)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 08 Feb 2005 01:48:51 -0800
Received: from libra.cs.put.poznan.pl (localhost [127.0.0.1])
	by libra (Postfix on VMS) with SMTP id 332CA3052
	for <lucene-user@jakarta.apache.org>; Tue,  8 Feb 2005 10:48:48 +0100 (CET)
Received: from [150.254.24.146] (idss-dw-pnca.cs.put.poznan.pl [150.254.24.146])
	by libra.cs.put.poznan.pl (Postfix on VMS) with ESMTP id DF5533050
	for <lucene-user@jakarta.apache.org>; Tue,  8 Feb 2005 10:48:47 +0100 (CET)
Message-ID: <42088B16.7030903@cs.put.poznan.pl>
Date: Tue, 08 Feb 2005 10:49:10 +0100
From: Dawid Weiss <dawid.weiss@cs.put.poznan.pl>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Document Clustering
References: <B5C031CA-798B-11D9-99C0-000A95973046@backspaces.net>
In-Reply-To: <B5C031CA-798B-11D9-99C0-000A95973046@backspaces.net>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Hi Owen,

> Last year it was suggested Carrot2 could help, and it would even produce 
> good labels for the clusters.  Has this proven to be true?  

Yes, Carrot2 should help you with this. The labels it creates highly 
depend on the quality of the input snippets, but the so-called KWIK 
snippets (keyword in context) should suffice (see David Spencer's 
example with Wikipedia).

There is one thing, though: what is employed in Carrot2 is an on-line 
unsupervised clusterer that is designed to work with small number of 
documents and incomplete descriptions (snippets versus full text 
documents). It will _not_ work for large document collections (thousands 
of documents) simply because it was not designed to do that. I guess
you could try with up to 500 snippets -- beyond that, you'll be waiting 
for the result forever.

There is a great number of algorithms that can cluster large document 
collections -- see proceedings from information retrieval conferences 
for example.

As for David's hints:

 > I'm not sure what the complexity of the algorithm is, but for me ~100 
 > docs works ok, maybe 200, but beyond 200 you need lots more CPU and RAM.

Yes, 100 to 200 snippets is optimal with the open source clustering 
algorithm. We have a refactored and optimized version of the Lingo 
clusterer that is commercial (it also provides hierarchical clustering 
capability as an add-on to the open source component). But even the 
commercial version will only cluster up to 500 -- 1000 snippets. As I 
said, it was not our goal to cluster document collections, rather to 
retrieve useful information from preprocessed snippets.

Dawid


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13076-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 08 11:05:42 2005
Return-Path: <lucene-user-return-13076-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 25169 invoked from network); 8 Feb 2005 11:05:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Feb 2005 11:05:42 -0000
Received: (qmail 77526 invoked by uid 500); 8 Feb 2005 11:05:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 77476 invoked by uid 500); 8 Feb 2005 11:05:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 77461 invoked by uid 99); 8 Feb 2005 11:05:28 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 08 Feb 2005 03:05:26 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 870B713E200A; Tue,  8 Feb 2005 06:05:21 -0500 (EST)
Received: from [192.168.1.100] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id 4E03D13E2006
	for <lucene-user@jakarta.apache.org>; Tue,  8 Feb 2005 06:04:57 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <42086D66.8070403@rotterdam-cs.com>
References: <420721D0.6060906@tropo.com> <4207431A.2040202@rotterdam-cs.com> <4207BC1E.90005@tropo.com> <42086D66.8070403@rotterdam-cs.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <4c469e32fbe1e2ac5343cc23b056c09d@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Configurable indexing of an RDBMS, has it been done before?
Date: Tue, 8 Feb 2005 06:04:56 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.5 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I agree that it is a worthwhile contribution.

Some suggestions... allow the configuration to specify field boost 
values, and analyzer(s).  If analyzers are specified per-field, then 
wrap then automatically with a PerFieldAnalyzerWrapper.  Also, having a 
facility to aggregate fields into a "contents"-like field would be nice 
- though maybe this would be covered implicitly as part of the SQL 
mapping with one of the columns being an aggregate column.

Perhaps the configuration aspect of it (XML mapping of expressions to 
field details) could be generalized to work with an object graph as 
well as SQL result sets.  OGNL (www.ognl.org) makes expression language 
glue and I can see it being used for mappings - for example the "name" 
field could be mapped to "company.president.name", where "company" is 
an object (or Map) with a "president" property, and so on.

	Erik



On Feb 8, 2005, at 2:42 AM, Aad Nales wrote:

> If that is a general thought then I will plan for some time to put 
> this in action.
>
> Cheers,
> Aad
>
>
> David Spencer wrote:
>
>> Nice, very similar to what I was thinking of, where the most 
>> significant difference is probably just that I was thinking of a 
>> batch indexer, not one embedded in a web container. Probably a 
>> worthwhile contribution to the sandbox.
>>
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13077-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 08 13:53:41 2005
Return-Path: <lucene-user-return-13077-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 4566 invoked from network); 8 Feb 2005 13:53:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Feb 2005 13:53:41 -0000
Received: (qmail 87919 invoked by uid 500); 8 Feb 2005 13:53:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 87895 invoked by uid 500); 8 Feb 2005 13:53:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 87881 invoked by uid 99); 8 Feb 2005 13:53:34 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_50_60,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from txgw.jda.com (HELO txgw.jda.com) (208.18.125.82)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 08 Feb 2005 05:53:33 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C50DE5.C5FD8827"
Subject: Problem searching Field.Keyword field
Date: Tue, 8 Feb 2005 07:54:57 -0600
Message-ID: <CDAE6E930813C34DA3CB30849CE6CD350A78EC@tx1prdex1.jda.corp.local>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Problem searching Field.Keyword field
Thread-Index: AcUN5cX1KYOAbveHTyS03mKKVJjgOw==
From: "Mike Miller" <Mike.Miller@jda.com>
To: <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C50DE5.C5FD8827
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

First let me say - Awesome tool!  Almost too easy to be true, but with
that being said....
=20
Hi,  I have read several articles and postings that indicate that the
Field.Keyword field should be searchable but it's not working for me,
until I change to Field.Text.  Parts of the index and search code are
included below - mostly lifted from articles,etc, including Erik Hatches
article on java.net.   I created a small KnowledgeBase web application
that contains a category field, which I want to be searchable.
Searching using a query string of category:Doc* or
category:Documentation does not find a hit unless I change the code to
add the category to the index as a Field.Text instead of Field.Keyword.
The field value is out there:   I have verified this using the TermEnum
to list the term values for field category and Documentation is in the
list of values. =20
=20
The intention is to provide a 'Advanced Search' page that allows the
user to search specific fields, like category, title and author instead
of always using the 'all' field. =20
=20
What am I doing wrong???     Thanks in advance.
=20
Index code:
=20
public boolean index(ArticleFormBean article) throws IOException {
  IndexWriter writer =3D new IndexWriter(indexDir, new =
StandardAnalyzer(),
false);
=20
         Document doc =3D new Document();
         doc.add(Field.UnStored("content", article.getContent()));
        doc.add(Field.Text("title", article.getTitle()));
        doc.add(Field.Text("author", article.getAuthor()));
        doc.add(Field.UnIndexed("articleId",
String.valueOf(article.getArticleId())));
        doc.add(Field.Keyword("createdDate", article.getCreateDate()));
        doc.add(Field.Keyword("modDate", article.getModDate()));
        doc.add(Field.Keyword("category", article.getCategory()));

        // create an 'all' field
        StringBuffer sb =3D new StringBuffer(4000);
        sb.append(article.getTitle()).append("
").append(article.getAuthor()).append(" ");
        sb.append(article.getContent()).append("
").append(article.getCategory());
        doc.add(Field.UnStored("all", sb.toString()));
       =20
        writer.addDocument(doc);
        writer.optimize();
        writer.close();
       =20
        return false;
 }
=20
Search code:
            File indexDir =3D new File("c:/dev/java/kb/index");
            Directory fsDir =3D FSDirectory.getDirectory(indexDir, =
false);
            IndexSearcher is =3D new IndexSearcher(fsDir);
            Query query =3D QueryParser.parse(q, "all", new
StandardAnalyzer());
            Hits hits =3D is.search(query);
           =20

=20
Mike Miller
JDA Software Group, Inc.
7501 Ester's Blvd, Suite 100
Irving, Texas 75063
=20

------_=_NextPart_001_01C50DE5.C5FD8827--

From lucene-user-return-13078-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 08 14:10:09 2005
Return-Path: <lucene-user-return-13078-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 12662 invoked from network); 8 Feb 2005 14:10:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Feb 2005 14:10:09 -0000
Received: (qmail 20574 invoked by uid 500); 8 Feb 2005 14:10:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 20084 invoked by uid 500); 8 Feb 2005 14:10:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20071 invoked by uid 99); 8 Feb 2005 14:10:04 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail2.runtime-collective.com (HELO goose.milesbarr.com) (212.42.171.92)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 08 Feb 2005 06:10:03 -0800
Received: by goose.milesbarr.com (Postfix, from userid 1000)
	id ECB452855B0; Tue,  8 Feb 2005 14:08:15 +0000 (GMT)
Subject: Re: Problem searching Field.Keyword field
From: Miles Barr <miles@runtime-collective.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <CDAE6E930813C34DA3CB30849CE6CD350A78EC@tx1prdex1.jda.corp.local>
References:
	 <CDAE6E930813C34DA3CB30849CE6CD350A78EC@tx1prdex1.jda.corp.local>
Content-Type: text/plain
Content-Transfer-Encoding: 7bit
Organization: Runtime Collective Ltd.
Date: Tue, 08 Feb 2005 14:08:15 +0000
Message-Id: <1107871695.30360.8.camel@goose.milesbarr.com>
Mime-Version: 1.0
X-Mailer: Evolution 2.0.2 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

You're using the query parser with the standard analyser. You should
construct a term query manually instead.

 
-- 
Miles Barr <miles@runtime-collective.com>
Runtime Collective Ltd.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13079-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 08 14:12:37 2005
Return-Path: <lucene-user-return-13079-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 14239 invoked from network); 8 Feb 2005 14:12:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Feb 2005 14:12:35 -0000
Received: (qmail 25609 invoked by uid 500); 8 Feb 2005 14:12:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 25451 invoked by uid 500); 8 Feb 2005 14:12:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25239 invoked by uid 99); 8 Feb 2005 14:12:25 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of ben@csh.rit.edu designates 129.21.60.6 as permitted sender)
Received: from blacksheep.csh.rit.edu (HELO blacksheep.csh.rit.edu) (129.21.60.6)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 08 Feb 2005 06:12:24 -0800
Received: from fury.csh.rit.edu (fury.csh.rit.edu [IPv6:2001:470:1f00:135:a00:20ff:fe8d:5399])
	by blacksheep.csh.rit.edu (Postfix) with ESMTP id D30A79144
	for <lucene-user@jakarta.apache.org>; Tue,  8 Feb 2005 09:12:21 -0500 (EST)
Received: by fury.csh.rit.edu (Postfix, from userid 38448)
	id B109114E3; Tue,  8 Feb 2005 09:12:21 -0500 (EST)
Received: from localhost (localhost [127.0.0.1])
	by fury.csh.rit.edu (Postfix) with ESMTP id A3AB314D7
	for <lucene-user@jakarta.apache.org>; Tue,  8 Feb 2005 09:12:21 -0500 (EST)
Date: Tue, 8 Feb 2005 09:12:21 -0500 (EST)
From: Ben Litchfield <ben@csh.rit.edu>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Use an executable from java ...
In-Reply-To: <opslvgbkexdlrf9s@buddelflink.interface-business.de>
Message-ID: <Pine.GSO.4.53.0502080906421.4353@fury.csh.rit.edu>
References: <OF7A7BE3CA.5E42F7B7-ONC1256F9A.0061D85F-C1256F9A.00633C0A@urssaf.fr>
 <opslvcnflwdlrf9s@buddelflink.interface-business.de> <42087B44.9070908@aduna.biz>
 <opslvgbkexdlrf9s@buddelflink.interface-business.de>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Kristian,

I assume all of you comments are with the 0.7.0 version of PDFBox.  There
were some great improvements in that version in terms of speed and
accuracy.

> That's courious beacause we experienced that pdftotext was able to
> convert 33% more pdf documents than PDFBox.

Depending on the set of PDF documents you will notice different results.
I welcome any bug reports(if they don't already exist) on that 33% that
are not working for you.  In particular, PDFBox needs some work on
non-english languages.


> That's good. Out application supports alternative conversion pipelines
> that provide fallback mechanims. If the first converter cannot convert a
> document a second converter is called. So PDFBox is our fallback
> converter.


Well, at least PDFBox made it as the "fallback.  :)

Ben
http://www.pdfbox.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13080-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 08 14:25:09 2005
Return-Path: <lucene-user-return-13080-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 36813 invoked from network); 8 Feb 2005 14:25:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Feb 2005 14:25:09 -0000
Received: (qmail 38806 invoked by uid 500); 8 Feb 2005 14:24:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 38775 invoked by uid 500); 8 Feb 2005 14:24:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38761 invoked by uid 99); 8 Feb 2005 14:24:56 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from txgw.jda.com (HELO txgw.jda.com) (208.18.125.82)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 08 Feb 2005 06:24:55 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Problem searching Field.Keyword field
Date: Tue, 8 Feb 2005 08:26:13 -0600
Message-ID: <CDAE6E930813C34DA3CB30849CE6CD350A78EE@tx1prdex1.jda.corp.local>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Problem searching Field.Keyword field
Thread-Index: AcUN6CNkURTLY86xQnmXzHoS01gqmQAAVTWQ
From: "Mike Miller" <Mike.Miller@jda.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks for the quick response. =20

Sorry for my lack of understanding, but I am learning!  Won't the query
parser still handle this query?  My limited understanding was that the
search call provides the 'all' field as default field for query terms in
the case where fields aren't specified.   Using the current code,
searches like author:Mike" and title:Lucene work fine.

-----Original Message-----
From: Miles Barr [mailto:miles@runtime-collective.com]=20
Sent: Tuesday, February 08, 2005 8:08 AM
To: Lucene Users List
Subject: Re: Problem searching Field.Keyword field

You're using the query parser with the standard analyser. You should
construct a term query manually instead.

=20
--
Miles Barr <miles@runtime-collective.com> Runtime Collective Ltd.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13081-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 08 14:29:49 2005
Return-Path: <lucene-user-return-13081-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 38937 invoked from network); 8 Feb 2005 14:29:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Feb 2005 14:29:49 -0000
Received: (qmail 45288 invoked by uid 500); 8 Feb 2005 14:29:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 45261 invoked by uid 500); 8 Feb 2005 14:29:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 45247 invoked by uid 99); 8 Feb 2005 14:29:36 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from lyra.lunarpages.com (HELO lyra.lunarpages.com) (64.235.230.140)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 08 Feb 2005 06:29:34 -0800
Received: from mueasd-wan184.citykom.de ([195.202.35.184] helo=Kelvin)
	by lyra.lunarpages.com with esmtpa (Exim 4.44)
	id 1CyWMs-0007mH-A3
	for lucene-user@jakarta.apache.org; Tue, 08 Feb 2005 06:29:31 -0800
From:     Kelvin Tan <kelvin-lists@relevanz.com>
To:       Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: Barca 1.1 (840) - Licensed Version
Date: Tue, 8 Feb 2005 15:29:10 +0100
Message-ID: <200528152910.623968@Kelvin>
In-Reply-To: <CDAE6E930813C34DA3CB30849CE6CD350A78EC@tx1prdex1.jda.corp.local>
Subject: Re: Problem searching Field.Keyword field
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - lyra.lunarpages.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - relevanz.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Javadocs for Field.Keyword says:

Constructs a Date-valued Field that is not tokenized and is indexed, and=
 stored in the index, for return with hits.

For most purposes dealing with Strings, use Field.Text, unless you have a=
 date, a GUID or some other string you don't want tokenized or processed in=
 any way. This basically means that Field.Keyword indexes the field as-is.

k

On Tue, 8 Feb 2005 07:54:57 -0600, Mike Miller wrote:
>=A0First let me say - Awesome tool! =A0Almost too easy to be true, but
>=A0with that being said....
>
>=A0Hi, =A0I have read several articles and postings that indicate that
>=A0the Field.Keyword field should be searchable but it's not working
>=A0for me, until I change to Field.Text. =A0Parts of the index and
>=A0search code are included below - mostly lifted from articles,etc,
>=A0including Erik Hatches article on java.net. =A0 I created a small
>=A0KnowledgeBase web application that contains a category field, which
>=A0I want to be searchable. Searching using a query string of
>=A0category:Doc* or
>=A0category:Documentation does not find a hit unless I change the code
>=A0to add the category to the index as a Field.Text instead of
>=A0Field.Keyword. The field value is out there: =A0 I have verified this
>=A0using the TermEnum to list the term values for field category and
>=A0Documentation is in the list of values.
>
>=A0The intention is to provide a 'Advanced Search' page that allows
>=A0the user to search specific fields, like category, title and author
>=A0instead of always using the 'all' field.
>
>=A0What am I doing wrong??? =A0 =A0 Thanks in advance.
>
>=A0Index code:
>
>=A0public boolean index(ArticleFormBean article) throws IOException {
>=A0IndexWriter writer =3D new IndexWriter(indexDir, new
>=A0StandardAnalyzer(), false);
>
>=A0Document doc =3D new Document();
>=A0doc.add(Field.UnStored("content", article.getContent()));
>=A0doc.add(Field.Text("title", article.getTitle()));
>=A0doc.add(Field.Text("author", article.getAuthor()));
>=A0doc.add(Field.UnIndexed("articleId",
>=A0String.valueOf(article.getArticleId())));
>=A0doc.add(Field.Keyword("createdDate", article.getCreateDate()));
>=A0doc.add(Field.Keyword("modDate", article.getModDate()));
>=A0doc.add(Field.Keyword("category", article.getCategory()));
>
>=A0// create an 'all' field
>=A0StringBuffer sb =3D new StringBuffer(4000);
>=A0sb.append(article.getTitle()).append("
>=A0").append(article.getAuthor()).append(" ");
>=A0sb.append(article.getContent()).append("
>=A0").append(article.getCategory());
>=A0doc.add(Field.UnStored("all", sb.toString()));
>
>=A0writer.addDocument(doc);
>=A0writer.optimize();
>=A0writer.close();
>
>=A0return false;
>=A0}
>
>=A0Search code:
>=A0File indexDir =3D new File("c:/dev/java/kb/index"); Directory fsDir =3D
>=A0FSDirectory.getDirectory(indexDir, false); IndexSearcher is =3D new
>=A0IndexSearcher(fsDir); Query query =3D QueryParser.parse(q, "all", new
>=A0StandardAnalyzer()); Hits hits =3D is.search(query);
>
>
>=A0Mike Miller
>=A0JDA Software Group, Inc.
>=A07501 Ester's Blvd, Suite 100
>=A0Irving, Texas 75063



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13082-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 08 14:34:54 2005
Return-Path: <lucene-user-return-13082-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 41934 invoked from network); 8 Feb 2005 14:34:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Feb 2005 14:34:54 -0000
Received: (qmail 55449 invoked by uid 500); 8 Feb 2005 14:34:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 55409 invoked by uid 500); 8 Feb 2005 14:34:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55376 invoked by uid 99); 8 Feb 2005 14:34:40 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail2.runtime-collective.com (HELO goose.milesbarr.com) (212.42.171.92)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 08 Feb 2005 06:34:39 -0800
Received: by goose.milesbarr.com (Postfix, from userid 1000)
	id 0108328ABEC; Tue,  8 Feb 2005 14:32:34 +0000 (GMT)
Subject: RE: Problem searching Field.Keyword field
From: Miles Barr <miles@runtime-collective.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <CDAE6E930813C34DA3CB30849CE6CD350A78EE@tx1prdex1.jda.corp.local>
References:
	 <CDAE6E930813C34DA3CB30849CE6CD350A78EE@tx1prdex1.jda.corp.local>
Content-Type: text/plain
Content-Transfer-Encoding: 7bit
Organization: Runtime Collective Ltd.
Date: Tue, 08 Feb 2005 14:32:34 +0000
Message-Id: <1107873154.30360.15.camel@goose.milesbarr.com>
Mime-Version: 1.0
X-Mailer: Evolution 2.0.2 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Mike,

If you use a different analyzer, say a custom one the didn't do anything
to the original search query, then you could use the query parser to
search on the keyword field. The standard analyzer does things like
making everything lowercase, removing stop words etc. Since the value
held in the keyword field didn't go through the same process during
indexing it won't come up as a match.

So basically you want to do:

...

IndexSearcher is = new IndexSearcher(fsDir);

...

Term t = new Term("keyword-field-name", keyword);
Query query = new TermQuery(t);
Hits hits = is.search(query);


You will typically only do this when you're trying to retrieve a
specific document, rather than doing a search.


-- 
Miles Barr <miles@runtime-collective.com>
Runtime Collective Ltd.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13083-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 08 14:45:43 2005
Return-Path: <lucene-user-return-13083-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 47716 invoked from network); 8 Feb 2005 14:45:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Feb 2005 14:45:43 -0000
Received: (qmail 84075 invoked by uid 500); 8 Feb 2005 14:45:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 84056 invoked by uid 500); 8 Feb 2005 14:45:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 84042 invoked by uid 99); 8 Feb 2005 14:45:37 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from Unknown (HELO icerocket.com) (206.196.125.68)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 08 Feb 2005 06:45:37 -0800
Received: from [194.158.221.117] (unknown [194.158.221.117])
	by icerocket.com (Postfix) with ESMTP id 814A7CAE0D
	for <lucene-user@jakarta.apache.org>; Tue,  8 Feb 2005 08:44:55 -0600 (CST)
Date: Tue, 8 Feb 2005 13:29:46 +0200
From: Yura Smolsky <info@altervision.biz>
X-Mailer: The Bat! (v3.0.1.33) Professional
Reply-To: Yura Smolsky <info@altervision.biz>
Organization: AlterVision Web Development Group
X-Priority: 3 (Normal)
Message-ID: <1628846803.20050208132946@altervision.biz>
To: lucene-user@jakarta.apache.org
Subject: Highlighter: how to specify text from external source?
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello, lucene-user.

If I do not store text fields in the index, is there a way to specify
values for Highlighter from external source and how?

Thanks in advance.

Yura Smolsky



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13084-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 08 14:46:06 2005
Return-Path: <lucene-user-return-13084-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 47893 invoked from network); 8 Feb 2005 14:46:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Feb 2005 14:46:05 -0000
Received: (qmail 85208 invoked by uid 500); 8 Feb 2005 14:45:59 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 85185 invoked by uid 500); 8 Feb 2005 14:45:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85171 invoked by uid 99); 8 Feb 2005 14:45:59 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 08 Feb 2005 06:45:58 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id BFAB313E200A; Tue,  8 Feb 2005 09:45:55 -0500 (EST)
Received: from [128.143.167.124] (d-128-167-124.bootp.Virginia.EDU [128.143.167.124])
	by ehatchersolutions.com (Postfix) with ESMTP id 1A97013E2006
	for <lucene-user@jakarta.apache.org>; Tue,  8 Feb 2005 09:45:41 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <CDAE6E930813C34DA3CB30849CE6CD350A78EE@tx1prdex1.jda.corp.local>
References: <CDAE6E930813C34DA3CB30849CE6CD350A78EE@tx1prdex1.jda.corp.local>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <f3d4921adeb876529b472b016131a6f2@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Problem searching Field.Keyword field
Date: Tue, 8 Feb 2005 09:45:41 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-3.7 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

The problem is that QueryParser analyzes all pieces of a query 
expression regardless of whether you indexed them as a Field.Keyword or 
not.  If you need to use QueryParser and still support keyword fields, 
you'll want to plug in an analyzer specific to that field using 
PerFieldAnalyzerWrapper.  You'll see this demonstrated in the "Lucene 
in Action" source code.  Here's a quick pointer to where we cover it in 
the book:

	http://www.lucenebook.com/search?query=KeywordAnalyzer


On Feb 8, 2005, at 9:26 AM, Mike Miller wrote:

> Thanks for the quick response.
>
> Sorry for my lack of understanding, but I am learning!  Won't the query
> parser still handle this query?  My limited understanding was that the
> search call provides the 'all' field as default field for query terms 
> in
> the case where fields aren't specified.   Using the current code,
> searches like author:Mike" and title:Lucene work fine.
>
> -----Original Message-----
> From: Miles Barr [mailto:miles@runtime-collective.com]
> Sent: Tuesday, February 08, 2005 8:08 AM
> To: Lucene Users List
> Subject: Re: Problem searching Field.Keyword field
>
> You're using the query parser with the standard analyser. You should
> construct a term query manually instead.
>
>
> --
> Miles Barr <miles@runtime-collective.com> Runtime Collective Ltd.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13085-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 08 14:51:00 2005
Return-Path: <lucene-user-return-13085-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 50156 invoked from network); 8 Feb 2005 14:51:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Feb 2005 14:51:00 -0000
Received: (qmail 89729 invoked by uid 500); 8 Feb 2005 14:50:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 89695 invoked by uid 500); 8 Feb 2005 14:50:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 89680 invoked by uid 99); 8 Feb 2005 14:50:56 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from omx2-ext.sgi.com (HELO omx2.sgi.com) (192.48.171.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 08 Feb 2005 06:50:54 -0800
Received: from internal-mail-relay.corp.sgi.com (internal-mail-relay.corp.sgi.com [198.149.32.51])
	by omx2.sgi.com (8.12.11/8.12.9/linux-outbound_gateway-1.1) with ESMTP id j18GKmeV026175
	for <lucene-user@jakarta.apache.org>; Tue, 8 Feb 2005 08:20:48 -0800
Received: from pinckneya.peachtree.sgi.com (pinckneya.peachtree.sgi.com [169.238.221.130])
	by internal-mail-relay.corp.sgi.com (8.12.9/8.12.10/SGI_generic_relay-1.2) with ESMTP id j18EopAq187470894
	for <lucene-user@jakarta.apache.org>; Tue, 8 Feb 2005 06:50:51 -0800 (PST)
Received: from [169.238.222.12] (ptc-222-12-pc.peachtree.sgi.com [169.238.222.12])
	by pinckneya.peachtree.sgi.com (SGI-8.12.5/8.12.5) with ESMTP id j18Eooad22647791
	for <lucene-user@jakarta.apache.org>; Tue, 8 Feb 2005 09:50:50 -0500 (EST)
Message-ID: <4208D1C1.4000205@sgi.com>
Date: Tue, 08 Feb 2005 09:50:41 -0500
From: Jim Lynch <jwl@sgi.com>
User-Agent: Mozilla Thunderbird 0.9 (Windows/20041103)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Does anyone have a copy of the highligher code?
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Our firewall prevents me from using cvs to check out anything.  Does 
anyone have a jar file or a set of class files publicly available?

Thanks,
Jim.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13086-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 08 15:19:23 2005
Return-Path: <lucene-user-return-13086-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 65585 invoked from network); 8 Feb 2005 15:19:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Feb 2005 15:19:22 -0000
Received: (qmail 31436 invoked by uid 500); 8 Feb 2005 15:19:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 31415 invoked by uid 500); 8 Feb 2005 15:19:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 31401 invoked by uid 99); 8 Feb 2005 15:19:17 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from web26002.mail.ukl.yahoo.com (HELO web26002.mail.ukl.yahoo.com) (217.12.10.213)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 08 Feb 2005 07:19:14 -0800
Received: (qmail 62066 invoked by uid 60001); 8 Feb 2005 15:19:11 -0000
Message-ID: <20050208151911.62064.qmail@web26002.mail.ukl.yahoo.com>
Received: from [193.36.230.96] by web26002.mail.ukl.yahoo.com via HTTP; Tue, 08 Feb 2005 15:19:11 GMT
Date: Tue, 8 Feb 2005 15:19:11 +0000 (GMT)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: Re: Highlighter: how to specify text from external source?
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Here's a rough example using a database:

 Hits hits=searcher.search(q);
 int numDocs=Math.min(10, hits.length());
 Analyzer analyzer=new WhitespaceAnalyzer();

 PreparedStatement ps=conn.prepareStatement("select
docText from myTable where pk=?");
            for(int i=0;i<numDocs;i++)
            {
          //get the key from Lucene storage
                int
rdbmsKey=Integer.parseInt(hits.doc(i).get("rdbmsKey"));
          //pass it to RDBMS query
                ps.setInt(1,rdbmsKey);
    	    if(rs.next())
    	    {

    	        String docText=rs.getString(1);
                TokenStream tokenStream =             
      analyzer.tokenStream("contents", new
StringReader(docText));
                String hilite=
highlighter.getBestFragments(tokenStream,
docText,3,"...");


    	    }
            }
...finally
{
          DBUtils.tidy(conn,ps,rs);
}


	
	
		
___________________________________________________________ 
ALL-NEW Yahoo! Messenger - all new features - even more fun! http://uk.messenger.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13087-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 08 15:19:30 2005
Return-Path: <lucene-user-return-13087-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 65671 invoked from network); 8 Feb 2005 15:19:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Feb 2005 15:19:29 -0000
Received: (qmail 32450 invoked by uid 500); 8 Feb 2005 15:19:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 32422 invoked by uid 500); 8 Feb 2005 15:19:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 32399 invoked by uid 99); 8 Feb 2005 15:19:24 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 08 Feb 2005 07:19:23 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id B437513E200A; Tue,  8 Feb 2005 10:19:20 -0500 (EST)
Received: from [128.143.167.124] (d-128-167-124.bootp.Virginia.EDU [128.143.167.124])
	by ehatchersolutions.com (Postfix) with ESMTP id 3804913E2006
	for <lucene-user@jakarta.apache.org>; Tue,  8 Feb 2005 10:19:17 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <1628846803.20050208132946@altervision.biz>
References: <1628846803.20050208132946@altervision.biz>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <a1070650be4e99890390b4187eb0317a@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Highlighter: how to specify text from external source?
Date: Tue, 8 Feb 2005 10:19:13 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-3.7 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Feb 8, 2005, at 6:29 AM, Yura Smolsky wrote:

> Hello, lucene-user.
>
> If I do not store text fields in the index, is there a way to specify
> values for Highlighter from external source and how?

One of the parameters passed to the highlighting method is a String to 
highlight.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13088-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 08 15:22:14 2005
Return-Path: <lucene-user-return-13088-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 67261 invoked from network); 8 Feb 2005 15:22:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Feb 2005 15:22:13 -0000
Received: (qmail 36218 invoked by uid 500); 8 Feb 2005 15:22:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 36192 invoked by uid 500); 8 Feb 2005 15:22:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 36175 invoked by uid 99); 8 Feb 2005 15:22:09 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 08 Feb 2005 07:22:07 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 4562E13E2006; Tue,  8 Feb 2005 10:22:04 -0500 (EST)
Received: from [128.143.167.124] (d-128-167-124.bootp.Virginia.EDU [128.143.167.124])
	by ehatchersolutions.com (Postfix) with ESMTP id 104BE13E2006
	for <lucene-user@jakarta.apache.org>; Tue,  8 Feb 2005 10:21:49 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <4208D1C1.4000205@sgi.com>
References: <4208D1C1.4000205@sgi.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <5f2d58335b4ea2c2522dacf1960fec7c@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Does anyone have a copy of the highligher code?
Date: Tue, 8 Feb 2005 10:21:50 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-3.7 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Feb 8, 2005, at 9:50 AM, Jim Lynch wrote:

> Our firewall prevents me from using cvs to check out anything.  Does 
> anyone have a jar file or a set of class files publicly available?

The "Lucene in Action" source code - http://www.lucenebook.com - 
contains JAR files, including the Highlighter, for lots of Lucene 
add-on goodies.

Also, Lucene just converted to using Subversion, which is much more 
firewall friendly.  Try this after you have installed the svn client:

	svn co http://svn.apache.org/repos/asf/lucene/java/trunk

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13089-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 08 15:28:33 2005
Return-Path: <lucene-user-return-13089-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 70983 invoked from network); 8 Feb 2005 15:28:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Feb 2005 15:28:33 -0000
Received: (qmail 48700 invoked by uid 500); 8 Feb 2005 15:28:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 48496 invoked by uid 500); 8 Feb 2005 15:28:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 48482 invoked by uid 99); 8 Feb 2005 15:28:27 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of TheRanger@gmx.net designates 213.165.64.20 as permitted sender)
Received: from pop.gmx.de (HELO mail.gmx.net) (213.165.64.20)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 08 Feb 2005 07:28:25 -0800
Received: (qmail 3310 invoked by uid 0); 8 Feb 2005 15:28:22 -0000
Received: from 193.63.235.44 by www4.gmx.net with HTTP;
	Tue, 8 Feb 2005 16:28:22 +0100 (MET)
Date: Tue, 8 Feb 2005 16:28:22 +0100 (MET)
From: "Karl Koch" <TheRanger@gmx.net>
To: "User " <lucene-user@jakarta.apache.org>
MIME-Version: 1.0
Subject: JIT error when searching... Lucene 1.3 on Java 1.1
X-Priority: 3 (Normal)
X-Authenticated: #21808356
Message-ID: <16943.1107876502@www4.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello all,

I have heard that Lucene 1.3 Final should run under Java 1.1. (I need that
because I want to run a search with a PDA using Java 1.1).

However, when I run my code. I get the following error:

----------------------------------------------------------

A nonfatal internal JIT (3.10.107(x)) error 'chgTarg: Conditional' has
occurred in : 
  'org/apache/lucene/store/FSDirectory.getDirectory
(Ljava/io/File;Z)Lorg/apache/lucene/store/FSDirectory;': Interpreting
method.
  Please report this error in detail to
http://java.sun.com/cgi-bin/bugreport.cgi

Exception occured in StandardSearch:search(String, String[], String)!
java.lang.IllegalMonitorStateException: current thread not owner
	at org.apache.lucene.store.FSDirectory.makeLock(FSDirectory.java:312)
	at org.apache.lucene.index.IndexReader.open(IndexReader.java, Compiled
Code)

----------------------------------------------------------

The error does not occur when I run it under Java 1.4.

What do I do wrong and what do I need to change in order to make it work. It
must be my code. Here the code relevant to this error (the search method).


public static Result search(String queryString, String[] searchFields, 
  String indexDirectory) {
  // create access to index
  StandardAnalyzer analyser = new StandardAnalyzer();
  Hits hits = null;
  Result result = null;
  try {
  fsDirectory =             
FSDirectory.getDirectory(StandardSearcher.indexDirectory, false);
  IndexSearcher searcher = new IndexSearcher(fsDirectory);
  ...
}


What is wrong here?

Best Regards,
Karl

-- 
DSL Komplett von GMX +++ Superg¸nstig und stressfrei einsteigen!
AKTION "Kein Einrichtungspreis" nutzen: http://www.gmx.net/de/go/dsl

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13090-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 08 15:32:28 2005
Return-Path: <lucene-user-return-13090-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 72945 invoked from network); 8 Feb 2005 15:32:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Feb 2005 15:32:28 -0000
Received: (qmail 53418 invoked by uid 500); 8 Feb 2005 15:32:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 52815 invoked by uid 500); 8 Feb 2005 15:32:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52800 invoked by uid 99); 8 Feb 2005 15:32:23 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from lyra.lunarpages.com (HELO lyra.lunarpages.com) (64.235.230.140)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 08 Feb 2005 07:32:22 -0800
Received: from mueasd-wan184.citykom.de ([195.202.35.184] helo=Kelvin)
	by lyra.lunarpages.com with esmtpa (Exim 4.44)
	id 1CyXLd-0001EL-C7
	for lucene-user@jakarta.apache.org; Tue, 08 Feb 2005 07:32:19 -0800
From:     Kelvin Tan <kelvin-lists@relevanz.com>
To:       Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: Barca 1.1 (840) - Licensed Version
Date: Tue, 8 Feb 2005 16:32:04 +0100
Message-ID: <20052816324.708758@Kelvin>
In-Reply-To: <CDAE6E930813C34DA3CB30849CE6CD350A78EE@tx1prdex1.jda.corp.local>
Subject: RE: Problem searching Field.Keyword field
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - lyra.lunarpages.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - relevanz.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Mike, is there a reason why you're indexing "category" as keyword not text?

k

On Tue, 8 Feb 2005 08:26:13 -0600, Mike Miller wrote:
>=A0Thanks for the quick response.
>
>=A0Sorry for my lack of understanding, but I am learning! =A0Won't the
>=A0query parser still handle this query? =A0My limited understanding was
>=A0that the search call provides the 'all' field as default field for
>=A0query terms in the case where fields aren't specified. =A0 Using the
>=A0current code, searches like author:Mike" and title:Lucene work fine.
>
>=A0-----Original Message-----
>=A0From: Miles Barr [mailto:miles@runtime-collective.com] Sent:
>=A0Tuesday, February 08, 2005 8:08 AM To: Lucene Users List Subject:
>=A0Re: Problem searching Field.Keyword field
>
>=A0You're using the query parser with the standard analyser. You
>=A0should construct a term query manually instead.
>
>
>=A0--
>=A0Miles Barr <miles@runtime-collective.com>=A0Runtime Collective Ltd.
>
>=A0--------------------------------------------------------------------
>=A0- To unsubscribe, e-mail: lucene-user-
>=A0unsubscribe@jakarta.apache.org For additional commands, e-mail:
>=A0lucene-user-help@jakarta.apache.org
>
>
>=A0--------------------------------------------------------------------
>=A0- To unsubscribe, e-mail: lucene-user-
>=A0unsubscribe@jakarta.apache.org For additional commands, e-mail:
>=A0lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13091-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 08 15:37:54 2005
Return-Path: <lucene-user-return-13091-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 76132 invoked from network); 8 Feb 2005 15:37:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Feb 2005 15:37:54 -0000
Received: (qmail 66034 invoked by uid 500); 8 Feb 2005 15:37:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 66015 invoked by uid 500); 8 Feb 2005 15:37:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 66001 invoked by uid 99); 8 Feb 2005 15:37:49 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from proserver2.ifit.uni-klu.ac.at (HELO proserver2.ifit.uni-klu.ac.at) (143.205.118.212)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 08 Feb 2005 07:37:47 -0800
Received: from [143.205.118.98] ([143.205.118.98]) by proserver2.ifit.uni-klu.ac.at over TLS secured channel with Microsoft SMTPSVC(5.0.2195.6713);
	 Tue, 8 Feb 2005 16:37:43 +0100
Message-ID: <4208DCBD.9000702@ifit.uni-klu.ac.at>
Date: Tue, 08 Feb 2005 16:37:33 +0100
From: sergiu gordea <gsergiu@ifit.uni-klu.ac.at>
User-Agent: Mozilla Thunderbird 0.7 (Windows/20040616)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Starts With x and Ends With x Queries
References: <20050204165525.23042.qmail@web30201.mail.mud.yahoo.com> <03d601c50b1c$ae6ff5d0$7703d00a@hypermedia.com> <1081c493bd80a555f390191c641f9c45@ehatchersolutions.com> <Pine.LNX.4.58.0502041744520.4294@hal.rescomp.berkeley.edu> <5425d345fc609349f5962d3e0e31b46d@ehatchersolutions.com> <420713A3.90204@ifit.uni-klu.ac.at> <8cd7b988e36ef8d03be8c5be925d6696@ehatchersolutions.com>
In-Reply-To: <8cd7b988e36ef8d03be8c5be925d6696@ehatchersolutions.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 08 Feb 2005 15:37:43.0590 (UTC) FILETIME=[218B8460:01C50DF4]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

 Hi Erik,

> I'm not changing any functionality.  WildcardQuery will still support 
> leading wildcard characters, QueryParser will still disallow them.  
> All I'm going to change is the javadoc that makes it sound like 
> WildcardQuery does not support leading wildcard characters.
>
>     Erik

 From what I was reading in the mailing list there are more lucene users 
that would like to be able to construct sufix queries.
They are very usefull for german language, because it has many long 
composite words , created by concatenation of other simple words.
This is one of the requirements of our system. Therefore I needed to 
patch lucene to make QueryParser to allow SufixQueries.

Now I will need to update lucene library to the latest version, and I 
need to patch it again.
Do you think it will be possible in the future to have a field in 
QueryParser,  boolean ALLOW_SUFFIX_QUERIES?

 Thanks for understanding,

  Sergiu

>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13092-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 08 15:46:14 2005
Return-Path: <lucene-user-return-13092-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 79932 invoked from network); 8 Feb 2005 15:46:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Feb 2005 15:46:14 -0000
Received: (qmail 83898 invoked by uid 500); 8 Feb 2005 15:46:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 83829 invoked by uid 500); 8 Feb 2005 15:46:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 83784 invoked by uid 99); 8 Feb 2005 15:46:04 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 08 Feb 2005 07:46:03 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 4F6B213E200A; Tue,  8 Feb 2005 10:45:55 -0500 (EST)
Received: from [128.143.167.124] (d-128-167-124.bootp.Virginia.EDU [128.143.167.124])
	by ehatchersolutions.com (Postfix) with ESMTP id D11AC13E2006
	for <lucene-user@jakarta.apache.org>; Tue,  8 Feb 2005 10:45:36 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <4208DCBD.9000702@ifit.uni-klu.ac.at>
References: <20050204165525.23042.qmail@web30201.mail.mud.yahoo.com> <03d601c50b1c$ae6ff5d0$7703d00a@hypermedia.com> <1081c493bd80a555f390191c641f9c45@ehatchersolutions.com> <Pine.LNX.4.58.0502041744520.4294@hal.rescomp.berkeley.edu> <5425d345fc609349f5962d3e0e31b46d@ehatchersolutions.com> <420713A3.90204@ifit.uni-klu.ac.at> <8cd7b988e36ef8d03be8c5be925d6696@ehatchersolutions.com> <4208DCBD.9000702@ifit.uni-klu.ac.at>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <607072a41e96d12367e640c94044319a@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Starts With x and Ends With x Queries
Date: Tue, 8 Feb 2005 10:45:32 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-3.7 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Feb 8, 2005, at 10:37 AM, sergiu gordea wrote:

> Hi Erik,
>
>> I'm not changing any functionality.  WildcardQuery will still support 
>> leading wildcard characters, QueryParser will still disallow them.  
>> All I'm going to change is the javadoc that makes it sound like 
>> WildcardQuery does not support leading wildcard characters.
>>
>>     Erik
>
> From what I was reading in the mailing list there are more lucene 
> users that would like to be able to construct sufix queries.
> They are very usefull for german language, because it has many long 
> composite words , created by concatenation of other simple words.
> This is one of the requirements of our system. Therefore I needed to 
> patch lucene to make QueryParser to allow SufixQueries.
>
> Now I will need to update lucene library to the latest version, and I 
> need to patch it again.
> Do you think it will be possible in the future to have a field in 
> QueryParser,  boolean ALLOW_SUFFIX_QUERIES?

I have no objections to that type of switch.  Please submit a path to 
QueryParser.jj that implements this as an option with the default to 
disallow suffix queries, along with a test case and I'd be happy to 
apply it.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13093-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 08 15:53:10 2005
Return-Path: <lucene-user-return-13093-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 83949 invoked from network); 8 Feb 2005 15:53:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Feb 2005 15:53:10 -0000
Received: (qmail 97060 invoked by uid 500); 8 Feb 2005 15:53:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 97027 invoked by uid 500); 8 Feb 2005 15:53:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 97013 invoked by uid 99); 8 Feb 2005 15:53:05 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mh2dmz1.bloomberg.com (HELO mh2dmz1.bloomberg.com) (199.172.169.37)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 08 Feb 2005 07:53:03 -0800
Received: from ns11.bloomberg.com (ns11.bloomberg.com [160.43.8.220]) by mh2dmz1.bloomberg.com with ESMTP for lucene-user@jakarta.apache.org; Tue, 8 Feb 2005 10:53:01 -0500
Received: from ny2535-dr.corp.bloomberg.com (ny2535-dr.bloomberg.com [172.20.193.74])
	by ns11.bloomberg.com (8.11.7p1+Sun/8.10.2) with ESMTP id j18Fqwv07626
	for <lucene-user@jakarta.apache.org>; Tue, 8 Feb 2005 10:52:59 -0500 (EST)
Received: from pn1528.corp.bloomberg.com (unverified) by ny2535-dr.corp.bloomberg.com
 (Content Technologies SMTPRS 4.3.14) with ESMTP id <T6efe027cc8ac14c14a614@ny2535-dr.corp.bloomberg.com> for <lucene-user@jakarta.apache.org>;
 Tue, 8 Feb 2005 10:52:58 -0500
Received: from ny2526.corp.bloomberg.com ([172.20.73.28]) by pn1528.corp.bloomberg.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Tue, 8 Feb 2005 10:52:58 -0500
Content-Class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Subject: RE: Starts With x and Ends With x Queries
Date: Tue, 8 Feb 2005 10:52:57 -0500
Message-Id: <3B530EF12E388B408ECC3162BA8C00F4DE5423@ny2526.corp.bloomberg.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Starts With x and Ends With x Queries
thread-index: AcUN9Dhjs4bGYwzGQPWrfZ0nXMqY8AAAcvnw
From: "Chong, Herb" <HChong3@bloomberg.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 08 Feb 2005 15:52:58.0467 (UTC) FILETIME=[42DAAB30:01C50DF6]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

commercial text analytics tools including search engines usually
tokenize with splitting of compound words for German.

Herb....=20

-----Original Message-----
From: sergiu gordea [mailto:gsergiu@ifit.uni-klu.ac.at]=20
Sent: Tuesday, February 08, 2005 10:38 AM
To: Lucene Users List
Subject: Re: Starts With x and Ends With x Queries

 From what I was reading in the mailing list there are more lucene users

that would like to be able to construct sufix queries.
They are very usefull for german language, because it has many long=20
composite words , created by concatenation of other simple words.
This is one of the requirements of our system. Therefore I needed to=20
patch lucene to make QueryParser to allow SufixQueries.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13094-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 08 16:02:04 2005
Return-Path: <lucene-user-return-13094-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 88426 invoked from network); 8 Feb 2005 16:02:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Feb 2005 16:02:02 -0000
Received: (qmail 12022 invoked by uid 500); 8 Feb 2005 16:01:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 11984 invoked by uid 500); 8 Feb 2005 16:01:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11970 invoked by uid 99); 8 Feb 2005 16:01:57 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from txgw.jda.com (HELO txgw.jda.com) (208.18.125.82)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 08 Feb 2005 08:01:55 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Problem searching Field.Keyword field
Date: Tue, 8 Feb 2005 10:02:19 -0600
Message-ID: <CDAE6E930813C34DA3CB30849CE6CD350A78F7@tx1prdex1.jda.corp.local>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Problem searching Field.Keyword field
Thread-Index: AcUN85lONewOnAsyQUemBLC1Yyhf1AAA4h4A
From: "Mike Miller" <Mike.Miller@jda.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

This may or may not be correct, but I am indexing it as a keyword =
because I provide a (required) radio button on the add screen for the =
user to determine which category the document should be assigned.  Then =
in the search, provide a dropdown that can be used in the advanced =
search so that they can search only for a specific category of documents =
(like HowTo, Troubleshooting, etc).

-----Original Message-----
From: Kelvin Tan [mailto:kelvin-lists@relevanz.com]=20
Sent: Tuesday, February 08, 2005 9:32 AM
To: Lucene Users List
Subject: RE: Problem searching Field.Keyword field

Mike, is there a reason why you're indexing "category" as keyword not =
text?

k

On Tue, 8 Feb 2005 08:26:13 -0600, Mike Miller wrote:
>=A0Thanks for the quick response.
>
>=A0Sorry for my lack of understanding, but I am learning! =A0Won't the
>=A0query parser still handle this query? =A0My limited understanding =
was
>=A0that the search call provides the 'all' field as default field for
>=A0query terms in the case where fields aren't specified. =A0 Using the
>=A0current code, searches like author:Mike" and title:Lucene work fine.
>
>=A0-----Original Message-----
>=A0From: Miles Barr [mailto:miles@runtime-collective.com] Sent:
>=A0Tuesday, February 08, 2005 8:08 AM To: Lucene Users List Subject:
>=A0Re: Problem searching Field.Keyword field
>
>=A0You're using the query parser with the standard analyser. You
>=A0should construct a term query manually instead.
>
>
>=A0--
>=A0Miles Barr <miles@runtime-collective.com>=A0Runtime Collective Ltd.
>
>=A0--------------------------------------------------------------------
>=A0- To unsubscribe, e-mail: lucene-user-
>=A0unsubscribe@jakarta.apache.org For additional commands, e-mail:
>=A0lucene-user-help@jakarta.apache.org
>
>
>=A0--------------------------------------------------------------------
>=A0- To unsubscribe, e-mail: lucene-user-
>=A0unsubscribe@jakarta.apache.org For additional commands, e-mail:
>=A0lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13095-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 08 16:08:34 2005
Return-Path: <lucene-user-return-13095-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 91733 invoked from network); 8 Feb 2005 16:08:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Feb 2005 16:08:34 -0000
Received: (qmail 19760 invoked by uid 500); 8 Feb 2005 16:08:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 19734 invoked by uid 500); 8 Feb 2005 16:08:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19714 invoked by uid 99); 8 Feb 2005 16:08:29 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from proserver2.ifit.uni-klu.ac.at (HELO proserver2.ifit.uni-klu.ac.at) (143.205.118.212)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 08 Feb 2005 08:08:28 -0800
Received: from [143.205.118.98] ([143.205.118.98]) by proserver2.ifit.uni-klu.ac.at over TLS secured channel with Microsoft SMTPSVC(5.0.2195.6713);
	 Tue, 8 Feb 2005 17:08:25 +0100
Message-ID: <4208E3F4.7030207@ifit.uni-klu.ac.at>
Date: Tue, 08 Feb 2005 17:08:20 +0100
From: sergiu gordea <gsergiu@ifit.uni-klu.ac.at>
User-Agent: Mozilla Thunderbird 0.7 (Windows/20040616)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Starts With x and Ends With x Queries
References: <3B530EF12E388B408ECC3162BA8C00F4DE5423@ny2526.corp.bloomberg.com>
In-Reply-To: <3B530EF12E388B408ECC3162BA8C00F4DE5423@ny2526.corp.bloomberg.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 08 Feb 2005 16:08:25.0715 (UTC) FILETIME=[6B897C30:01C50DF8]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Chong, Herb wrote:

>commercial text analytics tools including search engines usually
>tokenize with splitting of compound words for German.
>
>Herb....
>
That might be true ... but our application is not a text analysis 
aplication,
and it is also not intended to be a search engine. We use lucene just to 
index our pages.

  Best,

  Sergiu

> 
>
>-----Original Message-----
>From: sergiu gordea [mailto:gsergiu@ifit.uni-klu.ac.at] 
>Sent: Tuesday, February 08, 2005 10:38 AM
>To: Lucene Users List
>Subject: Re: Starts With x and Ends With x Queries
>
> From what I was reading in the mailing list there are more lucene users
>
>that would like to be able to construct sufix queries.
>They are very usefull for german language, because it has many long 
>composite words , created by concatenation of other simple words.
>This is one of the requirements of our system. Therefore I needed to 
>patch lucene to make QueryParser to allow SufixQueries.
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>  
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13096-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 08 16:11:39 2005
Return-Path: <lucene-user-return-13096-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 93387 invoked from network); 8 Feb 2005 16:11:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Feb 2005 16:11:38 -0000
Received: (qmail 25761 invoked by uid 500); 8 Feb 2005 16:11:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 25706 invoked by uid 500); 8 Feb 2005 16:11:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25645 invoked by uid 99); 8 Feb 2005 16:11:29 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from proserver2.ifit.uni-klu.ac.at (HELO proserver2.ifit.uni-klu.ac.at) (143.205.118.212)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 08 Feb 2005 08:11:28 -0800
Received: from [143.205.118.98] ([143.205.118.98]) by proserver2.ifit.uni-klu.ac.at over TLS secured channel with Microsoft SMTPSVC(5.0.2195.6713);
	 Tue, 8 Feb 2005 17:11:22 +0100
Message-ID: <4208E4A5.6020704@ifit.uni-klu.ac.at>
Date: Tue, 08 Feb 2005 17:11:17 +0100
From: sergiu gordea <gsergiu@ifit.uni-klu.ac.at>
User-Agent: Mozilla Thunderbird 0.7 (Windows/20040616)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Starts With x and Ends With x Queries
References: <20050204165525.23042.qmail@web30201.mail.mud.yahoo.com> <03d601c50b1c$ae6ff5d0$7703d00a@hypermedia.com> <1081c493bd80a555f390191c641f9c45@ehatchersolutions.com> <Pine.LNX.4.58.0502041744520.4294@hal.rescomp.berkeley.edu> <5425d345fc609349f5962d3e0e31b46d@ehatchersolutions.com> <420713A3.90204@ifit.uni-klu.ac.at> <8cd7b988e36ef8d03be8c5be925d6696@ehatchersolutions.com> <4208DCBD.9000702@ifit.uni-klu.ac.at> <607072a41e96d12367e640c94044319a@ehatchersolutions.com>
In-Reply-To: <607072a41e96d12367e640c94044319a@ehatchersolutions.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 08 Feb 2005 16:11:22.0871 (UTC) FILETIME=[D5215870:01C50DF8]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Erik Hatcher wrote:

>
> On Feb 8, 2005, at 10:37 AM, sergiu gordea wrote:
>
>> Hi Erik,
>>
>>> I'm not changing any functionality.  WildcardQuery will still 
>>> support leading wildcard characters, QueryParser will still disallow 
>>> them.  All I'm going to change is the javadoc that makes it sound 
>>> like WildcardQuery does not support leading wildcard characters.
>>>
>>>     Erik
>>
>>
>> From what I was reading in the mailing list there are more lucene 
>> users that would like to be able to construct sufix queries.
>> They are very usefull for german language, because it has many long 
>> composite words , created by concatenation of other simple words.
>> This is one of the requirements of our system. Therefore I needed to 
>> patch lucene to make QueryParser to allow SufixQueries.
>>
>> Now I will need to update lucene library to the latest version, and I 
>> need to patch it again.
>> Do you think it will be possible in the future to have a field in 
>> QueryParser,  boolean ALLOW_SUFFIX_QUERIES?
>
>
> I have no objections to that type of switch.  Please submit a path to 
> QueryParser.jj that implements this as an option with the default to 
> disallow suffix queries, along with a test case and I'd be happy to 
> apply it.

I'm pleased to hear that. I'm not very skilled in writing .jj files but 
I will try to do it in next days,

Sergiu

>
>     Erik
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13097-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 08 16:22:36 2005
Return-Path: <lucene-user-return-13097-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 99252 invoked from network); 8 Feb 2005 16:22:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Feb 2005 16:22:36 -0000
Received: (qmail 70103 invoked by uid 500); 8 Feb 2005 16:22:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 69790 invoked by uid 500); 8 Feb 2005 16:22:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 69772 invoked by uid 99); 8 Feb 2005 16:22:29 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mh2pdmz3a.bloomberg.com (HELO mh2pdmz3a.bloomberg.com) (208.22.56.38)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 08 Feb 2005 08:22:28 -0800
Received: from ns9.bloomberg.com (ns9.bloomberg.com [160.43.164.52]) by mh2pdmz3a.bloomberg.com with ESMTP for lucene-user@jakarta.apache.org; Tue, 8 Feb 2005 11:22:23 -0500
Received: from ny2535.corp.bloomberg.com (ny2535.bloomberg.com [172.20.73.26])
	by ns9.bloomberg.com (8.11.7p1+Sun/8.10.2) with ESMTP id j18GMMW05206
	for <lucene-user@jakarta.apache.org>; Tue, 8 Feb 2005 11:22:23 -0500 (EST)
Received: from ny2528.corp.bloomberg.com (unverified) by ny2535.corp.bloomberg.com
 (Content Technologies SMTPRS 4.3.14) with ESMTP id <T6efe1d65feac14491a524@ny2535.corp.bloomberg.com> for <lucene-user@jakarta.apache.org>;
 Tue, 8 Feb 2005 11:22:22 -0500
Received: from ny2526.corp.bloomberg.com ([172.20.73.28]) by ny2528.corp.bloomberg.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Tue, 8 Feb 2005 11:22:21 -0500
Content-Class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Subject: RE: Starts With x and Ends With x Queries
Date: Tue, 8 Feb 2005 11:22:21 -0500
Message-Id: <3B530EF12E388B408ECC3162BA8C00F4DE542C@ny2526.corp.bloomberg.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Starts With x and Ends With x Queries
thread-index: AcUN+HhxlFwf+vsAR6qcdfVPmn4IJwAAcbNg
From: "Chong, Herb" <HChong3@bloomberg.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 08 Feb 2005 16:22:21.0835 (UTC) FILETIME=[5DE745B0:01C50DFA]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

i would say that matching root words in German compounds is a text
analysis application.

Herb...=20

-----Original Message-----
From: sergiu gordea [mailto:gsergiu@ifit.uni-klu.ac.at]=20
Sent: Tuesday, February 08, 2005 11:08 AM
To: Lucene Users List
Subject: Re: Starts With x and Ends With x Queries

That might be true ... but our application is not a text analysis=20
aplication,
and it is also not intended to be a search engine. We use lucene just to

index our pages.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13098-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 08 16:28:28 2005
Return-Path: <lucene-user-return-13098-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 2715 invoked from network); 8 Feb 2005 16:28:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Feb 2005 16:28:28 -0000
Received: (qmail 88599 invoked by uid 500); 8 Feb 2005 16:28:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 88580 invoked by uid 500); 8 Feb 2005 16:28:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88567 invoked by uid 99); 8 Feb 2005 16:28:23 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from lyra.lunarpages.com (HELO lyra.lunarpages.com) (64.235.230.140)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 08 Feb 2005 08:28:20 -0800
Received: from mueasd-wan184.citykom.de ([195.202.35.184] helo=Kelvin)
	by lyra.lunarpages.com with esmtpa (Exim 4.44)
	id 1CyYDp-0004wD-0L
	for lucene-user@jakarta.apache.org; Tue, 08 Feb 2005 08:28:18 -0800
From:     Kelvin Tan <kelvin-lists@relevanz.com>
To:       Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: Barca 1.1 (840) - Licensed Version
Date: Tue, 8 Feb 2005 17:28:02 +0100
Message-ID: <20052817282.987755@Kelvin>
In-Reply-To: <CDAE6E930813C34DA3CB30849CE6CD350A78F7@tx1prdex1.jda.corp.local>
Subject: RE: Problem searching Field.Keyword field
Mime-Version: 1.0
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - lyra.lunarpages.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - relevanz.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

As I posted previously, Field.Keyword is appropriate in only certain=
 situations. For your use-case, I believe Field.Text is more suitable.

k

On Tue, 8 Feb 2005 10:02:19 -0600, Mike Miller wrote:
>=A0This may or may not be correct, but I am indexing it as a keyword
>=A0because I provide a (required) radio button on the add screen for
>=A0the user to determine which category the document should be
>=A0assigned. =A0Then in the search, provide a dropdown that can be used
>=A0in the advanced search so that they can search only for a specific
>=A0category of documents (like HowTo, Troubleshooting, etc).
>
>=A0-----Original Message-----
>=A0From: Kelvin Tan [mailto:kelvin-lists@relevanz.com] Sent: Tuesday,
>=A0February 08, 2005 9:32 AM To: Lucene Users List
>=A0Subject: RE: Problem searching Field.Keyword field
>
>=A0Mike, is there a reason why you're indexing "category" as keyword
>=A0not text?
>
>=A0k
>
>=A0On Tue, 8 Feb 2005 08:26:13 -0600, Mike Miller wrote:
>
>>=A0Thanks for the quick response.
>>
>>=A0Sorry for my lack of understanding, but I am learning! =A0Won't the
>>=A0=A0query parser still handle this query? =A0My limited understanding
>>=A0was =A0that the search call provides the 'all' field as default
>>=A0field for =A0query terms in the case where fields aren't specified.
>>=A0=A0=A0Using the =A0current code, searches like author:Mike" and
>>=A0title:Lucene work fine.
>>
>>=A0-----Original Message-----
>>=A0From: Miles Barr [mailto:miles@runtime-collective.com] Sent: =A0
>>=A0Tuesday, February 08, 2005 8:08 AM To: Lucene Users List Subject:
>>=A0=A0Re: Problem searching Field.Keyword field
>>
>>=A0You're using the query parser with the standard analyser. You =A0
>>=A0should construct a term query manually instead.
>>
>>
>>=A0--
>>=A0Miles Barr <miles@runtime-collective.com>=A0Runtime Collective Ltd.
>>
>>=A0------------------------------------------------------------------
>>=A0-- =A0- To unsubscribe, e-mail: lucene-user-
>>=A0unsubscribe@jakarta.apache.org For additional commands, e-mail: =A0
>>=A0lucene-user-help@jakarta.apache.org
>>
>>
>>=A0------------------------------------------------------------------
>>=A0-- =A0- To unsubscribe, e-mail: lucene-user-
>>=A0unsubscribe@jakarta.apache.org For additional commands, e-mail: =A0
>>=A0lucene-user-help@jakarta.apache.org
>
>
>=A0--------------------------------------------------------------------
>=A0- To unsubscribe, e-mail: lucene-user-
>=A0unsubscribe@jakarta.apache.org For additional commands, e-mail:
>=A0lucene-user-help@jakarta.apache.org
>
>
>=A0--------------------------------------------------------------------
>=A0- To unsubscribe, e-mail: lucene-user-
>=A0unsubscribe@jakarta.apache.org For additional commands, e-mail:
>=A0lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13099-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 08 17:03:08 2005
Return-Path: <lucene-user-return-13099-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 21763 invoked from network); 8 Feb 2005 17:03:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Feb 2005 17:03:08 -0000
Received: (qmail 66304 invoked by uid 500); 8 Feb 2005 17:03:04 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 66109 invoked by uid 500); 8 Feb 2005 17:03:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 66095 invoked by uid 99); 8 Feb 2005 17:03:03 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 08 Feb 2005 09:03:00 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 7333A13E200A; Tue,  8 Feb 2005 12:02:57 -0500 (EST)
Received: from [128.143.167.124] (d-128-167-124.bootp.Virginia.EDU [128.143.167.124])
	by ehatchersolutions.com (Postfix) with ESMTP id 83B8613E2006
	for <lucene-user@jakarta.apache.org>; Tue,  8 Feb 2005 12:02:28 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <20052817282.987755@Kelvin>
References: <20052817282.987755@Kelvin>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Message-Id: <ed93bf83715ec490a1cda598c4878d1c@ehatchersolutions.com>
Content-Transfer-Encoding: quoted-printable
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Problem searching Field.Keyword field
Date: Tue, 8 Feb 2005 12:02:15 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-3.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Kelvin - I respectfully disagree - could you elaborate on why this is=20
not an appropriate use of Field.Keyword?

If the category is "How To", Field.Text would split this (depending on=20=

the Analyzer) into "how" and "to".

If the user is selecting a category from a drop-down, though, you=20
shouldn't be using QueryParser on it, but instead aggregating a=20
TermQuery("category", "How To") into a BooleanQuery with the rest of=20
it.  The rest may be other API created clauses and likely a piece from=20=

QueryParser.

	Erik


On Feb 8, 2005, at 11:28 AM, Kelvin Tan wrote:

> As I posted previously, Field.Keyword is appropriate in only certain=20=

> situations. For your use-case, I believe Field.Text is more suitable.
>
> k
>
> On Tue, 8 Feb 2005 10:02:19 -0600, Mike Miller wrote:
>> =A0This may or may not be correct, but I am indexing it as a keyword
>> =A0because I provide a (required) radio button on the add screen for
>> =A0the user to determine which category the document should be
>> =A0assigned. =A0Then in the search, provide a dropdown that can be =
used
>> =A0in the advanced search so that they can search only for a specific
>> =A0category of documents (like HowTo, Troubleshooting, etc).
>>
>> =A0-----Original Message-----
>> =A0From: Kelvin Tan [mailto:kelvin-lists@relevanz.com] Sent: Tuesday,
>> =A0February 08, 2005 9:32 AM To: Lucene Users List
>> =A0Subject: RE: Problem searching Field.Keyword field
>>
>> =A0Mike, is there a reason why you're indexing "category" as keyword
>> =A0not text?
>>
>> =A0k
>>
>> =A0On Tue, 8 Feb 2005 08:26:13 -0600, Mike Miller wrote:
>>
>>> =A0Thanks for the quick response.
>>>
>>> =A0Sorry for my lack of understanding, but I am learning! =A0Won't =
the
>>> =A0=A0query parser still handle this query? =A0My limited =
understanding
>>> =A0was =A0that the search call provides the 'all' field as default
>>> =A0field for =A0query terms in the case where fields aren't =
specified.
>>> =A0=A0=A0Using the =A0current code, searches like author:Mike" and
>>> =A0title:Lucene work fine.
>>>
>>> =A0-----Original Message-----
>>> =A0From: Miles Barr [mailto:miles@runtime-collective.com] Sent: =A0
>>> =A0Tuesday, February 08, 2005 8:08 AM To: Lucene Users List Subject:
>>> =A0=A0Re: Problem searching Field.Keyword field
>>>
>>> =A0You're using the query parser with the standard analyser. You =A0
>>> =A0should construct a term query manually instead.
>>>
>>>
>>> =A0--
>>> =A0Miles Barr <miles@runtime-collective.com>=A0Runtime Collective =
Ltd.
>>>
>>> =A0------------------------------------------------------------------
>>> =A0-- =A0- To unsubscribe, e-mail: lucene-user-
>>> =A0unsubscribe@jakarta.apache.org For additional commands, e-mail: =A0=

>>> =A0lucene-user-help@jakarta.apache.org
>>>
>>>
>>> =A0------------------------------------------------------------------
>>> =A0-- =A0- To unsubscribe, e-mail: lucene-user-
>>> =A0unsubscribe@jakarta.apache.org For additional commands, e-mail: =A0=

>>> =A0lucene-user-help@jakarta.apache.org
>>
>>
>> =A0--------------------------------------------------------------------=

>> =A0- To unsubscribe, e-mail: lucene-user-
>> =A0unsubscribe@jakarta.apache.org For additional commands, e-mail:
>> =A0lucene-user-help@jakarta.apache.org
>>
>>
>> =A0--------------------------------------------------------------------=

>> =A0- To unsubscribe, e-mail: lucene-user-
>> =A0unsubscribe@jakarta.apache.org For additional commands, e-mail:
>> =A0lucene-user-help@jakarta.apache.org
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13100-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 08 17:19:30 2005
Return-Path: <lucene-user-return-13100-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 29609 invoked from network); 8 Feb 2005 17:19:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Feb 2005 17:19:29 -0000
Received: (qmail 367 invoked by uid 500); 8 Feb 2005 17:19:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 347 invoked by uid 500); 8 Feb 2005 17:19:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 332 invoked by uid 99); 8 Feb 2005 17:19:24 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mailer.syr.edu (HELO mailer.syr.edu) (128.230.18.29)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 08 Feb 2005 09:19:22 -0800
Received: from [128.230.38.212] (syru38-212.syr.edu) by mailer.syr.edu (LSMTP for Windows NT v1.1b) with SMTP id <0.13C70792@mailer.syr.edu>; Tue, 8 Feb 2005 12:19:19 -0500
Message-ID: <4208F497.8020303@syr.edu>
Date: Tue, 08 Feb 2005 12:19:19 -0500
From: Steven Rowe <sarowe@syr.edu>
User-Agent: Mozilla Thunderbird 0.9 (Windows/20041111)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Problem searching Field.Keyword field
References: <20052817282.987755@Kelvin> <ed93bf83715ec490a1cda598c4878d1c@ehatchersolutions.com>
In-Reply-To: <ed93bf83715ec490a1cda598c4878d1c@ehatchersolutions.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Why is there no KeywordAnalyzer?  That is, an analyzer which doesn't 
mess with its input in any way, but just returns it as-is?

I realize that under most circumstances, it would probably be more code 
to use it than just constructing a TermQuery, but having it would 
regularize query handling, and simplify new users' experience.  And for 
the purposes of the PerFieldAnalyzerWrapper, it could be helpful.

Steve

Erik Hatcher wrote:
> Kelvin - I respectfully disagree - could you elaborate on why this is 
> not an appropriate use of Field.Keyword?
> 
> If the category is "How To", Field.Text would split this (depending on 
> the Analyzer) into "how" and "to".
> 
> If the user is selecting a category from a drop-down, though, you 
> shouldn't be using QueryParser on it, but instead aggregating a 
> TermQuery("category", "How To") into a BooleanQuery with the rest of 
> it.  The rest may be other API created clauses and likely a piece from 
> QueryParser.
> 
>     Erik
> 
> On Feb 8, 2005, at 11:28 AM, Kelvin Tan wrote:
> 
>> As I posted previously, Field.Keyword is appropriate in only certain 
>> situations. For your use-case, I believe Field.Text is more suitable.
>>
>> k
>>
>> On Tue, 8 Feb 2005 10:02:19 -0600, Mike Miller wrote:
>>
>>>  This may or may not be correct, but I am indexing it as a keyword
>>>  because I provide a (required) radio button on the add screen for
>>>  the user to determine which category the document should be
>>>  assigned.  Then in the search, provide a dropdown that can be used
>>>  in the advanced search so that they can search only for a specific
>>>  category of documents (like HowTo, Troubleshooting, etc).
>>>
>>>  -----Original Message-----
>>>  From: Kelvin Tan [mailto:kelvin-lists@relevanz.com] Sent: Tuesday,
>>>  February 08, 2005 9:32 AM To: Lucene Users List
>>>  Subject: RE: Problem searching Field.Keyword field
>>>
>>>  Mike, is there a reason why you're indexing "category" as keyword
>>>  not text?
>>>
>>>  k
>>>
>>>  On Tue, 8 Feb 2005 08:26:13 -0600, Mike Miller wrote:
>>>
>>>>  Thanks for the quick response.
>>>>
>>>>  Sorry for my lack of understanding, but I am learning!  Won't the
>>>>   query parser still handle this query?  My limited understanding
>>>>  was  that the search call provides the 'all' field as default
>>>>  field for  query terms in the case where fields aren't specified.
>>>>    Using the  current code, searches like author:Mike" and
>>>>  title:Lucene work fine.
>>>>
>>>>  -----Original Message-----
>>>>  From: Miles Barr [mailto:miles@runtime-collective.com] Sent:  
>>>>  Tuesday, February 08, 2005 8:08 AM To: Lucene Users List Subject:
>>>>   Re: Problem searching Field.Keyword field
>>>>
>>>>  You're using the query parser with the standard analyser. You  
>>>>  should construct a term query manually instead.
>>>>
>>>>
>>>>  --
>>>>  Miles Barr <miles@runtime-collective.com> Runtime Collective Ltd.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13101-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 08 17:20:19 2005
Return-Path: <lucene-user-return-13101-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 30005 invoked from network); 8 Feb 2005 17:20:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Feb 2005 17:20:19 -0000
Received: (qmail 2584 invoked by uid 500); 8 Feb 2005 17:20:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 2537 invoked by uid 500); 8 Feb 2005 17:20:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2511 invoked by uid 99); 8 Feb 2005 17:20:05 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from lyra.lunarpages.com (HELO lyra.lunarpages.com) (64.235.230.140)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 08 Feb 2005 09:20:04 -0800
Received: from mueasd-wan184.citykom.de ([195.202.35.184] helo=Kelvin)
	by lyra.lunarpages.com with esmtpa (Exim 4.44)
	id 1CyZ1q-0006aK-Jf
	for lucene-user@jakarta.apache.org; Tue, 08 Feb 2005 09:20:00 -0800
From:     Kelvin Tan <kelvin-lists@relevanz.com>
To:       Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: Barca 1.1 (840) - Licensed Version
Date: Tue, 8 Feb 2005 18:19:42 +0100
Message-ID: <200528181942.008203@Kelvin>
In-Reply-To: <ed93bf83715ec490a1cda598c4878d1c@ehatchersolutions.com>
Subject: Re: Problem searching Field.Keyword field
Mime-Version: 1.0
Content-Type: text/plain; charset="ISO-8859-1"
Content-Transfer-Encoding: quoted-printable
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - lyra.lunarpages.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - relevanz.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Erik, I was thinking about the case where 

category:"document management"
category:"document publishing"

and the user wants to search category:document and have both turn up. But=
 that's obviously not the use-case in the situation of a drop-down, so=
 you're right about this, Field.Keyword is correct here. Sorry for=
 misleading you, Mike. 

k

On Tue, 8 Feb 2005 12:02:15 -0500, Erik Hatcher wrote:
>=A0Kelvin - I respectfully disagree - could you elaborate on why this
>=A0is not an appropriate use of Field.Keyword?
>
>=A0If the category is "How To", Field.Text would split this (depending
>=A0on the Analyzer) into "how" and "to".
>
>=A0If the user is selecting a category from a drop-down, though, you
>=A0shouldn't be using QueryParser on it, but instead aggregating a
>=A0TermQuery("category", "How To") into a BooleanQuery with the rest
>=A0of it. =A0The rest may be other API created clauses and likely a
>=A0piece from QueryParser.
>
>=A0Erik
>
>
>=A0On Feb 8, 2005, at 11:28 AM, Kelvin Tan wrote:
>
>>=A0As I posted previously, Field.Keyword is appropriate in only
>>=A0certain situations. For your use-case, I believe Field.Text is
>>=A0more suitable.
>>
>>=A0k
>>
>>=A0On Tue, 8 Feb 2005 10:02:19 -0600, Mike Miller wrote:
>>
>>>=A0This may or may not be correct, but I am indexing it as a
>>>=A0keyword =A0because I provide a (required) radio button on the add
>>>=A0screen for =A0the user to determine which category the document
>>>=A0should be =A0assigned. =A0Then in the search, provide a dropdown
>>>=A0that can be used =A0in the advanced search so that they can
>>>=A0search only for a specific =A0category of documents (like HowTo,
>>>=A0Troubleshooting, etc).
>>>
>>>=A0-----Original Message-----
>>>=A0From: Kelvin Tan [mailto:kelvin-lists@relevanz.com] Sent:
>>>=A0Tuesday, =A0February 08, 2005 9:32 AM To: Lucene Users List
>>>=A0Subject: RE: Problem searching Field.Keyword field
>>>
>>>=A0Mike, is there a reason why you're indexing "category" as
>>>=A0keyword =A0not text?
>>>
>>>=A0k
>>>
>>>=A0On Tue, 8 Feb 2005 08:26:13 -0600, Mike Miller wrote:
>>>
>>>>=A0Thanks for the quick response.
>>>>
>>>>=A0Sorry for my lack of understanding, but I am learning! =A0Won't
>>>>=A0the =A0=A0query parser still handle this query? =A0My limited
>>>>=A0understanding =A0was =A0that the search call provides the 'all'
>>>>=A0field as default =A0field for =A0query terms in the case where
>>>>=A0fields aren't specified. =A0=A0=A0Using the =A0current code, searches
>>>>=A0like author:Mike" and =A0title:Lucene work fine.
>>>>
>>>>=A0-----Original Message-----
>>>>=A0From: Miles Barr [mailto:miles@runtime-collective.com] Sent: =A0
>>>>=A0 =A0Tuesday, February 08, 2005 8:08 AM To: Lucene Users List
>>>>=A0Subject: =A0=A0Re: Problem searching Field.Keyword field
>>>>
>>>>=A0You're using the query parser with the standard analyser. You
>>>>=A0=A0=A0=A0should construct a term query manually instead.
>>>>
>>>>
>>>>=A0--
>>>>=A0Miles Barr <miles@runtime-collective.com>=A0Runtime Collective
>>>>=A0Ltd.
>>>>
>>>>=A0--------------------------------------------------------------
>>>>=A0---- =A0-- =A0- To unsubscribe, e-mail: lucene-user-
>>>>=A0unsubscribe@jakarta.apache.org For additional commands, e-
>>>>=A0mail: =A0=A0=A0lucene-user-help@jakarta.apache.org
>>>>
>>>>
>>>>=A0--------------------------------------------------------------
>>>>=A0---- =A0-- =A0- To unsubscribe, e-mail: lucene-user-
>>>>=A0unsubscribe@jakarta.apache.org For additional commands, e-
>>>>=A0mail: =A0=A0=A0lucene-user-help@jakarta.apache.org
>>>
>>>
>>>=A0----------------------------------------------------------------
>>>=A0---- =A0- To unsubscribe, e-mail: lucene-user-
>>>=A0unsubscribe@jakarta.apache.org For additional commands, e-mail:
>>>=A0=A0lucene-user-help@jakarta.apache.org
>>>
>>>
>>>=A0----------------------------------------------------------------
>>>=A0---- =A0- To unsubscribe, e-mail: lucene-user-
>>>=A0unsubscribe@jakarta.apache.org For additional commands, e-mail:
>>>=A0=A0lucene-user-help@jakarta.apache.org
>>
>>
>>=A0------------------------------------------------------------------
>>=A0--- To unsubscribe, e-mail: lucene-user-
>>=A0unsubscribe@jakarta.apache.org For additional commands, e-mail:
>>=A0lucene-user-help@jakarta.apache.org
>
>
>=A0--------------------------------------------------------------------
>=A0- To unsubscribe, e-mail: lucene-user-
>=A0unsubscribe@jakarta.apache.org For additional commands, e-mail:
>=A0lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13102-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 08 17:26:43 2005
Return-Path: <lucene-user-return-13102-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 32654 invoked from network); 8 Feb 2005 17:26:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Feb 2005 17:26:43 -0000
Received: (qmail 15133 invoked by uid 500); 8 Feb 2005 17:24:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 15076 invoked by uid 500); 8 Feb 2005 17:24:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15038 invoked by uid 99); 8 Feb 2005 17:24:07 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of TheRanger@gmx.net designates 213.165.64.20 as permitted sender)
Received: from pop.gmx.de (HELO mail.gmx.net) (213.165.64.20)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 08 Feb 2005 09:24:00 -0800
Received: (qmail 24742 invoked by uid 0); 8 Feb 2005 17:23:38 -0000
Received: from 193.63.235.44 by www59.gmx.net with HTTP;
	Tue, 8 Feb 2005 18:23:32 +0100 (MET)
Date: Tue, 8 Feb 2005 18:23:32 +0100 (MET)
From: "Karl Koch" <TheRanger@gmx.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
MIME-Version: 1.0
References: <16943.1107876502@www4.gmx.net>
Subject: HELP! JIT error when searching... Lucene 1.3 on Java 1.1
X-Priority: 3 (Normal)
X-Authenticated: #21808356
Message-ID: <29131.1107883412@www59.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

When I switch to Java 1.2, I can also not run it. Also I cannot index
anything. I have no idea why...

Can sombody help me?

Karl

> Hello all,
> 
> I have heard that Lucene 1.3 Final should run under Java 1.1. (I need that
> because I want to run a search with a PDA using Java 1.1).
> 
> However, when I run my code. I get the following error:
> 
> ----------------------------------------------------------
> 
> A nonfatal internal JIT (3.10.107(x)) error 'chgTarg: Conditional' has
> occurred in : 
>   'org/apache/lucene/store/FSDirectory.getDirectory
> (Ljava/io/File;Z)Lorg/apache/lucene/store/FSDirectory;': Interpreting
> method.
>   Please report this error in detail to
> http://java.sun.com/cgi-bin/bugreport.cgi
> 
> Exception occured in StandardSearch:search(String, String[], String)!
> java.lang.IllegalMonitorStateException: current thread not owner
> 	at org.apache.lucene.store.FSDirectory.makeLock(FSDirectory.java:312)
> 	at org.apache.lucene.index.IndexReader.open(IndexReader.java, Compiled
> Code)
> 
> ----------------------------------------------------------
> 
> The error does not occur when I run it under Java 1.4.
> 
> What do I do wrong and what do I need to change in order to make it work.
> It
> must be my code. Here the code relevant to this error (the search method).
> 
> 
> public static Result search(String queryString, String[] searchFields, 
>   String indexDirectory) {
>   // create access to index
>   StandardAnalyzer analyser = new StandardAnalyzer();
>   Hits hits = null;
>   Result result = null;
>   try {
>   fsDirectory =             
> FSDirectory.getDirectory(StandardSearcher.indexDirectory, false);
>   IndexSearcher searcher = new IndexSearcher(fsDirectory);
>   ...
> }
> 
> 
> What is wrong here?
> 
> Best Regards,
> Karl
> 
> -- 
> DSL Komplett von GMX +++ Superg¸nstig und stressfrei einsteigen!
> AKTION "Kein Einrichtungspreis" nutzen: http://www.gmx.net/de/go/dsl
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
DSL Komplett von GMX +++ Superg¸nstig und stressfrei einsteigen!
AKTION "Kein Einrichtungspreis" nutzen: http://www.gmx.net/de/go/dsl

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13103-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 08 17:49:30 2005
Return-Path: <lucene-user-return-13103-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 46079 invoked from network); 8 Feb 2005 17:49:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Feb 2005 17:49:30 -0000
Received: (qmail 85312 invoked by uid 500); 8 Feb 2005 17:49:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 85277 invoked by uid 500); 8 Feb 2005 17:49:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85264 invoked by uid 99); 8 Feb 2005 17:49:24 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from proserver2.ifit.uni-klu.ac.at (HELO proserver2.ifit.uni-klu.ac.at) (143.205.118.212)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 08 Feb 2005 09:49:23 -0800
Received: from [143.205.118.98] ([143.205.118.98]) by proserver2.ifit.uni-klu.ac.at over TLS secured channel with Microsoft SMTPSVC(5.0.2195.6713);
	 Tue, 8 Feb 2005 18:49:20 +0100
Message-ID: <4208FB9A.60409@ifit.uni-klu.ac.at>
Date: Tue, 08 Feb 2005 18:49:14 +0100
From: sergiu gordea <gsergiu@ifit.uni-klu.ac.at>
User-Agent: Mozilla Thunderbird 0.7 (Windows/20040616)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: HELP! JIT error when searching... Lucene 1.3 on Java 1.1
References: <16943.1107876502@www4.gmx.net> <29131.1107883412@www59.gmx.net>
In-Reply-To: <29131.1107883412@www59.gmx.net>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-OriginalArrivalTime: 08 Feb 2005 17:49:20.0106 (UTC) FILETIME=[843C3CA0:01C50E06]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Karl Koch wrote:

>When I switch to Java 1.2, I can also not run it. Also I cannot index
>anything. I have no idea why...
>
>Can sombody help me?
>  
>
I think you are a pioneer in this domain :) . I'm not very familiar with 
the lucene source code, but I think it uses the
advantages of java 1.3 and 1.4. 
Probably the best thing you can do is to get the sources of the old 
versions of lucene and to try to compile them with
java 1.2 compiler.

 Best,

 Sergiu

>Karl
>
>  
>
>>Hello all,
>>
>>I have heard that Lucene 1.3 Final should run under Java 1.1. (I need that
>>because I want to run a search with a PDA using Java 1.1).
>>
>>However, when I run my code. I get the following error:
>>
>>----------------------------------------------------------
>>
>>A nonfatal internal JIT (3.10.107(x)) error 'chgTarg: Conditional' has
>>occurred in : 
>>  'org/apache/lucene/store/FSDirectory.getDirectory
>>(Ljava/io/File;Z)Lorg/apache/lucene/store/FSDirectory;': Interpreting
>>method.
>>  Please report this error in detail to
>>http://java.sun.com/cgi-bin/bugreport.cgi
>>
>>Exception occured in StandardSearch:search(String, String[], String)!
>>java.lang.IllegalMonitorStateException: current thread not owner
>>	at org.apache.lucene.store.FSDirectory.makeLock(FSDirectory.java:312)
>>	at org.apache.lucene.index.IndexReader.open(IndexReader.java, Compiled
>>Code)
>>
>>----------------------------------------------------------
>>
>>The error does not occur when I run it under Java 1.4.
>>
>>What do I do wrong and what do I need to change in order to make it work.
>>It
>>must be my code. Here the code relevant to this error (the search method).
>>
>>
>>public static Result search(String queryString, String[] searchFields, 
>>  String indexDirectory) {
>>  // create access to index
>>  StandardAnalyzer analyser = new StandardAnalyzer();
>>  Hits hits = null;
>>  Result result = null;
>>  try {
>>  fsDirectory =             
>>FSDirectory.getDirectory(StandardSearcher.indexDirectory, false);
>>  IndexSearcher searcher = new IndexSearcher(fsDirectory);
>>  ...
>>}
>>
>>
>>What is wrong here?
>>
>>Best Regards,
>>Karl
>>
>>-- 
>>DSL Komplett von GMX +++ Superg¸nstig und stressfrei einsteigen!
>>AKTION "Kein Einrichtungspreis" nutzen: http://www.gmx.net/de/go/dsl
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>    
>>
>
>  
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13104-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 08 19:13:39 2005
Return-Path: <lucene-user-return-13104-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 97736 invoked from network); 8 Feb 2005 19:13:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Feb 2005 19:13:39 -0000
Received: (qmail 55442 invoked by uid 500); 8 Feb 2005 19:13:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 55413 invoked by uid 500); 8 Feb 2005 19:13:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55399 invoked by uid 99); 8 Feb 2005 19:13:34 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp-vbr15.xs4all.nl (HELO smtp-vbr15.xs4all.nl) (194.109.24.35)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 08 Feb 2005 11:13:33 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr15.xs4all.nl (8.12.11/8.12.11) with ESMTP id j18JDUqp096018
	for <lucene-user@jakarta.apache.org>; Tue, 8 Feb 2005 20:13:30 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: lucene-user@jakarta.apache.org
Subject: Re: HELP! JIT error when searching... Lucene 1.3 on Java 1.1
Date: Tue, 8 Feb 2005 20:13:29 +0100
User-Agent: KMail/1.5.4
References: <16943.1107876502@www4.gmx.net> <29131.1107883412@www59.gmx.net> <4208FB9A.60409@ifit.uni-klu.ac.at>
In-Reply-To: <4208FB9A.60409@ifit.uni-klu.ac.at>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200502082013.29916.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Tuesday 08 February 2005 18:49, sergiu gordea wrote:
> Karl Koch wrote:
...
> >>A nonfatal internal JIT (3.10.107(x)) error 'chgTarg: Conditional' has
> >>occurred in : 
> >>  'org/apache/lucene/store/FSDirectory.getDirectory
> >>(Ljava/io/File;Z)Lorg/apache/lucene/store/FSDirectory;': Interpreting
> >>method.
> >>  Please report this error in detail to
> >>http://java.sun.com/cgi-bin/bugreport.cgi

Iirc java 1.1 had a switch to turn of JIT compilation. It did slow things
down when I was using 1.1 (1.1.8?), but it might you help now...

Regards,
Paul Elschot


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13105-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 08 19:17:31 2005
Return-Path: <lucene-user-return-13105-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 99403 invoked from network); 8 Feb 2005 19:17:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Feb 2005 19:17:30 -0000
Received: (qmail 65863 invoked by uid 500); 8 Feb 2005 19:17:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 65842 invoked by uid 500); 8 Feb 2005 19:17:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 65829 invoked by uid 99); 8 Feb 2005 19:17:25 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 08 Feb 2005 11:17:23 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id C284213E2006; Tue,  8 Feb 2005 14:17:21 -0500 (EST)
Received: from [128.143.167.124] (d-128-167-124.bootp.Virginia.EDU [128.143.167.124])
	by ehatchersolutions.com (Postfix) with ESMTP id DA33D13E2006
	for <lucene-user@jakarta.apache.org>; Tue,  8 Feb 2005 14:17:15 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <4208F497.8020303@syr.edu>
References: <20052817282.987755@Kelvin> <ed93bf83715ec490a1cda598c4878d1c@ehatchersolutions.com> <4208F497.8020303@syr.edu>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <6252768550d400e5eb3aabc463d88d69@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Problem searching Field.Keyword field
Date: Tue, 8 Feb 2005 14:17:10 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-3.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Feb 8, 2005, at 12:19 PM, Steven Rowe wrote:

> Why is there no KeywordAnalyzer?  That is, an analyzer which doesn't  
> mess with its input in any way, but just returns it as-is?
>
> I realize that under most circumstances, it would probably be more  
> code to use it than just constructing a TermQuery, but having it would  
> regularize query handling, and simplify new users' experience.  And  
> for the purposes of the PerFieldAnalyzerWrapper, it could be helpful.

It's long been on my TODO list.  I just adapted (changed the package  
names) the Lucene in Action KeywordAnalyzer and added it to the new  
contrib area:

	http://svn.apache.org/repos/asf/lucene/java/trunk/contrib/analyzers/ 
src/java/org/apache/lucene/analysis/KeywordAnalyzer.java

In the next official release of Lucene, the contrib (formerly known as  
the Sandbox) components will be packaged along with the Lucene core.   
I'm still working on this packaging build process as I migrate the  
Sandbox over to contrib.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13106-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 08 21:05:59 2005
Return-Path: <lucene-user-return-13106-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 67974 invoked from network); 8 Feb 2005 21:05:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Feb 2005 21:05:58 -0000
Received: (qmail 91869 invoked by uid 500); 8 Feb 2005 21:05:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 91841 invoked by uid 500); 8 Feb 2005 21:05:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 91665 invoked by uid 99); 8 Feb 2005 21:05:41 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of TheRanger@gmx.net designates 213.165.64.20 as permitted sender)
Received: from pop.gmx.de (HELO mail.gmx.net) (213.165.64.20)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 08 Feb 2005 13:05:39 -0800
Received: (qmail 32719 invoked by uid 0); 8 Feb 2005 21:05:36 -0000
Received: from 193.63.235.44 by www62.gmx.net with HTTP;
	Tue, 8 Feb 2005 22:05:36 +0100 (MET)
Date: Tue, 8 Feb 2005 22:05:36 +0100 (MET)
From: "Karl Koch" <TheRanger@gmx.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
MIME-Version: 1.0
References: <200502082013.29916.paul.elschot@xs4all.nl>
Subject: Re: HELP! JIT error when searching... Lucene 1.3 on Java 1.1
X-Priority: 3 (Normal)
X-Authenticated: #21808356
Message-ID: <30402.1107896736@www62.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I have a colleague which uses Lucene 1.3 on PersonalJava (equally to Java
1.1.8). I can't find a significant difference to his code (sill searching)
but he did not many any changes. He did also not recompile Lucene 1.3 on
1.1.8 etc.

It must be something simple. I will look for that switch...

In the meantime, I am thankful for any other help.

Cheers,
Karl

> On Tuesday 08 February 2005 18:49, sergiu gordea wrote:
> > Karl Koch wrote:
> ...
> > >>A nonfatal internal JIT (3.10.107(x)) error 'chgTarg: Conditional' has
> > >>occurred in : 
> > >>  'org/apache/lucene/store/FSDirectory.getDirectory
> > >>(Ljava/io/File;Z)Lorg/apache/lucene/store/FSDirectory;': Interpreting
> > >>method.
> > >>  Please report this error in detail to
> > >>http://java.sun.com/cgi-bin/bugreport.cgi
> 
> Iirc java 1.1 had a switch to turn of JIT compilation. It did slow things
> down when I was using 1.1 (1.1.8?), but it might you help now...
> 
> Regards,
> Paul Elschot
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
DSL Komplett von GMX +++ Superg¸nstig und stressfrei einsteigen!
AKTION "Kein Einrichtungspreis" nutzen: http://www.gmx.net/de/go/dsl

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13107-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 08 22:32:41 2005
Return-Path: <lucene-user-return-13107-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 14365 invoked from network); 8 Feb 2005 22:32:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 8 Feb 2005 22:32:41 -0000
Received: (qmail 9557 invoked by uid 500); 8 Feb 2005 22:32:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 9531 invoked by uid 500); 8 Feb 2005 22:32:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 9518 invoked by uid 99); 8 Feb 2005 22:32:38 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from imf19aec.mail.bellsouth.net (HELO imf19aec.mail.bellsouth.net) (205.152.59.67)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 08 Feb 2005 14:32:36 -0800
Received: from w2ks.synernet.com ([65.12.150.225])
          by imf19aec.mail.bellsouth.net
          (InterMail vM.5.01.06.11 201-253-122-130-111-20040605) with ESMTP
          id <20050208223234.TDZD2048.imf19aec.mail.bellsouth.net@w2ks.synernet.com>
          for <lucene-user@jakarta.apache.org>;
          Tue, 8 Feb 2005 17:32:34 -0500
Message-Id: <6.2.0.14.2.20050208172915.0522f008@fast.synernet.com>
X-Mailer: QUALCOMM Windows Eudora Version 6.2.0.14
Date: Tue, 08 Feb 2005 17:33:12 -0500
To: lucene-user@jakarta.apache.org
From: Fred Toth <ftoth@synernet.com>
Subject: Good example scientific lucene sites?
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"; format=flowed
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I'm going to be demonstrating some of our work with lucene to
a prospective customer this week, and I'm wondering if
any of you have suggestions for other relevant sites that
use lucene.

In particular, I'm interested in scientific or technical sites,
perhaps with use of the highlighter, and perhaps extra work
on relevancy ranking.

I'm happy to poke around on the "powered by lucene" page,
but if anyone can save me some time, I'd appreciate it.

Many thanks,

Fred


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13108-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 09 09:32:50 2005
Return-Path: <lucene-user-return-13108-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 78959 invoked from network); 9 Feb 2005 09:32:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Feb 2005 09:32:50 -0000
Received: (qmail 30578 invoked by uid 500); 9 Feb 2005 09:32:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 30546 invoked by uid 500); 9 Feb 2005 09:32:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 30529 invoked by uid 99); 9 Feb 2005 09:32:43 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.fib.upc.es (HELO mail.fib.upc.es) (147.83.41.105)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 09 Feb 2005 01:32:43 -0800
Received: from [147.83.58.160] (tarragona.fib.upc.es [147.83.58.160])
	by mail.fib.upc.es (Postfix) with ESMTP id 4DF3AC9A33
	for <lucene-user@jakarta.apache.org>; Wed,  9 Feb 2005 10:32:34 +0100 (CET)
Message-ID: <4209D8B2.1000209@fib.upc.edu>
Date: Wed, 09 Feb 2005 10:32:34 +0100
From: Daniel Cortes <dcortes@fib.upc.edu>
Organization: FIB
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: PHP-Lucene Integration
References: <04CF214B-7862-11D9-BD83-000A95973046@backspaces.net> <e378518dd28c1182cd537755e6b12166@ehatchersolutions.com> <42067798.2000206@getopt.org>
In-Reply-To: <42067798.2000206@getopt.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Scaned-FIB: AntiVirus/AntiSpam en fib.upc.es
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi, I have a problem about PHP and Lucen. too.

I have PhpBB (a forum) and a JAVA portal, I need to index post on Lucene 
Index, phpBB use a DB of mysql.
I have 2 options, first index the database, a thing that I don't do 
never, and I think that is complex because I supose I have to decide how 
often to re-index the database.
The second option and the option that I think is the best it's to do 
that every "add" or "modify" button in the phpBB calls a JAVA thread 
that recive parameters how text of topic, autor and other things, this 
things will be indexed but not stored and the only thing to store will 
be url of topic.
I hope this will be good for someone.

PD: I don't have idea how to do the second option until yet :D.Because I 
have to modify all the buttons and I don't have to call a JAVA thread 
since PHP, I hope that I haven't to install JAVA bridge for this 
because, I don't have comunication PHP <->JAVA only thing that I need is 
call a JAVA thread.
Perhaps my ideas are erroneous, please tell me.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13109-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 09 09:41:24 2005
Return-Path: <lucene-user-return-13109-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 83651 invoked from network); 9 Feb 2005 09:41:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Feb 2005 09:41:23 -0000
Received: (qmail 41163 invoked by uid 500); 9 Feb 2005 09:41:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 41140 invoked by uid 500); 9 Feb 2005 09:41:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 41126 invoked by uid 99); 9 Feb 2005 09:41:18 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from Unknown (HELO goose.milesbarr.com) (81.168.89.246)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 09 Feb 2005 01:41:17 -0800
Received: by goose.milesbarr.com (Postfix, from userid 1000)
	id 0D9332854FC; Wed,  9 Feb 2005 09:40:50 +0000 (GMT)
Subject: Re: Problem searching Field.Keyword field
From: Miles Barr <miles@runtime-collective.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <4208F497.8020303@syr.edu>
References: <20052817282.987755@Kelvin>
	 <ed93bf83715ec490a1cda598c4878d1c@ehatchersolutions.com>
	 <4208F497.8020303@syr.edu>
Content-Type: text/plain
Content-Transfer-Encoding: 7bit
Organization: Runtime Collective Ltd.
Date: Wed, 09 Feb 2005 09:40:49 +0000
Message-Id: <1107942049.30351.24.camel@goose.milesbarr.com>
Mime-Version: 1.0
X-Mailer: Evolution 2.0.2 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Tue, 2005-02-08 at 12:19 -0500, Steven Rowe wrote:
> Why is there no KeywordAnalyzer?  That is, an analyzer which doesn't 
> mess with its input in any way, but just returns it as-is?
> 
> I realize that under most circumstances, it would probably be more code 
> to use it than just constructing a TermQuery, but having it would 
> regularize query handling, and simplify new users' experience.  And for 
> the purposes of the PerFieldAnalyzerWrapper, it could be helpful.

It's fairly straightforward to write one. Here's the one I put together
for PerFieldAnalyzerWrapper situations:


package org.apache.lucene.analysis;

import java.io.Reader;

public class VerbatimAnalyzer extends Analyzer {

    public VerbatimAnalyzer() {
        super();
    }

    public TokenStream tokenStream(String fieldName, Reader reader) {
        TokenStream result = new VerbatimTokenizer(reader);

        return result;
    }


    /**
     * This tokenizer assumes that the entire input is just one token.
     */
    public static class VerbatimTokenizer extends CharTokenizer {

        public VerbatimTokenizer(Reader reader) {
            super(reader);
        }

        protected boolean isTokenChar(char c) {
            return true;
        }
    }
}


-- 
Miles Barr <miles@runtime-collective.com>
Runtime Collective Ltd.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13110-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 09 09:51:31 2005
Return-Path: <lucene-user-return-13110-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 87758 invoked from network); 9 Feb 2005 09:51:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Feb 2005 09:51:31 -0000
Received: (qmail 53820 invoked by uid 500); 9 Feb 2005 09:51:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 53746 invoked by uid 500); 9 Feb 2005 09:51:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 53729 invoked by uid 99); 9 Feb 2005 09:51:25 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from web26004.mail.ukl.yahoo.com (HELO web26004.mail.ukl.yahoo.com) (217.12.10.215)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 09 Feb 2005 01:51:25 -0800
Received: (qmail 42826 invoked by uid 60001); 9 Feb 2005 09:51:22 -0000
Message-ID: <20050209095122.42824.qmail@web26004.mail.ukl.yahoo.com>
Received: from [193.36.230.96] by web26004.mail.ukl.yahoo.com via HTTP; Wed, 09 Feb 2005 09:51:22 GMT
Date: Wed, 9 Feb 2005 09:51:22 +0000 (GMT)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: Re: Configurable indexing of an RDBMS, has it been done before?
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

A GUI plugin for Squirrel SQL (
http://squirrel-sql.sourceforge.net/) would make a
great way of configuring the mapping.
It already does all the heavy lifting for connecting
to different types of database and poking around the
internals.
I've got the bare bones of a plugin sorted (Connect to
any DB, right click table name, click "define Lucene
index...", list DB column names/types). Next steps are
controls to define the required mapping, run indexing
and provide an option to save the configuration in
some XML format for ongoing batch operation.

Before taking this further I suppose some wider
questions are:

1) Should we build this mapper into Luke instead? We
would have to lift a LOT of the DB handling "smarts"
from Squirrel. Luke however is doing a lot with
Analyzer configuration which would certainly be useful
code in any mapping tool (can we lift those and use in
Squirrel?).
2) What should the XML for the batch-driven
configuration look like? Is it ANT tasks or a custom
framework? 
3) If our mapping understands the make-up of the rdbms
and the Lucene index should we introduce a
higher-level software layer for searching which sits
over the rdbms and Lucene and abstracts them to some
extent? This layer would know where to go to retrieve
field values or construct filters ie understands
whether to retrieve "title" field for display from
database column or a Lucene "stored" field and whether
the "price< $100" search criteria is resolved by a
lucene query or an RDBMS-query to produce a Lucene
filter. It seems like currently, every DB+Lucene
integration project struggles with designing a
solution to manage this divide and handcodes the
solution.

Any thoughts appreciated




	
	
		
___________________________________________________________ 
ALL-NEW Yahoo! Messenger - all new features - even more fun! http://uk.messenger.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13111-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 09 10:46:35 2005
Return-Path: <lucene-user-return-13111-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 15980 invoked from network); 9 Feb 2005 10:46:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Feb 2005 10:46:34 -0000
Received: (qmail 23776 invoked by uid 500); 9 Feb 2005 10:46:33 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 22922 invoked by uid 500); 9 Feb 2005 10:46:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22908 invoked by uid 99); 9 Feb 2005 10:46:30 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from pluto.isd-holland.nl (HELO pluto2.isd-holland.nl) (62.221.254.24)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 09 Feb 2005 02:46:30 -0800
Received: from [192.168.0.103] (dsl-82-199-135-164.dutchdsl.nl [82.199.135.164])
	by pluto2.isd-holland.nl (Postfix) with ESMTP id 314A02FC040
	for <lucene-user@jakarta.apache.org>; Wed,  9 Feb 2005 11:46:27 +0100 (CET)
Message-ID: <4209EA02.7030003@rotterdam-cs.com>
Date: Wed, 09 Feb 2005 11:46:26 +0100
From: Aad Nales <aad.nales@rotterdam-cs.com>
User-Agent: Mozilla Thunderbird 1.0 (X11/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Configurable indexing of an RDBMS, has it been done before?
References: <420721D0.6060906@tropo.com> <4207431A.2040202@rotterdam-cs.com> <4207BC1E.90005@tropo.com> <42086D66.8070403@rotterdam-cs.com> <4c469e32fbe1e2ac5343cc23b056c09d@ehatchersolutions.com>
In-Reply-To: <4c469e32fbe1e2ac5343cc23b056c09d@ehatchersolutions.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Not sure that I get everything:

In the framework that we have built we use a 'simple' object mapping 
that connects a database table with an object and implicetely with a 
cache. It is build on top of JDBC.

The key fields of the database are used to create a DbKey element a 
simple array of Object's. Through our mapping layer you can read and 
write objects as atomic elements the layer takes care of stuff like 
inheritance and delegation. (e.g. our object model has Items, Versions 
and States, reading an item creates an ItemBean, a VersionBean with the 
current version and a StateBean with the Version most current state).

The framework foresees in a number of different applications e.g. Forum, 
News, Questionaires, Pages and then some each inherited from Item. What 
we needed was an indexing approach that could do the following:

1. When an Page, Questionnaire, NewsItem etc. was updated this needed to 
be reflected in the search results directly.
2. Every now and then (say once per night) a batch update was needed.

During the creation of our search solution we encountered a number of 
issues:

1. Double results.
When you execute a search every hit counts but if a forum thread 
consists of 200 items then 200 hits on reply's does not really add to 
the users feeling of service. We added the concept of 'key' field to the 
index. Double results are filtered out only the highest hit is displayed.

2. Delegate objects
A thread consists of messages. The content of each message should be in 
the index. In order to solve this we create detailers. A detailer is 
called with a DbKey and returns a set of Objects. Each individual object 
is parsed (by calling the detailer again) based on the rules that are 
defined in search.xml (see previous mail).

3. Batch Jobs
To optimize the index now and then we need to reindex the whole thing. 
This is done by executing a query and getting the DbKey elements. (This 
by the way is done in a so called DbMap as spare implementation a 
HashMap where objects are only loaded into the cache when a getValue() 
is called on it's entry). The query is called on the Item 'table'. The 
parsing is done by calling the apprioriate detailers per Item type.

Now coming back to our discussion.

- The cache/mapping layer does not care much for the type of database 
since it is build on JDBC and does not use any stored procedures or 
constraints other than primary keys.

- Searches are executed on an object that assures that no reader or 
writers are active.

- The result of a search is given back as Map. This way the uri that is 
created as part of the result can be completely ignored if your 
application so pleases.

Eriks suggestions:

Per field analyzers and wrappers are not a problem and could very easily 
be added to this framework.

Creating an object as a result is possible i guess, but does this not 
defeat the purpose of a search index somewhat? The information in the 
index especially when set against a database are to present those fields 
that are interesting to be searched.

The second part i don't quite 'get' is how would the 'dot' mapping work 
"company.president.name" for instance? I can see it writing to the index 
but not creating object returning from a call? Or would this simply be a 
key field that is then used as part of query? Using it to navigate an 
object structure is quite feasible especially if you would create a key. 
E.g. I would store a key in lucene called: "company.role.person" and a 
related field with the csv values "XYZ, VP, Jenssen". Then if the 
company 'object' can be derived from so kind of persistent object the 
result of the query would be:

persistentObject.getCompany("XYZ").getRole("VP").getPerson("Jenssen");

The stuff we build so far would be able to cope with something like that 
i guess, although quite some elements would still be missing. Using 
Lucene this way more or less creates a 'unified' index.

Also: I have not been able to look a Squirrel.

Cheers,
Aad




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13112-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 09 11:56:57 2005
Return-Path: <lucene-user-return-13112-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 49484 invoked from network); 9 Feb 2005 11:56:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Feb 2005 11:56:55 -0000
Received: (qmail 23304 invoked by uid 500); 9 Feb 2005 11:56:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 23277 invoked by uid 500); 9 Feb 2005 11:56:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23262 invoked by uid 99); 9 Feb 2005 11:56:50 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 09 Feb 2005 03:56:48 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 0797E13E28FA; Wed,  9 Feb 2005 06:56:46 -0500 (EST)
Received: from [192.168.1.100] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id B168113E200A
	for <lucene-user@jakarta.apache.org>; Wed,  9 Feb 2005 06:56:31 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <1107942049.30351.24.camel@goose.milesbarr.com>
References: <20052817282.987755@Kelvin> <ed93bf83715ec490a1cda598c4878d1c@ehatchersolutions.com> <4208F497.8020303@syr.edu> <1107942049.30351.24.camel@goose.milesbarr.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <2515e14047c88b813c40899376ed9a23@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Problem searching Field.Keyword field
Date: Wed, 9 Feb 2005 06:56:30 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.5 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

The only caveat to your VerbatimAnalyzer is that it will still split 
strings that are over 255 characters.  CharTokenizer does that.  
Granted, though, that keyword fields probably don't make much sense to 
be that long.

As mentioned yesterday - I added the LIA KeywordAnalyzer into the 
contrib area of Subversion.  I had built one like you had also, but the 
one I contributed reads the entire input stream into a StringBuffer 
ensuring it does not get split like CharTokenizer would.

	Erik


On Feb 9, 2005, at 4:40 AM, Miles Barr wrote:

> On Tue, 2005-02-08 at 12:19 -0500, Steven Rowe wrote:
>> Why is there no KeywordAnalyzer?  That is, an analyzer which doesn't
>> mess with its input in any way, but just returns it as-is?
>>
>> I realize that under most circumstances, it would probably be more 
>> code
>> to use it than just constructing a TermQuery, but having it would
>> regularize query handling, and simplify new users' experience.  And 
>> for
>> the purposes of the PerFieldAnalyzerWrapper, it could be helpful.
>
> It's fairly straightforward to write one. Here's the one I put together
> for PerFieldAnalyzerWrapper situations:
>
>
> package org.apache.lucene.analysis;
>
> import java.io.Reader;
>
> public class VerbatimAnalyzer extends Analyzer {
>
>     public VerbatimAnalyzer() {
>         super();
>     }
>
>     public TokenStream tokenStream(String fieldName, Reader reader) {
>         TokenStream result = new VerbatimTokenizer(reader);
>
>         return result;
>     }
>
>
>     /**
>      * This tokenizer assumes that the entire input is just one token.
>      */
>     public static class VerbatimTokenizer extends CharTokenizer {
>
>         public VerbatimTokenizer(Reader reader) {
>             super(reader);
>         }
>
>         protected boolean isTokenChar(char c) {
>             return true;
>         }
>     }
> }
>
>
> -- 
> Miles Barr <miles@runtime-collective.com>
> Runtime Collective Ltd.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13113-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 09 12:04:04 2005
Return-Path: <lucene-user-return-13113-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 55246 invoked from network); 9 Feb 2005 12:04:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Feb 2005 12:04:03 -0000
Received: (qmail 32073 invoked by uid 500); 9 Feb 2005 12:04:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 32045 invoked by uid 500); 9 Feb 2005 12:04:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 32031 invoked by uid 99); 9 Feb 2005 12:04:00 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from Unknown (HELO goose.milesbarr.com) (81.168.89.246)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 09 Feb 2005 04:04:00 -0800
Received: by goose.milesbarr.com (Postfix, from userid 1000)
	id 06EB21CD8F2; Wed,  9 Feb 2005 12:01:54 +0000 (GMT)
Subject: Re: Problem searching Field.Keyword field
From: Miles Barr <miles@runtime-collective.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <2515e14047c88b813c40899376ed9a23@ehatchersolutions.com>
References: <20052817282.987755@Kelvin>
	 <ed93bf83715ec490a1cda598c4878d1c@ehatchersolutions.com>
	 <4208F497.8020303@syr.edu> <1107942049.30351.24.camel@goose.milesbarr.com>
	 <2515e14047c88b813c40899376ed9a23@ehatchersolutions.com>
Content-Type: text/plain
Content-Transfer-Encoding: 7bit
Organization: Runtime Collective Ltd.
Date: Wed, 09 Feb 2005 12:01:53 +0000
Message-Id: <1107950513.30359.29.camel@goose.milesbarr.com>
Mime-Version: 1.0
X-Mailer: Evolution 2.0.2 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Wed, 2005-02-09 at 06:56 -0500, Erik Hatcher wrote:
> The only caveat to your VerbatimAnalyzer is that it will still split 
> strings that are over 255 characters.  CharTokenizer does that.  
> Granted, though, that keyword fields probably don't make much sense to 
> be that long.
> 
> As mentioned yesterday - I added the LIA KeywordAnalyzer into the 
> contrib area of Subversion.  I had built one like you had also, but the 
> one I contributed reads the entire input stream into a StringBuffer 
> ensuring it does not get split like CharTokenizer would.

That's good to know. When indexing web sites I use the URL as the
identifier and hence store it in a keyword field. While not common, it
is possible for URLs to be longer than 255 characters. That could have
led to some very awkward bugs to track down.

I'll probably switch over to your KeywordAnalyzer.


-- 
Miles Barr <miles@runtime-collective.com>
Runtime Collective Ltd.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13114-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 09 12:24:06 2005
Return-Path: <lucene-user-return-13114-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 73705 invoked from network); 9 Feb 2005 12:24:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Feb 2005 12:24:06 -0000
Received: (qmail 66348 invoked by uid 500); 9 Feb 2005 12:24:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 66327 invoked by uid 500); 9 Feb 2005 12:24:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 66305 invoked by uid 99); 9 Feb 2005 12:24:01 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from otto.isd-holland.nl (HELO otto2.isd-holland.nl) (62.221.254.21)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 09 Feb 2005 04:24:01 -0800
Received: from [192.168.0.103] (dsl-82-199-135-164.dutchdsl.nl [82.199.135.164])
	by otto2.isd-holland.nl (Postfix) with ESMTP id 7C8DC364065
	for <lucene-user@jakarta.apache.org>; Wed,  9 Feb 2005 13:24:03 +0100 (CET)
Message-ID: <420A00DD.8050506@rotterdam-cs.com>
Date: Wed, 09 Feb 2005 13:23:57 +0100
From: Aad Nales <aad.nales@rotterdam-cs.com>
User-Agent: Mozilla Thunderbird 1.0 (X11/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: sounds like spellcheck
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

In my Clipper days I could build an index on English words using a 
technique that was called soundex. Searching in that index resulted in 
hits of words that sounded the same. From what i remember this technique 
only worked for English. Has it ever been generalized?

What i am trying to solve is this. A customer is looking for a solution 
to spelling mistakes made by children (upto 10) when typing in queries. 
The site is Dutch. Common mistakes are 'sgool' when searching for 
'school'. The 'normal' spellcheckers and suggestors typically generate a 
list where the 'sounds like' candidates' are too far away from the 
result. So what I am thinking about doing is this:

1. create a parser that takes a word and creates a soundindex entry.

2. create list of 'correctly' spelled words either based on the index of 
the website or on some kind of dictionary.
2a. perhaps create a n-gram index based on these words

3. accept a query, figure out that a spelling mistake has been made
3a find alternatives by parsing the query and searching the 'sound like 
index' and then calculate and order  the results

Steps 2 and 3 have been discussed at length in this forum and have even 
made it to the sandbox. What I am left with is 1.

My thinking is processing a series of replacement statements that go like:
--
g sounds like ch if the immediate predecessor is an s.
o sounds like oo if the immediate predecessor is a consonant
--

But before I takes this to the next step I am wondering if anybody has 
created or thought up alternative solutions?

Cheers,
Aad








---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13115-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 09 13:10:19 2005
Return-Path: <lucene-user-return-13115-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 95467 invoked from network); 9 Feb 2005 13:10:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Feb 2005 13:10:19 -0000
Received: (qmail 22567 invoked by uid 500); 9 Feb 2005 13:10:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 22547 invoked by uid 500); 9 Feb 2005 13:10:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22532 invoked by uid 99); 9 Feb 2005 13:10:13 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.tanto.de (HELO mail.tanto.de) (213.61.178.43)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 09 Feb 2005 05:10:12 -0800
Received: from localhost (localhost [127.0.0.1])
	by mail.tanto.de (Postfix) with ESMTP id C69B323BF1
	for <lucene-user@jakarta.apache.org>; Wed,  9 Feb 2005 14:10:23 +0100 (CET)
Received: from mail.tanto.de ([127.0.0.1])
 by localhost (mail.tanto.de [127.0.0.1]) (amavisd-new, port 10024) with ESMTP
 id 11137-05 for <lucene-user@jakarta.apache.org>;
 Wed,  9 Feb 2005 14:10:23 +0100 (CET)
Received: from tucholsky.office.tanto.de (tucholsky.office.tanto.de [10.0.0.35])
	by mail.tanto.de (Postfix) with ESMTP id 9844823BF0
	for <lucene-user@jakarta.apache.org>; Wed,  9 Feb 2005 14:10:23 +0100 (CET)
Received: from tucholsky.office.tanto.de (morus@localhost [127.0.0.1])
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-7.1) with ESMTP id j19DAY72019687
	for <lucene-user@jakarta.apache.org>; Wed, 9 Feb 2005 14:10:34 +0100
Received: (from morus@localhost)
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-7.1) id j19DAYxx019683;
	Wed, 9 Feb 2005 14:10:34 +0100
From: Morus Walter <morus.walter@tanto.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16906.3018.829602.695679@tanto-xipolis.de>
Date: Wed, 9 Feb 2005 14:10:34 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: sounds like spellcheck
In-Reply-To: <420A00DD.8050506@rotterdam-cs.com>
References: <420A00DD.8050506@rotterdam-cs.com>
X-Mailer: VM 7.03 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Virus-Scanned: by amavisd-new at mail.tanto.de Q&A postmaster@tanto.de
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Aad Nales writes:
> 
> Steps 2 and 3 have been discussed at length in this forum and have even 
> made it to the sandbox. What I am left with is 1.
> 
> My thinking is processing a series of replacement statements that go like:
> --
> g sounds like ch if the immediate predecessor is an s.
> o sounds like oo if the immediate predecessor is a consonant
> --
> 
> But before I takes this to the next step I am wondering if anybody has 
> created or thought up alternative solutions?
> 
An implementation of a rule based system to create such a pronounciation
form, can be found in a library called makelib that is part of an editor
named leanedit.
Unfortunatley the website seems to be down.
The lib is LGPL. If you're interested, I can send you a copy of the 
sources. The only ruleset available is german though.

Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13116-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 09 13:29:57 2005
Return-Path: <lucene-user-return-13116-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 5766 invoked from network); 9 Feb 2005 13:29:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Feb 2005 13:29:57 -0000
Received: (qmail 55990 invoked by uid 500); 9 Feb 2005 13:29:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 55566 invoked by uid 500); 9 Feb 2005 13:29:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55553 invoked by uid 99); 9 Feb 2005 13:29:52 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from pluto.isd-holland.nl (HELO pluto2.isd-holland.nl) (62.221.254.24)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 09 Feb 2005 05:29:50 -0800
Received: from [192.168.0.103] (dsl-82-199-135-164.dutchdsl.nl [82.199.135.164])
	by pluto2.isd-holland.nl (Postfix) with ESMTP id E18252FC169
	for <lucene-user@jakarta.apache.org>; Wed,  9 Feb 2005 14:29:47 +0100 (CET)
Message-ID: <420A104B.6040005@rotterdam-cs.com>
Date: Wed, 09 Feb 2005 14:29:47 +0100
From: Aad Nales <aad.nales@rotterdam-cs.com>
User-Agent: Mozilla Thunderbird 1.0 (X11/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: sounds like spellcheck
References: <420A00DD.8050506@rotterdam-cs.com> <16906.3018.829602.695679@tanto-xipolis.de>
In-Reply-To: <16906.3018.829602.695679@tanto-xipolis.de>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Morus Walter wrote:

>
>Unfortunatley the website seems to be down.
>
>  
>
Do you have the url? The sources are off course very welcome as well.

Cheers,
Aad


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13117-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 09 13:30:57 2005
Return-Path: <lucene-user-return-13117-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 6319 invoked from network); 9 Feb 2005 13:30:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Feb 2005 13:30:57 -0000
Received: (qmail 57947 invoked by uid 500); 9 Feb 2005 13:30:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 57928 invoked by uid 500); 9 Feb 2005 13:30:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 57913 invoked by uid 99); 9 Feb 2005 13:30:50 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 09 Feb 2005 05:30:49 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 05ECA13E28FA; Wed,  9 Feb 2005 08:30:45 -0500 (EST)
Received: from [128.143.167.124] (d-128-167-124.bootp.Virginia.EDU [128.143.167.124])
	by ehatchersolutions.com (Postfix) with ESMTP id F144F13E200A
	for <lucene-user@jakarta.apache.org>; Wed,  9 Feb 2005 08:30:38 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <420A00DD.8050506@rotterdam-cs.com>
References: <420A00DD.8050506@rotterdam-cs.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <746c5ec272c5ceb4d37b6db739f661b6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: sounds like spellcheck
Date: Wed, 9 Feb 2005 08:30:39 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-3.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Feb 9, 2005, at 7:23 AM, Aad Nales wrote:
> In my Clipper days I could build an index on English words using a 
> technique that was called soundex. Searching in that index resulted in 
> hits of words that sounded the same. From what i remember this 
> technique only worked for English. Has it ever been generalized?

I do not know how Soundex/Metaphone/Double Metaphone work with 
non-English languages, but these algorithms are in Jakarta Commons 
Codec.  I used the Metaphone algorithm as a custom analyzer example in 
Lucene in Action.  You'll see it in the source code distribution under 
src/lia/analysis/codec.  I did a couple of variations, one that adds 
the metaphoned version as a token in the same position and one that 
simply replaces it in the token stream.

I even envisioned this sounds-like feature being used for children.  I 
was mulling over this idea while having lunch with my son one day last 
spring (he was 5 at the time).  I asked him how to spell "cool cat" and 
he replied "c-o-l c-a-t".  I tried it out with the metaphone algorithm 
and it matches!

	http://www.lucenebook.com/search?query=cool+cat

	Erik


>
> What i am trying to solve is this. A customer is looking for a 
> solution to spelling mistakes made by children (upto 10) when typing 
> in queries. The site is Dutch. Common mistakes are 'sgool' when 
> searching for 'school'. The 'normal' spellcheckers and suggestors 
> typically generate a list where the 'sounds like' candidates' are too 
> far away from the result. So what I am thinking about doing is this:
>
> 1. create a parser that takes a word and creates a soundindex entry.
>
> 2. create list of 'correctly' spelled words either based on the index 
> of the website or on some kind of dictionary.
> 2a. perhaps create a n-gram index based on these words
>
> 3. accept a query, figure out that a spelling mistake has been made
> 3a find alternatives by parsing the query and searching the 'sound 
> like index' and then calculate and order  the results
>
> Steps 2 and 3 have been discussed at length in this forum and have 
> even made it to the sandbox. What I am left with is 1.
>
> My thinking is processing a series of replacement statements that go 
> like:
> --
> g sounds like ch if the immediate predecessor is an s.
> o sounds like oo if the immediate predecessor is a consonant
> --
>
> But before I takes this to the next step I am wondering if anybody has 
> created or thought up alternative solutions?
>
> Cheers,
> Aad
>
>
>
>
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13118-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 09 13:41:36 2005
Return-Path: <lucene-user-return-13118-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 11265 invoked from network); 9 Feb 2005 13:41:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Feb 2005 13:41:36 -0000
Received: (qmail 94194 invoked by uid 500); 9 Feb 2005 13:41:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 94165 invoked by uid 500); 9 Feb 2005 13:41:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94152 invoked by uid 99); 9 Feb 2005 13:41:30 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from lyra.lunarpages.com (HELO lyra.lunarpages.com) (64.235.230.140)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 09 Feb 2005 05:41:28 -0800
Received: from mueasc-wan093.citykom.de ([195.202.40.93] helo=Kelvin)
	by lyra.lunarpages.com with esmtpa (Exim 4.44)
	id 1Cys5s-00051A-Ky
	for lucene-user@jakarta.apache.org; Wed, 09 Feb 2005 05:41:25 -0800
From:     Kelvin Tan <kelvin-lists@relevanz.com>
To:       Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: Barca 1.1 (840) - Licensed Version
Date: Wed, 9 Feb 2005 14:03:24 +0100
Message-ID: <20052914324.117802@Kelvin>
In-Reply-To: <420A00DD.8050506@rotterdam-cs.com>
Subject: Re: sounds like spellcheck
Mime-Version: 1.0
Content-Type: text/plain; charset="ISO-8859-1"
Content-Transfer-Encoding: quoted-printable
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - lyra.lunarpages.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - relevanz.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hey Aad, I believe http://jakarta.apache.org/lucene/docs/contributions.html=
 has a link to Phonetix=
 (http://www.companywebstore.de/tangentum/mirror/en/products/phonetix/index.=
html), an LGPL-licensed lib for phonetic algorithms like Soundex, Metaphone=
 and DoubleMetaphone. There are Lucene adapters.

As to the suitability of the algorithms, I haven't taken a look at the=
 Phonetix implementation, but if=
 http://spottedtiger.tripod.com/D_Language/D_DoubleMetaPhone.html is=
 anything to go by (do a search for "dutch"), then it should meet your=
 needs, or at least won't be difficult to customize. 

Is that what you're looking for?

k

On Wed, 09 Feb 2005 13:23:57 +0100, Aad Nales wrote:
>=A0In my Clipper days I could build an index on English words using a
>=A0technique that was called soundex. Searching in that index resulted
>=A0in hits of words that sounded the same. From what i remember this
>=A0technique only worked for English. Has it ever been generalized?
>
>=A0What i am trying to solve is this. A customer is looking for a
>=A0solution to spelling mistakes made by children (upto 10) when
>=A0typing in queries. The site is Dutch. Common mistakes are 'sgool'
>=A0when searching for 'school'. The 'normal' spellcheckers and
>=A0suggestors typically generate a list where the 'sounds like'
>=A0candidates' are too far away from the result. So what I am thinking
>=A0about doing is this:
>
>=A01. create a parser that takes a word and creates a soundindex entry.
>
>=A02. create list of 'correctly' spelled words either based on the
>=A0index of the website or on some kind of dictionary.
>=A02a. perhaps create a n-gram index based on these words
>
>=A03. accept a query, figure out that a spelling mistake has been made
>=A03a find alternatives by parsing the query and searching the 'sound
>=A0like index' and then calculate and order =A0the results
>
>=A0Steps 2 and 3 have been discussed at length in this forum and have
>=A0even made it to the sandbox. What I am left with is 1.
>
>=A0My thinking is processing a series of replacement statements that
>=A0go like: --
>=A0g sounds like ch if the immediate predecessor is an s. o sounds
>=A0like oo if the immediate predecessor is a consonant --
>
>=A0But before I takes this to the next step I am wondering if anybody
>=A0has created or thought up alternative solutions?
>
>=A0Cheers,
>=A0Aad
>
>
>=A0--------------------------------------------------------------------
>=A0- To unsubscribe, e-mail: lucene-user-
>=A0unsubscribe@jakarta.apache.org For additional commands, e-mail:
>=A0lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13119-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 09 14:09:27 2005
Return-Path: <lucene-user-return-13119-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 27818 invoked from network); 9 Feb 2005 14:09:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Feb 2005 14:09:27 -0000
Received: (qmail 58193 invoked by uid 500); 9 Feb 2005 14:09:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 58130 invoked by uid 500); 9 Feb 2005 14:09:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 58051 invoked by uid 99); 9 Feb 2005 14:09:17 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from otto.isd-holland.nl (HELO otto2.isd-holland.nl) (62.221.254.21)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 09 Feb 2005 06:09:16 -0800
Received: from [192.168.0.103] (dsl-82-199-135-164.dutchdsl.nl [82.199.135.164])
	by otto2.isd-holland.nl (Postfix) with ESMTP id C68A63641F7
	for <lucene-user@jakarta.apache.org>; Wed,  9 Feb 2005 15:09:18 +0100 (CET)
Message-ID: <420A1989.8010009@rotterdam-cs.com>
Date: Wed, 09 Feb 2005 15:09:13 +0100
From: Aad Nales <aad.nales@rotterdam-cs.com>
User-Agent: Mozilla Thunderbird 1.0 (X11/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: sounds like spellcheck
References: <20052914324.117802@Kelvin>
In-Reply-To: <20052914324.117802@Kelvin>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks for the reference to Metaphone et al. This is the direction I am 
looking for. What I don't get is why so much of the 'knowledge' of these 
algoritms is stored in the 'process'. I guess it has to be performance.


cheers,
Aad

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13120-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 09 15:39:56 2005
Return-Path: <lucene-user-return-13120-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 10292 invoked from network); 9 Feb 2005 15:39:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Feb 2005 15:39:56 -0000
Received: (qmail 69396 invoked by uid 500); 9 Feb 2005 15:39:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 69361 invoked by uid 500); 9 Feb 2005 15:39:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 69342 invoked by uid 99); 9 Feb 2005 15:39:50 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 09 Feb 2005 07:39:49 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id D0DCC13E28FA; Wed,  9 Feb 2005 10:39:46 -0500 (EST)
Received: from [128.143.167.124] (d-128-167-124.bootp.Virginia.EDU [128.143.167.124])
	by ehatchersolutions.com (Postfix) with ESMTP id 8B0D513E200A
	for <lucene-user@jakarta.apache.org>; Wed,  9 Feb 2005 10:39:25 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <20050209095122.42824.qmail@web26004.mail.ukl.yahoo.com>
References: <20050209095122.42824.qmail@web26004.mail.ukl.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <9d18749c2e66380dad63c6bc13220247@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Configurable indexing of an RDBMS, has it been done before?
Date: Wed, 9 Feb 2005 10:39:26 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-3.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Feb 9, 2005, at 4:51 AM, mark harwood wrote:
> A GUI plugin for Squirrel SQL (
> http://squirrel-sql.sourceforge.net/) would make a
> great way of configuring the mapping.

That would be slick!

> 1) Should we build this mapper into Luke instead? We
> would have to lift a LOT of the DB handling "smarts"
> from Squirrel. Luke however is doing a lot with
> Analyzer configuration which would certainly be useful
> code in any mapping tool (can we lift those and use in
> Squirrel?).

The dilemma with Luke is that its not ASL'd (because of the thinlet 
integration).  Anyone up for a Swing conversion project?  :)

It would be quite cool if Lucene had a built-in UI tool (like or 
actually Luke).  Luke itself is ASL'd and I believe Andrzej has said 
he'd gladly donate it to Lucene's codebase, but the Thinlet LGPL is an 
issue.

> 2) What should the XML for the batch-driven
> configuration look like? Is it ANT tasks or a custom
> framework?

Don't concern yourselves with Ant at the moment.  Anything that is 
easily callable from Java can be made into an Ant task.  In fact, the 
minimum requirements for an Ant task is a "public void execute()" 
method.  Whatever Java infrastructure you come up with, I'll gladly 
create the Ant task wrapper for it when its ready.

> 3) If our mapping understands the make-up of the rdbms
> and the Lucene index should we introduce a
> higher-level software layer for searching which sits
> over the rdbms and Lucene and abstracts them to some
> extent? This layer would know where to go to retrieve
> field values or construct filters ie understands
> whether to retrieve "title" field for display from
> database column or a Lucene "stored" field and whether
> the "price< $100" search criteria is resolved by a
> lucene query or an RDBMS-query to produce a Lucene
> filter. It seems like currently, every DB+Lucene
> integration project struggles with designing a
> solution to manage this divide and handcodes the
> solution.

Wow... that is getting pretty clever.  I like it!

I don't personally have a need for relational database indexing, but I 
support this effort to make a generalized mapping facility.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13121-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 09 15:46:13 2005
Return-Path: <lucene-user-return-13121-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 16027 invoked from network); 9 Feb 2005 15:46:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Feb 2005 15:46:13 -0000
Received: (qmail 84161 invoked by uid 500); 9 Feb 2005 15:46:04 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 84134 invoked by uid 500); 9 Feb 2005 15:46:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 84119 invoked by uid 99); 9 Feb 2005 15:46:03 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_30_40,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from ns.xgroup.de (HELO salt.xgroup.de) (62.192.192.11)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 09 Feb 2005 07:46:02 -0800
Received: from xgate1.xcom.de (62.192.192.130.xcom.de [62.192.192.130])
	by salt.xgroup.de (8.11.6/8.11.6) with ESMTP id j19Fjw126158
	for <lucene-user@jakarta.apache.org>; Wed, 9 Feb 2005 16:45:58 +0100
In-Reply-To: <20052914324.117802@Kelvin>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: sounds like spellcheck [auf Viren geprueft]
MIME-Version: 1.0
X-Mailer: Lotus Notes Release 6.5.1 January 21, 2004
From: "Jonathan O'Connor" <Jonathan.O'Connor@xcom.de>
Message-ID: <OFC13B5FBE.1587174E-ON80256FA3.0055D503-80256FA3.005699B1@xcom.de>
Date: Wed, 9 Feb 2005 15:45:56 +0000
X-MIMETrack: Serialize by Router on xgate1/SRV/XCOM(Release 6.5.2FP1|November 14, 2004) at
 09.02.2005 16:45:58,
	Serialize complete at 09.02.2005 16:45:58
Content-Type: multipart/alternative; boundary="=_alternative 0056984380256FA3_="
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--=_alternative 0056984380256FA3_=
Content-Type: text/plain; charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable

Aad,
Are you trying to check the spelling of English words by Dutch children=3F 
Then, Phonetix or any of these other solutions may not be perfect.
>From my little knowledge of Dutch, a "g" is some sort of velar fricative 
(pronounced at the back of throat). And "ch" in english is also a velar 
fricative.
You have to hope that the soundex/metaphone rules are broad enough to be 
used by both languages.

Interesting little problem. No J2EE libraries to call, just static String 
convertToSoundex(String word) to implement. Ah if only I could do more of 
that sort of coding.
Ciao,
Jonathan O'Connor
XCOM Dublin



Kelvin Tan <kelvin-lists@relevanz.com> 
09/02/2005 13:03
Please respond to
"Lucene Users List" <lucene-user@jakarta.apache.org>


To
Lucene Users List <lucene-user@jakarta.apache.org>
cc

Subject
Re: sounds like spellcheck [auf Viren geprueft]






Hey Aad, I believe 
http://jakarta.apache.org/lucene/docs/contributions.html has a link to 
Phonetix (
http://www.companywebstore.de/tangentum/mirror/en/products/phonetix/index.ht=
ml
), an LGPL-licensed lib for phonetic algorithms like Soundex, Metaphone 
and DoubleMetaphone. There are Lucene adapters.

As to the suitability of the algorithms, I haven't taken a look at the 
Phonetix implementation, but if 
http://spottedtiger.tripod.com/D=5FLanguage/D=5FDoubleMetaPhone.html is 
anything to go by (do a search for "dutch"), then it should meet your 
needs, or at least won't be difficult to customize. 

Is that what you're looking for=3F

k

On Wed, 09 Feb 2005 13:23:57 +0100, Aad Nales wrote:
> In my Clipper days I could build an index on English words using a
> technique that was called soundex. Searching in that index resulted
> in hits of words that sounded the same. From what i remember this
> technique only worked for English. Has it ever been generalized=3F
>
> What i am trying to solve is this. A customer is looking for a
> solution to spelling mistakes made by children (upto 10) when
> typing in queries. The site is Dutch. Common mistakes are 'sgool'
> when searching for 'school'. The 'normal' spellcheckers and
> suggestors typically generate a list where the 'sounds like'
> candidates' are too far away from the result. So what I am thinking
> about doing is this:
>
> 1. create a parser that takes a word and creates a soundindex entry.
>
> 2. create list of 'correctly' spelled words either based on the
> index of the website or on some kind of dictionary.
> 2a. perhaps create a n-gram index based on these words
>
> 3. accept a query, figure out that a spelling mistake has been made
> 3a find alternatives by parsing the query and searching the 'sound
> like index' and then calculate and order  the results
>
> Steps 2 and 3 have been discussed at length in this forum and have
> even made it to the sandbox. What I am left with is 1.
>
> My thinking is processing a series of replacement statements that
> go like: --
> g sounds like ch if the immediate predecessor is an s. o sounds
> like oo if the immediate predecessor is a consonant --
>
> But before I takes this to the next step I am wondering if anybody
> has created or thought up alternative solutions=3F
>
> Cheers,
> Aad
>
>
> --------------------------------------------------------------------
> - To unsubscribe, e-mail: lucene-user-
> unsubscribe@jakarta.apache.org For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org





*** Aktuelle Veranstaltungen der XCOM AG ***

XCOM laedt ein zur IBM Workplace Roadshow in Frankfurt (16.02.2005), Duessel=
dorf (23.02.2005) und Berlin (02.03.2005)
Anmeldung und Information unter http://lotus.xcom.de/events

Workshop-Reihe "Mobilisierung von Lotus Notes Applikationen"  in Frankfurt (=
17.02.2005), Duesseldorf (24.02.2005) und Berlin (05.03.2005) 
Anmeldung und Information unter http://lotus.xcom.de/events


*** XCOM AG Legal Disclaimer ***

Diese E-Mail einschliesslich ihrer Anhaenge ist vertraulich und ist allein f=
ur den Gebrauch durch den vorgesehenen Empfaenger bestimmt. Dritten ist das =
Lesen, Verteilen oder Weiterleiten dieser E-Mail untersagt. Wir bitten, eine=
 fehlgeleitete E-Mail unverzueglich vollstaendig zu loeschen und uns eine Na=
chricht zukommen zu lassen.

This email may contain material that is confidential and for the sole use of=
 the intended recipient. Any review, distribution by others or forwarding wi=
thout express permission is strictly prohibited. If you are not the intended=
 recipient, please contact the sender and delete all copies.

--=_alternative 0056984380256FA3_=--

From lucene-user-return-13122-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 09 16:03:26 2005
Return-Path: <lucene-user-return-13122-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 67267 invoked from network); 9 Feb 2005 16:03:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Feb 2005 16:03:26 -0000
Received: (qmail 23286 invoked by uid 500); 9 Feb 2005 16:03:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 23239 invoked by uid 500); 9 Feb 2005 16:03:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23196 invoked by uid 99); 9 Feb 2005 16:03:08 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from shared4.hardhathosting.com (HELO getopt.org) (69.44.16.11)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 09 Feb 2005 08:03:06 -0800
Received: from [192.168.101.251] ([213.80.34.34])
	(authenticated)
	by getopt.org (8.11.6/8.11.6) with ESMTP id j19G2ms07779
	for <lucene-user@jakarta.apache.org>; Wed, 9 Feb 2005 10:02:48 -0600
Message-ID: <420A3435.5060208@getopt.org>
Date: Wed, 09 Feb 2005 17:03:01 +0100
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Configurable indexing of an RDBMS, has it been done before?
References: <20050209095122.42824.qmail@web26004.mail.ukl.yahoo.com> <9d18749c2e66380dad63c6bc13220247@ehatchersolutions.com>
In-Reply-To: <9d18749c2e66380dad63c6bc13220247@ehatchersolutions.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Erik Hatcher wrote:

>> 1) Should we build this mapper into Luke instead? We
>> would have to lift a LOT of the DB handling "smarts"
>> from Squirrel. Luke however is doing a lot with
>> Analyzer configuration which would certainly be useful
>> code in any mapping tool (can we lift those and use in
>> Squirrel?).

You are welcome - you can take any parts except for Thinlet.java (which 
is LGPL-ed).

> 
> 
> The dilemma with Luke is that its not ASL'd (because of the thinlet 
> integration).  Anyone up for a Swing conversion project?  :)
> 
> It would be quite cool if Lucene had a built-in UI tool (like or 
> actually Luke).  Luke itself is ASL'd and I believe Andrzej has said 
> he'd gladly donate it to Lucene's codebase, but the Thinlet LGPL is an 
> issue.
> 

Yes, I can confirm that all the parts of Luke that I wrote are under 
ASL, and I would actually prefer to donate it than to maintain it all on 
my own, especially with the recent speed of development.

Regarding Thinlet - there is some ongoing discussion on forking the 
project (it's a long story), and we're lobbying up to put the fork under 
  ASL - but it's up to the original author to decide this, and he's 
rather reluctant to let it go like this...

So, if anyone wants to rewrite Luke in Swing, SwiXML or something else, 
he's more than welcome - but this won't be me, because I hate Swing 
programming...

-- 
Best regards,
Andrzej Bialecki
  ___. ___ ___ ___ _ _   __________________________________
[__ || __|__/|__||\/|  Information Retrieval, Semantic Web
___|||__||  \|  ||  |  Embedded Unix, System Integration
http://www.sigram.com  Contact: info at sigram dot com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13123-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 09 16:10:21 2005
Return-Path: <lucene-user-return-13123-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 72793 invoked from network); 9 Feb 2005 16:10:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Feb 2005 16:10:21 -0000
Received: (qmail 38846 invoked by uid 500); 9 Feb 2005 16:10:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 38822 invoked by uid 500); 9 Feb 2005 16:10:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38809 invoked by uid 99); 9 Feb 2005 16:10:13 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from shared4.hardhathosting.com (HELO getopt.org) (69.44.16.11)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 09 Feb 2005 08:10:13 -0800
Received: from [192.168.101.251] ([213.80.34.34])
	(authenticated)
	by getopt.org (8.11.6/8.11.6) with ESMTP id j19G9vk10627
	for <lucene-user@jakarta.apache.org>; Wed, 9 Feb 2005 10:09:57 -0600
Message-ID: <420A35E1.1080607@getopt.org>
Date: Wed, 09 Feb 2005 17:10:09 +0100
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: sounds like spellcheck [auf Viren geprueft]
References: <OFC13B5FBE.1587174E-ON80256FA3.0055D503-80256FA3.005699B1@xcom.de>
In-Reply-To: <OFC13B5FBE.1587174E-ON80256FA3.0055D503-80256FA3.005699B1@xcom.de>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Jonathan O'Connor wrote:
> Aad,
> Are you trying to check the spelling of English words by Dutch children? 
> Then, Phonetix or any of these other solutions may not be perfect.
>>>From my little knowledge of Dutch, a "g" is some sort of velar fricative 
> (pronounced at the back of throat). And "ch" in english is also a velar 
> fricative.
> You have to hope that the soundex/metaphone rules are broad enough to be 
> used by both languages.

Soundex and Metaphone have been specifically designed for English. I 
know from my experience with Swedish and Polish that their results for 
other languages can range from mediocre to extremely bad. You should 
definitely not blindly trust them, but perform careful tests using some 
test corpus.

For Slavic languages you can use Daitch-Mokotoff instead, but I have no 
idea about Dutch...

Another suggestion: did you try the solution developed by Dave Spencer 
(look for NGramSpeller)?

-- 
Best regards,
Andrzej Bialecki
  ___. ___ ___ ___ _ _   __________________________________
[__ || __|__/|__||\/|  Information Retrieval, Semantic Web
___|||__||  \|  ||  |  Embedded Unix, System Integration
http://www.sigram.com  Contact: info at sigram dot com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13124-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 09 16:16:55 2005
Return-Path: <lucene-user-return-13124-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 76209 invoked from network); 9 Feb 2005 16:16:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Feb 2005 16:16:54 -0000
Received: (qmail 48450 invoked by uid 500); 9 Feb 2005 16:16:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 48419 invoked by uid 500); 9 Feb 2005 16:16:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 48405 invoked by uid 99); 9 Feb 2005 16:16:48 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from otto.isd-holland.nl (HELO otto2.isd-holland.nl) (62.221.254.21)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 09 Feb 2005 08:16:48 -0800
Received: from [192.168.0.103] (dsl-82-199-135-164.dutchdsl.nl [82.199.135.164])
	by otto2.isd-holland.nl (Postfix) with ESMTP id E355F36420A
	for <lucene-user@jakarta.apache.org>; Wed,  9 Feb 2005 17:16:50 +0100 (CET)
Message-ID: <420A376D.3040101@rotterdam-cs.com>
Date: Wed, 09 Feb 2005 17:16:45 +0100
From: Aad Nales <aad.nales@rotterdam-cs.com>
User-Agent: Mozilla Thunderbird 1.0 (X11/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: sounds like spellcheck [auf Viren geprueft]
References: <OFC13B5FBE.1587174E-ON80256FA3.0055D503-80256FA3.005699B1@xcom.de>
In-Reply-To: <OFC13B5FBE.1587174E-ON80256FA3.0055D503-80256FA3.005699B1@xcom.de>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Jonathan O'Connor wrote:

>Aad,
>Are you trying to check the spelling of English words by Dutch children? 
>  
>
Uh no, I am trying to correct the spelling of Dutch words by Dutch 
children who, as most children do, make phonetic spelling mistakes.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13125-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 09 23:27:00 2005
Return-Path: <lucene-user-return-13125-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 647 invoked from network); 9 Feb 2005 23:27:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 9 Feb 2005 23:27:00 -0000
Received: (qmail 2727 invoked by uid 500); 9 Feb 2005 23:26:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 2703 invoked by uid 500); 9 Feb 2005 23:26:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2689 invoked by uid 99); 9 Feb 2005 23:26:57 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_50_60,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO mail.interoperate.com) (65.121.33.9)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 09 Feb 2005 15:26:55 -0800
Received: from imobile2 ([192.168.1.222])
	by mail.interoperate.com (8.12.8/8.12.8) with SMTP id j19NQpvN018119
	for <lucene-user@jakarta.apache.org>; Wed, 9 Feb 2005 16:26:54 -0700
Message-ID: <01da01c50efe$d61bdf00$de01a8c0@imobile2>
From: "aaz" <x@interoperate.com>
To: <lucene-user@jakarta.apache.org>
Subject: wildcards, stemming and searching
Date: Wed, 9 Feb 2005 16:26:52 -0700
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_01D7_01C50EC4.2993AD10"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_01D7_01C50EC4.2993AD10
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi,
We are not using QueryParser and have some custom Query construction.

We have an index that indexes various documents. Each document is =
Analyzed and indexed via

StandardTokenizer() ->StandardFilter() -> LowercaseFilter() -> =
StopFilter() -> PorterStemFilter()

We also want to support wildcard queries, hence on an inbound query we =
need to deal with "*" in the value side of the comparison. We also need =
to "analyze" the value side of the query against the same analyzer in =
which the index was built with. This leads to some problems and would =
like your solution opinion.

User queries.

somefield =3D united*

After the analyzer hits "united*", we get back "unit". Hence we cannot =
detect that the user requested a wildcard.

Lets say we come up with some solution to "escape" the "*" char before =
the Analyzer hits it. For example

somefield =3D united*  -> unitedXXWILDCARDXX

After analysis this then becomes "unitedxxwildcardxx", which we can then =
turn into a WildcardQuery "united*"

The problem here is that the term "united" will never exist in the =
indexing due to the stemming which did not stem properly due to our =
escape mechanism.

How can I solve this problem?


------=_NextPart_000_01D7_01C50EC4.2993AD10--



From lucene-user-return-13126-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 10 00:45:58 2005
Return-Path: <lucene-user-return-13126-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 30258 invoked from network); 10 Feb 2005 00:45:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Feb 2005 00:45:58 -0000
Received: (qmail 79833 invoked by uid 500); 10 Feb 2005 00:45:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 79019 invoked by uid 500); 10 Feb 2005 00:45:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 79006 invoked by uid 99); 10 Feb 2005 00:45:54 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from cato.nettas.net (HELO cato.nettas.net) (202.7.15.72)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 09 Feb 2005 16:45:53 -0800
Received: from cato.nettas.net (localhost [127.0.0.1])
	by localhost.nettas.net (Postfix) with ESMTP id CFE705A27
	for <lucene-user@jakarta.apache.org>; Thu, 10 Feb 2005 11:45:34 +1100 (EST)
Received: from eduisa2.education.tas.gov.au (eduisa2.education.tas.gov.au [147.41.65.12])
	by cato.nettas.net (Postfix) with ESMTP id 948733E
	for <lucene-user@jakarta.apache.org>; Thu, 10 Feb 2005 11:45:34 +1100 (EST)
Received: by eduisa2.education.tas.gov.au
	with XWall v3.31 ;
	Thu, 10 Feb 2005 11:45:34 +1100
From: "Kauler, Leto S" <leto.kauler@education.tas.gov.au>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Follow-up to "sorting tokenised field"
Date: Thu, 10 Feb 2005 11:45:33 +1100
X-Assembled-By: XWall v3.31
Message-ID: <AFAC9B2BF1A8BF4886F5C0FDE428E90E06B916DE@edumail2.education.tas.gov.au>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Have been reading this thread
<http://www.mail-archive.com/lucene-user@jakarta.apache.org/msg11180.htm
l>.

Praveen Peddi (or anyone else), did you ever try the patch?  I would be
interested to know what sort of performance difference it makes.

I have been trying to create a "most-simple" solution to indexing and
sorting.  I was hoping that it would be possible to sort on our fields
without requiring the use (and therefore prior knowledge of) specific
sort fields.

Useful would be the ability to add a sort term to fields, along with
their regular terms.  If the field is not tokenised then a sort term
might not be necessary so the sort engine performs as normal, but if the
field is tokenised then the engine could use this defined sort term,
thus allowing all terms to be kept together in the one field.

I don't know what the technical implications of this is though.  Just a
thought.
--Leto

CONFIDENTIALITY NOTICE AND DISCLAIMER

Information in this transmission is intended only for the person(s) to whom =
it is addressed and may contain privileged and/or confidential information. =
If you are not the intended recipient, any disclosure, copying or disseminat=
ion of the information is unauthorised and you should delete/destroy all cop=
ies and notify the sender. No liability is accepted for any unauthorised use=
 of the information contained in this transmission.

This disclaimer has been automatically added.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13127-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 10 01:07:50 2005
Return-Path: <lucene-user-return-13127-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 37129 invoked from network); 10 Feb 2005 01:07:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Feb 2005 01:07:50 -0000
Received: (qmail 1516 invoked by uid 500); 10 Feb 2005 01:07:47 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 1488 invoked by uid 500); 10 Feb 2005 01:07:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1474 invoked by uid 99); 10 Feb 2005 01:07:47 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from cato.nettas.net (HELO cato.nettas.net) (202.7.15.72)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 09 Feb 2005 17:07:45 -0800
Received: from cato.nettas.net (localhost [127.0.0.1])
	by localhost.nettas.net (Postfix) with ESMTP id 14DED5C18
	for <lucene-user@jakarta.apache.org>; Thu, 10 Feb 2005 12:07:43 +1100 (EST)
Received: from eduisa2.education.tas.gov.au (eduisa2.education.tas.gov.au [147.41.65.12])
	by cato.nettas.net (Postfix) with ESMTP id D2CDD70
	for <lucene-user@jakarta.apache.org>; Thu, 10 Feb 2005 12:07:42 +1100 (EST)
Received: by eduisa2.education.tas.gov.au
	with XWall v3.31 ;
	Thu, 10 Feb 2005 12:07:41 +1100
From: "Kauler, Leto S" <leto.kauler@education.tas.gov.au>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Tokenised and non-tokenised terms in one field
Date: Thu, 10 Feb 2005 12:07:39 +1100
X-Assembled-By: XWall v3.31
Message-ID: <AFAC9B2BF1A8BF4886F5C0FDE428E90E06B916DF@edumail2.education.tas.gov.au>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi all,

Seeking some "best practice" advice, or even if there is an alternative
solution.  Sorry for the email length, just trying to explain
succinctly.

Currently we add fields to our index like this (for reference, Field
booleans are STORE, INDEX, TOKENISE):

doc.add(new Field(field, value, true, true, false));
doc.add(new Field(field, value, false, true, true));

This creates two fields in a document with same name. One is stored but
not tokenised, the other which is not stored but tokenised, and both are
indexed for searchability.  The non-tokenised term is so we can do
exact-match searches.

In my mind, the terms of a title field might look like:

title
=20- A Guide to Lucene (PDF)  [stored flag?]
title
=20- guide
=20- lucene
=20- pdf

Can these be merged together in some way, and would it even make sense
to do so?  I am thinking in terms of creating a more lightweight index.

Thanks, --Leto

CONFIDENTIALITY NOTICE AND DISCLAIMER

Information in this transmission is intended only for the person(s) to whom =
it is addressed and may contain privileged and/or confidential information. =
If you are not the intended recipient, any disclosure, copying or disseminat=
ion of the information is unauthorised and you should delete/destroy all cop=
ies and notify the sender. No liability is accepted for any unauthorised use=
 of the information contained in this transmission.

This disclaimer has been automatically added.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13128-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 10 05:32:51 2005
Return-Path: <lucene-user-return-13128-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 35798 invoked from network); 10 Feb 2005 05:32:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Feb 2005 05:32:51 -0000
Received: (qmail 20678 invoked by uid 500); 10 Feb 2005 05:32:47 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 20395 invoked by uid 500); 10 Feb 2005 05:32:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20382 invoked by uid 99); 10 Feb 2005 05:32:46 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from sparta.hostgo.com (HELO sparta.hostgo.com) (66.220.22.162)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 09 Feb 2005 21:32:46 -0800
Received: from [65.19.37.63] (helo=[10.0.1.2])
	by sparta.hostgo.com with esmtpa (Exim 4.44)
	id 1Cz6wS-0005ic-QW
	for lucene-user@jakarta.apache.org; Thu, 10 Feb 2005 00:32:41 -0500
Mime-Version: 1.0 (Apple Message framework v619)
Content-Transfer-Encoding: 7bit
Message-Id: <2D26D5E0-7B25-11D9-99C0-000A95973046@backspaces.net>
Content-Type: text/plain; charset=US-ASCII; format=flowed
To: lucene-user@jakarta.apache.org
From: Owen Densmore <owen@backspaces.net>
Subject: Lucene Unicode Usage
Date: Wed, 9 Feb 2005 22:32:38 -0700
X-Mailer: Apple Mail (2.619)
X-MailScanner-Information: This email message has been scanned for viruses
X-MailScanner-HostGo: Found to be clean
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - sparta.hostgo.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - backspaces.net
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I'm building an index from a FileMaker database by dumping the data to 
a tab-separated file.  Because the FileMaker output is encoded in 
MacRoman, and uses Mac line separators, I run a script across the tab 
file to clean it up:
	tr '\r\v' '\n ' | iconv -f MAC -t UTF-8
This basically converts the Mac \r's to \n's, replaces FileMaker's 
vtabs (for inter-field CRs) with blanks, and runs a character converter 
to build utf-8 data for Java to use.  Looks fine in jEdit and BBEdit, 
both of which understand UTF.

BUT -- when I look at the indexes created in Lucene using Luke, I get 
unprintable letters!  Writing programs to dump the terms (using Writer 
subclasses which handle unicode correctly) shows that indeed the files 
now have odd characters when viewed w/ jEdit and BBEdit.

The analyzer used to build the index looks like:
     public class RedfishAnalyser extends Analyzer {
       String[] stopwords;
       public RedfishAnalyser(String[] stopwords) {
         this.stopwords = stopwords;
       }
       public RedfishAnalyser() {
         this.stopwords = StopAnalyzer.ENGLISH_STOP_WORDS;
       }
       public TokenStream tokenStream(String fieldName, Reader reader) {
         return new PorterStemFilter(
             new StopFilter(
                 new LowerCaseFilter(
                     new StandardFilter(
                         new StandardTokenizer(reader))),
                stopwords));
       }
     }

Yikes, what am I doing wrong?!  Is the analyzer at fault?  Its about 
the only place where I can see a problem happening.

Thanks for any pointers,

Owen


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13129-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 10 06:04:58 2005
Return-Path: <lucene-user-return-13129-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 48281 invoked from network); 10 Feb 2005 06:04:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Feb 2005 06:04:58 -0000
Received: (qmail 44799 invoked by uid 500); 10 Feb 2005 06:04:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 44766 invoked by uid 500); 10 Feb 2005 06:04:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 44753 invoked by uid 99); 10 Feb 2005 06:04:55 -0000
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=FROM_ENDS_IN_NUMS,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of jak-lucene-user@m.gmane.org designates 80.91.229.2 as permitted sender)
Received: from main.gmane.org (HELO ciao.gmane.org) (80.91.229.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 09 Feb 2005 22:04:52 -0800
Received: from list by ciao.gmane.org with local (Exim 4.43)
	id 1Cz7Pu-0002td-4h
	for lucene-user@jakarta.apache.org; Thu, 10 Feb 2005 07:03:06 +0100
Received: from netblock-66-159-221-83.dslextreme.com ([66.159.221.83])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <lucene-user@jakarta.apache.org>; Thu, 10 Feb 2005 07:03:06 +0100
Received: from aurora00 by netblock-66-159-221-83.dslextreme.com with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <lucene-user@jakarta.apache.org>; Thu, 10 Feb 2005 07:03:06 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: lucene-user@jakarta.apache.org
From: aurora <aurora00@gmail.com>
Subject: Re: Lucene Unicode Usage
Date: Wed, 09 Feb 2005 22:04:35 -0800
Lines: 79
Message-ID: <opslywhxw96yt6e7@wtung-w2k01.amer.cisco.com>
References: <2D26D5E0-7B25-11D9-99C0-000A95973046@backspaces.net>
Mime-Version: 1.0
Content-Type: text/plain; format=flowed; delsp=yes; charset=iso-8859-15
Content-Transfer-Encoding: Quoted-Printable
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: netblock-66-159-221-83.dslextreme.com
User-Agent: Opera M2/7.54u1 (Win32, build 3918)
Sender: news <news@sea.gmane.org>
X-Gmane-MailScanner: Found to be clean
X-Gmane-MailScanner: Found to be clean
X-MailScanner-From: jak-lucene-user@m.gmane.org
X-MailScanner-To: lucene-user@jakarta.apache.org
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

So you got a utf8 encoded text file. But how do you read the file into  =

Java? The default encoding of Java is likely to be something other than =
 =

utf8. Make sure you specify the encoding like:

   InputStreamReader( new FileInputStream(filename), "UTF-8");


On Wed, 9 Feb 2005 22:32:38 -0700, Owen Densmore <owen@backspaces.net>  =

wrote:

> I'm building an index from a FileMaker database by dumping the data to=
 a  =

> tab-separated file.  Because the FileMaker output is encoded in  =

> MacRoman, and uses Mac line separators, I run a script across the tab =
 =

> file to clean it up:
> 	tr '\r\v' '\n ' | iconv -f MAC -t UTF-8
> This basically converts the Mac \r's to \n's, replaces FileMaker's vta=
bs  =

> (for inter-field CRs) with blanks, and runs a character converter to  =

> build utf-8 data for Java to use.  Looks fine in jEdit and BBEdit, bot=
h  =

> of which understand UTF.
>
> BUT -- when I look at the indexes created in Lucene using Luke, I get =
 =

> unprintable letters!  Writing programs to dump the terms (using Writer=
  =

> subclasses which handle unicode correctly) shows that indeed the files=
  =

> now have odd characters when viewed w/ jEdit and BBEdit.
>
> The analyzer used to build the index looks like:
>      public class RedfishAnalyser extends Analyzer {
>        String[] stopwords;
>        public RedfishAnalyser(String[] stopwords) {
>          this.stopwords =3D stopwords;
>        }
>        public RedfishAnalyser() {
>          this.stopwords =3D StopAnalyzer.ENGLISH_STOP_WORDS;
>        }
>        public TokenStream tokenStream(String fieldName, Reader reader)=
 {
>          return new PorterStemFilter(
>              new StopFilter(
>                  new LowerCaseFilter(
>                      new StandardFilter(
>                          new StandardTokenizer(reader))),
>                 stopwords));
>        }
>      }
>
> Yikes, what am I doing wrong?!  Is the analyzer at fault?  Its about t=
he  =

> only place where I can see a problem happening.
>
> Thanks for any pointers,
>
> Owen



-- =

Using Opera's revolutionary e-mail client: http://www.opera.com/m2/


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13130-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 10 09:55:07 2005
Return-Path: <lucene-user-return-13130-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 74997 invoked from network); 10 Feb 2005 09:55:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Feb 2005 09:55:07 -0000
Received: (qmail 14400 invoked by uid 500); 10 Feb 2005 09:55:02 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 14258 invoked by uid 500); 10 Feb 2005 09:55:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 14245 invoked by uid 99); 10 Feb 2005 09:55:01 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from shared4.hardhathosting.com (HELO getopt.org) (69.44.16.11)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 10 Feb 2005 01:55:00 -0800
Received: from [192.168.101.251] ([213.80.34.34])
	(authenticated)
	by getopt.org (8.11.6/8.11.6) with ESMTP id j1A9slM19186
	for <lucene-user@jakarta.apache.org>; Thu, 10 Feb 2005 03:54:47 -0600
Message-ID: <420B2F70.5040207@getopt.org>
Date: Thu, 10 Feb 2005 10:54:56 +0100
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene Unicode Usage
References: <2D26D5E0-7B25-11D9-99C0-000A95973046@backspaces.net>
In-Reply-To: <2D26D5E0-7B25-11D9-99C0-000A95973046@backspaces.net>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Owen Densmore wrote:
> I'm building an index from a FileMaker database by dumping the data to a 
> tab-separated file.  Because the FileMaker output is encoded in 
> MacRoman, and uses Mac line separators, I run a script across the tab 
> file to clean it up:
>     tr '\r\v' '\n ' | iconv -f MAC -t UTF-8
> This basically converts the Mac \r's to \n's, replaces FileMaker's vtabs 
> (for inter-field CRs) with blanks, and runs a character converter to 
> build utf-8 data for Java to use.  Looks fine in jEdit and BBEdit, both 
> of which understand UTF.

However, it matters how you have read in the files in your Java 
application. Did you use InputStreamReader with the default platform 
encoding (probably 8859-1), or did you specify UTF-8 explicitly?

> 
> BUT -- when I look at the indexes created in Lucene using Luke, I get 
> unprintable letters!  Writing programs to dump the terms (using Writer 

By default Luke uses the standard platform-specific font "dialog". On 
Windows this font doesn't support Unicode glyphs, so you will see just 
blanks (or rectangles). In the upcoming release you will be able to 
select the display font.

-- 
Best regards,
Andrzej Bialecki
  ___. ___ ___ ___ _ _   __________________________________
[__ || __|__/|__||\/|  Information Retrieval, Semantic Web
___|||__||  \|  ||  |  Embedded Unix, System Integration
http://www.sigram.com  Contact: info at sigram dot com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13131-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 10 11:43:34 2005
Return-Path: <lucene-user-return-13131-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 47532 invoked from network); 10 Feb 2005 11:43:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Feb 2005 11:43:34 -0000
Received: (qmail 58946 invoked by uid 500); 10 Feb 2005 11:43:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 58413 invoked by uid 500); 10 Feb 2005 11:43:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 58399 invoked by uid 99); 10 Feb 2005 11:43:28 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_40_50,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from ns.xgroup.de (HELO salt.xgroup.de) (62.192.192.11)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 10 Feb 2005 03:43:26 -0800
Received: from xgate1.xcom.de (62.192.192.130.xcom.de [62.192.192.130])
	by salt.xgroup.de (8.11.6/8.11.6) with ESMTP id j1ABhM109665
	for <lucene-user@jakarta.apache.org>; Thu, 10 Feb 2005 12:43:22 +0100
In-Reply-To: <420A376D.3040101@rotterdam-cs.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: sounds like spellcheck [auf Viren geprueft]
MIME-Version: 1.0
X-Mailer: Lotus Notes Release 6.5.1 January 21, 2004
From: "Jonathan O'Connor" <Jonathan.O'Connor@xcom.de>
Message-ID: <OFF8D34782.EA9334B8-ON80256FA4.0037E808-80256FA4.00406384@xcom.de>
Date: Thu, 10 Feb 2005 12:43:20 +0100
X-MIMETrack: Serialize by Router on xgate1/SRV/XCOM(Release 6.5.2FP1|November 14, 2004) at
 10.02.2005 12:43:22,
	Serialize complete at 10.02.2005 12:43:22
Content-Type: multipart/alternative; boundary="=_alternative 0037FBDD80256FA4_="
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--=_alternative 0037FBDD80256FA4_=
Content-Type: text/plain; charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable

Aad, Well at least that's easier.

Ciao,
Jonathan O'Connor
XCOM Dublin



Aad Nales <aad.nales@rotterdam-cs.com> 
09/02/2005 16:16
Please respond to
"Lucene Users List" <lucene-user@jakarta.apache.org>


To
Lucene Users List <lucene-user@jakarta.apache.org>
cc

Subject
Re: sounds like spellcheck [auf Viren geprueft]






Jonathan O'Connor wrote:

>Aad,
>Are you trying to check the spelling of English words by Dutch children=3F =

> 
>
Uh no, I am trying to correct the spelling of Dutch words by Dutch 
children who, as most children do, make phonetic spelling mistakes.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org





*** Aktuelle Veranstaltungen der XCOM AG ***

XCOM laedt ein zur IBM Workplace Roadshow in Frankfurt (16.02.2005), Duessel=
dorf (23.02.2005) und Berlin (02.03.2005)
Anmeldung und Information unter http://lotus.xcom.de/events

Workshop-Reihe "Mobilisierung von Lotus Notes Applikationen"  in Frankfurt (=
17.02.2005), Duesseldorf (24.02.2005) und Berlin (05.03.2005) 
Anmeldung und Information unter http://lotus.xcom.de/events


*** XCOM AG Legal Disclaimer ***

Diese E-Mail einschliesslich ihrer Anhaenge ist vertraulich und ist allein f=
ur den Gebrauch durch den vorgesehenen Empfaenger bestimmt. Dritten ist das =
Lesen, Verteilen oder Weiterleiten dieser E-Mail untersagt. Wir bitten, eine=
 fehlgeleitete E-Mail unverzueglich vollstaendig zu loeschen und uns eine Na=
chricht zukommen zu lassen.

This email may contain material that is confidential and for the sole use of=
 the intended recipient. Any review, distribution by others or forwarding wi=
thout express permission is strictly prohibited. If you are not the intended=
 recipient, please contact the sender and delete all copies.

--=_alternative 0037FBDD80256FA4_=--

From lucene-user-return-13132-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 10 15:55:54 2005
Return-Path: <lucene-user-return-13132-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 3502 invoked from network); 10 Feb 2005 15:55:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Feb 2005 15:55:54 -0000
Received: (qmail 17885 invoked by uid 500); 10 Feb 2005 15:55:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 17860 invoked by uid 500); 10 Feb 2005 15:55:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17847 invoked by uid 99); 10 Feb 2005 15:55:48 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 10 Feb 2005 07:55:46 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id A8C5F13E28FB; Thu, 10 Feb 2005 10:55:44 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 1D34D13E28F7
	for <lucene-user@jakarta.apache.org>; Thu, 10 Feb 2005 10:55:27 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <01da01c50efe$d61bdf00$de01a8c0@imobile2>
References: <01da01c50efe$d61bdf00$de01a8c0@imobile2>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <5bcfc146078d961733082d9f24fe0ed0@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: wildcards, stemming and searching
Date: Thu, 10 Feb 2005 10:55:25 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-3.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

How would you deal with a query like "a*z" though?

I suspect, however, that you only care about suffix queries and 
stemming those.  If thats the case, then you could subclass 
getWildcardQuery and do internal stemming (remove trailing wildcard, 
run it through the analyzer directly there and return a modified 
WildcardQuery instance.

With wildcard queries though, this is risky.  Prefixes won't 
necessarily stem to what the full word would stem to.

	Erik


On Feb 9, 2005, at 6:26 PM, aaz wrote:

> Hi,
> We are not using QueryParser and have some custom Query construction.
>
> We have an index that indexes various documents. Each document is 
> Analyzed and indexed via
>
> StandardTokenizer() ->StandardFilter() -> LowercaseFilter() -> 
> StopFilter() -> PorterStemFilter()
>
> We also want to support wildcard queries, hence on an inbound query we 
> need to deal with "*" in the value side of the comparison. We also 
> need to "analyze" the value side of the query against the same 
> analyzer in which the index was built with. This leads to some 
> problems and would like your solution opinion.
>
> User queries.
>
> somefield = united*
>
> After the analyzer hits "united*", we get back "unit". Hence we cannot 
> detect that the user requested a wildcard.
>
> Lets say we come up with some solution to "escape" the "*" char before 
> the Analyzer hits it. For example
>
> somefield = united*  -> unitedXXWILDCARDXX
>
> After analysis this then becomes "unitedxxwildcardxx", which we can 
> then turn into a WildcardQuery "united*"
>
> The problem here is that the term "united" will never exist in the 
> indexing due to the stemming which did not stem properly due to our 
> escape mechanism.
>
> How can I solve this problem?
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13133-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 10 15:59:12 2005
Return-Path: <lucene-user-return-13133-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 5495 invoked from network); 10 Feb 2005 15:59:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Feb 2005 15:59:12 -0000
Received: (qmail 24066 invoked by uid 500); 10 Feb 2005 15:59:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 24043 invoked by uid 500); 10 Feb 2005 15:59:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24030 invoked by uid 99); 10 Feb 2005 15:59:07 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO mail.interoperate.com) (65.121.33.9)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 10 Feb 2005 07:59:06 -0800
Received: from imobile2 ([192.168.1.222])
	by mail.interoperate.com (8.12.8/8.12.8) with SMTP id j1AFx4vN019969
	for <lucene-user@jakarta.apache.org>; Thu, 10 Feb 2005 08:59:04 -0700
Message-ID: <038501c50f89$72793750$de01a8c0@imobile2>
From: "aaz" <x@interoperate.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <01da01c50efe$d61bdf00$de01a8c0@imobile2> <5bcfc146078d961733082d9f24fe0ed0@ehatchersolutions.com>
Subject: Re: wildcards, stemming and searching
Date: Thu, 10 Feb 2005 08:59:05 -0700
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=response
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> How would you deal with a query like "a*z" though?
>

Yeah I know, a user submitting that is certainly possible. I have no idea. I 
am starting to think that NOT stemming on indexing might be the safest 
solution.


----- Original Message ----- 
From: "Erik Hatcher" <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Thursday, February 10, 2005 8:55 AM
Subject: Re: wildcards, stemming and searching


> How would you deal with a query like "a*z" though?
>
> I suspect, however, that you only care about suffix queries and stemming 
> those.  If thats the case, then you could subclass getWildcardQuery and do 
> internal stemming (remove trailing wildcard, run it through the analyzer 
> directly there and return a modified WildcardQuery instance.
>
> With wildcard queries though, this is risky.  Prefixes won't necessarily 
> stem to what the full word would stem to.
>
> Erik
>
>
> On Feb 9, 2005, at 6:26 PM, aaz wrote:
>
>> Hi,
>> We are not using QueryParser and have some custom Query construction.
>>
>> We have an index that indexes various documents. Each document is 
>> Analyzed and indexed via
>>
>> StandardTokenizer() ->StandardFilter() -> LowercaseFilter() -> 
>> StopFilter() -> PorterStemFilter()
>>
>> We also want to support wildcard queries, hence on an inbound query we 
>> need to deal with "*" in the value side of the comparison. We also need 
>> to "analyze" the value side of the query against the same analyzer in 
>> which the index was built with. This leads to some problems and would 
>> like your solution opinion.
>>
>> User queries.
>>
>> somefield = united*
>>
>> After the analyzer hits "united*", we get back "unit". Hence we cannot 
>> detect that the user requested a wildcard.
>>
>> Lets say we come up with some solution to "escape" the "*" char before 
>> the Analyzer hits it. For example
>>
>> somefield = united*  -> unitedXXWILDCARDXX
>>
>> After analysis this then becomes "unitedxxwildcardxx", which we can then 
>> turn into a WildcardQuery "united*"
>>
>> The problem here is that the term "united" will never exist in the 
>> indexing due to the stemming which did not stem properly due to our 
>> escape mechanism.
>>
>> How can I solve this problem?
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13134-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 10 17:39:27 2005
Return-Path: <lucene-user-return-13134-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 58116 invoked from network); 10 Feb 2005 17:39:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Feb 2005 17:39:27 -0000
Received: (qmail 26267 invoked by uid 500); 10 Feb 2005 17:39:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 26237 invoked by uid 500); 10 Feb 2005 17:39:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26224 invoked by uid 99); 10 Feb 2005 17:39:21 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 10 Feb 2005 09:39:19 -0800
Received: from p001002 ([204.225.84.27]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Thu, 10 Feb 2005 12:44:05 -0500
Message-ID: <006801c50f98$1dc6a350$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20052817282.987755@Kelvin> <ed93bf83715ec490a1cda598c4878d1c@ehatchersolutions.com>
Subject: Re: Problem searching Field.Keyword field
Date: Thu, 10 Feb 2005 12:44:05 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 10 Feb 2005 17:44:06.0014 (UTC) FILETIME=[1DD919E0:01C50F98]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Are there any issues with having a bunch of boolean queries and than adding
them to one big boolean queries (making them all required)?

Or should I be looking at Query.combine()?

Thanks,

Luke
----- Original Message ----- 
From: "Erik Hatcher" <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Tuesday, February 08, 2005 12:02 PM
Subject: Re: Problem searching Field.Keyword field


Kelvin - I respectfully disagree - could you elaborate on why this is
not an appropriate use of Field.Keyword?

If the category is "How To", Field.Text would split this (depending on
the Analyzer) into "how" and "to".

If the user is selecting a category from a drop-down, though, you
shouldn't be using QueryParser on it, but instead aggregating a
TermQuery("category", "How To") into a BooleanQuery with the rest of
it.  The rest may be other API created clauses and likely a piece from
QueryParser.

Erik


On Feb 8, 2005, at 11:28 AM, Kelvin Tan wrote:

> As I posted previously, Field.Keyword is appropriate in only certain
> situations. For your use-case, I believe Field.Text is more suitable.
>
> k
>
> On Tue, 8 Feb 2005 10:02:19 -0600, Mike Miller wrote:
>> This may or may not be correct, but I am indexing it as a keyword
>> because I provide a (required) radio button on the add screen for
>> the user to determine which category the document should be
>> assigned. Then in the search, provide a dropdown that can be used
>> in the advanced search so that they can search only for a specific
>> category of documents (like HowTo, Troubleshooting, etc).
>>
>> -----Original Message-----
>> From: Kelvin Tan [mailto:kelvin-lists@relevanz.com] Sent: Tuesday,
>> February 08, 2005 9:32 AM To: Lucene Users List
>> Subject: RE: Problem searching Field.Keyword field
>>
>> Mike, is there a reason why you're indexing "category" as keyword
>> not text?
>>
>> k
>>
>> On Tue, 8 Feb 2005 08:26:13 -0600, Mike Miller wrote:
>>
>>> Thanks for the quick response.
>>>
>>> Sorry for my lack of understanding, but I am learning! Won't the
>>> query parser still handle this query? My limited understanding
>>> was that the search call provides the 'all' field as default
>>> field for query terms in the case where fields aren't specified.
>>> Using the current code, searches like author:Mike" and
>>> title:Lucene work fine.
>>>
>>> -----Original Message-----
>>> From: Miles Barr [mailto:miles@runtime-collective.com] Sent:
>>> Tuesday, February 08, 2005 8:08 AM To: Lucene Users List Subject:
>>> Re: Problem searching Field.Keyword field
>>>
>>> You're using the query parser with the standard analyser. You
>>> should construct a term query manually instead.
>>>
>>>
>>> --
>>> Miles Barr <miles@runtime-collective.com> Runtime Collective Ltd.
>>>
>>> ------------------------------------------------------------------
>>> -- - To unsubscribe, e-mail: lucene-user-
>>> unsubscribe@jakarta.apache.org For additional commands, e-mail:
>>> lucene-user-help@jakarta.apache.org
>>>
>>>
>>> ------------------------------------------------------------------
>>> -- - To unsubscribe, e-mail: lucene-user-
>>> unsubscribe@jakarta.apache.org For additional commands, e-mail:
>>> lucene-user-help@jakarta.apache.org
>>
>>
>> --------------------------------------------------------------------
>> - To unsubscribe, e-mail: lucene-user-
>> unsubscribe@jakarta.apache.org For additional commands, e-mail:
>> lucene-user-help@jakarta.apache.org
>>
>>
>> --------------------------------------------------------------------
>> - To unsubscribe, e-mail: lucene-user-
>> unsubscribe@jakarta.apache.org For additional commands, e-mail:
>> lucene-user-help@jakarta.apache.org
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13135-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 10 17:39:34 2005
Return-Path: <lucene-user-return-13135-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 58176 invoked from network); 10 Feb 2005 17:39:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Feb 2005 17:39:34 -0000
Received: (qmail 26540 invoked by uid 500); 10 Feb 2005 17:39:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 26476 invoked by uid 500); 10 Feb 2005 17:39:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26379 invoked by uid 99); 10 Feb 2005 17:39:22 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: 216.220.52.87 is neither permitted nor denied by domain of lshannon@futurebrand.com)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 10 Feb 2005 09:39:22 -0800
Received: from p001002 ([204.225.84.27]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Thu, 10 Feb 2005 12:44:06 -0500
Message-ID: <006901c50f98$1de35310$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20052817282.987755@Kelvin> <ed93bf83715ec490a1cda598c4878d1c@ehatchersolutions.com>
Subject: Re: Problem searching Field.Keyword field
Date: Thu, 10 Feb 2005 12:44:05 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 10 Feb 2005 17:44:06.0139 (UTC) FILETIME=[1DEC2CB0:01C50F98]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Are there any issues with having a bunch of boolean queries and than adding
them to one big boolean queries (making them all required)?

Or should I be looking at Query.combine()?

Thanks,

Luke
----- Original Message ----- 
From: "Erik Hatcher" <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Tuesday, February 08, 2005 12:02 PM
Subject: Re: Problem searching Field.Keyword field


Kelvin - I respectfully disagree - could you elaborate on why this is
not an appropriate use of Field.Keyword?

If the category is "How To", Field.Text would split this (depending on
the Analyzer) into "how" and "to".

If the user is selecting a category from a drop-down, though, you
shouldn't be using QueryParser on it, but instead aggregating a
TermQuery("category", "How To") into a BooleanQuery with the rest of
it.  The rest may be other API created clauses and likely a piece from
QueryParser.

Erik


On Feb 8, 2005, at 11:28 AM, Kelvin Tan wrote:

> As I posted previously, Field.Keyword is appropriate in only certain
> situations. For your use-case, I believe Field.Text is more suitable.
>
> k
>
> On Tue, 8 Feb 2005 10:02:19 -0600, Mike Miller wrote:
>> This may or may not be correct, but I am indexing it as a keyword
>> because I provide a (required) radio button on the add screen for
>> the user to determine which category the document should be
>> assigned. Then in the search, provide a dropdown that can be used
>> in the advanced search so that they can search only for a specific
>> category of documents (like HowTo, Troubleshooting, etc).
>>
>> -----Original Message-----
>> From: Kelvin Tan [mailto:kelvin-lists@relevanz.com] Sent: Tuesday,
>> February 08, 2005 9:32 AM To: Lucene Users List
>> Subject: RE: Problem searching Field.Keyword field
>>
>> Mike, is there a reason why you're indexing "category" as keyword
>> not text?
>>
>> k
>>
>> On Tue, 8 Feb 2005 08:26:13 -0600, Mike Miller wrote:
>>
>>> Thanks for the quick response.
>>>
>>> Sorry for my lack of understanding, but I am learning! Won't the
>>> query parser still handle this query? My limited understanding
>>> was that the search call provides the 'all' field as default
>>> field for query terms in the case where fields aren't specified.
>>> Using the current code, searches like author:Mike" and
>>> title:Lucene work fine.
>>>
>>> -----Original Message-----
>>> From: Miles Barr [mailto:miles@runtime-collective.com] Sent:
>>> Tuesday, February 08, 2005 8:08 AM To: Lucene Users List Subject:
>>> Re: Problem searching Field.Keyword field
>>>
>>> You're using the query parser with the standard analyser. You
>>> should construct a term query manually instead.
>>>
>>>
>>> --
>>> Miles Barr <miles@runtime-collective.com> Runtime Collective Ltd.
>>>
>>> ------------------------------------------------------------------
>>> -- - To unsubscribe, e-mail: lucene-user-
>>> unsubscribe@jakarta.apache.org For additional commands, e-mail:
>>> lucene-user-help@jakarta.apache.org
>>>
>>>
>>> ------------------------------------------------------------------
>>> -- - To unsubscribe, e-mail: lucene-user-
>>> unsubscribe@jakarta.apache.org For additional commands, e-mail:
>>> lucene-user-help@jakarta.apache.org
>>
>>
>> --------------------------------------------------------------------
>> - To unsubscribe, e-mail: lucene-user-
>> unsubscribe@jakarta.apache.org For additional commands, e-mail:
>> lucene-user-help@jakarta.apache.org
>>
>>
>> --------------------------------------------------------------------
>> - To unsubscribe, e-mail: lucene-user-
>> unsubscribe@jakarta.apache.org For additional commands, e-mail:
>> lucene-user-help@jakarta.apache.org
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13136-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 10 18:02:31 2005
Return-Path: <lucene-user-return-13136-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 69280 invoked from network); 10 Feb 2005 18:02:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Feb 2005 18:02:31 -0000
Received: (qmail 69735 invoked by uid 500); 10 Feb 2005 18:02:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 69711 invoked by uid 500); 10 Feb 2005 18:02:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 69698 invoked by uid 99); 10 Feb 2005 18:02:26 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_60_70,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO mail.interoperate.com) (65.121.33.9)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 10 Feb 2005 10:02:25 -0800
Received: from imobile2 ([192.168.1.222])
	by mail.interoperate.com (8.12.8/8.12.8) with SMTP id j1AI2MvN020285
	for <lucene-user@jakarta.apache.org>; Thu, 10 Feb 2005 11:02:23 -0700
Message-ID: <045a01c50f9a$abf83d80$de01a8c0@imobile2>
From: "aaz" <x@interoperate.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: != queries
Date: Thu, 10 Feb 2005 11:02:23 -0700
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0457_01C50F5F.FF5F69C0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0457_01C50F5F.FF5F69C0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi,
I have an index with field "documentNumber". There are 10 documents. One =
of the documents has documentNumber A5058970

I want to return all matches where documentNumber !=3D A505*. I should =
get 9 docs back.

I construct a query like

wq =3D WildcardQuery("documentNumber","a505*")

BooleanQuery bq =3D new BooleanQuery();
bq.addQuery(wq,false,true);

I always get no results for this type of query.

Ideas?
------=_NextPart_000_0457_01C50F5F.FF5F69C0--



From lucene-user-return-13137-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 10 18:08:03 2005
Return-Path: <lucene-user-return-13137-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 71402 invoked from network); 10 Feb 2005 18:08:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Feb 2005 18:08:03 -0000
Received: (qmail 77977 invoked by uid 500); 10 Feb 2005 18:08:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 77943 invoked by uid 500); 10 Feb 2005 18:08:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 77929 invoked by uid 99); 10 Feb 2005 18:08:00 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from intranet.runtime-collective.com (HELO mail.runtime-collective.com) (212.42.171.82)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 10 Feb 2005 10:07:58 -0800
Received: from [81.168.89.246] (helo=[192.168.1.31])
	by mail.runtime-collective.com with smtp (Exim 3.35 #1 (Debian))
	id 1CzIjE-00075e-00
	for <lucene-user@jakarta.apache.org>; Thu, 10 Feb 2005 18:07:48 +0000
Subject: Re: != queries
From: Miles Barr <miles@runtime-collective.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <045a01c50f9a$abf83d80$de01a8c0@imobile2>
References: <045a01c50f9a$abf83d80$de01a8c0@imobile2>
Content-Type: text/plain
Organization: Runtime Collective Ltd.
Date: Thu, 10 Feb 2005 18:07:45 +0000
Message-Id: <1108058865.5357.19.camel@saturn>
Mime-Version: 1.0
X-Mailer: Evolution 2.0.3 
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Thu, 2005-02-10 at 11:02 -0700, aaz wrote:
> I have an index with field "documentNumber". There are 10 documents. One of the documents has documentNumber A5058970
> 
> I want to return all matches where documentNumber != A505*. I should get 9 docs back.
> 
> I construct a query like
> 
> wq = WildcardQuery("documentNumber","a505*")
> 
> BooleanQuery bq = new BooleanQuery();
> bq.addQuery(wq,false,true);
> 
> I always get no results for this type of query.
> 
> Ideas?

A restriction can only filter out search results and not add to them. So
the search is starting with an empty set, then trying to filter out the
results with a document number starting A505, i.e. doing nothing.




-- 
Miles Barr <miles@runtime-collective.com>
Runtime Collective Ltd.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13138-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 10 18:19:12 2005
Return-Path: <lucene-user-return-13138-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 76729 invoked from network); 10 Feb 2005 18:19:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Feb 2005 18:19:12 -0000
Received: (qmail 93070 invoked by uid 500); 10 Feb 2005 18:19:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 93035 invoked by uid 500); 10 Feb 2005 18:19:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93005 invoked by uid 99); 10 Feb 2005 18:19:07 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO mail.interoperate.com) (65.121.33.9)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 10 Feb 2005 10:19:05 -0800
Received: from imobile2 ([192.168.1.222])
	by mail.interoperate.com (8.12.8/8.12.8) with SMTP id j1AIJ3vN020328
	for <lucene-user@jakarta.apache.org>; Thu, 10 Feb 2005 11:19:04 -0700
Message-ID: <047201c50f9d$005e0150$de01a8c0@imobile2>
From: "aaz" <x@interoperate.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <045a01c50f9a$abf83d80$de01a8c0@imobile2> <1108058865.5357.19.camel@saturn>
Subject: Re: != queries
Date: Thu, 10 Feb 2005 11:19:03 -0700
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=original
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Ok, that makes sense. Any suggestions on how to AND that prohibited clause 
with a query to get everything?

----- Original Message ----- 
From: "Miles Barr" <miles@runtime-collective.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Thursday, February 10, 2005 11:07 AM
Subject: Re: != queries


> On Thu, 2005-02-10 at 11:02 -0700, aaz wrote:
>> I have an index with field "documentNumber". There are 10 documents. One 
>> of the documents has documentNumber A5058970
>>
>> I want to return all matches where documentNumber != A505*. I should get 
>> 9 docs back.
>>
>> I construct a query like
>>
>> wq = WildcardQuery("documentNumber","a505*")
>>
>> BooleanQuery bq = new BooleanQuery();
>> bq.addQuery(wq,false,true);
>>
>> I always get no results for this type of query.
>>
>> Ideas?
>
> A restriction can only filter out search results and not add to them. So
> the search is starting with an empty set, then trying to filter out the
> results with a document number starting A505, i.e. doing nothing.
>
>
>
>
> -- 
> Miles Barr <miles@runtime-collective.com>
> Runtime Collective Ltd.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13139-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 10 18:25:32 2005
Return-Path: <lucene-user-return-13139-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 80499 invoked from network); 10 Feb 2005 18:25:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Feb 2005 18:25:32 -0000
Received: (qmail 4937 invoked by uid 500); 10 Feb 2005 18:25:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 4906 invoked by uid 500); 10 Feb 2005 18:25:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4891 invoked by uid 99); 10 Feb 2005 18:25:27 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of jharuska@gmail.com designates 64.233.170.193 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.193)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 10 Feb 2005 10:25:26 -0800
Received: by rproxy.gmail.com with SMTP id j1so147747rnf
        for <lucene-user@jakarta.apache.org>; Thu, 10 Feb 2005 10:25:24 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=kbT9MyPkeLkQ0MQRm+llEjJD+4joBfYFlvj0N2R9tIZqB225Mvon+Whe9kQxX/v5TK12qvQ/RCXZytaFqD9z8xEZEUXKeGoRPNLX4dHvMedDEoPKLd87oqjHu8+vyzFIw7zngEcQSQzbr0JMYexudp7kRYWr6+O9OzbRaixseEo=
Received: by 10.38.92.71 with SMTP id p71mr32910rnb;
        Thu, 10 Feb 2005 10:25:23 -0800 (PST)
Received: by 10.38.101.2 with HTTP; Thu, 10 Feb 2005 10:25:23 -0800 (PST)
Message-ID: <5fbbcd1405021010257c0869a0@mail.gmail.com>
Date: Thu, 10 Feb 2005 13:25:23 -0500
From: Jason Haruska <jharuska@gmail.com>
Reply-To: Jason Haruska <jharuska@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: != queries
In-Reply-To: <047201c50f9d$005e0150$de01a8c0@imobile2>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <045a01c50f9a$abf83d80$de01a8c0@imobile2>
	 <1108058865.5357.19.camel@saturn>
	 <047201c50f9d$005e0150$de01a8c0@imobile2>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

If this is a query you need to support often, you could create a field
"x" that contains "x" in every document. Then search on that with your
prohibited query.

If not, you could get the document list by doing your search then
removing all of those documents from a complete set outside of lucene.


On Thu, 10 Feb 2005 11:19:03 -0700, aaz <x@interoperate.com> wrote:
> Ok, that makes sense. Any suggestions on how to AND that prohibited clause
> with a query to get everything?
> 
> ----- Original Message -----
> From: "Miles Barr" <miles@runtime-collective.com>
> To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> Sent: Thursday, February 10, 2005 11:07 AM
> Subject: Re: != queries
> 
> > On Thu, 2005-02-10 at 11:02 -0700, aaz wrote:
> >> I have an index with field "documentNumber". There are 10 documents. One
> >> of the documents has documentNumber A5058970
> >>
> >> I want to return all matches where documentNumber != A505*. I should get
> >> 9 docs back.
> >>
> >> I construct a query like
> >>
> >> wq = WildcardQuery("documentNumber","a505*")
> >>
> >> BooleanQuery bq = new BooleanQuery();
> >> bq.addQuery(wq,false,true);
> >>
> >> I always get no results for this type of query.
> >>
> >> Ideas?
> >
> > A restriction can only filter out search results and not add to them. So
> > the search is starting with an empty set, then trying to filter out the
> > results with a document number starting A505, i.e. doing nothing.
> >
> >
> >
> >
> > --
> > Miles Barr <miles@runtime-collective.com>
> > Runtime Collective Ltd.
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13140-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 10 18:52:10 2005
Return-Path: <lucene-user-return-13140-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 91046 invoked from network); 10 Feb 2005 18:52:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Feb 2005 18:52:10 -0000
Received: (qmail 42975 invoked by uid 500); 10 Feb 2005 18:52:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 42944 invoked by uid 500); 10 Feb 2005 18:52:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42930 invoked by uid 99); 10 Feb 2005 18:52:05 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp-vbr12.xs4all.nl (HELO smtp-vbr12.xs4all.nl) (194.109.24.32)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 10 Feb 2005 10:52:04 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr12.xs4all.nl (8.12.11/8.12.11) with ESMTP id j1AIq0Or045264
	for <lucene-user@jakarta.apache.org>; Thu, 10 Feb 2005 19:52:00 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: lucene-user@jakarta.apache.org
Subject: Re: Problem searching Field.Keyword field
Date: Thu, 10 Feb 2005 19:51:59 +0100
User-Agent: KMail/1.5.4
References: <20052817282.987755@Kelvin> <ed93bf83715ec490a1cda598c4878d1c@ehatchersolutions.com> <006801c50f98$1dc6a350$7703d00a@hypermedia.com>
In-Reply-To: <006801c50f98$1dc6a350$7703d00a@hypermedia.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200502101951.59824.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Thursday 10 February 2005 18:44, Luke Shannon wrote:
> Are there any issues with having a bunch of boolean queries and than adding
> them to one big boolean queries (making them all required)?

The 1.4.3 and earlier BooleanScorer has an out of bounds exception
for "More than 32 required/prohibited clauses in query".

In the development version this restriction has gone.

The limitation of the maximum clause count (default 1024,
configurable) is still there.

Regards,
Paul Elschot


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13141-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 10 21:01:33 2005
Return-Path: <lucene-user-return-13141-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 64880 invoked from network); 10 Feb 2005 21:01:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Feb 2005 21:01:33 -0000
Received: (qmail 77396 invoked by uid 500); 10 Feb 2005 21:01:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 77369 invoked by uid 500); 10 Feb 2005 21:01:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 77352 invoked by uid 99); 10 Feb 2005 21:01:29 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 10 Feb 2005 13:01:25 -0800
Received: from p001002 ([204.225.84.27]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Thu, 10 Feb 2005 16:06:11 -0500
Message-ID: <004501c50fb4$593f55a0$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: <lucene-user@jakarta.apache.org>
Subject: Negative Match
Date: Thu, 10 Feb 2005 16:06:11 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 10 Feb 2005 21:06:11.0238 (UTC) FILETIME=[590B7460:01C50FB4]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I think I found a pretty good way to do a negative match.

In this query I am looking for all the Documents that have a kcfileupload
field with any value except for jpg.

        Query negativeMatch = new WildcardQuery(new Term("kcfileupload",
"*jpg*"));
         BooleanQuery typeNegAll = new BooleanQuery();
        Query allResults = new WildcardQuery(new Term("kcfileupload", "*"));
        IndexSearcher searcher = new IndexSearcher(fsDir);
        BooleanClause clause = new BooleanClause(negativeMatch, false,
true);
        typeNegAll.add(allResults, true, false);
        typeNegAll.add(clause);
        Hits hits = searcher.search(typeNegAll);

With the little testing I have done this *seems* to work. Does anyone see a
problem with this approach?

Thanks,

Luke



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13142-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 10 21:27:42 2005
Return-Path: <lucene-user-return-13142-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 75950 invoked from network); 10 Feb 2005 21:27:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Feb 2005 21:27:42 -0000
Received: (qmail 17149 invoked by uid 500); 10 Feb 2005 21:27:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 16967 invoked by uid 500); 10 Feb 2005 21:27:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16954 invoked by uid 99); 10 Feb 2005 21:27:37 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from humanizing-42.iquest.net (HELO htexc.hq.htinc.com) (206.246.149.42)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 10 Feb 2005 13:27:36 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: new segment for each document
Date: Thu, 10 Feb 2005 16:27:31 -0500
Message-ID: <4568BE33B520DD43B7B24DE0B609B215608CB7@htexc.hq.htinc.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: new segment for each document
Thread-Index: AcUPs7Om1tw8SY8hSRKnh9eOJ3g8egAAyWNg
From: "Ravi" <ravi@htinc.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

How can I create a new index segment for each new document? The reason
for doing this is I want to be able to retrieve a document as soon as it
is added. I tried setting the minMergeFactor on the writer to one. But
it did not work.

Thanks in advance,
Ravi.=20



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13143-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 10 21:53:37 2005
Return-Path: <lucene-user-return-13143-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 86477 invoked from network); 10 Feb 2005 21:53:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Feb 2005 21:53:37 -0000
Received: (qmail 73232 invoked by uid 500); 10 Feb 2005 21:53:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 73199 invoked by uid 500); 10 Feb 2005 21:53:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 73186 invoked by uid 99); 10 Feb 2005 21:53:31 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mailout06.sul.t-online.com (HELO mailout06.sul.t-online.com) (194.25.134.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 10 Feb 2005 13:53:29 -0800
Received: from fwd01.aul.t-online.de 
	by mailout06.sul.t-online.com with smtp 
	id 1CzMFb-0005Tk-00; Thu, 10 Feb 2005 22:53:27 +0100
Received: from p3E9EC85A.dip.t-dialin.net (rCh4fBZ1wepo31DwFZdPrOnGUip1RfDobRkyUiHUNVxZi3V9U36Krg@[62.158.200.90]) by fmrl01.sul.t-online.com
	with esmtp id 1CzMFJ-0u0CYK0; Thu, 10 Feb 2005 22:53:09 +0100
From: Daniel Naber <daniel.naber@t-online.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: new segment for each document
Date: Thu, 10 Feb 2005 22:54:50 +0100
User-Agent: KMail/1.7.1
References: <4568BE33B520DD43B7B24DE0B609B215608CB7@htexc.hq.htinc.com>
In-Reply-To: <4568BE33B520DD43B7B24DE0B609B215608CB7@htexc.hq.htinc.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200502102254.50872@danielnaber.de>
X-ID: rCh4fBZ1wepo31DwFZdPrOnGUip1RfDobRkyUiHUNVxZi3V9U36Krg@t-dialin.net
X-TOI-MSGID: 9a34bfb6-fa6b-4bab-aa18-3d227e79b8b4
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Thursday 10 February 2005 22:27, Ravi wrote:

>  I tried setting the minMergeFactor on the writer to one. But
> it did not work.

I think there's an off-by-one bug so two is the smallest value that works 
as expected.

Regards
 Daniel

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13144-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 10 22:01:04 2005
Return-Path: <lucene-user-return-13144-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 90022 invoked from network); 10 Feb 2005 22:01:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Feb 2005 22:01:04 -0000
Received: (qmail 92582 invoked by uid 500); 10 Feb 2005 22:00:59 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 92551 invoked by uid 500); 10 Feb 2005 22:00:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 92538 invoked by uid 99); 10 Feb 2005 22:00:59 -0000
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web90103.mail.scd.yahoo.com (HELO web90103.mail.scd.yahoo.com) (66.218.94.74)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 10 Feb 2005 14:00:58 -0800
Received: (qmail 48215 invoked by uid 60001); 10 Feb 2005 22:00:56 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=wVmgNychQnGetCtPJiGeWJf5aAajaeINyDYRSCCvp65sFQoDeqSdueITlU2gnpvesv7IeU7YnHxC/L/dHymItj8Yb64CDfisDATNVABWZeUOxBt/kmDlZb4q99nNI0rSnixDDqCHyBoXbDujrZaMXdnYAqYVAgJAMZ0hl+TdJEM=  ;
Message-ID: <20050210220056.48213.qmail@web90103.mail.scd.yahoo.com>
Received: from [12.40.203.130] by web90103.mail.scd.yahoo.com via HTTP; Thu, 10 Feb 2005 14:00:56 PST
Date: Thu, 10 Feb 2005 14:00:56 -0800 (PST)
From: Paul Jans <paulfjans@yahoo.com>
Subject: Newbie questions
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

A couple of newbie questions. I've searched the
archives and read the Javadoc but I'm still having
trouble figuring these out. 

1. What's the best way to index and handle queries
like the following: 

Find me all users with (a CS degree and a GPA > 3.0)
or (a Math degree and a GPA > 3.5).

2. What are the best practices for using Lucene in a
clustered J2EE environment? A standalone index/search
server or storing the index in the database or
something else ?

Thank you in advance,
PJ



		
__________________________________ 
Do you Yahoo!? 
All your favorites on one personal page ñ Try My Yahoo!
http://my.yahoo.com 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13145-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 10 22:07:12 2005
Return-Path: <lucene-user-return-13145-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 92594 invoked from network); 10 Feb 2005 22:07:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 10 Feb 2005 22:07:11 -0000
Received: (qmail 10466 invoked by uid 500); 10 Feb 2005 22:07:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 10434 invoked by uid 500); 10 Feb 2005 22:07:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10420 invoked by uid 99); 10 Feb 2005 22:07:05 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from rwcrmhc11.comcast.net (HELO rwcrmhc11.comcast.net) (204.127.198.35)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 10 Feb 2005 14:07:04 -0800
Received: from [192.168.168.81] (c-24-5-160-217.client.comcast.net[24.5.160.217])
          by comcast.net (rwcrmhc11) with ESMTP
          id <2005021022070101300m9svte>; Thu, 10 Feb 2005 22:07:01 +0000
Message-ID: <420BDB04.5030607@apache.org>
Date: Thu, 10 Feb 2005 14:07:00 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 0.9 (X11/20041127)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: new segment for each document
References: <4568BE33B520DD43B7B24DE0B609B215608CB7@htexc.hq.htinc.com> <200502102254.50872@danielnaber.de>
In-Reply-To: <200502102254.50872@danielnaber.de>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Daniel Naber wrote:
> On Thursday 10 February 2005 22:27, Ravi wrote:
>> I tried setting the minMergeFactor on the writer to one. But
>>it did not work.
> 
> I think there's an off-by-one bug so two is the smallest value that works 
> as expected.

You can simply create a new IndexWriter for each add and then close it. 
  IndexWriter is pretty lightweight, so this shouldn't have too much 
overhead.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13146-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 11 00:23:46 2005
Return-Path: <lucene-user-return-13146-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 43585 invoked from network); 11 Feb 2005 00:23:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Feb 2005 00:23:46 -0000
Received: (qmail 6902 invoked by uid 500); 11 Feb 2005 00:23:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 6770 invoked by uid 500); 11 Feb 2005 00:23:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6757 invoked by uid 99); 11 Feb 2005 00:23:41 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 10 Feb 2005 16:23:40 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 62A2913E28FD; Thu, 10 Feb 2005 19:23:37 -0500 (EST)
Received: from [192.168.1.100] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id 95E7613E28FB
	for <lucene-user@jakarta.apache.org>; Thu, 10 Feb 2005 19:23:32 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <004501c50fb4$593f55a0$7703d00a@hypermedia.com>
References: <004501c50fb4$593f55a0$7703d00a@hypermedia.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <da7606ee7225c69cda534b6270a322f2@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Negative Match
Date: Thu, 10 Feb 2005 19:23:31 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.5 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Feb 10, 2005, at 4:06 PM, Luke Shannon wrote:

> I think I found a pretty good way to do a negative match.
>
> In this query I am looking for all the Documents that have a 
> kcfileupload
> field with any value except for jpg.
>
>         Query negativeMatch = new WildcardQuery(new 
> Term("kcfileupload",
> "*jpg*"));
>          BooleanQuery typeNegAll = new BooleanQuery();
>         Query allResults = new WildcardQuery(new Term("kcfileupload", 
> "*"));
>         IndexSearcher searcher = new IndexSearcher(fsDir);
>         BooleanClause clause = new BooleanClause(negativeMatch, false,
> true);
>         typeNegAll.add(allResults, true, false);
>         typeNegAll.add(clause);
>         Hits hits = searcher.search(typeNegAll);
>
> With the little testing I have done this *seems* to work. Does anyone 
> see a
> problem with this approach?

Sure.... do you realize what WildcardQuery does under the covers?  It 
literally expands to a BooleanQuery for all terms that match the 
pattern.  There is an adjustable limit built-in of 1,024 clauses to 
BooleanQuery.  You obviously have not hit that limit ... yet!

You're better off using the advice offered on this thread 
previously.... create a single dummy field with a fixed value for all 
documents.  Combine a TermQuery for that dummy value with a prohibited 
clause like y our negativeMatch above.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13147-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 11 04:02:28 2005
Return-Path: <lucene-user-return-13147-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 29478 invoked from network); 11 Feb 2005 04:02:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Feb 2005 04:02:28 -0000
Received: (qmail 2906 invoked by uid 500); 11 Feb 2005 04:02:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 2884 invoked by uid 500); 11 Feb 2005 04:02:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2870 invoked by uid 99); 11 Feb 2005 04:02:24 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web50702.mail.yahoo.com (HELO web50702.mail.yahoo.com) (206.190.38.100)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 10 Feb 2005 20:02:22 -0800
Received: (qmail 69161 invoked by uid 60001); 11 Feb 2005 04:02:20 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=3Daf/3jarF7aeK2GmS+QEDkNNMFKp+u23MIeBqv0/WEZQxigtEpxumNQsWxclvvWJCvTH6DMXyJKt+AXNtenI08p4FXKnwCn9YeQ26zn6POyP2RNhAMe42Way/PDuXTqA342wg1TJeV8ZGHMvvEGInYpeJYpdSZxslP43ZkY0ak=  ;
Message-ID: <20050211040220.69159.qmail@web50702.mail.yahoo.com>
Received: from [216.41.122.45] by web50702.mail.yahoo.com via HTTP; Thu, 10 Feb 2005 20:02:20 PST
Date: Thu, 10 Feb 2005 20:02:20 -0800 (PST)
From: Andy <angelflow@yahoo.com>
Subject: Access Lucene from PHP or Perl
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Greetings.

Can anyone point me to a how-to tutorial on how to
access Lucene from a web page generated by PHP pr
Perl? I've been looking but couldn't find anything.
Thanks a lot.

And

__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13148-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 11 04:49:21 2005
Return-Path: <lucene-user-return-13148-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 43080 invoked from network); 11 Feb 2005 04:49:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Feb 2005 04:49:21 -0000
Received: (qmail 51543 invoked by uid 500); 11 Feb 2005 04:49:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 51513 invoked by uid 500); 11 Feb 2005 04:49:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 51499 invoked by uid 99); 11 Feb 2005 04:49:16 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=HTML_MESSAGE,HTML_TEXT_AFTER_BODY,HTML_TEXT_AFTER_HTML
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from taurus.lunarpages.com (HELO taurus.lunarpages.com) (64.235.234.121)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 10 Feb 2005 20:49:14 -0800
Received: from adsl-68-121-27-153.dsl.irvnca.pacbell.net ([68.121.27.153] helo=ramonlaptop)
	by taurus.lunarpages.com with esmtpa (Exim 4.43)
	id 1CzSjy-0001dO-4d
	for lucene-user@jakarta.apache.org; Thu, 10 Feb 2005 20:49:14 -0800
From: "Ramon Aseniero" <ramon.aseniero@tryarc.com>
To: <lucene-user@jakarta.apache.org>
Subject: Multiple Fields with same name
Date: Thu, 10 Feb 2005 20:48:59 -0800
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_025D_01C50FB1.F2478A90"
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Thread-Index: AcUP9P/kHgto/KByS5iWwZWGa9Lb2A==
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - taurus.lunarpages.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - tryarc.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_025D_01C50FB1.F2478A90
Content-Type: text/plain;
	charset="windows-1250"
Content-Transfer-Encoding: quoted-printable

Hi All,

=20

If I store multiple fields with same name for example =93Author=94 with =
3 values
=93bob,=94jane=94,=94bill=94 once I retrieve the doc are the values in =
the same order?

=20

Thanks,

Ramon


--=20
No virus found in this outgoing message.
Checked by AVG Anti-Virus.
Version: 7.0.300 / Virus Database: 265.8.7 - Release Date: 2/10/2005
=20

------=_NextPart_000_025D_01C50FB1.F2478A90--


From lucene-user-return-13149-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 11 06:45:10 2005
Return-Path: <lucene-user-return-13149-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 77697 invoked from network); 11 Feb 2005 06:45:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Feb 2005 06:45:10 -0000
Received: (qmail 43849 invoked by uid 500); 11 Feb 2005 06:45:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 43567 invoked by uid 500); 11 Feb 2005 06:45:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43554 invoked by uid 99); 11 Feb 2005 06:45:04 -0000
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=HTML_50_60,HTML_MESSAGE,MIME_BOUND_NEXTPART,SUBJ_ALL_CAPS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 10 Feb 2005 22:45:02 -0800
Received: from kartik1 ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id IBQJIO00.0XT for <lucene-user@jakarta.apache.org>; Fri,
          11 Feb 2005 12:31:36 +0530 
From: "Karthik N S" <karthik@controlnet.co.in>
To: "LUCENE" <lucene-user@jakarta.apache.org>
Subject: BOOLEAN  EXCEPTION  APPSERVER
Date: Fri, 11 Feb 2005 12:20:35 +0530
Message-ID: <OBELINLGKPEMCIEIJJNKGEANCCAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----=_NextPartTM-000-843cf09e-97a7-4d1d-90b7-5172acd92d18"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPartTM-000-843cf09e-97a7-4d1d-90b7-5172acd92d18
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0000_01C51034.16711260"

------=_NextPart_000_0000_01C51034.16711260
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit



Hi guys

Apologies...........



I am getting this error on  ' Every FIRST SEARCH  after  Startup of the
WEBSERVER '

and I have declared the following code only once in the  method of execution


<%@ page import="org.apache.lucene.search.BooleanQuery"%>
BooleanQuery.setMaxClauseCount(Integer.MAX_VALUE);

The Exception  is as follows

Feb 11, 2005 12:16:42 PM org.apache.catalina.core.StandardWrapperValve
invoke
SEVERE: Servlet.service() for servlet jsp threw exception
java.lang.LinkageError: duplicate class definition:
org/apache/lucene/search/BooleanQuery
at java.lang.ClassLoader.defineClass0(Native Method)
at java.lang.ClassLoader.defineClass(ClassLoader.java:502)
at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:123)
at
org.apache.catalina.loader.WebappClassLoader.findClassInternal(WebappClassLo
ader.java:1626)
at
org.apache.catalina.loader.WebappClassLoader.findClass(WebappClassLoader.jav
a:850)
at
org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.jav
a:1299)
at
org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.jav
a:1181)
at org.apache.jasper.servlet.JasperLoader.loadClass(JasperLoader.java:148)
at org.apache.jasper.servlet.JasperLoader.loadClass(JasperLoader.java:69)



o/S  = Gentoo Linux
java = 1.4.1
Ram = 256
webserver Tomcat5.5.3

Thx in advance
Karthik


------=_NextPart_000_0000_01C51034.16711260
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META http-equiv=3DContent-Type content=3D"text/html; =
charset=3Diso-8859-1">
<STYLE><!-- body, P.msoNormal, LI.msoNormal, PRE, BLOCKQUOTE, a, MENU, =
dd, UL, DT { font-family: "Arial"; font-size: 12pt; margin-top: 0em; =
margin-bottom: 0em; color: #000000; } dir, ADDRESS, h1, h2, h3, h4, h5, =
h6, HR { font-family: "Arial"; font-size: 12pt; margin-top: 0em; =
margin-bottom: 0em; color: #000000; } --></STYLE>

<META content=3D"MSHTML 6.00.2600.0" name=3DGENERATOR></HEAD>
<BODY id=3DridBody>
<P><STRONG><FONT face=3DVerdana size=3D2></FONT></STRONG>&nbsp;</P>
<P><SPAN class=3D390304206-11022005><FONT face=3DVerdana =
size=3D2><STRONG>Hi=20
guys</STRONG></FONT></SPAN></P>
<P><SPAN class=3D390304206-11022005><STRONG><FONT face=3DVerdana=20
size=3D2>Apologies...........</FONT></STRONG></SPAN></P>
<P><SPAN class=3D390304206-11022005><STRONG><FONT face=3DVerdana=20
size=3D2></FONT></STRONG></SPAN>&nbsp;</P>
<P><SPAN class=3D390304206-11022005><STRONG><FONT face=3DVerdana =
size=3D2>I am getting=20
this error on&nbsp; ' Every&nbsp;FIRST SEARCH &nbsp;after&nbsp; Startup =
of the=20
WEBSERVER '</FONT></STRONG></SPAN></P>
<P><SPAN class=3D390304206-11022005><STRONG><FONT face=3DVerdana =
size=3D2>and I have=20
declared&nbsp;the following code only once in the&nbsp; method of =
execution=20
<BR></FONT></STRONG></SPAN></P>
<P><SPAN class=3D390304206-11022005><STRONG><FONT face=3DVerdana =
size=3D2>&lt;%@ page=20
import=3D"org.apache.lucene.search.BooleanQuery"%&gt;<BR></FONT></STRONG>=
</SPAN><SPAN=20
class=3D390304206-11022005><STRONG><FONT face=3DVerdana=20
size=3D2>BooleanQuery.setMaxClauseCount(Integer.MAX_VALUE);</FONT></STRON=
G></SPAN></P>
<P><SPAN class=3D390304206-11022005><STRONG><FONT face=3DVerdana =
size=3D2>The=20
Exception&nbsp; is as follows</FONT></STRONG></SPAN></P><SPAN=20
class=3D390304206-11022005><FONT face=3DVerdana size=3D2>
<P>Feb 11, 2005 12:16:42 PM =
org.apache.catalina.core.StandardWrapperValve=20
invoke<BR>SEVERE: Servlet.service() for servlet jsp threw=20
exception<BR>java.lang.LinkageError: duplicate class definition:=20
org/apache/lucene/search/BooleanQuery<BR>at=20
java.lang.ClassLoader.defineClass0(Native Method)<BR>at=20
java.lang.ClassLoader.defineClass(ClassLoader.java:502)<BR>at=20
java.security.SecureClassLoader.defineClass(SecureClassLoader.java:123)<B=
R>at=20
org.apache.catalina.loader.WebappClassLoader.findClassInternal(WebappClas=
sLoader.java:1626)<BR>at=20
org.apache.catalina.loader.WebappClassLoader.findClass(WebappClassLoader.=
java:850)<BR>at=20
org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.=
java:1299)<BR>at=20
org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.=
java:1181)<BR>at=20
org.apache.jasper.servlet.JasperLoader.loadClass(JasperLoader.java:148)<B=
R>at=20
org.apache.jasper.servlet.JasperLoader.loadClass(JasperLoader.java:69)</P=
></FONT></SPAN>
<P><SPAN class=3D390304206-11022005><STRONG><FONT face=3DVerdana=20
size=3D2></FONT></STRONG></SPAN>&nbsp;</P>
<P><SPAN class=3D390304206-11022005><STRONG><FONT face=3DVerdana =
size=3D2>o/S&nbsp;=20
=3D&nbsp;Gentoo Linux<BR>java =3D 1.4.1<BR>Ram =3D 256<BR>webserver=20
Tomcat5.5.3</FONT></STRONG></SPAN></P>
<P><SPAN class=3D390304206-11022005><STRONG><FONT face=3DVerdana =
size=3D2>Thx in=20
advance<BR></FONT></STRONG></SPAN><SPAN =
class=3D390304206-11022005><STRONG><FONT=20
face=3DVerdana size=3D2>Karthik</FONT></STRONG></SPAN></P></BODY></HTML>

------=_NextPart_000_0000_01C51034.16711260--



------=_NextPartTM-000-843cf09e-97a7-4d1d-90b7-5172acd92d18
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org
------=_NextPartTM-000-843cf09e-97a7-4d1d-90b7-5172acd92d18--


From lucene-user-return-13150-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 11 09:21:37 2005
Return-Path: <lucene-user-return-13150-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 65072 invoked from network); 11 Feb 2005 09:21:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Feb 2005 09:21:37 -0000
Received: (qmail 20222 invoked by uid 500); 11 Feb 2005 09:21:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 19366 invoked by uid 500); 11 Feb 2005 09:21:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19351 invoked by uid 99); 11 Feb 2005 09:21:33 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from intranet.runtime-collective.com (HELO mail.runtime-collective.com) (212.42.171.82)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 11 Feb 2005 01:21:31 -0800
Received: from [81.168.89.246] (helo=[192.168.1.31])
	by mail.runtime-collective.com with smtp (Exim 3.35 #1 (Debian))
	id 1CzWzP-0005yk-00
	for <lucene-user@jakarta.apache.org>; Fri, 11 Feb 2005 09:21:27 +0000
Subject: Re: BOOLEAN  EXCEPTION  APPSERVER
From: Miles Barr <miles@runtime-collective.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <OBELINLGKPEMCIEIJJNKGEANCCAA.karthik@controlnet.co.in>
References: <OBELINLGKPEMCIEIJJNKGEANCCAA.karthik@controlnet.co.in>
Content-Type: text/plain
Organization: Runtime Collective Ltd.
Date: Fri, 11 Feb 2005 09:21:25 +0000
Message-Id: <1108113685.5357.24.camel@saturn>
Mime-Version: 1.0
X-Mailer: Evolution 2.0.3 
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Fri, 2005-02-11 at 12:20 +0530, Karthik N S wrote:
> I am getting this error on  ' Every FIRST SEARCH  after  Startup of
> the WEBSERVER '
> 
> and I have declared the following code only once in the  method of
> execution 
> 
> 
> <%@ page import="org.apache.lucene.search.BooleanQuery"%>
> BooleanQuery.setMaxClauseCount(Integer.MAX_VALUE);
> 
> The Exception  is as follows
> 
> Feb 11, 2005 12:16:42 PM org.apache.catalina.core.StandardWrapperValve
> invoke
> SEVERE: Servlet.service() for servlet jsp threw exception
> java.lang.LinkageError: duplicate class definition:
> org/apache/lucene/search/BooleanQuery
> at java.lang.ClassLoader.defineClass0(Native Method)
> at java.lang.ClassLoader.defineClass(ClassLoader.java:502)
> at
> java.security.SecureClassLoader.defineClass(SecureClassLoader.java:123)
> at
> org.apache.catalina.loader.WebappClassLoader.findClassInternal(WebappClassLoader.java:1626)
> at
> org.apache.catalina.loader.WebappClassLoader.findClass(WebappClassLoader.java:850)
> at
> org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1299)
> at
> org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1181)
> at
> org.apache.jasper.servlet.JasperLoader.loadClass(JasperLoader.java:148)
> at
> org.apache.jasper.servlet.JasperLoader.loadClass(JasperLoader.java:69)

> o/S  = Gentoo Linux
> java = 1.4.1
> Ram = 256
> webserver Tomcat5.5.3

It looks like the class definition is being loaded twice. But if it's
being done by different classloaders it should be fine. You might have
two different versions on Lucene being loaded. Tomcat uses several
classloaders depending on where it finds the JAR file:

http://jakarta.apache.org/tomcat/tomcat-5.5-doc/class-loader-howto.html

Make sure you only have one copy of the Lucene JAR visible to Tomcat.



-- 
Miles Barr <miles@runtime-collective.com>
Runtime Collective Ltd.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13151-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 11 09:47:23 2005
Return-Path: <lucene-user-return-13151-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 77901 invoked from network); 11 Feb 2005 09:47:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Feb 2005 09:47:23 -0000
Received: (qmail 48725 invoked by uid 500); 11 Feb 2005 09:47:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 48702 invoked by uid 500); 11 Feb 2005 09:47:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 48687 invoked by uid 99); 11 Feb 2005 09:47:17 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=SUBJ_ALL_CAPS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by apache.org (qpsmtpd/0.28) with SMTP; Fri, 11 Feb 2005 01:47:15 -0800
Received: from kartik1 ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id IBQRYK00.HQB for <lucene-user@jakarta.apache.org>; Fri,
          11 Feb 2005 15:33:56 +0530 
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: BOOLEAN  EXCEPTION  APPSERVER
Date: Fri, 11 Feb 2005 15:22:55 +0530
Message-ID: <OBELINLGKPEMCIEIJJNKOEAOCCAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <1108113685.5357.24.camel@saturn>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi

   I removed the Lucene1.4.3.jar from the webapp dir and the result
Exception raised


Feb 11, 2005 3:48:26 PM org.apache.catalina.core.ApplicationContext log
SEVERE: Error configuring application listener of class
com.controlnet.servertool.WebContextReporter
java.lang.NoClassDefFoundError: org/apache/lucene/analysis/Analyzer
        at java.lang.Class.getDeclaredConstructors0(Native Method)
        at java.lang.Class.privateGetDeclaredConstructors(Class.java:1590)
        at java.lang.Class.getConstructor0(Class.java:1762)
        at java.lang.Class.newInstance0(Class.java:276)
        at java.lang.Class.newInstance(Class.java:259)
        at
org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:
3546)
        at
org.apache.catalina.core.StandardContext.start(StandardContext.java:4031)
        at
org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:7
55)
        at
org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:739)
        at
org.apache.catalina.core.StandardHost.addChild(StandardHost.java:525)
        at
org.apache.catalina.startup.HostConfig.deployDirectory(HostConfig.java:886)
        at
org.apache.catalina.startup.HostConfig.deployDirectories(HostConfig.java:849
)
        at
org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:474)
        at
org.apache.catalina.startup.HostConfig.start(HostConfig.java:1079)
        at
org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:310)
        at
org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSuppor
t.java:119)
        at
org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1011)
        at
org.apache.catalina.core.StandardHost.start(StandardHost.java:718)
        at
org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1003)
        at
org.apache.catalina.core.StandardEngine.start(StandardEngine.java:437)
        at
org.apache.catalina.core.StandardService.start(StandardService.java:450)
        at
org.apache.catalina.core.StandardServer.start(StandardServer.java:2009)
        at org.apache.catalina.startup.Catalina.start(Catalina.java:538)

So this mean's I have Only one Copy of Lucene in the Classpath of Tomcat5

and The same Exceptions are also avaliable for Windows2000 / Linux gentoo
servers.

Please Help

Thx in advance

-----Original Message-----
From: Miles Barr [mailto:miles@runtime-collective.com]
Sent: Friday, February 11, 2005 2:51 PM
To: Lucene Users List
Subject: Re: BOOLEAN EXCEPTION APPSERVER


On Fri, 2005-02-11 at 12:20 +0530, Karthik N S wrote:
> I am getting this error on  ' Every FIRST SEARCH  after  Startup of
> the WEBSERVER '
>
> and I have declared the following code only once in the  method of
> execution
>
>
> <%@ page import="org.apache.lucene.search.BooleanQuery"%>
> BooleanQuery.setMaxClauseCount(Integer.MAX_VALUE);
>
> The Exception  is as follows
>
> Feb 11, 2005 12:16:42 PM org.apache.catalina.core.StandardWrapperValve
> invoke
> SEVERE: Servlet.service() for servlet jsp threw exception
> java.lang.LinkageError: duplicate class definition:
> org/apache/lucene/search/BooleanQuery
> at java.lang.ClassLoader.defineClass0(Native Method)
> at java.lang.ClassLoader.defineClass(ClassLoader.java:502)
> at
> java.security.SecureClassLoader.defineClass(SecureClassLoader.java:123)
> at
>
org.apache.catalina.loader.WebappClassLoader.findClassInternal(WebappClassLo
ader.java:1626)
> at
>
org.apache.catalina.loader.WebappClassLoader.findClass(WebappClassLoader.jav
a:850)
> at
>
org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.jav
a:1299)
> at
>
org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.jav
a:1181)
> at
> org.apache.jasper.servlet.JasperLoader.loadClass(JasperLoader.java:148)
> at
> org.apache.jasper.servlet.JasperLoader.loadClass(JasperLoader.java:69)

> o/S  = Gentoo Linux
> java = 1.4.1
> Ram = 256
> webserver Tomcat5.5.3

It looks like the class definition is being loaded twice. But if it's
being done by different classloaders it should be fine. You might have
two different versions on Lucene being loaded. Tomcat uses several
classloaders depending on where it finds the JAR file:

http://jakarta.apache.org/tomcat/tomcat-5.5-doc/class-loader-howto.html

Make sure you only have one copy of the Lucene JAR visible to Tomcat.



--
Miles Barr <miles@runtime-collective.com>
Runtime Collective Ltd.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13152-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 11 09:56:28 2005
Return-Path: <lucene-user-return-13152-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 84154 invoked from network); 11 Feb 2005 09:56:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Feb 2005 09:56:28 -0000
Received: (qmail 57826 invoked by uid 500); 11 Feb 2005 09:56:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 57788 invoked by uid 500); 11 Feb 2005 09:56:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 57774 invoked by uid 99); 11 Feb 2005 09:56:16 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=SUBJ_ALL_CAPS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from intranet.runtime-collective.com (HELO mail.runtime-collective.com) (212.42.171.82)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 11 Feb 2005 01:56:14 -0800
Received: from [81.168.89.246] (helo=[192.168.1.31])
	by mail.runtime-collective.com with smtp (Exim 3.35 #1 (Debian))
	id 1CzXX0-00086l-00
	for <lucene-user@jakarta.apache.org>; Fri, 11 Feb 2005 09:56:10 +0000
Subject: RE: BOOLEAN  EXCEPTION  APPSERVER
From: Miles Barr <miles@runtime-collective.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <OBELINLGKPEMCIEIJJNKOEAOCCAA.karthik@controlnet.co.in>
References: <OBELINLGKPEMCIEIJJNKOEAOCCAA.karthik@controlnet.co.in>
Content-Type: text/plain
Organization: Runtime Collective Ltd.
Date: Fri, 11 Feb 2005 09:56:08 +0000
Message-Id: <1108115768.5357.27.camel@saturn>
Mime-Version: 1.0
X-Mailer: Evolution 2.0.3 
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Fri, 2005-02-11 at 15:22 +0530, Karthik N S wrote:
>    I removed the Lucene1.4.3.jar from the webapp dir and the result
> Exception raised
> 
> 
> Feb 11, 2005 3:48:26 PM org.apache.catalina.core.ApplicationContext log
> SEVERE: Error configuring application listener of class
> com.controlnet.servertool.WebContextReporter
> java.lang.NoClassDefFoundError: org/apache/lucene/analysis/Analyzer
>
> So this mean's I have Only one Copy of Lucene in the Classpath of Tomcat5
> 
> and The same Exceptions are also avaliable for Windows2000 / Linux gentoo
> servers.

That'd odd. You haven't defined another BooleanQuery class have you? 

Also is the Lucene JAR a stock one or one you made yourself?

-- 
Miles Barr <miles@runtime-collective.com>
Runtime Collective Ltd.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13153-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 11 10:14:16 2005
Return-Path: <lucene-user-return-13153-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 94752 invoked from network); 11 Feb 2005 10:14:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Feb 2005 10:14:16 -0000
Received: (qmail 76179 invoked by uid 500); 11 Feb 2005 10:14:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 75932 invoked by uid 500); 11 Feb 2005 10:14:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 75918 invoked by uid 99); 11 Feb 2005 10:14:12 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=SUBJ_ALL_CAPS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by apache.org (qpsmtpd/0.28) with SMTP; Fri, 11 Feb 2005 02:14:12 -0800
Received: from kartik1 ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id IBQT7Q00.TQ9 for <lucene-user@jakarta.apache.org>; Fri,
          11 Feb 2005 16:01:02 +0530 
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: BOOLEAN  EXCEPTION  APPSERVER
Date: Fri, 11 Feb 2005 15:50:01 +0530
Message-ID: <OBELINLGKPEMCIEIJJNKOEAPCCAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <1108115768.5357.27.camel@saturn>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi

   I have One Jsp [Query.jsp] which constructs Query something like below

  +CLOTHS +(+"SHOES SOCKS") +(PANTS SHIRTS) -COTTON AND itemPrice:[00000010
TO 00000020]


>>That'd odd. You haven't defined another BooleanQuery class have you?

  So for the itemPrice Range I use the BooleanQuery

>>Also is the Lucene JAR a stock one or one you made yourself?

 NO i am using the Lucene 1.4.3.jar [ Downloaded from Lucene website on 07
/Dec /2004 ]

 Please Help


With regards
Karthik


-----Original Message-----
From: Miles Barr [mailto:miles@runtime-collective.com]
Sent: Friday, February 11, 2005 3:26 PM
To: Lucene Users List
Subject: RE: BOOLEAN EXCEPTION APPSERVER


On Fri, 2005-02-11 at 15:22 +0530, Karthik N S wrote:
>    I removed the Lucene1.4.3.jar from the webapp dir and the result
> Exception raised
>
>
> Feb 11, 2005 3:48:26 PM org.apache.catalina.core.ApplicationContext log
> SEVERE: Error configuring application listener of class
> com.controlnet.servertool.WebContextReporter
> java.lang.NoClassDefFoundError: org/apache/lucene/analysis/Analyzer
>
> So this mean's I have Only one Copy of Lucene in the Classpath of Tomcat5
>
> and The same Exceptions are also avaliable for Windows2000 / Linux gentoo
> servers.

That'd odd. You haven't defined another BooleanQuery class have you?

Also is the Lucene JAR a stock one or one you made yourself?

--
Miles Barr <miles@runtime-collective.com>
Runtime Collective Ltd.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13154-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 11 10:33:44 2005
Return-Path: <lucene-user-return-13154-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 6641 invoked from network); 11 Feb 2005 10:33:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Feb 2005 10:33:43 -0000
Received: (qmail 3115 invoked by uid 500); 11 Feb 2005 10:33:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 3091 invoked by uid 500); 11 Feb 2005 10:33:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3076 invoked by uid 99); 11 Feb 2005 10:33:37 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=SUBJ_ALL_CAPS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from intranet.runtime-collective.com (HELO mail.runtime-collective.com) (212.42.171.82)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 11 Feb 2005 02:33:36 -0800
Received: from [81.168.89.246] (helo=[192.168.1.31])
	by mail.runtime-collective.com with smtp (Exim 3.35 #1 (Debian))
	id 1CzY79-00025b-00
	for <lucene-user@jakarta.apache.org>; Fri, 11 Feb 2005 10:33:31 +0000
Subject: RE: BOOLEAN  EXCEPTION  APPSERVER
From: Miles Barr <miles@runtime-collective.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <OBELINLGKPEMCIEIJJNKOEAPCCAA.karthik@controlnet.co.in>
References: <OBELINLGKPEMCIEIJJNKOEAPCCAA.karthik@controlnet.co.in>
Content-Type: text/plain
Organization: Runtime Collective Ltd.
Date: Fri, 11 Feb 2005 10:33:28 +0000
Message-Id: <1108118008.5357.31.camel@saturn>
Mime-Version: 1.0
X-Mailer: Evolution 2.0.3 
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Fri, 2005-02-11 at 15:50 +0530, Karthik N S wrote:
> Hi
> 
>    I have One Jsp [Query.jsp] which constructs Query something like below
> 
>   +CLOTHS +(+"SHOES SOCKS") +(PANTS SHIRTS) -COTTON AND itemPrice:[00000010
> TO 00000020]
> 
> 
> >>That'd odd. You haven't defined another BooleanQuery class have you?
> 
>   So for the itemPrice Range I use the BooleanQuery

When I said 'defined another BooleanQuery class' I meant actually
writing another class with the name
org.apache.lucene.search.BooleanQuery. I'm guessing this isn't the case.

I'm afraid I'm out of ideas. Maybe as a last ditch attempt you could try
switching JVMs?


-- 
Miles Barr <miles@runtime-collective.com>
Runtime Collective Ltd.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13155-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 11 10:53:01 2005
Return-Path: <lucene-user-return-13155-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 15394 invoked from network); 11 Feb 2005 10:53:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Feb 2005 10:53:01 -0000
Received: (qmail 27887 invoked by uid 500); 11 Feb 2005 10:52:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 27709 invoked by uid 500); 11 Feb 2005 10:52:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27690 invoked by uid 99); 11 Feb 2005 10:52:55 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=SUBJ_ALL_CAPS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by apache.org (qpsmtpd/0.28) with SMTP; Fri, 11 Feb 2005 02:52:54 -0800
Received: from kartik1 ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id IBQUID00.FSJ for <lucene-user@jakarta.apache.org>; Fri,
          11 Feb 2005 16:29:01 +0530 
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: BOOLEAN  EXCEPTION  APPSERVER
Date: Fri, 11 Feb 2005 16:18:00 +0530
Message-ID: <OBELINLGKPEMCIEIJJNKMEBACCAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <1108118008.5357.31.camel@saturn>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi

Apologies.....

>>  When I said 'defined another BooleanQuery class' I meant actually
>>  writing another class with the name
>>  org.apache.lucene.search.BooleanQuery. I'm guessing this isn't the case.

No None of my Packages either start or named with the Lucene similar names
[I use Eclipse IDE
 and it would defnetly indicate the name conflict ,if this was the case]


will come back afte switching the jdk from 1.4.1 to 1.4.2

Any more Ideas post to the Form will be of great Help

Thx in advance



-----Original Message-----
From: Miles Barr [mailto:miles@runtime-collective.com]
Sent: Friday, February 11, 2005 4:03 PM
To: Lucene Users List
Subject: RE: BOOLEAN EXCEPTION APPSERVER


On Fri, 2005-02-11 at 15:50 +0530, Karthik N S wrote:
> Hi
>
>    I have One Jsp [Query.jsp] which constructs Query something like below
>
>   +CLOTHS +(+"SHOES SOCKS") +(PANTS SHIRTS) -COTTON AND
itemPrice:[00000010
> TO 00000020]
>
>
> >>That'd odd. You haven't defined another BooleanQuery class have you?
>
>   So for the itemPrice Range I use the BooleanQuery

When I said 'defined another BooleanQuery class' I meant actually
writing another class with the name
org.apache.lucene.search.BooleanQuery. I'm guessing this isn't the case.

I'm afraid I'm out of ideas. Maybe as a last ditch attempt you could try
switching JVMs?


--
Miles Barr <miles@runtime-collective.com>
Runtime Collective Ltd.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13156-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 11 14:47:56 2005
Return-Path: <lucene-user-return-13156-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 52982 invoked from network); 11 Feb 2005 14:47:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Feb 2005 14:47:56 -0000
Received: (qmail 17179 invoked by uid 500); 11 Feb 2005 14:47:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 17154 invoked by uid 500); 11 Feb 2005 14:47:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17141 invoked by uid 99); 11 Feb 2005 14:47:49 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 11 Feb 2005 06:47:49 -0800
Received: from p001002 ([204.225.84.27]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Fri, 11 Feb 2005 09:52:34 -0500
Message-ID: <000701c51049$51d8d8f0$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <004501c50fb4$593f55a0$7703d00a@hypermedia.com> <da7606ee7225c69cda534b6270a322f2@ehatchersolutions.com>
Subject: Re: Negative Match
Date: Fri, 11 Feb 2005 09:52:34 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 11 Feb 2005 14:52:34.0288 (UTC) FILETIME=[51EA1700:01C51049]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hey Erik;

The problem with that approach is I get document that don't have a
kcfileupload field. This makes sense because these documents don't match the
prohibited
clause, but doesn't fit with the requirements of the system.

What I like best about this approach is it doesn't require a filter. The
system I integrate with is presently designed to accept a query object. I
wasn't looking forward to having to add the possibility that queries might
require filters. I may have to still do this, but for now I would like to
try this and see how it goes.

Thanks,

Luke

----- Original Message ----- 
From: "Erik Hatcher" <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Thursday, February 10, 2005 7:23 PM
Subject: Re: Negative Match


>
> On Feb 10, 2005, at 4:06 PM, Luke Shannon wrote:
>
> > I think I found a pretty good way to do a negative match.
> >
> > In this query I am looking for all the Documents that have a
> > kcfileupload
> > field with any value except for jpg.
> >
> >         Query negativeMatch = new WildcardQuery(new
> > Term("kcfileupload",
> > "*jpg*"));
> >          BooleanQuery typeNegAll = new BooleanQuery();
> >         Query allResults = new WildcardQuery(new Term("kcfileupload",
> > "*"));
> >         IndexSearcher searcher = new IndexSearcher(fsDir);
> >         BooleanClause clause = new BooleanClause(negativeMatch, false,
> > true);
> >         typeNegAll.add(allResults, true, false);
> >         typeNegAll.add(clause);
> >         Hits hits = searcher.search(typeNegAll);
> >
> > With the little testing I have done this *seems* to work. Does anyone
> > see a
> > problem with this approach?
>
> Sure.... do you realize what WildcardQuery does under the covers?  It
> literally expands to a BooleanQuery for all terms that match the
> pattern.  There is an adjustable limit built-in of 1,024 clauses to
> BooleanQuery.  You obviously have not hit that limit ... yet!
>
> You're better off using the advice offered on this thread
> previously.... create a single dummy field with a fixed value for all
> documents.  Combine a TermQuery for that dummy value with a prohibited
> clause like y our negativeMatch above.
>
> Erik
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13157-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 11 15:15:11 2005
Return-Path: <lucene-user-return-13157-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 70546 invoked from network); 11 Feb 2005 15:15:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Feb 2005 15:15:11 -0000
Received: (qmail 70721 invoked by uid 500); 11 Feb 2005 15:15:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 70700 invoked by uid 500); 11 Feb 2005 15:15:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 49121 invoked by uid 99); 11 Feb 2005 11:05:11 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Message-ID: <004501c51029$d3355b00$7800a8c0@ronnie2xma97ti>
From: "Ronnie" <ronnie@ronnie.se>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <OBELINLGKPEMCIEIJJNKOEAOCCAA.karthik@controlnet.co.in>
Subject: Re: BOOLEAN  EXCEPTION  APPSERVER
Date: Fri, 11 Feb 2005 12:07:07 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Do a search for lucene jars, something like:
# find $TOMCAT_HOME/ -name "lucene*.jar"

Replace $TOMCAT_HOME with the correct dir to your tomcat installation.
Also check the classpath of the user running tomcat.

/Ronnie

----- Original Message ----- 
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Friday, February 11, 2005 10:52 AM
Subject: RE: BOOLEAN EXCEPTION APPSERVER


> Hi
>
>    I removed the Lucene1.4.3.jar from the webapp dir and the result
> Exception raised
>
>
> Feb 11, 2005 3:48:26 PM org.apache.catalina.core.ApplicationContext log
> SEVERE: Error configuring application listener of class
> com.controlnet.servertool.WebContextReporter
> java.lang.NoClassDefFoundError: org/apache/lucene/analysis/Analyzer
>         at java.lang.Class.getDeclaredConstructors0(Native Method)
>         at java.lang.Class.privateGetDeclaredConstructors(Class.java:1590)
>         at java.lang.Class.getConstructor0(Class.java:1762)
>         at java.lang.Class.newInstance0(Class.java:276)
>         at java.lang.Class.newInstance(Class.java:259)
>         at
>
org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:
> 3546)
>         at
> org.apache.catalina.core.StandardContext.start(StandardContext.java:4031)
>         at
>
org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:7
> 55)
>         at
> org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:739)
>         at
> org.apache.catalina.core.StandardHost.addChild(StandardHost.java:525)
>         at
>
org.apache.catalina.startup.HostConfig.deployDirectory(HostConfig.java:886)
>         at
>
org.apache.catalina.startup.HostConfig.deployDirectories(HostConfig.java:849
> )
>         at
> org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:474)
>         at
> org.apache.catalina.startup.HostConfig.start(HostConfig.java:1079)
>         at
> org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:310)
>         at
>
org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSuppor
> t.java:119)
>         at
> org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1011)
>         at
> org.apache.catalina.core.StandardHost.start(StandardHost.java:718)
>         at
> org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1003)
>         at
> org.apache.catalina.core.StandardEngine.start(StandardEngine.java:437)
>         at
> org.apache.catalina.core.StandardService.start(StandardService.java:450)
>         at
> org.apache.catalina.core.StandardServer.start(StandardServer.java:2009)
>         at org.apache.catalina.startup.Catalina.start(Catalina.java:538)
>
> So this mean's I have Only one Copy of Lucene in the Classpath of Tomcat5
>
> and The same Exceptions are also avaliable for Windows2000 / Linux gentoo
> servers.
>
> Please Help
>
> Thx in advance
>
> -----Original Message-----
> From: Miles Barr [mailto:miles@runtime-collective.com]
> Sent: Friday, February 11, 2005 2:51 PM
> To: Lucene Users List
> Subject: Re: BOOLEAN EXCEPTION APPSERVER
>
>
> On Fri, 2005-02-11 at 12:20 +0530, Karthik N S wrote:
> > I am getting this error on  ' Every FIRST SEARCH  after  Startup of
> > the WEBSERVER '
> >
> > and I have declared the following code only once in the  method of
> > execution
> >
> >
> > <%@ page import="org.apache.lucene.search.BooleanQuery"%>
> > BooleanQuery.setMaxClauseCount(Integer.MAX_VALUE);
> >
> > The Exception  is as follows
> >
> > Feb 11, 2005 12:16:42 PM org.apache.catalina.core.StandardWrapperValve
> > invoke
> > SEVERE: Servlet.service() for servlet jsp threw exception
> > java.lang.LinkageError: duplicate class definition:
> > org/apache/lucene/search/BooleanQuery
> > at java.lang.ClassLoader.defineClass0(Native Method)
> > at java.lang.ClassLoader.defineClass(ClassLoader.java:502)
> > at
> > java.security.SecureClassLoader.defineClass(SecureClassLoader.java:123)
> > at
> >
>
org.apache.catalina.loader.WebappClassLoader.findClassInternal(WebappClassLo
> ader.java:1626)
> > at
> >
>
org.apache.catalina.loader.WebappClassLoader.findClass(WebappClassLoader.jav
> a:850)
> > at
> >
>
org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.jav
> a:1299)
> > at
> >
>
org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.jav
> a:1181)
> > at
> > org.apache.jasper.servlet.JasperLoader.loadClass(JasperLoader.java:148)
> > at
> > org.apache.jasper.servlet.JasperLoader.loadClass(JasperLoader.java:69)
>
> > o/S  = Gentoo Linux
> > java = 1.4.1
> > Ram = 256
> > webserver Tomcat5.5.3
>
> It looks like the class definition is being loaded twice. But if it's
> being done by different classloaders it should be fine. You might have
> two different versions on Lucene being loaded. Tomcat uses several
> classloaders depending on where it finds the JAR file:
>
> http://jakarta.apache.org/tomcat/tomcat-5.5-doc/class-loader-howto.html
>
> Make sure you only have one copy of the Lucene JAR visible to Tomcat.
>
>
>
> --
> Miles Barr <miles@runtime-collective.com>
> Runtime Collective Ltd.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13158-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 11 15:25:28 2005
Return-Path: <lucene-user-return-13158-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 76475 invoked from network); 11 Feb 2005 15:25:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Feb 2005 15:25:28 -0000
Received: (qmail 96846 invoked by uid 500); 11 Feb 2005 15:25:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 96825 invoked by uid 500); 11 Feb 2005 15:25:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 96812 invoked by uid 99); 11 Feb 2005 15:25:22 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 11 Feb 2005 07:25:22 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 2A50F13E28FE; Fri, 11 Feb 2005 10:25:21 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id B336213E28FD
	for <lucene-user@jakarta.apache.org>; Fri, 11 Feb 2005 10:25:10 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <000701c51049$51d8d8f0$7703d00a@hypermedia.com>
References: <004501c50fb4$593f55a0$7703d00a@hypermedia.com> <da7606ee7225c69cda534b6270a322f2@ehatchersolutions.com> <000701c51049$51d8d8f0$7703d00a@hypermedia.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <94c9854db55f13d38f18ea5d8994a152@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Negative Match
Date: Fri, 11 Feb 2005 10:25:11 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-3.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Feb 11, 2005, at 9:52 AM, Luke Shannon wrote:

> Hey Erik;
>
> The problem with that approach is I get document that don't have a
> kcfileupload field. This makes sense because these documents don't 
> match the
> prohibited
> clause, but doesn't fit with the requirements of the system.

Ok, so instead of using the dummy field with a single dummy value, use 
a dummy field to list the field names.  
Field.Keyword("fields","kcfileupload"), but only for the documents that 
should have it, of course.  Then use a query like (using QueryParser 
syntax, but do it with the API as you have since QueryParser doesn't 
support leading wildcards):

	+fields:kcfileupload -kcfileupload:*jpg*

Again, your approach is risky with term expansion.  Get more than 1,024 
unique kcfileupload values and you'll see!

	Erik


>
> What I like best about this approach is it doesn't require a filter. 
> The
> system I integrate with is presently designed to accept a query 
> object. I
> wasn't looking forward to having to add the possibility that queries 
> might
> require filters. I may have to still do this, but for now I would like 
> to
> try this and see how it goes.
>
> Thanks,
>
> Luke
>
> ----- Original Message -----
> From: "Erik Hatcher" <erik@ehatchersolutions.com>
> To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> Sent: Thursday, February 10, 2005 7:23 PM
> Subject: Re: Negative Match
>
>
>>
>> On Feb 10, 2005, at 4:06 PM, Luke Shannon wrote:
>>
>>> I think I found a pretty good way to do a negative match.
>>>
>>> In this query I am looking for all the Documents that have a
>>> kcfileupload
>>> field with any value except for jpg.
>>>
>>>         Query negativeMatch = new WildcardQuery(new
>>> Term("kcfileupload",
>>> "*jpg*"));
>>>          BooleanQuery typeNegAll = new BooleanQuery();
>>>         Query allResults = new WildcardQuery(new Term("kcfileupload",
>>> "*"));
>>>         IndexSearcher searcher = new IndexSearcher(fsDir);
>>>         BooleanClause clause = new BooleanClause(negativeMatch, 
>>> false,
>>> true);
>>>         typeNegAll.add(allResults, true, false);
>>>         typeNegAll.add(clause);
>>>         Hits hits = searcher.search(typeNegAll);
>>>
>>> With the little testing I have done this *seems* to work. Does anyone
>>> see a
>>> problem with this approach?
>>
>> Sure.... do you realize what WildcardQuery does under the covers?  It
>> literally expands to a BooleanQuery for all terms that match the
>> pattern.  There is an adjustable limit built-in of 1,024 clauses to
>> BooleanQuery.  You obviously have not hit that limit ... yet!
>>
>> You're better off using the advice offered on this thread
>> previously.... create a single dummy field with a fixed value for all
>> documents.  Combine a TermQuery for that dummy value with a prohibited
>> clause like y our negativeMatch above.
>>
>> Erik
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13159-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 11 15:28:26 2005
Return-Path: <lucene-user-return-13159-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 77949 invoked from network); 11 Feb 2005 15:28:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Feb 2005 15:28:25 -0000
Received: (qmail 1559 invoked by uid 500); 11 Feb 2005 15:28:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 1536 invoked by uid 500); 11 Feb 2005 15:28:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1523 invoked by uid 99); 11 Feb 2005 15:28:21 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from p15112568.pureserver.info (HELO p15112568.pureserver.info) (217.160.91.29)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 11 Feb 2005 07:28:20 -0800
Received: from [192.168.10.103] (ppp-82-135-64-158.mnet-online.de [82.135.64.158])
	(using TLSv1 with cipher RC4-MD5 (128/128 bits))
	(No client certificate requested)
	by p15112568.pureserver.info (Postfix) with ESMTP id B695A14010F
	for <lucene-user@jakarta.apache.org>; Fri, 11 Feb 2005 16:28:16 +0100 (CET)
Message-ID: <420CCF0A.6000403@intrafind.de>
Date: Fri, 11 Feb 2005 16:28:10 +0100
From: Bernhard Messer <bernhard.messer@intrafind.de>
Organization: IntraFind Software AG
User-Agent: Mozilla Thunderbird 0.8 (X11/20040913)
X-Accept-Language: de-DE, de, en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Access Lucene from PHP or Perl
References: <20050211040220.69159.qmail@web50702.mail.yahoo.com>
In-Reply-To: <20050211040220.69159.qmail@web50702.mail.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

why not using something like XML/RPC ?

Bernhard

>Greetings.
>
>Can anyone point me to a how-to tutorial on how to
>access Lucene from a web page generated by PHP pr
>Perl? I've been looking but couldn't find anything.
>Thanks a lot.
>
>And
>
>__________________________________________________
>Do You Yahoo!?
>Tired of spam?  Yahoo! Mail has the best spam protection around 
>http://mail.yahoo.com 
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>  
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13160-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 11 15:33:56 2005
Return-Path: <lucene-user-return-13160-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 81723 invoked from network); 11 Feb 2005 15:33:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Feb 2005 15:33:54 -0000
Received: (qmail 22513 invoked by uid 500); 11 Feb 2005 15:33:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 22458 invoked by uid 500); 11 Feb 2005 15:33:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22388 invoked by uid 99); 11 Feb 2005 15:33:42 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 11 Feb 2005 07:33:40 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 56FC413E28FE; Fri, 11 Feb 2005 10:33:39 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id DD8D813E28FD
	for <lucene-user@jakarta.apache.org>; Fri, 11 Feb 2005 10:33:37 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <20050211044920.456EF13E28FD@ehatchersolutions.com>
References: <20050211044920.456EF13E28FD@ehatchersolutions.com>
Content-Type: text/plain; charset=WINDOWS-1252; format=flowed
Message-Id: <2218ac44ec3dcd53b5ea786fc5d9bc82@ehatchersolutions.com>
Content-Transfer-Encoding: quoted-printable
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Multiple Fields with same name
Date: Fri, 11 Feb 2005 10:33:38 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-3.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Feb 10, 2005, at 11:48 PM, Ramon Aseniero wrote:
> If I store multiple fields with same name for example =93Author=94 =
with 3=20
> values
> =93bob,=94jane=94,=94bill=94 once I retrieve the doc are the values in =
the same=20
> order?

Did you try it?  :)

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13161-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 11 18:36:40 2005
Return-Path: <lucene-user-return-13161-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 73785 invoked from network); 11 Feb 2005 18:36:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Feb 2005 18:36:40 -0000
Received: (qmail 61675 invoked by uid 500); 11 Feb 2005 18:36:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 61429 invoked by uid 500); 11 Feb 2005 18:36:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 61411 invoked by uid 99); 11 Feb 2005 18:36:35 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 11 Feb 2005 10:36:33 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 184BB13E28FF; Fri, 11 Feb 2005 13:36:30 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 57EB013E28FE
	for <lucene-user@jakarta.apache.org>; Fri, 11 Feb 2005 13:36:10 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <20050210220056.48213.qmail@web90103.mail.scd.yahoo.com>
References: <20050210220056.48213.qmail@web90103.mail.scd.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <7e009ae173a4a70af3cfc3cd83f7f9b4@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Newbie questions
Date: Fri, 11 Feb 2005 13:36:07 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-3.5 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Feb 10, 2005, at 5:00 PM, Paul Jans wrote:
> A couple of newbie questions. I've searched the
> archives and read the Javadoc but I'm still having
> trouble figuring these out.

Don't forget to get your copy of "Lucene in Action" too :)

> 1. What's the best way to index and handle queries
> like the following:
>
> Find me all users with (a CS degree and a GPA > 3.0)
> or (a Math degree and a GPA > 3.5).

Some suggestions:  index degree as a Keyword field.  Pad GPA, so that 
all of them are the form #.# (or #.## maybe).  Numerics need to be 
lexicographically ordered, and thus padded.

With the right analyzer (see the AnalysisParalysis page on the wiki) 
you could use this type of query with QueryParser:'

	degree:cs AND gpa:[3.0 TO 9.9]

> 2. What are the best practices for using Lucene in a
> clustered J2EE environment? A standalone index/search
> server or storing the index in the database or
> something else ?

There is a LuceneRAR project that is still in its infancy here: 
https://lucenerar.dev.java.net/

You can also store a Lucene index in Berkeley DB (look at the 
/contrib/db area of the source code repository)

However, most projects do fine with "cruder" techniques such as sharing 
the Lucene index on a common drive and ensuring that locking is 
configured to use the common drive also.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13162-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 11 18:53:35 2005
Return-Path: <lucene-user-return-13162-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 80925 invoked from network); 11 Feb 2005 18:53:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Feb 2005 18:53:35 -0000
Received: (qmail 92606 invoked by uid 500); 11 Feb 2005 18:53:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 92585 invoked by uid 500); 11 Feb 2005 18:53:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 92572 invoked by uid 99); 11 Feb 2005 18:53:30 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 11 Feb 2005 10:53:29 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 7758B13E28FF; Fri, 11 Feb 2005 13:53:27 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id B363E13E28FE
	for <lucene-user@jakarta.apache.org>; Fri, 11 Feb 2005 13:53:18 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <7e009ae173a4a70af3cfc3cd83f7f9b4@ehatchersolutions.com>
References: <20050210220056.48213.qmail@web90103.mail.scd.yahoo.com> <7e009ae173a4a70af3cfc3cd83f7f9b4@ehatchersolutions.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <38941eeae9e25dcb29d632d632be7d65@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Newbie questions
Date: Fri, 11 Feb 2005 13:53:13 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-3.5 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Feb 11, 2005, at 1:36 PM, Erik Hatcher wrote:
>> Find me all users with (a CS degree and a GPA > 3.0)
>> or (a Math degree and a GPA > 3.5).
>
> Some suggestions:  index degree as a Keyword field.  Pad GPA, so that 
> all of them are the form #.# (or #.## maybe).  Numerics need to be 
> lexicographically ordered, and thus padded.
>
> With the right analyzer (see the AnalysisParalysis page on the wiki) 
> you could use this type of query with QueryParser:'
>
> 	degree:cs AND gpa:[3.0 TO 9.9]

oops, to be completely technically correct, use curly brackets to get > 
rather than >=

	degree:cs AND gpa:{3.0 TO 9.9}

(I'll assume GPA's only go to 4.0 or 5.0 :)

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13163-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 11 19:52:15 2005
Return-Path: <lucene-user-return-13163-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 52613 invoked from network); 11 Feb 2005 19:52:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Feb 2005 19:52:15 -0000
Received: (qmail 19714 invoked by uid 500); 11 Feb 2005 19:52:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 19692 invoked by uid 500); 11 Feb 2005 19:52:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19677 invoked by uid 99); 11 Feb 2005 19:52:10 -0000
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web90110.mail.scd.yahoo.com (HELO web90110.mail.scd.yahoo.com) (66.218.94.81)
  by apache.org (qpsmtpd/0.28) with SMTP; Fri, 11 Feb 2005 11:52:08 -0800
Received: (qmail 49514 invoked by uid 60001); 11 Feb 2005 19:52:06 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=3pGZfJbieZAy7+vqtzTmTwk8aKBhMpZKbWq4QIRbgbHoGyF9qrZfS2ma/m8HZPMP87RD0wdkwDNPtj2UFajYotUchZ8beaFzNS7rMVWGKqHGezuaANZVGAKK0JUNw+k1lHXHrkaVnX5fTaB1RKOLYME43Q9uc8fBsPjfjoTS3tM=  ;
Message-ID: <20050211195206.49512.qmail@web90110.mail.scd.yahoo.com>
Received: from [12.40.203.130] by web90110.mail.scd.yahoo.com via HTTP; Fri, 11 Feb 2005 11:52:06 PST
Date: Fri, 11 Feb 2005 11:52:06 -0800 (PST)
From: Paul Jans <paulfjans@yahoo.com>
Subject: Re: Newbie questions
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <7e009ae173a4a70af3cfc3cd83f7f9b4@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I've already ordered Lucene in Action :)

> There is a LuceneRAR project that is still in its
> infancy here: 
> https://lucenerar.dev.java.net/

I will keep an eye on that for sure.

> You can also store a Lucene index in Berkeley DB
> (look at the 
> /contrib/db area of the source code repository)

We're already using Oracle, so would it be possible to
store the index there, thus giving each cluster node
easy access to it. I read about SqlDirectory in the
archives but it looks like it didn't make it to the
API and I don't see it on the contrib page.

I'm more concerned about making the index accessible
rather than transactional consistency, so NFS may be
another option like you mention. I'm curious to hear
about other systems which are clustered and how others
are doing this; lessons learnt and best practices etc.

Thanks again for the help. Lucene looks like a first
class tool.

PJ

--- Erik Hatcher <erik@ehatchersolutions.com> wrote:

> 
> On Feb 10, 2005, at 5:00 PM, Paul Jans wrote:
> > A couple of newbie questions. I've searched the
> > archives and read the Javadoc but I'm still having
> > trouble figuring these out.
> 
> Don't forget to get your copy of "Lucene in Action"
> too :)
> 
> > 1. What's the best way to index and handle queries
> > like the following:
> >
> > Find me all users with (a CS degree and a GPA >
> 3.0)
> > or (a Math degree and a GPA > 3.5).
> 
> Some suggestions:  index degree as a Keyword field. 
> Pad GPA, so that 
> all of them are the form #.# (or #.## maybe). 
> Numerics need to be 
> lexicographically ordered, and thus padded.
> 
> With the right analyzer (see the AnalysisParalysis
> page on the wiki) 
> you could use this type of query with QueryParser:'
> 
> 	degree:cs AND gpa:[3.0 TO 9.9]
> 
> > 2. What are the best practices for using Lucene in
> a
> > clustered J2EE environment? A standalone
> index/search
> > server or storing the index in the database or
> > something else ?
> 
> There is a LuceneRAR project that is still in its
> infancy here: 
> https://lucenerar.dev.java.net/
> 
> You can also store a Lucene index in Berkeley DB
> (look at the 
> /contrib/db area of the source code repository)
> 
> However, most projects do fine with "cruder"
> techniques such as sharing 
> the Lucene index on a common drive and ensuring that
> locking is 
> configured to use the common drive also.
> 
> 	Erik
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 
> 



		
__________________________________ 
Do you Yahoo!? 
Yahoo! Mail - Helps protect you from nasty viruses. 
http://promotions.yahoo.com/new_mail

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13164-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 11 20:52:11 2005
Return-Path: <lucene-user-return-13164-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 99111 invoked from network); 11 Feb 2005 20:52:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Feb 2005 20:52:11 -0000
Received: (qmail 44550 invoked by uid 500); 11 Feb 2005 20:51:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 44489 invoked by uid 500); 11 Feb 2005 20:51:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 44424 invoked by uid 99); 11 Feb 2005 20:51:53 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from taurus.lunarpages.com (HELO taurus.lunarpages.com) (64.235.234.121)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 11 Feb 2005 12:51:52 -0800
Received: from adsl-68-121-27-153.dsl.irvnca.pacbell.net ([68.121.27.153] helo=ramonlaptop)
	by taurus.lunarpages.com with esmtpa (Exim 4.43)
	id 1CzhlW-0004db-Ua
	for lucene-user@jakarta.apache.org; Fri, 11 Feb 2005 12:51:51 -0800
From: "Ramon Aseniero" <ramon.aseniero@tryarc.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Multiple Fields with same name
Date: Fri, 11 Feb 2005 12:51:32 -0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="windows-1250"
Content-Transfer-Encoding: quoted-printable
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Thread-Index: AcUQTxT1Z1iUGw2TRKa4bIEmMs5cxAALD4cQ
In-Reply-To: <2218ac44ec3dcd53b5ea786fc5d9bc82@ehatchersolutions.com>
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - taurus.lunarpages.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - tryarc.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I have not tried it -- Are there examples on the Lucene book? (I just =
bought
the book and cant find that=92s related to my problem)

Thanks,
Ramon

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]=20
Sent: Friday, February 11, 2005 7:34 AM
To: Lucene Users List
Subject: Re: Multiple Fields with same name


On Feb 10, 2005, at 11:48 PM, Ramon Aseniero wrote:
> If I store multiple fields with same name for example =93Author=94 =
with 3=20
> values
> =93bob,=94jane=94,=94bill=94 once I retrieve the doc are the values in =
the same=20
> order?

Did you try it?  :)

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



--=20
No virus found in this incoming message.
Checked by AVG Anti-Virus.
Version: 7.0.300 / Virus Database: 265.8.7 - Release Date: 2/10/2005
=20

--=20
No virus found in this outgoing message.
Checked by AVG Anti-Virus.
Version: 7.0.300 / Virus Database: 265.8.7 - Release Date: 2/10/2005
=20


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13165-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 11 21:09:12 2005
Return-Path: <lucene-user-return-13165-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 7031 invoked from network); 11 Feb 2005 21:09:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Feb 2005 21:09:12 -0000
Received: (qmail 76825 invoked by uid 500); 11 Feb 2005 21:09:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 76802 invoked by uid 500); 11 Feb 2005 21:09:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 76787 invoked by uid 99); 11 Feb 2005 21:09:06 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=HTML_MESSAGE,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of mrose@freshdirect.com designates 64.74.77.14 as permitted sender)
Received: from unknown.freshdirect.com (HELO ns2.nyc1.freshdirect.com) (64.74.77.14)
  by apache.org (qpsmtpd/0.28) with SMTP; Fri, 11 Feb 2005 13:09:04 -0800
Received: (qmail 22301 invoked from network); 11 Feb 2005 21:09:00 -0000
Received: from mail4.lic.corp.freshdirect.com (172.16.40.76)
  by ns2.nyc1.freshdirect.com with SMTP; 11 Feb 2005 21:09:00 -0000
Content-Class: urn:content-classes:message
Subject: behavioral differences between Field.Keyword and Field.UnStored
MIME-Version: 1.0
Date: Fri, 11 Feb 2005 16:09:00 -0500
Content-Type: multipart/signed;
	boundary="----=_NextPart_000_0059_01C51053.FDD6CD10";
	micalg=SHA1;
	protocol="application/x-pkcs7-signature"
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
Message-ID: <FB566CA0D9C5DF4186FF9A313C712DEC01138FC4@mail4.lic.corp.freshdirect.com>
X-MS-Has-Attach: yes
X-MS-TNEF-Correlator: 
Thread-Topic: behavioral differences between Field.Keyword and Field.UnStored
Thread-Index: AcUQfeajP7QiQ7BWTTaRHy2r68Z3ug==
From: "Mike Rose" <mrose@freshdirect.com>
To: <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0059_01C51053.FDD6CD10
Content-Type: multipart/alternative;
	boundary="----=_NextPart_001_005A_01C51053.FDD6CD10"


------=_NextPart_001_005A_01C51053.FDD6CD10
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

Perhaps someone can explain something that seems to be a little weird to
me.  I seem to be unable to search on fields of type Keyword.  The
following snippet returns no hits..

 

        IndexWriter index = new IndexWriter(indexPath, new
StandardAnalyzer(), true);

        

        Document doc = null;

        

        doc = new Document();

        doc.add(Field.Text("artist", "Butthole Surfers"));

        doc.add(Field.Keyword("genre",  "Punk"));

        doc.add(Field.Text("album",  "Rembrandt Pussyhorse"));

        index.addDocument(doc);

        

        doc = new Document();

        doc.add(Field.Text("artist", "Ornette Coleman"));

        doc.add(Field.Keyword("genre",  "Jazz"));

        doc.add(Field.Text("album",  "Tomorrow is the Question"));

        index.addDocument(doc);

        

        index.optimize();

        index.close();

        

        Searcher searcher = new IndexSearcher(indexPath);

        

        String expression = "genre:punk";

        Query query = QueryParser.parse(expression, "artist", new
StandardAnalyzer());

 

        Hits hits = searcher.search(query);

        for (int i = 0; i < hits.length(); i++) {

            System.out.println(hits.doc(i));

        }

        

        searcher.close();

 

 

However, if I change the "genre" field to be defined as Field.Text or
Field.UnStored, I get the result I expect.  Can anyone offer any
insight?

 

Mike

 

 

 

 

 


------=_NextPart_001_005A_01C51053.FDD6CD10
Content-Type: text/html;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

<html>

<head>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Dus-ascii">


<meta name=3DGenerator content=3D"Microsoft Word 10 (filtered)">

<style>
<!--
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman";}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;}
span.EmailStyle17
	{font-family:Arial;
	color:windowtext;}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;}
div.Section1
	{page:Section1;}
-->
</style>

</head>

<body lang=3DEN-US link=3Dblue vlink=3Dpurple>

<div class=3DSection1>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'>Perhaps someone can explain something that seems to be a little =
weird
to me.&nbsp; I seem to be unable to search on fields of type =
Keyword.&nbsp; The following
snippet returns no hits&#8230;.</span></font></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'>&nbsp;</span></font></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IndexWriter index =3D =
new IndexWriter(indexPath, new StandardAnalyzer(),
true);</span></font></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></font></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Document doc =3D =
null;</span></font></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></font></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; doc =3D new =
Document();</span></font></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
doc.add(Field.Text(&quot;artist&quot;, &quot;Butthole
Surfers&quot;));</span></font></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
doc.add(Field.Keyword(&quot;genre&quot;,&nbsp; =
&quot;Punk&quot;));</span></font></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
doc.add(Field.Text(&quot;album&quot;,&nbsp; =
&quot;</span></font>Rembrandt
 Pussyhorse&quot;));</p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
index.addDocument(doc);</span></font></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></font></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; doc =3D new =
Document();</span></font></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
doc.add(Field.Text(&quot;artist&quot;, &quot;</span></font>Ornette
 Coleman&quot;));</p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
doc.add(Field.Keyword(&quot;genre&quot;,&nbsp; =
&quot;Jazz&quot;));</span></font></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
doc.add(Field.Text(&quot;album&quot;,&nbsp; &quot;Tomorrow is the
Question&quot;));</span></font></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
index.addDocument(doc);</span></font></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></font></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
index.optimize();</span></font></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
index.close();</span></font></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></font></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Searcher searcher =3D =
new IndexSearcher(indexPath);</span></font></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></font></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String expression =3D =
&quot;genre:punk&quot;;</span></font></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Query query =3D =
QueryParser.parse(expression, &quot;artist&quot;,
new StandardAnalyzer());</span></font></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'>&nbsp;</span></font></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Hits hits =3D =
searcher.search(query);</span></font></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for (int i =3D 0; i =
&lt; hits.length(); i++) {</span></font></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
; System.out.println(hits.doc(i));</span></font></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></font></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></font></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
searcher.close();</span></font></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'>&nbsp;</span></font></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'>&nbsp;</span></font></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'>However, if I change the &#8220;genre&#8221; field to be defined =
as Field.Text
or Field.UnStored, I get the result I expect.&nbsp; Can anyone offer any =
insight?</span></font></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'>&nbsp;</span></font></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
 12.0pt'>Mike</span></font></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'>&nbsp;</span></font></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'>&nbsp;</span></font></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'>&nbsp;</span></font></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'>&nbsp;</span></font></p>

<p class=3DMsoNormal><font size=3D3 face=3D"Times New Roman"><span =
style=3D'font-size:
12.0pt'>&nbsp;</span></font></p>

</div>

</body>

</html>

------=_NextPart_001_005A_01C51053.FDD6CD10--

------=_NextPart_000_0059_01C51053.FDD6CD10
Content-Type: application/x-pkcs7-signature;
	name="smime.p7s"
Content-Transfer-Encoding: base64
Content-Disposition: attachment;
	filename="smime.p7s"

MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIIyzCCAlMw
ggG8oAMCAQICAw3BHjANBgkqhkiG9w0BAQQFADBiMQswCQYDVQQGEwJaQTElMCMGA1UEChMcVGhh
d3RlIENvbnN1bHRpbmcgKFB0eSkgTHRkLjEsMCoGA1UEAxMjVGhhd3RlIFBlcnNvbmFsIEZyZWVt
YWlsIElzc3VpbmcgQ0EwHhcNMDUwMTA2MjA1NjIyWhcNMDYwMTA2MjA1NjIyWjBHMR8wHQYDVQQD
ExZUaGF3dGUgRnJlZW1haWwgTWVtYmVyMSQwIgYJKoZIhvcNAQkBFhVtcm9zZUBmcmVzaGRpcmVj
dC5jb20wgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAL8MsqTmkGb2LfGo2zTGYHaeTnX8PFHY
mW+fjdtIHYiavRtSGgAWpGQON5B6TdlGQkATZf3iF1VTgKBjy1OGDRFW2DZewg+Q997FYclb4Fu9
CT8jUR6P7A4ZcmEsOpwhry8rcF2igNLfVo47p+FfKb2YDNRaImv+LrZtbrfGUFD/AgMBAAGjMjAw
MCAGA1UdEQQZMBeBFW1yb3NlQGZyZXNoZGlyZWN0LmNvbTAMBgNVHRMBAf8EAjAAMA0GCSqGSIb3
DQEBBAUAA4GBAEUgEBmr9kn9GAHhJYfWMMqU8Jy9BRuG3Swx2QObcBST4kmJxmfatyEwrLffxAh2
H28dmBMJL9ZEc15d/e6C0FWVRRqEMOUutD4+AcSJEAnv9SdWBl6hp4rkp5d6nkz8V9ffkdmMXI6+
hsLIKQyQXbzc5JqwfzM9q6Ch4409mwhUMIIDLTCCApagAwIBAgIBADANBgkqhkiG9w0BAQQFADCB
0TELMAkGA1UEBhMCWkExFTATBgNVBAgTDFdlc3Rlcm4gQ2FwZTESMBAGA1UEBxMJQ2FwZSBUb3du
MRowGAYDVQQKExFUaGF3dGUgQ29uc3VsdGluZzEoMCYGA1UECxMfQ2VydGlmaWNhdGlvbiBTZXJ2
aWNlcyBEaXZpc2lvbjEkMCIGA1UEAxMbVGhhd3RlIFBlcnNvbmFsIEZyZWVtYWlsIENBMSswKQYJ
KoZIhvcNAQkBFhxwZXJzb25hbC1mcmVlbWFpbEB0aGF3dGUuY29tMB4XDTk2MDEwMTAwMDAwMFoX
DTIwMTIzMTIzNTk1OVowgdExCzAJBgNVBAYTAlpBMRUwEwYDVQQIEwxXZXN0ZXJuIENhcGUxEjAQ
BgNVBAcTCUNhcGUgVG93bjEaMBgGA1UEChMRVGhhd3RlIENvbnN1bHRpbmcxKDAmBgNVBAsTH0Nl
cnRpZmljYXRpb24gU2VydmljZXMgRGl2aXNpb24xJDAiBgNVBAMTG1RoYXd0ZSBQZXJzb25hbCBG
cmVlbWFpbCBDQTErMCkGCSqGSIb3DQEJARYccGVyc29uYWwtZnJlZW1haWxAdGhhd3RlLmNvbTCB
nzANBgkqhkiG9w0BAQEFAAOBjQAwgYkCgYEA1GnX1LCUZFtx6UfYDFG26nKRsIRefS0Nj3sS34Ul
dSh0OkIsYyeflXtL734Zhx2G6qPduc6WZBrCFG5ErHzmj+hND3EfQDimAKOHePb5lIZererAXnbr
2RSjXW56fAylS1V/Bhkpf56aJtVquzgkCGqYx7Hao5iR/Xnb5VrEHLkCAwEAAaMTMBEwDwYDVR0T
AQH/BAUwAwEB/zANBgkqhkiG9w0BAQQFAAOBgQDH7JJ+Tvj1lqVnYiqk8E0RYNBvjWBYYawmu1I1
XAjPMPuoSpaKH2JCI4wXD/S6ZJwXrEcp352YXtJsYHFcoqzceePnbgBHH7UNKOgCneSa/RP0ptl8
sfjcXyMmCZGAc9AUG95DqYMl8uacLxXK/qarigd1iwzdUYRr5PjRzneigTCCAz8wggKooAMCAQIC
AQ0wDQYJKoZIhvcNAQEFBQAwgdExCzAJBgNVBAYTAlpBMRUwEwYDVQQIEwxXZXN0ZXJuIENhcGUx
EjAQBgNVBAcTCUNhcGUgVG93bjEaMBgGA1UEChMRVGhhd3RlIENvbnN1bHRpbmcxKDAmBgNVBAsT
H0NlcnRpZmljYXRpb24gU2VydmljZXMgRGl2aXNpb24xJDAiBgNVBAMTG1RoYXd0ZSBQZXJzb25h
bCBGcmVlbWFpbCBDQTErMCkGCSqGSIb3DQEJARYccGVyc29uYWwtZnJlZW1haWxAdGhhd3RlLmNv
bTAeFw0wMzA3MTcwMDAwMDBaFw0xMzA3MTYyMzU5NTlaMGIxCzAJBgNVBAYTAlpBMSUwIwYDVQQK
ExxUaGF3dGUgQ29uc3VsdGluZyAoUHR5KSBMdGQuMSwwKgYDVQQDEyNUaGF3dGUgUGVyc29uYWwg
RnJlZW1haWwgSXNzdWluZyBDQTCBnzANBgkqhkiG9w0BAQEFAAOBjQAwgYkCgYEAxKY8VXNV+065
yplaHmjAdQRwnd/p/6Me7L3N9VvyGna9fww6YfK/Uc4B1OVQCjDXAmNaLIkVcI7dyfArhVqqP3FW
y688Cwfn8R+RNiQqE88r1fOCdz0Dviv+uxg+B79AgAJk16emu59l0cUqVIUPSAR/p7bRPGEEQB5k
GXJgt/sCAwEAAaOBlDCBkTASBgNVHRMBAf8ECDAGAQH/AgEAMEMGA1UdHwQ8MDowOKA2oDSGMmh0
dHA6Ly9jcmwudGhhd3RlLmNvbS9UaGF3dGVQZXJzb25hbEZyZWVtYWlsQ0EuY3JsMAsGA1UdDwQE
AwIBBjApBgNVHREEIjAgpB4wHDEaMBgGA1UEAxMRUHJpdmF0ZUxhYmVsMi0xMzgwDQYJKoZIhvcN
AQEFBQADgYEASIzRUIPqCy7MDaNmrGcPf6+svsIXoUOWlJ1/TCG4+DYfqi2fNi/A9BxQIJNwPP2t
4WFiw9k6GX6EsZkbAMUaC4J0niVQlGLH2ydxVyWN3amcOY6MIE9lX5Xa9/eH1sYITq726jTlEBpb
NU1341YheILcIRk13iSx0x1G/11fZU8xggLPMIICywIBATBpMGIxCzAJBgNVBAYTAlpBMSUwIwYD
VQQKExxUaGF3dGUgQ29uc3VsdGluZyAoUHR5KSBMdGQuMSwwKgYDVQQDEyNUaGF3dGUgUGVyc29u
YWwgRnJlZW1haWwgSXNzdWluZyBDQQIDDcEeMAkGBSsOAwIaBQCgggG8MBgGCSqGSIb3DQEJAzEL
BgkqhkiG9w0BBwEwHAYJKoZIhvcNAQkFMQ8XDTA1MDIxMTIxMDg1N1owIwYJKoZIhvcNAQkEMRYE
FCWD9WseXVC63jQXDiZcVUTSZ2hFMGcGCSqGSIb3DQEJDzFaMFgwCgYIKoZIhvcNAwcwBwYFKw4D
AhowDgYIKoZIhvcNAwICAgCAMA0GCCqGSIb3DQMCAgFAMAcGBSsOAwIHMA0GCCqGSIb3DQMCAgEo
MAoGCCqGSIb3DQIFMHgGCSsGAQQBgjcQBDFrMGkwYjELMAkGA1UEBhMCWkExJTAjBgNVBAoTHFRo
YXd0ZSBDb25zdWx0aW5nIChQdHkpIEx0ZC4xLDAqBgNVBAMTI1RoYXd0ZSBQZXJzb25hbCBGcmVl
bWFpbCBJc3N1aW5nIENBAgMNwR4wegYLKoZIhvcNAQkQAgsxa6BpMGIxCzAJBgNVBAYTAlpBMSUw
IwYDVQQKExxUaGF3dGUgQ29uc3VsdGluZyAoUHR5KSBMdGQuMSwwKgYDVQQDEyNUaGF3dGUgUGVy
c29uYWwgRnJlZW1haWwgSXNzdWluZyBDQQIDDcEeMA0GCSqGSIb3DQEBAQUABIGANQls+2hJHP/c
/xYc0T2lKsdtQ+g5d2ZaulNjHV2dJmAWvCo3hrbqYu0TUZiGueW2kyUf/bJGr8Vyi2k4wkkcWKe8
3YbXx2IEFZ8sL+zFF4pfaPijxxisz8cGqeRi+zTz4vtMryIf3ItD/aW58ZV779UUyfrGcoiair0u
DiOD4SYAAAAAAAA=

------=_NextPart_000_0059_01C51053.FDD6CD10--

From lucene-user-return-13166-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 11 21:15:25 2005
Return-Path: <lucene-user-return-13166-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 9335 invoked from network); 11 Feb 2005 21:15:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Feb 2005 21:15:25 -0000
Received: (qmail 89460 invoked by uid 500); 11 Feb 2005 21:15:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 89435 invoked by uid 500); 11 Feb 2005 21:15:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 89420 invoked by uid 99); 11 Feb 2005 21:15:20 -0000
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web31103.mail.mud.yahoo.com (HELO web31103.mail.mud.yahoo.com) (68.142.200.36)
  by apache.org (qpsmtpd/0.28) with SMTP; Fri, 11 Feb 2005 13:15:18 -0800
Received: (qmail 75629 invoked by uid 60001); 11 Feb 2005 21:15:16 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=uFbIe7qJWeE2LubJjuIDuKMda6ZnCEAMOVh2s9I/teFZE0i5KOPw7OKdSrlmFKjdtg1mlPOdz9PZVaeEyegiEkMdF/sePCEYGSP5uG4iW1uArvoFx6LPHhnyR1ulFHYhAQ49tjU9X4B7gYvuqJj50zxM94RTbUULNlukrkgMkRY=  ;
Message-ID: <20050211211516.75627.qmail@web31103.mail.mud.yahoo.com>
Received: from [216.194.17.194] by web31103.mail.mud.yahoo.com via HTTP; Fri, 11 Feb 2005 13:15:16 PST
Date: Fri, 11 Feb 2005 13:15:16 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: behavioral differences between Field.Keyword and Field.UnStored
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <FB566CA0D9C5DF4186FF9A313C712DEC01138FC4@mail4.lic.corp.freshdirect.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

The QueryParser is analyzing your Field.Keyword (genre field) fields,
because it doesn't know that genre is a Keyword field and should not be
analyzed.

Check section 4.4. here:
  http://www.lucenebook.com/search?query=queryparser+keyword

Otis
 

--- Mike Rose <mrose@freshdirect.com> wrote:

> Perhaps someone can explain something that seems to be a little weird
> to
> me.  I seem to be unable to search on fields of type Keyword.  The
> following snippet returns no hits..
> 
>  
> 
>         IndexWriter index = new IndexWriter(indexPath, new
> StandardAnalyzer(), true);
> 
>         
> 
>         Document doc = null;
> 
>         
> 
>         doc = new Document();
> 
>         doc.add(Field.Text("artist", "Butthole Surfers"));
> 
>         doc.add(Field.Keyword("genre",  "Punk"));
> 
>         doc.add(Field.Text("album",  "Rembrandt Pussyhorse"));
> 
>         index.addDocument(doc);
> 
>         
> 
>         doc = new Document();
> 
>         doc.add(Field.Text("artist", "Ornette Coleman"));
> 
>         doc.add(Field.Keyword("genre",  "Jazz"));
> 
>         doc.add(Field.Text("album",  "Tomorrow is the Question"));
> 
>         index.addDocument(doc);
> 
>         
> 
>         index.optimize();
> 
>         index.close();
> 
>         
> 
>         Searcher searcher = new IndexSearcher(indexPath);
> 
>         
> 
>         String expression = "genre:punk";
> 
>         Query query = QueryParser.parse(expression, "artist", new
> StandardAnalyzer());
> 
>  
> 
>         Hits hits = searcher.search(query);
> 
>         for (int i = 0; i < hits.length(); i++) {
> 
>             System.out.println(hits.doc(i));
> 
>         }
> 
>         
> 
>         searcher.close();
> 
>  
> 
>  
> 
> However, if I change the "genre" field to be defined as Field.Text or
> Field.UnStored, I get the result I expect.  Can anyone offer any
> insight?
> 
>  
> 
> Mike
> 
>  
> 
>  
> 
>  
> 
>  
> 
>  
> 
> 

> ATTACHMENT part 2 application/x-pkcs7-signature name=smime.p7s



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13167-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 11 21:25:03 2005
Return-Path: <lucene-user-return-13167-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 12890 invoked from network); 11 Feb 2005 21:25:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Feb 2005 21:25:03 -0000
Received: (qmail 99762 invoked by uid 500); 11 Feb 2005 21:24:59 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 99734 invoked by uid 500); 11 Feb 2005 21:24:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 99720 invoked by uid 99); 11 Feb 2005 21:24:58 -0000
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web31110.mail.mud.yahoo.com (HELO web31110.mail.mud.yahoo.com) (68.142.200.43)
  by apache.org (qpsmtpd/0.28) with SMTP; Fri, 11 Feb 2005 13:24:57 -0800
Received: (qmail 17124 invoked by uid 60001); 11 Feb 2005 21:24:55 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=50nSazLL3ou4CnA2b4KJtS5r/qhr+HcTix6bn+/UPc2QM5WGIx/lFaxFY4AHpqndHAzZUvmjAS1NVNAbKMbhE1JV6veh9YGRoLdJJhWksiP50dGOprvWJs476+9WTp/wLeG+sMnqLdf6IUvxQQYUG9E8a6Og/EtWkQB3IQkjrr0=  ;
Message-ID: <20050211212455.17122.qmail@web31110.mail.mud.yahoo.com>
Received: from [216.194.17.194] by web31110.mail.mud.yahoo.com via HTTP; Fri, 11 Feb 2005 13:24:55 PST
Date: Fri, 11 Feb 2005 13:24:55 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: RE: Multiple Fields with same name
To: Lucene Users List <lucene-user@jakarta.apache.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

It's been a while since I've used that feature, but I believe they will
always be in the same order, but I seem to recall that they will be in
the reverse order.  Whichever way they come, you can always reverse if
if the other order is better for you.  java.util.Collections class has
a number of handy methods for that.

Otis


--- Ramon Aseniero <ramon.aseniero@tryarc.com> wrote:

> I have not tried it -- Are there examples on the Lucene book? (I just
> bought
> the book and cant find thatís related to my problem)
> 
> Thanks,
> Ramon
> 
> -----Original Message-----
> From: Erik Hatcher [mailto:erik@ehatchersolutions.com] 
> Sent: Friday, February 11, 2005 7:34 AM
> To: Lucene Users List
> Subject: Re: Multiple Fields with same name
> 
> 
> On Feb 10, 2005, at 11:48 PM, Ramon Aseniero wrote:
> > If I store multiple fields with same name for example ìAuthorî with
> 3 
> > values
> > ìbob,îjaneî,îbillî once I retrieve the doc are the values in the
> same 
> > order?
> 
> Did you try it?  :)
> 
> 	Erik
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> 
> -- 
> No virus found in this incoming message.
> Checked by AVG Anti-Virus.
> Version: 7.0.300 / Virus Database: 265.8.7 - Release Date: 2/10/2005
>  
> 
> -- 
> No virus found in this outgoing message.
> Checked by AVG Anti-Virus.
> Version: 7.0.300 / Virus Database: 265.8.7 - Release Date: 2/10/2005
>  
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13168-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 11 21:39:49 2005
Return-Path: <lucene-user-return-13168-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 18266 invoked from network); 11 Feb 2005 21:39:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Feb 2005 21:39:49 -0000
Received: (qmail 17368 invoked by uid 500); 11 Feb 2005 21:39:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 17347 invoked by uid 500); 11 Feb 2005 21:39:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17334 invoked by uid 99); 11 Feb 2005 21:39:45 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 11 Feb 2005 13:39:43 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 7B24113E28FE; Fri, 11 Feb 2005 16:39:40 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 3774913E20EA
	for <lucene-user@jakarta.apache.org>; Fri, 11 Feb 2005 16:39:19 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <20050211205209.6AACB13E20EA@ehatchersolutions.com>
References: <20050211205209.6AACB13E20EA@ehatchersolutions.com>
Content-Type: text/plain; charset=WINDOWS-1252; format=flowed
Message-Id: <a0ce891481e274b605e4afade07fa0cf@ehatchersolutions.com>
Content-Transfer-Encoding: quoted-printable
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Multiple Fields with same name
Date: Fri, 11 Feb 2005 16:39:16 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-3.5 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Feb 11, 2005, at 3:51 PM, Ramon Aseniero wrote:

> I have not tried it -- Are there examples on the Lucene book? (I just=20=

> bought
> the book and cant find that=92s related to my problem)

No, this particular item is not covered in the book.  My initial=20
response was a succinct way of making a point.  A lot of times it is=20
worth investing in giving something a try with a little bit of code,=20
and doing this with Lucene is trivial.  I don't want to discourage=20
anyone from asking questions, but rather encourage us all to do a=20
little tinkering to find out things for ourselves and then ask if our=20
assumptions don't come out as expected.

In fact, I'd have to mock up an example to find out myself for sure,=20
but my hunch is that Lucene would maintain the order as it probably=20
doesn't make sense algorithmically to do anything but keep the order.

	Erik


>
> Thanks,
> Ramon
>
> -----Original Message-----
> From: Erik Hatcher [mailto:erik@ehatchersolutions.com]
> Sent: Friday, February 11, 2005 7:34 AM
> To: Lucene Users List
> Subject: Re: Multiple Fields with same name
>
>
> On Feb 10, 2005, at 11:48 PM, Ramon Aseniero wrote:
>> If I store multiple fields with same name for example =93Author=94 =
with 3
>> values
>> =93bob,=94jane=94,=94bill=94 once I retrieve the doc are the values =
in the same
>> order?
>
> Did you try it?  :)
>
> 	Erik
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
> --=20
> No virus found in this incoming message.
> Checked by AVG Anti-Virus.
> Version: 7.0.300 / Virus Database: 265.8.7 - Release Date: 2/10/2005
>
>
> --=20
> No virus found in this outgoing message.
> Checked by AVG Anti-Virus.
> Version: 7.0.300 / Virus Database: 265.8.7 - Release Date: 2/10/2005
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13169-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 11 21:47:30 2005
Return-Path: <lucene-user-return-13169-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 21181 invoked from network); 11 Feb 2005 21:47:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Feb 2005 21:47:30 -0000
Received: (qmail 25266 invoked by uid 500); 11 Feb 2005 21:47:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 25241 invoked by uid 500); 11 Feb 2005 21:47:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25228 invoked by uid 99); 11 Feb 2005 21:47:27 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from taurus.lunarpages.com (HELO taurus.lunarpages.com) (64.235.234.121)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 11 Feb 2005 13:47:25 -0800
Received: from adsl-68-121-27-153.dsl.irvnca.pacbell.net ([68.121.27.153] helo=ramonlaptop)
	by taurus.lunarpages.com with esmtpa (Exim 4.43)
	id 1CzidI-0000xO-Uy
	for lucene-user@jakarta.apache.org; Fri, 11 Feb 2005 13:47:25 -0800
From: "Ramon Aseniero" <ramon.aseniero@tryarc.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Multiple Fields with same name
Date: Fri, 11 Feb 2005 13:47:06 -0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="windows-1250"
Content-Transfer-Encoding: quoted-printable
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Thread-Index: AcUQgCRAaTENirBESzuukB9A5U+TrwAAsHoQ
In-Reply-To: <20050211212455.17122.qmail@web31110.mail.mud.yahoo.com>
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - taurus.lunarpages.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - tryarc.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

Will this feature be available in the future release of Lucene?=20

Thanks,
Ramon

-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]=20
Sent: Friday, February 11, 2005 1:25 PM
To: Lucene Users List
Subject: RE: Multiple Fields with same name

Hi,

It's been a while since I've used that feature, but I believe they will
always be in the same order, but I seem to recall that they will be in
the reverse order.  Whichever way they come, you can always reverse if
if the other order is better for you.  java.util.Collections class has
a number of handy methods for that.

Otis


--- Ramon Aseniero <ramon.aseniero@tryarc.com> wrote:

> I have not tried it -- Are there examples on the Lucene book? (I just
> bought
> the book and cant find that=12s related to my problem)
>=20
> Thanks,
> Ramon
>=20
> -----Original Message-----
> From: Erik Hatcher [mailto:erik@ehatchersolutions.com]=20
> Sent: Friday, February 11, 2005 7:34 AM
> To: Lucene Users List
> Subject: Re: Multiple Fields with same name
>=20
>=20
> On Feb 10, 2005, at 11:48 PM, Ramon Aseniero wrote:
> > If I store multiple fields with same name for example =13Author=14 =
with
> 3=20
> > values
> > =13bob,=14jane=14,=14bill=14 once I retrieve the doc are the values =
in the
> same=20
> > order?
>=20
> Did you try it?  :)
>=20
> 	Erik
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20
>=20
>=20
> --=20
> No virus found in this incoming message.
> Checked by AVG Anti-Virus.
> Version: 7.0.300 / Virus Database: 265.8.7 - Release Date: 2/10/2005
> =20
>=20
> --=20
> No virus found in this outgoing message.
> Checked by AVG Anti-Virus.
> Version: 7.0.300 / Virus Database: 265.8.7 - Release Date: 2/10/2005
> =20
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>=20
>=20


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



--=20
No virus found in this incoming message.
Checked by AVG Anti-Virus.
Version: 7.0.300 / Virus Database: 265.8.7 - Release Date: 2/10/2005
=20

--=20
No virus found in this outgoing message.
Checked by AVG Anti-Virus.
Version: 7.0.300 / Virus Database: 265.8.7 - Release Date: 2/10/2005
=20


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13170-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 11 22:03:43 2005
Return-Path: <lucene-user-return-13170-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 29138 invoked from network); 11 Feb 2005 22:03:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Feb 2005 22:03:43 -0000
Received: (qmail 51905 invoked by uid 500); 11 Feb 2005 22:03:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 51853 invoked by uid 500); 11 Feb 2005 22:03:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 51797 invoked by uid 99); 11 Feb 2005 22:03:33 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 11 Feb 2005 14:03:31 -0800
Received: from p001002 ([204.225.84.27]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Fri, 11 Feb 2005 17:08:15 -0500
Message-ID: <017201c51086$2f609cd0$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <004501c50fb4$593f55a0$7703d00a@hypermedia.com> <da7606ee7225c69cda534b6270a322f2@ehatchersolutions.com> <000701c51049$51d8d8f0$7703d00a@hypermedia.com> <94c9854db55f13d38f18ea5d8994a152@ehatchersolutions.com>
Subject: Re: Negative Match
Date: Fri, 11 Feb 2005 17:08:15 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 11 Feb 2005 22:08:15.0766 (UTC) FILETIME=[2F731360:01C51086]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks Eric. This is indeed the way to go.


----- Original Message ----- 
From: "Erik Hatcher" <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Friday, February 11, 2005 10:25 AM
Subject: Re: Negative Match


> 
> On Feb 11, 2005, at 9:52 AM, Luke Shannon wrote:
> 
> > Hey Erik;
> >
> > The problem with that approach is I get document that don't have a
> > kcfileupload field. This makes sense because these documents don't 
> > match the
> > prohibited
> > clause, but doesn't fit with the requirements of the system.
> 
> Ok, so instead of using the dummy field with a single dummy value, use 
> a dummy field to list the field names.  
> Field.Keyword("fields","kcfileupload"), but only for the documents that 
> should have it, of course.  Then use a query like (using QueryParser 
> syntax, but do it with the API as you have since QueryParser doesn't 
> support leading wildcards):
> 
> +fields:kcfileupload -kcfileupload:*jpg*
> 
> Again, your approach is risky with term expansion.  Get more than 1,024 
> unique kcfileupload values and you'll see!
> 
> Erik
> 
> 
> >
> > What I like best about this approach is it doesn't require a filter. 
> > The
> > system I integrate with is presently designed to accept a query 
> > object. I
> > wasn't looking forward to having to add the possibility that queries 
> > might
> > require filters. I may have to still do this, but for now I would like 
> > to
> > try this and see how it goes.
> >
> > Thanks,
> >
> > Luke
> >
> > ----- Original Message -----
> > From: "Erik Hatcher" <erik@ehatchersolutions.com>
> > To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> > Sent: Thursday, February 10, 2005 7:23 PM
> > Subject: Re: Negative Match
> >
> >
> >>
> >> On Feb 10, 2005, at 4:06 PM, Luke Shannon wrote:
> >>
> >>> I think I found a pretty good way to do a negative match.
> >>>
> >>> In this query I am looking for all the Documents that have a
> >>> kcfileupload
> >>> field with any value except for jpg.
> >>>
> >>>         Query negativeMatch = new WildcardQuery(new
> >>> Term("kcfileupload",
> >>> "*jpg*"));
> >>>          BooleanQuery typeNegAll = new BooleanQuery();
> >>>         Query allResults = new WildcardQuery(new Term("kcfileupload",
> >>> "*"));
> >>>         IndexSearcher searcher = new IndexSearcher(fsDir);
> >>>         BooleanClause clause = new BooleanClause(negativeMatch, 
> >>> false,
> >>> true);
> >>>         typeNegAll.add(allResults, true, false);
> >>>         typeNegAll.add(clause);
> >>>         Hits hits = searcher.search(typeNegAll);
> >>>
> >>> With the little testing I have done this *seems* to work. Does anyone
> >>> see a
> >>> problem with this approach?
> >>
> >> Sure.... do you realize what WildcardQuery does under the covers?  It
> >> literally expands to a BooleanQuery for all terms that match the
> >> pattern.  There is an adjustable limit built-in of 1,024 clauses to
> >> BooleanQuery.  You obviously have not hit that limit ... yet!
> >>
> >> You're better off using the advice offered on this thread
> >> previously.... create a single dummy field with a fixed value for all
> >> documents.  Combine a TermQuery for that dummy value with a prohibited
> >> clause like y our negativeMatch above.
> >>
> >> Erik
> >>
> >>
> >> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >>
> >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13171-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 11 22:19:29 2005
Return-Path: <lucene-user-return-13171-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 36114 invoked from network); 11 Feb 2005 22:19:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 11 Feb 2005 22:19:29 -0000
Received: (qmail 78004 invoked by uid 500); 11 Feb 2005 22:19:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 77697 invoked by uid 500); 11 Feb 2005 22:19:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 77681 invoked by uid 99); 11 Feb 2005 22:19:24 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from sparta.hostgo.com (HELO sparta.hostgo.com) (66.220.22.162)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 11 Feb 2005 14:19:23 -0800
Received: from [65.19.37.63] (helo=[10.0.1.2])
	by sparta.hostgo.com with esmtpa (Exim 4.44)
	id 1Czj8A-0003GJ-MG
	for lucene-user@jakarta.apache.org; Fri, 11 Feb 2005 17:19:18 -0500
Mime-Version: 1.0 (Apple Message framework v619)
Content-Transfer-Encoding: 7bit
Message-Id: <F7AB3AEC-7C7A-11D9-99C0-000A95973046@backspaces.net>
Content-Type: text/plain; charset=US-ASCII; format=flowed
To: lucene-user@jakarta.apache.org
From: Owen Densmore <owen@backspaces.net>
Subject: Re: Lucene Unicode Usage
Date: Fri, 11 Feb 2005 15:19:16 -0700
X-Mailer: Apple Mail (2.619)
X-MailScanner-Information: This email message has been scanned for viruses
X-MailScanner-HostGo: Found to be clean
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - sparta.hostgo.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - backspaces.net
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Bingo!  I used the InputStreamReader and that fixed the index.  Boy, 
tough to catch all the holes through which unicode leaks occur!

Owen

From: aurora <aurora00@gmail.com>
Date: February 9, 2005 11:04:35 PM MST
To: lucene-user@jakarta.apache.org
Subject: Re: Lucene Unicode Usage


So you got a utf8 encoded text file. But how do you read the file into 
Java? The default encoding of Java is likely to be something other than 
utf8. Make sure you specify the encoding like:

   InputStreamReader( new FileInputStream(filename), "UTF-8");

-- 
Using Opera's revolutionary e-mail client: http://www.opera.com/m2/

From: Andrzej Bialecki <ab@getopt.org>
Date: February 10, 2005 2:54:56 AM MST
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene Unicode Usage

Owen Densmore wrote:
> I'm building an index from a FileMaker database by dumping the data to 
> a tab-separated file.  Because the FileMaker output is encoded in 
> MacRoman, and uses Mac line separators, I run a script across the tab 
> file to clean it up:
>     tr '\r\v' '\n ' | iconv -f MAC -t UTF-8
> This basically converts the Mac \r's to \n's, replaces FileMaker's 
> vtabs (for inter-field CRs) with blanks, and runs a character 
> converter to build utf-8 data for Java to use.  Looks fine in jEdit 
> and BBEdit, both of which understand UTF.

However, it matters how you have read in the files in your Java 
application. Did you use InputStreamReader with the default platform 
encoding (probably 8859-1), or did you specify UTF-8 explicitly?

> BUT -- when I look at the indexes created in Lucene using Luke, I get 
> unprintable letters!  Writing programs to dump the terms (using Writer

By default Luke uses the standard platform-specific font "dialog". On 
Windows this font doesn't support Unicode glyphs, so you will see just 
blanks (or rectangles). In the upcoming release you will be able to 
select the display font.

-- 
Best regards,
Andrzej Bialecki
  ___. ___ ___ ___ _ _   __________________________________
[__ || __|__/|__||\/|  Information Retrieval, Semantic Web
___|||__||  \|  ||  |  Embedded Unix, System Integration
http://www.sigram.com  Contact: info at sigram dot com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13172-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Feb 12 20:08:44 2005
Return-Path: <lucene-user-return-13172-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 51125 invoked from network); 12 Feb 2005 20:08:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 12 Feb 2005 20:08:44 -0000
Received: (qmail 28831 invoked by uid 500); 12 Feb 2005 20:08:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 28804 invoked by uid 500); 12 Feb 2005 20:08:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28789 invoked by uid 99); 12 Feb 2005 20:08:40 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from sparta.hostgo.com (HELO sparta.hostgo.com) (66.220.22.162)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sat, 12 Feb 2005 12:08:37 -0800
Received: from [65.19.37.63] (helo=[10.0.1.2])
	by sparta.hostgo.com with esmtpa (Exim 4.44)
	id 1D03Z3-00022p-Qw
	for lucene-user@jakarta.apache.org; Sat, 12 Feb 2005 15:08:27 -0500
Mime-Version: 1.0 (Apple Message framework v619)
Content-Transfer-Encoding: 7bit
Message-Id: <D7F6F7F6-7D31-11D9-99C0-000A95973046@backspaces.net>
Content-Type: text/plain; charset=US-ASCII; format=flowed
To: lucene-user@jakarta.apache.org
From: Owen Densmore <owen@backspaces.net>
Subject: Multiple Keywords/Keyphrases fields
Date: Sat, 12 Feb 2005 13:08:21 -0700
X-Mailer: Apple Mail (2.619)
X-MailScanner-Information: This email message has been scanned for viruses
X-MailScanner-HostGo: Found to be clean
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - sparta.hostgo.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - backspaces.net
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I'm getting a bit more serious about the final form of our lucene 
index.  Each document has DocNumber, Authors, Title, Abstract, and 
Keywords.  By Keywords, I mean a comma separated list, each entry 
having possibly many terms in a phrase like:
	temporal infomax, finite state automata, Markov chains,
	conditional entropy, neural information processing

I presume I should be using a field "Keywords" which have many 
"entries" or "instances" per document (one per comma separated phrase). 
  But I'm not sure the right way to handle all this.  My assumption is 
that I should analyze them individually, just as we do for free text 
(the Abstract, for example), thus in the example above having 5 entries 
of the nature
	doc.add(Field.Text("Keywords", "finite state automata"));
etc, analyzing them because these are author-supplied strings with no 
canonical form.

For guidance, I looked in the archive and found the attached email, but 
I didn't see the answer.  (I'm not concerned about the dups, I presume 
that is equivalent to a boos of some sort) Does this seem right?

Thanks once again.

Owen

> From: lucene@nitwit.de <lucene@nitwit.de>
> Subject: Multiple equal Fields?
> Date: Tue, 17 Feb 2004 12:47:58 +0100
>
> Hi!
> What happens if I do this:
>
> doc.add(Field.Text("foo", "bar"));
> doc.add(Field.Text("foo", "blah"));
>
> Is there a field "foo" with value "blah" or are there two "foo"s 
> (actually not
> possible) or is there one "foo" with the values "bar" and "blah"?
>
> And what does happen in this case:
>
> doc.add(Field.Text("foo", "bar"));
> doc.add(Field.Text("foo", "bar"));
> doc.add(Field.Text("foo", "bar"));
>
> Does lucene store this only once?
>
> Timo


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13173-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Feb 12 22:09:55 2005
Return-Path: <lucene-user-return-13173-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 4872 invoked from network); 12 Feb 2005 22:09:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 12 Feb 2005 22:09:55 -0000
Received: (qmail 13169 invoked by uid 500); 12 Feb 2005 22:09:54 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 12302 invoked by uid 500); 12 Feb 2005 22:09:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12287 invoked by uid 99); 12 Feb 2005 22:09:51 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sat, 12 Feb 2005 14:09:48 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 89F7813E28F9; Sat, 12 Feb 2005 17:09:45 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 8F89613E28F8
	for <lucene-user@jakarta.apache.org>; Sat, 12 Feb 2005 17:09:16 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <D7F6F7F6-7D31-11D9-99C0-000A95973046@backspaces.net>
References: <D7F6F7F6-7D31-11D9-99C0-000A95973046@backspaces.net>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <920363b64344bfb7045e642dcdfaf415@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Multiple Keywords/Keyphrases fields
Date: Sat, 12 Feb 2005 17:09:15 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-3.5 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

The real question to answer is what types of queries you're planning on 
making.  Rather than look at it from indexing forward, consider it from 
searching backwards.

How will users query using those keyword phrases?

	Erik

On Feb 12, 2005, at 3:08 PM, Owen Densmore wrote:

> I'm getting a bit more serious about the final form of our lucene 
> index.  Each document has DocNumber, Authors, Title, Abstract, and 
> Keywords.  By Keywords, I mean a comma separated list, each entry 
> having possibly many terms in a phrase like:
> 	temporal infomax, finite state automata, Markov chains,
> 	conditional entropy, neural information processing
>
> I presume I should be using a field "Keywords" which have many 
> "entries" or "instances" per document (one per comma separated 
> phrase).  But I'm not sure the right way to handle all this.  My 
> assumption is that I should analyze them individually, just as we do 
> for free text (the Abstract, for example), thus in the example above 
> having 5 entries of the nature
> 	doc.add(Field.Text("Keywords", "finite state automata"));
> etc, analyzing them because these are author-supplied strings with no 
> canonical form.
>
> For guidance, I looked in the archive and found the attached email, 
> but I didn't see the answer.  (I'm not concerned about the dups, I 
> presume that is equivalent to a boos of some sort) Does this seem 
> right?
>
> Thanks once again.
>
> Owen
>
>> From: lucene@nitwit.de <lucene@nitwit.de>
>> Subject: Multiple equal Fields?
>> Date: Tue, 17 Feb 2004 12:47:58 +0100
>>
>> Hi!
>> What happens if I do this:
>>
>> doc.add(Field.Text("foo", "bar"));
>> doc.add(Field.Text("foo", "blah"));
>>
>> Is there a field "foo" with value "blah" or are there two "foo"s 
>> (actually not
>> possible) or is there one "foo" with the values "bar" and "blah"?
>>
>> And what does happen in this case:
>>
>> doc.add(Field.Text("foo", "bar"));
>> doc.add(Field.Text("foo", "bar"));
>> doc.add(Field.Text("foo", "bar"));
>>
>> Does lucene store this only once?
>>
>> Timo
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13174-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Feb 13 12:09:17 2005
Return-Path: <lucene-user-return-13174-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 32307 invoked from network); 13 Feb 2005 12:09:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Feb 2005 12:09:17 -0000
Received: (qmail 56646 invoked by uid 500); 13 Feb 2005 12:09:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 56583 invoked by uid 500); 13 Feb 2005 12:09:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 56443 invoked by uid 99); 13 Feb 2005 12:09:04 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web21324.mail.yahoo.com (HELO web21324.mail.yahoo.com) (216.136.175.210)
  by apache.org (qpsmtpd/0.28) with SMTP; Sun, 13 Feb 2005 04:09:04 -0800
Received: (qmail 64915 invoked by uid 60001); 13 Feb 2005 12:09:01 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=bNxKIb0dioI2NVq8nBmJtEwPXRaQyCOCxEj4y8g25BFEWb3dPQiM9b5XG+Ig6or3DTSQ2UWKVGN5PDVQKAa4h1/0k/+YgNEHFdyIbE9ISWQKXI/ckcPkkGDbn/qO2oJOxucTP9UxVEqfWAkzbdarbg2Qjg+erZRdHdZlvHnS614=  ;
Message-ID: <20050213120901.64913.qmail@web21324.mail.yahoo.com>
Received: from [81.182.59.148] by web21324.mail.yahoo.com via HTTP; Sun, 13 Feb 2005 04:09:01 PST
Date: Sun, 13 Feb 2005 04:09:01 -0800 (PST)
From: Sanyi <need4sid@yahoo.com>
Subject: DateFilter on UnStored field
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi!

Does DateFilter work on fields indexed as UnStored?
Can I filter an UnStored field with values like "2004-11-05" ?

Regards,
Sanyi


		
__________________________________ 
Do you Yahoo!? 
Yahoo! Mail - 250MB free storage. Do more. Manage less. 
http://info.mail.yahoo.com/mail_250

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13175-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Feb 13 12:13:03 2005
Return-Path: <lucene-user-return-13175-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 34107 invoked from network); 13 Feb 2005 12:13:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Feb 2005 12:13:03 -0000
Received: (qmail 61321 invoked by uid 500); 13 Feb 2005 12:12:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 61284 invoked by uid 500); 13 Feb 2005 12:12:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 61270 invoked by uid 99); 13 Feb 2005 12:12:50 -0000
X-ASF-Spam-Status: No, hits=1.1 required=10.0
	tests=RCVD_BY_IP,RCVD_IN_SBL,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of petite.abeille@gmail.com designates 64.233.184.197 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.197)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 13 Feb 2005 04:12:49 -0800
Received: by wproxy.gmail.com with SMTP id 55so2332062wri
        for <lucene-user@jakarta.apache.org>; Sun, 13 Feb 2005 04:12:47 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=S8lDCEniCYqRvZxPT+UhsBsgyLvS51zZnlJUpE2dKDCOVe0CpOj6ob+GmwBTDSOq8UuoVpk+7WCY4lvVLDWbjBf6W2RdEsGrLTq7HTv8lV5cV9sCwf7Z03R+P7jGQ11zp3nNOmSDTgf5yru/JUeioltVsj0/P6rR+2qR1AOibGo=
Received: by 10.54.4.55 with SMTP id 55mr98794wrd;
        Sun, 13 Feb 2005 04:12:46 -0800 (PST)
Received: from ?10.0.1.38? ([62.167.101.202])
        by smtp.gmail.com with ESMTP id d6sm38679wra.2005.02.13.04.12.46;
        Sun, 13 Feb 2005 04:12:46 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <20050213120901.64913.qmail@web21324.mail.yahoo.com>
References: <20050213120901.64913.qmail@web21324.mail.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <48ae946bccf2bf9cb7e61ebdb4a18d30@gmail.com>
Content-Transfer-Encoding: 7bit
From: PA <petite.abeille@gmail.com>
Subject: Re: DateFilter on UnStored field
Date: Sun, 13 Feb 2005 13:13:16 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Feb 13, 2005, at 13:09, Sanyi wrote:

> Does DateFilter work on fields indexed as UnStored?

Hmmm... never used DateFilter per se... but it should "just" work, like 
everything else :)

> Can I filter an UnStored field with values like "2004-11-05" ?

Sure.

Cheers

--
PA, Onnay Equitursay
http://alt.textdrive.com/


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13176-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Feb 13 14:47:25 2005
Return-Path: <lucene-user-return-13176-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 91514 invoked from network); 13 Feb 2005 14:47:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 13 Feb 2005 14:47:25 -0000
Received: (qmail 90197 invoked by uid 500); 13 Feb 2005 14:47:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 90168 invoked by uid 500); 13 Feb 2005 14:47:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 90154 invoked by uid 99); 13 Feb 2005 14:47:22 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 13 Feb 2005 06:47:20 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 51A8513E28F9; Sun, 13 Feb 2005 09:47:10 -0500 (EST)
Received: from [192.168.1.102] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id 1AE1213E28F9
	for <lucene-user@jakarta.apache.org>; Sun, 13 Feb 2005 09:46:52 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <20050213120901.64913.qmail@web21324.mail.yahoo.com>
References: <20050213120901.64913.qmail@web21324.mail.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <e93c6c80cc6325d324307ba09829c1fe@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: DateFilter on UnStored field
Date: Sun, 13 Feb 2005 09:46:53 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.5 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Following up on PA's reply.  Yes, DateFilter works on *indexed* values, 
so whether a field is stored or not is irrelevant.

However, DateFilter will not work on fields indexed as "2004-11-05".  
DateFilter only works on fields that were indexed using the DateField.  
One option is to use a QueryFilter instead, filtering with a 
RangeQuery.

	Erik


On Feb 13, 2005, at 7:09 AM, Sanyi wrote:

> Hi!
>
> Does DateFilter work on fields indexed as UnStored?
> Can I filter an UnStored field with values like "2004-11-05" ?
>
> Regards,
> Sanyi
>
>
> 		
> __________________________________
> Do you Yahoo!?
> Yahoo! Mail - 250MB free storage. Do more. Manage less.
> http://info.mail.yahoo.com/mail_250
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13177-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 14 06:18:15 2005
Return-Path: <lucene-user-return-13177-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 83604 invoked from network); 14 Feb 2005 06:18:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Feb 2005 06:18:15 -0000
Received: (qmail 94398 invoked by uid 500); 14 Feb 2005 06:18:03 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 94369 invoked by uid 500); 14 Feb 2005 06:18:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94354 invoked by uid 99); 14 Feb 2005 06:18:03 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=SUBJ_ALL_CAPS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO daakghar.controlnet.co.in) (203.199.26.74)
  by apache.org (qpsmtpd/0.28) with SMTP; Sun, 13 Feb 2005 22:17:59 -0800
Received: from kartik1 ([192.168.4.1]) by
          dakiya.controlnet.co.in (Netscape Messaging Server 4.15) with
          ESMTP id IBW2A200.R8Z for <lucene-user@jakarta.apache.org>; Mon,
          14 Feb 2005 12:04:50 +0530 
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: BOOLEAN  EXCEPTION  APPSERVER SOLUTION
Date: Mon, 14 Feb 2005 11:53:52 +0530
Message-ID: <OBELINLGKPEMCIEIJJNKIEBGCCAA.karthik@controlnet.co.in>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Importance: Normal
In-Reply-To: <004501c51029$d3355b00$7800a8c0@ronnie2xma97ti>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Hi Guys

Apologies........

The form was Correct,

The problem of CLASS LOADING  was or may be a bug with the Version jdk1.4.1
and TOMCAT5.5.3 on Gentoo O/s.

So I switched to jdk1.4.2 and every thing seems to be in proper Order as of
now.



Thx for the advise
With regards
karthik


-----Original Message-----
From: Ronnie [mailto:ronnie@ronnie.se]
Sent: Friday, February 11, 2005 4:37 PM
To: Lucene Users List
Subject: Re: BOOLEAN EXCEPTION APPSERVER


Do a search for lucene jars, something like:
# find $TOMCAT_HOME/ -name "lucene*.jar"

Replace $TOMCAT_HOME with the correct dir to your tomcat installation.
Also check the classpath of the user running tomcat.

/Ronnie

----- Original Message -----
From: "Karthik N S" <karthik@controlnet.co.in>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Friday, February 11, 2005 10:52 AM
Subject: RE: BOOLEAN EXCEPTION APPSERVER


> Hi
>
>    I removed the Lucene1.4.3.jar from the webapp dir and the result
> Exception raised
>
>
> Feb 11, 2005 3:48:26 PM org.apache.catalina.core.ApplicationContext log
> SEVERE: Error configuring application listener of class
> com.controlnet.servertool.WebContextReporter
> java.lang.NoClassDefFoundError: org/apache/lucene/analysis/Analyzer
>         at java.lang.Class.getDeclaredConstructors0(Native Method)
>         at java.lang.Class.privateGetDeclaredConstructors(Class.java:1590)
>         at java.lang.Class.getConstructor0(Class.java:1762)
>         at java.lang.Class.newInstance0(Class.java:276)
>         at java.lang.Class.newInstance(Class.java:259)
>         at
>
org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:
> 3546)
>         at
> org.apache.catalina.core.StandardContext.start(StandardContext.java:4031)
>         at
>
org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:7
> 55)
>         at
> org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:739)
>         at
> org.apache.catalina.core.StandardHost.addChild(StandardHost.java:525)
>         at
>
org.apache.catalina.startup.HostConfig.deployDirectory(HostConfig.java:886)
>         at
>
org.apache.catalina.startup.HostConfig.deployDirectories(HostConfig.java:849
> )
>         at
> org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:474)
>         at
> org.apache.catalina.startup.HostConfig.start(HostConfig.java:1079)
>         at
> org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:310)
>         at
>
org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSuppor
> t.java:119)
>         at
> org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1011)
>         at
> org.apache.catalina.core.StandardHost.start(StandardHost.java:718)
>         at
> org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1003)
>         at
> org.apache.catalina.core.StandardEngine.start(StandardEngine.java:437)
>         at
> org.apache.catalina.core.StandardService.start(StandardService.java:450)
>         at
> org.apache.catalina.core.StandardServer.start(StandardServer.java:2009)
>         at org.apache.catalina.startup.Catalina.start(Catalina.java:538)
>
> So this mean's I have Only one Copy of Lucene in the Classpath of Tomcat5
>
> and The same Exceptions are also avaliable for Windows2000 / Linux gentoo
> servers.
>
> Please Help
>
> Thx in advance
>
> -----Original Message-----
> From: Miles Barr [mailto:miles@runtime-collective.com]
> Sent: Friday, February 11, 2005 2:51 PM
> To: Lucene Users List
> Subject: Re: BOOLEAN EXCEPTION APPSERVER
>
>
> On Fri, 2005-02-11 at 12:20 +0530, Karthik N S wrote:
> > I am getting this error on  ' Every FIRST SEARCH  after  Startup of
> > the WEBSERVER '
> >
> > and I have declared the following code only once in the  method of
> > execution
> >
> >
> > <%@ page import="org.apache.lucene.search.BooleanQuery"%>
> > BooleanQuery.setMaxClauseCount(Integer.MAX_VALUE);
> >
> > The Exception  is as follows
> >
> > Feb 11, 2005 12:16:42 PM org.apache.catalina.core.StandardWrapperValve
> > invoke
> > SEVERE: Servlet.service() for servlet jsp threw exception
> > java.lang.LinkageError: duplicate class definition:
> > org/apache/lucene/search/BooleanQuery
> > at java.lang.ClassLoader.defineClass0(Native Method)
> > at java.lang.ClassLoader.defineClass(ClassLoader.java:502)
> > at
> > java.security.SecureClassLoader.defineClass(SecureClassLoader.java:123)
> > at
> >
>
org.apache.catalina.loader.WebappClassLoader.findClassInternal(WebappClassLo
> ader.java:1626)
> > at
> >
>
org.apache.catalina.loader.WebappClassLoader.findClass(WebappClassLoader.jav
> a:850)
> > at
> >
>
org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.jav
> a:1299)
> > at
> >
>
org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.jav
> a:1181)
> > at
> > org.apache.jasper.servlet.JasperLoader.loadClass(JasperLoader.java:148)
> > at
> > org.apache.jasper.servlet.JasperLoader.loadClass(JasperLoader.java:69)
>
> > o/S  = Gentoo Linux
> > java = 1.4.1
> > Ram = 256
> > webserver Tomcat5.5.3
>
> It looks like the class definition is being loaded twice. But if it's
> being done by different classloaders it should be fine. You might have
> two different versions on Lucene being loaded. Tomcat uses several
> classloaders depending on where it finds the JAR file:
>
> http://jakarta.apache.org/tomcat/tomcat-5.5-doc/class-loader-howto.html
>
> Make sure you only have one copy of the Lucene JAR visible to Tomcat.
>
>
>
> --
> Miles Barr <miles@runtime-collective.com>
> Runtime Collective Ltd.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13178-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 14 11:27:36 2005
Return-Path: <lucene-user-return-13178-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 6168 invoked from network); 14 Feb 2005 11:27:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Feb 2005 11:27:36 -0000
Received: (qmail 55922 invoked by uid 500); 14 Feb 2005 11:27:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 55719 invoked by uid 500); 14 Feb 2005 11:27:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55704 invoked by uid 99); 14 Feb 2005 11:27:30 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web21324.mail.yahoo.com (HELO web21324.mail.yahoo.com) (216.136.175.210)
  by apache.org (qpsmtpd/0.28) with SMTP; Mon, 14 Feb 2005 03:27:28 -0800
Received: (qmail 2951 invoked by uid 60001); 14 Feb 2005 11:27:27 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=jLDEuAtQurMh1Xv+XBuUrkKxQNxMKpjf79nb1603CGCx5Bp48zv7DwNdTrc3EJsscJuSvjfzJ4qYfjqqWekwjXC43qWbrbTqb1KAPDunOiv0SSxlK8dWHTG+aHENY5NArVaFummSKdnV8F/N8x2RighKKcZy2b3RKb+DiJidTgs=  ;
Message-ID: <20050214112727.2949.qmail@web21324.mail.yahoo.com>
Received: from [193.226.211.176] by web21324.mail.yahoo.com via HTTP; Mon, 14 Feb 2005 03:27:26 PST
Date: Mon, 14 Feb 2005 03:27:26 -0800 (PST)
From: Sanyi <need4sid@yahoo.com>
Subject: Re: DateFilter on UnStored field
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <e93c6c80cc6325d324307ba09829c1fe@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> Following up on PA's reply.  Yes, DateFilter works on *indexed* values, 
> so whether a field is stored or not is irrelevant.

Great news, thanx!

> However, DateFilter will not work on fields indexed as "2004-11-05".  
> DateFilter only works on fields that were indexed using the DateField.

Well, can you post here a short example?
When I currently type "xxx.UnStored(.." I can simply type "xxx.DateField(.." ?
Does it take strings like "2004-11-05"?

> One option is to use a QueryFilter instead, filtering with a 
> RangeQuery.

I've read somewhere that classic range filtering can easily exceed the maximum number of boolean
query clauses. I need to filter a very large range of dates with day accuracy and I don't want to
increase the max. clause count to very high values. So, I decided to use DateFilter which has no
such problems AFAIK.

How much impact does DateFilter have on search times?

Regards,
Sanyi


		
__________________________________ 
Do you Yahoo!? 
Yahoo! Mail - now with 250MB free storage. Learn more.
http://info.mail.yahoo.com/mail_250

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13179-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 14 13:55:08 2005
Return-Path: <lucene-user-return-13179-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 67335 invoked from network); 14 Feb 2005 13:55:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Feb 2005 13:55:08 -0000
Received: (qmail 99541 invoked by uid 500); 14 Feb 2005 13:55:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 98729 invoked by uid 500); 14 Feb 2005 13:55:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98715 invoked by uid 99); 14 Feb 2005 13:55:04 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 14 Feb 2005 05:55:03 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 292B313E2901; Mon, 14 Feb 2005 08:55:01 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 0170213E200B
	for <lucene-user@jakarta.apache.org>; Mon, 14 Feb 2005 08:54:44 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <20050214112727.2949.qmail@web21324.mail.yahoo.com>
References: <20050214112727.2949.qmail@web21324.mail.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <3dd19fb2d830c585ac2c3108ed7ada54@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: DateFilter on UnStored field
Date: Mon, 14 Feb 2005 08:54:46 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-3.5 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Feb 14, 2005, at 6:27 AM, Sanyi wrote:
>> However, DateFilter will not work on fields indexed as "2004-11-05".
>> DateFilter only works on fields that were indexed using the DateField.
>
> Well, can you post here a short example?
> When I currently type "xxx.UnStored(.." I can simply type 
> "xxx.DateField(.." ?
> Does it take strings like "2004-11-05"?

DateField has a utility method to return a String:

	DateField.timeToString(file.lastModified())

You'd use that String to pass to Field.UnStored.

I recommend, though, that you use a different format, such as the 
YYYY-MM-DD format you're using.

>> One option is to use a QueryFilter instead, filtering with a
>> RangeQuery.
>
> I've read somewhere that classic range filtering can easily exceed the 
> maximum number of boolean
> query clauses. I need to filter a very large range of dates with day 
> accuracy and I don't want to
> increase the max. clause count to very high values. So, I decided to 
> use DateFilter which has no
> such problems AFAIK.

Right!

In Lucene's latest codebase (though not in 1.4.x) includes RangeFilter 
which would do the trick for you.  If you want to stick with Lucene 
1.4.x, that's fine... just grab the code for that filter and use it as 
a custom filter - its compatible with 1.4.x.

> How much impact does DateFilter have on search times?

It depends on whether you instantiate a new filter for each search.  
Building a filter requires scanning through the terms in the index to 
build BitSet for the documents that fall in that range.  Filters are 
best used over multiple searches.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13180-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 14 13:56:26 2005
Return-Path: <lucene-user-return-13180-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 68854 invoked from network); 14 Feb 2005 13:56:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Feb 2005 13:56:25 -0000
Received: (qmail 3819 invoked by uid 500); 14 Feb 2005 13:56:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 3773 invoked by uid 500); 14 Feb 2005 13:56:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3739 invoked by uid 99); 14 Feb 2005 13:56:17 -0000
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FROM_ENDS_IN_NUMS,FROM_HAS_ULINE_NUMS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web53703.mail.yahoo.com (HELO web53703.mail.yahoo.com) (206.190.37.24)
  by apache.org (qpsmtpd/0.28) with SMTP; Mon, 14 Feb 2005 05:56:14 -0800
Received: (qmail 33698 invoked by uid 60001); 14 Feb 2005 13:56:10 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=KXbQIjeQX19LU5GCKMQAFN37dvXQMrYqVGOq3fnXCGBRemDMWt8/Y54phMArkyeuHjGan0li6q4IjY2Ys6gXvdMsOd1Ex2S/CJnIx3BQBXeva+XorZStfezviY2TpRm+zXWvhLWzbFnXnLfApdGhJjagxurb2OcyxcEBUQT8Fg0=  ;
Message-ID: <20050214135610.33692.qmail@web53703.mail.yahoo.com>
Received: from [193.1.172.148] by web53703.mail.yahoo.com via HTTP; Mon, 14 Feb 2005 05:56:10 PST
Date: Mon, 14 Feb 2005 05:56:10 -0800 (PST)
From: *Clodagh* <clodagh_lynch19@yahoo.com>
Subject: tf -idf showing the scores beside each hit
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20050214112727.2949.qmail@web21324.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


hi

is it possible to show a tf idf score beside each hit 

Eg i type in a word as a query for example the word
"free" and each file with the word free is named but i
would like the tf idf score to appear beside it?

like this

0. file1.txt tf idf score = 2.16543

is it possible??


	
		
__________________________________ 
Do you Yahoo!? 
Yahoo! Mail - You care about security. So do we. 
http://promotions.yahoo.com/new_mail

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13181-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 14 14:19:03 2005
Return-Path: <lucene-user-return-13181-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 94622 invoked from network); 14 Feb 2005 14:19:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Feb 2005 14:19:03 -0000
Received: (qmail 52554 invoked by uid 500); 14 Feb 2005 14:18:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 52510 invoked by uid 500); 14 Feb 2005 14:18:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39583 invoked by uid 99); 14 Feb 2005 14:13:06 -0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Subject: chained restrictive queries
To: lucene-user@jakarta.apache.org
X-Mailer: Lotus Notes Release 5.0.5  September 22, 2000
Message-ID: <OF2008DA27.BD39CCC6-ONC1256FA8.004B3C25@intra.michelin-travel.com>
From: oquinton@viamichelin.com
Date: Mon, 14 Feb 2005 15:14:41 +0100
X-MIMETrack: Serialize by Router on maser003/travelcom(Release 5.0.11  |July 24, 2002) at
 14/02/2005 15:14:42
MIME-Version: 1.0
Content-type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

I'm currently working on application using Lucene 1.3 , and have to improve
the current indexation/search methods with the 1.4.3 version.


I was thinking to use the FilteredQuery object to refine my chained queries
but, after some tests, performances are worst :(.

The chained queries were like :
- a first boolean query to retrieve a set of doc id matching some criterias
- a second query applying a fuzzy criteria to refine it more deeply.

My index contains like 7 millions of document at all , and first query
should retrieve, at maximum, like 50 000 documents.

I'm currently working with crossed indexes while doing searches , but i
want to remove the extra indexes and do all things with only one.

So, is it possible to use the FilteredQuery object or another one to chain
queries from the most restrictive to the most open one ?

Thx for your help

Sincerely,

Olivier

PS : sorry for all mistakes :o)




---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13182-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 14 14:34:10 2005
Return-Path: <lucene-user-return-13182-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 15768 invoked from network); 14 Feb 2005 14:34:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Feb 2005 14:34:08 -0000
Received: (qmail 79335 invoked by uid 500); 14 Feb 2005 14:34:04 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 79115 invoked by uid 500); 14 Feb 2005 14:34:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 79101 invoked by uid 99); 14 Feb 2005 14:34:03 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web21325.mail.yahoo.com (HELO web21325.mail.yahoo.com) (216.136.175.211)
  by apache.org (qpsmtpd/0.28) with SMTP; Mon, 14 Feb 2005 06:34:01 -0800
Received: (qmail 56541 invoked by uid 60001); 14 Feb 2005 14:33:59 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=scnmbAnQ1P2NOet/B6CmQpNQYEtK43s2tOaXLS61Jjw1T7Lj8Tm68E1fl6oWlY0SU2WrQsQpQ6ntZ9ilkl3hrI1rhISA8S+bO9mEpgQLSIJZGh7vpu/lpB+YznG2ps/l0T0gx/DnHX2vS+EIxf4mRfD1bRB9BOlRzoKFsRUF0fg=  ;
Message-ID: <20050214143359.56539.qmail@web21325.mail.yahoo.com>
Received: from [193.226.211.176] by web21325.mail.yahoo.com via HTTP; Mon, 14 Feb 2005 06:33:59 PST
Date: Mon, 14 Feb 2005 06:33:59 -0800 (PST)
From: Sanyi <need4sid@yahoo.com>
Subject: Re: DateFilter on UnStored field
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <3dd19fb2d830c585ac2c3108ed7ada54@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> DateField has a utility method to return a String:
> 
> 	DateField.timeToString(file.lastModified())
> 
> You'd use that String to pass to Field.UnStored.
> 
> I recommend, though, that you use a different format, such as the 
> YYYY-MM-DD format you're using.

Well, I read YYYY-MM-DD format string from a database.
So, I need to know how to convert YYYY-MM-DD to DateField.timeToString()'s result format.
Or I have to convert YYYY-MM-DD to file.lastModified()'s format which I can pass to
DateField.timeToString().
What is the easiest solution?

> In Lucene's latest codebase (though not in 1.4.x) includes RangeFilter 
> which would do the trick for you.  If you want to stick with Lucene 
> 1.4.x, that's fine... just grab the code for that filter and use it as 
> a custom filter - its compatible with 1.4.x.

So, why do you recommend RangeFilter over DateFilter?
Does it require less index data or/and has it better performance?
(I'm using 1.4.2)

> It depends on whether you instantiate a new filter for each search.  
> Building a filter requires scanning through the terms in the index to 
> build BitSet for the documents that fall in that range.  Filters are 
> best used over multiple searches.

Simply saying:
I let the user to enter the search string on a HTML form, then I call my custom lucene-based java
class through command line (the calling method may change to the PHP-to-JAVA bridge if it'll be
perfect for my needs).
So, every search is a whole new round. New HTML FORM post -> new command line JVM call -> new
index searcher, etc...

The OS is caching the index file pretty well (only the memory size is the limit of course).

Will my implementation's performance drop down a lot when I implement DateFilter?

Regards,
Sanyi


		
__________________________________ 
Do you Yahoo!? 
Yahoo! Mail - Find what you need with new enhanced search.
http://info.mail.yahoo.com/mail_250

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13183-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 14 15:31:32 2005
Return-Path: <lucene-user-return-13183-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 66540 invoked from network); 14 Feb 2005 15:31:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Feb 2005 15:31:32 -0000
Received: (qmail 97928 invoked by uid 500); 14 Feb 2005 15:31:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 97906 invoked by uid 500); 14 Feb 2005 15:31:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 97890 invoked by uid 99); 14 Feb 2005 15:31:26 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from omx3-ext.sgi.com (HELO omx3.sgi.com) (192.48.171.20)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 14 Feb 2005 07:31:24 -0800
Received: from internal-mail-relay1.corp.sgi.com (internal-mail-relay1.corp.sgi.com [198.149.32.52])
	by omx3.sgi.com (8.12.11/8.12.9/linux-outbound_gateway-1.1) with ESMTP id j1EFjUmG006429
	for <lucene-user@jakarta.apache.org>; Mon, 14 Feb 2005 07:45:33 -0800
Received: from pinckneya.peachtree.sgi.com (pinckneya.peachtree.sgi.com [169.238.221.130])
	by internal-mail-relay1.corp.sgi.com (8.12.9/8.12.10/SGI_generic_relay-1.2) with ESMTP id j1EFVEap599594
	for <lucene-user@jakarta.apache.org>; Mon, 14 Feb 2005 07:31:14 -0800 (PST)
Received: from [169.238.222.12] (ptc-222-12-pc.peachtree.sgi.com [169.238.222.12])
	by pinckneya.peachtree.sgi.com (SGI-8.12.5/8.12.5) with ESMTP id j1EFVDad23393538
	for <lucene-user@jakarta.apache.org>; Mon, 14 Feb 2005 10:31:14 -0500 (EST)
Message-ID: <4210C43C.3070708@sgi.com>
Date: Mon, 14 Feb 2005 10:31:08 -0500
From: Jim Lynch <jwl@sgi.com>
User-Agent: Mozilla Thunderbird 0.9 (Windows/20041103)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: What does [] do to a query and what's up with lucene.apache.org?
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

First I'm getting a


    The requested URL could not be retrieved

------------------------------------------------------------------------

While trying to retrieve the URL: 
http://lucene.apache.org/src/test/org/apache/lucene/queryParser/TestQueryParser.java 


The following error was encountered:

    Unable to determine IP address from host name for /lucene.apache.org

    /Guess the system is down.

I'm getting this error:

org.apache.lucene.queryParser.ParseException: Encountered "is" at line 
1, column 15.
Was expecting:
    "]" ...
 when I tried to parse the following string "[this is a test]".

I can't find any documentation that tells me what the brackets do to a 
query.  I had a user that was used to another search engine that used [] 
to do proximity or near searches and tried it on this one. Actually I'd 
like to see the documentation for what the parser does.  All that is 
mentioned in the javadoc is + - and ().  Obviously there are more 
special characters.

Thanks,
Jim.

Jim.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13184-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 14 15:52:37 2005
Return-Path: <lucene-user-return-13184-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 85394 invoked from network); 14 Feb 2005 15:52:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Feb 2005 15:52:37 -0000
Received: (qmail 42069 invoked by uid 500); 14 Feb 2005 15:52:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 42045 invoked by uid 500); 14 Feb 2005 15:52:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42031 invoked by uid 99); 14 Feb 2005 15:52:31 -0000
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web31102.mail.mud.yahoo.com (HELO web31102.mail.mud.yahoo.com) (68.142.200.35)
  by apache.org (qpsmtpd/0.28) with SMTP; Mon, 14 Feb 2005 07:52:30 -0800
Received: (qmail 45945 invoked by uid 60001); 14 Feb 2005 15:52:27 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=pVj59ArYRs4enhuAqT7ufpGscmsM56TaW2+FXtwM//Nrdf797JjPfldssyCXwq6Npif2H7+D4q+DgGsHl9KZt/nZl9NJ7WGKSyBYqWFiQUNwNfTQy6ntDgbtH+ARRIv/tdxmdKNCV/lK/p8GgRP8wKg9nHoGNPjHjjzX6i7zPkM=  ;
Message-ID: <20050214155227.45943.qmail@web31102.mail.mud.yahoo.com>
Received: from [216.194.17.194] by web31102.mail.mud.yahoo.com via HTTP; Mon, 14 Feb 2005 07:52:27 PST
Date: Mon, 14 Feb 2005 07:52:27 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: What does [] do to a query and what's up with lucene.apache.org?
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <4210C43C.3070708@sgi.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

lucene.apache.org seems to work now.
Here is the query syntax:
  http://lucene.apache.org/queryparsersyntax.html
[] is used as [BEGIN-RANGE-STRING TO END-RANGE-STRING]

Otis



--- Jim Lynch <jwl@sgi.com> wrote:

> First I'm getting a
> 
> 
>     The requested URL could not be retrieved
> 
>
------------------------------------------------------------------------
> 
> While trying to retrieve the URL: 
>
http://lucene.apache.org/src/test/org/apache/lucene/queryParser/TestQueryParser.java
> 
> 
> 
> The following error was encountered:
> 
>     Unable to determine IP address from host name for
> /lucene.apache.org
> 
>     /Guess the system is down.
> 
> I'm getting this error:
> 
> org.apache.lucene.queryParser.ParseException: Encountered "is" at
> line 
> 1, column 15.
> Was expecting:
>     "]" ...
>  when I tried to parse the following string "[this is a test]".
> 
> I can't find any documentation that tells me what the brackets do to
> a 
> query.  I had a user that was used to another search engine that used
> [] 
> to do proximity or near searches and tried it on this one. Actually
> I'd 
> like to see the documentation for what the parser does.  All that is 
> mentioned in the javadoc is + - and ().  Obviously there are more 
> special characters.
> 
> Thanks,
> Jim.
> 
> Jim.
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13185-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 14 16:18:10 2005
Return-Path: <lucene-user-return-13185-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 2316 invoked from network); 14 Feb 2005 16:18:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Feb 2005 16:18:10 -0000
Received: (qmail 77544 invoked by uid 500); 14 Feb 2005 16:18:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 77509 invoked by uid 500); 14 Feb 2005 16:18:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 77490 invoked by uid 99); 14 Feb 2005 16:18:06 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 14 Feb 2005 08:18:05 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id DE10913E2902; Mon, 14 Feb 2005 11:18:02 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 5E2F213E2901
	for <lucene-user@jakarta.apache.org>; Mon, 14 Feb 2005 11:17:50 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <4210C43C.3070708@sgi.com>
References: <4210C43C.3070708@sgi.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <01d234483121b56f3103a82750720085@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: What does [] do to a query and what's up with lucene.apache.org?
Date: Mon, 14 Feb 2005 11:17:52 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-3.5 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Jim,

The Lucene website is transitioning to the new top-level space.  I have  
checked out the current site to the new lucene.apache.org area and set  
up redirects from the old Jakarta URL's.  The source code, though, is  
not an official part of the website.  Thanks to our conversion to  
Subversion, though, the source is browsable starting here:

	http://svn.apache.org/repos/asf/lucene/java/trunk

The HTML of the website will need link adjustments to get everything  
back in shape.

The brackets are documented here:  
http://lucene.apache.org/queryparsersyntax.html

	Erik


On Feb 14, 2005, at 10:31 AM, Jim Lynch wrote:

> First I'm getting a
>
>
>    The requested URL could not be retrieved
>
> ----------------------------------------------------------------------- 
> -
>
> While trying to retrieve the URL:  
> http://lucene.apache.org/src/test/org/apache/lucene/queryParser/ 
> TestQueryParser.java
>
> The following error was encountered:
>
>    Unable to determine IP address from host name for /lucene.apache.org
>
>    /Guess the system is down.
>
> I'm getting this error:
>
> org.apache.lucene.queryParser.ParseException: Encountered "is" at line  
> 1, column 15.
> Was expecting:
>    "]" ...
> when I tried to parse the following string "[this is a test]".
>
> I can't find any documentation that tells me what the brackets do to a  
> query.  I had a user that was used to another search engine that used  
> [] to do proximity or near searches and tried it on this one. Actually  
> I'd like to see the documentation for what the parser does.  All that  
> is mentioned in the javadoc is + - and ().  Obviously there are more  
> special characters.
>
> Thanks,
> Jim.
>
> Jim.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13186-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 14 17:33:43 2005
Return-Path: <lucene-user-return-13186-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 54260 invoked from network); 14 Feb 2005 17:33:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Feb 2005 17:33:43 -0000
Received: (qmail 98140 invoked by uid 500); 14 Feb 2005 17:33:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 98115 invoked by uid 500); 14 Feb 2005 17:33:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98101 invoked by uid 99); 14 Feb 2005 17:33:29 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from omx2-ext.sgi.com (HELO omx2.sgi.com) (192.48.171.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 14 Feb 2005 09:33:28 -0800
Received: from internal-mail-relay.corp.sgi.com (internal-mail-relay.corp.sgi.com [198.149.32.51])
	by omx2.sgi.com (8.12.11/8.12.9/linux-outbound_gateway-1.1) with ESMTP id j1EJ4IUE000411
	for <lucene-user@jakarta.apache.org>; Mon, 14 Feb 2005 11:04:18 -0800
Received: from pinckneya.peachtree.sgi.com (pinckneya.peachtree.sgi.com [169.238.221.130])
	by internal-mail-relay.corp.sgi.com (8.12.9/8.12.10/SGI_generic_relay-1.2) with ESMTP id j1EHXQAq190202825
	for <lucene-user@jakarta.apache.org>; Mon, 14 Feb 2005 09:33:26 -0800 (PST)
Received: from [169.238.222.12] (ptc-222-12-pc.peachtree.sgi.com [169.238.222.12])
	by pinckneya.peachtree.sgi.com (SGI-8.12.5/8.12.5) with ESMTP id j1EHXPad23306924
	for <lucene-user@jakarta.apache.org>; Mon, 14 Feb 2005 12:33:26 -0500 (EST)
Message-ID: <4210E0E0.3070709@sgi.com>
Date: Mon, 14 Feb 2005 12:33:20 -0500
From: Jim Lynch <jwl@sgi.com>
User-Agent: Mozilla Thunderbird 0.9 (Windows/20041103)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: What does [] do to a query and what's up with lucene.apache.org?
References: <4210C43C.3070708@sgi.com> <01d234483121b56f3103a82750720085@ehatchersolutions.com>
In-Reply-To: <01d234483121b56f3103a82750720085@ehatchersolutions.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Otis and Erik,

Thanks for the info.  That's a great reference.

Jim.

Erik Hatcher wrote:

> Jim,
>
> The Lucene website is transitioning to the new top-level space.  I 
> have  checked out the current site to the new lucene.apache.org area 
> and set  up redirects from the old Jakarta URL's.  The source code, 
> though, is  not an official part of the website.  Thanks to our 
> conversion to  Subversion, though, the source is browsable starting here:
>
>     http://svn.apache.org/repos/asf/lucene/java/trunk
>
> The HTML of the website will need link adjustments to get everything  
> back in shape.
>
> The brackets are documented here:  
> http://lucene.apache.org/queryparsersyntax.html
>
>     Erik
>
>
> On Feb 14, 2005, at 10:31 AM, Jim Lynch wrote:
>
>> First I'm getting a
>>
>>
>>    The requested URL could not be retrieved
>>
>> ----------------------------------------------------------------------- 
>> -
>>
>> While trying to retrieve the URL:  
>> http://lucene.apache.org/src/test/org/apache/lucene/queryParser/ 
>> TestQueryParser.java
>>
>> The following error was encountered:
>>
>>    Unable to determine IP address from host name for /lucene.apache.org
>>
>>    /Guess the system is down.
>>
>> I'm getting this error:
>>
>> org.apache.lucene.queryParser.ParseException: Encountered "is" at 
>> line  1, column 15.
>> Was expecting:
>>    "]" ...
>> when I tried to parse the following string "[this is a test]".
>>
>> I can't find any documentation that tells me what the brackets do to 
>> a  query.  I had a user that was used to another search engine that 
>> used  [] to do proximity or near searches and tried it on this one. 
>> Actually  I'd like to see the documentation for what the parser 
>> does.  All that  is mentioned in the javadoc is + - and ().  
>> Obviously there are more  special characters.
>>
>> Thanks,
>> Jim.
>>
>> Jim.
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13187-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 14 17:40:23 2005
Return-Path: <lucene-user-return-13187-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 60507 invoked from network); 14 Feb 2005 17:40:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Feb 2005 17:40:23 -0000
Received: (qmail 17535 invoked by uid 500); 14 Feb 2005 17:40:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 17512 invoked by uid 500); 14 Feb 2005 17:40:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17494 invoked by uid 99); 14 Feb 2005 17:40:19 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from omx2-ext.sgi.com (HELO omx2.sgi.com) (192.48.171.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 14 Feb 2005 09:40:18 -0800
Received: from internal-mail-relay.corp.sgi.com (internal-mail-relay.corp.sgi.com [198.149.32.51])
	by omx2.sgi.com (8.12.11/8.12.9/linux-outbound_gateway-1.1) with ESMTP id j1EJB7vA002219
	for <lucene-user@jakarta.apache.org>; Mon, 14 Feb 2005 11:11:07 -0800
Received: from pinckneya.peachtree.sgi.com (pinckneya.peachtree.sgi.com [169.238.221.130])
	by internal-mail-relay.corp.sgi.com (8.12.9/8.12.10/SGI_generic_relay-1.2) with ESMTP id j1EHeGAq190212621
	for <lucene-user@jakarta.apache.org>; Mon, 14 Feb 2005 09:40:16 -0800 (PST)
Received: from [169.238.222.12] (ptc-222-12-pc.peachtree.sgi.com [169.238.222.12])
	by pinckneya.peachtree.sgi.com (SGI-8.12.5/8.12.5) with ESMTP id j1EHeFad23293409
	for <lucene-user@jakarta.apache.org>; Mon, 14 Feb 2005 12:40:15 -0500 (EST)
Message-ID: <4210E27A.5020303@sgi.com>
Date: Mon, 14 Feb 2005 12:40:10 -0500
From: Jim Lynch <jwl@sgi.com>
User-Agent: Mozilla Thunderbird 0.9 (Windows/20041103)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Are wildcard searches supposed to work with fields that are saved,
 indexed and not tokenized?
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


I was trying to write some documentation on how to use the tool and 
issued a search for:

contact:DENNIS MORROW

And sure enough I got 647 hits.  Then I changed the searc to:

contact:DENNIS MORRO?

And now I get 648 hits, but in some of them the contact doesn't even 
remotely resemble the search pattern.  For instance here are the what 
the contact fields contain for some of these hits:
Contact: GENERIC CONTACT
Contact: Andre Gardinalli
Contact: Brett Morrow  (that's especially interesting)
Contact: KEN PATTERSON

And of course there are some with Dennis' name too.

Any idea why this is happening?  I'm using the QueryParser.parse method.

Jim.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13188-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 14 18:53:12 2005
Return-Path: <lucene-user-return-13188-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 6305 invoked from network); 14 Feb 2005 18:53:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Feb 2005 18:53:12 -0000
Received: (qmail 73581 invoked by uid 500); 14 Feb 2005 18:53:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 73191 invoked by uid 500); 14 Feb 2005 18:53:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 73177 invoked by uid 99); 14 Feb 2005 18:53:07 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 14 Feb 2005 10:53:06 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id F3B4F13E28FA; Mon, 14 Feb 2005 13:53:04 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 4957A13E200A
	for <lucene-user@jakarta.apache.org>; Mon, 14 Feb 2005 13:53:03 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <4210E27A.5020303@sgi.com>
References: <4210E27A.5020303@sgi.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <eeb0bddd86c0ed906d9f0476a0a5e1ca@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Are wildcard searches supposed to work with fields that are saved, indexed and not tokenized?
Date: Mon, 14 Feb 2005 13:53:05 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-3.5 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Feb 14, 2005, at 12:40 PM, Jim Lynch wrote:
> I was trying to write some documentation on how to use the tool and 
> issued a search for:
>
> contact:DENNIS MORROW

Is that literally the QueryParser string you entered?  If so, that 
parses to:

	contact:DENNIS OR defaultField:MORROW

most likely.

> And now I get 648 hits, but in some of them the contact doesn't even 
> remotely resemble the search pattern.  For instance here are the what 
> the contact fields contain for some of these hits:
> Contact: GENERIC CONTACT
> Contact: Andre Gardinalli
> Contact: Brett Morrow  (that's especially interesting)
> Contact: KEN PATTERSON
>
> And of course there are some with Dennis' name too.
>
> Any idea why this is happening?  I'm using the QueryParser.parse 
> method.

I'm not sure you'll be able to do this with QueryParser with spaces in 
an untokenized field.  First try it with an API created WildcardQuery 
to be sure it works the way you expect.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13189-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 14 18:59:14 2005
Return-Path: <lucene-user-return-13189-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 10050 invoked from network); 14 Feb 2005 18:59:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Feb 2005 18:59:14 -0000
Received: (qmail 83826 invoked by uid 500); 14 Feb 2005 18:59:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 82960 invoked by uid 500); 14 Feb 2005 18:59:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 82945 invoked by uid 99); 14 Feb 2005 18:59:10 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from omx1-ext.sgi.com (HELO omx1.americas.sgi.com) (192.48.179.11)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 14 Feb 2005 10:59:08 -0800
Received: from hastur.corp.sgi.com (hastur.corp.sgi.com [198.149.32.33])
	by omx1.americas.sgi.com (8.12.10/8.12.9/linux-outbound_gateway-1.1) with ESMTP id j1EIx5xT016568
	for <lucene-user@jakarta.apache.org>; Mon, 14 Feb 2005 12:59:06 -0600
Received: from pinckneya.peachtree.sgi.com (pinckneya.peachtree.sgi.com [169.238.221.130])
	by hastur.corp.sgi.com (8.12.9/8.12.10/SGI_generic_relay-1.2) with ESMTP id j1EIwwVt106293793
	for <lucene-user@jakarta.apache.org>; Mon, 14 Feb 2005 10:58:58 -0800 (PST)
Received: from [169.238.222.12] (ptc-222-12-pc.peachtree.sgi.com [169.238.222.12])
	by pinckneya.peachtree.sgi.com (SGI-8.12.5/8.12.5) with ESMTP id j1EIx4ad23419543
	for <lucene-user@jakarta.apache.org>; Mon, 14 Feb 2005 13:59:04 -0500 (EST)
Message-ID: <4210F4F2.3020402@sgi.com>
Date: Mon, 14 Feb 2005 13:58:58 -0500
From: Jim Lynch <jwl@sgi.com>
User-Agent: Mozilla Thunderbird 0.9 (Windows/20041103)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Are wildcard searches supposed to work with fields that are saved,
 indexed and not tokenized?
References: <4210E27A.5020303@sgi.com> <eeb0bddd86c0ed906d9f0476a0a5e1ca@ehatchersolutions.com>
In-Reply-To: <eeb0bddd86c0ed906d9f0476a0a5e1ca@ehatchersolutions.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N



Erik Hatcher wrote:

>
> On Feb 14, 2005, at 12:40 PM, Jim Lynch wrote:
>
>> I was trying to write some documentation on how to use the tool and 
>> issued a search for:
>>
>> contact:DENNIS MORROW
>
>
> Is that literally the QueryParser string you entered?  If so, that 
> parses to:
>
>     contact:DENNIS OR defaultField:MORROW
>
> most likely.

Ah! Good point.

>
>> And now I get 648 hits, but in some of them the contact doesn't even 
>> remotely resemble the search pattern.  For instance here are the what 
>> the contact fields contain for some of these hits:
>> Contact: GENERIC CONTACT
>> Contact: Andre Gardinalli
>> Contact: Brett Morrow  (that's especially interesting)
>> Contact: KEN PATTERSON
>>
>> And of course there are some with Dennis' name too.
>>
>> Any idea why this is happening?  I'm using the QueryParser.parse method.
>
>
> I'm not sure you'll be able to do this with QueryParser with spaces in 
> an untokenized field.  First try it with an API created WildcardQuery 
> to be sure it works the way you expect.

I didn't really have any expectations other than what I saw didn't make 
sense.  I'll just add to the docs that [this set of fields] can't be 
searched with wildcards. 

Thanks,
Jim.

>
>     Erik
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13190-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 14 19:08:35 2005
Return-Path: <lucene-user-return-13190-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 14931 invoked from network); 14 Feb 2005 19:08:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Feb 2005 19:08:35 -0000
Received: (qmail 99186 invoked by uid 500); 14 Feb 2005 19:08:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 99130 invoked by uid 500); 14 Feb 2005 19:08:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 99076 invoked by uid 99); 14 Feb 2005 19:08:26 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of jayallenhill@gmail.com designates 64.233.170.204 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.204)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 14 Feb 2005 11:08:24 -0800
Received: by rproxy.gmail.com with SMTP id j1so706856rnf
        for <lucene-user@jakarta.apache.org>; Mon, 14 Feb 2005 11:08:21 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type:content-transfer-encoding;
        b=M1uaysvQg9rZx3tjMTGCDBkpXJy5SccDrzm/Qk0ID342F6noibYxrIauJ/idyuZbQc5yxheRImG5pNu5uEzN8pcBWBHsWZyYIE6tPtQjCTgB4+Jaw2zFNP8E3gPJmi7odzDo2XC1rtV+D3kJl8NE336MCEwK8jmVYxrhb/QCgrQ=
Received: by 10.38.66.55 with SMTP id o55mr176588rna;
        Mon, 14 Feb 2005 11:08:20 -0800 (PST)
Received: by 10.38.78.38 with HTTP; Mon, 14 Feb 2005 11:08:20 -0800 (PST)
Message-ID: <d0e6561a05021411082009cc56@mail.gmail.com>
Date: Mon, 14 Feb 2005 11:08:20 -0800
From: Jay Hill <jayallenhill@gmail.com>
Reply-To: Jay Hill <jayallenhill@gmail.com>
To: lucene-user@jakarta.apache.org
Subject: Limiting Hits with a score threshold
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Does anyone have an example of limiting results returned based on a
score threshold? For example if I'm only interested in documents with
a score > 0.05.

Thanks,
-Jay

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13191-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 14 19:40:53 2005
Return-Path: <lucene-user-return-13191-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 30045 invoked from network); 14 Feb 2005 19:40:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Feb 2005 19:40:53 -0000
Received: (qmail 56586 invoked by uid 500); 14 Feb 2005 19:40:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 56388 invoked by uid 500); 14 Feb 2005 19:40:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 56374 invoked by uid 99); 14 Feb 2005 19:40:49 -0000
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web90109.mail.scd.yahoo.com (HELO web90109.mail.scd.yahoo.com) (66.218.94.80)
  by apache.org (qpsmtpd/0.28) with SMTP; Mon, 14 Feb 2005 11:40:47 -0800
Received: (qmail 17070 invoked by uid 60001); 14 Feb 2005 19:40:46 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=5gweKcATQ+KNiiyeDJRaPa6rwPyHT71b4/jE1aFi7wjI1cNTeeuVzxSMmlFNBeha3VayWdwwPlDIQEc3YBzzlDQPlyX1sMyaW7ts9O+SsAt5PVFsh9LTRfkPFWT+Hf2kgJSvD4GzqhupohqeGrRMQQR2o46tkoy27fsF1jfgsRw=  ;
Message-ID: <20050214194046.17068.qmail@web90109.mail.scd.yahoo.com>
Received: from [12.40.203.130] by web90109.mail.scd.yahoo.com via HTTP; Mon, 14 Feb 2005 11:40:46 PST
Date: Mon, 14 Feb 2005 11:40:46 -0800 (PST)
From: Paul Jans <paulfjans@yahoo.com>
Subject: Re: Newbie questions
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20050211195206.49512.qmail@web90110.mail.scd.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi again,

So is SqlDirectory recommended for use in a cluster to
workaround the accessibility problem, or are people
using NFS or a standalone server instead?

Thanks in advance,
PJ

--- Paul Jans <paulfjans@yahoo.com> wrote:

> I've already ordered Lucene in Action :)
> 
> > There is a LuceneRAR project that is still in its
> > infancy here: 
> > https://lucenerar.dev.java.net/
> 
> I will keep an eye on that for sure.
> 
> > You can also store a Lucene index in Berkeley DB
> > (look at the 
> > /contrib/db area of the source code repository)
> 
> We're already using Oracle, so would it be possible
> to
> store the index there, thus giving each cluster node
> easy access to it. I read about SqlDirectory in the
> archives but it looks like it didn't make it to the
> API and I don't see it on the contrib page.
> 
> I'm more concerned about making the index accessible
> rather than transactional consistency, so NFS may be
> another option like you mention. I'm curious to hear
> about other systems which are clustered and how
> others
> are doing this; lessons learnt and best practices
> etc.
> 
> Thanks again for the help. Lucene looks like a first
> class tool.
> 
> PJ
> 
> --- Erik Hatcher <erik@ehatchersolutions.com> wrote:
> 
> > 
> > On Feb 10, 2005, at 5:00 PM, Paul Jans wrote:
> > > A couple of newbie questions. I've searched the
> > > archives and read the Javadoc but I'm still
> having
> > > trouble figuring these out.
> > 
> > Don't forget to get your copy of "Lucene in
> Action"
> > too :)
> > 
> > > 1. What's the best way to index and handle
> queries
> > > like the following:
> > >
> > > Find me all users with (a CS degree and a GPA >
> > 3.0)
> > > or (a Math degree and a GPA > 3.5).
> > 
> > Some suggestions:  index degree as a Keyword
> field. 
> > Pad GPA, so that 
> > all of them are the form #.# (or #.## maybe). 
> > Numerics need to be 
> > lexicographically ordered, and thus padded.
> > 
> > With the right analyzer (see the AnalysisParalysis
> > page on the wiki) 
> > you could use this type of query with
> QueryParser:'
> > 
> > 	degree:cs AND gpa:[3.0 TO 9.9]
> > 
> > > 2. What are the best practices for using Lucene
> in
> > a
> > > clustered J2EE environment? A standalone
> > index/search
> > > server or storing the index in the database or
> > > something else ?
> > 
> > There is a LuceneRAR project that is still in its
> > infancy here: 
> > https://lucenerar.dev.java.net/
> > 
> > You can also store a Lucene index in Berkeley DB
> > (look at the 
> > /contrib/db area of the source code repository)
> > 
> > However, most projects do fine with "cruder"
> > techniques such as sharing 
> > the Lucene index on a common drive and ensuring
> that
> > locking is 
> > configured to use the common drive also.
> > 
> > 	Erik
> > 
> > 
> >
>
---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> > lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> > lucene-user-help@jakarta.apache.org
> > 
> > 
> 
> 
> 
> 		
> __________________________________ 
> Do you Yahoo!? 
> Yahoo! Mail - Helps protect you from nasty viruses. 
> http://promotions.yahoo.com/new_mail
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 
> 



		
__________________________________ 
Do you Yahoo!? 
The all-new My Yahoo! - What will yours do?
http://my.yahoo.com 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13192-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 14 19:59:29 2005
Return-Path: <lucene-user-return-13192-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 39017 invoked from network); 14 Feb 2005 19:59:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Feb 2005 19:59:28 -0000
Received: (qmail 92453 invoked by uid 500); 14 Feb 2005 19:59:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 92427 invoked by uid 500); 14 Feb 2005 19:59:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 92414 invoked by uid 99); 14 Feb 2005 19:59:23 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp-vbr3.xs4all.nl (HELO smtp-vbr3.xs4all.nl) (194.109.24.23)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 14 Feb 2005 11:59:22 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr3.xs4all.nl (8.12.11/8.12.11) with ESMTP id j1EJxJal039034
	for <lucene-user@jakarta.apache.org>; Mon, 14 Feb 2005 20:59:19 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: lucene-user@jakarta.apache.org
Subject: Re: chained restrictive queries
Date: Mon, 14 Feb 2005 20:59:18 +0100
User-Agent: KMail/1.5.4
References: <OF2008DA27.BD39CCC6-ONC1256FA8.004B3C25@intra.michelin-travel.com>
In-Reply-To: <OF2008DA27.BD39CCC6-ONC1256FA8.004B3C25@intra.michelin-travel.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200502142059.18677.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Monday 14 February 2005 15:14, oquinton@viamichelin.com wrote:
> Hi,
> 
> I'm currently working on application using Lucene 1.3 , and have to improve
> the current indexation/search methods with the 1.4.3 version.
> 
> 
> I was thinking to use the FilteredQuery object to refine my chained queries
> but, after some tests, performances are worst :(.
>
> The chained queries were like :
> - a first boolean query to retrieve a set of doc id matching some criterias

A FilteredQuery works best when the filter from the criterias can be reused,
eg. by keeping it in a cache, possibly with CachingWrapperFilter.

> - a second query applying a fuzzy criteria to refine it more deeply.
> 
> My index contains like 7 millions of document at all , and first query
> should retrieve, at maximum, like 50 000 documents.
>
> I'm currently working with crossed indexes while doing searches , but i
> want to remove the extra indexes and do all things with only one.
> 
> So, is it possible to use the FilteredQuery object or another one to chain
> queries from the most restrictive to the most open one ?

It is possible, but whether it helps performance depends on your
circumstances.

The 1.4.3 filter implementation executes the most open query almost
completely.
It only applies the filter after the score computations for the
query being filtered, just before deciding whether to keep the docment
in the query results.
This is done in IndexSearcher.search(). 
A profiler might tell you whether that is a bottleneck for your queries.
If it is, there is some code in development that might help
.
In case it turns out that the memory occupied by the BitSet of the filter
is a bottleneck, please check the (very) recent archives of lucene-dev
on BitSet implementation.

Regards,
Paul Elschot


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13193-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 14 20:10:01 2005
Return-Path: <lucene-user-return-13193-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 44248 invoked from network); 14 Feb 2005 20:10:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Feb 2005 20:10:00 -0000
Received: (qmail 12324 invoked by uid 500); 14 Feb 2005 20:09:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 12003 invoked by uid 500); 14 Feb 2005 20:09:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11988 invoked by uid 99); 14 Feb 2005 20:09:56 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from reh001-1.rex001.exchangebyregister.com (HELO reh001-1.REX001.ExchangeByRegister.com) (64.78.19.14)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 14 Feb 2005 12:09:54 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Limiting Hits with a score threshold
Date: Mon, 14 Feb 2005 12:09:51 -0800
Message-ID: <E3381E0825F1954D953A4E347017BB1C034C04E0@reh001-1.REX001.ExchangeByRegister.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Limiting Hits with a score threshold
Thread-Index: AcUSyJTJXFjMdLfxSZSNnJGgcmyZtAAB+sjw
From: "Chuck Williams" <chuck@manawiz.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
	"Jay Hill" <jayallenhill@gmail.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I would not recommend doing this because absolute score values in Lucene
are not meaningful (e.g., scores are not directly comparable across
searches).  The ratio of a score to the highest score returned is
meaningful, but there is no absolute calibration for the highest score
returned, at least at present, so there is not a way to determine from
the scores what the quality of the result set is overall.  There are
various approaches to improving this that have been discussed (making
the scores more directly comparable by encoding additional information
into the score and using that for normalization, or probably better,
generalizing the score to an object that contains multiple pieces of
information; e.g. the total number of query terms matched by the top
result if you are using default OR would be quite useful).  None of
these ideas are implemented yet as far as I know.

Chuck

  > -----Original Message-----
  > From: Jay Hill [mailto:jayallenhill@gmail.com]
  > Sent: Monday, February 14, 2005 11:08 AM
  > To: lucene-user@jakarta.apache.org
  > Subject: Limiting Hits with a score threshold
  >=20
  > Does anyone have an example of limiting results returned based on a
  > score threshold? For example if I'm only interested in documents
with
  > a score > 0.05.
  >=20
  > Thanks,
  > -Jay
  >=20
  >
---------------------------------------------------------------------
  > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
  > For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13194-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 14 20:28:35 2005
Return-Path: <lucene-user-return-13194-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 69641 invoked from network); 14 Feb 2005 20:28:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Feb 2005 20:28:35 -0000
Received: (qmail 45816 invoked by uid 500); 14 Feb 2005 20:28:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 44949 invoked by uid 500); 14 Feb 2005 20:28:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 44933 invoked by uid 99); 14 Feb 2005 20:28:32 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 14 Feb 2005 12:28:31 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id E1BAC13E28FC; Mon, 14 Feb 2005 15:28:29 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 8D17813E28FA
	for <lucene-user@jakarta.apache.org>; Mon, 14 Feb 2005 15:28:26 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <20050214194046.17068.qmail@web90109.mail.scd.yahoo.com>
References: <20050214194046.17068.qmail@web90109.mail.scd.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <f92d8aeb9646a386a3a5eb7dd0c1ec91@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Newbie questions
Date: Mon, 14 Feb 2005 15:28:28 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-3.5 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Feb 14, 2005, at 2:40 PM, Paul Jans wrote:

> Hi again,
>
> So is SqlDirectory recommended for use in a cluster to
> workaround the accessibility problem, or are people
> using NFS or a standalone server instead?

Neither.  As far as I know, Berkeley DB is the only viable DB 
implementation currently.

NFS has notoriously had issues with Lucene and file locking.  Search 
the archives for more details on this.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13195-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 14 21:32:43 2005
Return-Path: <lucene-user-return-13195-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 3001 invoked from network); 14 Feb 2005 21:32:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 14 Feb 2005 21:32:43 -0000
Received: (qmail 35012 invoked by uid 500); 14 Feb 2005 21:32:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 34991 invoked by uid 500); 14 Feb 2005 21:32:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 34977 invoked by uid 99); 14 Feb 2005 21:32:39 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from web25808.mail.ukl.yahoo.com (HELO web25808.mail.ukl.yahoo.com) (217.12.10.193)
  by apache.org (qpsmtpd/0.28) with SMTP; Mon, 14 Feb 2005 13:32:37 -0800
Received: (qmail 37468 invoked by uid 60001); 14 Feb 2005 21:32:35 -0000
Message-ID: <20050214213234.37466.qmail@web25808.mail.ukl.yahoo.com>
Received: from [141.99.131.134] by web25808.mail.ukl.yahoo.com via HTTP; Mon, 14 Feb 2005 22:32:34 CET
Date: Mon, 14 Feb 2005 22:32:34 +0100 (CET)
From: Miro Max <kikiriki2k@yahoo.de>
Subject: Numbers in Index
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

hi,

actually i'm using standard analyzer during my index
process. but when i browse the index with luke there
also numbers inside.

which analyzer should i use to eliminate this from my
index or should i specify this in my stopword list?

thx

miro


	

	
		
___________________________________________________________ 
Gesendet von Yahoo! Mail - Jetzt mit 250MB Speicher kostenlos - Hier anmelden: http://mail.yahoo.de

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13196-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 15 01:02:24 2005
Return-Path: <lucene-user-return-13196-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 83829 invoked from network); 15 Feb 2005 01:02:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Feb 2005 01:02:24 -0000
Received: (qmail 68676 invoked by uid 500); 15 Feb 2005 01:02:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 68487 invoked by uid 500); 15 Feb 2005 01:02:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68473 invoked by uid 99); 15 Feb 2005 01:02:19 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 14 Feb 2005 17:02:18 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 159D313E2902; Mon, 14 Feb 2005 20:02:14 -0500 (EST)
Received: from [192.168.1.100] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id BDE8913E2901
	for <lucene-user@jakarta.apache.org>; Mon, 14 Feb 2005 20:01:59 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <20050214213234.37466.qmail@web25808.mail.ukl.yahoo.com>
References: <20050214213234.37466.qmail@web25808.mail.ukl.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <adc1f4691d42cca6ba79a9182a130d87@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Numbers in Index
Date: Mon, 14 Feb 2005 20:01:58 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.5 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Feb 14, 2005, at 4:32 PM, Miro Max wrote:
> actually i'm using standard analyzer during my index
> process. but when i browse the index with luke there
> also numbers inside.
>
> which analyzer should i use to eliminate this from my
> index or should i specify this in my stopword list?

Don't use a stop word list to remove numbers.  You could do a couple of 
things.... use SimpleAnalyzer, or write a custom analyzer which uses 
the parts of StandardAnalyzer and applies a number removal filter at 
the end.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13197-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 15 08:45:40 2005
Return-Path: <lucene-user-return-13197-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 7794 invoked from network); 15 Feb 2005 08:45:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Feb 2005 08:45:40 -0000
Received: (qmail 1092 invoked by uid 500); 15 Feb 2005 08:45:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 1072 invoked by uid 500); 15 Feb 2005 08:45:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1058 invoked by uid 99); 15 Feb 2005 08:45:34 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: 193.252.22.28 is neither permitted nor denied by domain of thinapps@gmail.com)
Received: from smtp3.wanadoo.fr (HELO smtp3.wanadoo.fr) (193.252.22.28)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 15 Feb 2005 00:45:34 -0800
Received: from me-wanadoo.net (localhost [127.0.0.1])
	by mwinf0312.wanadoo.fr (SMTP Server) with ESMTP id 76BC81C00120
	for <lucene-user@jakarta.apache.org>; Tue, 15 Feb 2005 09:45:31 +0100 (CET)
Received: from [192.168.0.24] (AMontpellier-251-1-44-250.w81-251.abo.wanadoo.fr [81.251.88.250])
	by mwinf0312.wanadoo.fr (SMTP Server) with ESMTP id E3F3A1C0011A
	for <lucene-user@jakarta.apache.org>; Tue, 15 Feb 2005 09:45:29 +0100 (CET)
X-ME-UUID: 20050215084529933.E3F3A1C0011A@mwinf0312.wanadoo.fr
Message-ID: <4211B554.2080903@gmail.com>
Date: Tue, 15 Feb 2005 09:39:48 +0100
From: Pierre VANNIER <thinapps@gmail.com>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: fr, en
MIME-Version: 1.0
To: lucene-user@jakarta.apache.org
Subject: Lucene "cuts" the search results ?
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

  Hi all,

I'm quite a newbie for Lucene, but I bought "Lucene In Action" and I'm 
trying to customize few examples caught from there.

I Have this sample code of JSP (bad JSP caus' I'm also a jsp newbie - :-)) :

Here's the code
------------------------------------------------------------------------------------------------

.....html head body ....
<%
long start = new Date().getTime();
Iterator myIterator = vIndexDir.iterator();

while(myIterator.hasNext())
{
     IndexSearcher searcher = new IndexSearcher((String)myIterator.next());
     Query query = new TermQuery(new Term("introduction", queryString));
     Hits hits = searcher.search(query);
     QueryScorer  scorer = new QueryScorer(query);
     Highlighter highlighter = new Highlighter(scorer);
     %>
<table width="70%" cellpadding="2" cellspacing="2">
     <%
      out.println("<tr><td><hr><br/>NUMBER OF MATCHING NEWS FOR \""+ 
(String)myIterator.next() + "\" -->" +hits.length() + "    </td></tr>");
     for (int i = 0; i < hits.length(); i++)
     {
         String introduction = hits.doc(i).get("introduction");
         TokenStream stream = new 
SimpleAnalyzer().tokenStream("introduction", new 
StringReader(introduction));
         String fragment = highlighter.getBestFragment(stream, 
introduction);
         String pubDate = hits.doc(i).get("pubDate").substring(0, 
hits.doc(i).get("pubDate").length()-13);
         String link = hits.doc(i).get("link");
         float score =  hits.score(i);
         String title = hits.doc(i).get("title");
         %>
         <tr>
              <td>
              Scoring : <b><%=score%></b><br/>
              <%=pubDate +
              " <a href=\"#\"  onClick=\"window.open('" +
              link + "', 'news', 'width=760;height=600')\">" +
              title +
              "</a>"
              %>
              <br/>
              <%= fragment%>
              <br/><br/>
              </td>
              </tr>
     <%}%>
         </table>
<%
    }
long end = new Date().getTime();
long interval  = end - start;
%>
<br><br><div align="right"><b>System time for query : <%= interval%> 
milliseconds</b></div>

</body>
</html>

-------------------------------------------------------------------------------

The output is all right, but at the en of this result page, the last 
"hit" is cut (I mean for example) :

Scoring : 0.9210043
Fri, 28 Jan 2005

---------------------------------------------

I'm running all this in tomcat 5.0.28 and last nightly fresh build of 
lucene.

So, Could it be a caching problem ? Could this come from JSP or Lucene ?

Thanks, and please I do apologise for my poor english ;-)


Pierre VANNIER


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13198-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 15 13:06:10 2005
Return-Path: <lucene-user-return-13198-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 98628 invoked from network); 15 Feb 2005 13:06:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Feb 2005 13:06:10 -0000
Received: (qmail 67856 invoked by uid 500); 15 Feb 2005 13:05:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 67811 invoked by uid 500); 15 Feb 2005 13:05:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 67796 invoked by uid 99); 15 Feb 2005 13:05:57 -0000
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=PLING_QUERY,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of TheRanger@gmx.net designates 213.165.64.20 as permitted sender)
Received: from imap.gmx.net (HELO mail.gmx.net) (213.165.64.20)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 15 Feb 2005 05:05:55 -0800
Received: (qmail 11087 invoked by uid 0); 15 Feb 2005 13:05:53 -0000
Received: from 193.63.235.44 by www30.gmx.net with HTTP;
	Tue, 15 Feb 2005 14:05:53 +0100 (MET)
Date: Tue, 15 Feb 2005 14:05:53 +0100 (MET)
From: "Karl Koch" <TheRanger@gmx.net>
To: "User " <lucene-user@jakarta.apache.org>
MIME-Version: 1.0
Subject: Lucene on PersonalJava ?? HELP!
X-Priority: 3 (Normal)
X-Authenticated: #21808356
Message-ID: <32355.1108472753@www30.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi, 

did anybody here run Lucene 1.3 or 1.2 under PersonalJava (equivalent to JDK
1.1) ? I have a friend who runs Lucene 1.3 under PersonalJava and it works.
Mine doesn't. When conmparing the the code I cannot find any difference. I
search the index for a Query. 

I get an error saying that the method java.io.File.createNewFile() is used
in Lucene. I have checked Java 1.1.8 and indeed this method does not exist.

Beside the question, how it can work on my friends system with the same
code, I am asking two more questions:

1) Did anybody here use Lucene on a PDA under Personal Java and can tell
some experience?

2) Is there anything else I should try or something I have forgotten?

Thanks for your help,
Karl

-- 
Lassen Sie Ihren Gedanken freien Lauf... z.B. per FreeSMS
GMX bietet bis zu 100 FreeSMS/Monat: http://www.gmx.net/de/go/mail

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13199-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 15 13:30:26 2005
Return-Path: <lucene-user-return-13199-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 22859 invoked from network); 15 Feb 2005 13:30:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Feb 2005 13:30:25 -0000
Received: (qmail 97758 invoked by uid 500); 15 Feb 2005 13:30:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 97730 invoked by uid 500); 15 Feb 2005 13:30:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 97715 invoked by uid 99); 15 Feb 2005 13:30:13 -0000
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=PLING_QUERY
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from intranet.runtime-collective.com (HELO mail.runtime-collective.com) (212.42.171.82)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 15 Feb 2005 05:30:11 -0800
Received: from [81.168.89.246] (helo=[192.168.1.31])
	by mail.runtime-collective.com with smtp (Exim 3.35 #1 (Debian))
	id 1D12mC-0000F9-00
	for <lucene-user@jakarta.apache.org>; Tue, 15 Feb 2005 13:30:04 +0000
Subject: Re: Lucene on PersonalJava ?? HELP!
From: Miles Barr <miles@runtime-collective.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <32355.1108472753@www30.gmx.net>
References: <32355.1108472753@www30.gmx.net>
Content-Type: text/plain
Organization: Runtime Collective Ltd.
Date: Tue, 15 Feb 2005 13:30:07 +0000
Message-Id: <1108474208.4252.56.camel@saturn>
Mime-Version: 1.0
X-Mailer: Evolution 2.0.3 
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Tue, 2005-02-15 at 14:05 +0100, Karl Koch wrote:
> did anybody here run Lucene 1.3 or 1.2 under PersonalJava (equivalent to JDK
> 1.1) ? I have a friend who runs Lucene 1.3 under PersonalJava and it works.
> Mine doesn't. When conmparing the the code I cannot find any difference. I
> search the index for a Query. 
> 
> I get an error saying that the method java.io.File.createNewFile() is used
> in Lucene. I have checked Java 1.1.8 and indeed this method does not exist.
> 
> Beside the question, how it can work on my friends system with the same
> code, I am asking two more questions:
> 
> 1) Did anybody here use Lucene on a PDA under Personal Java and can tell
> some experience?
> 
> 2) Is there anything else I should try or something I have forgotten?

It might be the constructor the the IndexReader or IndexSearcher that
you're using. You can pass in a string that points to the directory or a
file object instead. Lucene might being using
java.io.File.createNewFile() if you pass in a string. 

A simple grep should find out where it's being used.



-- 
Miles Barr <miles@runtime-collective.com>
Runtime Collective Ltd.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13200-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 15 14:04:45 2005
Return-Path: <lucene-user-return-13200-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 50618 invoked from network); 15 Feb 2005 14:04:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Feb 2005 14:04:44 -0000
Received: (qmail 36608 invoked by uid 500); 15 Feb 2005 14:04:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 36581 invoked by uid 500); 15 Feb 2005 14:04:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 36568 invoked by uid 99); 15 Feb 2005 14:04:40 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from moutng.kundenserver.de (HELO moutng.kundenserver.de) (212.227.126.186)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 15 Feb 2005 06:04:39 -0800
Received: from ppp-82-135-12-228.mnet-online.de[82.135.12.228] (helo=voodoo.federation.net)
	by mrelayeu.kundenserver.de with ESMTP (Nemesis),
	id 0MKwh2-1D13Jc1Ojo-0007HR; Tue, 15 Feb 2005 15:04:36 +0100
From: Daniel Naber <daniel.naber@t-online.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Lucene "cuts" the search results ?
Date: Tue, 15 Feb 2005 15:04:35 +0100
User-Agent: KMail/1.7.1
References: <4211B554.2080903@gmail.com>
In-Reply-To: <4211B554.2080903@gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
Message-Id: <200502151504.35671.daniel.naber@t-online.de>
X-Provags-ID: kundenserver.de abuse@kundenserver.de login:94b5a5949d2eb00693e70b0c89be5163
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Tuesday 15 February 2005 09:39, Pierre VANNIER wrote:

> =A0 =A0 =A0 =A0 =A0String fragment =3D highlighter.getBestFragment(stream,
> introduction);

The highlighter breaks up text into same-size chunks (100 characters by=20
default). If the matching term now appears just at the end or at the start =
of=20
such a chunk you'll get no context and it looks as if text was cut off.

Regards
 Daniel

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13201-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 15 14:30:59 2005
Return-Path: <lucene-user-return-13201-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 81434 invoked from network); 15 Feb 2005 14:30:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Feb 2005 14:30:59 -0000
Received: (qmail 65299 invoked by uid 500); 15 Feb 2005 14:30:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 64936 invoked by uid 500); 15 Feb 2005 14:30:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64921 invoked by uid 99); 15 Feb 2005 14:30:54 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: 193.252.22.26 is neither permitted nor denied by domain of thinapps@gmail.com)
Received: from smtp5.wanadoo.fr (HELO smtp5.wanadoo.fr) (193.252.22.26)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 15 Feb 2005 06:30:53 -0800
Received: from me-wanadoo.net (unknown [127.0.0.1])
	by mwinf0504.wanadoo.fr (SMTP Server) with ESMTP id 417121C00183
	for <lucene-user@jakarta.apache.org>; Tue, 15 Feb 2005 15:30:51 +0100 (CET)
Received: from [192.168.0.24] (AMontpellier-251-1-44-250.w81-251.abo.wanadoo.fr [81.251.88.250])
	by mwinf0504.wanadoo.fr (SMTP Server) with ESMTP id C1F951C0018F
	for <lucene-user@jakarta.apache.org>; Tue, 15 Feb 2005 15:30:50 +0100 (CET)
X-ME-UUID: 20050215143050794.C1F951C0018F@mwinf0504.wanadoo.fr
Message-ID: <42120647.9010504@gmail.com>
Date: Tue, 15 Feb 2005 15:25:11 +0100
From: Pierre VANNIER <thinapps@gmail.com>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: fr, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene "cuts" the search results ?
References: <4211B554.2080903@gmail.com> <200502151504.35671.daniel.naber@t-online.de>
In-Reply-To: <200502151504.35671.daniel.naber@t-online.de>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thank for reply Daniel,

But is there anything to do then to avoid such a thing to happen ?

Regards

Daniel Naber a Ècrit :

>On Tuesday 15 February 2005 09:39, Pierre VANNIER wrote:
>
>  
>
>>         String fragment = highlighter.getBestFragment(stream,
>>introduction);
>>    
>>
>
>The highlighter breaks up text into same-size chunks (100 characters by 
>default). If the matching term now appears just at the end or at the start of 
>such a chunk you'll get no context and it looks as if text was cut off.
>
>Regards
> Daniel
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>  
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13202-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 15 14:57:28 2005
Return-Path: <lucene-user-return-13202-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 97466 invoked from network); 15 Feb 2005 14:57:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Feb 2005 14:57:28 -0000
Received: (qmail 4514 invoked by uid 500); 15 Feb 2005 14:57:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 4486 invoked by uid 500); 15 Feb 2005 14:57:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4466 invoked by uid 99); 15 Feb 2005 14:57:25 -0000
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=FORGED_RCVD_HELO,PLING_QUERY,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of TheRanger@gmx.net designates 213.165.64.20 as permitted sender)
Received: from mail.gmx.de (HELO mail.gmx.net) (213.165.64.20)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 15 Feb 2005 06:57:24 -0800
Received: (qmail 13201 invoked by uid 0); 15 Feb 2005 14:57:20 -0000
Received: from 193.63.235.44 by www76.gmx.net with HTTP;
	Tue, 15 Feb 2005 15:57:21 +0100 (MET)
Date: Tue, 15 Feb 2005 15:57:21 +0100 (MET)
From: "Karl Koch" <TheRanger@gmx.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
MIME-Version: 1.0
References: <1108474208.4252.56.camel@saturn>
Subject: Re: Lucene on PersonalJava ?? HELP!
X-Priority: 3 (Normal)
X-Authenticated: #21808356
Message-ID: <18807.1108479441@www76.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

thank you for the tip. I have solved the problem in a different way. If
anybody else want to run Lucene on PJava, he/she might go for the same.

I am using the cvm VM instead of the jeode VM. Then it works fine with
Lucene 1.2 withtout any change in my code or in the Lucene code. Perhaps
even with a newer version (but havn't tested yet). :-)

Thank you anyway,
Karl

> On Tue, 2005-02-15 at 14:05 +0100, Karl Koch wrote:
> > did anybody here run Lucene 1.3 or 1.2 under PersonalJava (equivalent to
> JDK
> > 1.1) ? I have a friend who runs Lucene 1.3 under PersonalJava and it
> works.
> > Mine doesn't. When conmparing the the code I cannot find any difference.
> I
> > search the index for a Query. 
> > 
> > I get an error saying that the method java.io.File.createNewFile() is
> used
> > in Lucene. I have checked Java 1.1.8 and indeed this method does not
> exist.
> > 
> > Beside the question, how it can work on my friends system with the same
> > code, I am asking two more questions:
> > 
> > 1) Did anybody here use Lucene on a PDA under Personal Java and can tell
> > some experience?
> > 
> > 2) Is there anything else I should try or something I have forgotten?
> 
> It might be the constructor the the IndexReader or IndexSearcher that
> you're using. You can pass in a string that points to the directory or a
> file object instead. Lucene might being using
> java.io.File.createNewFile() if you pass in a string. 
> 
> A simple grep should find out where it's being used.
> 
> 
> 
> -- 
> Miles Barr <miles@runtime-collective.com>
> Runtime Collective Ltd.
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 

-- 
Lassen Sie Ihren Gedanken freien Lauf... z.B. per FreeSMS
GMX bietet bis zu 100 FreeSMS/Monat: http://www.gmx.net/de/go/mail

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13203-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 15 15:27:48 2005
Return-Path: <lucene-user-return-13203-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 13989 invoked from network); 15 Feb 2005 15:27:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Feb 2005 15:27:48 -0000
Received: (qmail 49142 invoked by uid 500); 15 Feb 2005 15:27:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 49120 invoked by uid 500); 15 Feb 2005 15:27:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 49100 invoked by uid 99); 15 Feb 2005 15:27:42 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp004.mail.ukl.yahoo.com (HELO smtp004.mail.ukl.yahoo.com) (217.12.11.35)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 15 Feb 2005 07:27:41 -0800
Received: from unknown (HELO ?10.0.0.1?) (markharw00d@194.106.34.5 with plain)
  by smtp004.mail.ukl.yahoo.com with SMTP; 15 Feb 2005 15:27:38 -0000
Message-ID: <421214F9.5030008@yahoo.co.uk>
Date: Tue, 15 Feb 2005 15:27:53 +0000
From: markharw00d <markharw00d@yahoo.co.uk>
User-Agent: Mozilla Thunderbird 0.8 (Windows/20040913)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene "cuts" the search results ?
References: <4211B554.2080903@gmail.com> <200502151504.35671.daniel.naber@t-online.de> <42120647.9010504@gmail.com>
In-Reply-To: <42120647.9010504@gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Pierre,
Here's the response I gave the last time this question was raised::

The highlighter uses a number of "pluggable" services, one of which is the
choice of "Fragmenter" implementation. This interface is for classes which
decide the boundaries where to cut the original text into snippets. The 
default
implementation used simply breaks up text into evenly sized chunks. A more
intelligent implementation could be made to detect sentence boundaries.
What you are asking for requires that the Fragmenter would know where the
upcoming query matches are and decides on fragment boundaries with this in
mind. To have this foresight would require a preliminary pass over the
TokenStream to identify the match points before calling the highlighter.

This Fragmenter implementation does not exist but it does not sound
unachievable. I would suggest that some knowledge of sentence boundaries
probably would probably help here too. I dont have any plans to write such a
Fragmenter now but this is how it could be done.

Hope this helps,
Cheers,
Mark



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13204-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 15 16:45:20 2005
Return-Path: <lucene-user-return-13204-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 57621 invoked from network); 15 Feb 2005 16:45:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Feb 2005 16:45:20 -0000
Received: (qmail 13124 invoked by uid 500); 15 Feb 2005 16:45:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 13101 invoked by uid 500); 15 Feb 2005 16:45:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13087 invoked by uid 99); 15 Feb 2005 16:45:15 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of TheRanger@gmx.net designates 213.165.64.20 as permitted sender)
Received: from mail.gmx.de (HELO mail.gmx.net) (213.165.64.20)
  by apache.org (qpsmtpd/0.28) with SMTP; Tue, 15 Feb 2005 08:45:14 -0800
Received: (qmail 15915 invoked by uid 0); 15 Feb 2005 16:45:08 -0000
Received: from 193.63.235.44 by www26.gmx.net with HTTP;
	Tue, 15 Feb 2005 17:45:08 +0100 (MET)
Date: Tue, 15 Feb 2005 17:45:08 +0100 (MET)
From: "Karl Koch" <TheRanger@gmx.net>
To: "User " <lucene-user@jakarta.apache.org>
MIME-Version: 1.0
Subject: Fieldinformation from Index
X-Priority: 3 (Normal)
X-Authenticated: #21808356
Message-ID: <19099.1108485908@www26.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

I have two questions which might be easy to answer from a Lucene expert:

1) I need to know which fields a collection of Documents has (given the fact
that not all docuemnts do necessaryly use all fields). This Documents are
all stored in one index. Is there a way (with Lucene 1.2 or 1.3) to find out
without going though each document and retrieving it?

2) I need to know which Analyzer was used to index a field. One important
rule, as we all know, is to use the same analyzer for indexing and searching
a field. Is this information stored in the index or in full responsibilty of
the application developer?

Karl

-- 
DSL Komplett von GMX +++ Superg¸nstig und stressfrei einsteigen!
AKTION "Kein Einrichtungspreis" nutzen: http://www.gmx.net/de/go/dsl

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13205-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 15 16:50:32 2005
Return-Path: <lucene-user-return-13205-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 60278 invoked from network); 15 Feb 2005 16:50:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Feb 2005 16:50:32 -0000
Received: (qmail 24619 invoked by uid 500); 15 Feb 2005 16:50:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 24336 invoked by uid 500); 15 Feb 2005 16:50:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24322 invoked by uid 99); 15 Feb 2005 16:50:27 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from rwcrmhc11.comcast.net (HELO rwcrmhc11.comcast.net) (204.127.198.35)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 15 Feb 2005 08:50:27 -0800
Received: from [192.168.168.81] (c-24-5-160-217.client.comcast.net[24.5.160.217])
          by comcast.net (rwcrmhc11) with ESMTP
          id <2005021516502501300f06p3e>; Tue, 15 Feb 2005 16:50:25 +0000
Message-ID: <42122850.4080002@apache.org>
Date: Tue, 15 Feb 2005 08:50:24 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 0.9 (X11/20041127)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene "cuts" the search results ?
References: <4211B554.2080903@gmail.com> <200502151504.35671.daniel.naber@t-online.de> <42120647.9010504@gmail.com> <421214F9.5030008@yahoo.co.uk>
In-Reply-To: <421214F9.5030008@yahoo.co.uk>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

markharw00d wrote:
> The highlighter uses a number of "pluggable" services, one of which is the
> choice of "Fragmenter" implementation. This interface is for classes which
> decide the boundaries where to cut the original text into snippets. The 
> default
> implementation used simply breaks up text into evenly sized chunks. A more
> intelligent implementation could be made to detect sentence boundaries.

Also note that paragraph boundaries alone would help a lot and are 
easier to reliably detect.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13206-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 15 19:08:52 2005
Return-Path: <lucene-user-return-13206-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 33986 invoked from network); 15 Feb 2005 19:08:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Feb 2005 19:08:51 -0000
Received: (qmail 52500 invoked by uid 500); 15 Feb 2005 19:08:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 52181 invoked by uid 500); 15 Feb 2005 19:08:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52168 invoked by uid 99); 15 Feb 2005 19:08:47 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO mail.sofari.com) (12.43.53.196)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 15 Feb 2005 11:08:45 -0800
Received: from [192.168.1.108] ([12.43.53.196])
	by mail.sofari.com (8.12.11/8.12.3/Debian-6.6) with ESMTP id j1FJ8Rau006574;
	Tue, 15 Feb 2005 11:08:28 -0800
Message-ID: <421248A6.90600@newsmonster.org>
Date: Tue, 15 Feb 2005 11:08:22 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040616
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>,
        Doug Cutting <cutting@lucene.com>
Subject: Re: Opening up one large index takes 940M or memory?
References: <41F19B8F.305@newsmonster.org> <41F940C4.3030106@apache.org>
In-Reply-To: <41F940C4.3030106@apache.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Doug Cutting wrote:

> Kevin A. Burton wrote:
>
>> Is there any way to reduce this footprint?  The index is fully 
>> optimized... I'm willing to take a performance hit if necessary.  Is 
>> this documented anywhere?
>
>
> You can increase TermInfosWriter.indexInterval.  You'll need to 
> re-write the .tii file for this to take effect.  The simplest way to 
> do this is to use IndexWriter.addIndexes(), adding your index to a 
> new, empty, directory.  This will of course take a while for a 60GB 
> index...
>
(Note... when this works I'll note my findings in a wiki page for future 
developers)

Two more questions:

1.  Do I have to do this with a NEW directory?  Our nightly index merger 
uses an existing "target" index which I assume will re-use the same 
settings as before?  I did this last night and it still seems to use the 
same amount of memory.  Above you assert that I should use a new empty 
directory and I'll try that tonight.

2. This isn't destructive is it?  I mean I'll be able to move BACK to a 
TermInfosWriter.indexInterval of 128 right?

Thanks!

Kevin

-- 

Use Rojo (RSS/Atom aggregator).  Visit http://rojo.com. Ask me for an 
invite!  Also see irc.freenode.net #rojo if you want to chat.

Rojo is Hiring! - http://www.rojonetworks.com/JobsAtRojo.html

If you're interested in RSS, Weblogs, Social Networking, etc... then you 
should work for Rojo!  If you recommend someone and we hire them you'll 
get a free iPod!
    
Kevin A. Burton, Location - San Francisco, CA
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13207-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 15 19:57:26 2005
Return-Path: <lucene-user-return-13207-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 63026 invoked from network); 15 Feb 2005 19:57:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Feb 2005 19:57:26 -0000
Received: (qmail 47834 invoked by uid 500); 15 Feb 2005 19:57:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 47808 invoked by uid 500); 15 Feb 2005 19:57:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 47790 invoked by uid 99); 15 Feb 2005 19:57:18 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from rwcrmhc11.comcast.net (HELO rwcrmhc11.comcast.net) (204.127.198.35)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 15 Feb 2005 11:57:17 -0800
Received: from [192.168.168.81] (c-24-5-160-217.client.comcast.net[24.5.160.217])
          by comcast.net (rwcrmhc11) with ESMTP
          id <2005021519571501300f21h9e>; Tue, 15 Feb 2005 19:57:15 +0000
Message-ID: <4212541A.6050705@apache.org>
Date: Tue, 15 Feb 2005 11:57:14 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 0.9 (X11/20041127)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Opening up one large index takes 940M or memory?
References: <41F19B8F.305@newsmonster.org> <41F940C4.3030106@apache.org> <421248A6.90600@newsmonster.org>
In-Reply-To: <421248A6.90600@newsmonster.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Kevin A. Burton wrote:
> 1.  Do I have to do this with a NEW directory?  Our nightly index merger 
> uses an existing "target" index which I assume will re-use the same 
> settings as before?  I did this last night and it still seems to use the 
> same amount of memory.  Above you assert that I should use a new empty 
> directory and I'll try that tonight.

You need to re-write the entire index using a modified 
TermIndexWriter.java.  Optimize rewrites the entire index but is 
destructive.  Merging into a new empty directory is a non-destructive 
way to do this.

> 2. This isn't destructive is it?  I mean I'll be able to move BACK to a 
> TermInfosWriter.indexInterval of 128 right?

Yes, you can go back if you re-optimize or re-merge again.

Also, there's no need to CC my personal email address.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13208-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 15 20:20:28 2005
Return-Path: <lucene-user-return-13208-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 86004 invoked from network); 15 Feb 2005 20:20:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 15 Feb 2005 20:20:28 -0000
Received: (qmail 88939 invoked by uid 500); 15 Feb 2005 20:20:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 88915 invoked by uid 500); 15 Feb 2005 20:20:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88901 invoked by uid 99); 15 Feb 2005 20:20:24 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 15 Feb 2005 12:20:22 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id D202E13E28F7; Tue, 15 Feb 2005 15:20:20 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id E65C713E2008
	for <lucene-user@jakarta.apache.org>; Tue, 15 Feb 2005 15:20:05 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <19099.1108485908@www26.gmx.net>
References: <19099.1108485908@www26.gmx.net>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <87a2e1b52c95885daee4b1bf999c2840@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Fieldinformation from Index
Date: Tue, 15 Feb 2005 15:20:01 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-3.5 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Feb 15, 2005, at 11:45 AM, Karl Koch wrote:
> 2) I need to know which Analyzer was used to index a field. One 
> important
> rule, as we all know, is to use the same analyzer for indexing and 
> searching
> a field. Is this information stored in the index or in full 
> responsibilty of
> the application developer?

The analyzer is not stored in the index, nor its name.  I believe this 
was discussed in the past, though.

It's not a rule that the same analyzer be used for both indexing and 
searching, and there are cases where it makes sense to use different 
ones.  The analyzers must be compatible though.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13209-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 16 05:50:09 2005
Return-Path: <lucene-user-return-13209-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 54568 invoked from network); 16 Feb 2005 05:50:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 16 Feb 2005 05:50:08 -0000
Received: (qmail 9945 invoked by uid 500); 16 Feb 2005 05:49:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 9917 invoked by uid 500); 16 Feb 2005 05:49:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 9903 invoked by uid 99); 16 Feb 2005 05:49:56 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from sparta.hostgo.com (HELO sparta.hostgo.com) (66.220.22.162)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 15 Feb 2005 21:49:52 -0800
Received: from [65.19.37.63] (helo=[10.0.1.2])
	by sparta.hostgo.com with esmtpa (Exim 4.44)
	id 1D1I4J-0004ut-Kt
	for lucene-user@jakarta.apache.org; Wed, 16 Feb 2005 00:49:47 -0500
Mime-Version: 1.0 (Apple Message framework v619)
Content-Transfer-Encoding: 7bit
Message-Id: <9094C317-7FDE-11D9-80A9-000A95973046@backspaces.net>
Content-Type: text/plain; charset=US-ASCII; format=flowed
To: lucene-user@jakarta.apache.org
From: Owen Densmore <owen@backspaces.net>
Subject: Re: Multiple Keywords/Keyphrases fields
Date: Tue, 15 Feb 2005 22:49:46 -0700
X-Mailer: Apple Mail (2.619)
X-MailScanner-Information: This email message has been scanned for viruses
X-MailScanner-HostGo: Found to be clean
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - sparta.hostgo.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - backspaces.net
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> From: Erik Hatcher <erik@ehatchersolutions.com>
> Date: February 12, 2005 3:09:15 PM MST
> To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> Subject: Re: Multiple Keywords/Keyphrases fields
>
>
> The real question to answer is what types of queries you're planning 
> on making.  Rather than look at it from indexing forward, consider it 
> from searching backwards.
>
> How will users query using those keyword phrases?

Hi Erik.  Good point.

There are two uses we are making of the keyphrases:

	- Graphical Navigation: A Flash graphical browser will allow users to 
fly around in a space of documents, choosing what to be viewing: 
Authors, Keyphrases and Textual terms.  In any of these cases, the 
"closeness" of any of the fields will govern how close they will appear 
graphically.  In the case of authors, we will weight collaboration .. 
how often the authors work together.  In the case of Keyphrases, we 
will want to use something like distance vectors like you show in the 
book using the cosine measure.  Thus the keyphrases need to be separate 
entities within the document .. it would be a bug for us if the terms 
leaked across the separate kephrases within the document.

	- Textual Search: In this case, we will have two ways to search the 
keyphrases.  The first would be like the graphical navigation above 
where searching for "complex system" should require the terms to be in 
a single keyphrase.  The second way will be looser, where we may simply 
pool the keyphrases with titles and abstract, and allow them all to be 
searched together within the document.

Does this make sense?  So the question from the search standpoint is: 
do multiple instances of a field act like there are barriers across the 
instances, or are they somehow treated as a single instance somehow.  
In terms of the closeness calculation, for example, can we get separate 
term vectors for each instance of the keyphrase field, or will we get a 
single vector combining all the keyphrase terms within a single 
document?

I hope this is clear!  Kinda hard to articulate.

Owen

> 	Erik
>
> On Feb 12, 2005, at 3:08 PM, Owen Densmore wrote:
>
>> I'm getting a bit more serious about the final form of our lucene 
>> index.  Each document has DocNumber, Authors, Title, Abstract, and 
>> Keywords.  By Keywords, I mean a comma separated list, each entry 
>> having possibly many terms in a phrase like:
>> 	temporal infomax, finite state automata, Markov chains,
>> 	conditional entropy, neural information processing
>>
>> I presume I should be using a field "Keywords" which have many 
>> "entries" or "instances" per document (one per comma separated 
>> phrase).  But I'm not sure the right way to handle all this.  My 
>> assumption is that I should analyze them individually, just as we do 
>> for free text (the Abstract, for example), thus in the example above 
>> having 5 entries of the nature
>> 	doc.add(Field.Text("Keywords", "finite state automata"));
>> etc, analyzing them because these are author-supplied strings with no 
>> canonical form.
>>
>> For guidance, I looked in the archive and found the attached email, 
>> but I didn't see the answer.  (I'm not concerned about the dups, I 
>> presume that is equivalent to a boos of some sort) Does this seem 
>> right?
>>
>> Thanks once again.
>>
>> Owen
>>
>>> From: lucene@nitwit.de <lucene@nitwit.de>
>>> Subject: Multiple equal Fields?
>>> Date: Tue, 17 Feb 2004 12:47:58 +0100
>>>
>>> Hi!
>>> What happens if I do this:
>>>
>>> doc.add(Field.Text("foo", "bar"));
>>> doc.add(Field.Text("foo", "blah"));
>>>
>>> Is there a field "foo" with value "blah" or are there two "foo"s 
>>> (actually not
>>> possible) or is there one "foo" with the values "bar" and "blah"?
>>>
>>> And what does happen in this case:
>>>
>>> doc.add(Field.Text("foo", "bar"));
>>> doc.add(Field.Text("foo", "bar"));
>>> doc.add(Field.Text("foo", "bar"));
>>>
>>> Does lucene store this only once?
>>>
>>> Timo
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13210-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 16 08:23:44 2005
Return-Path: <lucene-user-return-13210-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 38525 invoked from network); 16 Feb 2005 08:23:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 16 Feb 2005 08:23:43 -0000
Received: (qmail 54739 invoked by uid 500); 16 Feb 2005 08:23:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 54706 invoked by uid 500); 16 Feb 2005 08:23:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 54693 invoked by uid 99); 16 Feb 2005 08:23:38 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp-vbr1.xs4all.nl (HELO smtp-vbr1.xs4all.nl) (194.109.24.21)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 16 Feb 2005 00:23:35 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr1.xs4all.nl (8.12.11/8.12.11) with ESMTP id j1G8NWmB005830
	for <lucene-user@jakarta.apache.org>; Wed, 16 Feb 2005 09:23:32 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: lucene-user@jakarta.apache.org
Subject: Re: Multiple Keywords/Keyphrases fields
Date: Wed, 16 Feb 2005 09:23:31 +0100
User-Agent: KMail/1.5.4
References: <9094C317-7FDE-11D9-80A9-000A95973046@backspaces.net>
In-Reply-To: <9094C317-7FDE-11D9-80A9-000A95973046@backspaces.net>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200502160923.31622.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Wednesday 16 February 2005 06:49, Owen Densmore wrote:
> > From: Erik Hatcher <erik@ehatchersolutions.com>
> > Date: February 12, 2005 3:09:15 PM MST
> > To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> > Subject: Re: Multiple Keywords/Keyphrases fields
> >
> >
> > The real question to answer is what types of queries you're planning 
> > on making.  Rather than look at it from indexing forward, consider it 
> > from searching backwards.
> >
> > How will users query using those keyword phrases?
> 
> Hi Erik.  Good point.
> 
> There are two uses we are making of the keyphrases:
> 
> 	- Graphical Navigation: A Flash graphical browser will allow users to 
> fly around in a space of documents, choosing what to be viewing: 
> Authors, Keyphrases and Textual terms.  In any of these cases, the 
> "closeness" of any of the fields will govern how close they will appear 
> graphically.  In the case of authors, we will weight collaboration .. 
> how often the authors work together.  In the case of Keyphrases, we 
> will want to use something like distance vectors like you show in the 
> book using the cosine measure.  Thus the keyphrases need to be separate 
> entities within the document .. it would be a bug for us if the terms 
> leaked across the separate kephrases within the document.
> 
> 	- Textual Search: In this case, we will have two ways to search the 
> keyphrases.  The first would be like the graphical navigation above 
> where searching for "complex system" should require the terms to be in 
> a single keyphrase.  The second way will be looser, where we may simply 
> pool the keyphrases with titles and abstract, and allow them all to be 
> searched together within the document.
> 
> Does this make sense?  So the question from the search standpoint is: 
> do multiple instances of a field act like there are barriers across the 
> instances, or are they somehow treated as a single instance somehow.  

Multiple field instances with the same name in a document are concatenated in
the index in the order in which they where added to the document.
For each instance of a field in the document, even when it has the same name, 
the analyzer is asked to provide a new tokenstream. 

This happens in org.apache.lucene.index.DocumentWriter.invertDocument(),
The last position offset in the field as indexed is maintained for this
purpose.

> In terms of the closeness calculation, for example, can we get separate 
> term vectors for each instance of the keyphrase field, or will we get a 
> single vector combining all the keyphrase terms within a single 
> document?

The positions in the TermVectors are treated in the same way.

To put a barrier between field instances with the same name
one can put a gap in the indexed term positions. This gap needs a larger
query proximity to match. AND like queries will match in the indexed field.

A gap is implemented by providing the a tokenstream from the analyzer
that has a position increment that equals the gap for the first token in the
stream.
For the first field instance with same name the gap is not needed.

Regards,
Paul Elschot

> 
> I hope this is clear!  Kinda hard to articulate.
> 
> Owen
> 
> > 	Erik
> >
> > On Feb 12, 2005, at 3:08 PM, Owen Densmore wrote:
> >
> >> I'm getting a bit more serious about the final form of our lucene 
> >> index.  Each document has DocNumber, Authors, Title, Abstract, and 
> >> Keywords.  By Keywords, I mean a comma separated list, each entry 
> >> having possibly many terms in a phrase like:
> >> 	temporal infomax, finite state automata, Markov chains,
> >> 	conditional entropy, neural information processing
> >>
> >> I presume I should be using a field "Keywords" which have many 
> >> "entries" or "instances" per document (one per comma separated 
> >> phrase).  But I'm not sure the right way to handle all this.  My 
> >> assumption is that I should analyze them individually, just as we do 
> >> for free text (the Abstract, for example), thus in the example above 
> >> having 5 entries of the nature
> >> 	doc.add(Field.Text("Keywords", "finite state automata"));
> >> etc, analyzing them because these are author-supplied strings with no 
> >> canonical form.
> >>
> >> For guidance, I looked in the archive and found the attached email, 
> >> but I didn't see the answer.  (I'm not concerned about the dups, I 
> >> presume that is equivalent to a boos of some sort) Does this seem 
> >> right?
> >>
> >> Thanks once again.
> >>
> >> Owen
> >>
> >>> From: lucene@nitwit.de <lucene@nitwit.de>
> >>> Subject: Multiple equal Fields?
> >>> Date: Tue, 17 Feb 2004 12:47:58 +0100
> >>>
> >>> Hi!
> >>> What happens if I do this:
> >>>
> >>> doc.add(Field.Text("foo", "bar"));
> >>> doc.add(Field.Text("foo", "blah"));
> >>>
> >>> Is there a field "foo" with value "blah" or are there two "foo"s 
> >>> (actually not
> >>> possible) or is there one "foo" with the values "bar" and "blah"?
> >>>
> >>> And what does happen in this case:
> >>>
> >>> doc.add(Field.Text("foo", "bar"));
> >>> doc.add(Field.Text("foo", "bar"));
> >>> doc.add(Field.Text("foo", "bar"));
> >>>
> >>> Does lucene store this only once?
> >>>
> >>> Timo
> >
> >
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13211-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 16 10:21:20 2005
Return-Path: <lucene-user-return-13211-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 7015 invoked from network); 16 Feb 2005 10:21:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 16 Feb 2005 10:21:20 -0000
Received: (qmail 44153 invoked by uid 500); 16 Feb 2005 10:21:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 44130 invoked by uid 500); 16 Feb 2005 10:21:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 44115 invoked by uid 99); 16 Feb 2005 10:21:14 -0000
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=HTML_20_30,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from dns1.hemscott.co.uk (HELO dns1.hemscott.co.uk) (195.47.237.192)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 16 Feb 2005 02:21:13 -0800
Received: from exchange.hsnet.hemscott.co.uk (exchange [172.22.0.216])
	by dns1.hemscott.co.uk (8.11.6/8.11.6) with ESMTP id j1GAL9n17793
	for <lucene-user@jakarta.apache.org>; Wed, 16 Feb 2005 10:21:09 GMT
Received: by exchange.hemscott.co.uk with Internet Mail Service (5.5.2653.19)
	id <1XYS8CHW>; Wed, 16 Feb 2005 10:21:10 -0000
Message-ID: <7157427725CF4A46ADC522959748E7A20FE85AF9@exchange.hemscott.co.uk>
From: Paul Mellor <pmellor@hemscott.co.uk>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Subject: Concurrent searching & re-indexing
Date: Wed, 16 Feb 2005 10:21:09 -0000
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C51411.3B7A5680"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C51411.3B7A5680
Content-Type: text/plain;
	charset="iso-8859-1"

Hi,

I've read from various sources on the Internet that it is perfectly safe to
simultaneously search a Lucene index that is being updated from another
Thread, as long as all write access to the index is synchronized.  But does
this apply only to updating the index (i.e. deleting and adding documents),
or to a complete re-indexing (i.e. create a new IndexWriter with the
'create' argument true and then re-add all the documents)?

I have a class which encapsulates all access to my index, so that writes can
be synchronized.  This class also exposes a method to obtain an
IndexSearcher for the index.  I'm running unit tests to test this which
create many threads - each thread does a complete re-indexing and then
obtains an IndexSearcher and does a query.

I'm finding that with sufficiently high numbers of threads, I'm getting the
occasional failure, with the following exception thrown when attempting to
construct a new IndexWriter (during the reindexing) -

java.io.IOException: couldn't delete _a.f1
at org.apache.lucene.store.FSDirectory.create(FSDirectory.java:166)
at org.apache.lucene.store.FSDirectory.getDirectory(FSDirectory.java:135)
at org.apache.lucene.store.FSDirectory.getDirectory(FSDirectory.java:113)
at org.apache.lucene.index.IndexWriter.<init>(IndexWriter.java:151)
...

The exception occurs quite infrequently (usually for somewhere between 1-5%
of the Threads).

Does the IndexSearcher take a 'snapshot' of the index at creation?  Or does
it access the filesystem whilst searching?  I am also synchronizing creation
of the IndexSearcher with the write lock, so that the IndexSearcher is not
created whilst the index is being recreated (and vice versa).  But do I need
to ensure that the IndexSearcher cannot search whilst the index is being
recreated as well?

Note that a similar unit test where the threads update the index (rather
than recreate it from scratch) works fine, as expected.

This is running on Windows 2000.

Any help would be much appreciated!

Paul

This e-mail and any files transmitted with it are confidential and intended
solely for the use of the individual or entity to whom they are addressed.
If you are not the intended recipient, you should not copy, retransmit or
use the e-mail and/or files transmitted with it  and should not disclose
their contents. In such a case, please notify netwebmaster@hemscott.co.uk
and delete the message from your own system. Any opinions expressed in this
e-mail and/or files transmitted with it that do not relate to the official
business of this company are those solely of the author and should not be
interpreted as being endorsed by this company.

------_=_NextPart_001_01C51411.3B7A5680--

From lucene-user-return-13212-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 16 17:30:25 2005
Return-Path: <lucene-user-return-13212-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 11211 invoked from network); 16 Feb 2005 17:30:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 16 Feb 2005 17:30:25 -0000
Received: (qmail 14218 invoked by uid 500); 16 Feb 2005 17:30:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 14190 invoked by uid 500); 16 Feb 2005 17:30:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 14177 invoked by uid 99); 16 Feb 2005 17:30:19 -0000
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web31105.mail.mud.yahoo.com (HELO web31105.mail.mud.yahoo.com) (68.142.200.38)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 16 Feb 2005 09:30:17 -0800
Received: (qmail 42679 invoked by uid 60001); 16 Feb 2005 17:30:15 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=yitrEA0W03t05XlbNN06mfZc5eK43Kp0PkNmU4Jlj5dCTXngX0J9xPYB1e23Vpi118IV8pC79CbtE3CJF1dnzZiOyiUQjOqJhbThDXW6DWcoMw7pGGZq7T/YOrUeRAMl8c0B8jz6l8116TOLZ4iNnMLiBKf14xxGqFikinMxt6U=  ;
Message-ID: <20050216173015.42677.qmail@web31105.mail.mud.yahoo.com>
Received: from [216.194.17.194] by web31105.mail.mud.yahoo.com via HTTP; Wed, 16 Feb 2005 09:30:15 PST
Date: Wed, 16 Feb 2005 09:30:15 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Concurrent searching & re-indexing
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <7157427725CF4A46ADC522959748E7A20FE85AF9@exchange.hemscott.co.uk>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Paul,

If I understand your setup correctly, it looks like you are running
multiple threads that create IndexWriter for the ame directory.  That's
a "no no".

This section (first hit) describes all various concurrency issues with
regards to adds, updates, optimization, and searches:
  http://www.lucenebook.com/search?query=concurrent

IndexSearcher (IndexReader, really) does take a snapshot of the index
state when it is opened, so at that time the index segments listed in
segments should be in a complete state.  It also reads index files when
searching, of course.

Otis


--- Paul Mellor <pmellor@hemscott.co.uk> wrote:

> Hi,
> 
> I've read from various sources on the Internet that it is perfectly
> safe to
> simultaneously search a Lucene index that is being updated from
> another
> Thread, as long as all write access to the index is synchronized. 
> But does
> this apply only to updating the index (i.e. deleting and adding
> documents),
> or to a complete re-indexing (i.e. create a new IndexWriter with the
> 'create' argument true and then re-add all the documents)?
> 
> I have a class which encapsulates all access to my index, so that
> writes can
> be synchronized.  This class also exposes a method to obtain an
> IndexSearcher for the index.  I'm running unit tests to test this
> which
> create many threads - each thread does a complete re-indexing and
> then
> obtains an IndexSearcher and does a query.
> 
> I'm finding that with sufficiently high numbers of threads, I'm
> getting the
> occasional failure, with the following exception thrown when
> attempting to
> construct a new IndexWriter (during the reindexing) -
> 
> java.io.IOException: couldn't delete _a.f1
> at org.apache.lucene.store.FSDirectory.create(FSDirectory.java:166)
> at
>
org.apache.lucene.store.FSDirectory.getDirectory(FSDirectory.java:135)
> at
>
org.apache.lucene.store.FSDirectory.getDirectory(FSDirectory.java:113)
> at org.apache.lucene.index.IndexWriter.<init>(IndexWriter.java:151)
> ...
> 
> The exception occurs quite infrequently (usually for somewhere
> between 1-5%
> of the Threads).
> 
> Does the IndexSearcher take a 'snapshot' of the index at creation? 
> Or does
> it access the filesystem whilst searching?  I am also synchronizing
> creation
> of the IndexSearcher with the write lock, so that the IndexSearcher
> is not
> created whilst the index is being recreated (and vice versa).  But do
> I need
> to ensure that the IndexSearcher cannot search whilst the index is
> being
> recreated as well?
> 
> Note that a similar unit test where the threads update the index
> (rather
> than recreate it from scratch) works fine, as expected.
> 
> This is running on Windows 2000.
> 
> Any help would be much appreciated!
> 
> Paul
> 
> This e-mail and any files transmitted with it are confidential and
> intended
> solely for the use of the individual or entity to whom they are
> addressed.
> If you are not the intended recipient, you should not copy,
> retransmit or
> use the e-mail and/or files transmitted with it  and should not
> disclose
> their contents. In such a case, please notify
> netwebmaster@hemscott.co.uk
> and delete the message from your own system. Any opinions expressed
> in this
> e-mail and/or files transmitted with it that do not relate to the
> official
> business of this company are those solely of the author and should
> not be
> interpreted as being endorsed by this company.
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13213-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 16 17:36:53 2005
Return-Path: <lucene-user-return-13213-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 14146 invoked from network); 16 Feb 2005 17:36:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 16 Feb 2005 17:36:52 -0000
Received: (qmail 33000 invoked by uid 500); 16 Feb 2005 17:36:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 32974 invoked by uid 500); 16 Feb 2005 17:36:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 32960 invoked by uid 99); 16 Feb 2005 17:36:48 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_30_40,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from dns1.hemscott.co.uk (HELO dns1.hemscott.co.uk) (195.47.237.192)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 16 Feb 2005 09:36:46 -0800
Received: from exchange.hsnet.hemscott.co.uk (exchange [172.22.0.216])
	by dns1.hemscott.co.uk (8.11.6/8.11.6) with ESMTP id j1GHahn18997
	for <lucene-user@jakarta.apache.org>; Wed, 16 Feb 2005 17:36:43 GMT
Received: by exchange.hemscott.co.uk with Internet Mail Service (5.5.2653.19)
	id <1XYS8PNA>; Wed, 16 Feb 2005 17:36:43 -0000
Message-ID: <7157427725CF4A46ADC522959748E7A20FE85B0D@exchange.hemscott.co.uk>
From: Paul Mellor <pmellor@hemscott.co.uk>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Concurrent searching & re-indexing
Date: Wed, 16 Feb 2005 17:36:43 -0000
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C5144E.146E1350"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C5144E.146E1350
Content-Type: text/plain

But all write access to the index is synchronized, so that although multiple
threads are creating an IndexWriter for the same directory and using it to
totally recreate that index, only one thread is doing this at once.

I was concerned about the safety of using an IndexSearcher to perform
queries on an index that is in the process of being recreated from scratch,
but I guess that if the IndexSearcher takes a snapshot of the index when it
is created (and in my code this creation is synchronized with the write
operations as well so that the threads wait for the write operations to
finish before instantiating an IndexSearcher, and vice versa) this can't be
a problem.

-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
Sent: 16 February 2005 17:30
To: Lucene Users List
Subject: Re: Concurrent searching & re-indexing


Hi Paul,

If I understand your setup correctly, it looks like you are running
multiple threads that create IndexWriter for the ame directory.  That's
a "no no".

This section (first hit) describes all various concurrency issues with
regards to adds, updates, optimization, and searches:
  http://www.lucenebook.com/search?query=concurrent

IndexSearcher (IndexReader, really) does take a snapshot of the index
state when it is opened, so at that time the index segments listed in
segments should be in a complete state.  It also reads index files when
searching, of course.

Otis


--- Paul Mellor <pmellor@hemscott.co.uk> wrote:

> Hi,
> 
> I've read from various sources on the Internet that it is perfectly
> safe to
> simultaneously search a Lucene index that is being updated from
> another
> Thread, as long as all write access to the index is synchronized. 
> But does
> this apply only to updating the index (i.e. deleting and adding
> documents),
> or to a complete re-indexing (i.e. create a new IndexWriter with the
> 'create' argument true and then re-add all the documents)?
> 
> I have a class which encapsulates all access to my index, so that
> writes can
> be synchronized.  This class also exposes a method to obtain an
> IndexSearcher for the index.  I'm running unit tests to test this
> which
> create many threads - each thread does a complete re-indexing and
> then
> obtains an IndexSearcher and does a query.
> 
> I'm finding that with sufficiently high numbers of threads, I'm
> getting the
> occasional failure, with the following exception thrown when
> attempting to
> construct a new IndexWriter (during the reindexing) -
> 
> java.io.IOException: couldn't delete _a.f1
> at org.apache.lucene.store.FSDirectory.create(FSDirectory.java:166)
> at
>
org.apache.lucene.store.FSDirectory.getDirectory(FSDirectory.java:135)
> at
>
org.apache.lucene.store.FSDirectory.getDirectory(FSDirectory.java:113)
> at org.apache.lucene.index.IndexWriter.<init>(IndexWriter.java:151)
> ...
> 
> The exception occurs quite infrequently (usually for somewhere
> between 1-5%
> of the Threads).
> 
> Does the IndexSearcher take a 'snapshot' of the index at creation? 
> Or does
> it access the filesystem whilst searching?  I am also synchronizing
> creation
> of the IndexSearcher with the write lock, so that the IndexSearcher
> is not
> created whilst the index is being recreated (and vice versa).  But do
> I need
> to ensure that the IndexSearcher cannot search whilst the index is
> being
> recreated as well?
> 
> Note that a similar unit test where the threads update the index
> (rather
> than recreate it from scratch) works fine, as expected.
> 
> This is running on Windows 2000.
> 
> Any help would be much appreciated!
> 
> Paul
> 
> This e-mail and any files transmitted with it are confidential and
> intended
> solely for the use of the individual or entity to whom they are
> addressed.
> If you are not the intended recipient, you should not copy,
> retransmit or
> use the e-mail and/or files transmitted with it  and should not
> disclose
> their contents. In such a case, please notify
> netwebmaster@hemscott.co.uk
> and delete the message from your own system. Any opinions expressed
> in this
> e-mail and/or files transmitted with it that do not relate to the
> official
> business of this company are those solely of the author and should
> not be
> interpreted as being endorsed by this company.
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


_____________________________________________________________________
This e-mail has been scanned for viruses by MCI's Internet Managed Scanning
Services - powered by MessageLabs. For further information visit
http://www.mci.com

This e-mail and any files transmitted with it are confidential and intended
solely for the use of the individual or entity to whom they are addressed.
If you are not the intended recipient, you should not copy, retransmit or
use the e-mail and/or files transmitted with it  and should not disclose
their contents. In such a case, please notify netwebmaster@hemscott.co.uk
and delete the message from your own system. Any opinions expressed in this
e-mail and/or files transmitted with it that do not relate to the official
business of this company are those solely of the author and should not be
interpreted as being endorsed by this company.

------_=_NextPart_001_01C5144E.146E1350--

From lucene-user-return-13214-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 16 20:05:26 2005
Return-Path: <lucene-user-return-13214-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 91504 invoked from network); 16 Feb 2005 20:05:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 16 Feb 2005 20:05:26 -0000
Received: (qmail 55776 invoked by uid 500); 16 Feb 2005 20:05:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 55748 invoked by uid 500); 16 Feb 2005 20:05:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55733 invoked by uid 99); 16 Feb 2005 20:05:14 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from artishost.net (HELO artisangel.artishost.net) (69.56.132.178)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 16 Feb 2005 12:05:12 -0800
Received: from [81.25.38.144] (helo=[81.25.38.144])
	by artisangel.artishost.net with esmtpa (Exim 4.43)
	id 1D1VQ0-0004tK-UL
	for lucene-user@jakarta.apache.org; Wed, 16 Feb 2005 14:05:06 -0600
Date: Wed, 16 Feb 2005 22:04:56 +0200
From: Yura Smolsky <info@altervision.biz>
X-Mailer: The Bat! (v3.0.1.33) Professional
Reply-To: Yura Smolsky <info@altervision.biz>
Organization: AlterVision Web Development Group
X-Priority: 3 (Normal)
Message-ID: <11710702445.20050216220456@altervision.biz>
To: lucene-user@jakarta.apache.org
Subject: big index and multi threaded IndexSearcher
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Spam-Score: 0.0
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - artisangel.artishost.net
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - altervision.biz
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello.

I use PyLucene, python port of Lucene.

I have problem about using big index (50Gb) with IndexSearcher
from many threads.
I use IndexSearcher from PyLucene's PythonThread. It's really a wrapper
around a Java/libgcj thread that python is tricked into thinking
it's one of its own.

The core of problem:
When I have many threads (more than 5) I receive this exception:
  File "/usr/lib/python2.4/site-packages/PyLucene.py", line 2241, in search
    def search(*args): return _PyLucene.Searcher_search(*args)
ValueError: java.lang.OutOfMemoryError
   <<No stacktrace available>>

When I decrease number of threads to 3 or even 1 then search works.
How do many threads can affect to this exception?..

I have 2 Gb of memory. So with one thread the process takes like
1200-1300Mb.

Andi Vajda suggested that "There may be overhead involved in having
multiple threads against a given index."

Does anyone here have experience in handling big indexes with many
threads?

Any ideas are appreciated.

Yura Smolsky.



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13215-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 16 20:10:49 2005
Return-Path: <lucene-user-return-13215-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 93272 invoked from network); 16 Feb 2005 20:10:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 16 Feb 2005 20:10:48 -0000
Received: (qmail 64916 invoked by uid 500); 16 Feb 2005 20:10:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 64894 invoked by uid 500); 16 Feb 2005 20:10:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64881 invoked by uid 99); 16 Feb 2005 20:10:44 -0000
X-ASF-Spam-Status: No, hits=1.1 required=10.0
	tests=RCVD_BY_IP,RCVD_IN_SBL,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of petite.abeille@gmail.com designates 64.233.184.193 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.193)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 16 Feb 2005 12:10:43 -0800
Received: by wproxy.gmail.com with SMTP id 58so194720wri
        for <lucene-user@jakarta.apache.org>; Wed, 16 Feb 2005 12:10:41 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=gufHWCcSLfx1+yppEkXgW7r0WmH1FveCIQnm/U3M5cYPtO8fjKkFFPm+hhshkymloy4zQewWD3XAQsCSqoi+IE/YZ/Rmt+rBZdk5FfuiR9rHoiDlSHCoze2wPt0cd7KymlBqy5DgdQ6UOAJqxmYHraC/3CehCgbSOxYukaEhdhk=
Received: by 10.54.57.9 with SMTP id f9mr125422wra;
        Wed, 16 Feb 2005 12:10:40 -0800 (PST)
Received: from ?10.0.1.52? ([62.167.99.145])
        by smtp.gmail.com with ESMTP id 33sm13410wra.2005.02.16.12.10.39;
        Wed, 16 Feb 2005 12:10:40 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <11710702445.20050216220456@altervision.biz>
References: <11710702445.20050216220456@altervision.biz>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <e57536a4ebba0ad6ac3d4c40314a25b4@gmail.com>
Content-Transfer-Encoding: 7bit
From: PA <petite.abeille@gmail.com>
Subject: Re: big index and multi threaded IndexSearcher
Date: Wed, 16 Feb 2005 21:11:11 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Feb 16, 2005, at 21:04, Yura Smolsky wrote:

> Does anyone here have experience in handling big indexes with many
> threads?

What about turning the problem around and spitting your index in 
several chunks? Then you could search those (smaller) indices in 
parallel and consolidate the final result, no?

Cheers

--
PA, Onnay Equitursay
http://alt.textdrive.com/


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13216-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 16 20:15:02 2005
Return-Path: <lucene-user-return-13216-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 95917 invoked from network); 16 Feb 2005 20:15:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 16 Feb 2005 20:15:02 -0000
Received: (qmail 72736 invoked by uid 500); 16 Feb 2005 20:14:59 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 72388 invoked by uid 500); 16 Feb 2005 20:14:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 72374 invoked by uid 99); 16 Feb 2005 20:14:58 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 16 Feb 2005 12:14:56 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 577DE13E2009; Wed, 16 Feb 2005 15:14:52 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 80B6713E2008
	for <lucene-user@jakarta.apache.org>; Wed, 16 Feb 2005 15:14:32 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <11710702445.20050216220456@altervision.biz>
References: <11710702445.20050216220456@altervision.biz>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <95e8b93711066478d102a9f149b07167@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: big index and multi threaded IndexSearcher
Date: Wed, 16 Feb 2005 15:14:26 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-3.4 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Are you using multiple IndexSearcher instances?    Or only one and 
sharing it across multiple threads?

If using a single shared IndexSearcher instance doesn't help, it may be 
beneficial to port your code to Java and try it there.

I'm just now getting into PyLucene myself - building a demo for a Unix 
User's Group presentation I'm giving.

	Erik


On Feb 16, 2005, at 3:04 PM, Yura Smolsky wrote:

> Hello.
>
> I use PyLucene, python port of Lucene.
>
> I have problem about using big index (50Gb) with IndexSearcher
> from many threads.
> I use IndexSearcher from PyLucene's PythonThread. It's really a wrapper
> around a Java/libgcj thread that python is tricked into thinking
> it's one of its own.
>
> The core of problem:
> When I have many threads (more than 5) I receive this exception:
>   File "/usr/lib/python2.4/site-packages/PyLucene.py", line 2241, in 
> search
>     def search(*args): return _PyLucene.Searcher_search(*args)
> ValueError: java.lang.OutOfMemoryError
>    <<No stacktrace available>>
>
> When I decrease number of threads to 3 or even 1 then search works.
> How do many threads can affect to this exception?..
>
> I have 2 Gb of memory. So with one thread the process takes like
> 1200-1300Mb.
>
> Andi Vajda suggested that "There may be overhead involved in having
> multiple threads against a given index."
>
> Does anyone here have experience in handling big indexes with many
> threads?
>
> Any ideas are appreciated.
>
> Yura Smolsky.
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13217-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 16 20:30:05 2005
Return-Path: <lucene-user-return-13217-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 18118 invoked from network); 16 Feb 2005 20:30:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 16 Feb 2005 20:30:05 -0000
Received: (qmail 92424 invoked by uid 500); 16 Feb 2005 20:29:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 92397 invoked by uid 500); 16 Feb 2005 20:29:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 92381 invoked by uid 99); 16 Feb 2005 20:29:52 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from artishost.net (HELO artisangel.artishost.net) (69.56.132.178)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 16 Feb 2005 12:29:51 -0800
Received: from [81.25.38.144] (helo=[81.25.38.144])
	by artisangel.artishost.net with esmtpa (Exim 4.43)
	id 1D1Vnt-0005Xz-CC; Wed, 16 Feb 2005 14:29:47 -0600
Date: Wed, 16 Feb 2005 22:28:04 +0200
From: Yura Smolsky <info@altervision.biz>
X-Mailer: The Bat! (v3.0.1.33) Professional
Reply-To: Yura Smolsky <info@altervision.biz>
Organization: AlterVision Web Development Group
X-Priority: 3 (Normal)
Message-ID: <1844570369.20050216222804@altervision.biz>
To: PA <petite.abeille@gmail.com>
CC: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re[2]: big index and multi threaded IndexSearcher
In-Reply-To: <e57536a4ebba0ad6ac3d4c40314a25b4@gmail.com>
References: <11710702445.20050216220456@altervision.biz>
 <e57536a4ebba0ad6ac3d4c40314a25b4@gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Spam-Score: 0.0
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - artisangel.artishost.net
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - altervision.biz
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello, PA.


>> Does anyone here have experience in handling big indexes with many
>> threads?
P> What about turning the problem around and spitting your index in
P> several chunks? Then you could search those (smaller) indices in 
P> parallel and consolidate the final result, no?

Well, I have not 6 CPU in one box :)

Yura Smolsky.



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13218-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 16 20:30:16 2005
Return-Path: <lucene-user-return-13218-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 18194 invoked from network); 16 Feb 2005 20:30:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 16 Feb 2005 20:30:15 -0000
Received: (qmail 93360 invoked by uid 500); 16 Feb 2005 20:30:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 93332 invoked by uid 500); 16 Feb 2005 20:30:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93319 invoked by uid 99); 16 Feb 2005 20:30:01 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from artishost.net (HELO artisangel.artishost.net) (69.56.132.178)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 16 Feb 2005 12:30:00 -0800
Received: from [81.25.38.144] (helo=[81.25.38.144])
	by artisangel.artishost.net with esmtpa (Exim 4.43)
	id 1D1Vnx-0005Xz-L9; Wed, 16 Feb 2005 14:29:51 -0600
Date: Wed, 16 Feb 2005 22:29:40 +0200
From: Yura Smolsky <info@altervision.biz>
X-Mailer: The Bat! (v3.0.1.33) Professional
Reply-To: Yura Smolsky <info@altervision.biz>
Organization: AlterVision Web Development Group
X-Priority: 3 (Normal)
Message-ID: <57408284.20050216222940@altervision.biz>
To: Erik Hatcher <erik@ehatchersolutions.com>
CC: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re[2]: big index and multi threaded IndexSearcher
In-Reply-To: <95e8b93711066478d102a9f149b07167@ehatchersolutions.com>
References: <11710702445.20050216220456@altervision.biz>
 <95e8b93711066478d102a9f149b07167@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Spam-Score: 0.0
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - artisangel.artishost.net
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - altervision.biz
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello, Erik.

EH> Are you using multiple IndexSearcher instances?    Or only one and
EH> sharing it across multiple threads?

EH> If using a single shared IndexSearcher instance doesn't help, it may be
EH> beneficial to port your code to Java and try it there.

I have single instance of IndexSearcher and I pass reference of it to each
thread. I will port code to Java if no other ideas will come my
mind...

EH> On Feb 16, 2005, at 3:04 PM, Yura Smolsky wrote:

>> Hello.
>>
>> I use PyLucene, python port of Lucene.
>>
>> I have problem about using big index (50Gb) with IndexSearcher
>> from many threads.
>> I use IndexSearcher from PyLucene's PythonThread. It's really a wrapper
>> around a Java/libgcj thread that python is tricked into thinking
>> it's one of its own.
>>
>> The core of problem:
>> When I have many threads (more than 5) I receive this exception:
>>   File "/usr/lib/python2.4/site-packages/PyLucene.py", line 2241, in
>> search
>>     def search(*args): return _PyLucene.Searcher_search(*args)
>> ValueError: java.lang.OutOfMemoryError
>>    <<No stacktrace available>>
>>
>> When I decrease number of threads to 3 or even 1 then search works.
>> How do many threads can affect to this exception?..
>>
>> I have 2 Gb of memory. So with one thread the process takes like
>> 1200-1300Mb.
>>
>> Andi Vajda suggested that "There may be overhead involved in having
>> multiple threads against a given index."
>>
>> Does anyone here have experience in handling big indexes with many
>> threads?


Yura Smolsky.



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13219-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 16 20:39:29 2005
Return-Path: <lucene-user-return-13219-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 23126 invoked from network); 16 Feb 2005 20:39:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 16 Feb 2005 20:39:29 -0000
Received: (qmail 9196 invoked by uid 500); 16 Feb 2005 20:39:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 9174 invoked by uid 500); 16 Feb 2005 20:39:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 9161 invoked by uid 99); 16 Feb 2005 20:39:25 -0000
X-ASF-Spam-Status: No, hits=1.1 required=10.0
	tests=RCVD_BY_IP,RCVD_IN_SBL,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of petite.abeille@gmail.com designates 64.233.184.206 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.206)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 16 Feb 2005 12:39:23 -0800
Received: by wproxy.gmail.com with SMTP id 71so194620wri
        for <lucene-user@jakarta.apache.org>; Wed, 16 Feb 2005 12:39:22 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:mime-version:in-reply-to:references:content-type:message-id:content-transfer-encoding:from:subject:date:to:x-mailer;
        b=T6iaMJ+7HAP7xL+zQC0sBpCS4MO23yQAFG6BPgwKu4gW8iPLOesgFcZdVjic0TEwCXQZrsvvTyYa2KjGlAkQflJ06+cco4GXDXBp78kQpJyVDlJKyPu7LrjaUzmDSBddBnTGtpqLVTu8vwMKXOzrcjCXnB3IQXSoPbr5+WYVQXY=
Received: by 10.54.40.34 with SMTP id n34mr52355wrn;
        Wed, 16 Feb 2005 12:39:21 -0800 (PST)
Received: from ?10.0.1.52? ([62.167.99.145])
        by smtp.gmail.com with ESMTP id 66sm100273wra.2005.02.16.12.39.20;
        Wed, 16 Feb 2005 12:39:21 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <1844570369.20050216222804@altervision.biz>
References: <11710702445.20050216220456@altervision.biz> <e57536a4ebba0ad6ac3d4c40314a25b4@gmail.com> <1844570369.20050216222804@altervision.biz>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <cc182dd9affa9da20b59358fdebe8b8e@gmail.com>
Content-Transfer-Encoding: 7bit
From: PA <petite.abeille@gmail.com>
Subject: Re: Re[2]: big index and multi threaded IndexSearcher
Date: Wed, 16 Feb 2005 21:33:13 +0100
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Feb 16, 2005, at 21:28, Yura Smolsky wrote:

> Well, I have not 6 CPU in one box :)

What about 6 boxes with 1 CPU each :P

Cheers

--
PA, Onnay Equitursay
http://alt.textdrive.com/


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13220-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 16 22:40:07 2005
Return-Path: <lucene-user-return-13220-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 81540 invoked from network); 16 Feb 2005 22:40:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 16 Feb 2005 22:40:07 -0000
Received: (qmail 40335 invoked by uid 500); 16 Feb 2005 22:39:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 40305 invoked by uid 500); 16 Feb 2005 22:39:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40275 invoked by uid 99); 16 Feb 2005 22:39:56 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of john.wang@gmail.com designates 64.233.170.202 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.202)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 16 Feb 2005 14:39:56 -0800
Received: by rproxy.gmail.com with SMTP id 34so168230rns
        for <lucene-user@jakarta.apache.org>; Wed, 16 Feb 2005 14:39:53 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type:content-transfer-encoding;
        b=H3UDylwrIpPRJ0juWGSsdqSmjMCPOuEpLenW02kLympD6khyVhZmDrHje4FPpCt2my4fkonaEUdVhUSji/py7syf3exdMgr5yszxxy4Fm2Rw9j9guQ+sJUemp538ZN1wNNCGm9iVWsuAK1HvBCQyiccKldGHt7TH+EKmcCEuxNI=
Received: by 10.38.8.16 with SMTP id 16mr116017rnh;
        Wed, 16 Feb 2005 14:39:52 -0800 (PST)
Received: by 10.38.179.63 with HTTP; Wed, 16 Feb 2005 14:39:52 -0800 (PST)
Message-ID: <8837fb7705021614393260cf76@mail.gmail.com>
Date: Wed, 16 Feb 2005 14:39:52 -0800
From: John Wang <john.wang@gmail.com>
Reply-To: John Wang <john.wang@gmail.com>
To: lucene-user@jakarta.apache.org
Subject: knowing which field contributed the search result
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi:

   Is there way to find out given a hit from a search, find out which
fields contributed to the hit?

e.g.

If my search for:

contents1="brown fox" OR contents2="black bear"

can the document founded by this query also have information on
whether it was found via contents1 or contents2 or both.


Thanks

-John

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13221-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 17 06:34:28 2005
Return-Path: <lucene-user-return-13221-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 56380 invoked from network); 17 Feb 2005 06:34:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Feb 2005 06:34:28 -0000
Received: (qmail 82872 invoked by uid 500); 17 Feb 2005 06:34:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 82851 invoked by uid 500); 17 Feb 2005 06:34:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 82838 invoked by uid 99); 17 Feb 2005 06:34:22 -0000
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=FROM_ENDS_IN_NUMS,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of jak-lucene-user@m.gmane.org designates 80.91.229.2 as permitted sender)
Received: from main.gmane.org (HELO ciao.gmane.org) (80.91.229.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 16 Feb 2005 22:34:20 -0800
Received: from list by ciao.gmane.org with local (Exim 4.43)
	id 1D1fC9-000725-5h
	for lucene-user@jakarta.apache.org; Thu, 17 Feb 2005 07:31:25 +0100
Received: from netblock-66-159-221-83.dslextreme.com ([66.159.221.83])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <lucene-user@jakarta.apache.org>; Thu, 17 Feb 2005 07:31:25 +0100
Received: from aurora00 by netblock-66-159-221-83.dslextreme.com with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <lucene-user@jakarta.apache.org>; Thu, 17 Feb 2005 07:31:25 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: lucene-user@jakarta.apache.org
From: aurora <aurora00@gmail.com>
Subject: bookkeeping documents cause problem in Sort
Date: Wed, 16 Feb 2005 22:33:57 -0800
Lines: 32
Message-ID: <opsmbwivr46yt6e7@wtung-w2k01.amer.cisco.com>
Mime-Version: 1.0
Content-Type: text/plain; format=flowed; delsp=yes; charset=iso-8859-15
Content-Transfer-Encoding: Quoted-Printable
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: netblock-66-159-221-83.dslextreme.com
User-Agent: Opera M2/7.54u1 (Win32, build 3918)
Sender: news <news@sea.gmane.org>
X-Gmane-MailScanner: Found to be clean
X-Gmane-MailScanner: Found to be clean
X-MailScanner-From: jak-lucene-user@m.gmane.org
X-MailScanner-To: lucene-user@jakarta.apache.org
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I understand that unlike relational database, Lucene is flexible in havi=
ng  =

documents with different set of fields. My index has documents with a da=
te  =

and content field. There are also a few book keeping documents that does=
  =

not have the date field. Things work well except in one case:

   Sort sort =3D Sort('date');
   searcher.search(query, sort);

In this case an exception is thrown:

   java.lang.RuntimeException: field "date" does not appear to be indexe=
d

It does not make sense to sort by 'date' when the document does not has =
 =

'date'. On the other hand I don't expect the search() to return any book=
  =

keeping documents at all since the current look for fields not in those =
 =

documents. Is this an implementation issue or is there any inherent reas=
on  =

all document need to have the 'date' field if it is sorted?


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13222-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 17 06:37:47 2005
Return-Path: <lucene-user-return-13222-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 57291 invoked from network); 17 Feb 2005 06:37:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Feb 2005 06:37:47 -0000
Received: (qmail 87180 invoked by uid 500); 17 Feb 2005 06:37:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 87158 invoked by uid 500); 17 Feb 2005 06:37:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 87144 invoked by uid 99); 17 Feb 2005 06:37:42 -0000
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=FORGED_RCVD_HELO,FROM_ENDS_IN_NUMS,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from outbound.mailhop.org (HELO outbound.mailhop.org) (63.208.196.171)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 16 Feb 2005 22:37:41 -0800
Received: from adsl-20-159.37-151.net24.it ([151.37.159.20] helo=mxmail.log1.net)
	by outbound.mailhop.org with esmtpa (Exim 4.44)
	id 1D1fIB-000DPG-Dn
	for lucene-user@jakarta.apache.org; Thu, 17 Feb 2005 01:37:39 -0500
Received: from mxmail.log1.net (mxmail.log1.net [127.0.0.1])
	by mxmail.log1.net (Postfix) with ESMTP id 566E725A44
	for <lucene-user@jakarta.apache.org>; Thu, 17 Feb 2005 07:37:39 +0000 (Local time zone must be set--see zic manual page)
Subject: Using the highlighter from the sandbox with a prefix query.
From: lucuser4851 <lucuser4851@log1.net>
To: lucene-user@jakarta.apache.org
Content-Type: text/plain
Date: Thu, 17 Feb 2005 07:37:38 +0000
Message-Id: <1108625858.12974.3.camel@mxmail.log1.net>
Mime-Version: 1.0
X-Mailer: Evolution 2.0.2 
Content-Transfer-Encoding: 7bit
X-Mail-Handler: MailHop Outbound by DynDNS.org
X-Originating-IP: 151.37.159.20
X-Report-Abuse-To: abuse@dyndns.org (see http://www.mailhop.org/outbound/abuse.html for abuse reporting information)
X-MHO-User: comp112
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Dear All,
 We have been using the highlighter from the lucene sandbox, which works
very nicely most of the time. However when we try and use it with a
prefix query (which is what you get having parsed a wild-card query), it
doesn't return any highlighted sections. Has anyone else experienced
this problem, or found a way around it?

Thanks a lot for your suggestions!!



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13223-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 17 08:55:59 2005
Return-Path: <lucene-user-return-13223-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 43910 invoked from network); 17 Feb 2005 08:55:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Feb 2005 08:55:59 -0000
Received: (qmail 74869 invoked by uid 500); 17 Feb 2005 08:55:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 74843 invoked by uid 500); 17 Feb 2005 08:55:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 74828 invoked by uid 99); 17 Feb 2005 08:55:52 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from web26002.mail.ukl.yahoo.com (HELO web26002.mail.ukl.yahoo.com) (217.12.10.213)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 17 Feb 2005 00:55:49 -0800
Received: (qmail 74414 invoked by uid 60001); 17 Feb 2005 08:55:47 -0000
Message-ID: <20050217085547.74412.qmail@web26002.mail.ukl.yahoo.com>
Received: from [193.36.230.96] by web26002.mail.ukl.yahoo.com via HTTP; Thu, 17 Feb 2005 08:55:46 GMT
Date: Thu, 17 Feb 2005 08:55:46 +0000 (GMT)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: Re: Using the highlighter from the sandbox with a prefix query.
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <1108625858.12974.3.camel@mxmail.log1.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

See the highlighter's package.html for a description
of how query.rewrite should be used to solve this.

Cheers,
Mark


 --- lucuser4851 <lucuser4851@log1.net> wrote: 
> Dear All,
>  We have been using the highlighter from the lucene
> sandbox, which works
> very nicely most of the time. However when we try
> and use it with a
> prefix query (which is what you get having parsed a
> wild-card query), it
> doesn't return any highlighted sections. Has anyone
> else experienced
> this problem, or found a way around it?
> 
> Thanks a lot for your suggestions!!
> 
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 
>  


	
	
		
___________________________________________________________ 
ALL-NEW Yahoo! Messenger - all new features - even more fun! http://uk.messenger.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13224-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 17 09:08:57 2005
Return-Path: <lucene-user-return-13224-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 49408 invoked from network); 17 Feb 2005 09:08:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Feb 2005 09:08:57 -0000
Received: (qmail 88143 invoked by uid 500); 17 Feb 2005 09:08:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 87280 invoked by uid 500); 17 Feb 2005 09:08:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 87266 invoked by uid 99); 17 Feb 2005 09:08:53 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from moutng.kundenserver.de (HELO moutng.kundenserver.de) (212.227.126.185)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 17 Feb 2005 01:08:51 -0800
Received: from [212.227.126.160] (helo=mrelayng.kundenserver.de)
	by moutng.kundenserver.de with esmtp (Exim 3.35 #1)
	id 1D1heT-0004Pn-00
	for lucene-user@jakarta.apache.org; Thu, 17 Feb 2005 10:08:49 +0100
Received: from [82.135.13.186] (helo=voodoo.federation.net)
	by mrelayng.kundenserver.de with asmtp (TLSv1:RC4-MD5:128)
	(Exim 3.35 #1)
	id 1D1heT-0000Xz-00
	for lucene-user@jakarta.apache.org; Thu, 17 Feb 2005 10:08:49 +0100
From: Daniel Naber <daniel.naber@t-online.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Using the highlighter from the sandbox with a prefix query.
Date: Thu, 17 Feb 2005 10:08:48 +0100
User-Agent: KMail/1.7.1
References: <1108625858.12974.3.camel@mxmail.log1.net>
In-Reply-To: <1108625858.12974.3.camel@mxmail.log1.net>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
Message-Id: <200502171008.48160.daniel.naber@t-online.de>
X-Provags-ID: kundenserver.de abuse@kundenserver.de auth:94b5a5949d2eb00693e70b0c89be5163
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Thursday 17 February 2005 08:37, lucuser4851 wrote:

> =A0We have been using the highlighter from the lucene sandbox, which works
> very nicely most of the time. However when we try and use it with a
> prefix query (which is what you get having parsed a wild-card query), it
> doesn't return any highlighted sections. Has anyone else experienced
> this problem, or found a way around it?

You need to call rewrite() on the query before you pass it to the highlight=
er.

Regards
 Daniel

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13225-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 17 09:27:31 2005
Return-Path: <lucene-user-return-13225-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 59283 invoked from network); 17 Feb 2005 09:27:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Feb 2005 09:27:30 -0000
Received: (qmail 13426 invoked by uid 500); 17 Feb 2005 09:27:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 13405 invoked by uid 500); 17 Feb 2005 09:27:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13391 invoked by uid 99); 17 Feb 2005 09:27:25 -0000
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=MIME_BASE64_BLANKS,MIME_BASE64_TEXT
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO dev.nannet.co.kr) (221.146.159.218)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 17 Feb 2005 01:27:24 -0800
Received: from win98 ([192.168.1.98])
	by dev.nannet.co.kr (8.12.8/8.12.8) with SMTP id j1H9OnoM014447
	for <lucene-user@jakarta.apache.org>; Thu, 17 Feb 2005 18:24:49 +0900
Message-ID: <003401c514d3$37de55e0$6201a8c0@win98>
Reply-To: "Youngho Cho" <youngho@nannet.co.kr>
From: "Youngho Cho" <youngho@nannet.co.kr>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: ParrellelMultiSearcher Question
Date: Thu, 17 Feb 2005 18:29:45 +0900
Organization: Nannet
MIME-Version: 1.0
Content-Type: text/plain;
	charset="ks_c_5601-1987"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

SGVsbG8sDQoNCkkgd291bGQgbGlrZSB0byB1c2UgUGFycmVsbGVsTXVsdGlTZWFyY2hlciB3aXRo
IGZldyBSZW1vdGVTZWFyY2hhYmxlcy4NCg0KSWYgb25lIG9mIHRoZSByZW1vdGUgc2VydmVyIGlz
IGRvd24sIA0KQ2FuIEkgcGFycmVsbGVsTXVsdGlTZWFyY2hlciBzZXQgY2xvc2UoKSBhbmQgDQpt
YWtlIG5ldyBQYXJyZWxsZWxNdWx0aVNlYXJjaGVyIHdpdGggb3RoZXIgbGl2ZSBSZW1vdGVTZWFy
Y2hhYmxlcyA/DQoNClRoYW5rcy4NCg0KWW91bmdobw==



From lucene-user-return-13226-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 17 09:35:09 2005
Return-Path: <lucene-user-return-13226-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 62595 invoked from network); 17 Feb 2005 09:35:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Feb 2005 09:35:09 -0000
Received: (qmail 21201 invoked by uid 500); 17 Feb 2005 09:35:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 21177 invoked by uid 500); 17 Feb 2005 09:35:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21164 invoked by uid 99); 17 Feb 2005 09:35:04 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_30_40,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from dns1.hemscott.co.uk (HELO dns1.hemscott.co.uk) (195.47.237.192)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 17 Feb 2005 01:35:03 -0800
Received: from exchange.hsnet.hemscott.co.uk (exchange [172.22.0.216])
	by dns1.hemscott.co.uk (8.11.6/8.11.6) with ESMTP id j1H9Yxn15226
	for <lucene-user@jakarta.apache.org>; Thu, 17 Feb 2005 09:34:59 GMT
Received: by exchange.hemscott.co.uk with Internet Mail Service (5.5.2653.19)
	id <1XYS8YBX>; Thu, 17 Feb 2005 09:34:59 -0000
Message-ID: <7157427725CF4A46ADC522959748E7A20FE85B12@exchange.hemscott.co.uk>
From: Paul Mellor <pmellor@hemscott.co.uk>
To: "Lucene Mailing List (E-mail)" <lucene-user@jakarta.apache.org>
Subject: RE: Concurrent searching & re-indexing
Date: Thu, 17 Feb 2005 09:34:58 -0000
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C514D3.F247E4A0"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C514D3.F247E4A0
Content-Type: text/plain

Otis,

Looking at your reply again, I have a couple of questions -

"IndexSearcher (IndexReader, really) does take a snapshot of the index state
when it is opened, so at that time the index segments listed in segments
should be in a complete state.  It also reads index files when searching, of
course."

1. If IndexReader takes a snapshot of the index state when opened and then
reads the files when searching, what would happen if the files it takes a
snapshot of are deleted before the search is performed (as would happen with
a reindexing in the period between opening an IndexSearcher and using it to
search)?

2. Does a similar potential problem exist when optimising an index, if this
combines all the segments into a single file?

Many thanks

Paul

-----Original Message-----
From: Paul Mellor [mailto:pmellor@hemscott.co.uk]
Sent: 16 February 2005 17:37
To: 'Lucene Users List'
Subject: RE: Concurrent searching & re-indexing


But all write access to the index is synchronized, so that although multiple
threads are creating an IndexWriter for the same directory and using it to
totally recreate that index, only one thread is doing this at once.

I was concerned about the safety of using an IndexSearcher to perform
queries on an index that is in the process of being recreated from scratch,
but I guess that if the IndexSearcher takes a snapshot of the index when it
is created (and in my code this creation is synchronized with the write
operations as well so that the threads wait for the write operations to
finish before instantiating an IndexSearcher, and vice versa) this can't be
a problem.

-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]
Sent: 16 February 2005 17:30
To: Lucene Users List
Subject: Re: Concurrent searching & re-indexing


Hi Paul,

If I understand your setup correctly, it looks like you are running
multiple threads that create IndexWriter for the ame directory.  That's
a "no no".

This section (first hit) describes all various concurrency issues with
regards to adds, updates, optimization, and searches:
  http://www.lucenebook.com/search?query=concurrent

IndexSearcher (IndexReader, really) does take a snapshot of the index
state when it is opened, so at that time the index segments listed in
segments should be in a complete state.  It also reads index files when
searching, of course.

Otis


--- Paul Mellor <pmellor@hemscott.co.uk> wrote:

> Hi,
> 
> I've read from various sources on the Internet that it is perfectly
> safe to
> simultaneously search a Lucene index that is being updated from
> another
> Thread, as long as all write access to the index is synchronized. 
> But does
> this apply only to updating the index (i.e. deleting and adding
> documents),
> or to a complete re-indexing (i.e. create a new IndexWriter with the
> 'create' argument true and then re-add all the documents)?
> 
> I have a class which encapsulates all access to my index, so that
> writes can
> be synchronized.  This class also exposes a method to obtain an
> IndexSearcher for the index.  I'm running unit tests to test this
> which
> create many threads - each thread does a complete re-indexing and
> then
> obtains an IndexSearcher and does a query.
> 
> I'm finding that with sufficiently high numbers of threads, I'm
> getting the
> occasional failure, with the following exception thrown when
> attempting to
> construct a new IndexWriter (during the reindexing) -
> 
> java.io.IOException: couldn't delete _a.f1
> at org.apache.lucene.store.FSDirectory.create(FSDirectory.java:166)
> at
>
org.apache.lucene.store.FSDirectory.getDirectory(FSDirectory.java:135)
> at
>
org.apache.lucene.store.FSDirectory.getDirectory(FSDirectory.java:113)
> at org.apache.lucene.index.IndexWriter.<init>(IndexWriter.java:151)
> ...
> 
> The exception occurs quite infrequently (usually for somewhere
> between 1-5%
> of the Threads).
> 
> Does the IndexSearcher take a 'snapshot' of the index at creation? 
> Or does
> it access the filesystem whilst searching?  I am also synchronizing
> creation
> of the IndexSearcher with the write lock, so that the IndexSearcher
> is not
> created whilst the index is being recreated (and vice versa).  But do
> I need
> to ensure that the IndexSearcher cannot search whilst the index is
> being
> recreated as well?
> 
> Note that a similar unit test where the threads update the index
> (rather
> than recreate it from scratch) works fine, as expected.
> 
> This is running on Windows 2000.
> 
> Any help would be much appreciated!
> 
> Paul
> 
> This e-mail and any files transmitted with it are confidential and
> intended
> solely for the use of the individual or entity to whom they are
> addressed.
> If you are not the intended recipient, you should not copy,
> retransmit or
> use the e-mail and/or files transmitted with it  and should not
> disclose
> their contents. In such a case, please notify
> netwebmaster@hemscott.co.uk
> and delete the message from your own system. Any opinions expressed
> in this
> e-mail and/or files transmitted with it that do not relate to the
> official
> business of this company are those solely of the author and should
> not be
> interpreted as being endorsed by this company.
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


_____________________________________________________________________
This e-mail has been scanned for viruses by MCI's Internet Managed Scanning
Services - powered by MessageLabs. For further information visit
http://www.mci.com

This e-mail and any files transmitted with it are confidential and intended
solely for the use of the individual or entity to whom they are addressed.
If you are not the intended recipient, you should not copy, retransmit or
use the e-mail and/or files transmitted with it  and should not disclose
their contents. In such a case, please notify netwebmaster@hemscott.co.uk
and delete the message from your own system. Any opinions expressed in this
e-mail and/or files transmitted with it that do not relate to the official
business of this company are those solely of the author and should not be
interpreted as being endorsed by this company.


_____________________________________________________________________
This e-mail has been scanned for viruses by MCI's Internet Managed Scanning
Services - powered by MessageLabs. For further information visit
http://www.mci.com

_____________________________________________________________________
This e-mail has been scanned for viruses by MCI's Internet Managed Scanning
Services - powered by MessageLabs. For further information visit
http://www.mci.com

This e-mail and any files transmitted with it are confidential and intended
solely for the use of the individual or entity to whom they are addressed.
If you are not the intended recipient, you should not copy, retransmit or
use the e-mail and/or files transmitted with it  and should not disclose
their contents. In such a case, please notify netwebmaster@hemscott.co.uk
and delete the message from your own system. Any opinions expressed in this
e-mail and/or files transmitted with it that do not relate to the official
business of this company are those solely of the author and should not be
interpreted as being endorsed by this company.

------_=_NextPart_001_01C514D3.F247E4A0--

From lucene-user-return-13227-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 17 09:48:36 2005
Return-Path: <lucene-user-return-13227-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 69294 invoked from network); 17 Feb 2005 09:48:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Feb 2005 09:48:36 -0000
Received: (qmail 41835 invoked by uid 500); 17 Feb 2005 09:48:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 41810 invoked by uid 500); 17 Feb 2005 09:48:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 41797 invoked by uid 99); 17 Feb 2005 09:48:31 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from graph.ontopia.net (HELO dhcp-44.opera.com) (193.69.113.28)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 17 Feb 2005 01:48:28 -0800
Received: from dhcp-44.opera.com (localhost [127.0.0.1])
	by dhcp-44.opera.com (Postfix) with ESMTP id 8F4631317A8
	for <lucene-user@jakarta.apache.org>; Thu, 17 Feb 2005 10:48:23 +0100 (CET)
Date: Thu, 17 Feb 2005 10:48:21 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Strange Index problem
References: <00ADB1D1C6D9434989D51BA9E55FAE0E733BB7@de010367.de.ina.com>
From: =?iso-8859-1?Q?Geir_Ove_Gr=F8nmo?= <grove@ontopia.net>
Organization: Ontopia
Content-Type: text/plain; format=flowed; delsp=yes; charset=iso-8859-1
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-ID: <opsmb5ivg45mlp6p@dhcp-44.opera.com>
In-Reply-To: <00ADB1D1C6D9434989D51BA9E55FAE0E733BB7@de010367.de.ina.com>
User-Agent: Opera M2(BETA1)/8.00 (Linux, build 913)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Tue, 25 Jan 2005 13:54:00 +0100, Nestel, Frank  IZ/HZA-IOL  
<nestefan@de.ina.com> wrote:

> In one project we've a system which incrementally updates
> an index every night. This has been working fine. We've
> upgraded to Lucene 1.4.2 when it was there without observing a
> difference instantly. But now we regularly run into trouble.
> It seems like our index has "captured" a very defunc document
> and as long as you work around this document the index
> is still working, but as soon as you touch that particular
> document, you run into trouble:
>
> 	java.lang.IndexOutOfBoundsException: Index: 114, Size: 19
> at java.util.ArrayList.RangeCheck	(ArrayList.java:547) 	at
> java.util.ArrayList.get(ArrayList.java:322) 	at
> org.apache.lucene.index.FieldInfos.fieldInfo(FieldInfos.java:155)
> at 	org.apache.lucene.index.FieldsReader.doc(FieldsReader.java:66)
> at
> org.apache.lucene.index.SegmentReader.document(SegmentReader.java:237)
> at
> org.apache.lucene.index.SegmentMerger.mergeFields(SegmentMerger.java:185
> ) 	at
> org.apache.lucene.index.SegmentMerger.merge(SegmentMerger.java:92)
> at
> org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.java:487)
> at
> org.apache.lucene.index.IndexWriter.optimize(IndexWriter.java:366)

I've just found a similar traceback in one of our deployed systems (using
version 1.4.3):

java.lang.IndexOutOfBoundsException: Index: 104, Size: 11
         at java.util.ArrayList.RangeCheck(ArrayList.java:507)
         at java.util.ArrayList.get(ArrayList.java:324)
         at  
org.apache.lucene.index.FieldInfos.fieldInfo(FieldInfos.java:155)
         at org.apache.lucene.index.FieldsReader.doc(FieldsReader.java:66)
         at  
org.apache.lucene.index.SegmentReader.document(SegmentReader.java:237)
         at  
org.apache.lucene.index.SegmentMerger.mergeFields(SegmentMerger.java:185)
         at  
org.apache.lucene.index.SegmentMerger.merge(SegmentMerger.java:92)
         at  
org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.java:487)
         at  
org.apache.lucene.index.IndexWriter.optimize(IndexWriter.java:366)

After having gotten this error from the optimize() call, it is no longer  
possible
to search:

java.io.IOException: read past EOF
         at org.apache.lucene.store.InputStream.refill(InputStream.java:154)
         at  
org.apache.lucene.store.InputStream.readByte(InputStream.java:43)
         at  
org.apache.lucene.store.InputStream.readBytes(InputStream.java:57)
         at  
org.apache.lucene.index.SegmentReader.norms(SegmentReader.java:356)
         at org.apache.lucene.index.MultiReader.norms(MultiReader.java:159)
         at  
org.apache.lucene.search.TermQuery$TermWeight.scorer(TermQuery.java:64)
         at  
org.apache.lucene.search.BooleanQuery$BooleanWeight.scorer(BooleanQuery.java:165)
         at  
org.apache.lucene.search.BooleanQuery$BooleanWeight.scorer(BooleanQuery.java:165)
         at  
org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:85)
         at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:64)
         at org.apache.lucene.search.Hits.<init>(Hits.java:43)
         at org.apache.lucene.search.Searcher.search(Searcher.java:33)
         at org.apache.lucene.search.Searcher.search(Searcher.java:27)

Any ideas?

-- 
Geir O.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13228-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 17 10:37:55 2005
Return-Path: <lucene-user-return-13228-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 92808 invoked from network); 17 Feb 2005 10:37:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Feb 2005 10:37:55 -0000
Received: (qmail 7961 invoked by uid 500); 17 Feb 2005 10:37:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 7934 invoked by uid 500); 17 Feb 2005 10:37:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7920 invoked by uid 99); 17 Feb 2005 10:37:49 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.tanto.de (HELO mail.tanto.de) (213.61.178.43)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 17 Feb 2005 02:37:48 -0800
Received: from localhost (localhost [127.0.0.1])
	by mail.tanto.de (Postfix) with ESMTP id B69BB23BF1
	for <lucene-user@jakarta.apache.org>; Thu, 17 Feb 2005 11:38:15 +0100 (CET)
Received: from mail.tanto.de ([127.0.0.1])
 by localhost (mail.tanto.de [127.0.0.1]) (amavisd-new, port 10024) with ESMTP
 id 00701-04 for <lucene-user@jakarta.apache.org>;
 Thu, 17 Feb 2005 11:38:15 +0100 (CET)
Received: from tucholsky.office.tanto.de (tucholsky.office.tanto.de [10.0.0.35])
	by mail.tanto.de (Postfix) with ESMTP id 8E69E23BF0
	for <lucene-user@jakarta.apache.org>; Thu, 17 Feb 2005 11:38:15 +0100 (CET)
Received: from tucholsky.office.tanto.de (morus@localhost [127.0.0.1])
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-7.1) with ESMTP id j1HAcT72009418
	for <lucene-user@jakarta.apache.org>; Thu, 17 Feb 2005 11:38:29 +0100
Received: (from morus@localhost)
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-7.1) id j1HAcTqP009414;
	Thu, 17 Feb 2005 11:38:29 +0100
From: Morus Walter <morus.walter@tanto.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16916.29733.436158.475139@tanto-xipolis.de>
Date: Thu, 17 Feb 2005 11:38:29 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Concurrent searching & re-indexing
In-Reply-To: <7157427725CF4A46ADC522959748E7A20FE85B12@exchange.hemscott.co.uk>
References: <7157427725CF4A46ADC522959748E7A20FE85B12@exchange.hemscott.co.uk>
X-Mailer: VM 7.03 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Virus-Scanned: by amavisd-new at mail.tanto.de Q&A postmaster@tanto.de
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Paul Mellor writes:
> 
> 1. If IndexReader takes a snapshot of the index state when opened and then
> reads the files when searching, what would happen if the files it takes a
> snapshot of are deleted before the search is performed (as would happen with
> a reindexing in the period between opening an IndexSearcher and using it to
> search)?
> 
On unix, open files are still there, even if they are deleted (that is,
there is no link (filename) to the file anymore but the file's content
still exists), on windows you cannot delete open files, so Lucene 
AFAIK (I don't use windows) postpones the deletion to a time, when the 
file is closed.
 
> 2. Does a similar potential problem exist when optimising an index, if this
> combines all the segments into a single file?
> 
AFAIK optimising creates new files.

The only problem that might occur, is opening a reader during index change
but that's handled by a lock.

HTH
	Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13229-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 17 10:44:43 2005
Return-Path: <lucene-user-return-13229-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 97308 invoked from network); 17 Feb 2005 10:44:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Feb 2005 10:44:43 -0000
Received: (qmail 20993 invoked by uid 500); 17 Feb 2005 10:44:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 20948 invoked by uid 500); 17 Feb 2005 10:44:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20933 invoked by uid 99); 17 Feb 2005 10:44:37 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_30_40,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from dns1.hemscott.co.uk (HELO dns1.hemscott.co.uk) (195.47.237.192)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 17 Feb 2005 02:44:36 -0800
Received: from exchange.hsnet.hemscott.co.uk (exchange [172.22.0.216])
	by dns1.hemscott.co.uk (8.11.6/8.11.6) with ESMTP id j1HAiXn24304
	for <lucene-user@jakarta.apache.org>; Thu, 17 Feb 2005 10:44:33 GMT
Received: by exchange.hemscott.co.uk with Internet Mail Service (5.5.2653.19)
	id <1XYS8ZFY>; Thu, 17 Feb 2005 10:44:33 -0000
Message-ID: <7157427725CF4A46ADC522959748E7A20FE85B13@exchange.hemscott.co.uk>
From: Paul Mellor <pmellor@hemscott.co.uk>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Concurrent searching & re-indexing
Date: Thu, 17 Feb 2005 10:44:32 -0000
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C514DD.AA49FA30"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C514DD.AA49FA30
Content-Type: text/plain

"on windows you cannot delete open files, so Lucene AFAIK (I don't use
windows) postpones the deletion to a time, when the file is closed"

If Lucene does not in fact postpone the deletion, that would explain the
exception I'm seeing ("java.io.IOException: couldn't delete _a.f1") - the
IndexWriter is attempting to delete the files but the IndexReader has them
open.

Does this then mean that re-indexing whilst searching is inherently unsafe,
but only on Windows?

-----Original Message-----
From: Morus Walter [mailto:morus.walter@tanto.de]
Sent: 17 February 2005 10:38
To: Lucene Users List
Subject: RE: Concurrent searching & re-indexing


Paul Mellor writes:
> 
> 1. If IndexReader takes a snapshot of the index state when opened and then
> reads the files when searching, what would happen if the files it takes a
> snapshot of are deleted before the search is performed (as would happen
with
> a reindexing in the period between opening an IndexSearcher and using it
to
> search)?
> 
On unix, open files are still there, even if they are deleted (that is,
there is no link (filename) to the file anymore but the file's content
still exists), on windows you cannot delete open files, so Lucene 
AFAIK (I don't use windows) postpones the deletion to a time, when the 
file is closed.
 
> 2. Does a similar potential problem exist when optimising an index, if
this
> combines all the segments into a single file?
> 
AFAIK optimising creates new files.

The only problem that might occur, is opening a reader during index change
but that's handled by a lock.

HTH
	Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


_____________________________________________________________________
This e-mail has been scanned for viruses by MCI's Internet Managed Scanning
Services - powered by MessageLabs. For further information visit
http://www.mci.com

This e-mail and any files transmitted with it are confidential and intended
solely for the use of the individual or entity to whom they are addressed.
If you are not the intended recipient, you should not copy, retransmit or
use the e-mail and/or files transmitted with it  and should not disclose
their contents. In such a case, please notify netwebmaster@hemscott.co.uk
and delete the message from your own system. Any opinions expressed in this
e-mail and/or files transmitted with it that do not relate to the official
business of this company are those solely of the author and should not be
interpreted as being endorsed by this company.

------_=_NextPart_001_01C514DD.AA49FA30--

From lucene-user-return-13230-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 17 11:04:21 2005
Return-Path: <lucene-user-return-13230-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 7876 invoked from network); 17 Feb 2005 11:04:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Feb 2005 11:04:20 -0000
Received: (qmail 49987 invoked by uid 500); 17 Feb 2005 11:04:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 49952 invoked by uid 500); 17 Feb 2005 11:04:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 49932 invoked by uid 99); 17 Feb 2005 11:04:13 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from maui.ebi.ac.uk (HELO maui.ebi.ac.uk) (193.62.196.100)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 17 Feb 2005 03:04:12 -0800
Received: from neptune.ebi.ac.uk (neptune.ebi.ac.uk [172.22.8.118])
	by maui.ebi.ac.uk (8.11.7+Sun/8.11.7) with ESMTP id j1HB46m25676
	for <lucene-user@jakarta.apache.org>; Thu, 17 Feb 2005 11:04:06 GMT
Received: (from kirsch@localhost)
	by neptune.ebi.ac.uk (8.11.6/8.11.6) id j1HB46308209
	for lucene-user@jakarta.apache.org; Thu, 17 Feb 2005 11:04:06 GMT
Date: Thu, 17 Feb 2005 11:04:06 +0000
From: Harald Kirsch <kirsch@ebi.ac.uk>
To: lucene user mailing list <lucene-user@jakarta.apache.org>
Subject: reuse of TokenStream
Message-ID: <20050217110406.D8013@neptune.ebi.ac.uk>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.2.5.1i
X-EBI-Information: This email is scanned using www.mailscanner.info.
X-EBI: Found to be clean
X-EBI-SpamCheck: not spam, SpamAssassin (score=0, required 5)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

is it thread safe to reuse the same TokenStream object for several
fields of a document or does the IndexWriter try to parallelise
tokenization of the fields of a single document?

Similar question: Is it safe to reuse the same TokenStream object for
several documents if I use IndexWriter.addDocument() in a loop?  Or
does addDocument only put the work into a queue where tasks are taken
out for parallel indexing by several threads?

  Thanks,
  Harald.

-- 
------------------------------------------------------------------------
Harald Kirsch | kirsch@ebi.ac.uk | +44 (0) 1223/49-2593
BioMed Information Extraction: http://www.ebi.ac.uk/Rebholz-srv/whatizit

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13231-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 17 13:43:26 2005
Return-Path: <lucene-user-return-13231-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 90440 invoked from network); 17 Feb 2005 13:43:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Feb 2005 13:43:26 -0000
Received: (qmail 50809 invoked by uid 500); 17 Feb 2005 13:43:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 50591 invoked by uid 500); 17 Feb 2005 13:43:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 50576 invoked by uid 99); 17 Feb 2005 13:43:20 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web21325.mail.yahoo.com (HELO web21325.mail.yahoo.com) (216.136.175.211)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 17 Feb 2005 05:43:19 -0800
Received: (qmail 52664 invoked by uid 60001); 17 Feb 2005 13:43:17 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=12S/Sl+51RsbArSbPz4GP5aTATHYm4BOvNAqdgyQJPJMS7zL0L6Zg1+oohsRHGNgs29RbBkF45D9G0w2NivG8jHFZtjIpMykpJG+A0Z4ZhzGpsSctHIvm5IhJek7J0dFV7cDbj251t54CoCevQfZc5BrRQRamu1jFJhdyEun35Q=  ;
Message-ID: <20050217134317.52662.qmail@web21325.mail.yahoo.com>
Received: from [81.182.58.3] by web21325.mail.yahoo.com via HTTP; Thu, 17 Feb 2005 05:43:17 PST
Date: Thu, 17 Feb 2005 05:43:17 -0800 (PST)
From: Sanyi <need4sid@yahoo.com>
Subject: Storing info about the index in the index
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi!

Is there any way to store info about the index in the index?
(You know, like in .doc files on Windows. You can store title, author, etc...)
I need to store the last indexed database UID in the index and maybe some other useful infos too.
I don't want to store them separately in the database or in another file because of administrative
reasons.

Regards,
Sanyi


		
__________________________________ 
Do you Yahoo!? 
The all-new My Yahoo! - What will yours do?
http://my.yahoo.com 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13232-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 17 13:54:04 2005
Return-Path: <lucene-user-return-13232-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 96981 invoked from network); 17 Feb 2005 13:54:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Feb 2005 13:54:04 -0000
Received: (qmail 68832 invoked by uid 500); 17 Feb 2005 13:54:00 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 68799 invoked by uid 500); 17 Feb 2005 13:53:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68786 invoked by uid 99); 17 Feb 2005 13:53:59 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 17 Feb 2005 05:53:58 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 9EF5D13E20EA; Thu, 17 Feb 2005 08:53:55 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 27D7413E2008
	for <lucene-user@jakarta.apache.org>; Thu, 17 Feb 2005 08:53:43 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <20050217134317.52662.qmail@web21325.mail.yahoo.com>
References: <20050217134317.52662.qmail@web21325.mail.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <a40656db47e5e982cf9677ac2f659af1@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Storing info about the index in the index
Date: Thu, 17 Feb 2005 08:53:41 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-3.4 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Feb 17, 2005, at 8:43 AM, Sanyi wrote:

> Hi!
>
> Is there any way to store info about the index in the index?
> (You know, like in .doc files on Windows. You can store title, author, 
> etc...)
> I need to store the last indexed database UID in the index and maybe 
> some other useful infos too.
> I don't want to store them separately in the database or in another 
> file because of administrative
> reasons.

There is currently no feature to store additional information in the 
index like this, though you could use a special document in the index 
to do this.
You could also keep a .properties or .xml file alongside the index.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13233-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 17 14:03:14 2005
Return-Path: <lucene-user-return-13233-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 1541 invoked from network); 17 Feb 2005 14:03:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Feb 2005 14:03:14 -0000
Received: (qmail 82943 invoked by uid 500); 17 Feb 2005 14:03:10 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 82922 invoked by uid 500); 17 Feb 2005 14:03:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 82909 invoked by uid 99); 17 Feb 2005 14:03:09 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from omx2-ext.sgi.com (HELO omx2.sgi.com) (192.48.171.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 17 Feb 2005 06:03:08 -0800
Received: from internal-mail-relay.corp.sgi.com (internal-mail-relay.corp.sgi.com [198.149.32.51])
	by omx2.sgi.com (8.12.11/8.12.9/linux-outbound_gateway-1.1) with ESMTP id j1HFXtGw026261
	for <lucene-user@jakarta.apache.org>; Thu, 17 Feb 2005 07:34:05 -0800
Received: from pinckneya.peachtree.sgi.com (pinckneya.peachtree.sgi.com [169.238.221.130])
	by internal-mail-relay.corp.sgi.com (8.12.9/8.12.10/SGI_generic_relay-1.2) with ESMTP id j1HE2SAq191371137
	for <lucene-user@jakarta.apache.org>; Thu, 17 Feb 2005 06:02:28 -0800 (PST)
Received: from [169.238.222.12] (ptc-222-12-pc.peachtree.sgi.com [169.238.222.12])
	by pinckneya.peachtree.sgi.com (SGI-8.12.5/8.12.5) with ESMTP id j1HE2Rad23641322
	for <lucene-user@jakarta.apache.org>; Thu, 17 Feb 2005 09:02:28 -0500 (EST)
Message-ID: <4214A3EF.2000300@sgi.com>
Date: Thu, 17 Feb 2005 09:02:23 -0500
From: Jim Lynch <jwl@sgi.com>
User-Agent: Mozilla Thunderbird 0.9 (Windows/20041103)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Concurrent searching & re-indexing
References: <7157427725CF4A46ADC522959748E7A20FE85B12@exchange.hemscott.co.uk>
In-Reply-To: <7157427725CF4A46ADC522959748E7A20FE85B12@exchange.hemscott.co.uk>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi, Paul,

I brought this point up a while back and didn't get a response.  I've 
found that I frequently get a "file not found" exception when searching 
at the same time an indexing and/or optimize operation is running.  I 
fixed it by trapping the exception and looping until it didn't fail.

Jim.

Paul Mellor wrote:

>Otis,
>
>
>1. If IndexReader takes a snapshot of the index state when opened and then
>reads the files when searching, what would happen if the files it takes a
>snapshot of are deleted before the search is performed (as would happen with
>a reindexing in the period between opening an IndexSearcher and using it to
>search)?
>
>  
>
>  
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13234-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 17 14:04:17 2005
Return-Path: <lucene-user-return-13234-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 2016 invoked from network); 17 Feb 2005 14:04:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Feb 2005 14:04:17 -0000
Received: (qmail 84383 invoked by uid 500); 17 Feb 2005 14:04:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 84361 invoked by uid 500); 17 Feb 2005 14:04:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 84348 invoked by uid 99); 17 Feb 2005 14:04:13 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from omx1-ext.sgi.com (HELO omx1.americas.sgi.com) (192.48.179.11)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 17 Feb 2005 06:04:11 -0800
Received: from hastur.corp.sgi.com (hastur.corp.sgi.com [198.149.32.33])
	by omx1.americas.sgi.com (8.12.10/8.12.9/linux-outbound_gateway-1.1) with ESMTP id j1HE48xT001694
	for <lucene-user@jakarta.apache.org>; Thu, 17 Feb 2005 08:04:08 -0600
Received: from pinckneya.peachtree.sgi.com (pinckneya.peachtree.sgi.com [169.238.221.130])
	by hastur.corp.sgi.com (8.12.9/8.12.10/SGI_generic_relay-1.2) with ESMTP id j1HE3pVt107529710
	for <lucene-user@jakarta.apache.org>; Thu, 17 Feb 2005 06:03:52 -0800 (PST)
Received: from [169.238.222.12] (ptc-222-12-pc.peachtree.sgi.com [169.238.222.12])
	by pinckneya.peachtree.sgi.com (SGI-8.12.5/8.12.5) with ESMTP id j1HE45ad23617936
	for <lucene-user@jakarta.apache.org>; Thu, 17 Feb 2005 09:04:07 -0500 (EST)
Message-ID: <4214A450.9080405@sgi.com>
Date: Thu, 17 Feb 2005 09:04:00 -0500
From: Jim Lynch <jwl@sgi.com>
User-Agent: Mozilla Thunderbird 0.9 (Windows/20041103)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Concurrent searching & re-indexing
References: <7157427725CF4A46ADC522959748E7A20FE85B13@exchange.hemscott.co.uk>
In-Reply-To: <7157427725CF4A46ADC522959748E7A20FE85B13@exchange.hemscott.co.uk>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

It failed for me on Linux.

Paul Mellor wrote:

>"on windows you cannot delete open files, so Lucene AFAIK (I don't use
>windows) postpones the deletion to a time, when the file is closed"
>
>If Lucene does not in fact postpone the deletion, that would explain the
>exception I'm seeing ("java.io.IOException: couldn't delete _a.f1") - the
>IndexWriter is attempting to delete the files but the IndexReader has them
>open.
>
>Does this then mean that re-indexing whilst searching is inherently unsafe,
>but only on Windows?
>  
>
>  
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13235-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 17 15:36:12 2005
Return-Path: <lucene-user-return-13235-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 74519 invoked from network); 17 Feb 2005 15:36:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Feb 2005 15:36:12 -0000
Received: (qmail 66340 invoked by uid 500); 17 Feb 2005 15:36:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 66127 invoked by uid 500); 17 Feb 2005 15:36:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 66112 invoked by uid 99); 17 Feb 2005 15:36:06 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 17 Feb 2005 07:36:05 -0800
Received: from p001002 ([204.225.84.27]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Thu, 17 Feb 2005 10:40:35 -0500
Message-ID: <007901c51507$05e909c0$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <E3381E0825F1954D953A4E347017BB1C034C04E0@reh001-1.REX001.ExchangeByRegister.com>
Subject: Searches Contain Special Characters
Date: Thu, 17 Feb 2005 10:40:35 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 17 Feb 2005 15:40:35.0844 (UTC) FILETIME=[05EF2440:01C51507]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi All;

How could I handle doing a wildcard search on the input *mario?

Basically I would be interested in finding all the Documents containing
<anything>*mario<anything>

Here is an example of such a Query generated:

+(type:138) +(name:**mario*)

How can I let Lucene know that the star closest to Mario on the left is to
be treated as a string, not a matching character?

Thanks,

Luke



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13236-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 17 15:42:18 2005
Return-Path: <lucene-user-return-13236-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 77546 invoked from network); 17 Feb 2005 15:42:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Feb 2005 15:42:18 -0000
Received: (qmail 79732 invoked by uid 500); 17 Feb 2005 15:42:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 78871 invoked by uid 500); 17 Feb 2005 15:42:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78858 invoked by uid 99); 17 Feb 2005 15:42:15 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from uar.spline-software.com (HELO stargate.i-hypergrid.com) (194.44.193.196)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 17 Feb 2005 07:42:14 -0800
Received: from [192.168.0.86] (vbychkoviak.jforce [192.168.0.86])
	by stargate.i-hypergrid.com (Postfix) with ESMTP id 3A0677BE91
	for <lucene-user@jakarta.apache.org>; Thu, 17 Feb 2005 17:42:10 +0200 (EET)
Message-ID: <4214BB52.80203@i-hypergrid.com>
Date: Thu, 17 Feb 2005 17:42:10 +0200
From: Volodymyr Bychkoviak <vbychkoviak@i-hypergrid.com>
User-Agent: Mozilla Thunderbird 0.9 (Windows/20041103)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Searches Contain Special Characters
References: <E3381E0825F1954D953A4E347017BB1C034C04E0@reh001-1.REX001.ExchangeByRegister.com> <007901c51507$05e909c0$7703d00a@hypermedia.com>
In-Reply-To: <007901c51507$05e909c0$7703d00a@hypermedia.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Use \ to escape special symbols.

http://jakarta.apache.org/lucene/docs/queryparsersyntax.html

Regards,
Volodymyr Bychkoviak

Luke Shannon wrote:

>Hi All;
>
>How could I handle doing a wildcard search on the input *mario?
>
>Basically I would be interested in finding all the Documents containing
><anything>*mario<anything>
>
>Here is an example of such a Query generated:
>
>+(type:138) +(name:**mario*)
>
>How can I let Lucene know that the star closest to Mario on the left is to
>be treated as a string, not a matching character?
>
>Thanks,
>
>Luke
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>  
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13237-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 17 16:11:48 2005
Return-Path: <lucene-user-return-13237-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 95697 invoked from network); 17 Feb 2005 16:11:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Feb 2005 16:11:48 -0000
Received: (qmail 31949 invoked by uid 500); 17 Feb 2005 16:11:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 31928 invoked by uid 500); 17 Feb 2005 16:11:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 31913 invoked by uid 99); 17 Feb 2005 16:11:43 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mspmail2.stellent.com (HELO mspmail2.stellent.com) (12.40.185.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 17 Feb 2005 08:11:42 -0800
Received: from [10.10.20.20] ([10.10.20.20])
	by mspmail2.stellent.com (8.11.6+Sun/8.11.5) with ESMTP id j1HFKpj12592
	for <lucene-user@jakarta.apache.org>; Thu, 17 Feb 2005 09:20:51 -0600 (CST)
Subject: RE: Concurrent searching & re-indexing
From: Luke Francl <luke.francl@stellent.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <7157427725CF4A46ADC522959748E7A20FE85B13@exchange.hemscott.co.uk>
References: 
	 <7157427725CF4A46ADC522959748E7A20FE85B13@exchange.hemscott.co.uk>
Content-Type: text/plain
Message-Id: <1108656689.4199.554.camel@localhost>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.6 
Date: Thu, 17 Feb 2005 10:11:29 -0600
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Thu, 2005-02-17 at 04:44, Paul Mellor wrote:
> "on windows you cannot delete open files, so Lucene AFAIK (I don't use
> windows) postpones the deletion to a time, when the file is closed"
> 
> If Lucene does not in fact postpone the deletion, that would explain the
> exception I'm seeing ("java.io.IOException: couldn't delete _a.f1") - the
> IndexWriter is attempting to delete the files but the IndexReader has them
> open.
> 
> Does this then mean that re-indexing whilst searching is inherently unsafe,
> but only on Windows?

Using Lucene 1.3 final, I ran across what I believe to be this problem.

Under heavy load on Windows, deleting the segments file would fail
sometimes. 

I tried to duplicate the problem with an attached debugger, but I was
unable to do so.

There's more details about my problem in this message:
http://nagoya.apache.org/eyebrowse/ReadMsg?listName=lucene-user@jakarta.apache.org&msgNo=11986

Any advice would still be appreciated. Currently, I'm catching the error
and doing a retry in the finally block, but I am not confident in this
solution due to the difficulty of reproducing the problem.

Regards,
Luke Francl


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13238-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 17 17:12:41 2005
Return-Path: <lucene-user-return-13238-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 34135 invoked from network); 17 Feb 2005 17:12:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Feb 2005 17:12:41 -0000
Received: (qmail 60688 invoked by uid 500); 17 Feb 2005 17:12:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 60663 invoked by uid 500); 17 Feb 2005 17:12:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 60650 invoked by uid 99); 17 Feb 2005 17:12:36 -0000
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=FORGED_RCVD_HELO,FROM_ENDS_IN_NUMS,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from outbound.mailhop.org (HELO outbound.mailhop.org) (63.208.196.171)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 17 Feb 2005 09:12:34 -0800
Received: from adsl-69-112.37-151.net24.it ([151.37.112.69] helo=mxmail.log1.net)
	by outbound.mailhop.org with esmtpa (Exim 4.44)
	id 1D1pCa-000Lir-Jz
	for lucene-user@jakarta.apache.org; Thu, 17 Feb 2005 12:12:32 -0500
Received: from mxmail.log1.net (mxmail.log1.net [127.0.0.1])
	by mxmail.log1.net (Postfix) with ESMTP id 8274325E79
	for <lucene-user@jakarta.apache.org>; Thu, 17 Feb 2005 18:12:32 +0000 (Local time zone must be set--see zic manual page)
Subject: Re: Using the highlighter from the sandbox with a prefix query.
From: lucuser4851 <lucuser4851@log1.net>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20050217085547.74412.qmail@web26002.mail.ukl.yahoo.com>
References: <20050217085547.74412.qmail@web26002.mail.ukl.yahoo.com>
Content-Type: text/plain
Date: Thu, 17 Feb 2005 18:12:30 +0000
Message-Id: <1108663951.3175.1.camel@mxmail.log1.net>
Mime-Version: 1.0
X-Mailer: Evolution 2.0.2 
Content-Transfer-Encoding: 7bit
X-Mail-Handler: MailHop Outbound by DynDNS.org
X-Originating-IP: 151.37.112.69
X-Report-Abuse-To: abuse@dyndns.org (see http://www.mailhop.org/outbound/abuse.html for abuse reporting information)
X-MHO-User: comp112
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks very much Marc and Daniel. That solved the problem!!


On Thu, 2005-02-17 at 08:55 +0000, mark harwood wrote:
> See the highlighter's package.html for a description
> of how query.rewrite should be used to solve this.
> 
> Cheers,
> Mark
> 



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13239-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 17 17:45:13 2005
Return-Path: <lucene-user-return-13239-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 49672 invoked from network); 17 Feb 2005 17:45:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Feb 2005 17:45:12 -0000
Received: (qmail 19854 invoked by uid 500); 17 Feb 2005 17:45:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 19807 invoked by uid 500); 17 Feb 2005 17:45:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19753 invoked by uid 99); 17 Feb 2005 17:45:00 -0000
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=FROM_ENDS_IN_NUMS,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of jak-lucene-user@m.gmane.org designates 80.91.229.2 as permitted sender)
Received: from main.gmane.org (HELO ciao.gmane.org) (80.91.229.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 17 Feb 2005 09:44:58 -0800
Received: from list by ciao.gmane.org with local (Exim 4.43)
	id 1D1pf7-0005Gm-Ck
	for lucene-user@jakarta.apache.org; Thu, 17 Feb 2005 18:42:01 +0100
Received: from dhcp-171-71-253-68.cisco.com ([171.71.253.68])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <lucene-user@jakarta.apache.org>; Thu, 17 Feb 2005 18:42:01 +0100
Received: from aurora00 by dhcp-171-71-253-68.cisco.com with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <lucene-user@jakarta.apache.org>; Thu, 17 Feb 2005 18:42:01 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: lucene-user@jakarta.apache.org
From: aurora <aurora00@gmail.com>
Subject: Re: bookkeeping documents cause problem in Sort
Date: Thu, 17 Feb 2005 09:44:29 -0800
Lines: 20
Message-ID: <opsmcrkfzy6yt6e7@dhcp-171-71-253-68.cisco.com>
References: <opsmbwivr46yt6e7@wtung-w2k01.amer.cisco.com>
Mime-Version: 1.0
Content-Type: text/plain; format=flowed; delsp=yes; charset=iso-8859-15
Content-Transfer-Encoding: Quoted-Printable
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: dhcp-171-71-253-68.cisco.com
User-Agent: Opera M2/7.54u1 (Win32, build 3918)
Sender: news <news@sea.gmane.org>
X-Gmane-MailScanner: Found to be clean
X-Gmane-MailScanner: Found to be clean
X-MailScanner-From: jak-lucene-user@m.gmane.org
X-MailScanner-To: lucene-user@jakarta.apache.org
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I found the answer. FieldCacheImpl is trying to look for a sample of the=
  =

term to be sorted to determine the sort type. It run into problem in a  =

specical case when the is only a few book keeping documents but no actua=
l  =

document with a date term.

I don't seem to remember a problem when the index is completely empty.  =

There is probably code to check for empty index but it failed when the i=
s  =

actually some documents but they don't have the field to be sorted.

-- =

Using Opera's revolutionary e-mail client: http://www.opera.com/m2/


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13240-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 17 19:40:27 2005
Return-Path: <lucene-user-return-13240-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 1120 invoked from network); 17 Feb 2005 19:40:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Feb 2005 19:40:27 -0000
Received: (qmail 38500 invoked by uid 500); 17 Feb 2005 19:40:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 38479 invoked by uid 500); 17 Feb 2005 19:40:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38466 invoked by uid 99); 17 Feb 2005 19:40:23 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 17 Feb 2005 11:40:21 -0800
Received: from p001002 ([204.225.84.27]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Thu, 17 Feb 2005 14:44:50 -0500
Message-ID: <00ae01c51529$24f86c30$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Query Question
Date: Thu, 17 Feb 2005 14:44:50 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 17 Feb 2005 19:44:50.0629 (UTC) FILETIME=[24DDDF50:01C51529]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello;

Why won't this query find the document below?

Query:
+(type:203) +(name:*home\**)

Document (relevant fields):
Keyword<type:203>
Keyword<name:marcipan + home*>

I was hoping by escaping the * it would be treated as a string. What am I
doing wrong?

Thanks,

Luke



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13241-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 17 20:00:43 2005
Return-Path: <lucene-user-return-13241-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 11421 invoked from network); 17 Feb 2005 20:00:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Feb 2005 20:00:43 -0000
Received: (qmail 76749 invoked by uid 500); 17 Feb 2005 20:00:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 76727 invoked by uid 500); 17 Feb 2005 20:00:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 76714 invoked by uid 99); 17 Feb 2005 20:00:38 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 17 Feb 2005 12:00:36 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id BB92513E28FB; Thu, 17 Feb 2005 15:00:32 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id B8B7B13E28F7
	for <lucene-user@jakarta.apache.org>; Thu, 17 Feb 2005 15:00:11 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <00ae01c51529$24f86c30$7703d00a@hypermedia.com>
References: <00ae01c51529$24f86c30$7703d00a@hypermedia.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <77e61554dacd0dd12fcc69fac5b01158@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Query Question
Date: Thu, 17 Feb 2005 15:00:06 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-3.4 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Feb 17, 2005, at 2:44 PM, Luke Shannon wrote:

> Hello;
>
> Why won't this query find the document below?
>
> Query:
> +(type:203) +(name:*home\**)

Is that what the query toString is?  Or is that what you handed to 
QueryParser?

Depending on your analyzer, 203 may go away.  QueryParser doesn't 
support leading asterisks, so "*home" would fail to parse.

> Document (relevant fields):
> Keyword<type:203>
> Keyword<name:marcipan + home*>
>
> I was hoping by escaping the * it would be treated as a string. What 
> am I
> doing wrong?


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13242-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 17 20:01:42 2005
Return-Path: <lucene-user-return-13242-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 11804 invoked from network); 17 Feb 2005 20:01:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Feb 2005 20:01:42 -0000
Received: (qmail 78345 invoked by uid 500); 17 Feb 2005 20:01:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 78322 invoked by uid 500); 17 Feb 2005 20:01:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78308 invoked by uid 99); 17 Feb 2005 20:01:38 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 17 Feb 2005 12:01:37 -0800
Received: from p001002 ([204.225.84.27]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Thu, 17 Feb 2005 15:06:08 -0500
Message-ID: <00cb01c5152c$1e8b30f0$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <00ae01c51529$24f86c30$7703d00a@hypermedia.com> <77e61554dacd0dd12fcc69fac5b01158@ehatchersolutions.com>
Subject: Re: Query Question
Date: Thu, 17 Feb 2005 15:06:08 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 17 Feb 2005 20:06:08.0344 (UTC) FILETIME=[1E71B580:01C5152C]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

That is a query toString(). I created the Query using a Wildcard Query
object.

Luke

----- Original Message ----- 
From: "Erik Hatcher" <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Thursday, February 17, 2005 3:00 PM
Subject: Re: Query Question


>
> On Feb 17, 2005, at 2:44 PM, Luke Shannon wrote:
>
> > Hello;
> >
> > Why won't this query find the document below?
> >
> > Query:
> > +(type:203) +(name:*home\**)
>
> Is that what the query toString is?  Or is that what you handed to
> QueryParser?
>
> Depending on your analyzer, 203 may go away.  QueryParser doesn't
> support leading asterisks, so "*home" would fail to parse.
>
> > Document (relevant fields):
> > Keyword<type:203>
> > Keyword<name:marcipan + home*>
> >
> > I was hoping by escaping the * it would be treated as a string. What
> > am I
> > doing wrong?
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13243-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 17 20:13:41 2005
Return-Path: <lucene-user-return-13243-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 17239 invoked from network); 17 Feb 2005 20:13:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Feb 2005 20:13:41 -0000
Received: (qmail 638 invoked by uid 500); 17 Feb 2005 20:13:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 612 invoked by uid 500); 17 Feb 2005 20:13:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 598 invoked by uid 99); 17 Feb 2005 20:13:37 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from static-68-236-183-90.ny325.east.verizon.net (HELO mail01.nyc-ofc.criticalmention.com) (68.236.183.90)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 17 Feb 2005 12:13:36 -0800
Received: from MCELONA (unknown [192.168.42.109])
	by mail01.nyc-ofc.criticalmention.com (Postfix) with ESMTP id F28A816893
	for <lucene-user@jakarta.apache.org>; Thu, 17 Feb 2005 15:13:33 -0500 (EST)
From: "Michael Celona" <mcelona@criticalmention.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: java.io.IOException: Stale NFS file handle
Date: Thu, 17 Feb 2005 15:13:42 -0500
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_008C_01C51503.442F4180"
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
Thread-Index: AcUVLSzmSe+PgXP1Skua/2x6cgLjXQ==
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Message-Id: <20050217201333.F28A816893@mail01.nyc-ofc.criticalmention.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_008C_01C51503.442F4180
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

Has anyone seen this..

 

java.io.IOException: Stale NFS file handle

        at java.io.RandomAccessFile.readBytes(Native Method)

        at java.io.RandomAccessFile.read(RandomAccessFile.java:307)

        at
org.apache.lucene.store.FSInputStream.readInternal(FSDirectory.java:420)

        at org.apache.lucene.store.InputStream.refill(InputStream.java:158)

        at org.apache.lucene.store.InputStream.readByte(InputStream.java:43)

        at
org.apache.lucene.store.InputStream.readBytes(InputStream.java:57)

        at
org.apache.lucene.index.CompoundFileReader$CSInputStream.readInternal(Compou
ndFileReader.java:220)

        at org.apache.lucene.store.InputStream.refill(InputStream.java:158)

        at org.apache.lucene.store.InputStream.readByte(InputStream.java:43)

        at org.apache.lucene.store.InputStream.readVInt(InputStream.java:83)

        at
org.apache.lucene.index.SegmentTermDocs.next(SegmentTermDocs.java:102)

        at org.apache.lucene.index.MultiTermDocs.next(MultiReader.java:361)

        at org.apache.lucene.index.MultiTermDocs.next(MultiReader.java:366)

        at
org.apache.lucene.search.FieldCacheImpl.getStringIndex(FieldCacheImpl.java:2
68)

        at
org.apache.lucene.search.FieldCacheImpl.getAuto(FieldCacheImpl.java:343)

        at
org.apache.lucene.search.FieldSortedHitQueue.comparatorAuto(FieldSortedHitQu
eue.java:327)

        at
org.apache.lucene.search.FieldSortedHitQueue.getCachedComparator(FieldSorted
HitQueue.java:170)

        at
org.apache.lucene.search.FieldSortedHitQueue.<init>(FieldSortedHitQueue.java
:58)

        at
org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:122)

        at
org.apache.lucene.search.MultiSearcher.search(MultiSearcher.java:141)

        at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:64)

        at org.apache.lucene.search.Hits.<init>(Hits.java:51)

        at org.apache.lucene.search.Searcher.search(Searcher.java:49)

 

 

I get this during a load test or 5 simultaneous users.  I have the index NFS
mounted from an "indexer box" which holds the index to an application server
(tomcat).  My index is constantly being  added to.  Search performance is in
the 4 second range ( queryString of "the" ) on an index of about 2G (as of
now). does anyone know how I can speed this up. 

 

Any insight would be greatly appreciated.

 

Michael

 

 


------=_NextPart_000_008C_01C51503.442F4180--



From lucene-user-return-13244-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 17 22:25:54 2005
Return-Path: <lucene-user-return-13244-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 92244 invoked from network); 17 Feb 2005 22:25:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Feb 2005 22:25:54 -0000
Received: (qmail 33632 invoked by uid 500); 17 Feb 2005 22:25:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 32771 invoked by uid 500); 17 Feb 2005 22:25:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 32758 invoked by uid 99); 17 Feb 2005 22:25:50 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from rwcrmhc13.comcast.net (HELO rwcrmhc13.comcast.net) (204.127.198.39)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 17 Feb 2005 14:25:50 -0800
Received: from [192.168.168.81] (c-24-5-160-217.client.comcast.net[24.5.160.217])
          by comcast.net (rwcrmhc13) with ESMTP
          id <2005021722254701500l11eie>; Thu, 17 Feb 2005 22:25:47 +0000
Message-ID: <421519E9.5070405@apache.org>
Date: Thu, 17 Feb 2005 14:25:45 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 0.9 (X11/20041127)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Concurrent searching & re-indexing
References: <7157427725CF4A46ADC522959748E7A20FE85AF9@exchange.hemscott.co.uk>
In-Reply-To: <7157427725CF4A46ADC522959748E7A20FE85AF9@exchange.hemscott.co.uk>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Paul Mellor wrote:
> I've read from various sources on the Internet that it is perfectly safe to
> simultaneously search a Lucene index that is being updated from another
> Thread, as long as all write access to the index is synchronized.  But does
> this apply only to updating the index (i.e. deleting and adding documents),
> or to a complete re-indexing (i.e. create a new IndexWriter with the
> 'create' argument true and then re-add all the documents)?
[ ...]
> java.io.IOException: couldn't delete _a.f1
> at org.apache.lucene.store.FSDirectory.create(FSDirectory.java:166)
[...]
> This is running on Windows 2000.

On Windows one cannot delete a file while it is still open.  So, no, on 
Windows one cannot remove an index entirely while an IndexReader or 
Searcher is still open on it, since it is simply impossible to remove 
all the files in the index.

We might attempt to patch this by keeping a list of such files and 
attempt to delete them later (as is done when updating an index).  But 
this could cause problems, as a new index will eventually try to use 
these same file names again, and it would then conflict with the open 
IndexReader.  This is not a problem when updating an existing index, 
since filenames (except for a few which are not kept open, like 
"segments") are never reused in the lifetime of an index.  So, in order 
for such a fix to work we would need to switch to globally unique 
segment names, e.g., long random strings, rather than increasing integers.

In the meantime, the safe way to rebuild an index from scratch while 
other processes are reading it is simply to delete all of its documents, 
then start adding new ones.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13245-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 17 22:39:32 2005
Return-Path: <lucene-user-return-13245-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 96789 invoked from network); 17 Feb 2005 22:39:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Feb 2005 22:39:31 -0000
Received: (qmail 45201 invoked by uid 500); 17 Feb 2005 22:39:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 45172 invoked by uid 500); 17 Feb 2005 22:39:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 45158 invoked by uid 99); 17 Feb 2005 22:39:27 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web21327.mail.yahoo.com (HELO web21327.mail.yahoo.com) (216.136.175.216)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 17 Feb 2005 14:39:26 -0800
Received: (qmail 4898 invoked by uid 60001); 17 Feb 2005 22:39:24 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=mPY+cRuVZ7lKaYgQHINe6g9MtU8bB+eRqTqm5WpO8RsPtOT9/3wO9RIFYmWz9/VcUUS/IQIUfEDlQuTSX7XKjE8bdaKs/GujaXtvtZ9ANkX5uCGn6euUQpmhNFr5hTSUmwoY9+m/VBUYAP0LFL+/mA0SGX8nEWD8Mj+3DjM/kjc=  ;
Message-ID: <20050217223924.4896.qmail@web21327.mail.yahoo.com>
Received: from [81.182.58.16] by web21327.mail.yahoo.com via HTTP; Thu, 17 Feb 2005 14:39:24 PST
Date: Thu, 17 Feb 2005 14:39:24 -0800 (PST)
From: Sanyi <need4sid@yahoo.com>
Subject: Re: Storing info about the index in the index
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <a40656db47e5e982cf9677ac2f659af1@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> you could use a special document in the index to do this.

I was thinking about this way, but I feel this solution very ugly :)

> You could also keep a .properties or .xml file alongside the index.

Can I store such a file inside the index directory?
Will Lucene delete my file at some event?
(at optimize, or whatever)

Regards,
Sanyi


		
__________________________________ 
Do you Yahoo!? 
Yahoo! Mail - Easier than ever with enhanced search. Learn more.
http://info.mail.yahoo.com/mail_250

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13246-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 17 22:47:07 2005
Return-Path: <lucene-user-return-13246-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 255 invoked from network); 17 Feb 2005 22:47:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 17 Feb 2005 22:47:07 -0000
Received: (qmail 51491 invoked by uid 500); 17 Feb 2005 22:47:04 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 51275 invoked by uid 500); 17 Feb 2005 22:47:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 51262 invoked by uid 99); 17 Feb 2005 22:47:03 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 17 Feb 2005 14:47:02 -0800
Received: from p001002 ([204.225.84.27]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Thu, 17 Feb 2005 17:51:32 -0500
Message-ID: <010b01c51543$39aae3a0$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <00ae01c51529$24f86c30$7703d00a@hypermedia.com>
Subject: Re: Query Question
Date: Thu, 17 Feb 2005 17:51:32 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 17 Feb 2005 22:51:32.0537 (UTC) FILETIME=[39B96290:01C51543]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello;

My manager is now totally stuck about being able to query data with * in it.

Here are two queries.

TermQuery(new Term("type", "203"));
WildcardQuery(new Term("name", "*home\**"));

They are joined in a boolean query. That query gives this result when you
call the toString():

+(type:203) +(name:*home\**)

This looks right to me.

Any theories as to why the it would not match:

Document (relevant fields):
Keyword<type:203>
Keyword<name:marcipan + home*>

Is the \ escaping both * characters?

Thanks,

Luke




----- Original Message ----- 
From: "Luke Shannon" <lshannon@futurebrand.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Thursday, February 17, 2005 2:44 PM
Subject: Query Question


> Hello;
>
> Why won't this query find the document below?
>
> Query:
> +(type:203) +(name:*home\**)
>
> Document (relevant fields):
> Keyword<type:203>
> Keyword<name:marcipan + home*>
>
> I was hoping by escaping the * it would be treated as a string. What am I
> doing wrong?
>
> Thanks,
>
> Luke
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13247-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 18 00:21:14 2005
Return-Path: <lucene-user-return-13247-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 34800 invoked from network); 18 Feb 2005 00:21:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Feb 2005 00:21:14 -0000
Received: (qmail 51424 invoked by uid 500); 18 Feb 2005 00:21:02 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 51394 invoked by uid 500); 18 Feb 2005 00:21:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 51380 invoked by uid 99); 18 Feb 2005 00:21:02 -0000
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=FROM_ENDS_IN_NUMS,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of jak-lucene-user@m.gmane.org designates 80.91.229.2 as permitted sender)
Received: from main.gmane.org (HELO ciao.gmane.org) (80.91.229.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 17 Feb 2005 16:21:00 -0800
Received: from list by ciao.gmane.org with local (Exim 4.43)
	id 1D1vqJ-0003G6-CX
	for lucene-user@jakarta.apache.org; Fri, 18 Feb 2005 01:17:59 +0100
Received: from dhcp-171-71-47-107.cisco.com ([171.71.47.107])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <lucene-user@jakarta.apache.org>; Fri, 18 Feb 2005 01:17:59 +0100
Received: from aurora00 by dhcp-171-71-47-107.cisco.com with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <lucene-user@jakarta.apache.org>; Fri, 18 Feb 2005 01:17:59 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: lucene-user@jakarta.apache.org
From: aurora <aurora00@gmail.com>
Subject: Re: Storing info about the index in the index
Date: Thu, 17 Feb 2005 16:20:35 -0800
Lines: 43
Message-ID: <opsmc9wlmg6yt6e7@dhcp-171-71-47-107.cisco.com>
References: <20050217134317.52662.qmail@web21325.mail.yahoo.com> <a40656db47e5e982cf9677ac2f659af1@ehatchersolutions.com>
Mime-Version: 1.0
Content-Type: text/plain; format=flowed; delsp=yes; charset=iso-8859-15
Content-Transfer-Encoding: Quoted-Printable
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: dhcp-171-71-47-107.cisco.com
User-Agent: Opera M2/7.54u1 (Win32, build 3918)
Sender: news <news@sea.gmane.org>
X-Gmane-MailScanner: Found to be clean
X-Gmane-MailScanner: Found to be clean
X-MailScanner-From: jak-lucene-user@m.gmane.org
X-MailScanner-To: lucene-user@jakarta.apache.org
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Thu, 17 Feb 2005 08:53:41 -0500, Erik Hatcher  =

<erik@ehatchersolutions.com> wrote:

>
> On Feb 17, 2005, at 8:43 AM, Sanyi wrote:
>
>> Hi!
>>
>> Is there any way to store info about the index in the index?
>> (You know, like in .doc files on Windows. You can store title, author=
,  =

>> etc...)
>> I need to store the last indexed database UID in the index and maybe =
 =

>> some other useful infos too.
>> I don't want to store them separately in the database or in another  =

>> file because of administrative
>> reasons.
>
> There is currently no feature to store additional information in the  =

> index like this, though you could use a special document in the index =
to  =

> do this.
> You could also keep a .properties or .xml file alongside the index.
>
> 	Erik

I stored the info in some special documents. They have separate field na=
me  =

 from the main document set so that they would be fetched by regular  =

search. I ran into a small problem "bookkeeping documents cause problem =
in  =

Sort" that I posted half day ago. But right everything seems to work fin=
e.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13248-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 18 00:54:38 2005
Return-Path: <lucene-user-return-13248-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 51364 invoked from network); 18 Feb 2005 00:54:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Feb 2005 00:54:38 -0000
Received: (qmail 96470 invoked by uid 500); 18 Feb 2005 00:54:25 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 96448 invoked by uid 500); 18 Feb 2005 00:54:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 96433 invoked by uid 99); 18 Feb 2005 00:54:25 -0000
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=FROM_ENDS_IN_NUMS,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of jak-lucene-user@m.gmane.org designates 80.91.229.2 as permitted sender)
Received: from main.gmane.org (HELO ciao.gmane.org) (80.91.229.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 17 Feb 2005 16:54:24 -0800
Received: from list by ciao.gmane.org with local (Exim 4.43)
	id 1D1wMQ-0007LI-8C
	for lucene-user@jakarta.apache.org; Fri, 18 Feb 2005 01:51:10 +0100
Received: from dhcp-171-71-47-107.cisco.com ([171.71.47.107])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <lucene-user@jakarta.apache.org>; Fri, 18 Feb 2005 01:51:10 +0100
Received: from aurora00 by dhcp-171-71-47-107.cisco.com with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <lucene-user@jakarta.apache.org>; Fri, 18 Feb 2005 01:51:10 +0100
X-Injected-Via-Gmane: http://gmane.org/
To: lucene-user@jakarta.apache.org
From: aurora <aurora00@gmail.com>
Subject: Adding documents in batch, how often?
Date: Thu, 17 Feb 2005 16:53:50 -0800
Lines: 13
Message-ID: <opsmdbf0m66yt6e7@dhcp-171-71-47-107.cisco.com>
Mime-Version: 1.0
Content-Type: text/plain; format=flowed; delsp=yes; charset=iso-8859-15
Content-Transfer-Encoding: Quoted-Printable
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: dhcp-171-71-47-107.cisco.com
User-Agent: Opera M2/7.54u1 (Win32, build 3918)
Sender: news <news@sea.gmane.org>
X-Gmane-MailScanner: Found to be clean
X-Gmane-MailScanner: Found to be clean
X-MailScanner-From: jak-lucene-user@m.gmane.org
X-MailScanner-To: lucene-user@jakarta.apache.org
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


I believe the common wisdom for adding documents is to do them in a larg=
e  =

batch rather than adding individually. I'm wondering to what extend this=
  =

is significant? What would be the difference between adding 100 document=
s  =

a day to adding 10 documents 10 times a day? Is there a lot of house  =

keeping going on for IndexWriter.close()?


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13249-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 18 01:09:03 2005
Return-Path: <lucene-user-return-13249-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 56528 invoked from network); 18 Feb 2005 01:09:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Feb 2005 01:09:03 -0000
Received: (qmail 12574 invoked by uid 500); 18 Feb 2005 01:08:59 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 12558 invoked by uid 500); 18 Feb 2005 01:08:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 14075 invoked by uid 99); 17 Feb 2005 22:12:56 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Message-Id: <5.2.0.9.2.20050217171250.01ad3718@hermes.ulaval.ca>
X-Sender: biblrib@hermes.ulaval.ca
X-Mailer: QUALCOMM Windows Eudora Version 5.2.0.9
Date: Thu, 17 Feb 2005 17:13:17 -0500
To: lucene-user@jakarta.apache.org
From: Rida Benjelloun <Rida.Benjelloun@bibl.ulaval.ca>
Subject: Lius
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"; format=flowed
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,
I've just release an indexing framework based on Lucene witch is named LIUS.
LIUS is written in Java and it adds to Lucene many files format indexing 
functionalities as: Ms Word, Ms Excel, Ms PowerPoint, RTF, PDF, XML, HTML, 
TXT, Open Office suite and JavaBeans. All the indexation process is based 
on a configuration file.
You can visit this links for more informations about LIUS, documentation is 
available in English and French:
www.bibl.ulaval.ca/lius/index.en.html
www.sourceforge.net/projects/lius 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13250-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 18 01:25:11 2005
Return-Path: <lucene-user-return-13250-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 63173 invoked from network); 18 Feb 2005 01:25:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Feb 2005 01:25:11 -0000
Received: (qmail 43555 invoked by uid 500); 18 Feb 2005 01:25:02 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 43487 invoked by uid 500); 18 Feb 2005 01:25:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43382 invoked by uid 99); 18 Feb 2005 01:25:01 -0000
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=MIME_BASE64_BLANKS,MIME_BASE64_TEXT
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO dev.nannet.co.kr) (221.146.159.218)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 17 Feb 2005 17:25:00 -0800
Received: from win98 ([192.168.1.98])
	by dev.nannet.co.kr (8.12.8/8.12.8) with SMTP id j1I1MPoM005738;
	Fri, 18 Feb 2005 10:22:25 +0900
Message-ID: <000e01c51558$ff4f0040$6201a8c0@win98>
Reply-To: "Youngho Cho" <youngho@nannet.co.kr>
From: "Youngho Cho" <youngho@nannet.co.kr>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
   "Youngho Cho" <youngho@nannet.co.kr>
References: <003401c514d3$37de55e0$6201a8c0@win98>
Subject: Re: ParrellelMultiSearcher Question
Date: Fri, 18 Feb 2005 10:27:23 +0900
Organization: Nannet
MIME-Version: 1.0
Content-Type: text/plain;
	charset="ks_c_5601-1987"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

SGVsbG8sDQoNCklzIHRoZXJlIGFueSBwb2ludGVyIA0KaG93IGNsb3NpbmcgYW4gaW5kZXggYW5k
IGhvdyB0aGUgc2VydmVyIGRlYWxzIHdpdGggaW5kZXggdXBkYXRlcw0KZm9yIHVzaW5nIFBhcnJl
bGxlbE11bHRpU2VhcmNoZXIgd2l0aCBidWlsdCBpbiBSZW1vdGVTZWFyY2hlciA/Pw0KDQpOZWVk
IHlvdXIgaGVscC4NCg0KVGhhbmtzLA0KDQpZb3VuZ2hvDQoNCi0tLS0tIE9yaWdpbmFsIE1lc3Nh
Z2UgLS0tLS0gDQpGcm9tOiAiWW91bmdobyBDaG8iIDx5b3VuZ2hvQG5hbm5ldC5jby5rcj4NClRv
OiAiTHVjZW5lIFVzZXJzIExpc3QiIDxsdWNlbmUtdXNlckBqYWthcnRhLmFwYWNoZS5vcmc+DQpT
ZW50OiBUaHVyc2RheSwgRmVicnVhcnkgMTcsIDIwMDUgNjoyOSBQTQ0KU3ViamVjdDogUGFycmVs
bGVsTXVsdGlTZWFyY2hlciBRdWVzdGlvbg0KDQoNCj4gSGVsbG8sDQo+IA0KPiBJIHdvdWxkIGxp
a2UgdG8gdXNlIFBhcnJlbGxlbE11bHRpU2VhcmNoZXIgd2l0aCBmZXcgUmVtb3RlU2VhcmNoYWJs
ZXMuDQo+IA0KPiBJZiBvbmUgb2YgdGhlIHJlbW90ZSBzZXJ2ZXIgaXMgZG93biwgDQo+IENhbiBJ
IHBhcnJlbGxlbE11bHRpU2VhcmNoZXIgc2V0IGNsb3NlKCkgYW5kIA0KPiBtYWtlIG5ldyBQYXJy
ZWxsZWxNdWx0aVNlYXJjaGVyIHdpdGggb3RoZXIgbGl2ZSBSZW1vdGVTZWFyY2hhYmxlcyA/DQo+
IA0KPiBUaGFua3MuDQo+IA0KPiBZb3VuZ2hv



From lucene-user-return-13251-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 18 02:06:01 2005
Return-Path: <lucene-user-return-13251-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 75260 invoked from network); 18 Feb 2005 02:06:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Feb 2005 02:06:01 -0000
Received: (qmail 82839 invoked by uid 500); 18 Feb 2005 02:05:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 82808 invoked by uid 500); 18 Feb 2005 02:05:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 82794 invoked by uid 99); 18 Feb 2005 02:05:58 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 17 Feb 2005 18:05:56 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id C29B513E28FD; Thu, 17 Feb 2005 21:05:54 -0500 (EST)
Received: from [192.168.1.100] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id E8D1F13E28FB
	for <lucene-user@jakarta.apache.org>; Thu, 17 Feb 2005 21:05:37 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <010b01c51543$39aae3a0$7703d00a@hypermedia.com>
References: <00ae01c51529$24f86c30$7703d00a@hypermedia.com> <010b01c51543$39aae3a0$7703d00a@hypermedia.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <9cad661ef00546d743caa9ffb4e9d044@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Query Question
Date: Thu, 17 Feb 2005 21:05:36 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.4 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Feb 17, 2005, at 5:51 PM, Luke Shannon wrote:
> My manager is now totally stuck about being able to query data with * 
> in it.

He's gonna have to wait a bit longer, you've got a slightly tricky 
situation on your hands....

> WildcardQuery(new Term("name", "*home\**"));

The \* is the problem.  WildcardQuery doesn't deal with escaping like 
you're trying.  Your query is essentially this now:

	home\*

Where backslash has no special meaning at all... you're literally 
looking for all terms that start with home followed by a backslash.  
Two asterisks at the end really collapse into a single one logically.

> Any theories as to why the it would not match:
>
> Document (relevant fields):
> Keyword<type:203>
> Keyword<name:marcipan + home*>
>
> Is the \ escaping both * characters?

So, again, no escaping is being done here.  You're a bit stuck in this 
situation because * (and ?) are special to WildcardQuery, and it does 
no escaping.  Two options I think of:

	- Build your own clone of WildcardQuery that does escaping - or 
perhaps change the wildcard characters to something you do not index 
and use those instead.

	- Replace asterisks in the terms indexed with some other non-wildcard 
character, then replace it on your queries as appropriate.

Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13252-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 18 02:48:13 2005
Return-Path: <lucene-user-return-13252-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 5781 invoked from network); 18 Feb 2005 02:48:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Feb 2005 02:48:12 -0000
Received: (qmail 22846 invoked by uid 500); 18 Feb 2005 02:48:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 22812 invoked by uid 500); 18 Feb 2005 02:48:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22797 invoked by uid 99); 18 Feb 2005 02:48:09 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 17 Feb 2005 18:48:07 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 7E67A13E28FB; Thu, 17 Feb 2005 21:48:05 -0500 (EST)
Received: from [192.168.1.100] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id 11DC113E28F8
	for <lucene-user@jakarta.apache.org>; Thu, 17 Feb 2005 21:47:50 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <000e01c51558$ff4f0040$6201a8c0@win98>
References: <003401c514d3$37de55e0$6201a8c0@win98> <000e01c51558$ff4f0040$6201a8c0@win98>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <8f3ac8e1584a8c55ba9b9596b15e4883@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: ParrellelMultiSearcher Question
Date: Thu, 17 Feb 2005 21:47:46 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.4 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

If you close a Searcher that goes through a RemoteSearchable, you'll 
close the remote index.  I learned this by experimentation for Lucene 
in Action and added a warning there:

	http://www.lucenebook.com/search?query=RemoteSearchable+close


On Feb 17, 2005, at 8:27 PM, Youngho Cho wrote:

> Hello,
>
> Is there any pointer
> how closing an index and how the server deals with index updates
> for using ParrellelMultiSearcher with built in RemoteSearcher ??
>
> Need your help.
>
> Thanks,
>
> Youngho
>
> ----- Original Message -----
> From: "Youngho Cho" <youngho@nannet.co.kr>
> To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> Sent: Thursday, February 17, 2005 6:29 PM
> Subject: ParrellelMultiSearcher Question
>
>
>> Hello,
>>
>> I would like to use ParrellelMultiSearcher with few RemoteSearchables.
>>
>> If one of the remote server is down,
>> Can I parrellelMultiSearcher set close() and
>> make new ParrellelMultiSearcher with other live RemoteSearchables ?
>>
>> Thanks.
>>
>> Youngho


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13253-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 18 02:58:11 2005
Return-Path: <lucene-user-return-13253-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 8572 invoked from network); 18 Feb 2005 02:58:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Feb 2005 02:58:11 -0000
Received: (qmail 34639 invoked by uid 500); 18 Feb 2005 02:58:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 34089 invoked by uid 500); 18 Feb 2005 02:58:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 34072 invoked by uid 99); 18 Feb 2005 02:58:07 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HOT_NASTY
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from web25806.mail.ukl.yahoo.com (HELO web25806.mail.ukl.yahoo.com) (217.12.10.191)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 17 Feb 2005 18:58:04 -0800
Received: (qmail 8123 invoked by uid 60001); 18 Feb 2005 02:58:01 -0000
Message-ID: <20050218025801.8121.qmail@web25806.mail.ukl.yahoo.com>
Received: from [141.99.131.134] by web25806.mail.ukl.yahoo.com via HTTP; Fri, 18 Feb 2005 03:58:01 CET
Date: Fri, 18 Feb 2005 03:58:01 +0100 (CET)
From: Miro Max <kikiriki2k@yahoo.de>
Subject: select where from query type in lucene
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

i've problem with my my classes using lucene.
my index looks like:

type       |   content
-------------------------
document   |  xxxxx
document   |  xxxxx
view       |  xxxxx
view       |  xxxxx
dbentry    |  xxxxx
dbentry    |  xxxxx

my question now:

how can i search for content where type=document or
(type=document OR type=view).
actually i can do it with: "(type:document OR
type:entry) AND queryText" as QueryString.
but does exist any other better way to realize this?

thx

miro


	
		
___________________________________________________________ 
Gesendet von Yahoo! Mail - Jetzt mit 250MB Speicher kostenlos - Hier anmelden: http://mail.yahoo.de

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13254-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 18 03:38:26 2005
Return-Path: <lucene-user-return-13254-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 21504 invoked from network); 18 Feb 2005 03:38:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Feb 2005 03:38:26 -0000
Received: (qmail 72039 invoked by uid 500); 18 Feb 2005 03:38:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 72010 invoked by uid 500); 18 Feb 2005 03:38:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 71996 invoked by uid 99); 18 Feb 2005 03:38:14 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from web25804.mail.ukl.yahoo.com (HELO web25804.mail.ukl.yahoo.com) (217.12.10.189)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 17 Feb 2005 19:38:12 -0800
Received: (qmail 33987 invoked by uid 60001); 18 Feb 2005 03:38:10 -0000
Message-ID: <20050218033810.33985.qmail@web25804.mail.ukl.yahoo.com>
Received: from [141.99.131.134] by web25804.mail.ukl.yahoo.com via HTTP; Fri, 18 Feb 2005 04:38:10 CET
Date: Fri, 18 Feb 2005 04:38:10 +0100 (CET)
From: Miro Max <kikiriki2k@yahoo.de>
Subject: how to get stored fields
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello again,

i'm indexing my content as unstored fiels. now i want
to get this fields matching to the query and copy it
to a new index.

do i have to reconstruct this content or can i copy
this content as field to a new index -->

Field f = hits.doc(i).getField("content");
d.add(f);

miro



	

	
		
___________________________________________________________ 
Gesendet von Yahoo! Mail - Jetzt mit 250MB Speicher kostenlos - Hier anmelden: http://mail.yahoo.de

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13255-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 18 04:36:23 2005
Return-Path: <lucene-user-return-13255-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 38489 invoked from network); 18 Feb 2005 04:36:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Feb 2005 04:36:23 -0000
Received: (qmail 26908 invoked by uid 500); 18 Feb 2005 04:36:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 26882 invoked by uid 500); 18 Feb 2005 04:36:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26868 invoked by uid 99); 18 Feb 2005 04:36:20 -0000
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=MIME_BASE64_BLANKS,MIME_BASE64_TEXT
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO dev.nannet.co.kr) (221.146.159.218)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 17 Feb 2005 20:36:17 -0800
Received: from win98 ([192.168.1.98])
	by dev.nannet.co.kr (8.12.8/8.12.8) with SMTP id j1I4XgoL024758
	for <lucene-user@jakarta.apache.org>; Fri, 18 Feb 2005 13:33:42 +0900
Message-ID: <001d01c51573$b877abc0$6201a8c0@win98>
Reply-To: "Youngho Cho" <youngho@nannet.co.kr>
From: "Youngho Cho" <youngho@nannet.co.kr>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <003401c514d3$37de55e0$6201a8c0@win98> <000e01c51558$ff4f0040$6201a8c0@win98> <8f3ac8e1584a8c55ba9b9596b15e4883@ehatchersolutions.com>
Subject: Re: ParrellelMultiSearcher Question
Date: Fri, 18 Feb 2005 13:38:40 +0900
Organization: Nannet
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

SGVsbG8gRXJpaywNCg0KWWVzLiAgSSByZWFkIGl0Lg0KQW5kIHRyaWVkIHRvIGNsb3NlIHRoZSBy
ZW1vdGUgaW5kZXggZnJvbSByZW1vdGUgc2VydmVyIGFuZCBjbGllbnQgYm90aC4NCkJ1dCB3aGVu
IEkgc2VhcmNoIGFnYWluLA0KSSByZWNlaXZlZCB0aGUNCklPRXhjZXB0aW9uOiBCYWQgZmlsZSBk
ZXNjcmlwdG9yDQoNCk1heWJlIEkgYW0gd3JvbmcuDQoNCklzIHRoZXJlIGFueSBkZW1vIHNhbXBs
ZSA/DQoNClRoYW5rcy4NCg0KWW91bmdobw0KDQotLS0tLSBPcmlnaW5hbCBNZXNzYWdlIC0tLS0t
IA0KRnJvbTogIkVyaWsgSGF0Y2hlciIgPGVyaWtAZWhhdGNoZXJzb2x1dGlvbnMuY29tPg0KVG86
ICJMdWNlbmUgVXNlcnMgTGlzdCIgPGx1Y2VuZS11c2VyQGpha2FydGEuYXBhY2hlLm9yZz4NClNl
bnQ6IEZyaWRheSwgRmVicnVhcnkgMTgsIDIwMDUgMTE6NDcgQU0NClN1YmplY3Q6IFJlOiBQYXJy
ZWxsZWxNdWx0aVNlYXJjaGVyIFF1ZXN0aW9uDQoNCg0KPiBJZiB5b3UgY2xvc2UgYSBTZWFyY2hl
ciB0aGF0IGdvZXMgdGhyb3VnaCBhIFJlbW90ZVNlYXJjaGFibGUsIHlvdSdsbCANCj4gY2xvc2Ug
dGhlIHJlbW90ZSBpbmRleC4gIEkgbGVhcm5lZCB0aGlzIGJ5IGV4cGVyaW1lbnRhdGlvbiBmb3Ig
THVjZW5lIA0KPiBpbiBBY3Rpb24gYW5kIGFkZGVkIGEgd2FybmluZyB0aGVyZToNCj4gDQo+IGh0
dHA6Ly93d3cubHVjZW5lYm9vay5jb20vc2VhcmNoP3F1ZXJ5PVJlbW90ZVNlYXJjaGFibGUrY2xv
c2UNCj4gDQo+IA0KPiBPbiBGZWIgMTcsIDIwMDUsIGF0IDg6MjcgUE0sIFlvdW5naG8gQ2hvIHdy
b3RlOg0KPiANCj4gPiBIZWxsbywNCj4gPg0KPiA+IElzIHRoZXJlIGFueSBwb2ludGVyDQo+ID4g
aG93IGNsb3NpbmcgYW4gaW5kZXggYW5kIGhvdyB0aGUgc2VydmVyIGRlYWxzIHdpdGggaW5kZXgg
dXBkYXRlcw0KPiA+IGZvciB1c2luZyBQYXJyZWxsZWxNdWx0aVNlYXJjaGVyIHdpdGggYnVpbHQg
aW4gUmVtb3RlU2VhcmNoZXIgPz8NCj4gPg0KPiA+IE5lZWQgeW91ciBoZWxwLg0KPiA+DQo+ID4g
VGhhbmtzLA0KPiA+DQo+ID4gWW91bmdobw0KPiA+DQo+ID4gLS0tLS0gT3JpZ2luYWwgTWVzc2Fn
ZSAtLS0tLQ0KPiA+IEZyb206ICJZb3VuZ2hvIENobyIgPHlvdW5naG9AbmFubmV0LmNvLmtyPg0K
PiA+IFRvOiAiTHVjZW5lIFVzZXJzIExpc3QiIDxsdWNlbmUtdXNlckBqYWthcnRhLmFwYWNoZS5v
cmc+DQo+ID4gU2VudDogVGh1cnNkYXksIEZlYnJ1YXJ5IDE3LCAyMDA1IDY6MjkgUE0NCj4gPiBT
dWJqZWN0OiBQYXJyZWxsZWxNdWx0aVNlYXJjaGVyIFF1ZXN0aW9uDQo+ID4NCj4gPg0KPiA+PiBI
ZWxsbywNCj4gPj4NCj4gPj4gSSB3b3VsZCBsaWtlIHRvIHVzZSBQYXJyZWxsZWxNdWx0aVNlYXJj
aGVyIHdpdGggZmV3IFJlbW90ZVNlYXJjaGFibGVzLg0KPiA+Pg0KPiA+PiBJZiBvbmUgb2YgdGhl
IHJlbW90ZSBzZXJ2ZXIgaXMgZG93biwNCj4gPj4gQ2FuIEkgcGFycmVsbGVsTXVsdGlTZWFyY2hl
ciBzZXQgY2xvc2UoKSBhbmQNCj4gPj4gbWFrZSBuZXcgUGFycmVsbGVsTXVsdGlTZWFyY2hlciB3
aXRoIG90aGVyIGxpdmUgUmVtb3RlU2VhcmNoYWJsZXMgPw0KPiA+Pg0KPiA+PiBUaGFua3MuDQo+
ID4+DQo+ID4+IFlvdW5naG8NCj4gDQo+IA0KPiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCj4gVG8gdW5zdWJzY3Jp
YmUsIGUtbWFpbDogbHVjZW5lLXVzZXItdW5zdWJzY3JpYmVAamFrYXJ0YS5hcGFjaGUub3JnDQo+
IEZvciBhZGRpdGlvbmFsIGNvbW1hbmRzLCBlLW1haWw6IGx1Y2VuZS11c2VyLWhlbHBAamFrYXJ0
YS5hcGFjaGUub3Jn



From lucene-user-return-13256-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 18 06:12:54 2005
Return-Path: <lucene-user-return-13256-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 75283 invoked from network); 18 Feb 2005 06:12:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Feb 2005 06:12:54 -0000
Received: (qmail 15584 invoked by uid 500); 18 Feb 2005 06:12:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 15240 invoked by uid 500); 18 Feb 2005 06:12:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15224 invoked by uid 99); 18 Feb 2005 06:12:49 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from web15706.mail.cnb.yahoo.com (HELO web15706.mail.cnb.yahoo.com) (202.165.102.73)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 17 Feb 2005 22:12:46 -0800
Message-ID: <20050218061240.97465.qmail@web15706.mail.cnb.yahoo.com>
Received: from [202.130.224.29] by web15706.mail.cnb.yahoo.com via HTTP; Fri, 18 Feb 2005 14:12:40 CST
Date: Fri, 18 Feb 2005 14:12:40 +0800 (CST)
From: Jingkang Zhang <zjingk@yahoo.com.cn>
Subject: The problem of using Cyber Neko HTML Parser parse HTML files
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=gb2312
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

When I was using Cyber Neko HTML Parser parse HTML
files( created by Microsoft word ), if the file
contains HTML built-in entity references(for example:
&nbsp;) , node value may contain unknown character. 

Like this:
source html:
<DIV>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt
18pt"><SPAN lang=EN-US style="mso-bidi-font-size:
10.5pt"><FONT face="Times New Roman"><FONT
size=3>-rw-r--r--<SPAN style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp; </SPAN>1 root<SPAN
style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;
</SPAN>root<SPAN style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</SPAN>50 Jan 21 16:12
_1e.f6<o:p></o:p></FONT></FONT></SPAN></P>
</DIV>

after parsing html:
-rw-r--r--††?1 root†††† root†††††††††† 50 Jan 21 16:12
_1e.f6

How can I avoid it?

_________________________________________________________
Do You Yahoo!?
150ÕÚ«˙MP3∑ËøÒÀ—£¨¥¯ƒ˙¥≥»Î“Ù¿÷µÓÃ√
http://music.yisou.com/
√¿≈Æ√˜–«”¶”–æ°”–£¨À—±È√¿Õº°¢—ﬁÕº∫Õø·Õº
http://image.yisou.com
1GæÕ «1000’◊£¨—≈ª¢µÁ” ◊‘÷˙¿©»›£°
http://cn.rd.yahoo.com/mail_cn/tag/1g/*http://cn.mail.yahoo.com/event/mail_1g/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13257-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 18 06:17:39 2005
Return-Path: <lucene-user-return-13257-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 76437 invoked from network); 18 Feb 2005 06:17:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Feb 2005 06:17:39 -0000
Received: (qmail 20946 invoked by uid 500); 18 Feb 2005 06:17:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 20912 invoked by uid 500); 18 Feb 2005 06:17:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20898 invoked by uid 99); 18 Feb 2005 06:17:35 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of jasonpolites@tpg.com.au designates 203.12.160.101 as permitted sender)
Received: from mail5.tpgi.com.au (HELO mail.tpgi.com.au) (203.12.160.101)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 17 Feb 2005 22:17:34 -0800
Received: from MINOS (CPE-61-9-143-85.vic.bigpond.net.au [61.9.143.85])
	(authenticated bits=0)
	by mail.tpgi.com.au (8.12.10/8.12.10) with ESMTP id j1I6HSTB018308
	for <lucene-user@jakarta.apache.org>; Fri, 18 Feb 2005 17:17:30 +1100
Message-ID: <036f01c51581$86f56200$6400a8c0@everymail.com.au>
Reply-To: "Jason Polites" <jason.polites@everymail.com.au>
From: "Jason Polites" <jasonpolites@tpg.com.au>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20050218061240.97465.qmail@web15706.mail.cnb.yahoo.com>
Subject: Re: The problem of using Cyber Neko HTML Parser parse HTML files
Date: Fri, 18 Feb 2005 17:17:28 +1100
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="utf-8";
	reply-type=original
Content-Transfer-Encoding: 8bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-TPG-Antivirus: Passed
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

This is not an unknown character.. it is a non breaking space (unicode value 
0x00A0)


----- Original Message ----- 
From: "Jingkang Zhang" <zjingk@yahoo.com.cn>
To: <lucene-user@jakarta.apache.org>
Sent: Friday, February 18, 2005 5:12 PM
Subject: The problem of using Cyber Neko HTML Parser parse HTML files


> When I was using Cyber Neko HTML Parser parse HTML
> files( created by Microsoft word ), if the file
> contains HTML built-in entity references(for example:
> &nbsp;) , node value may contain unknown character.
>
> Like this:
> source html:
> <DIV>
> <P class=MsoNormal style="MARGIN: 0cm 0cm 0pt
> 18pt"><SPAN lang=EN-US style="mso-bidi-font-size:
> 10.5pt"><FONT face="Times New Roman"><FONT
> size=3>-rw-r--r--<SPAN style="mso-spacerun:
> yes">&nbsp;&nbsp;&nbsp; </SPAN>1 root<SPAN
> style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;
> </SPAN>root<SPAN style="mso-spacerun:
> yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
> </SPAN>50 Jan 21 16:12
> _1e.f6<o:p></o:p></FONT></FONT></SPAN></P>
> </DIV>
>
> after parsing html:
> -rw-r--r--Áâã?1 rootÁâãÁâã rootÁâãÁâãÁâãÁâãÁâã 50 Jan 21 16:12
> _1e.f6
>
> How can I avoid it?
>
> _________________________________________________________
> Do You Yahoo!?
> 150‰∏áÊõ≤MP3ÁñØÁãÇÊêúÔºåÂ∏¶ÊÇ®ÈóØÂÖ•Èü≥‰πêÊÆøÂ†Ç
> http://music.yisou.com/
> ÁæéÂ•≥ÊòéÊòüÂ∫îÊúâÂ∞ΩÊúâÔºåÊêúÈÅçÁæéÂõæ„ÄÅËâ≥ÂõæÂíåÈÖ∑Âõæ
> http://image.yisou.com
> 1GÂ∞±ÊòØ1000ÂÖÜÔºåÈõÖËôéÁîµÈÇÆËá™Âä©Êâ©ÂÆπÔºÅ
> http://cn.rd.yahoo.com/mail_cn/tag/1g/*http://cn.mail.yahoo.com/event/mail_1g/
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13258-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 18 06:47:47 2005
Return-Path: <lucene-user-return-13258-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 87169 invoked from network); 18 Feb 2005 06:47:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Feb 2005 06:47:47 -0000
Received: (qmail 46268 invoked by uid 500); 18 Feb 2005 06:47:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 46239 invoked by uid 500); 18 Feb 2005 06:47:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 46223 invoked by uid 99); 18 Feb 2005 06:47:44 -0000
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=MIME_BASE64_BLANKS,MIME_BASE64_TEXT
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO dev.nannet.co.kr) (221.146.159.218)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 17 Feb 2005 22:47:42 -0800
Received: from win98 ([192.168.1.98])
	by dev.nannet.co.kr (8.12.8/8.12.8) with SMTP id j1I6j7oL005722
	for <lucene-user@jakarta.apache.org>; Fri, 18 Feb 2005 15:45:07 +0900
Message-ID: <000c01c51586$14f18260$6201a8c0@win98>
Reply-To: "Youngho Cho" <youngho@nannet.co.kr>
From: "Youngho Cho" <youngho@nannet.co.kr>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <003401c514d3$37de55e0$6201a8c0@win98> <000e01c51558$ff4f0040$6201a8c0@win98> <8f3ac8e1584a8c55ba9b9596b15e4883@ehatchersolutions.com> <001d01c51573$b877abc0$6201a8c0@win98>
Subject: Re: ParrellelMultiSearcher Question
Date: Fri, 18 Feb 2005 15:50:06 +0900
Organization: Nannet
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

SGksDQoNCkkgZm91bmQgbXkgcHJvYmxlbSwNCg0KVGhlIHJlbW90ZVNlcnZlciBpbmRleCB3YXNu
J3QgY2xvc2VkIGV4cGVjdGVkbHkuDQpBbHNvIGFmdGVyIHJlb3BlbiB0aGUgcmVtb3RlU2VydmVy
IHNlYXJjaGVyLA0KdGhlIGNsaWVudCBzaWRlIHNlYXJjaGVyIGFsc28gc2hvdWxkIHJlY29ubmVj
dGVkLg0KDQpUaGFua3MuDQoNCllvdW5naG8NCg0KLS0tLS0gT3JpZ2luYWwgTWVzc2FnZSAtLS0t
LSANCkZyb206ICJZb3VuZ2hvIENobyIgPHlvdW5naG9AbmFubmV0LmNvLmtyPg0KVG86ICJMdWNl
bmUgVXNlcnMgTGlzdCIgPGx1Y2VuZS11c2VyQGpha2FydGEuYXBhY2hlLm9yZz4NClNlbnQ6IEZy
aWRheSwgRmVicnVhcnkgMTgsIDIwMDUgMTozOCBQTQ0KU3ViamVjdDogUmU6IFBhcnJlbGxlbE11
bHRpU2VhcmNoZXIgUXVlc3Rpb24NCg0KDQo+IEhlbGxvIEVyaWssDQo+IA0KPiBZZXMuICBJIHJl
YWQgaXQuDQo+IEFuZCB0cmllZCB0byBjbG9zZSB0aGUgcmVtb3RlIGluZGV4IGZyb20gcmVtb3Rl
IHNlcnZlciBhbmQgY2xpZW50IGJvdGguDQo+IEJ1dCB3aGVuIEkgc2VhcmNoIGFnYWluLA0KPiBJ
IHJlY2VpdmVkIHRoZQ0KPiBJT0V4Y2VwdGlvbjogQmFkIGZpbGUgZGVzY3JpcHRvcg0KPiANCj4g
TWF5YmUgSSBhbSB3cm9uZy4NCj4gDQo+IElzIHRoZXJlIGFueSBkZW1vIHNhbXBsZSA/DQo+IA0K
PiBUaGFua3MuDQo+IA0KPiBZb3VuZ2hvDQo+IA0KPiAtLS0tLSBPcmlnaW5hbCBNZXNzYWdlIC0t
LS0tIA0KPiBGcm9tOiAiRXJpayBIYXRjaGVyIiA8ZXJpa0BlaGF0Y2hlcnNvbHV0aW9ucy5jb20+
DQo+IFRvOiAiTHVjZW5lIFVzZXJzIExpc3QiIDxsdWNlbmUtdXNlckBqYWthcnRhLmFwYWNoZS5v
cmc+DQo+IFNlbnQ6IEZyaWRheSwgRmVicnVhcnkgMTgsIDIwMDUgMTE6NDcgQU0NCj4gU3ViamVj
dDogUmU6IFBhcnJlbGxlbE11bHRpU2VhcmNoZXIgUXVlc3Rpb24NCj4gDQo+IA0KPiA+IElmIHlv
dSBjbG9zZSBhIFNlYXJjaGVyIHRoYXQgZ29lcyB0aHJvdWdoIGEgUmVtb3RlU2VhcmNoYWJsZSwg
eW91J2xsIA0KPiA+IGNsb3NlIHRoZSByZW1vdGUgaW5kZXguICBJIGxlYXJuZWQgdGhpcyBieSBl
eHBlcmltZW50YXRpb24gZm9yIEx1Y2VuZSANCj4gPiBpbiBBY3Rpb24gYW5kIGFkZGVkIGEgd2Fy
bmluZyB0aGVyZToNCj4gPiANCj4gPiBodHRwOi8vd3d3Lmx1Y2VuZWJvb2suY29tL3NlYXJjaD9x
dWVyeT1SZW1vdGVTZWFyY2hhYmxlK2Nsb3NlDQo+ID4gDQo+ID4gDQo+ID4gT24gRmViIDE3LCAy
MDA1LCBhdCA4OjI3IFBNLCBZb3VuZ2hvIENobyB3cm90ZToNCj4gPiANCj4gPiA+IEhlbGxvLA0K
PiA+ID4NCj4gPiA+IElzIHRoZXJlIGFueSBwb2ludGVyDQo+ID4gPiBob3cgY2xvc2luZyBhbiBp
bmRleCBhbmQgaG93IHRoZSBzZXJ2ZXIgZGVhbHMgd2l0aCBpbmRleCB1cGRhdGVzDQo+ID4gPiBm
b3IgdXNpbmcgUGFycmVsbGVsTXVsdGlTZWFyY2hlciB3aXRoIGJ1aWx0IGluIFJlbW90ZVNlYXJj
aGVyID8/DQo+ID4gPg0KPiA+ID4gTmVlZCB5b3VyIGhlbHAuDQo+ID4gPg0KPiA+ID4gVGhhbmtz
LA0KPiA+ID4NCj4gPiA+IFlvdW5naG8NCj4gPiA+DQo+ID4gPiAtLS0tLSBPcmlnaW5hbCBNZXNz
YWdlIC0tLS0tDQo+ID4gPiBGcm9tOiAiWW91bmdobyBDaG8iIDx5b3VuZ2hvQG5hbm5ldC5jby5r
cj4NCj4gPiA+IFRvOiAiTHVjZW5lIFVzZXJzIExpc3QiIDxsdWNlbmUtdXNlckBqYWthcnRhLmFw
YWNoZS5vcmc+DQo+ID4gPiBTZW50OiBUaHVyc2RheSwgRmVicnVhcnkgMTcsIDIwMDUgNjoyOSBQ
TQ0KPiA+ID4gU3ViamVjdDogUGFycmVsbGVsTXVsdGlTZWFyY2hlciBRdWVzdGlvbg0KPiA+ID4N
Cj4gPiA+DQo+ID4gPj4gSGVsbG8sDQo+ID4gPj4NCj4gPiA+PiBJIHdvdWxkIGxpa2UgdG8gdXNl
IFBhcnJlbGxlbE11bHRpU2VhcmNoZXIgd2l0aCBmZXcgUmVtb3RlU2VhcmNoYWJsZXMuDQo+ID4g
Pj4NCj4gPiA+PiBJZiBvbmUgb2YgdGhlIHJlbW90ZSBzZXJ2ZXIgaXMgZG93biwNCj4gPiA+PiBD
YW4gSSBwYXJyZWxsZWxNdWx0aVNlYXJjaGVyIHNldCBjbG9zZSgpIGFuZA0KPiA+ID4+IG1ha2Ug
bmV3IFBhcnJlbGxlbE11bHRpU2VhcmNoZXIgd2l0aCBvdGhlciBsaXZlIFJlbW90ZVNlYXJjaGFi
bGVzID8NCj4gPiA+Pg0KPiA+ID4+IFRoYW5rcy4NCj4gPiA+Pg0KPiA+ID4+IFlvdW5naG8NCj4g
PiANCj4gPiANCj4gPiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCj4gPiBUbyB1bnN1YnNjcmliZSwgZS1tYWlsOiBs
dWNlbmUtdXNlci11bnN1YnNjcmliZUBqYWthcnRhLmFwYWNoZS5vcmcNCj4gPiBGb3IgYWRkaXRp
b25hbCBjb21tYW5kcywgZS1tYWlsOiBsdWNlbmUtdXNlci1oZWxwQGpha2FydGEuYXBhY2hlLm9y
Zw==



From lucene-user-return-13259-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 18 06:48:56 2005
Return-Path: <lucene-user-return-13259-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 87625 invoked from network); 18 Feb 2005 06:48:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Feb 2005 06:48:55 -0000
Received: (qmail 48123 invoked by uid 500); 18 Feb 2005 06:48:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 47799 invoked by uid 500); 18 Feb 2005 06:48:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 47786 invoked by uid 99); 18 Feb 2005 06:48:51 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from web15704.mail.cnb.yahoo.com (HELO web15704.mail.cnb.yahoo.com) (202.165.102.71)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 17 Feb 2005 22:48:50 -0800
Message-ID: <20050218064839.31632.qmail@web15704.mail.cnb.yahoo.com>
Received: from [202.130.224.29] by web15704.mail.cnb.yahoo.com via HTTP; Fri, 18 Feb 2005 14:48:39 CST
Date: Fri, 18 Feb 2005 14:48:39 +0800 (CST)
From: Jingkang Zhang <zjingk@yahoo.com.cn>
Subject: Re: Re: The problem of using Cyber Neko HTML Parser parse HTML files
To: Lucene Users List <lucene-user@jakarta.apache.org>,
  Jason Polites <jason.polites@everymail.com.au>
In-Reply-To: <036f01c51581$86f56200$6400a8c0@everymail.com.au>
MIME-Version: 1.0
Content-Type: text/plain; charset=gb2312
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thank you. But how can I view correct output? If my
html files using different encode method (Like :
UTF-8, ISO8859-1, GBK , JIS, etc) , how can I treat
it?



 --- Jason Polites <jasonpolites@tpg.com.au> µƒ’˝Œƒ£∫
> This is not an unknown character.. it is a non
> breaking space (unicode value 
> 0x00A0)
> 
> 
> ----- Original Message ----- 
> From: "Jingkang Zhang" <zjingk@yahoo.com.cn>
> To: <lucene-user@jakarta.apache.org>
> Sent: Friday, February 18, 2005 5:12 PM
> Subject: The problem of using Cyber Neko HTML Parser
> parse HTML files
> 
> 
> > When I was using Cyber Neko HTML Parser parse HTML
> > files( created by Microsoft word ), if the file
> > contains HTML built-in entity references(for
> example:
> > &nbsp;) , node value may contain unknown
> character.
> >
> > Like this:
> > source html:
> > <DIV>
> > <P class=MsoNormal style="MARGIN: 0cm 0cm 0pt
> > 18pt"><SPAN lang=EN-US style="mso-bidi-font-size:
> > 10.5pt"><FONT face="Times New Roman"><FONT
> > size=3>-rw-r--r--<SPAN style="mso-spacerun:
> > yes">&nbsp;&nbsp;&nbsp; </SPAN>1 root<SPAN
> > style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;
> > </SPAN>root<SPAN style="mso-spacerun:
> >
>
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
> > </SPAN>50 Jan 21 16:12
> > _1e.f6<o:p></o:p></FONT></FONT></SPAN></P>
> > </DIV>
> >
> > after parsing html:
> > -rw-r--r--Áâ?1 rootÁâãÁâã rootÁâãÁâãÁâãÁâãÁâ?50
> Jan 21 16:12
> > _1e.f6
> >
> > How can I avoid it?
> >
> >
>
_________________________________________________________
> > Do You Yahoo!?
> > 150‰∏áÊõ≤MP3ÁñØÁãÇÊêúÔºåÂ∏¶ÊÇ®ÈóØÂÖ•Èü≥‰πêÊÆøÂ†Ç
> > http://music.yisou.com/
> >
>
ÁæéÂ•≥ÊòéÊòüÂ∫îÊúâÂ∞ΩÊúâÔºåÊêúÈÅçÁæéÂõæ„ÄÅËâ≥ÂõæÂíåÈÖ∑Âõæ
> > http://image.yisou.com
> > 1GÂ∞±ÊòØ1000ÂÖÜÔºåÈõÖËôéÁîµÈÇÆËá™Âä©Êâ©ÂÆπÔº?> >
>
http://cn.rd.yahoo.com/mail_cn/tag/1g/*http://cn.mail.yahoo.com/event/mail_1g/
> >
> >
>
---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> >
> > 
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 
>  

_________________________________________________________
Do You Yahoo!?
150ÕÚ«˙MP3∑ËøÒÀ—£¨¥¯ƒ˙¥≥»Î“Ù¿÷µÓÃ√
http://music.yisou.com/
√¿≈Æ√˜–«”¶”–æ°”–£¨À—±È√¿Õº°¢—ﬁÕº∫Õø·Õº
http://image.yisou.com
1GæÕ «1000’◊£¨—≈ª¢µÁ” ◊‘÷˙¿©»›£°
http://cn.rd.yahoo.com/mail_cn/tag/1g/*http://cn.mail.yahoo.com/event/mail_1g/

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13260-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 18 09:24:35 2005
Return-Path: <lucene-user-return-13260-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 83007 invoked from network); 18 Feb 2005 09:24:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Feb 2005 09:24:35 -0000
Received: (qmail 65263 invoked by uid 500); 18 Feb 2005 09:24:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 65244 invoked by uid 500); 18 Feb 2005 09:24:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 65230 invoked by uid 99); 18 Feb 2005 09:24:29 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_30_40,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from dns1.hemscott.co.uk (HELO dns1.hemscott.co.uk) (195.47.237.192)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 18 Feb 2005 01:24:28 -0800
Received: from exchange.hsnet.hemscott.co.uk (exchange [172.22.0.216])
	by dns1.hemscott.co.uk (8.11.6/8.11.6) with ESMTP id j1I9OJn00328
	for <lucene-user@jakarta.apache.org>; Fri, 18 Feb 2005 09:24:19 GMT
Received: by exchange.hemscott.co.uk with Internet Mail Service (5.5.2653.19)
	id <1XYS0R8Y>; Fri, 18 Feb 2005 09:24:20 -0000
Message-ID: <7157427725CF4A46ADC522959748E7A20FE85B25@exchange.hemscott.co.uk>
From: Paul Mellor <pmellor@hemscott.co.uk>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Concurrent searching & re-indexing
Date: Fri, 18 Feb 2005 09:24:15 -0000
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C5159B.9D7BD620"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C5159B.9D7BD620
Content-Type: text/plain;
	charset="iso-8859-1"

Ok, I will change my reindex method to delete all documents and then re-add
them all, rather than using an IndexWriter to write a completely new index.

Thanks for the help on this everyone.

Paul

-----Original Message-----
From: Doug Cutting [mailto:cutting@apache.org]
Sent: 17 February 2005 22:26
To: Lucene Users List
Subject: Re: Concurrent searching & re-indexing


Paul Mellor wrote:
> I've read from various sources on the Internet that it is perfectly safe
to
> simultaneously search a Lucene index that is being updated from another
> Thread, as long as all write access to the index is synchronized.  But
does
> this apply only to updating the index (i.e. deleting and adding
documents),
> or to a complete re-indexing (i.e. create a new IndexWriter with the
> 'create' argument true and then re-add all the documents)?
[ ...]
> java.io.IOException: couldn't delete _a.f1
> at org.apache.lucene.store.FSDirectory.create(FSDirectory.java:166)
[...]
> This is running on Windows 2000.

On Windows one cannot delete a file while it is still open.  So, no, on 
Windows one cannot remove an index entirely while an IndexReader or 
Searcher is still open on it, since it is simply impossible to remove 
all the files in the index.

We might attempt to patch this by keeping a list of such files and 
attempt to delete them later (as is done when updating an index).  But 
this could cause problems, as a new index will eventually try to use 
these same file names again, and it would then conflict with the open 
IndexReader.  This is not a problem when updating an existing index, 
since filenames (except for a few which are not kept open, like 
"segments") are never reused in the lifetime of an index.  So, in order 
for such a fix to work we would need to switch to globally unique 
segment names, e.g., long random strings, rather than increasing integers.

In the meantime, the safe way to rebuild an index from scratch while 
other processes are reading it is simply to delete all of its documents, 
then start adding new ones.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


_____________________________________________________________________
This e-mail has been scanned for viruses by MCI's Internet Managed Scanning
Services - powered by MessageLabs. For further information visit
http://www.mci.com

This e-mail and any files transmitted with it are confidential and intended
solely for the use of the individual or entity to whom they are addressed.
If you are not the intended recipient, you should not copy, retransmit or
use the e-mail and/or files transmitted with it  and should not disclose
their contents. In such a case, please notify netwebmaster@hemscott.co.uk
and delete the message from your own system. Any opinions expressed in this
e-mail and/or files transmitted with it that do not relate to the official
business of this company are those solely of the author and should not be
interpreted as being endorsed by this company.

------_=_NextPart_001_01C5159B.9D7BD620--

From lucene-user-return-13261-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 18 12:16:44 2005
Return-Path: <lucene-user-return-13261-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 75207 invoked from network); 18 Feb 2005 12:16:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Feb 2005 12:16:44 -0000
Received: (qmail 72047 invoked by uid 500); 18 Feb 2005 12:16:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 71741 invoked by uid 500); 18 Feb 2005 12:16:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 71715 invoked by uid 99); 18 Feb 2005 12:16:36 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from intranet.runtime-collective.com (HELO mail.runtime-collective.com) (212.42.171.82)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 18 Feb 2005 04:16:35 -0800
Received: from [81.168.89.246] (helo=[192.168.1.31])
	by mail.runtime-collective.com with smtp (Exim 3.35 #1 (Debian))
	id 1D273c-0001pm-00
	for <lucene-user@jakarta.apache.org>; Fri, 18 Feb 2005 12:16:28 +0000
Subject: Re: select where from query type in lucene
From: Miles Barr <miles@runtime-collective.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20050218025801.8121.qmail@web25806.mail.ukl.yahoo.com>
References: <20050218025801.8121.qmail@web25806.mail.ukl.yahoo.com>
Content-Type: text/plain
Organization: Runtime Collective Ltd.
Date: Fri, 18 Feb 2005 12:16:31 +0000
Message-Id: <1108728991.10590.9.camel@saturn>
Mime-Version: 1.0
X-Mailer: Evolution 2.0.3 
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Fri, 2005-02-18 at 03:58 +0100, Miro Max wrote:
> how can i search for content where type=document or
> (type=document OR type=view).
> actually i can do it with: "(type:document OR
> type:entry) AND queryText" as QueryString.
> but does exist any other better way to realize this?

What's wrong with that method? I don't think you can do it any simpler. 

Are you concerned about writing a string then having to use the query
parser? You could also build it up manually:

QueryParser parser = ...

Query text = parser.parse(queryText);

Query type = new BooleanQuery();
type.add(new TermQuery(new Term("type", "document")), false, false);
type.add(new TermQuery(new Term("type", "view")), false, false);

Query everything = new BooleanQuery();
everything.add(text, true, false);
everything.add(type, true, false);

That way you could avoid things in queryText overriding the type check.

Another alternative is to put each type in it's own index and use a
MultiSearcher to pull in the types you want.



-- 
Miles Barr <miles@runtime-collective.com>
Runtime Collective Ltd.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13262-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 18 12:25:49 2005
Return-Path: <lucene-user-return-13262-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 83753 invoked from network); 18 Feb 2005 12:25:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Feb 2005 12:25:48 -0000
Received: (qmail 87218 invoked by uid 500); 18 Feb 2005 12:25:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 87152 invoked by uid 500); 18 Feb 2005 12:25:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 87098 invoked by uid 99); 18 Feb 2005 12:25:36 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.tanto.de (HELO mail.tanto.de) (213.61.178.43)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 18 Feb 2005 04:25:35 -0800
Received: from localhost (localhost [127.0.0.1])
	by mail.tanto.de (Postfix) with ESMTP id 2A50023BF1
	for <lucene-user@jakarta.apache.org>; Fri, 18 Feb 2005 13:26:05 +0100 (CET)
Received: from mail.tanto.de ([127.0.0.1])
 by localhost (mail.tanto.de [127.0.0.1]) (amavisd-new, port 10024) with ESMTP
 id 28124-06 for <lucene-user@jakarta.apache.org>;
 Fri, 18 Feb 2005 13:26:05 +0100 (CET)
Received: from tucholsky.office.tanto.de (tucholsky.office.tanto.de [10.0.0.35])
	by mail.tanto.de (Postfix) with ESMTP id 0959823BF0
	for <lucene-user@jakarta.apache.org>; Fri, 18 Feb 2005 13:26:05 +0100 (CET)
Received: from tucholsky.office.tanto.de (morus@localhost [127.0.0.1])
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-7.1) with ESMTP id j1ICQJ72020227
	for <lucene-user@jakarta.apache.org>; Fri, 18 Feb 2005 13:26:19 +0100
Received: (from morus@localhost)
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-7.1) id j1ICQJLi020223;
	Fri, 18 Feb 2005 13:26:19 +0100
From: Morus Walter <morus.walter@tanto.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16917.57067.206400.286919@tanto-xipolis.de>
Date: Fri, 18 Feb 2005 13:26:19 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: select where from query type in lucene
In-Reply-To: <1108728991.10590.9.camel@saturn>
References: <20050218025801.8121.qmail@web25806.mail.ukl.yahoo.com>
	<1108728991.10590.9.camel@saturn>
X-Mailer: VM 7.03 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Virus-Scanned: by amavisd-new at mail.tanto.de Q&A postmaster@tanto.de
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Miles Barr writes:
> On Fri, 2005-02-18 at 03:58 +0100, Miro Max wrote:
> > how can i search for content where type=document or
> > (type=document OR type=view).
> > actually i can do it with: "(type:document OR
> > type:entry) AND queryText" as QueryString.
> > but does exist any other better way to realize this?
>
[...] 
> 
> Another alternative is to put each type in it's own index and use a
> MultiSearcher to pull in the types you want.
> 
If the change rate of the index and the number of commonly used
type combinations aren't too large, cached filters might be another 
alternative.
Of couse the filter would have to be recreated whenever the index changes.
The advantage is, that you save searching for the types for each query
where the filter is reused while you can keep all documents within one 
index.

Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13263-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 18 12:29:03 2005
Return-Path: <lucene-user-return-13263-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 85245 invoked from network); 18 Feb 2005 12:29:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Feb 2005 12:29:02 -0000
Received: (qmail 92331 invoked by uid 500); 18 Feb 2005 12:28:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 92085 invoked by uid 500); 18 Feb 2005 12:28:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 92072 invoked by uid 99); 18 Feb 2005 12:28:57 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from intranet.runtime-collective.com (HELO mail.runtime-collective.com) (212.42.171.82)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 18 Feb 2005 04:28:57 -0800
Received: from [81.168.89.246] (helo=[192.168.1.31])
	by mail.runtime-collective.com with smtp (Exim 3.35 #1 (Debian))
	id 1D27Fb-0002fG-00
	for <lucene-user@jakarta.apache.org>; Fri, 18 Feb 2005 12:28:51 +0000
Subject: Re: how to get stored fields
From: Miles Barr <miles@runtime-collective.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20050218033810.33985.qmail@web25804.mail.ukl.yahoo.com>
References: <20050218033810.33985.qmail@web25804.mail.ukl.yahoo.com>
Content-Type: text/plain
Organization: Runtime Collective Ltd.
Date: Fri, 18 Feb 2005 12:28:53 +0000
Message-Id: <1108729734.10590.19.camel@saturn>
Mime-Version: 1.0
X-Mailer: Evolution 2.0.3 
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Fri, 2005-02-18 at 04:38 +0100, Miro Max wrote:
> i'm indexing my content as unstored fiels. now i want
> to get this fields matching to the query and copy it
> to a new index.
> 
> do i have to reconstruct this content or can i copy
> this content as field to a new index -->
> 
> Field f = hits.doc(i).getField("content");
> d.add(f);


You'll have to recreate the field from the original content. The above
method will produce a blank field in the new document if "content" is
UnStored.



-- 
Miles Barr <miles@runtime-collective.com>
Runtime Collective Ltd.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13264-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 18 12:38:58 2005
Return-Path: <lucene-user-return-13264-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 89596 invoked from network); 18 Feb 2005 12:38:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Feb 2005 12:38:57 -0000
Received: (qmail 4476 invoked by uid 500); 18 Feb 2005 12:38:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 4338 invoked by uid 500); 18 Feb 2005 12:38:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4320 invoked by uid 99); 18 Feb 2005 12:38:53 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from otto.isd-holland.nl (HELO otto2.isd-holland.nl) (62.221.254.21)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 18 Feb 2005 04:38:52 -0800
Received: from [192.168.0.103] (dsl-82-199-135-164.dutchdsl.nl [82.199.135.164])
	by otto2.isd-holland.nl (Postfix) with ESMTP id 7DE9F364115
	for <lucene-user@jakarta.apache.org>; Fri, 18 Feb 2005 13:38:54 +0100 (CET)
Message-ID: <4215E1C4.4010206@rotterdam-cs.com>
Date: Fri, 18 Feb 2005 13:38:28 +0100
From: Aad Nales <aad.nales@rotterdam-cs.com>
Reply-To: aad.nales@rotterdam-cs.com
Organization: Rotterdam CS
User-Agent: Mozilla Thunderbird 1.0 (X11/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: RangeQuery with null end value seems off..
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi all,

I am building a searchinterface where the user looks for product 
descriptions that fit his or her specs. One potential specs is for 
instance length. The product description holds two fields:

length_from = 1

and

length_to = 10

If the query value is 5 the search should be succesful. Here is what is 
strange.

I have implemented the query by using two rangeQueries based on a Term.

Term termFrom = new Term ("length_from", "5");
Term termTo = new Term("length_to, "5");

RangeQuery smallerThan = new RangeQuery(null, termTo, true);
RangeQuery largerThan = new RangeQuery(termFrom, null, true);

These two queries are then combined into a BooleanQuery and presto. However:

The smallerThan query seems fine when written out as String: length_to: 
[ TO 5]
The largerThan query however 
outputs:                                     length_from: [ 5 TO null]

What I wonder is: should that null be there? And if it should not (which 
i suspect?) is this a problem for the toString method or is it a problem 
for proper query execution?

Thanks for any input.

Aad

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13265-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 18 14:28:48 2005
Return-Path: <lucene-user-return-13265-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 71877 invoked from network); 18 Feb 2005 14:28:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Feb 2005 14:28:48 -0000
Received: (qmail 24611 invoked by uid 500); 18 Feb 2005 14:28:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 24575 invoked by uid 500); 18 Feb 2005 14:28:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24562 invoked by uid 99); 18 Feb 2005 14:28:43 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 18 Feb 2005 06:28:42 -0800
Received: from p001002 ([204.225.84.27]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Fri, 18 Feb 2005 09:33:11 -0500
Message-ID: <013e01c515c6$c5751620$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <00ae01c51529$24f86c30$7703d00a@hypermedia.com> <010b01c51543$39aae3a0$7703d00a@hypermedia.com> <9cad661ef00546d743caa9ffb4e9d044@ehatchersolutions.com>
Subject: Re: Query Question
Date: Fri, 18 Feb 2005 09:33:10 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 18 Feb 2005 14:33:11.0184 (UTC) FILETIME=[C58AC100:01C515C6]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks Erik. Option 2 sounds like the path of least resistance.

Luke
----- Original Message ----- 
From: "Erik Hatcher" <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Thursday, February 17, 2005 9:05 PM
Subject: Re: Query Question


> On Feb 17, 2005, at 5:51 PM, Luke Shannon wrote:
> > My manager is now totally stuck about being able to query data with * 
> > in it.
> 
> He's gonna have to wait a bit longer, you've got a slightly tricky 
> situation on your hands....
> 
> > WildcardQuery(new Term("name", "*home\**"));
> 
> The \* is the problem.  WildcardQuery doesn't deal with escaping like 
> you're trying.  Your query is essentially this now:
> 
> home\*
> 
> Where backslash has no special meaning at all... you're literally 
> looking for all terms that start with home followed by a backslash.  
> Two asterisks at the end really collapse into a single one logically.
> 
> > Any theories as to why the it would not match:
> >
> > Document (relevant fields):
> > Keyword<type:203>
> > Keyword<name:marcipan + home*>
> >
> > Is the \ escaping both * characters?
> 
> So, again, no escaping is being done here.  You're a bit stuck in this 
> situation because * (and ?) are special to WildcardQuery, and it does 
> no escaping.  Two options I think of:
> 
> - Build your own clone of WildcardQuery that does escaping - or 
> perhaps change the wildcard characters to something you do not index 
> and use those instead.
> 
> - Replace asterisks in the terms indexed with some other non-wildcard 
> character, then replace it on your queries as appropriate.
> 
> Erik
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13266-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 18 15:43:49 2005
Return-Path: <lucene-user-return-13266-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 13410 invoked from network); 18 Feb 2005 15:43:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Feb 2005 15:43:49 -0000
Received: (qmail 64497 invoked by uid 500); 18 Feb 2005 15:43:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 64476 invoked by uid 500); 18 Feb 2005 15:43:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64463 invoked by uid 99); 18 Feb 2005 15:43:43 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 18 Feb 2005 07:43:42 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id E0E6D13E2005; Fri, 18 Feb 2005 10:43:39 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 4A2BA13E2005
	for <lucene-user@jakarta.apache.org>; Fri, 18 Feb 2005 10:43:09 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <20050217110406.D8013@neptune.ebi.ac.uk>
References: <20050217110406.D8013@neptune.ebi.ac.uk>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <4717a82093baf44b1c2fce293dce6c26@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: reuse of TokenStream
Date: Fri, 18 Feb 2005 10:43:07 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-3.4 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I'm confused on how you're reusing a TokenStream object.  General  
Lucene usage would not involve a developer dealing with it directly.   
Could you share an example of what you're up to?

I'm not sure if this is related, but a technique I'm using is to index  
the same Document instance into two different IndexWriter instances  
(each uses a different Analyzer) - and this is working fine.

	Erik


On Feb 17, 2005, at 6:04 AM, Harald Kirsch wrote:

> Hi,
>
> is it thread safe to reuse the same TokenStream object for several
> fields of a document or does the IndexWriter try to parallelise
> tokenization of the fields of a single document?
>
> Similar question: Is it safe to reuse the same TokenStream object for
> several documents if I use IndexWriter.addDocument() in a loop?  Or
> does addDocument only put the work into a queue where tasks are taken
> out for parallel indexing by several threads?
>
>   Thanks,
>   Harald.
>
> --  
> ----------------------------------------------------------------------- 
> -
> Harald Kirsch | kirsch@ebi.ac.uk | +44 (0) 1223/49-2593
> BioMed Information Extraction:  
> http://www.ebi.ac.uk/Rebholz-srv/whatizit
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13267-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 18 15:54:57 2005
Return-Path: <lucene-user-return-13267-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 19723 invoked from network); 18 Feb 2005 15:54:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Feb 2005 15:54:57 -0000
Received: (qmail 93867 invoked by uid 500); 18 Feb 2005 15:54:52 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 93834 invoked by uid 500); 18 Feb 2005 15:54:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 93821 invoked by uid 99); 18 Feb 2005 15:54:51 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from static-68-236-183-90.ny325.east.verizon.net (HELO mail01.nyc-ofc.criticalmention.com) (68.236.183.90)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 18 Feb 2005 07:54:50 -0800
Received: from MCELONA (unknown [192.168.42.109])
	by mail01.nyc-ofc.criticalmention.com (Postfix) with ESMTP id 3327116893
	for <lucene-user@jakarta.apache.org>; Fri, 18 Feb 2005 10:54:48 -0500 (EST)
From: "Michael Celona" <mcelona@criticalmention.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Search Performance
Date: Fri, 18 Feb 2005 10:54:45 -0500
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_00B4_01C515A8.422B7340"
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
Thread-Index: AcUV0irYfl8EOVZ3Q8a/Rkc6GpTGug==
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Message-Id: <20050218155448.3327116893@mail01.nyc-ofc.criticalmention.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_00B4_01C515A8.422B7340
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

What is single handedly the best way to improve search performance?  I have
an index in the 2G range stored on the local file system of the searcher.
Under a load test of 5 simultaneous users my average search time is ~4700
ms.  Under a load test of 10 simultaneous users my average search time is
~10000 ms.    I have given the JVM 2G of memory and am a using a dual 3GHz
Zeons.  Any ideas?  

 

Michael


------=_NextPart_000_00B4_01C515A8.422B7340--



From lucene-user-return-13268-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 18 15:58:51 2005
Return-Path: <lucene-user-return-13268-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 21839 invoked from network); 18 Feb 2005 15:58:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Feb 2005 15:58:51 -0000
Received: (qmail 4489 invoked by uid 500); 18 Feb 2005 15:58:46 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 4467 invoked by uid 500); 18 Feb 2005 15:58:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4454 invoked by uid 99); 18 Feb 2005 15:58:46 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from Unknown (HELO zebedee.magus.co.uk) (193.131.98.10)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 18 Feb 2005 07:58:44 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Search Performance
Date: Fri, 18 Feb 2005 16:00:24 -0000
Message-ID: <D98ADD74A4E07445A943A90A184B5199AD243E@zebedee.magus.co.uk>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Search Performance
Thread-Index: AcUV0irYfl8EOVZ3Q8a/Rkc6GpTGugAAEY6w
From: "David Townsend" <david.townsend@magus.co.uk>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Are you creating new IndexSearchers or IndexReaders on each search?  =
Caching your IndexSearchers has a dramatic effect on speed.

David Townsend

-----Original Message-----
From: Michael Celona [mailto:mcelona@criticalmention.com]
Sent: 18 February 2005 15:55
To: Lucene Users List
Subject: Search Performance


What is single handedly the best way to improve search performance?  I =
have
an index in the 2G range stored on the local file system of the =
searcher.
Under a load test of 5 simultaneous users my average search time is =
~4700
ms.  Under a load test of 10 simultaneous users my average search time =
is
~10000 ms.    I have given the JVM 2G of memory and am a using a dual =
3GHz
Zeons.  Any ideas? =20

=20

Michael


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13269-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 18 16:01:56 2005
Return-Path: <lucene-user-return-13269-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 23264 invoked from network); 18 Feb 2005 16:01:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Feb 2005 16:01:56 -0000
Received: (qmail 11561 invoked by uid 500); 18 Feb 2005 16:01:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 11520 invoked by uid 500); 18 Feb 2005 16:01:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11472 invoked by uid 99); 18 Feb 2005 16:01:49 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of brogar@gmail.com designates 64.233.184.198 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.198)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 18 Feb 2005 08:01:48 -0800
Received: by wproxy.gmail.com with SMTP id 71so615187wri
        for <lucene-user@jakarta.apache.org>; Fri, 18 Feb 2005 08:01:46 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type:content-transfer-encoding;
        b=tXi1t+TZFrfe8N0ILlROXVVXSkX/CjgFWj/pVb2nDgMS0lR6YQXSqtSxC2WnUmolgqVsT4XKRd1z7n2SrTtYjUU/HFkqC/s2gDvoHOYtscG0JR2o7lnXej5UVazJLY1J1oe4yD1CCctHGRG/waQqaQ2VAFCYsmXVwUgtQhwAklg=
Received: by 10.54.16.79 with SMTP id 79mr36268wrp;
        Fri, 18 Feb 2005 08:01:45 -0800 (PST)
Received: by 10.54.51.72 with HTTP; Fri, 18 Feb 2005 08:01:44 -0800 (PST)
Message-ID: <34cc3b0a05021808012afba734@mail.gmail.com>
Date: Fri, 18 Feb 2005 11:01:44 -0500
From: Chris D <brogar@gmail.com>
Reply-To: Chris D <brogar@gmail.com>
To: lucene-user@jakarta.apache.org
Subject: Scalability of Lucene indexes
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi all, 

I have a question about scaling lucene across a cluster, and good ways
of breaking up the work.

We have a very large index and searches sometimes take more time than
they're allowed. What we have been doing is during indexing we index
into 256 seperate indexes (depending on the md5sum) then distribute
the indexes to the search machines. So if a machine has 128 indexes it
would have to do 128 searches. I gave parallelMultiSearcher a try and
it was significantly slower than simply iterating through the indexes
one at a time.

Our new plan is to somehow have only one index per search machine and
a larger main index stored on the master.

What I'm interested to know is whether having one extremely large
index for the master then splitting the index into several smaller
indexes (if this is possible) would be better than having several
smaller indexes and merging them on the search machines into one
index.

I would also be interested to know how others have divided up search
work across a cluster.

Thanks,
Chris

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13270-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 18 16:04:27 2005
Return-Path: <lucene-user-return-13270-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 24392 invoked from network); 18 Feb 2005 16:04:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Feb 2005 16:04:27 -0000
Received: (qmail 14680 invoked by uid 500); 18 Feb 2005 16:04:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 14429 invoked by uid 500); 18 Feb 2005 16:04:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 14405 invoked by uid 99); 18 Feb 2005 16:04:13 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from maui.ebi.ac.uk (HELO maui.ebi.ac.uk) (193.62.196.100)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 18 Feb 2005 08:04:11 -0800
Received: from neptune.ebi.ac.uk (neptune.ebi.ac.uk [172.22.8.118])
	by maui.ebi.ac.uk (8.11.7+Sun/8.11.7) with ESMTP id j1IG47m27324
	for <lucene-user@jakarta.apache.org>; Fri, 18 Feb 2005 16:04:07 GMT
Received: (from kirsch@localhost)
	by neptune.ebi.ac.uk (8.11.6/8.11.6) id j1IG46814440
	for lucene-user@jakarta.apache.org; Fri, 18 Feb 2005 16:04:06 GMT
Date: Fri, 18 Feb 2005 16:04:06 +0000
From: Harald Kirsch <kirsch@ebi.ac.uk>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: reuse of TokenStream
Message-ID: <20050218160406.C12206@neptune.ebi.ac.uk>
References: <20050217110406.D8013@neptune.ebi.ac.uk> <4717a82093baf44b1c2fce293dce6c26@ehatchersolutions.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.2.5.1i
In-Reply-To: <4717a82093baf44b1c2fce293dce6c26@ehatchersolutions.com>; from erik@ehatchersolutions.com on Fri, Feb 18, 2005 at 10:43:07AM -0500
X-EBI-Information: This email is scanned using www.mailscanner.info.
X-EBI: Found to be clean
X-EBI-SpamCheck: not spam, SpamAssassin (score=0, required 5)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Fri, Feb 18, 2005 at 10:43:07AM -0500, Erik Hatcher wrote:
> I'm confused on how you're reusing a TokenStream object.  General  
> Lucene usage would not involve a developer dealing with it directly.   

Why not? The IndexWriter wants to tokenize a field, so it calls my
Analyzer to get a custom made Tokenizer or TokenStream object for the
given field. Since setting up the TokenStream needs some work to be
done, I rather not repeat this work for every document to be indexed.

  Harald.


-- 
------------------------------------------------------------------------
Harald Kirsch | kirsch@ebi.ac.uk | +44 (0) 1223/49-2593
BioMed Information Extraction: http://www.ebi.ac.uk/Rebholz-srv/whatizit

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13271-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 18 16:05:05 2005
Return-Path: <lucene-user-return-13271-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 25274 invoked from network); 18 Feb 2005 16:05:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Feb 2005 16:05:04 -0000
Received: (qmail 16978 invoked by uid 500); 18 Feb 2005 16:04:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 16844 invoked by uid 500); 18 Feb 2005 16:04:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16774 invoked by uid 99); 18 Feb 2005 16:04:28 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from static-68-236-183-90.ny325.east.verizon.net (HELO mail01.nyc-ofc.criticalmention.com) (68.236.183.90)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 18 Feb 2005 08:04:28 -0800
Received: from MCELONA (unknown [192.168.42.109])
	by mail01.nyc-ofc.criticalmention.com (Postfix) with ESMTP id B0D1516893
	for <lucene-user@jakarta.apache.org>; Fri, 18 Feb 2005 11:04:25 -0500 (EST)
From: "Michael Celona" <mcelona@criticalmention.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Search Performance
Date: Fri, 18 Feb 2005 11:04:23 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
In-Reply-To: <D98ADD74A4E07445A943A90A184B5199AD243E@zebedee.magus.co.uk>
Thread-Index: AcUV0irYfl8EOVZ3Q8a/Rkc6GpTGugAAEY6wAAA9OvA=
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Message-Id: <20050218160425.B0D1516893@mail01.nyc-ofc.criticalmention.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I am creating new IndexSearchers... how do I cache my IndexSearcher...

Michael

-----Original Message-----
From: David Townsend [mailto:david.townsend@magus.co.uk] 
Sent: Friday, February 18, 2005 11:00 AM
To: Lucene Users List
Subject: RE: Search Performance

Are you creating new IndexSearchers or IndexReaders on each search?  Caching
your IndexSearchers has a dramatic effect on speed.

David Townsend

-----Original Message-----
From: Michael Celona [mailto:mcelona@criticalmention.com]
Sent: 18 February 2005 15:55
To: Lucene Users List
Subject: Search Performance


What is single handedly the best way to improve search performance?  I have
an index in the 2G range stored on the local file system of the searcher.
Under a load test of 5 simultaneous users my average search time is ~4700
ms.  Under a load test of 10 simultaneous users my average search time is
~10000 ms.    I have given the JVM 2G of memory and am a using a dual 3GHz
Zeons.  Any ideas?  

 

Michael


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13272-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 18 16:08:21 2005
Return-Path: <lucene-user-return-13272-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 27121 invoked from network); 18 Feb 2005 16:08:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Feb 2005 16:08:21 -0000
Received: (qmail 26014 invoked by uid 500); 18 Feb 2005 16:08:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 25986 invoked by uid 500); 18 Feb 2005 16:08:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25971 invoked by uid 99); 18 Feb 2005 16:08:14 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mslinux.media-style.com (HELO mslinux.media-style.com) (80.64.181.33)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 18 Feb 2005 08:08:13 -0800
Received: from localhost (localhost [127.0.0.1])
	by mslinux.media-style.com (Postfix) with ESMTP id 24F24144089
	for <lucene-user@jakarta.apache.org>; Fri, 18 Feb 2005 17:06:44 +0100 (CET)
Received: from mslinux.media-style.com ([127.0.0.1])
	by localhost (mslinux.media-style.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 21512-04 for <lucene-user@jakarta.apache.org>;
	Fri, 18 Feb 2005 17:06:43 +0100 (CET)
Received: from [192.168.200.53] (morpheus.lan.media-style.com [192.168.200.53])
	by mslinux.media-style.com (Postfix) with ESMTP id CE0AE144086
	for <lucene-user@jakarta.apache.org>; Fri, 18 Feb 2005 17:06:43 +0100 (CET)
Message-ID: <42161492.7030302@media-style.com>
Date: Fri, 18 Feb 2005 17:15:14 +0100
From: Stefan Groschupf <sg@media-style.com>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Search Performance
References: <20050218160425.B0D1516893@mail01.nyc-ofc.criticalmention.com>
In-Reply-To: <20050218160425.B0D1516893@mail01.nyc-ofc.criticalmention.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Scanned: by amavisd-new-20030616-p10 (Debian) at media-style.com
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Try a singleton pattern or an static field.

Stefan

Michael Celona wrote:

>I am creating new IndexSearchers... how do I cache my IndexSearcher...
>
>Michael
>
>-----Original Message-----
>From: David Townsend [mailto:david.townsend@magus.co.uk] 
>Sent: Friday, February 18, 2005 11:00 AM
>To: Lucene Users List
>Subject: RE: Search Performance
>
>Are you creating new IndexSearchers or IndexReaders on each search?  Caching
>your IndexSearchers has a dramatic effect on speed.
>
>David Townsend
>
>-----Original Message-----
>From: Michael Celona [mailto:mcelona@criticalmention.com]
>Sent: 18 February 2005 15:55
>To: Lucene Users List
>Subject: Search Performance
>
>
>What is single handedly the best way to improve search performance?  I have
>an index in the 2G range stored on the local file system of the searcher.
>Under a load test of 5 simultaneous users my average search time is ~4700
>ms.  Under a load test of 10 simultaneous users my average search time is
>~10000 ms.    I have given the JVM 2G of memory and am a using a dual 3GHz
>Zeons.  Any ideas?  
>
> 
>
>Michael
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>  
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13273-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 18 16:48:26 2005
Return-Path: <lucene-user-return-13273-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 47714 invoked from network); 18 Feb 2005 16:48:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Feb 2005 16:48:26 -0000
Received: (qmail 4890 invoked by uid 500); 18 Feb 2005 16:48:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 4820 invoked by uid 500); 18 Feb 2005 16:48:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4757 invoked by uid 99); 18 Feb 2005 16:48:15 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from Unknown (HELO zebedee.magus.co.uk) (193.131.98.10)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 18 Feb 2005 08:48:13 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Search Performance
Date: Fri, 18 Feb 2005 16:49:54 -0000
Message-ID: <D98ADD74A4E07445A943A90A184B5199AD2440@zebedee.magus.co.uk>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Search Performance
Thread-Index: AcUV1E5fpssRcse2SsaH+sGNFDmpiAABO4rw
From: "David Townsend" <david.townsend@magus.co.uk>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

IndexSearchers are thread safe, so you can use the same object on =
multiple requests.  If the index is static and not constantly updating, =
just keep one IndexSearcher for the life of the app.  If the index =
changes and you need that instantly reflected in the results, you need =
to check if the index has changed, if it has create a new cached =
IndexSearcher.  To check for changes use you'll need to monitor the =
version number of the index obtained via

IndexReader.getCurrentVersion(Index Name)

David

-----Original Message-----
From: Stefan Groschupf [mailto:sg@media-style.com]
Sent: 18 February 2005 16:15
To: Lucene Users List
Subject: Re: Search Performance


Try a singleton pattern or an static field.

Stefan

Michael Celona wrote:

>I am creating new IndexSearchers... how do I cache my IndexSearcher...
>
>Michael
>
>-----Original Message-----
>From: David Townsend [mailto:david.townsend@magus.co.uk]=20
>Sent: Friday, February 18, 2005 11:00 AM
>To: Lucene Users List
>Subject: RE: Search Performance
>
>Are you creating new IndexSearchers or IndexReaders on each search?  =
Caching
>your IndexSearchers has a dramatic effect on speed.
>
>David Townsend
>
>-----Original Message-----
>From: Michael Celona [mailto:mcelona@criticalmention.com]
>Sent: 18 February 2005 15:55
>To: Lucene Users List
>Subject: Search Performance
>
>
>What is single handedly the best way to improve search performance?  I =
have
>an index in the 2G range stored on the local file system of the =
searcher.
>Under a load test of 5 simultaneous users my average search time is =
~4700
>ms.  Under a load test of 10 simultaneous users my average search time =
is
>~10000 ms.    I have given the JVM 2G of memory and am a using a dual =
3GHz
>Zeons.  Any ideas? =20
>
>=20
>
>Michael
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> =20
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13274-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 18 16:57:43 2005
Return-Path: <lucene-user-return-13274-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 52426 invoked from network); 18 Feb 2005 16:57:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Feb 2005 16:57:43 -0000
Received: (qmail 21492 invoked by uid 500); 18 Feb 2005 16:57:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 21344 invoked by uid 500); 18 Feb 2005 16:57:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21326 invoked by uid 99); 18 Feb 2005 16:57:37 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from static-68-236-183-90.ny325.east.verizon.net (HELO mail01.nyc-ofc.criticalmention.com) (68.236.183.90)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 18 Feb 2005 08:57:36 -0800
Received: from MCELONA (unknown [192.168.42.109])
	by mail01.nyc-ofc.criticalmention.com (Postfix) with ESMTP id 4C04316904
	for <lucene-user@jakarta.apache.org>; Fri, 18 Feb 2005 11:57:34 -0500 (EST)
From: "Michael Celona" <mcelona@criticalmention.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Search Performance
Date: Fri, 18 Feb 2005 11:57:32 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
In-Reply-To: <D98ADD74A4E07445A943A90A184B5199AD2440@zebedee.magus.co.uk>
Thread-Index: AcUV1E5fpssRcse2SsaH+sGNFDmpiAABO4rwAABkhRA=
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Message-Id: <20050218165734.4C04316904@mail01.nyc-ofc.criticalmention.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

My index is changing in real time constantly... in this case I guess this
will not work for me.... any suggestions...

Michael

-----Original Message-----
From: David Townsend [mailto:david.townsend@magus.co.uk] 
Sent: Friday, February 18, 2005 11:50 AM
To: Lucene Users List
Subject: RE: Search Performance

IndexSearchers are thread safe, so you can use the same object on multiple
requests.  If the index is static and not constantly updating, just keep one
IndexSearcher for the life of the app.  If the index changes and you need
that instantly reflected in the results, you need to check if the index has
changed, if it has create a new cached IndexSearcher.  To check for changes
use you'll need to monitor the version number of the index obtained via

IndexReader.getCurrentVersion(Index Name)

David

-----Original Message-----
From: Stefan Groschupf [mailto:sg@media-style.com]
Sent: 18 February 2005 16:15
To: Lucene Users List
Subject: Re: Search Performance


Try a singleton pattern or an static field.

Stefan

Michael Celona wrote:

>I am creating new IndexSearchers... how do I cache my IndexSearcher...
>
>Michael
>
>-----Original Message-----
>From: David Townsend [mailto:david.townsend@magus.co.uk] 
>Sent: Friday, February 18, 2005 11:00 AM
>To: Lucene Users List
>Subject: RE: Search Performance
>
>Are you creating new IndexSearchers or IndexReaders on each search?
Caching
>your IndexSearchers has a dramatic effect on speed.
>
>David Townsend
>
>-----Original Message-----
>From: Michael Celona [mailto:mcelona@criticalmention.com]
>Sent: 18 February 2005 15:55
>To: Lucene Users List
>Subject: Search Performance
>
>
>What is single handedly the best way to improve search performance?  I have
>an index in the 2G range stored on the local file system of the searcher.
>Under a load test of 5 simultaneous users my average search time is ~4700
>ms.  Under a load test of 10 simultaneous users my average search time is
>~10000 ms.    I have given the JVM 2G of memory and am a using a dual 3GHz
>Zeons.  Any ideas?  
>
> 
>
>Michael
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>  
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13275-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 18 17:23:21 2005
Return-Path: <lucene-user-return-13275-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 98364 invoked from network); 18 Feb 2005 17:23:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Feb 2005 17:23:21 -0000
Received: (qmail 72229 invoked by uid 500); 18 Feb 2005 17:23:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 72207 invoked by uid 500); 18 Feb 2005 17:23:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 72168 invoked by uid 99); 18 Feb 2005 17:23:15 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from artishost.net (HELO artisangel.artishost.net) (69.56.132.178)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 18 Feb 2005 09:23:15 -0800
Received: from [81.25.37.212] (helo=[81.25.37.212])
	by artisangel.artishost.net with esmtpa (Exim 4.43)
	id 1D2BqM-00015u-VL; Fri, 18 Feb 2005 11:23:10 -0600
Date: Fri, 18 Feb 2005 19:22:56 +0200
From: Yura Smolsky <info@altervision.biz>
X-Mailer: The Bat! (v3.0.1.33) Professional
Reply-To: Yura Smolsky <info@altervision.biz>
Organization: AlterVision Web Development Group
X-Priority: 3 (Normal)
Message-ID: <56565369.20050218192256@altervision.biz>
To: "Michael Celona" <mcelona@criticalmention.com>
CC: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: Re[2]: Search Performance
In-Reply-To: <20050218165734.4C04316904@mail01.nyc-ofc.criticalmention.com>
References: <D98ADD74A4E07445A943A90A184B5199AD2440@zebedee.magus.co.uk>
 <20050218165734.4C04316904@mail01.nyc-ofc.criticalmention.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Spam-Score: 0.0
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - artisangel.artishost.net
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - altervision.biz
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello, Michael.

btw, you can recreate IndexSeacher every 5|10|30|60|X minutes

MC> My index is changing in real time constantly... in this case I guess this
MC> will not work for me.... any suggestions...

MC> Michael

MC> -----Original Message-----
MC> From: David Townsend [mailto:david.townsend@magus.co.uk] 
MC> Sent: Friday, February 18, 2005 11:50 AM
MC> To: Lucene Users List
MC> Subject: RE: Search Performance

MC> IndexSearchers are thread safe, so you can use the same object on multiple
MC> requests.  If the index is static and not constantly updating, just keep one
MC> IndexSearcher for the life of the app.  If the index changes and you need
MC> that instantly reflected in the results, you need to check if the index has
MC> changed, if it has create a new cached IndexSearcher.  To check for changes
MC> use you'll need to monitor the version number of the index obtained via

MC> IndexReader.getCurrentVersion(Index Name)

MC> David

MC> -----Original Message-----
MC> From: Stefan Groschupf [mailto:sg@media-style.com]
MC> Sent: 18 February 2005 16:15
MC> To: Lucene Users List
MC> Subject: Re: Search Performance


MC> Try a singleton pattern or an static field.

MC> Stefan

MC> Michael Celona wrote:

>>I am creating new IndexSearchers... how do I cache my IndexSearcher...
>>
>>Michael
>>
>>-----Original Message-----
>>From: David Townsend [mailto:david.townsend@magus.co.uk] 
>>Sent: Friday, February 18, 2005 11:00 AM
>>To: Lucene Users List
>>Subject: RE: Search Performance
>>
>>Are you creating new IndexSearchers or IndexReaders on each search?
MC> Caching
>>your IndexSearchers has a dramatic effect on speed.
>>
>>David Townsend
>>
>>-----Original Message-----
>>From: Michael Celona [mailto:mcelona@criticalmention.com]
>>Sent: 18 February 2005 15:55
>>To: Lucene Users List
>>Subject: Search Performance
>>
>>
>>What is single handedly the best way to improve search performance?  I have
>>an index in the 2G range stored on the local file system of the searcher.
>>Under a load test of 5 simultaneous users my average search time is ~4700
>>ms.  Under a load test of 10 simultaneous users my average search time is
>>~10000 ms.    I have given the JVM 2G of memory and am a using a dual 3GHz
>>Zeons.  Any ideas?  
>>
>> 
>>
>>Michael
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>>  
>>


MC> ---------------------------------------------------------------------
MC> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
MC> For additional commands, e-mail:
MC> lucene-user-help@jakarta.apache.org


MC> ---------------------------------------------------------------------
MC> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
MC> For additional commands, e-mail:
MC> lucene-user-help@jakarta.apache.org



MC> ---------------------------------------------------------------------
MC> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
MC> For additional commands, e-mail:
MC> lucene-user-help@jakarta.apache.org





Yura Smolsky.



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13276-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 18 19:00:32 2005
Return-Path: <lucene-user-return-13276-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 41068 invoked from network); 18 Feb 2005 19:00:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Feb 2005 19:00:32 -0000
Received: (qmail 46529 invoked by uid 500); 18 Feb 2005 19:00:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 46501 invoked by uid 500); 18 Feb 2005 19:00:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 46488 invoked by uid 99); 18 Feb 2005 19:00:28 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from server1.hostmon.com (HELO server1.hostmon.com) (66.139.76.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 18 Feb 2005 11:00:28 -0800
Received: (qmail 6303 invoked by uid 532); 18 Feb 2005 19:00:10 -0000
Received: from dave-lucene-user@tropo.com by server1.hostmon.com by uid 0 with qmail-scanner-1.16 
 (spamassassin: 3.0.0.  Clear:. 
 Processed in 0.127034 secs); 18 Feb 2005 19:00:10 -0000
Received: from unknown (HELO ?172.31.1.2?) (127.0.0.1)
  by 0 with SMTP; 18 Feb 2005 19:00:09 -0000
Message-ID: <42163B42.8070104@tropo.com>
Date: Fri, 18 Feb 2005 11:00:18 -0800
From: David Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.5) Gecko/20041217
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Search Performance
References: <20050218155448.3327116893@mail01.nyc-ofc.criticalmention.com>
In-Reply-To: <20050218155448.3327116893@mail01.nyc-ofc.criticalmention.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Noone has mentioned JVM options yet.

[a] -server
[b] -XX:CompileThreshold=1000
[c] Raise the -Xms value if you haven't done so (-Xms...)

I think by default the VM runs with "-client" but -server makes more 
sense for web containers (Tomcat etc).
[b] tells the hotspot compiler to compile methods sooner - you can lower 
the 1000 to, say, '2' makes it compile methods after they've executed 2 
times - I had trouble once lowering this to 1 for some reason




Also, even though you're not supposed to need to do this, I've found it 
helpful to force gc() periodically e.g. every minute via this idiom:

public static long gc()
{
	long bef = mem();
	System.gc();
	sleep( 100);
	System.runFinalization();
	sleep( 100);
	System.gc();
	long aft= mem();
	return aft-bef;
}


Michael Celona wrote:

> What is single handedly the best way to improve search performance?  I have
> an index in the 2G range stored on the local file system of the searcher.
> Under a load test of 5 simultaneous users my average search time is ~4700
> ms.  Under a load test of 10 simultaneous users my average search time is
> ~10000 ms.    I have given the JVM 2G of memory and am a using a dual 3GHz
> Zeons.  Any ideas?  
> 
>  
> 
> Michael
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13277-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 18 19:05:31 2005
Return-Path: <lucene-user-return-13277-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 43819 invoked from network); 18 Feb 2005 19:05:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Feb 2005 19:05:31 -0000
Received: (qmail 55821 invoked by uid 500); 18 Feb 2005 19:05:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 55770 invoked by uid 500); 18 Feb 2005 19:05:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55723 invoked by uid 99); 18 Feb 2005 19:05:20 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from server1.hostmon.com (HELO server1.hostmon.com) (66.139.76.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 18 Feb 2005 11:05:17 -0800
Received: (qmail 7194 invoked by uid 532); 18 Feb 2005 19:05:00 -0000
Received: from dave-lucene-user@tropo.com by server1.hostmon.com by uid 0 with qmail-scanner-1.16 
 (spamassassin: 3.0.0.  Clear:. 
 Processed in 0.114568 secs); 18 Feb 2005 19:05:00 -0000
Received: from unknown (HELO ?172.31.1.2?) (127.0.0.1)
  by 0 with SMTP; 18 Feb 2005 19:04:59 -0000
Message-ID: <42163C6A.7070009@tropo.com>
Date: Fri, 18 Feb 2005 11:05:14 -0800
From: David Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.5) Gecko/20041217
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Search Performance
References: <20050218155448.3327116893@mail01.nyc-ofc.criticalmention.com>
In-Reply-To: <20050218155448.3327116893@mail01.nyc-ofc.criticalmention.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Are you using the highlighter or doing anything non-trivial in 
displaying the results?

Are the pages being compressed (mod_gzip or some servlet equivalent)? 
This definitely helps, though to see the effect you may have to make 
sure your simulated users are "remote".

Also consider caching search results if it's reasonable to assume users 
may search for the same things.

I made some measurements on caching on my site:

http://www.searchmorph.com/weblog/index.php?id=41
http://www.searchmorph.com/weblog/index.php?id=40

And I use OSCache:

http://www.searchmorph.com/weblog/index.php?id=38
http://www.opensymphony.com/oscache/





Michael Celona wrote:

> What is single handedly the best way to improve search performance?  I have
> an index in the 2G range stored on the local file system of the searcher.
> Under a load test of 5 simultaneous users my average search time is ~4700
> ms.  Under a load test of 10 simultaneous users my average search time is
> ~10000 ms.    I have given the JVM 2G of memory and am a using a dual 3GHz
> Zeons.  Any ideas?  
> 
>  
> 
> Michael
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13278-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 18 19:48:26 2005
Return-Path: <lucene-user-return-13278-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 61024 invoked from network); 18 Feb 2005 19:48:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Feb 2005 19:48:26 -0000
Received: (qmail 40291 invoked by uid 500); 18 Feb 2005 19:48:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 40261 invoked by uid 500); 18 Feb 2005 19:48:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40248 invoked by uid 99); 18 Feb 2005 19:48:22 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 18 Feb 2005 11:48:20 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 11D8913E2005; Fri, 18 Feb 2005 14:48:17 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id BB76313E28F7
	for <lucene-user@jakarta.apache.org>; Fri, 18 Feb 2005 14:46:41 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
Content-Transfer-Encoding: 7bit
Message-Id: <662e054f8caea1c0887a35a43c1313f1@ehatchersolutions.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
To: Lucene User <lucene-user@jakarta.apache.org>
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Lucene in the Humanties
Date: Fri, 18 Feb 2005 14:46:36 -0500
X-Mailer: Apple Mail (2.619.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-3.4 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

It's about time I actually did something real with Lucene....  :)

I have been working with the Applied Research in Patacriticism group at 
the University of Virginia for a few months and finally ready to 
present what I've been doing.  The primary focus of my group is working 
with the Rossetti Archive - poems, artwork, interpretations, 
collections, and so on of Dante Gabriel Rossetti.  I was initially 
brought on to build a collection and exhibit system, though I got 
detoured a bit as I got involved in applying Lucene to the archive to 
replace their existing search system.  The existing system used an old 
version of Tamino with XPath queries.  Tamino is not at fault here, at 
least not entirely, because our data is in a very complicated set of 
XML files with a lot of non-normalized and legacy metadata - getting at 
things via XPath is challenging and practically impossible in many 
cases.

My work is now presentable at

	http://www.rossettiarchive.org/rose

(rose is for ROsetti SEarch)

This system is implicitly designed for academics who are delving into 
Rossetti's work, so it may not be all that interesting for most of you. 
  Have fun and send me any interesting things you discover, especially 
any issues you may encounter.

Here are some numbers to give you a sense of what is going on 
underneath... There are currently 4,983 XML files, totally about 110MB. 
  Without getting into a lot of details of the confusing domain, there 
are basically 3 types of XML files (works, pictures, and transcripts).  
It is important that  there be case-sensitive and case-insensitive 
searches.  To accomplish that, a custom analyzer is used in two 
different modes, one applying a LowerCaseFilter, and one not with the 
same documents written to two different indexes.  There is one 
particular type of XML file that gets indexed as two different types of 
documents (a specialized summary/header type).  In this first set of 
indexes, it is basically a one-to-one mapping of XML file to Lucene 
Document (with one type being indexed twice in different ways) - all 
said there are 5539 documents in each of the two main indexes.  The 
transcript type gets sliced into another set of original case and 
lowercased indexes with each document in that index representing a 
document division (a <div> element in the XML).  There are 12326 
documents in each of these <div>-level indexes.   All said, the 4 
indexes built total about 3GB in size - I'm storing several fields in 
order to hit-highlight.  Only one of these indexes is being hit at a 
time - it depends on what parameters you use when querying for which 
index is used.

Lucene brought the search times into a usable, and impressive to the 
scholars, state.  The previous search solution often timed the browser 
out!  Search results now are in the milliseconds range.

The amount of data is tiny compared to most usages of Lucene, but 
things are getting interesting in other ways.   There has been little 
tuning in terms of ranking quality so far, but this is the next area of 
work.  There is one document type that is more important than the 
others, and it is being boosted during indexing.  There is now a 
growing interest in tinkering with all the new knobs and dials that are 
now possible.  Putting in similar and more-like-this features are 
desired and will be relatively straightforward to implement.  I'm 
currently using catch-all-aggregate-field technique for a default field 
for QueryParser searching.  Using a multi-field expansion is an area 
that is desirable instead though.  So, I've got my homework to do and 
catch up on all the goodness that has been mentioned in this list 
recently regarding all of these techniques.

An area where I'd like to solicit more help from the community relates 
to something akin to personalization.  The scholars would like to be 
able to tune results based on the role (such as "art historian") that 
is searching the site.  This would involve some type of training or 
continual learning process so that someone searching feeds back 
preferences implicitly for their queries by visiting the actual 
documents that are of interest.  Now that the scholars have seen what 
is possible (I showed them the cool SearchMorph comparison page 
searching Wikipedia for "rossetti"), they want more and more!

So - here's where I'm soliciting feedback - who's doing these types of 
things in the realm of Humanties?  Where should we go from here in 
terms of researching and applying the types of features dreamed about 
here?    How would you recommend implementing these types of features?

I'd be happy to share more about what I've done under the covers.  As 
you may be able to tell, the web UI is Tapestry for the search and 
results pages (though you won't be able to tell from the URL's you'll 
see :).  The UI was designed primarily by one of our very graphical/CSS 
savvy post doc research associates, and was designed with the research 
scholar in mind.  I continue to push for the "free form" search box to 
transcend structural search, but there are some good scholarly reasons 
to have focused structural searching also.  The documents beyond the 
links in the search results were another area where I've applied some 
elbow grease - they were originally dynamically generated with hideous 
URL's through Tamino and a Saxon transformation servlet.  These are 
documents that _rarely_ change - so they are now being XSL'd into all 
sorts of HTML views during a build process and statically served with 
Apache with quite clean URLs (and Google friendly, which, 
interestingly, is not something scholars care that much about for these 
types of archives it seems).  The XML files are accessible directly as 
hyperlinks at the bottoms of the document pages too - so you can see 
the parsing fun I've had (thank you JDOM and XPath!).

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13279-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 18 19:53:29 2005
Return-Path: <lucene-user-return-13279-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 62991 invoked from network); 18 Feb 2005 19:53:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Feb 2005 19:53:28 -0000
Received: (qmail 58823 invoked by uid 500); 18 Feb 2005 19:53:24 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 58802 invoked by uid 500); 18 Feb 2005 19:53:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 58789 invoked by uid 99); 18 Feb 2005 19:53:24 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 18 Feb 2005 11:53:22 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id DE34813E28F7; Fri, 18 Feb 2005 14:53:19 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP
	id 82F8C13E2005; Fri, 18 Feb 2005 14:52:51 -0500 (EST)
In-Reply-To: <5.2.0.9.2.20050217171250.01ad3718@hermes.ulaval.ca>
References: <5.2.0.9.2.20050217171250.01ad3718@hermes.ulaval.ca>
Mime-Version: 1.0 (Apple Message framework v619.2)
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <ef942de40fc40a4b98e42d40ab45d22e@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
Cc: Rida Benjelloun <Rida.Benjelloun@bibl.ulaval.ca>
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Lius
Date: Fri, 18 Feb 2005 14:52:45 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-3.4 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Rida,

Please add your project to the Lucene PoweredBy page on the wiki.

Also - I moderated in your messages - so please subscribe to the list 
to send to it in the future.

	Erik

On Feb 17, 2005, at 5:13 PM, Rida Benjelloun wrote:

> Hi,
> I've just release an indexing framework based on Lucene witch is named 
> LIUS.
> LIUS is written in Java and it adds to Lucene many files format 
> indexing functionalities as: Ms Word, Ms Excel, Ms PowerPoint, RTF, 
> PDF, XML, HTML, TXT, Open Office suite and JavaBeans. All the 
> indexation process is based on a configuration file.
> You can visit this links for more informations about LIUS, 
> documentation is available in English and French:
> www.bibl.ulaval.ca/lius/index.en.html
> www.sourceforge.net/projects/lius
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13280-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 18 20:01:41 2005
Return-Path: <lucene-user-return-13280-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 66467 invoked from network); 18 Feb 2005 20:01:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Feb 2005 20:01:40 -0000
Received: (qmail 71590 invoked by uid 500); 18 Feb 2005 20:01:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 71568 invoked by uid 500); 18 Feb 2005 20:01:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 71555 invoked by uid 99); 18 Feb 2005 20:01:35 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from host-64-65-202-3.pro.choiceone.net (HELO contextmedia.com) (64.65.202.3)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 18 Feb 2005 12:01:34 -0800
Received: from ppeddi ([192.168.1.40]) by contextmedia.com ; Fri, 18 Feb 2005 15:01:22 -0500
Message-ID: <1aff01c515f4$79aa61e0$aa87a8c0@ppeddi>
From: "Praveen Peddi" <ppeddi@contextmedia.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <662e054f8caea1c0887a35a43c1313f1@ehatchersolutions.com>
Subject: Re: Lucene in the Humanties
Date: Fri, 18 Feb 2005 15:00:20 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=response
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Rcpt-To: <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Good work Eric (even though UI could be made pretty). We use lucene so I 
have some knowledge of it. I could see the features you are using with 
lucene (like paging, highlighting, different kinds of pharases). Over all, 
good stuff.

Praveen
----- Original Message ----- 
From: "Erik Hatcher" <erik@ehatchersolutions.com>
To: "Lucene User" <lucene-user@jakarta.apache.org>
Sent: Friday, February 18, 2005 2:46 PM
Subject: Lucene in the Humanties


> It's about time I actually did something real with Lucene....  :)
>
> I have been working with the Applied Research in Patacriticism group at 
> the University of Virginia for a few months and finally ready to present 
> what I've been doing.  The primary focus of my group is working with the 
> Rossetti Archive - poems, artwork, interpretations, collections, and so on 
> of Dante Gabriel Rossetti.  I was initially brought on to build a 
> collection and exhibit system, though I got detoured a bit as I got 
> involved in applying Lucene to the archive to replace their existing 
> search system.  The existing system used an old version of Tamino with 
> XPath queries.  Tamino is not at fault here, at least not entirely, 
> because our data is in a very complicated set of XML files with a lot of 
> non-normalized and legacy metadata - getting at things via XPath is 
> challenging and practically impossible in many cases.
>
> My work is now presentable at
>
> http://www.rossettiarchive.org/rose
>
> (rose is for ROsetti SEarch)
>
> This system is implicitly designed for academics who are delving into 
> Rossetti's work, so it may not be all that interesting for most of you. 
> Have fun and send me any interesting things you discover, especially any 
> issues you may encounter.
>
> Here are some numbers to give you a sense of what is going on 
> underneath... There are currently 4,983 XML files, totally about 110MB. 
> Without getting into a lot of details of the confusing domain, there are 
> basically 3 types of XML files (works, pictures, and transcripts).  It is 
> important that  there be case-sensitive and case-insensitive searches.  To 
> accomplish that, a custom analyzer is used in two different modes, one 
> applying a LowerCaseFilter, and one not with the same documents written to 
> two different indexes.  There is one particular type of XML file that gets 
> indexed as two different types of documents (a specialized summary/header 
> type).  In this first set of indexes, it is basically a one-to-one mapping 
> of XML file to Lucene Document (with one type being indexed twice in 
> different ways) - all said there are 5539 documents in each of the two 
> main indexes.  The transcript type gets sliced into another set of 
> original case and lowercased indexes with each document in that index 
> representing a document division (a <div> element in the XML).  There are 
> 12326 documents in each of these <div>-level indexes.   All said, the 4 
> indexes built total about 3GB in size - I'm storing several fields in 
> order to hit-highlight.  Only one of these indexes is being hit at a 
> time - it depends on what parameters you use when querying for which index 
> is used.
>
> Lucene brought the search times into a usable, and impressive to the 
> scholars, state.  The previous search solution often timed the browser 
> out!  Search results now are in the milliseconds range.
>
> The amount of data is tiny compared to most usages of Lucene, but things 
> are getting interesting in other ways.   There has been little tuning in 
> terms of ranking quality so far, but this is the next area of work.  There 
> is one document type that is more important than the others, and it is 
> being boosted during indexing.  There is now a growing interest in 
> tinkering with all the new knobs and dials that are now possible.  Putting 
> in similar and more-like-this features are desired and will be relatively 
> straightforward to implement.  I'm currently using 
> catch-all-aggregate-field technique for a default field for QueryParser 
> searching.  Using a multi-field expansion is an area that is desirable 
> instead though.  So, I've got my homework to do and catch up on all the 
> goodness that has been mentioned in this list recently regarding all of 
> these techniques.
>
> An area where I'd like to solicit more help from the community relates to 
> something akin to personalization.  The scholars would like to be able to 
> tune results based on the role (such as "art historian") that is searching 
> the site.  This would involve some type of training or continual learning 
> process so that someone searching feeds back preferences implicitly for 
> their queries by visiting the actual documents that are of interest.  Now 
> that the scholars have seen what is possible (I showed them the cool 
> SearchMorph comparison page searching Wikipedia for "rossetti"), they want 
> more and more!
>
> So - here's where I'm soliciting feedback - who's doing these types of 
> things in the realm of Humanties?  Where should we go from here in terms 
> of researching and applying the types of features dreamed about here? 
> How would you recommend implementing these types of features?
>
> I'd be happy to share more about what I've done under the covers.  As you 
> may be able to tell, the web UI is Tapestry for the search and results 
> pages (though you won't be able to tell from the URL's you'll see :).  The 
> UI was designed primarily by one of our very graphical/CSS savvy post doc 
> research associates, and was designed with the research scholar in mind. 
> I continue to push for the "free form" search box to transcend structural 
> search, but there are some good scholarly reasons to have focused 
> structural searching also.  The documents beyond the links in the search 
> results were another area where I've applied some elbow grease - they were 
> originally dynamically generated with hideous URL's through Tamino and a 
> Saxon transformation servlet.  These are documents that _rarely_ change - 
> so they are now being XSL'd into all sorts of HTML views during a build 
> process and statically served with Apache with quite clean URLs (and 
> Google friendly, which, interestingly, is not something scholars care that 
> much about for these types of archives it seems).  The XML files are 
> accessible directly as hyperlinks at the bottoms of the document pages 
> too - so you can see the parsing fun I've had (thank you JDOM and XPath!).
>
> Erik
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13281-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 18 20:20:37 2005
Return-Path: <lucene-user-return-13281-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 92839 invoked from network); 18 Feb 2005 20:20:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Feb 2005 20:20:37 -0000
Received: (qmail 4435 invoked by uid 500); 18 Feb 2005 20:20:33 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 4404 invoked by uid 500); 18 Feb 2005 20:20:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4390 invoked by uid 99); 18 Feb 2005 20:20:33 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 18 Feb 2005 12:20:32 -0800
Received: from p001002 ([204.225.84.27]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Fri, 18 Feb 2005 15:25:00 -0500
Message-ID: <025701c515f7$ebd4e2b0$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: <lucene-user@jakarta.apache.org>
References: <662e054f8caea1c0887a35a43c1313f1@ehatchersolutions.com>
Subject: Re: Lucene in the Humanties
Date: Fri, 18 Feb 2005 15:25:00 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 18 Feb 2005 20:25:00.0710 (UTC) FILETIME=[EBCCCC60:01C515F7]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Nice work Eric. I would like to spend more time playing with it, but I saw a
few things I really liked. When a specific query turns up no results you
prompt the client to preform a free form search. Less sauvy search users
will benefit from this strategy. I also like the display of information when
you select a result. Everything is at your finger tips without clutter.

I did get this error when a name search failed to turn up results and I
clicked 'help' in the free form search row (the second row).

Here is my browser info:

Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.7.5) Gecko/20041107
Firefox/1.0

Below are the details from the error:

 Page 'help-freeform.html' not found in application namespace.

 Stack Trace:
  a..
org.apache.tapestry.resolver.PageSpecificationResolver.resolve(PageSpecifica
tionResolver.java:120)
  b.. org.apache.tapestry.pageload.PageSource.getPage(PageSource.java:144)
  c.. org.apache.tapestry.engine.RequestCycle.getPage(RequestCycle.java:195)
  d.. org.apache.tapestry.engine.PageService.service(PageService.java:73)
  e..
org.apache.tapestry.engine.AbstractEngine.service(AbstractEngine.java:872)
  f..
org.apache.tapestry.ApplicationServlet.doService(ApplicationServlet.java:197
)
  g..
org.apache.tapestry.ApplicationServlet.doGet(ApplicationServlet.java:158)
  h.. javax.servlet.http.HttpServlet.service(HttpServlet.java:740)
  i.. javax.servlet.http.HttpServlet.service(HttpServlet.java:853)
  j..
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(Application
FilterChain.java:247)
  k..
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterCh
ain.java:193)
  l..
org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.ja
va:256)
  m..
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invok
eNext(StandardPipeline.java:643)
  n..
org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)
  o.. org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)
  p..
org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.ja
va:191)
  q..
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invok
eNext(StandardPipeline.java:643)
  r..
org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)
  s.. org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)
  t..
org.apache.catalina.core.StandardContext.invoke(StandardContext.java:2422)
  u..
org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:180
)
  v..
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invok
eNext(StandardPipeline.java:643)
  w..
org.apache.catalina.valves.ErrorDispatcherValve.invoke(ErrorDispatcherValve.
java:171)
  x..
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invok
eNext(StandardPipeline.java:641)
  y..
org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:163
)
  z..
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invok
eNext(StandardPipeline.java:641)
  aa..
org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)
  ab.. org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)
  ac..
org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java
:174)
  ad..
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invok
eNext(StandardPipeline.java:643)
  ae..
org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)
  af.. org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)
  ag..
org.apache.ajp.tomcat4.Ajp13Processor.process(Ajp13Processor.java:457)
  ah.. org.apache.ajp.tomcat4.Ajp13Processor.run(Ajp13Processor.java:576)
  ai.. java.lang.Thread.run(Thread.java:534)

Luke

----- Original Message ----- 
From: "Erik Hatcher" <erik@ehatchersolutions.com>
To: "Lucene User" <lucene-user@jakarta.apache.org>
Sent: Friday, February 18, 2005 2:46 PM
Subject: Lucene in the Humanties


> It's about time I actually did something real with Lucene....  :)
>
> I have been working with the Applied Research in Patacriticism group at
> the University of Virginia for a few months and finally ready to
> present what I've been doing.  The primary focus of my group is working
> with the Rossetti Archive - poems, artwork, interpretations,
> collections, and so on of Dante Gabriel Rossetti.  I was initially
> brought on to build a collection and exhibit system, though I got
> detoured a bit as I got involved in applying Lucene to the archive to
> replace their existing search system.  The existing system used an old
> version of Tamino with XPath queries.  Tamino is not at fault here, at
> least not entirely, because our data is in a very complicated set of
> XML files with a lot of non-normalized and legacy metadata - getting at
> things via XPath is challenging and practically impossible in many
> cases.
>
> My work is now presentable at
>
> http://www.rossettiarchive.org/rose
>
> (rose is for ROsetti SEarch)
>
> This system is implicitly designed for academics who are delving into
> Rossetti's work, so it may not be all that interesting for most of you.
>   Have fun and send me any interesting things you discover, especially
> any issues you may encounter.
>
> Here are some numbers to give you a sense of what is going on
> underneath... There are currently 4,983 XML files, totally about 110MB.
>   Without getting into a lot of details of the confusing domain, there
> are basically 3 types of XML files (works, pictures, and transcripts).
> It is important that  there be case-sensitive and case-insensitive
> searches.  To accomplish that, a custom analyzer is used in two
> different modes, one applying a LowerCaseFilter, and one not with the
> same documents written to two different indexes.  There is one
> particular type of XML file that gets indexed as two different types of
> documents (a specialized summary/header type).  In this first set of
> indexes, it is basically a one-to-one mapping of XML file to Lucene
> Document (with one type being indexed twice in different ways) - all
> said there are 5539 documents in each of the two main indexes.  The
> transcript type gets sliced into another set of original case and
> lowercased indexes with each document in that index representing a
> document division (a <div> element in the XML).  There are 12326
> documents in each of these <div>-level indexes.   All said, the 4
> indexes built total about 3GB in size - I'm storing several fields in
> order to hit-highlight.  Only one of these indexes is being hit at a
> time - it depends on what parameters you use when querying for which
> index is used.
>
> Lucene brought the search times into a usable, and impressive to the
> scholars, state.  The previous search solution often timed the browser
> out!  Search results now are in the milliseconds range.
>
> The amount of data is tiny compared to most usages of Lucene, but
> things are getting interesting in other ways.   There has been little
> tuning in terms of ranking quality so far, but this is the next area of
> work.  There is one document type that is more important than the
> others, and it is being boosted during indexing.  There is now a
> growing interest in tinkering with all the new knobs and dials that are
> now possible.  Putting in similar and more-like-this features are
> desired and will be relatively straightforward to implement.  I'm
> currently using catch-all-aggregate-field technique for a default field
> for QueryParser searching.  Using a multi-field expansion is an area
> that is desirable instead though.  So, I've got my homework to do and
> catch up on all the goodness that has been mentioned in this list
> recently regarding all of these techniques.
>
> An area where I'd like to solicit more help from the community relates
> to something akin to personalization.  The scholars would like to be
> able to tune results based on the role (such as "art historian") that
> is searching the site.  This would involve some type of training or
> continual learning process so that someone searching feeds back
> preferences implicitly for their queries by visiting the actual
> documents that are of interest.  Now that the scholars have seen what
> is possible (I showed them the cool SearchMorph comparison page
> searching Wikipedia for "rossetti"), they want more and more!
>
> So - here's where I'm soliciting feedback - who's doing these types of
> things in the realm of Humanties?  Where should we go from here in
> terms of researching and applying the types of features dreamed about
> here?    How would you recommend implementing these types of features?
>
> I'd be happy to share more about what I've done under the covers.  As
> you may be able to tell, the web UI is Tapestry for the search and
> results pages (though you won't be able to tell from the URL's you'll
> see :).  The UI was designed primarily by one of our very graphical/CSS
> savvy post doc research associates, and was designed with the research
> scholar in mind.  I continue to push for the "free form" search box to
> transcend structural search, but there are some good scholarly reasons
> to have focused structural searching also.  The documents beyond the
> links in the search results were another area where I've applied some
> elbow grease - they were originally dynamically generated with hideous
> URL's through Tamino and a Saxon transformation servlet.  These are
> documents that _rarely_ change - so they are now being XSL'd into all
> sorts of HTML views during a build process and statically served with
> Apache with quite clean URLs (and Google friendly, which,
> interestingly, is not something scholars care that much about for these
> types of archives it seems).  The XML files are accessible directly as
> hyperlinks at the bottoms of the document pages too - so you can see
> the parsing fun I've had (thank you JDOM and XPath!).
>
> Erik
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13282-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 18 20:31:30 2005
Return-Path: <lucene-user-return-13282-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 98874 invoked from network); 18 Feb 2005 20:31:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Feb 2005 20:31:30 -0000
Received: (qmail 25495 invoked by uid 500); 18 Feb 2005 20:31:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 25473 invoked by uid 500); 18 Feb 2005 20:31:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25460 invoked by uid 99); 18 Feb 2005 20:31:25 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 18 Feb 2005 12:31:24 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 10F1A13E28F7; Fri, 18 Feb 2005 15:31:23 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 3DA3813E2005
	for <lucene-user@jakarta.apache.org>; Fri, 18 Feb 2005 15:31:10 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <662e054f8caea1c0887a35a43c1313f1@ehatchersolutions.com>
References: <662e054f8caea1c0887a35a43c1313f1@ehatchersolutions.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <d20d55c550e3ce8bf1a3fa3693a6431f@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Lucene in the Humanities
Date: Fri, 18 Feb 2005 15:31:05 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-3.4 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

And before too many replies happen on this thread, I've corrected the 
spelling mistake in the subject!  :O


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13283-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 18 20:41:25 2005
Return-Path: <lucene-user-return-13283-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 2856 invoked from network); 18 Feb 2005 20:41:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Feb 2005 20:41:25 -0000
Received: (qmail 37020 invoked by uid 500); 18 Feb 2005 20:41:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 36995 invoked by uid 500); 18 Feb 2005 20:41:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 36980 invoked by uid 99); 18 Feb 2005 20:41:20 -0000
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 18 Feb 2005 12:41:19 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id DA8C013E28F7; Fri, 18 Feb 2005 15:41:16 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 8EFDC13E2005
	for <lucene-user@jakarta.apache.org>; Fri, 18 Feb 2005 15:41:03 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <025701c515f7$ebd4e2b0$7703d00a@hypermedia.com>
References: <662e054f8caea1c0887a35a43c1313f1@ehatchersolutions.com> <025701c515f7$ebd4e2b0$7703d00a@hypermedia.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <e1a96439f0154078ead2d148f104d87f@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Lucene in the Humanities
Date: Fri, 18 Feb 2005 15:40:59 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-3.3 required=5.0 tests=AWL,BAYES_00,WEIRD_PORT 
	autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Feb 18, 2005, at 3:25 PM, Luke Shannon wrote:
> Nice work Eric. I would like to spend more time playing with it, but I  
> saw a
> few things I really liked. When a specific query turns up no results  
> you
> prompt the client to preform a free form search. Less sauvy search  
> users
> will benefit from this strategy.

That's merely an artifact of all searches going to the results page,  
which just shows the free-form search on it.

>  I also like the display of information when
> you select a result. Everything is at your finger tips without clutter.

For comparison, check the older site's search is here:

	http://jefferson.village.virginia.edu:2020/search.html

(don't bother trying it - it's SLOOOW)

And also for comparison, here is an older look:

	<http://jefferson.village.virginia.edu:8090/styler/servlet/ 
SaxonServlet?source=http://jefferson.village.virginia.edu:2020/tamino/ 
files/1-1847.s244.raw.xml&style=http://jefferson.village.virginia.edu: 
2020/tamino/rossetti.xsl&clear-stylesheet-cache=yes>

Dig that URL!  The new look and URL is here:

	http://www.rossettiarchive.org/docs/1-1847.s244.raw.html

> I did get this error when a name search failed to turn up results and I
> clicked 'help' in the free form search row (the second row).
>
>  Page 'help-freeform.html' not found in application namespace.

I've corrected this and it'll be corrected in my next deployment :)

So nice to have community of testers!  Thanks.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13284-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 18 20:47:42 2005
Return-Path: <lucene-user-return-13284-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 5672 invoked from network); 18 Feb 2005 20:47:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Feb 2005 20:47:42 -0000
Received: (qmail 47843 invoked by uid 500); 18 Feb 2005 20:47:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 47821 invoked by uid 500); 18 Feb 2005 20:47:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 47808 invoked by uid 99); 18 Feb 2005 20:47:37 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp-vbr6.xs4all.nl (HELO smtp-vbr6.xs4all.nl) (194.109.24.26)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 18 Feb 2005 12:47:36 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr6.xs4all.nl (8.12.11/8.12.11) with ESMTP id j1IKlWPS042860
	for <lucene-user@jakarta.apache.org>; Fri, 18 Feb 2005 21:47:32 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: lucene-user@jakarta.apache.org
Subject: Re: Lucene in the Humanities
Date: Fri, 18 Feb 2005 21:47:32 +0100
User-Agent: KMail/1.5.4
References: <662e054f8caea1c0887a35a43c1313f1@ehatchersolutions.com> <d20d55c550e3ce8bf1a3fa3693a6431f@ehatchersolutions.com>
In-Reply-To: <d20d55c550e3ce8bf1a3fa3693a6431f@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200502182147.32366.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Erik,

Just curious: it would seem easier to use multiple fields for the
original case and lowercase searching. Is there any particular reason
you analyzed the documents to multiple indexes instead of multiple fields?

Regards,
Paul Elschot


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13285-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 18 20:48:19 2005
Return-Path: <lucene-user-return-13285-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 6069 invoked from network); 18 Feb 2005 20:48:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Feb 2005 20:48:19 -0000
Received: (qmail 49349 invoked by uid 500); 18 Feb 2005 20:48:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 49320 invoked by uid 500); 18 Feb 2005 20:48:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 49307 invoked by uid 99); 18 Feb 2005 20:48:15 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from static-68-236-183-90.ny325.east.verizon.net (HELO mail01.nyc-ofc.criticalmention.com) (68.236.183.90)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 18 Feb 2005 12:48:13 -0800
Received: from MCELONA (unknown [192.168.42.109])
	by mail01.nyc-ofc.criticalmention.com (Postfix) with ESMTP id A21C316B5F
	for <lucene-user@jakarta.apache.org>; Fri, 18 Feb 2005 15:48:11 -0500 (EST)
From: "Michael Celona" <mcelona@criticalmention.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Search Performance
Date: Fri, 18 Feb 2005 15:48:09 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
In-Reply-To: <42163C6A.7070009@tropo.com>
Thread-Index: AcUV7NA8H3i+peBtRo+EB9Y3bqaosAADk1IA
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Message-Id: <20050218204811.A21C316B5F@mail01.nyc-ofc.criticalmention.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I am using the highlighter... does this matter



-----Original Message-----
From: David Spencer [mailto:dave-lucene-user@tropo.com] 
Sent: Friday, February 18, 2005 2:05 PM
To: Lucene Users List
Subject: Re: Search Performance

Are you using the highlighter or doing anything non-trivial in 
displaying the results?

Are the pages being compressed (mod_gzip or some servlet equivalent)? 
This definitely helps, though to see the effect you may have to make 
sure your simulated users are "remote".

Also consider caching search results if it's reasonable to assume users 
may search for the same things.

I made some measurements on caching on my site:

http://www.searchmorph.com/weblog/index.php?id=41
http://www.searchmorph.com/weblog/index.php?id=40

And I use OSCache:

http://www.searchmorph.com/weblog/index.php?id=38
http://www.opensymphony.com/oscache/





Michael Celona wrote:

> What is single handedly the best way to improve search performance?  I
have
> an index in the 2G range stored on the local file system of the searcher.
> Under a load test of 5 simultaneous users my average search time is ~4700
> ms.  Under a load test of 10 simultaneous users my average search time is
> ~10000 ms.    I have given the JVM 2G of memory and am a using a dual 3GHz
> Zeons.  Any ideas?  
> 
>  
> 
> Michael
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13286-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 18 20:56:09 2005
Return-Path: <lucene-user-return-13286-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 8653 invoked from network); 18 Feb 2005 20:56:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Feb 2005 20:56:09 -0000
Received: (qmail 63182 invoked by uid 500); 18 Feb 2005 20:56:04 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 63160 invoked by uid 500); 18 Feb 2005 20:56:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 63147 invoked by uid 99); 18 Feb 2005 20:56:04 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 18 Feb 2005 12:56:03 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 8C10313E28F7; Fri, 18 Feb 2005 15:55:58 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id A6E8213E2005
	for <lucene-user@jakarta.apache.org>; Fri, 18 Feb 2005 15:55:35 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <200502182147.32366.paul.elschot@xs4all.nl>
References: <662e054f8caea1c0887a35a43c1313f1@ehatchersolutions.com> <d20d55c550e3ce8bf1a3fa3693a6431f@ehatchersolutions.com> <200502182147.32366.paul.elschot@xs4all.nl>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <5d863839e8d8333e3d29310bfb887308@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Lucene in the Humanities
Date: Fri, 18 Feb 2005 15:55:27 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-3.4 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Feb 18, 2005, at 3:47 PM, Paul Elschot wrote:

> Erik,
>
> Just curious: it would seem easier to use multiple fields for the
> original case and lowercase searching. Is there any particular reason
> you analyzed the documents to multiple indexes instead of multiple 
> fields?

I considered that approach, however to expose QueryParser I'd have to 
get tricky.  If I have title_orig and title_lc fields, how would I 
allow freeform queries of title:something?

	Erik

p.s. It's fun to see the types of queries folks have already tried 
since I sent this e-mail (repeated queries are possibly someone 
paging):

INFO: Query = +title:dog +archivetype:rap : hits = 3
INFO: Query = +title:dog +archivetype:rap : hits = 3
INFO: Query = +title:dog +archivetype:rap : hits = 3
INFO: Query = rosetti : hits = 3
INFO: Query = +year:[0000 TO 1911] +(archivetype:radheader OR 
archivetype:rap) : hits = 2182
INFO: Query = advil : hits = 0
INFO: Query = test : hits = 24
INFO: Query = td : hits = 1
INFO: Query = td : hits = 1
INFO: Query = woman : hits = 363
INFO: Query = woman : hits = 363
INFO: Query = hello : hits = 0
INFO: Query = +rosetta +archivetype:rap : hits = 0
INFO: Query = +year:[0000 TO 1911] +(archivetype:radheader OR 
archivetype:rap) : hits = 2182
INFO: Query = poem : hits = 316
INFO: Query = crisis : hits = 7
INFO: Query = "crisis at every moment" : hits = 1
INFO: Query = toy : hits = 41
INFO: Query = title:echer : hits = 0
INFO: Query = senori : hits = 0
INFO: Query = +dear +sirs : hits = 11
INFO: Query = title:more : hits = 0
INFO: Query = more : hits = 365
INFO: Query = title:rossetti : hits = 329
INFO: Query = +blessed +damozel : hits = 103
INFO: Query = title:test : hits = 0
INFO: Query = +test +archivetype:radheader : hits = 3
INFO: Query = "crisis at every moment" : hits = 1
INFO: Query = rome : hits = 70
INFO: Query = fdshjkfjkhkfad : hits = 0
INFO: Query = stone : hits = 153
INFO: Query = +title:shakespeare +archivetype:radheader : hits = 1
INFO: Query = title:"xx i ll" : hits = 0
INFO: Query = +dog +cat : hits = 6
INFO: Query = +year:[1280 TO 1305] +archivetype:radheader : hits = 0
INFO: Query = guru : hits = 0
INFO: Query = philosophy : hits = 14
INFO: Query = title:install : hits = 0
INFO: Query = +title:install +archivetype:radheader : hits = 0
INFO: Query = "help freeform.html" : hits = 0
INFO: Query = "help freeform.html" : hits = 0
INFO: Query = install : hits = 1
INFO: Query = life : hits = 554
INFO: Query = life : hits = 554
INFO: Query = life : hits = 554



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13287-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 18 21:03:46 2005
Return-Path: <lucene-user-return-13287-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 13095 invoked from network); 18 Feb 2005 21:03:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Feb 2005 21:03:45 -0000
Received: (qmail 79569 invoked by uid 500); 18 Feb 2005 21:03:38 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 79538 invoked by uid 500); 18 Feb 2005 21:03:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 79513 invoked by uid 99); 18 Feb 2005 21:03:37 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of clamprecht@gmail.com designates 64.233.170.199 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.199)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 18 Feb 2005 13:03:36 -0800
Received: by rproxy.gmail.com with SMTP id j1so596905rnf
        for <lucene-user@jakarta.apache.org>; Fri, 18 Feb 2005 13:03:30 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=p5g1ZCIBOIMIKZ7ANliqXvy/y242PAS4DVdheiL+2hmiOrM26sk5LFuOnUHFCVxGs3U3TzznD7rUtjDQS7wGWkkWgnsa4PNJPCuplLtIpTLOGZ1nc3Cxege5IeJ2AMK5WyDuhtvNzPxsowPZg8r6UVWuHSHt7IUSYtyNa8iMp64=
Received: by 10.38.171.77 with SMTP id t77mr41943rne;
        Fri, 18 Feb 2005 13:03:30 -0800 (PST)
Received: by 10.38.104.15 with HTTP; Fri, 18 Feb 2005 13:03:29 -0800 (PST)
Message-ID: <88c6a67205021813033dd73531@mail.gmail.com>
Date: Fri, 18 Feb 2005 15:03:29 -0600
From: Chris Lamprecht <clamprecht@gmail.com>
Reply-To: Chris Lamprecht <clamprecht@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Search Performance
In-Reply-To: <20050218165734.4C04316904@mail01.nyc-ofc.criticalmention.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <D98ADD74A4E07445A943A90A184B5199AD2440@zebedee.magus.co.uk>
	 <20050218165734.4C04316904@mail01.nyc-ofc.criticalmention.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I recently dealt with the issue of re-using a Searcher with an index
that changes often.  I wrote a class that allows my searching classes
to "check out" a lucene Searcher, perform a search, and then return
the Searcher.  It's similar to a database connection pool, except that
all clients can share the same Searcher (I don't think there is any
benefit to keeping a true "pool" and giving a different Searcher to
each client -- someone let me know if this is incorrect).

So I just keep a reference count to my Searcher, which gets
incremented at checkout and decremented at checkin.  So the logic is
approximately:

initialize lastVersion to -1

checkout:
if (lucene index version != lastVersion) {
   create a new IndexSearcher and update lastVersion
} 
refcount++;
return the searcher

And on checkin:
refcount--;
if (refcount ==0 and there is a newer lucene index version) {
   close the searcher being checked in
}


Of course there are some more details to keep info on the open
searchers, make it thread-safe, etc.  I also plan to only check for a
new index if some minimum time threshold has passed (5 minutes or so).
 I'd be interested in hearing others' solutions/patterns for this.

-Chris

On Fri, 18 Feb 2005 11:57:32 -0500, Michael Celona
<mcelona@criticalmention.com> wrote:
> My index is changing in real time constantly... in this case I guess this
> will not work for me.... any suggestions...
> 
> Michael
> 
> -----Original Message-----
> From: David Townsend [mailto:david.townsend@magus.co.uk]
> Sent: Friday, February 18, 2005 11:50 AM
> To: Lucene Users List
> Subject: RE: Search Performance
> 
> IndexSearchers are thread safe, so you can use the same object on multiple
> requests.  If the index is static and not constantly updating, just keep one
> IndexSearcher for the life of the app.  If the index changes and you need
> that instantly reflected in the results, you need to check if the index has
> changed, if it has create a new cached IndexSearcher.  To check for changes
> use you'll need to monitor the version number of the index obtained via
> 
> IndexReader.getCurrentVersion(Index Name)
> 
> David
> 
> -----Original Message-----
> From: Stefan Groschupf [mailto:sg@media-style.com]
> Sent: 18 February 2005 16:15
> To: Lucene Users List
> Subject: Re: Search Performance
> 
> Try a singleton pattern or an static field.
> 
> Stefan
> 
> Michael Celona wrote:
> 
> >I am creating new IndexSearchers... how do I cache my IndexSearcher...
> >
> >Michael
> >
> >-----Original Message-----
> >From: David Townsend [mailto:david.townsend@magus.co.uk]
> >Sent: Friday, February 18, 2005 11:00 AM
> >To: Lucene Users List
> >Subject: RE: Search Performance
> >
> >Are you creating new IndexSearchers or IndexReaders on each search?
> Caching
> >your IndexSearchers has a dramatic effect on speed.
> >
> >David Townsend
> >
> >-----Original Message-----
> >From: Michael Celona [mailto:mcelona@criticalmention.com]
> >Sent: 18 February 2005 15:55
> >To: Lucene Users List
> >Subject: Search Performance
> >
> >
> >What is single handedly the best way to improve search performance?  I have
> >an index in the 2G range stored on the local file system of the searcher.
> >Under a load test of 5 simultaneous users my average search time is ~4700
> >ms.  Under a load test of 10 simultaneous users my average search time is
> >~10000 ms.    I have given the JVM 2G of memory and am a using a dual 3GHz
> >Zeons.  Any ideas?
> >
> >
> >
> >Michael
> >
> >
> >---------------------------------------------------------------------
> >To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
> >
> >---------------------------------------------------------------------
> >To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
> >
> >
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13288-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 18 21:14:09 2005
Return-Path: <lucene-user-return-13288-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 17582 invoked from network); 18 Feb 2005 21:14:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Feb 2005 21:14:09 -0000
Received: (qmail 180 invoked by uid 500); 18 Feb 2005 21:14:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 159 invoked by uid 500); 18 Feb 2005 21:14:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 146 invoked by uid 99); 18 Feb 2005 21:14:04 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of clamprecht@gmail.com designates 64.233.170.197 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.197)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 18 Feb 2005 13:14:03 -0800
Received: by rproxy.gmail.com with SMTP id j1so598414rnf
        for <lucene-user@jakarta.apache.org>; Fri, 18 Feb 2005 13:14:00 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=M8XIILUEadXPslsmP2ArzPWQA215o2rp4QhgkSYVSEqWaO4cni9AdN5Z3aDuw6kBR6xRAZkSoS+Xwoym2H38RB5wUfjqtiGnSCgMnx9KlS96xwqZDJaCoovJVg1NuO7LiTIP0mjlz7G/0ZgV0xjxmLwRueXdL8q6/BMZBZhzKeY=
Received: by 10.38.70.26 with SMTP id s26mr23928rna;
        Fri, 18 Feb 2005 13:13:59 -0800 (PST)
Received: by 10.38.104.15 with HTTP; Fri, 18 Feb 2005 13:13:59 -0800 (PST)
Message-ID: <88c6a6720502181313546291f0@mail.gmail.com>
Date: Fri, 18 Feb 2005 15:13:59 -0600
From: Chris Lamprecht <clamprecht@gmail.com>
Reply-To: Chris Lamprecht <clamprecht@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Search Performance
In-Reply-To: <88c6a67205021813033dd73531@mail.gmail.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <D98ADD74A4E07445A943A90A184B5199AD2440@zebedee.magus.co.uk>
	 <20050218165734.4C04316904@mail01.nyc-ofc.criticalmention.com>
	 <88c6a67205021813033dd73531@mail.gmail.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I should have mentioned, the reason for not doing this the obvious,
simple way (just close the Searcher and reopen it if a new version is
available) is because some threads could be in the middle of iterating
through the search Hits.  If you close the Searcher they get a Bad
file descriptor IOException.  As I found out the hard way :)


On Fri, 18 Feb 2005 15:03:29 -0600, Chris Lamprecht
<clamprecht@gmail.com> wrote:
> I recently dealt with the issue of re-using a Searcher with an index
> that changes often.  I wrote a class that allows my searching classes
> to "check out" a lucene Searcher, perform a search, and then return
> the Searcher.  It's similar to a database connection pool, except that

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13289-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 18 21:19:55 2005
Return-Path: <lucene-user-return-13289-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 19602 invoked from network); 18 Feb 2005 21:19:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Feb 2005 21:19:54 -0000
Received: (qmail 6871 invoked by uid 500); 18 Feb 2005 21:19:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 6840 invoked by uid 500); 18 Feb 2005 21:19:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6827 invoked by uid 99); 18 Feb 2005 21:19:50 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO darksleep.com) (66.45.34.102)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 18 Feb 2005 13:19:49 -0800
Received: by darksleep.com (Postfix, from userid 1009)
	id E842816897; Fri, 18 Feb 2005 16:20:19 -0500 (EST)
Date: Fri, 18 Feb 2005 16:20:19 -0500
From: "Steven J. Owens" <puffmail@darksleep.com>
To: lucene-user@jakarta.apache.org
Subject: Lucene vs. in-DB-full-text-searching
Message-ID: <20050218212019.GT1805@darksleep.com>
Reply-To: puff@darksleep.com
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
Sender: Steven J.Owens <puffmail@darksleep.com>
User-Agent: Mutt/1.5.6+20040722i
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi,

     I was rambling to some friends about an idea to build a
cache-aware JDBC driver wrapper, to make it easier to keep a lucene
index of a database up to date.

     They asked me a question that I have to take seriously, which is
that most RDBMSes provide some built-in fulltext searching - postgres,
mysql, even oracle - why not use that instead of adding another layer
of caching?

     I have to take this question seriously, especially since it
reminds me a lot of what Doug has often said to folks contemplating
doing similar things (caching query results, etc) with Lucene.

     Has anybody done some serious investigation into this, and could
summarize the pros and cons?

-- 
Steven J. Owens
puff@darksleep.com

"I'm going to make broad, sweeping generalizations and strong,
 declarative statements, because otherwise I'll be here all night and
 this document will be four times longer and much less fun to read.
 Take it all with a grain of salt." - http://darksleep.com/notablog


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13290-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 18 21:22:09 2005
Return-Path: <lucene-user-return-13290-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 20366 invoked from network); 18 Feb 2005 21:22:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Feb 2005 21:22:09 -0000
Received: (qmail 9230 invoked by uid 500); 18 Feb 2005 21:22:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 9006 invoked by uid 500); 18 Feb 2005 21:22:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8993 invoked by uid 99); 18 Feb 2005 21:22:05 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from static-68-236-183-90.ny325.east.verizon.net (HELO mail01.nyc-ofc.criticalmention.com) (68.236.183.90)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 18 Feb 2005 13:22:03 -0800
Received: from MCELONA (unknown [192.168.42.109])
	by mail01.nyc-ofc.criticalmention.com (Postfix) with ESMTP id 67A5116904;
	Fri, 18 Feb 2005 16:22:01 -0500 (EST)
From: "Michael Celona" <mcelona@criticalmention.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>,
	"'Chris Lamprecht'" <clamprecht@gmail.com>
Subject: RE: Search Performance
Date: Fri, 18 Feb 2005 16:21:59 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
In-Reply-To: <88c6a6720502181313546291f0@mail.gmail.com>
Thread-Index: AcUV/skeZ0IDyvM4RbWUo2NPxd0+RwAAO8Pw
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Message-Id: <20050218212201.67A5116904@mail01.nyc-ofc.criticalmention.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks... I am seeing this problem right now.... Has anyone implemented a
better solution...?

Michael

-----Original Message-----
From: Chris Lamprecht [mailto:clamprecht@gmail.com] 
Sent: Friday, February 18, 2005 4:14 PM
To: Lucene Users List
Subject: Re: Search Performance

I should have mentioned, the reason for not doing this the obvious,
simple way (just close the Searcher and reopen it if a new version is
available) is because some threads could be in the middle of iterating
through the search Hits.  If you close the Searcher they get a Bad
file descriptor IOException.  As I found out the hard way :)


On Fri, 18 Feb 2005 15:03:29 -0600, Chris Lamprecht
<clamprecht@gmail.com> wrote:
> I recently dealt with the issue of re-using a Searcher with an index
> that changes often.  I wrote a class that allows my searching classes
> to "check out" a lucene Searcher, perform a search, and then return
> the Searcher.  It's similar to a database connection pool, except that

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13291-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 18 21:27:50 2005
Return-Path: <lucene-user-return-13291-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 22679 invoked from network); 18 Feb 2005 21:27:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Feb 2005 21:27:50 -0000
Received: (qmail 19729 invoked by uid 500); 18 Feb 2005 21:27:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 19654 invoked by uid 500); 18 Feb 2005 21:27:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19459 invoked by uid 99); 18 Feb 2005 21:27:40 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from tor149-99-58-193.dedicated.sprintdsl.ca (HELO mail.sidefx.com) (149.99.58.193)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 18 Feb 2005 13:27:39 -0800
Received: from [192.168.234.27] (vienna.sidefx.com[192.168.234.27])
	by mail.sidefx.com (Smail-3.2.0.111 2000-Feb-17 #5; 2004-May-20)
	(1027 bytes) via sendmail with /P:esmtp/R:inet_hosts/T:smtp
	id <m1D2Fe0-004otCC@mail.sidefx.com>
	(sender <matt@sidefx.com>)
	for <lucene-user@jakarta.apache.org>; Fri, 18 Feb 2005 16:26:36 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
Content-Transfer-Encoding: 7bit
Message-Id: <ecb22849e546679d8efa7914ac4f22ab@sidefx.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
To: Lucene Users List <lucene-user@jakarta.apache.org>
From: Matt Chaput <matt@sidefx.com>
Subject: Document comparison
Date: Fri, 18 Feb 2005 16:26:03 -0500
X-Mailer: Apple Mail (2.619.2)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Is there a simple, efficient way to compute similarity of documents 
indexed with Lucene?

My first, naive idea is to use the entire contents of one document as a 
query to the second document, and use the score as a similarity 
measurement. But I think I'm probably way off base with that.

Can any IR pros set me straight? Thanks very much.

Matt


--
Matt Chaput
Word Monkey
Side Effects Software Inc.

"A goddamned ray of sunshine all the goddamned time"
-- Sparkle Hayter


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13292-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 18 21:31:23 2005
Return-Path: <lucene-user-return-13292-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 23913 invoked from network); 18 Feb 2005 21:31:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Feb 2005 21:31:23 -0000
Received: (qmail 24832 invoked by uid 500); 18 Feb 2005 21:31:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 24806 invoked by uid 500); 18 Feb 2005 21:31:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24782 invoked by uid 99); 18 Feb 2005 21:31:20 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 18 Feb 2005 13:31:18 -0800
Received: from p001002 ([204.225.84.27]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Fri, 18 Feb 2005 16:35:47 -0500
Message-ID: <028c01c51601$cef5c9c0$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <662e054f8caea1c0887a35a43c1313f1@ehatchersolutions.com> <d20d55c550e3ce8bf1a3fa3693a6431f@ehatchersolutions.com>
Subject: Analyzing Advise
Date: Fri, 18 Feb 2005 16:35:47 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 18 Feb 2005 21:35:47.0391 (UTC) FILETIME=[CF04E4F0:01C51601]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi;

I'm having a situation where my synonyms weren't working for a particular
field.

When I looked at the indexing I noticed it was a Keyword, thus not
tokenized.

The problem is when I switched that field to Text (now tokenized with my
SynonymAnalyzer) a bunch of query queires broke that where testing for
starting with or  or ending with a specific string. My SynonymAnalyzer wraps
a StanardAnalyzer, which acts as I would like for all fields but this one. I
don't want to change the behavior for all tokenizing. Only this one field's
data must remain unaltered.

I was hoping to make a Analyzer, that just applied the Synonyms, that I
could just use on the one field when I added it to the Document. But now
that I'm looking at the API I'm not sure I can specifiy a different analyzer
when creating a field.

Any tips?

Thanks,

Luke



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13293-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 18 21:38:49 2005
Return-Path: <lucene-user-return-13293-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 26164 invoked from network); 18 Feb 2005 21:38:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Feb 2005 21:38:48 -0000
Received: (qmail 31613 invoked by uid 500); 18 Feb 2005 21:38:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 31584 invoked by uid 500); 18 Feb 2005 21:38:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 31571 invoked by uid 99); 18 Feb 2005 21:38:45 -0000
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web31107.mail.mud.yahoo.com (HELO web31107.mail.mud.yahoo.com) (68.142.200.40)
  by apache.org (qpsmtpd/0.28) with SMTP; Fri, 18 Feb 2005 13:38:43 -0800
Received: (qmail 80105 invoked by uid 60001); 18 Feb 2005 21:38:40 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=Boo9W7G+1jgIjk+DV55BweAbw/sji92s13Wj6sNUbkigy1qzt4lT7kiuJbJodEdZ4T0KKnKoq/PmZV4nJVsceimOeAQn0Hacpk5ef2JRgPc4wLGXG6aP7GXsuxObpmZWkglBMiAhc12ZHWYgPkRbxVNpVMxxXJ7xC0utGwLsM4o=  ;
Message-ID: <20050218213840.80103.qmail@web31107.mail.mud.yahoo.com>
Received: from [216.194.17.194] by web31107.mail.mud.yahoo.com via HTTP; Fri, 18 Feb 2005 13:38:40 PST
Date: Fri, 18 Feb 2005 13:38:40 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Lucene vs. in-DB-full-text-searching
To: Lucene Users List <lucene-user@jakarta.apache.org>, puff@darksleep.com
In-Reply-To: <20050218212019.GT1805@darksleep.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

The most obvious answer is that the full-text indexing features of
RDBMS's are not as good (as fast) as Lucene.  MySQL, PostgreSQL,
Oracle, MS SQL Server etc. all have full-text indexing/searching
features, but I always hear people complaining about the speed.  A
person from a well-known online bookseller told me recently that Lucene
was about 10x faster that MySQL for full-text searching, and I am
currently helping someone get away from MySQL and into Lucene for
performance reasons.

Otis




--- "Steven J. Owens" <puffmail@darksleep.com> wrote:

> Hi,
> 
>      I was rambling to some friends about an idea to build a
> cache-aware JDBC driver wrapper, to make it easier to keep a lucene
> index of a database up to date.
> 
>      They asked me a question that I have to take seriously, which is
> that most RDBMSes provide some built-in fulltext searching -
> postgres,
> mysql, even oracle - why not use that instead of adding another layer
> of caching?
> 
>      I have to take this question seriously, especially since it
> reminds me a lot of what Doug has often said to folks contemplating
> doing similar things (caching query results, etc) with Lucene.
> 
>      Has anybody done some serious investigation into this, and could
> summarize the pros and cons?
> 
> -- 
> Steven J. Owens
> puff@darksleep.com
> 
> "I'm going to make broad, sweeping generalizations and strong,
>  declarative statements, because otherwise I'll be here all night and
>  this document will be four times longer and much less fun to read.
>  Take it all with a grain of salt." - http://darksleep.com/notablog
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13294-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 18 21:38:55 2005
Return-Path: <lucene-user-return-13294-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 26209 invoked from network); 18 Feb 2005 21:38:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Feb 2005 21:38:55 -0000
Received: (qmail 32459 invoked by uid 500); 18 Feb 2005 21:38:47 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 31708 invoked by uid 500); 18 Feb 2005 21:38:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 45932 invoked by uid 99); 18 Feb 2005 20:45:18 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
X-Spam-Filter: check_local@cn-sfo1-mail-relay2.cnet.com by digitalanswers.org
Subject: Re: Scalability of Lucene indexes
From: Bryan McCormick <bryan.mccormick@cnet.com>
To: Chris D <brogar@gmail.com>
Cc: lucene-user@jakarta.apache.org
In-Reply-To: <34cc3b0a05021808012afba734@mail.gmail.com>
References: <34cc3b0a05021808012afba734@mail.gmail.com>
Content-Type: text/plain
Message-Id: <1108759513.2252.29.camel@localhost>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.6-5.1.100mdk 
Date: Fri, 18 Feb 2005 12:45:13 -0800
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 18 Feb 2005 20:45:13.0675 (UTC) FILETIME=[BEC891B0:01C515FA]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi chris, 

I'm responsible for the webshots.com search index and we've had very
good results with lucene. It currently indexes over 100 Million
documents and performs 4 Million searches / day. 

We initially tested running multiple small copies and using a
MultiSearcher and then merging results as compared to running a very
large single index. We actually found that the single large instance
performed better. To improve load handling we clustered multiple
identical copies together, then session bind a user to particular server
and cache the results, but each server is running a single index. 

Bryan McCormick


On Fri, 2005-02-18 at 08:01, Chris D wrote: 
> Hi all, 
> 
> I have a question about scaling lucene across a cluster, and good ways
> of breaking up the work.
> 
> We have a very large index and searches sometimes take more time than
> they're allowed. What we have been doing is during indexing we index
> into 256 seperate indexes (depending on the md5sum) then distribute
> the indexes to the search machines. So if a machine has 128 indexes it
> would have to do 128 searches. I gave parallelMultiSearcher a try and
> it was significantly slower than simply iterating through the indexes
> one at a time.
> 
> Our new plan is to somehow have only one index per search machine and
> a larger main index stored on the master.
> 
> What I'm interested to know is whether having one extremely large
> index for the master then splitting the index into several smaller
> indexes (if this is possible) would be better than having several
> smaller indexes and merging them on the search machines into one
> index.
> 
> I would also be interested to know how others have divided up search
> work across a cluster.
> 
> Thanks,
> Chris
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13295-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 18 21:41:45 2005
Return-Path: <lucene-user-return-13295-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 27460 invoked from network); 18 Feb 2005 21:41:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Feb 2005 21:41:45 -0000
Received: (qmail 36557 invoked by uid 500); 18 Feb 2005 21:41:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 36531 invoked by uid 500); 18 Feb 2005 21:41:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 36517 invoked by uid 99); 18 Feb 2005 21:41:41 -0000
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web31101.mail.mud.yahoo.com (HELO web31101.mail.mud.yahoo.com) (68.142.200.34)
  by apache.org (qpsmtpd/0.28) with SMTP; Fri, 18 Feb 2005 13:41:39 -0800
Received: (qmail 58203 invoked by uid 60001); 18 Feb 2005 21:41:38 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=Ah998iIftDctq1SmUutOFHZsAdQ7S2VEJKd8wBZVDEE5n4E+PCj+aYT5oFTcUtJJJ35KbPd+fi7ltCGIJ+ZU911EOlM5hnrXFc2lxE0hWUV8P1GQ3T/swal3uSBjMURUIliHWbmMdbXsEulkpl4XTHVgxpA3AxOaHUcg8RV5YvE=  ;
Message-ID: <20050218214138.58201.qmail@web31101.mail.mud.yahoo.com>
Received: from [216.194.17.194] by web31101.mail.mud.yahoo.com via HTTP; Fri, 18 Feb 2005 13:41:37 PST
Date: Fri, 18 Feb 2005 13:41:37 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Search Performance
To: Lucene Users List <lucene-user@jakarta.apache.org>,
  Chris Lamprecht <clamprecht@gmail.com>
In-Reply-To: <88c6a6720502181313546291f0@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Or you could just open a new IndexSearcher, forget the old one, and
have GC collect it when everyone is done with it.

Otis

--- Chris Lamprecht <clamprecht@gmail.com> wrote:

> I should have mentioned, the reason for not doing this the obvious,
> simple way (just close the Searcher and reopen it if a new version is
> available) is because some threads could be in the middle of
> iterating
> through the search Hits.  If you close the Searcher they get a Bad
> file descriptor IOException.  As I found out the hard way :)
> 
> 
> On Fri, 18 Feb 2005 15:03:29 -0600, Chris Lamprecht
> <clamprecht@gmail.com> wrote:
> > I recently dealt with the issue of re-using a Searcher with an
> index
> > that changes often.  I wrote a class that allows my searching
> classes
> > to "check out" a lucene Searcher, perform a search, and then return
> > the Searcher.  It's similar to a database connection pool, except
> that
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13296-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 18 21:41:51 2005
Return-Path: <lucene-user-return-13296-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 27515 invoked from network); 18 Feb 2005 21:41:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Feb 2005 21:41:51 -0000
Received: (qmail 37469 invoked by uid 500); 18 Feb 2005 21:41:46 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 37449 invoked by uid 500); 18 Feb 2005 21:41:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 37432 invoked by uid 99); 18 Feb 2005 21:41:46 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mailer.syr.edu (HELO mailer.syr.edu) (128.230.18.29)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 18 Feb 2005 13:41:44 -0800
Received: from [128.230.38.212] (syru38-212.syr.edu) by mailer.syr.edu (LSMTP for Windows NT v1.1b) with SMTP id <0.13D0884D@mailer.syr.edu>; Fri, 18 Feb 2005 16:41:39 -0500
Message-ID: <42166114.4050507@syr.edu>
Date: Fri, 18 Feb 2005 16:41:40 -0500
From: Steven Rowe <sarowe@syr.edu>
User-Agent: Mozilla Thunderbird 0.9 (Windows/20041111)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Analyzing Advise
References: <662e054f8caea1c0887a35a43c1313f1@ehatchersolutions.com> <d20d55c550e3ce8bf1a3fa3693a6431f@ehatchersolutions.com> <028c01c51601$cef5c9c0$7703d00a@hypermedia.com>
In-Reply-To: <028c01c51601$cef5c9c0$7703d00a@hypermedia.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Luke Shannon wrote:
> But now that I'm looking at the API I'm not sure I can specifiy a
> different analyzer when creating a field.

Is PerFieldAnalyzerWrapper what you're looking for?

<URL:http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/analysis/PerFieldAnalyzerWrapper.html>

Steve

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13297-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 18 21:44:37 2005
Return-Path: <lucene-user-return-13297-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 28280 invoked from network); 18 Feb 2005 21:44:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Feb 2005 21:44:36 -0000
Received: (qmail 39773 invoked by uid 500); 18 Feb 2005 21:44:33 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 39748 invoked by uid 500); 18 Feb 2005 21:44:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 39735 invoked by uid 99); 18 Feb 2005 21:44:33 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from tor149-99-58-193.dedicated.sprintdsl.ca (HELO mail.sidefx.com) (149.99.58.193)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 18 Feb 2005 13:44:31 -0800
Received: from [192.168.234.27] (vienna.sidefx.com[192.168.234.27])
	by mail.sidefx.com (Smail-3.2.0.111 2000-Feb-17 #5; 2004-May-20)
	(1004 bytes) via sendmail with /P:esmtp/R:inet_hosts/T:smtp
	id <m1D2FuK-004ot1C@mail.sidefx.com>
	(sender <matt@sidefx.com>)
	for <lucene-user@jakarta.apache.org>; Fri, 18 Feb 2005 16:43:28 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <ecb22849e546679d8efa7914ac4f22ab@sidefx.com>
References: <ecb22849e546679d8efa7914ac4f22ab@sidefx.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <ec5cae141b2962d86a292e39bb778427@sidefx.com>
Content-Transfer-Encoding: 7bit
From: Matt Chaput <matt@sidefx.com>
Subject: Re: Document comparison
Date: Fri, 18 Feb 2005 16:42:55 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> My first, naive idea is to use the entire contents of one document as 
> a query to the second document,

Sorry, I meant use the entire contents of one document as a query *on 
the rest of the corpus*.

--
Matt Chaput
Word Monkey
Side Effects Software Inc.

"A goddamned ray of sunshine all the goddamned time"
-- Sparkle Hayter


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13298-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 18 21:45:59 2005
Return-Path: <lucene-user-return-13298-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 28948 invoked from network); 18 Feb 2005 21:45:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Feb 2005 21:45:59 -0000
Received: (qmail 42313 invoked by uid 500); 18 Feb 2005 21:45:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 42036 invoked by uid 500); 18 Feb 2005 21:45:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 42023 invoked by uid 99); 18 Feb 2005 21:45:54 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of mrose@freshdirect.com designates 64.74.77.14 as permitted sender)
Received: from unknown.freshdirect.com (HELO ns2.nyc1.freshdirect.com) (64.74.77.14)
  by apache.org (qpsmtpd/0.28) with SMTP; Fri, 18 Feb 2005 13:45:53 -0800
Received: (qmail 12388 invoked from network); 18 Feb 2005 21:45:50 -0000
Received: from mail4.lic.corp.freshdirect.com (172.16.40.76)
  by ns2.nyc1.freshdirect.com with SMTP; 18 Feb 2005 21:45:50 -0000
content-class: urn:content-classes:message
Subject: RE: Lucene vs. in-DB-full-text-searching
MIME-Version: 1.0
Date: Fri, 18 Feb 2005 16:45:50 -0500
Content-Type: multipart/signed;
	protocol="application/x-pkcs7-signature";
	micalg=SHA1;
	boundary="----=_NextPart_000_025A_01C515D9.4C6F3450"
X-MimeOLE: Produced By Microsoft Exchange V6.0.6487.1
Message-ID: <FB566CA0D9C5DF4186FF9A313C712DEC01139003@mail4.lic.corp.freshdirect.com>
X-MS-Has-Attach: yes
X-MS-TNEF-Correlator: 
Thread-Topic: Lucene vs. in-DB-full-text-searching
Thread-Index: AcUV/5YfmKbwkOaQRcGdQCLhAXH+2AAACU5g
From: "Mike Rose" <mrose@freshdirect.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_025A_01C515D9.4C6F3450
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

I can comment on this since I'm in the middle of excising Oracle text
searching and replacing it with Lucene in one of my projects.

Oracle does provide mechanisms for creating fuzzy indexes of text and
doing word stemming as well, has a scoring mechanism, etc...  However,
this requires additional licensing (or an enterprise license, big $$$)
and index creation is slow.  Unlike other indexes in Oracle, this needs
to be explicitly dropped and recreated in order to pick up changes to
the content, and you can't update a single entry in the index, you have
to do the whole thing in one shot.  That being said, it has been
successful for me so far, you just have to use some non-standard funky
SQL operators to make use of it.

So why am I switching to Lucene on this project?

	Speed: Lucene is faster at indexing and searching.

	Price: I don't think I need to explain this one.

	Size: The size of the Lucene index is tiny and easier to deploy
to the servers that search it.

	Flexibility: If I want to change my methodology of index or
search, I don't need to worry about db schema evolution across multiple
environments on the way to production.

All in all, I don't think that a JDBC wrapper is going to do what you
want.  The material you want to index is application-specific, as are
the mechanics of searching the index.  A JDBC driver isn't going to know
which of the fields you are updating you might care to index and search
later.  In the end, the approach that worked for me was to create a
config driven wrapper that knows how to index specific properties of
POJOs.  The same config also drives the formation of the query
expressions as well.  This way I don't care if the content was
instantiated from a db or xml (I need to do both), or some other source.
I think one of the great benefits of Lucene is that it allows me to
embed sophisticated search functionality into my apps without being
dependent upon any particular persistence mechanism.

Mike




------=_NextPart_000_025A_01C515D9.4C6F3450
Content-Type: application/x-pkcs7-signature;
	name="smime.p7s"
Content-Transfer-Encoding: base64
Content-Disposition: attachment;
	filename="smime.p7s"

MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIIyzCCAlMw
ggG8oAMCAQICAw3BHjANBgkqhkiG9w0BAQQFADBiMQswCQYDVQQGEwJaQTElMCMGA1UEChMcVGhh
d3RlIENvbnN1bHRpbmcgKFB0eSkgTHRkLjEsMCoGA1UEAxMjVGhhd3RlIFBlcnNvbmFsIEZyZWVt
YWlsIElzc3VpbmcgQ0EwHhcNMDUwMTA2MjA1NjIyWhcNMDYwMTA2MjA1NjIyWjBHMR8wHQYDVQQD
ExZUaGF3dGUgRnJlZW1haWwgTWVtYmVyMSQwIgYJKoZIhvcNAQkBFhVtcm9zZUBmcmVzaGRpcmVj
dC5jb20wgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAL8MsqTmkGb2LfGo2zTGYHaeTnX8PFHY
mW+fjdtIHYiavRtSGgAWpGQON5B6TdlGQkATZf3iF1VTgKBjy1OGDRFW2DZewg+Q997FYclb4Fu9
CT8jUR6P7A4ZcmEsOpwhry8rcF2igNLfVo47p+FfKb2YDNRaImv+LrZtbrfGUFD/AgMBAAGjMjAw
MCAGA1UdEQQZMBeBFW1yb3NlQGZyZXNoZGlyZWN0LmNvbTAMBgNVHRMBAf8EAjAAMA0GCSqGSIb3
DQEBBAUAA4GBAEUgEBmr9kn9GAHhJYfWMMqU8Jy9BRuG3Swx2QObcBST4kmJxmfatyEwrLffxAh2
H28dmBMJL9ZEc15d/e6C0FWVRRqEMOUutD4+AcSJEAnv9SdWBl6hp4rkp5d6nkz8V9ffkdmMXI6+
hsLIKQyQXbzc5JqwfzM9q6Ch4409mwhUMIIDLTCCApagAwIBAgIBADANBgkqhkiG9w0BAQQFADCB
0TELMAkGA1UEBhMCWkExFTATBgNVBAgTDFdlc3Rlcm4gQ2FwZTESMBAGA1UEBxMJQ2FwZSBUb3du
MRowGAYDVQQKExFUaGF3dGUgQ29uc3VsdGluZzEoMCYGA1UECxMfQ2VydGlmaWNhdGlvbiBTZXJ2
aWNlcyBEaXZpc2lvbjEkMCIGA1UEAxMbVGhhd3RlIFBlcnNvbmFsIEZyZWVtYWlsIENBMSswKQYJ
KoZIhvcNAQkBFhxwZXJzb25hbC1mcmVlbWFpbEB0aGF3dGUuY29tMB4XDTk2MDEwMTAwMDAwMFoX
DTIwMTIzMTIzNTk1OVowgdExCzAJBgNVBAYTAlpBMRUwEwYDVQQIEwxXZXN0ZXJuIENhcGUxEjAQ
BgNVBAcTCUNhcGUgVG93bjEaMBgGA1UEChMRVGhhd3RlIENvbnN1bHRpbmcxKDAmBgNVBAsTH0Nl
cnRpZmljYXRpb24gU2VydmljZXMgRGl2aXNpb24xJDAiBgNVBAMTG1RoYXd0ZSBQZXJzb25hbCBG
cmVlbWFpbCBDQTErMCkGCSqGSIb3DQEJARYccGVyc29uYWwtZnJlZW1haWxAdGhhd3RlLmNvbTCB
nzANBgkqhkiG9w0BAQEFAAOBjQAwgYkCgYEA1GnX1LCUZFtx6UfYDFG26nKRsIRefS0Nj3sS34Ul
dSh0OkIsYyeflXtL734Zhx2G6qPduc6WZBrCFG5ErHzmj+hND3EfQDimAKOHePb5lIZererAXnbr
2RSjXW56fAylS1V/Bhkpf56aJtVquzgkCGqYx7Hao5iR/Xnb5VrEHLkCAwEAAaMTMBEwDwYDVR0T
AQH/BAUwAwEB/zANBgkqhkiG9w0BAQQFAAOBgQDH7JJ+Tvj1lqVnYiqk8E0RYNBvjWBYYawmu1I1
XAjPMPuoSpaKH2JCI4wXD/S6ZJwXrEcp352YXtJsYHFcoqzceePnbgBHH7UNKOgCneSa/RP0ptl8
sfjcXyMmCZGAc9AUG95DqYMl8uacLxXK/qarigd1iwzdUYRr5PjRzneigTCCAz8wggKooAMCAQIC
AQ0wDQYJKoZIhvcNAQEFBQAwgdExCzAJBgNVBAYTAlpBMRUwEwYDVQQIEwxXZXN0ZXJuIENhcGUx
EjAQBgNVBAcTCUNhcGUgVG93bjEaMBgGA1UEChMRVGhhd3RlIENvbnN1bHRpbmcxKDAmBgNVBAsT
H0NlcnRpZmljYXRpb24gU2VydmljZXMgRGl2aXNpb24xJDAiBgNVBAMTG1RoYXd0ZSBQZXJzb25h
bCBGcmVlbWFpbCBDQTErMCkGCSqGSIb3DQEJARYccGVyc29uYWwtZnJlZW1haWxAdGhhd3RlLmNv
bTAeFw0wMzA3MTcwMDAwMDBaFw0xMzA3MTYyMzU5NTlaMGIxCzAJBgNVBAYTAlpBMSUwIwYDVQQK
ExxUaGF3dGUgQ29uc3VsdGluZyAoUHR5KSBMdGQuMSwwKgYDVQQDEyNUaGF3dGUgUGVyc29uYWwg
RnJlZW1haWwgSXNzdWluZyBDQTCBnzANBgkqhkiG9w0BAQEFAAOBjQAwgYkCgYEAxKY8VXNV+065
yplaHmjAdQRwnd/p/6Me7L3N9VvyGna9fww6YfK/Uc4B1OVQCjDXAmNaLIkVcI7dyfArhVqqP3FW
y688Cwfn8R+RNiQqE88r1fOCdz0Dviv+uxg+B79AgAJk16emu59l0cUqVIUPSAR/p7bRPGEEQB5k
GXJgt/sCAwEAAaOBlDCBkTASBgNVHRMBAf8ECDAGAQH/AgEAMEMGA1UdHwQ8MDowOKA2oDSGMmh0
dHA6Ly9jcmwudGhhd3RlLmNvbS9UaGF3dGVQZXJzb25hbEZyZWVtYWlsQ0EuY3JsMAsGA1UdDwQE
AwIBBjApBgNVHREEIjAgpB4wHDEaMBgGA1UEAxMRUHJpdmF0ZUxhYmVsMi0xMzgwDQYJKoZIhvcN
AQEFBQADgYEASIzRUIPqCy7MDaNmrGcPf6+svsIXoUOWlJ1/TCG4+DYfqi2fNi/A9BxQIJNwPP2t
4WFiw9k6GX6EsZkbAMUaC4J0niVQlGLH2ydxVyWN3amcOY6MIE9lX5Xa9/eH1sYITq726jTlEBpb
NU1341YheILcIRk13iSx0x1G/11fZU8xggLPMIICywIBATBpMGIxCzAJBgNVBAYTAlpBMSUwIwYD
VQQKExxUaGF3dGUgQ29uc3VsdGluZyAoUHR5KSBMdGQuMSwwKgYDVQQDEyNUaGF3dGUgUGVyc29u
YWwgRnJlZW1haWwgSXNzdWluZyBDQQIDDcEeMAkGBSsOAwIaBQCgggG8MBgGCSqGSIb3DQEJAzEL
BgkqhkiG9w0BBwEwHAYJKoZIhvcNAQkFMQ8XDTA1MDIxODIxNDU0OFowIwYJKoZIhvcNAQkEMRYE
FKax8CG9meO9vzl6orl3sQYPaMg4MGcGCSqGSIb3DQEJDzFaMFgwCgYIKoZIhvcNAwcwBwYFKw4D
AhowDgYIKoZIhvcNAwICAgCAMA0GCCqGSIb3DQMCAgFAMAcGBSsOAwIHMA0GCCqGSIb3DQMCAgEo
MAoGCCqGSIb3DQIFMHgGCSsGAQQBgjcQBDFrMGkwYjELMAkGA1UEBhMCWkExJTAjBgNVBAoTHFRo
YXd0ZSBDb25zdWx0aW5nIChQdHkpIEx0ZC4xLDAqBgNVBAMTI1RoYXd0ZSBQZXJzb25hbCBGcmVl
bWFpbCBJc3N1aW5nIENBAgMNwR4wegYLKoZIhvcNAQkQAgsxa6BpMGIxCzAJBgNVBAYTAlpBMSUw
IwYDVQQKExxUaGF3dGUgQ29uc3VsdGluZyAoUHR5KSBMdGQuMSwwKgYDVQQDEyNUaGF3dGUgUGVy
c29uYWwgRnJlZW1haWwgSXNzdWluZyBDQQIDDcEeMA0GCSqGSIb3DQEBAQUABIGATDCtQiOPx/M0
RvDrLclr5VmxGNSgUztxPMAhBq+MbYgQ6917AwLXsqMXC9VqlNMYmN7rOesvJ4gdtxhc3K054h+6
gtlIkrQo5TS9M1o39e6Ck0D5A8Py72GpXALqsasP3QM3ltloUV/8juK8l21whZsJdWayJIr44bz5
mTRbczQAAAAAAAA=

------=_NextPart_000_025A_01C515D9.4C6F3450--

From lucene-user-return-13299-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 18 21:48:22 2005
Return-Path: <lucene-user-return-13299-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 29685 invoked from network); 18 Feb 2005 21:48:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Feb 2005 21:48:22 -0000
Received: (qmail 45516 invoked by uid 500); 18 Feb 2005 21:48:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 45139 invoked by uid 500); 18 Feb 2005 21:48:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 45126 invoked by uid 99); 18 Feb 2005 21:48:17 -0000
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web31111.mail.mud.yahoo.com (HELO web31111.mail.mud.yahoo.com) (68.142.200.230)
  by apache.org (qpsmtpd/0.28) with SMTP; Fri, 18 Feb 2005 13:48:16 -0800
Received: (qmail 1149 invoked by uid 60001); 18 Feb 2005 21:48:14 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=U5IRrKedp+ZAr2Cn4S8d0wve/P3t4tyP0oGIzifYD/gYffJqLPvIXwYJX1C44UdrziSLh1zDP3//KZwI/WVBmrAnmbGvXvL2N/IQIAYxEetUee6L8BESUmEhFUZYepaVTNnpAtFDPgkAyc5ttaFr+6t1uHR3GVMA0s1xAX41MN8=  ;
Message-ID: <20050218214814.1147.qmail@web31111.mail.mud.yahoo.com>
Received: from [216.194.17.194] by web31111.mail.mud.yahoo.com via HTTP; Fri, 18 Feb 2005 13:48:14 PST
Date: Fri, 18 Feb 2005 13:48:14 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Document comparison
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <ecb22849e546679d8efa7914ac4f22ab@sidefx.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Matt,

Erik and I have some code for this in Lucene in Action, but David
Spencer did this since the book was published:

  http://www.lucenebook.com/blog/announcements/more_like_this.html

Otis

--- Matt Chaput <matt@sidefx.com> wrote:

> Is there a simple, efficient way to compute similarity of documents 
> indexed with Lucene?
> 
> My first, naive idea is to use the entire contents of one document as
> a 
> query to the second document, and use the score as a similarity 
> measurement. But I think I'm probably way off base with that.
> 
> Can any IR pros set me straight? Thanks very much.
> 
> Matt
> 
> 
> --
> Matt Chaput
> Word Monkey
> Side Effects Software Inc.
> 
> "A goddamned ray of sunshine all the goddamned time"
> -- Sparkle Hayter
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13300-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 18 21:54:18 2005
Return-Path: <lucene-user-return-13300-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 33000 invoked from network); 18 Feb 2005 21:54:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Feb 2005 21:54:18 -0000
Received: (qmail 52970 invoked by uid 500); 18 Feb 2005 21:54:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 52946 invoked by uid 500); 18 Feb 2005 21:54:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52933 invoked by uid 99); 18 Feb 2005 21:54:14 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 18 Feb 2005 13:54:13 -0800
Received: from p001002 ([204.225.84.27]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Fri, 18 Feb 2005 16:58:42 -0500
Message-ID: <02a601c51605$026bbd70$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <662e054f8caea1c0887a35a43c1313f1@ehatchersolutions.com> <d20d55c550e3ce8bf1a3fa3693a6431f@ehatchersolutions.com> <028c01c51601$cef5c9c0$7703d00a@hypermedia.com> <42166114.4050507@syr.edu>
Subject: Re: Analyzing Advise
Date: Fri, 18 Feb 2005 16:58:42 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 18 Feb 2005 21:58:42.0194 (UTC) FILETIME=[02772F20:01C51605]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

This is exactly what I was looking for.

Thanks

----- Original Message ----- 
From: "Steven Rowe" <sarowe@syr.edu>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Friday, February 18, 2005 4:41 PM
Subject: Re: Analyzing Advise


> Luke Shannon wrote:
> > But now that I'm looking at the API I'm not sure I can specifiy a
> > different analyzer when creating a field.
>
> Is PerFieldAnalyzerWrapper what you're looking for?
>
>
<URL:http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/analysis/Pe
rFieldAnalyzerWrapper.html>
>
> Steve
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13301-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 18 22:05:00 2005
Return-Path: <lucene-user-return-13301-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 36950 invoked from network); 18 Feb 2005 22:05:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Feb 2005 22:05:00 -0000
Received: (qmail 68764 invoked by uid 500); 18 Feb 2005 22:04:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 68735 invoked by uid 500); 18 Feb 2005 22:04:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68721 invoked by uid 99); 18 Feb 2005 22:04:55 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from static-68-236-183-90.ny325.east.verizon.net (HELO mail01.nyc-ofc.criticalmention.com) (68.236.183.90)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 18 Feb 2005 14:04:54 -0800
Received: from MCELONA (unknown [192.168.42.109])
	by mail01.nyc-ofc.criticalmention.com (Postfix) with ESMTP id 4878416904
	for <lucene-user@jakarta.apache.org>; Fri, 18 Feb 2005 17:04:51 -0500 (EST)
From: "Michael Celona" <mcelona@criticalmention.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Search Performance
Date: Fri, 18 Feb 2005 17:04:49 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
In-Reply-To: <20050218214138.58201.qmail@web31101.mail.mud.yahoo.com>
Thread-Index: AcUWAqmIYpn29yIfRB+qSRCpU+yV6QAAyd1A
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Message-Id: <20050218220451.4878416904@mail01.nyc-ofc.criticalmention.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Just tried that... works like a charm... thanks...

Michael

-----Original Message-----
From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com] 
Sent: Friday, February 18, 2005 4:42 PM
To: Lucene Users List; Chris Lamprecht
Subject: Re: Search Performance

Or you could just open a new IndexSearcher, forget the old one, and
have GC collect it when everyone is done with it.

Otis

--- Chris Lamprecht <clamprecht@gmail.com> wrote:

> I should have mentioned, the reason for not doing this the obvious,
> simple way (just close the Searcher and reopen it if a new version is
> available) is because some threads could be in the middle of
> iterating
> through the search Hits.  If you close the Searcher they get a Bad
> file descriptor IOException.  As I found out the hard way :)
> 
> 
> On Fri, 18 Feb 2005 15:03:29 -0600, Chris Lamprecht
> <clamprecht@gmail.com> wrote:
> > I recently dealt with the issue of re-using a Searcher with an
> index
> > that changes often.  I wrote a class that allows my searching
> classes
> > to "check out" a lucene Searcher, perform a search, and then return
> > the Searcher.  It's similar to a database connection pool, except
> that
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13302-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 18 22:08:24 2005
Return-Path: <lucene-user-return-13302-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 38192 invoked from network); 18 Feb 2005 22:08:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Feb 2005 22:08:23 -0000
Received: (qmail 77670 invoked by uid 500); 18 Feb 2005 22:08:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 77646 invoked by uid 500); 18 Feb 2005 22:08:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 77631 invoked by uid 99); 18 Feb 2005 22:08:18 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from server1.hostmon.com (HELO server1.hostmon.com) (66.139.76.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 18 Feb 2005 14:08:17 -0800
Received: (qmail 23010 invoked by uid 532); 18 Feb 2005 22:07:59 -0000
Received: from dave-lucene-user@tropo.com by server1.hostmon.com by uid 0 with qmail-scanner-1.16 
 (spamassassin: 3.0.0.  Clear:. 
 Processed in 0.088275 secs); 18 Feb 2005 22:07:59 -0000
Received: from unknown (HELO ?172.31.1.2?) (127.0.0.1)
  by 0 with SMTP; 18 Feb 2005 22:07:59 -0000
Message-ID: <4216674E.4020405@tropo.com>
Date: Fri, 18 Feb 2005 14:08:14 -0800
From: David Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.5) Gecko/20041217
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Search Performance
References: <20050218220451.4878416904@mail01.nyc-ofc.criticalmention.com>
In-Reply-To: <20050218220451.4878416904@mail01.nyc-ofc.criticalmention.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Michael Celona wrote:

> Just tried that... works like a charm... thanks...

Could you clarify what the problem was - just the overhead of opening 
IndexSearchers?
> 
> Michael
> 
> -----Original Message-----
> From: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com] 
> Sent: Friday, February 18, 2005 4:42 PM
> To: Lucene Users List; Chris Lamprecht
> Subject: Re: Search Performance
> 
> Or you could just open a new IndexSearcher, forget the old one, and
> have GC collect it when everyone is done with it.
> 
> Otis
> 
> --- Chris Lamprecht <clamprecht@gmail.com> wrote:
> 
> 
>>I should have mentioned, the reason for not doing this the obvious,
>>simple way (just close the Searcher and reopen it if a new version is
>>available) is because some threads could be in the middle of
>>iterating
>>through the search Hits.  If you close the Searcher they get a Bad
>>file descriptor IOException.  As I found out the hard way :)
>>
>>
>>On Fri, 18 Feb 2005 15:03:29 -0600, Chris Lamprecht
>><clamprecht@gmail.com> wrote:
>>
>>>I recently dealt with the issue of re-using a Searcher with an
>>
>>index
>>
>>>that changes often.  I wrote a class that allows my searching
>>
>>classes
>>
>>>to "check out" a lucene Searcher, perform a search, and then return
>>>the Searcher.  It's similar to a database connection pool, except
>>
>>that
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13303-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 18 22:15:33 2005
Return-Path: <lucene-user-return-13303-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 41351 invoked from network); 18 Feb 2005 22:15:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Feb 2005 22:15:33 -0000
Received: (qmail 91536 invoked by uid 500); 18 Feb 2005 22:15:29 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 91311 invoked by uid 500); 18 Feb 2005 22:15:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 91297 invoked by uid 99); 18 Feb 2005 22:15:28 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from server1.hostmon.com (HELO server1.hostmon.com) (66.139.76.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 18 Feb 2005 14:15:26 -0800
Received: (qmail 23581 invoked by uid 532); 18 Feb 2005 22:15:09 -0000
Received: from dave-lucene-user@tropo.com by server1.hostmon.com by uid 0 with qmail-scanner-1.16 
 (spamassassin: 3.0.0.  Clear:. 
 Processed in 0.159406 secs); 18 Feb 2005 22:15:09 -0000
Received: from unknown (HELO ?172.31.1.2?) (127.0.0.1)
  by 0 with SMTP; 18 Feb 2005 22:15:09 -0000
Message-ID: <421668FC.40400@tropo.com>
Date: Fri, 18 Feb 2005 14:15:24 -0800
From: David Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.5) Gecko/20041217
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Document comparison
References: <20050218214814.1147.qmail@web31111.mail.mud.yahoo.com>
In-Reply-To: <20050218214814.1147.qmail@web31111.mail.mud.yahoo.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Otis Gospodnetic wrote:

> Matt,
> 
> Erik and I have some code for this in Lucene in Action, but David
> Spencer did this since the book was published:
> 
>   http://www.lucenebook.com/blog/announcements/more_like_this.html


If you want an informal way of doing it you're right, just feed the 
words of the source doc to a query. The doc for the code it is at this 
easy to  remember URL:
http://searchmorph.com/pub/jakarta-lucene-sandbox/contributions/similarity/build/docs/api/org/apache/lucene/search/similar/SimilarityQueries.html#formSimilarQuery(java.lang.String,%20org.apache.lucene.analysis.Analyzer,%20java.lang.String,%20java.util.Set)

Follow Otis's link above to my weblog for the code.

The "MoreLikeThis" stuff is similar but more sophisticated.


Also if you want the IR way I think you'd do a "cosine measure". I know 
carrot2 has the code - this might be it:

http://www.searchmorph.com/pub/carrot2/jd/com/chilang/carrot/filter/cluster/rough/measure/CosineCoefficient.html
> 
> Otis
> 
> --- Matt Chaput <matt@sidefx.com> wrote:
> 
> 
>>Is there a simple, efficient way to compute similarity of documents 
>>indexed with Lucene?
>>
>>My first, naive idea is to use the entire contents of one document as
>>a 
>>query to the second document, and use the score as a similarity 
>>measurement. But I think I'm probably way off base with that.
>>
>>Can any IR pros set me straight? Thanks very much.
>>
>>Matt
>>
>>
>>--
>>Matt Chaput
>>Word Monkey
>>Side Effects Software Inc.
>>
>>"A goddamned ray of sunshine all the goddamned time"
>>-- Sparkle Hayter
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13304-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 18 22:15:38 2005
Return-Path: <lucene-user-return-13304-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 41414 invoked from network); 18 Feb 2005 22:15:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Feb 2005 22:15:38 -0000
Received: (qmail 91966 invoked by uid 500); 18 Feb 2005 22:15:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 91930 invoked by uid 500); 18 Feb 2005 22:15:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 91900 invoked by uid 99); 18 Feb 2005 22:15:31 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from tor149-99-58-193.dedicated.sprintdsl.ca (HELO mail.sidefx.com) (149.99.58.193)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 18 Feb 2005 14:15:29 -0800
Received: from [192.168.234.27] (vienna.sidefx.com[192.168.234.27])
	by mail.sidefx.com (Smail-3.2.0.111 2000-Feb-17 #5; 2004-May-20)
	(1071 bytes) via sendmail with /P:esmtp/R:inet_hosts/T:smtp
	id <m1D2GOI-004bOiC@mail.sidefx.com>
	(sender <matt@sidefx.com>)
	for <lucene-user@jakarta.apache.org>; Fri, 18 Feb 2005 17:14:26 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <20050218214814.1147.qmail@web31111.mail.mud.yahoo.com>
References: <20050218214814.1147.qmail@web31111.mail.mud.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <fcdb3214a904dc8484beab2a74ee9310@sidefx.com>
Content-Transfer-Encoding: 7bit
From: Matt Chaput <matt@sidefx.com>
Subject: Re: Document comparison
Date: Fri, 18 Feb 2005 17:13:53 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

> Matt,
>
> Erik and I have some code for this in Lucene in Action, but David
> Spencer did this since the book was published:
>
>   http://www.lucenebook.com/blog/announcements/more_like_this.html
>
> Otis

Awesome awesome awesome! Thanks very much.

--
Matt Chaput
Word Monkey
Side Effects Software Inc.

"A goddamned ray of sunshine all the goddamned time"
-- Sparkle Hayter


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13305-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 18 22:21:22 2005
Return-Path: <lucene-user-return-13305-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 43558 invoked from network); 18 Feb 2005 22:21:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Feb 2005 22:21:22 -0000
Received: (qmail 5202 invoked by uid 500); 18 Feb 2005 22:21:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 5183 invoked by uid 500); 18 Feb 2005 22:21:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5170 invoked by uid 99); 18 Feb 2005 22:21:17 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of clamprecht@gmail.com designates 64.233.170.207 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.207)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 18 Feb 2005 14:21:16 -0800
Received: by rproxy.gmail.com with SMTP id z35so599rne
        for <lucene-user@jakarta.apache.org>; Fri, 18 Feb 2005 14:21:01 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=tMkRbiNiHkEhRpS85r46ZA2UkQOJhtWxOchayBSkelqDEQKi+ArM5L/zCak9vaRgRLEdyhoHGPg0pnxrm+5qFkudWYUj9OJWgr8RulxJg7xhjAb7gC08MybEHQW0gMRJnQzj+YQ9qupE8K6ZKar0mtGNoEU2eI05S56r3s5oYyk=
Received: by 10.38.101.15 with SMTP id y15mr14154rnb;
        Fri, 18 Feb 2005 14:12:48 -0800 (PST)
Received: by 10.38.104.15 with HTTP; Fri, 18 Feb 2005 14:12:48 -0800 (PST)
Message-ID: <88c6a67205021814126e4fb0de@mail.gmail.com>
Date: Fri, 18 Feb 2005 16:12:48 -0600
From: Chris Lamprecht <clamprecht@gmail.com>
Reply-To: Chris Lamprecht <clamprecht@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Search Performance
In-Reply-To: <20050218214138.58201.qmail@web31101.mail.mud.yahoo.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <88c6a6720502181313546291f0@mail.gmail.com>
	 <20050218214138.58201.qmail@web31101.mail.mud.yahoo.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Wouldn't this leave open file handles?   I had a problem where there
were lots of open file handles for deleted index files, because the
old searchers were not being closed.

On Fri, 18 Feb 2005 13:41:37 -0800 (PST), Otis Gospodnetic
<otis_gospodnetic@yahoo.com> wrote:
> Or you could just open a new IndexSearcher, forget the old one, and
> have GC collect it when everyone is done with it.
> 
> Otis
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13306-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 18 22:23:39 2005
Return-Path: <lucene-user-return-13306-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 45077 invoked from network); 18 Feb 2005 22:23:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Feb 2005 22:23:39 -0000
Received: (qmail 12574 invoked by uid 500); 18 Feb 2005 22:23:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 12514 invoked by uid 500); 18 Feb 2005 22:23:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12222 invoked by uid 99); 18 Feb 2005 22:23:30 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from server1.hostmon.com (HELO server1.hostmon.com) (66.139.76.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 18 Feb 2005 14:23:29 -0800
Received: (qmail 24097 invoked by uid 532); 18 Feb 2005 22:23:11 -0000
Received: from dave-lucene-user@tropo.com by server1.hostmon.com by uid 0 with qmail-scanner-1.16 
 (spamassassin: 3.0.0.  Clear:. 
 Processed in 0.216411 secs); 18 Feb 2005 22:23:11 -0000
Received: from unknown (HELO ?172.31.1.2?) (127.0.0.1)
  by 0 with SMTP; 18 Feb 2005 22:23:11 -0000
Message-ID: <42166ADE.7070701@tropo.com>
Date: Fri, 18 Feb 2005 14:23:26 -0800
From: David Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.5) Gecko/20041217
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
CC:  puff@darksleep.com
Subject: Re: Lucene vs. in-DB-full-text-searching
References: <20050218213840.80103.qmail@web31107.mail.mud.yahoo.com>
In-Reply-To: <20050218213840.80103.qmail@web31107.mail.mud.yahoo.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Otis Gospodnetic wrote:

> The most obvious answer is that the full-text indexing features of
> RDBMS's are not as good (as fast) as Lucene.  MySQL, PostgreSQL,
> Oracle, MS SQL Server etc. all have full-text indexing/searching
> features, 
> but I always hear people complaining about the speed. 

Yeah, but in theory, in the ideal world :), it should't be any slower - 
there's no magic Lucene has that DB's don't.  And the big advantage of 
it being embedded in the DB is the index can always be up to date, just 
as if you had Lucene updating the index based on a trigger. You don't 
need any separate cron job to periodically update the index.

But this brings up - has anyone run Lucene off a database trigger or are 
  triggers known to be slow and bad for this use?

> A
> person from a well-known online bookseller told me recently that Lucene
> was about 10x faster that MySQL for full-text searching, and I am
> currently helping someone get away from MySQL and into Lucene for
> performance reasons.
> 
> Otis
> 
> 
> 
> 
> --- "Steven J. Owens" <puffmail@darksleep.com> wrote:
> 
> 
>>Hi,
>>
>>     I was rambling to some friends about an idea to build a
>>cache-aware JDBC driver wrapper, to make it easier to keep a lucene
>>index of a database up to date.
>>
>>     They asked me a question that I have to take seriously, which is
>>that most RDBMSes provide some built-in fulltext searching -
>>postgres,
>>mysql, even oracle - why not use that instead of adding another layer
>>of caching?
>>
>>     I have to take this question seriously, especially since it
>>reminds me a lot of what Doug has often said to folks contemplating
>>doing similar things (caching query results, etc) with Lucene.
>>
>>     Has anybody done some serious investigation into this, and could
>>summarize the pros and cons?
>>
>>-- 
>>Steven J. Owens
>>puff@darksleep.com
>>
>>"I'm going to make broad, sweeping generalizations and strong,
>> declarative statements, because otherwise I'll be here all night and
>> this document will be four times longer and much less fun to read.
>> Take it all with a grain of salt." - http://darksleep.com/notablog
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13307-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 18 22:29:57 2005
Return-Path: <lucene-user-return-13307-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 47363 invoked from network); 18 Feb 2005 22:29:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Feb 2005 22:29:57 -0000
Received: (qmail 21595 invoked by uid 500); 18 Feb 2005 22:29:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 21565 invoked by uid 500); 18 Feb 2005 22:29:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21551 invoked by uid 99); 18 Feb 2005 22:29:52 -0000
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web31111.mail.mud.yahoo.com (HELO web31111.mail.mud.yahoo.com) (68.142.200.230)
  by apache.org (qpsmtpd/0.28) with SMTP; Fri, 18 Feb 2005 14:29:51 -0800
Received: (qmail 15828 invoked by uid 60001); 18 Feb 2005 22:29:49 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=kU7rVfaUwrVatEMrAENQnwRnv6LxGIiBNONEtf1I105X4nzxUBoll4FQ7TXvR9mYsb522WopywfENbnnYvBT5XiXg1juj3ydZ5HC1fzmiHmuXUKm6EcyrAqogsHQ9eOYQ0gmWZr9g5fxinuWxN/jXKtTOAXkuf2FBorbSGxtak0=  ;
Message-ID: <20050218222949.15826.qmail@web31111.mail.mud.yahoo.com>
Received: from [216.194.17.194] by web31111.mail.mud.yahoo.com via HTTP; Fri, 18 Feb 2005 14:29:49 PST
Date: Fri, 18 Feb 2005 14:29:49 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Search Performance
To: Lucene Users List <lucene-user@jakarta.apache.org>,
  Chris Lamprecht <clamprecht@gmail.com>
In-Reply-To: <88c6a67205021814126e4fb0de@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Yes, until it's cleaned up, and as soon as the last client is done with
Hits, the originating IndexSearcher is ready for cleanup if nobody else
is holding references to it.  You can close it explicityly, as you are
doing, too, no harm.

Otis

--- Chris Lamprecht <clamprecht@gmail.com> wrote:

> Wouldn't this leave open file handles?   I had a problem where there
> were lots of open file handles for deleted index files, because the
> old searchers were not being closed.
> 
> On Fri, 18 Feb 2005 13:41:37 -0800 (PST), Otis Gospodnetic
> <otis_gospodnetic@yahoo.com> wrote:
> > Or you could just open a new IndexSearcher, forget the old one, and
> > have GC collect it when everyone is done with it.
> > 
> > Otis
> >
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13308-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 18 22:31:38 2005
Return-Path: <lucene-user-return-13308-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 47970 invoked from network); 18 Feb 2005 22:31:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Feb 2005 22:31:37 -0000
Received: (qmail 24283 invoked by uid 500); 18 Feb 2005 22:31:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 23882 invoked by uid 500); 18 Feb 2005 22:31:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23855 invoked by uid 99); 18 Feb 2005 22:31:33 -0000
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web31106.mail.mud.yahoo.com (HELO web31106.mail.mud.yahoo.com) (68.142.200.39)
  by apache.org (qpsmtpd/0.28) with SMTP; Fri, 18 Feb 2005 14:31:32 -0800
Received: (qmail 70597 invoked by uid 60001); 18 Feb 2005 22:31:30 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=ckwkNJ74LbNtExslVhFGk4DsAEnO9eFctp83FWOFizFIk8vsOGFYlFmjfwF574NbLUefCrVHbqftxEBK1nzVTGpSXBLq3dsBgZXw+szy+rmUmhD8BLg7dWHJ0SHISckvEwR5V0UaFLN1WjPibzKVonEadLhUK0PojGs03O7yS2o=  ;
Message-ID: <20050218223130.70595.qmail@web31106.mail.mud.yahoo.com>
Received: from [216.194.17.194] by web31106.mail.mud.yahoo.com via HTTP; Fri, 18 Feb 2005 14:31:30 PST
Date: Fri, 18 Feb 2005 14:31:30 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Lucene vs. in-DB-full-text-searching
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <42166ADE.7070701@tropo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

You are right.
Since there are C++ and now C ports of Lucene, it would be interesting
to integrate them directly with DBs, so that the RDBMS full-text search
under the hood is actually powered by one of the Lucene ports.

Otis

--- David Spencer <dave-lucene-user@tropo.com> wrote:

> Otis Gospodnetic wrote:
> 
> > The most obvious answer is that the full-text indexing features of
> > RDBMS's are not as good (as fast) as Lucene.  MySQL, PostgreSQL,
> > Oracle, MS SQL Server etc. all have full-text indexing/searching
> > features, 
> > but I always hear people complaining about the speed. 
> 
> Yeah, but in theory, in the ideal world :), it should't be any slower
> - 
> there's no magic Lucene has that DB's don't.  And the big advantage
> of 
> it being embedded in the DB is the index can always be up to date,
> just 
> as if you had Lucene updating the index based on a trigger. You don't
> 
> need any separate cron job to periodically update the index.
> 
> But this brings up - has anyone run Lucene off a database trigger or
> are 
>   triggers known to be slow and bad for this use?
> 
> > A
> > person from a well-known online bookseller told me recently that
> Lucene
> > was about 10x faster that MySQL for full-text searching, and I am
> > currently helping someone get away from MySQL and into Lucene for
> > performance reasons.
> > 
> > Otis
> > 
> > 
> > 
> > 
> > --- "Steven J. Owens" <puffmail@darksleep.com> wrote:
> > 
> > 
> >>Hi,
> >>
> >>     I was rambling to some friends about an idea to build a
> >>cache-aware JDBC driver wrapper, to make it easier to keep a lucene
> >>index of a database up to date.
> >>
> >>     They asked me a question that I have to take seriously, which
> is
> >>that most RDBMSes provide some built-in fulltext searching -
> >>postgres,
> >>mysql, even oracle - why not use that instead of adding another
> layer
> >>of caching?
> >>
> >>     I have to take this question seriously, especially since it
> >>reminds me a lot of what Doug has often said to folks contemplating
> >>doing similar things (caching query results, etc) with Lucene.
> >>
> >>     Has anybody done some serious investigation into this, and
> could
> >>summarize the pros and cons?
> >>
> >>-- 
> >>Steven J. Owens
> >>puff@darksleep.com
> >>
> >>"I'm going to make broad, sweeping generalizations and strong,
> >> declarative statements, because otherwise I'll be here all night
> and
> >> this document will be four times longer and much less fun to read.
> >> Take it all with a grain of salt." - http://darksleep.com/notablog
> >>
> >>
>
>>---------------------------------------------------------------------
> >>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >>For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> >>
> >>
> > 
> > 
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> > 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13309-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 18 22:40:31 2005
Return-Path: <lucene-user-return-13309-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 50660 invoked from network); 18 Feb 2005 22:40:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Feb 2005 22:40:30 -0000
Received: (qmail 41973 invoked by uid 500); 18 Feb 2005 22:40:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 41951 invoked by uid 500); 18 Feb 2005 22:40:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 41938 invoked by uid 99); 18 Feb 2005 22:40:26 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 18 Feb 2005 14:40:24 -0800
Received: from p001002 ([204.225.84.27]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Fri, 18 Feb 2005 17:44:53 -0500
Message-ID: <02e301c5160b$761053c0$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: More Analyzer Question
Date: Fri, 18 Feb 2005 17:44:52 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 18 Feb 2005 22:44:53.0204 (UTC) FILETIME=[761DC140:01C5160B]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I have created an Analyzer that I think should just be converting to lower
case and add synonyms in the index (it is at the end of the email).

The problem is, after running it I get one more result than I was expecting
(Document 1 should not be there):

Running testNameCombination1, expecting: 1 result
The query: +(type:138) +(name:mario*) returned 2

Start Listing documents:

Document: 0 contains:
Name: Text<name:mario test>
Desc: Text<desc:this is test from mario>


Document: 1 contains:
Name: Text<name:test mario>
Desc: Text<desc:retro>

End Listing documents

Those same 2 documents in Luke look like this:

Document 0
Text<name:mario test>
Text<desc:this is test from mario>

Document 1
Text<name:test mario>
Text<desc:retro>

That looks correct to me. The query shouldn't match Document 1.

The analzyer used on this field is below and is applied like so:

//set the default
PerFieldAnalyzerWrapper analyzer = new PerFieldAnalyzerWrapper(new
SynonymAnalyzer(new FBSynonymEngine()));

//the analyzer for the name field (only converts to lower case and adds
synonyms
analyzer.addAnalyzer("name", new KeywordSynonymAnalyzer(new
FBSynonymEngine()));

Any help would be appreciated.

Thanks,

Luke


import org.apache.lucene.analysis.*;
import java.io.Reader;

public class KeywordSynonymAnalyzer extends Analyzer {
    private SynonymEngine engine;

    public KeywordSynonymAnalyzer(SynonymEngine engine) {
        this.engine = engine;
    }

    public TokenStream tokenStream(String fieldName, Reader reader) {
        TokenStream result = new SynonymFilter(new
LowerCaseTokenizer(reader), engine);
        return result;
    }
}







Luke Shannon | Software Developer
FutureBrand Toronto

207 Queen's Quay, Suite 400
Toronto, ON, M5J 1A7
416 642 7935 (office)



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13310-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 18 23:37:37 2005
Return-Path: <lucene-user-return-13310-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 73285 invoked from network); 18 Feb 2005 23:37:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Feb 2005 23:37:36 -0000
Received: (qmail 24469 invoked by uid 500); 18 Feb 2005 23:37:33 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 24441 invoked by uid 500); 18 Feb 2005 23:37:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24427 invoked by uid 99); 18 Feb 2005 23:37:33 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp-vbr6.xs4all.nl (HELO smtp-vbr6.xs4all.nl) (194.109.24.26)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 18 Feb 2005 15:37:31 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr6.xs4all.nl (8.12.11/8.12.11) with ESMTP id j1INbROT010316
	for <lucene-user@jakarta.apache.org>; Sat, 19 Feb 2005 00:37:27 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: lucene-user@jakarta.apache.org
Subject: Re: Lucene in the Humanities
Date: Sat, 19 Feb 2005 00:37:27 +0100
User-Agent: KMail/1.5.4
References: <662e054f8caea1c0887a35a43c1313f1@ehatchersolutions.com> <200502182147.32366.paul.elschot@xs4all.nl> <5d863839e8d8333e3d29310bfb887308@ehatchersolutions.com>
In-Reply-To: <5d863839e8d8333e3d29310bfb887308@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200502190037.27537.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Friday 18 February 2005 21:55, Erik Hatcher wrote:
> 
> On Feb 18, 2005, at 3:47 PM, Paul Elschot wrote:
> 
> > Erik,
> >
> > Just curious: it would seem easier to use multiple fields for the
> > original case and lowercase searching. Is there any particular reason
> > you analyzed the documents to multiple indexes instead of multiple 
> > fields?
> 
> I considered that approach, however to expose QueryParser I'd have to 
> get tricky.  If I have title_orig and title_lc fields, how would I 
> allow freeform queries of title:something?

By lowercasing the querytext and searching in title_lc ?

Regards,
Paul Elschot.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13311-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 18 23:44:10 2005
Return-Path: <lucene-user-return-13311-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 77137 invoked from network); 18 Feb 2005 23:44:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 18 Feb 2005 23:44:10 -0000
Received: (qmail 41594 invoked by uid 500); 18 Feb 2005 23:44:05 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 41560 invoked by uid 500); 18 Feb 2005 23:44:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 41546 invoked by uid 99); 18 Feb 2005 23:44:05 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp002.mail.ukl.yahoo.com (HELO smtp002.mail.ukl.yahoo.com) (217.12.11.33)
  by apache.org (qpsmtpd/0.28) with SMTP; Fri, 18 Feb 2005 15:44:03 -0800
Received: from unknown (HELO ?10.0.0.1?) (markharw00d@194.106.34.5 with plain)
  by smtp002.mail.ukl.yahoo.com with SMTP; 18 Feb 2005 23:44:01 -0000
Message-ID: <42167DC9.1010105@yahoo.co.uk>
Date: Fri, 18 Feb 2005 23:44:09 +0000
From: markharw00d <markharw00d@yahoo.co.uk>
User-Agent: Mozilla Thunderbird 0.8 (Windows/20040913)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene vs. in-DB-full-text-searching
References: <20050218213840.80103.qmail@web31107.mail.mud.yahoo.com> <42166ADE.7070701@tropo.com>
In-Reply-To: <42166ADE.7070701@tropo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

 >>But this brings up - has anyone run Lucene off a database trigger or 
are  triggers known to be slow and bad for this use?

I suspect the tricky bit would be knowing when to balancing the calls to 
Reader/Writer closes, opens and optimizes.
Record updates are the usual fun and games involving a reader.delete and 
a document.write.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13312-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Feb 19 00:15:41 2005
Return-Path: <lucene-user-return-13312-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 86179 invoked from network); 19 Feb 2005 00:15:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 Feb 2005 00:15:40 -0000
Received: (qmail 68606 invoked by uid 500); 19 Feb 2005 00:15:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 68579 invoked by uid 500); 19 Feb 2005 00:15:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68565 invoked by uid 99); 19 Feb 2005 00:15:37 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from server1.hostmon.com (HELO server1.hostmon.com) (66.139.76.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 18 Feb 2005 16:15:36 -0800
Received: (qmail 341 invoked by uid 532); 19 Feb 2005 00:15:18 -0000
Received: from dave-lucene-user@tropo.com by server1.hostmon.com by uid 0 with qmail-scanner-1.16 
 (spamassassin: 3.0.0.  Clear:. 
 Processed in 0.107423 secs); 19 Feb 2005 00:15:18 -0000
Received: from unknown (HELO ?172.31.1.2?) (127.0.0.1)
  by 0 with SMTP; 19 Feb 2005 00:15:18 -0000
Message-ID: <42168524.1060100@tropo.com>
Date: Fri, 18 Feb 2005 16:15:32 -0800
From: David Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.5) Gecko/20041217
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene vs. in-DB-full-text-searching
References: <20050218213840.80103.qmail@web31107.mail.mud.yahoo.com> <42166ADE.7070701@tropo.com> <42167DC9.1010105@yahoo.co.uk>
In-Reply-To: <42167DC9.1010105@yahoo.co.uk>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

markharw00d wrote:

>  >>But this brings up - has anyone run Lucene off a database trigger or 
> are  triggers known to be slow and bad for this use?
> 
> I suspect the tricky bit would be knowing when to balancing the calls to 
> Reader/Writer closes, opens and optimizes.
> Record updates are the usual fun and games involving a reader.delete and 
> a document.write.

I agree this is the usual tricky/"fun" thing.
In similar situations I have:
- batched the updates in, well, sort of a "queue"
- flushed the "queue" after "t" seconds or "n" documents (e.g. t=60sec, 
n=1000 docs)

Part of the trick is a document that changes multiple times during one 
of these periods - if you have a "add queue" and a "delete queue" then 
you'll probably have the wrong index with the doc either zero times or 
more than one time - not impossible to cover, just something to keep in mind

- Dave

> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13313-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Feb 19 00:34:01 2005
Return-Path: <lucene-user-return-13313-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 91147 invoked from network); 19 Feb 2005 00:34:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 Feb 2005 00:34:01 -0000
Received: (qmail 87661 invoked by uid 500); 19 Feb 2005 00:33:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 87120 invoked by uid 500); 19 Feb 2005 00:33:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 87106 invoked by uid 99); 19 Feb 2005 00:33:48 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 18 Feb 2005 16:33:47 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 89F5813E2005; Fri, 18 Feb 2005 19:33:45 -0500 (EST)
Received: from [192.168.1.100] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id C268A13E2005
	for <lucene-user@jakarta.apache.org>; Fri, 18 Feb 2005 19:33:30 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <200502190037.27537.paul.elschot@xs4all.nl>
References: <662e054f8caea1c0887a35a43c1313f1@ehatchersolutions.com> <200502182147.32366.paul.elschot@xs4all.nl> <5d863839e8d8333e3d29310bfb887308@ehatchersolutions.com> <200502190037.27537.paul.elschot@xs4all.nl>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <34208ca71d3d85336071fe8fe8cb9c7e@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Lucene in the Humanities
Date: Fri, 18 Feb 2005 19:33:07 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.4 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Feb 18, 2005, at 6:37 PM, Paul Elschot wrote:

> On Friday 18 February 2005 21:55, Erik Hatcher wrote:
>>
>> On Feb 18, 2005, at 3:47 PM, Paul Elschot wrote:
>>
>>> Erik,
>>>
>>> Just curious: it would seem easier to use multiple fields for the
>>> original case and lowercase searching. Is there any particular reason
>>> you analyzed the documents to multiple indexes instead of multiple
>>> fields?
>>
>> I considered that approach, however to expose QueryParser I'd have to
>> get tricky.  If I have title_orig and title_lc fields, how would I
>> allow freeform queries of title:something?
>
> By lowercasing the querytext and searching in title_lc ?

Well sure, but how about this query:

	title:Something AND anotherField:someOtherValue

QueryParser, as-is, won't be able to do field-name swapping.  I could 
certainly apply that technique on all the structured queries that I 
build up with the API, but with QueryParser it is trickier.   I'm 
definitely open for suggestions on improving how case is handled.  The 
only drawback now is that I'm duplicating indexes, but that is only an 
issue in how long it takes to rebuild the index from scratch (currently 
about 20 minutes or so on a good day - when the machine isn't swamped).

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13314-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Feb 19 08:52:27 2005
Return-Path: <lucene-user-return-13314-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 63415 invoked from network); 19 Feb 2005 08:52:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 Feb 2005 08:52:27 -0000
Received: (qmail 98609 invoked by uid 500); 19 Feb 2005 08:52:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 98586 invoked by uid 500); 19 Feb 2005 08:52:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98572 invoked by uid 99); 19 Feb 2005 08:52:14 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp-vbr15.xs4all.nl (HELO smtp-vbr15.xs4all.nl) (194.109.24.35)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sat, 19 Feb 2005 00:52:12 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr15.xs4all.nl (8.12.11/8.12.11) with ESMTP id j1J8q9KA055489
	for <lucene-user@jakarta.apache.org>; Sat, 19 Feb 2005 09:52:09 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: lucene-user@jakarta.apache.org
Subject: Re: Lucene in the Humanities
Date: Sat, 19 Feb 2005 09:52:08 +0100
User-Agent: KMail/1.5.4
References: <662e054f8caea1c0887a35a43c1313f1@ehatchersolutions.com> <200502190037.27537.paul.elschot@xs4all.nl> <34208ca71d3d85336071fe8fe8cb9c7e@ehatchersolutions.com>
In-Reply-To: <34208ca71d3d85336071fe8fe8cb9c7e@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200502190952.08952.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Erik,

On Saturday 19 February 2005 01:33, Erik Hatcher wrote:
> 
> On Feb 18, 2005, at 6:37 PM, Paul Elschot wrote:
> 
> > On Friday 18 February 2005 21:55, Erik Hatcher wrote:
> >>
> >> On Feb 18, 2005, at 3:47 PM, Paul Elschot wrote:
> >>
> >>> Erik,
> >>>
> >>> Just curious: it would seem easier to use multiple fields for the
> >>> original case and lowercase searching. Is there any particular reason
> >>> you analyzed the documents to multiple indexes instead of multiple
> >>> fields?
> >>
> >> I considered that approach, however to expose QueryParser I'd have to
> >> get tricky.  If I have title_orig and title_lc fields, how would I
> >> allow freeform queries of title:something?
> >
> > By lowercasing the querytext and searching in title_lc ?
> 
> Well sure, but how about this query:
> 
> 	title:Something AND anotherField:someOtherValue
> 
> QueryParser, as-is, won't be able to do field-name swapping.  I could 
> certainly apply that technique on all the structured queries that I 
> build up with the API, but with QueryParser it is trickier.   I'm 
> definitely open for suggestions on improving how case is handled.  The 

Overriding this (1.4.3 QueryParser.jj, line 286) might work:

protected Query getFieldQuery(String field, String queryText)
throws ParseException { ... }

It will be called by the parser for both parts of the query above, so one
could change the field depending on the requested type of search
and the field name in the query.

> only drawback now is that I'm duplicating indexes, but that is only an 
> issue in how long it takes to rebuild the index from scratch (currently 
> about 20 minutes or so on a good day - when the machine isn't swamped).

Once the users get the hang of this, you might end up having to quadruple
the index, or more.

Regards,
Paul Elschot


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13315-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Feb 19 09:24:59 2005
Return-Path: <lucene-user-return-13315-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 70930 invoked from network); 19 Feb 2005 09:24:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 Feb 2005 09:24:59 -0000
Received: (qmail 22086 invoked by uid 500); 19 Feb 2005 09:24:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 21215 invoked by uid 500); 19 Feb 2005 09:24:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21201 invoked by uid 99); 19 Feb 2005 09:24:55 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web50708.mail.yahoo.com (HELO web50708.mail.yahoo.com) (206.190.38.106)
  by apache.org (qpsmtpd/0.28) with SMTP; Sat, 19 Feb 2005 01:24:54 -0800
Received: (qmail 96629 invoked by uid 60001); 19 Feb 2005 09:24:52 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=PixY6GBggzHWYZZkT/MxOE4u02gcX4WyC7QC2nOuoNC50dQMplKERQ3lBi4gSmTXQ1q4Cq4muws/4V0ZqaBesOD1WZl3uZ6UZFOKWLi6tGwJBPEeDGdb4+6TArpAUvPJFpkxupsp2XlHyEkmgtobGn9N4DEO3ixiKcvmn/vwWGc=  ;
Message-ID: <20050219092452.96627.qmail@web50708.mail.yahoo.com>
Received: from [216.41.121.155] by web50708.mail.yahoo.com via HTTP; Sat, 19 Feb 2005 01:24:52 PST
Date: Sat, 19 Feb 2005 01:24:52 -0800 (PST)
From: Andy <angelflow@yahoo.com>
Subject: Re: Scalability of Lucene indexes
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <1108759513.2252.29.camel@localhost>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Bryan,

How big is your index?

Also what is the advantage of binding a user to a
server? 

Thanks.
Andy

--- Bryan McCormick <bryan.mccormick@cnet.com> wrote:

> Hi chris, 
> 
> I'm responsible for the webshots.com search index
> and we've had very
> good results with lucene. It currently indexes over
> 100 Million
> documents and performs 4 Million searches / day. 
> 
> We initially tested running multiple small copies
> and using a
> MultiSearcher and then merging results as compared
> to running a very
> large single index. We actually found that the
> single large instance
> performed better. To improve load handling we
> clustered multiple
> identical copies together, then session bind a user
> to particular server
> and cache the results, but each server is running a
> single index. 
> 
> Bryan McCormick
> 
> 
> On Fri, 2005-02-18 at 08:01, Chris D wrote: 
> > Hi all, 
> > 
> > I have a question about scaling lucene across a
> cluster, and good ways
> > of breaking up the work.
> > 
> > We have a very large index and searches sometimes
> take more time than
> > they're allowed. What we have been doing is during
> indexing we index
> > into 256 seperate indexes (depending on the
> md5sum) then distribute
> > the indexes to the search machines. So if a
> machine has 128 indexes it
> > would have to do 128 searches. I gave
> parallelMultiSearcher a try and
> > it was significantly slower than simply iterating
> through the indexes
> > one at a time.
> > 
> > Our new plan is to somehow have only one index per
> search machine and
> > a larger main index stored on the master.
> > 
> > What I'm interested to know is whether having one
> extremely large
> > index for the master then splitting the index into
> several smaller
> > indexes (if this is possible) would be better than
> having several
> > smaller indexes and merging them on the search
> machines into one
> > index.
> > 
> > I would also be interested to know how others have
> divided up search
> > work across a cluster.
> > 
> > Thanks,
> > Chris
> > 
> >
>
---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> > 
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail:
> lucene-user-help@jakarta.apache.org
> 
> 


__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13316-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Feb 19 10:03:06 2005
Return-Path: <lucene-user-return-13316-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 79687 invoked from network); 19 Feb 2005 10:03:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 Feb 2005 10:03:06 -0000
Received: (qmail 46114 invoked by uid 500); 19 Feb 2005 10:03:03 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 46086 invoked by uid 500); 19 Feb 2005 10:03:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 46073 invoked by uid 99); 19 Feb 2005 10:03:03 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sat, 19 Feb 2005 02:03:01 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id A7CF413E2006; Sat, 19 Feb 2005 05:02:57 -0500 (EST)
Received: from [192.168.1.100] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id 935AB13E2005
	for <lucene-user@jakarta.apache.org>; Sat, 19 Feb 2005 05:02:24 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <200502190952.08952.paul.elschot@xs4all.nl>
References: <662e054f8caea1c0887a35a43c1313f1@ehatchersolutions.com> <200502190037.27537.paul.elschot@xs4all.nl> <34208ca71d3d85336071fe8fe8cb9c7e@ehatchersolutions.com> <200502190952.08952.paul.elschot@xs4all.nl>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <53fad6e36f1a75ef35d9e58ab539d660@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Lucene in the Humanities
Date: Sat, 19 Feb 2005 05:02:16 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.4 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Feb 19, 2005, at 3:52 AM, Paul Elschot wrote:
>>> By lowercasing the querytext and searching in title_lc ?
>>
>> Well sure, but how about this query:
>>
>> 	title:Something AND anotherField:someOtherValue
>>
>> QueryParser, as-is, won't be able to do field-name swapping.  I could
>> certainly apply that technique on all the structured queries that I
>> build up with the API, but with QueryParser it is trickier.   I'm
>> definitely open for suggestions on improving how case is handled.  The
>
> Overriding this (1.4.3 QueryParser.jj, line 286) might work:
>
> protected Query getFieldQuery(String field, String queryText)
> throws ParseException { ... }
>
> It will be called by the parser for both parts of the query above, so 
> one
> could change the field depending on the requested type of search
> and the field name in the query.

But that wouldn't work for any other type of query.... 
title:somethingFuzzy~

Though now that I think more about it, a simple s/title:/title_orig:/ 
before parsing would work, and of course make the default field 
dynamic.   I need to evaluate how many fields would need to be done 
this way - it'd be several.  Thanks for the food for thought!

>> only drawback now is that I'm duplicating indexes, but that is only an
>> issue in how long it takes to rebuild the index from scratch 
>> (currently
>> about 20 minutes or so on a good day - when the machine isn't 
>> swamped).
>
> Once the users get the hang of this, you might end up having to 
> quadruple
> the index, or more.

Why would that be?   They want a case sensitive/insensitive switch.  
How would it expand beyond that?

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13317-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Feb 19 10:16:29 2005
Return-Path: <lucene-user-return-13317-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 83338 invoked from network); 19 Feb 2005 10:16:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 Feb 2005 10:16:29 -0000
Received: (qmail 60890 invoked by uid 500); 19 Feb 2005 10:16:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 60861 invoked by uid 500); 19 Feb 2005 10:16:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 60847 invoked by uid 99); 19 Feb 2005 10:16:26 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO darksleep.com) (66.45.34.102)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sat, 19 Feb 2005 02:16:25 -0800
Received: by darksleep.com (Postfix, from userid 1009)
	id E814C1685A; Sat, 19 Feb 2005 05:16:56 -0500 (EST)
Date: Sat, 19 Feb 2005 05:16:56 -0500
From: "Steven J. Owens" <puffmail@darksleep.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene vs. in-DB-full-text-searching
Message-ID: <20050219101656.GW1805@darksleep.com>
Reply-To: puff@darksleep.com
References: <FB566CA0D9C5DF4186FF9A313C712DEC01139003@mail4.lic.corp.freshdirect.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <FB566CA0D9C5DF4186FF9A313C712DEC01139003@mail4.lic.corp.freshdirect.com>
Sender: Steven J.Owens <puffmail@darksleep.com>
User-Agent: Mutt/1.5.6+20040722i
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Fri, Feb 18, 2005 at 04:45:50PM -0500, Mike Rose wrote:
> I can comment on this since I'm in the middle of excising Oracle text
> searching and replacing it with Lucene in one of my projects.

     Intereseting, particularly as it's from somebody who's already
tried an existing in-db fulltext search feature.

> All in all, I don't think that a JDBC wrapper is going to do what
> you want.

     I wasn't thinking about trying to do the whole thing under the
JDBC driver.  Mainly I was thinking that one key point is that you
need to treat the lucene index somewhat like a cache.  This also means
that you have to watch database writes and make sure you update your
cache, which means you have to have some sort of single point of data
access to monitor.  Well, we already have that - it's called the JDBC
driver.

     The general design I was eyeing speculatively is basically that
the driver would be set up with a reference to an object that
implements a CacheManager interface.  This interface basically gives
the driver a way to notify the cache manager of when certain tables
and columns are being edited.  Exactly how is another question.  I
don't know enough of the innards of, say, a PreparedStatement, to say
more.  It could be as simple as sending the CacheManager a copy of
every SQL query string and letting the CacheManager figure out the
rest.  Ideally I'd like it to be a little bit more structured.

     From there, it's the CacheManager's job to decide what to do
about it, and how to do it.  This leaves the tricky issue of mapping
from a specific database to a specific lucene index up to the
developer.

-- 
Steven J. Owens
puff@darksleep.com

"I'm going to make broad, sweeping generalizations and strong,
 declarative statements, because otherwise I'll be here all night and
 this document will be four times longer and much less fun to read.
 Take it all with a grain of salt." - http://darksleep.com/notablog


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13318-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Feb 19 13:37:21 2005
Return-Path: <lucene-user-return-13318-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 39273 invoked from network); 19 Feb 2005 13:37:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 Feb 2005 13:37:21 -0000
Received: (qmail 34093 invoked by uid 500); 19 Feb 2005 13:37:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 33217 invoked by uid 500); 19 Feb 2005 13:37:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 33204 invoked by uid 99); 19 Feb 2005 13:37:17 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp-vbr11.xs4all.nl (HELO smtp-vbr11.xs4all.nl) (194.109.24.31)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sat, 19 Feb 2005 05:37:16 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr11.xs4all.nl (8.12.11/8.12.11) with ESMTP id j1JDbDWl026879
	for <lucene-user@jakarta.apache.org>; Sat, 19 Feb 2005 14:37:13 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: lucene-user@jakarta.apache.org
Subject: Re: Lucene in the Humanities
Date: Sat, 19 Feb 2005 14:37:12 +0100
User-Agent: KMail/1.5.4
References: <662e054f8caea1c0887a35a43c1313f1@ehatchersolutions.com> <200502190952.08952.paul.elschot@xs4all.nl> <53fad6e36f1a75ef35d9e58ab539d660@ehatchersolutions.com>
In-Reply-To: <53fad6e36f1a75ef35d9e58ab539d660@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200502191437.12557.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Saturday 19 February 2005 11:02, Erik Hatcher wrote:
> 
> On Feb 19, 2005, at 3:52 AM, Paul Elschot wrote:
> >>> By lowercasing the querytext and searching in title_lc ?
> >>
> >> Well sure, but how about this query:
> >>
> >> 	title:Something AND anotherField:someOtherValue
> >>
> >> QueryParser, as-is, won't be able to do field-name swapping.  I could
> >> certainly apply that technique on all the structured queries that I
> >> build up with the API, but with QueryParser it is trickier.   I'm
> >> definitely open for suggestions on improving how case is handled.  The
> >
> > Overriding this (1.4.3 QueryParser.jj, line 286) might work:
> >
> > protected Query getFieldQuery(String field, String queryText)
> > throws ParseException { ... }
> >
> > It will be called by the parser for both parts of the query above, so 
> > one
> > could change the field depending on the requested type of search
> > and the field name in the query.
> 
> But that wouldn't work for any other type of query.... 
> title:somethingFuzzy~

To get that it would be necessary to override all query parser
methods that take a field argument.

> 
> Though now that I think more about it, a simple s/title:/title_orig:/ 
> before parsing would work, and of course make the default field 

In the overriding getFieldQuery method something like:

if (caseSensitiveSearch(field) && originalFieldIndexed(field)) {
  field = field + "_orig";
} else { //the other 3 cases
 ...
}
return super.getFieldQuery(field, queryText);

The if statement could be factored out for the other overriding methods.

> dynamic.   I need to evaluate how many fields would need to be done 
> this way - it'd be several.  Thanks for the food for thought!
> 
> >> only drawback now is that I'm duplicating indexes, but that is only an
> >> issue in how long it takes to rebuild the index from scratch 
> >> (currently
> >> about 20 minutes or so on a good day - when the machine isn't 
> >> swamped).
> >
> > Once the users get the hang of this, you might end up having to 
> > quadruple
> > the index, or more.
> 
> Why would that be?   They want a case sensitive/insensitive switch.  
> How would it expand beyond that?

With an index for every combination of fields and case sensitivity for these
fields.

Regards,
Paul Elschot


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13319-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Feb 19 14:27:11 2005
Return-Path: <lucene-user-return-13319-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 67106 invoked from network); 19 Feb 2005 14:27:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 Feb 2005 14:27:11 -0000
Received: (qmail 64006 invoked by uid 500); 19 Feb 2005 14:26:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 63978 invoked by uid 500); 19 Feb 2005 14:26:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 63964 invoked by uid 99); 19 Feb 2005 14:26:58 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of newreaders@gmail.com designates 64.233.184.207 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.207)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sat, 19 Feb 2005 06:26:57 -0800
Received: by wproxy.gmail.com with SMTP id 71so782139wri
        for <lucene-user@jakarta.apache.org>; Sat, 19 Feb 2005 06:26:54 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type:content-transfer-encoding;
        b=PuNoQQggjQI461XHzjhlwlZc9Qi25sbyWwyclaytBiTBZxXtvSlZ+fw4gr/fQT8BjutakaUgK5RFHBIgzotr95BYwgOi8XMTajJf/E6fs10HmYm7xx1O3Qe13ZkJjUUWIbLpbmibWMGrXV2oectWXEC9oV7CdVhlTw89TIkN+ws=
Received: by 10.54.23.69 with SMTP id 69mr110539wrw;
        Sat, 19 Feb 2005 06:26:54 -0800 (PST)
Received: by 10.54.23.39 with HTTP; Sat, 19 Feb 2005 06:26:54 -0800 (PST)
Message-ID: <5f4a6461050219062643a4d065@mail.gmail.com>
Date: Sun, 20 Feb 2005 01:26:54 +1100
From: Ben <newreaders@gmail.com>
Reply-To: Ben <newreaders@gmail.com>
To: Lucene <lucene-user@jakarta.apache.org>
Subject: MultiFieldQueryParser 1.8 isn't parsing phrases
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi

When I try to search for phrases using the MultiFieldQueryParser v1.8
from CVS, it gives me NullPointerException.

Using the following keyword works:

title:"IBM backs linux"

However, it gives me the exception if I use the following keyword:

"IBM backs linux"

Any idea why? I am using this MultiFieldQueryParser with Lucene 1.4.3.
Of course I changed some of the boolean stuff to make it works with
the production release.

Thanks,
Ben

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13320-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Feb 19 14:35:04 2005
Return-Path: <lucene-user-return-13320-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 69047 invoked from network); 19 Feb 2005 14:35:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 Feb 2005 14:35:03 -0000
Received: (qmail 77562 invoked by uid 500); 19 Feb 2005 14:34:59 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 77533 invoked by uid 500); 19 Feb 2005 14:34:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 77514 invoked by uid 99); 19 Feb 2005 14:34:59 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from proserver2.ifit.uni-klu.ac.at (HELO proserver2.ifit.uni-klu.ac.at) (143.205.118.212)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sat, 19 Feb 2005 06:34:57 -0800
Received: from [143.205.118.98] ([143.205.118.98]) by proserver2.ifit.uni-klu.ac.at over TLS secured channel with Microsoft SMTPSVC(5.0.2195.6713);
	 Sat, 19 Feb 2005 15:34:52 +0100
Message-ID: <42174E8B.7080905@ifit.uni-klu.ac.at>
Date: Sat, 19 Feb 2005 15:34:51 +0100
From: sergiu gordea <gsergiu@ifit.uni-klu.ac.at>
User-Agent: Mozilla Thunderbird 0.7 (Windows/20040616)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Search Performance
References: <20050218165734.4C04316904@mail01.nyc-ofc.criticalmention.com>
In-Reply-To: <20050218165734.4C04316904@mail01.nyc-ofc.criticalmention.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 19 Feb 2005 14:34:52.0150 (UTC) FILETIME=[2C22B160:01C51690]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Michael Celona wrote:

>My index is changing in real time constantly... in this case I guess this
>will not work for me.... any suggestions...
>  
>
using a singleton pattern for the your index searcher makes sense anyway 
... I don'T think that you change
the index after each search. the computing effort is insignificant but 
the gain is.

How often do you optimize your index.
Run your jmeter tests before and after optimization!
Which is the value of your merge factor?
Try to use 2 or 3 and run the tests again.

 I think it will be useful for lucene community to provide the results 
of your tests.

 Best,

  Sergiu

>Michael
>
>-----Original Message-----
>From: David Townsend [mailto:david.townsend@magus.co.uk] 
>Sent: Friday, February 18, 2005 11:50 AM
>To: Lucene Users List
>Subject: RE: Search Performance
>
>IndexSearchers are thread safe, so you can use the same object on multiple
>requests.  If the index is static and not constantly updating, just keep one
>IndexSearcher for the life of the app.  If the index changes and you need
>that instantly reflected in the results, you need to check if the index has
>changed, if it has create a new cached IndexSearcher.  To check for changes
>use you'll need to monitor the version number of the index obtained via
>
>IndexReader.getCurrentVersion(Index Name)
>
>David
>
>-----Original Message-----
>From: Stefan Groschupf [mailto:sg@media-style.com]
>Sent: 18 February 2005 16:15
>To: Lucene Users List
>Subject: Re: Search Performance
>
>
>Try a singleton pattern or an static field.
>
>Stefan
>
>Michael Celona wrote:
>
>  
>
>>I am creating new IndexSearchers... how do I cache my IndexSearcher...
>>
>>Michael
>>
>>-----Original Message-----
>>From: David Townsend [mailto:david.townsend@magus.co.uk] 
>>Sent: Friday, February 18, 2005 11:00 AM
>>To: Lucene Users List
>>Subject: RE: Search Performance
>>
>>Are you creating new IndexSearchers or IndexReaders on each search?
>>    
>>
>Caching
>  
>
>>your IndexSearchers has a dramatic effect on speed.
>>
>>David Townsend
>>
>>-----Original Message-----
>>From: Michael Celona [mailto:mcelona@criticalmention.com]
>>Sent: 18 February 2005 15:55
>>To: Lucene Users List
>>Subject: Search Performance
>>
>>
>>What is single handedly the best way to improve search performance?  I have
>>an index in the 2G range stored on the local file system of the searcher.
>>Under a load test of 5 simultaneous users my average search time is ~4700
>>ms.  Under a load test of 10 simultaneous users my average search time is
>>~10000 ms.    I have given the JVM 2G of memory and am a using a dual 3GHz
>>Zeons.  Any ideas?  
>>
>>
>>
>>Michael
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>> 
>>
>>    
>>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>  
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13321-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Feb 19 15:08:02 2005
Return-Path: <lucene-user-return-13321-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 76535 invoked from network); 19 Feb 2005 15:08:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 Feb 2005 15:08:02 -0000
Received: (qmail 1175 invoked by uid 500); 19 Feb 2005 15:07:59 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 1143 invoked by uid 500); 19 Feb 2005 15:07:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1128 invoked by uid 99); 19 Feb 2005 15:07:59 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mailout09.sul.t-online.com (HELO mailout09.sul.t-online.com) (194.25.134.84)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sat, 19 Feb 2005 07:07:55 -0800
Received: from fwd08.aul.t-online.de 
	by mailout09.sul.t-online.com with smtp 
	id 1D2WD2-0007k0-05; Sat, 19 Feb 2005 16:07:52 +0100
Received: from pD9EBF176.dip.t-dialin.net (V+gcJGZHYes6jpM20lWhSCRxruGBgCLPlRixqE+dPqi+uu3zBWeV0s@[217.235.241.118]) by fmrl08.sul.t-online.com
	with esmtp id 1D2WD1-2Ic3cG0; Sat, 19 Feb 2005 16:07:51 +0100
From: Daniel Naber <daniel.naber@t-online.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: MultiFieldQueryParser 1.8 isn't parsing phrases
Date: Sat, 19 Feb 2005 16:09:49 +0100
User-Agent: KMail/1.7.1
References: <5f4a6461050219062643a4d065@mail.gmail.com>
In-Reply-To: <5f4a6461050219062643a4d065@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200502191609.49568@danielnaber.de>
X-ID: V+gcJGZHYes6jpM20lWhSCRxruGBgCLPlRixqE+dPqi+uu3zBWeV0s@t-dialin.net
X-TOI-MSGID: 1db57186-ff86-4410-85d4-9c79ae416370
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Saturday 19 February 2005 15:26, Ben wrote:

> When I try to search for phrases using the MultiFieldQueryParser v1.8
> from CVS, it gives me NullPointerException.

This has just been fixed in SVN (I assume you mean SVN, CVS still exists 
but is read only and probably not updated anymore).

Regards
 Daniel

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13322-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Feb 19 16:07:55 2005
Return-Path: <lucene-user-return-13322-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 93737 invoked from network); 19 Feb 2005 16:07:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 Feb 2005 16:07:55 -0000
Received: (qmail 59235 invoked by uid 500); 19 Feb 2005 16:07:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 59205 invoked by uid 500); 19 Feb 2005 16:07:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 59174 invoked by uid 99); 19 Feb 2005 16:07:51 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of newreaders@gmail.com designates 64.233.184.207 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.207)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sat, 19 Feb 2005 08:07:49 -0800
Received: by wproxy.gmail.com with SMTP id 71so793261wri
        for <lucene-user@jakarta.apache.org>; Sat, 19 Feb 2005 08:07:45 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=CQJY/Ki2xXdGEfke9BWs6vFpHNvbV2OKlDxhM7RrpGYmNfN5Ri0iZQbnySuO5tnyGdW/a0zBpMZkYWKAc5C7yUJgIHOOtsuEBDTqsFhmwfbRHqoIx8WpnBFFY8v6EBBpfqFO8/N3bHr8lF8iM61FIQgwCE5vejvEyLIcrQ/bl/k=
Received: by 10.54.15.15 with SMTP id 15mr108550wro;
        Sat, 19 Feb 2005 08:07:45 -0800 (PST)
Received: by 10.54.23.39 with HTTP; Sat, 19 Feb 2005 08:07:45 -0800 (PST)
Message-ID: <5f4a646105021908074fcd6364@mail.gmail.com>
Date: Sun, 20 Feb 2005 03:07:45 +1100
From: Ben <newreaders@gmail.com>
Reply-To: Ben <newreaders@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: MultiFieldQueryParser 1.8 isn't parsing phrases
In-Reply-To: <200502191609.49568@danielnaber.de>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <5f4a6461050219062643a4d065@mail.gmail.com>
	 <200502191609.49568@danielnaber.de>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thanks


On Sat, 19 Feb 2005 16:09:49 +0100, Daniel Naber
<daniel.naber@t-online.de> wrote:
> On Saturday 19 February 2005 15:26, Ben wrote:
> 
> > When I try to search for phrases using the MultiFieldQueryParser v1.8
> > from CVS, it gives me NullPointerException.
> 
> This has just been fixed in SVN (I assume you mean SVN, CVS still exists
> but is read only and probably not updated anymore).
> 
> Regards
>  Daniel
> 
> --
> http://www.danielnaber.de
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13323-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Feb 19 16:36:05 2005
Return-Path: <lucene-user-return-13323-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 3059 invoked from network); 19 Feb 2005 16:36:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 Feb 2005 16:36:05 -0000
Received: (qmail 82765 invoked by uid 500); 19 Feb 2005 16:36:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 82739 invoked by uid 500); 19 Feb 2005 16:36:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 82723 invoked by uid 99); 19 Feb 2005 16:36:01 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from host-64-65-202-3.pro.choiceone.net (HELO contextmedia.com) (64.65.202.3)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sat, 19 Feb 2005 08:35:59 -0800
Received: from ppeddi ([192.168.1.40]) by contextmedia.com ; Sat, 19 Feb 2005 11:35:45 -0500
Message-ID: <00f001c516a0$ea516b30$aa87a8c0@ppeddi>
From: "Praveen Peddi" <ppeddi@contextmedia.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <34cc3b0a05021808012afba734@mail.gmail.com> <1108759513.2252.29.camel@localhost>
Subject: Re: Scalability of Lucene indexes
Date: Sat, 19 Feb 2005 11:34:42 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=original
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.2180
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Rcpt-To: <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

We are doing the same exacting thing. We didn't test with so many documents. 
The most we tested till now 3 million documents with 3GB file size.
I would be interested in seeing how you maintained replicated indices that r 
in sync. The way we did was, run the indexer on each server independently. I 
the data changes, one server will know the change. That server updates 
lucene index and notifies other servers (using multicast).

Glad to know someone else is doing the similar thing and more happy to know 
that the solution works even for 100 millions documents. I was little 
worried if the index size goes higher and higher but it looks like we should 
not have to worry anymore :)

Thanks
Praveen
----- Original Message ----- 
From: "Bryan McCormick" <bryan.mccormick@cnet.com>
To: "Chris D" <brogar@gmail.com>
Cc: <lucene-user@jakarta.apache.org>
Sent: Friday, February 18, 2005 3:45 PM
Subject: Re: Scalability of Lucene indexes


> Hi chris,
>
> I'm responsible for the webshots.com search index and we've had very
> good results with lucene. It currently indexes over 100 Million
> documents and performs 4 Million searches / day.
>
> We initially tested running multiple small copies and using a
> MultiSearcher and then merging results as compared to running a very
> large single index. We actually found that the single large instance
> performed better. To improve load handling we clustered multiple
> identical copies together, then session bind a user to particular server
> and cache the results, but each server is running a single index.
>
> Bryan McCormick
>
>
> On Fri, 2005-02-18 at 08:01, Chris D wrote:
>> Hi all,
>>
>> I have a question about scaling lucene across a cluster, and good ways
>> of breaking up the work.
>>
>> We have a very large index and searches sometimes take more time than
>> they're allowed. What we have been doing is during indexing we index
>> into 256 seperate indexes (depending on the md5sum) then distribute
>> the indexes to the search machines. So if a machine has 128 indexes it
>> would have to do 128 searches. I gave parallelMultiSearcher a try and
>> it was significantly slower than simply iterating through the indexes
>> one at a time.
>>
>> Our new plan is to somehow have only one index per search machine and
>> a larger main index stored on the master.
>>
>> What I'm interested to know is whether having one extremely large
>> index for the master then splitting the index into several smaller
>> indexes (if this is possible) would be better than having several
>> smaller indexes and merging them on the search machines into one
>> index.
>>
>> I would also be interested to know how others have divided up search
>> work across a cluster.
>>
>> Thanks,
>> Chris
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13324-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Feb 19 18:00:01 2005
Return-Path: <lucene-user-return-13324-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 40242 invoked from network); 19 Feb 2005 18:00:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 Feb 2005 18:00:00 -0000
Received: (qmail 85979 invoked by uid 500); 19 Feb 2005 17:59:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 85949 invoked by uid 500); 19 Feb 2005 17:59:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85935 invoked by uid 99); 19 Feb 2005 17:59:57 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from sparta.hostgo.com (HELO sparta.hostgo.com) (66.220.22.162)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sat, 19 Feb 2005 09:59:56 -0800
Received: from [65.19.37.63] (helo=[10.0.1.2])
	by sparta.hostgo.com with esmtpa (Exim 4.44)
	id 1D2YtU-0007xM-EO
	for lucene-user@jakarta.apache.org; Sat, 19 Feb 2005 12:59:52 -0500
Mime-Version: 1.0 (Apple Message framework v619)
Content-Transfer-Encoding: 7bit
Message-Id: <0CECDEE6-82A0-11D9-806A-000A95973046@backspaces.net>
Content-Type: text/plain; charset=US-ASCII; format=flowed
To: lucene-user@jakarta.apache.org
From: Owen Densmore <owen@backspaces.net>
Subject: Mail Archive Broken?
Date: Sat, 19 Feb 2005 10:59:50 -0700
X-Mailer: Apple Mail (2.619)
X-MailScanner-Information: This email message has been scanned for viruses
X-MailScanner-HostGo: Found to be clean
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - sparta.hostgo.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - backspaces.net
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I just beamed into the archive:
	http://mail-archives.apache.org/eyebrowse/SummarizeList?listId=30
..and it only has through Feb 1!

What's up?

Owen


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13325-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Feb 19 18:11:00 2005
Return-Path: <lucene-user-return-13325-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 43211 invoked from network); 19 Feb 2005 18:11:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 Feb 2005 18:11:00 -0000
Received: (qmail 94776 invoked by uid 500); 19 Feb 2005 18:10:47 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 94738 invoked by uid 500); 19 Feb 2005 18:10:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94724 invoked by uid 99); 19 Feb 2005 18:10:47 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from expredir4.cites.uiuc.edu (HELO expredir4.cites.uiuc.edu) (128.174.5.187)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sat, 19 Feb 2005 10:10:46 -0800
Received: from expms3.cites.uiuc.edu (expms3.cites.uiuc.edu [128.174.5.207])
	by expredir4.cites.uiuc.edu (8.12.11/8.12.11) with ESMTP id j1JIAi9b000078
	for <lucene-user@jakarta.apache.org>; Sat, 19 Feb 2005 12:10:44 -0600 (CST)
Received: from expms3.cites.uiuc.edu (localhost.cites.uiuc.edu [127.0.0.1])
	by expms3.cites.uiuc.edu (MOS 3.4.5-GR)
	with ESMTP id BFU29027;
	Sat, 19 Feb 2005 12:10:43 -0600 (CST)
Received: from 128.174.5.212
	by expms3.cites.uiuc.edu (MOS 3.4.5-GR)
	with HTTP/1.1;
	Sat, 19 Feb 2005 12:10:43 -0600
Date: Sat, 19 Feb 2005 12:10:43 -0600
From: William Lee <wwlee1@uiuc.edu>
Subject: Iterate through all the document ids in the
 index?
To: lucene-user@jakarta.apache.org
X-Mailer: Webmail Mirapoint Direct 3.4.5-GR
MIME-Version: 1.0
Message-Id: <25325641.d12e6af7.8222200@expms3.cites.uiuc.edu>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

This should be a very simple question.  But I can't seem to
find the right way to do so.  Anyway, is there a simple and
fast way to get a list of document IDs through the lucene index?  

I can use a loop to iterate from 0 to IndexReader.maxDoc and
check whether an the document id is valid through
IndexReader.document(i), but this would imply that I have to
retrieve the documents fields.

Iterating through from 0 to numDocs would work, I assume, if
the index is optimized (?).  I don't know what would happen if
it's not though.

I also don't think a WildcardQuery would work, since doing a
"*" would give me all the terms and I'd blow over the maximum
term limit in the BooleanQuery.

I'm probably missing something, and I'm sure the experts here
can point me to the obvious.

Thanks,

Will

-- 
William (Will) Lee 
Email: wwlee1@uiuc.edu
Computer Science, University of Illinois at Urbana-Champaign

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13326-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Feb 19 18:48:12 2005
Return-Path: <lucene-user-return-13326-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 51114 invoked from network); 19 Feb 2005 18:48:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 19 Feb 2005 18:48:12 -0000
Received: (qmail 19611 invoked by uid 500); 19 Feb 2005 18:48:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 19586 invoked by uid 500); 19 Feb 2005 18:48:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19573 invoked by uid 99); 19 Feb 2005 18:48:09 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from dsl081-067-222.sfo1.dsl.speakeasy.net (HELO gw.mccormi.com) (64.81.67.222)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sat, 19 Feb 2005 10:48:07 -0800
Received: from [192.168.0.250] (unknown [192.168.0.250])
	by gw.mccormi.com (Postfix) with ESMTP id 62FDA2E109
	for <lucene-user@jakarta.apache.org>; Sat, 19 Feb 2005 10:48:04 -0800 (PST)
Subject: Re: Scalability of Lucene indexes
From: Bryan McCormick <bryan@mccormi.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20050219092452.96627.qmail@web50708.mail.yahoo.com>
References: <20050219092452.96627.qmail@web50708.mail.yahoo.com>
Content-Type: text/plain
Organization: Home
Message-Id: <1108838882.2180.25.camel@localhost>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.6-5.1.100mdk 
Date: Sat, 19 Feb 2005 10:48:02 -0800
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Our index is currently about 40Gb. 

The advantage of binding a user is that once a search is performed then
caching within lucene and in the application is very effective if
subsequent searches go back to the same box.  Our initial searches are
usually in the sub 100milliS range while subsequent requests for deeper
pages in the search are returned instantly. 

Bryan McCormick

On Sat, 2005-02-19 at 01:24, Andy wrote:
> Hi Bryan,
> 
> How big is your index?
> 
> Also what is the advantage of binding a user to a
> server? 
> 
> Thanks.
> Andy
> 
> --- Bryan McCormick <bryan.mccormick@cnet.com> wrote:
> 
> > Hi chris, 
> > 
> > I'm responsible for the webshots.com search index
> > and we've had very
> > good results with lucene. It currently indexes over
> > 100 Million
> > documents and performs 4 Million searches / day. 
> > 
> > We initially tested running multiple small copies
> > and using a
> > MultiSearcher and then merging results as compared
> > to running a very
> > large single index. We actually found that the
> > single large instance
> > performed better. To improve load handling we
> > clustered multiple
> > identical copies together, then session bind a user
> > to particular server
> > and cache the results, but each server is running a
> > single index. 
> > 
> > Bryan McCormick
> > 
> > 
> > On Fri, 2005-02-18 at 08:01, Chris D wrote: 
> > > Hi all, 
> > > 
> > > I have a question about scaling lucene across a
> > cluster, and good ways
> > > of breaking up the work.
> > > 
> > > We have a very large index and searches sometimes
> > take more time than
> > > they're allowed. What we have been doing is during
> > indexing we index
> > > into 256 seperate indexes (depending on the
> > md5sum) then distribute
> > > the indexes to the search machines. So if a
> > machine has 128 indexes it
> > > would have to do 128 searches. I gave
> > parallelMultiSearcher a try and
> > > it was significantly slower than simply iterating
> > through the indexes
> > > one at a time.
> > > 
> > > Our new plan is to somehow have only one index per
> > search machine and
> > > a larger main index stored on the master.
> > > 
> > > What I'm interested to know is whether having one
> > extremely large
> > > index for the master then splitting the index into
> > several smaller
> > > indexes (if this is possible) would be better than
> > having several
> > > smaller indexes and merging them on the search
> > machines into one
> > > index.
> > > 
> > > I would also be interested to know how others have
> > divided up search
> > > work across a cluster.
> > > 
> > > Thanks,
> > > Chris
> > > 
> > >
> >
> ---------------------------------------------------------------------
> > > To unsubscribe, e-mail:
> > lucene-user-unsubscribe@jakarta.apache.org
> > > For additional commands, e-mail:
> > lucene-user-help@jakarta.apache.org
> > > 
> > 
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> > lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail:
> > lucene-user-help@jakarta.apache.org
> > 
> > 
> 
> 
> __________________________________________________
> Do You Yahoo!?
> Tired of spam?  Yahoo! Mail has the best spam protection around 
> http://mail.yahoo.com
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13327-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Feb 20 02:26:20 2005
Return-Path: <lucene-user-return-13327-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 9579 invoked from network); 20 Feb 2005 02:26:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Feb 2005 02:26:20 -0000
Received: (qmail 66727 invoked by uid 500); 20 Feb 2005 02:26:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 66696 invoked by uid 500); 20 Feb 2005 02:26:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 66682 invoked by uid 99); 20 Feb 2005 02:26:17 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sat, 19 Feb 2005 18:26:15 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id B477213E200B; Sat, 19 Feb 2005 21:26:13 -0500 (EST)
Received: from [192.168.1.100] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id D40BC13E200A
	for <lucene-user@jakarta.apache.org>; Sat, 19 Feb 2005 21:26:09 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
Content-Transfer-Encoding: 7bit
Message-Id: <eddbd9d83af6bdf570229d9b3a4986ec@ehatchersolutions.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
To: Lucene User <lucene-user@jakarta.apache.org>
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: JavaLobby Lucene presentation
Date: Sat, 19 Feb 2005 21:24:20 -0500
X-Mailer: Apple Mail (2.619.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.4 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I recorded a "Meet Lucene" presentation at JavaLobby.  It is a  
multimedia Flash video that shows slides with my voice recorded over  
them which spans just over 20 minutes (you can jump to specific  
slides).    Check it out here:

	http://www.javalobby.org/members-only/eps/meet-lucene/index.html? 
source=archives

It's tailored as a high-level overview, and a quick one at that.  It'll  
certainly be too basic for most everyone on this list, but maybe your  
manager would enjoy it :)

It's awkward to record this type of thing and it sounds dry to me as I  
ended up having to script what I was going to say and read it rather  
than ad-lib like I would do in a face-to-face presentation.  ah's and  
um's don't work well in an audio-only track.

I'd love to hear (perhaps best through the JavaLobby forum associated  
with the presentation) feedback on it.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13328-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sun Feb 20 22:24:01 2005
Return-Path: <lucene-user-return-13328-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 13052 invoked from network); 20 Feb 2005 22:24:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 20 Feb 2005 22:24:01 -0000
Received: (qmail 49870 invoked by uid 500); 20 Feb 2005 22:23:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 49387 invoked by uid 500); 20 Feb 2005 22:23:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 49360 invoked by uid 99); 20 Feb 2005 22:23:53 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from shared4.hardhathosting.com (HELO getopt.org) (69.44.16.11)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 20 Feb 2005 14:23:52 -0800
Received: from [192.168.0.254] (75-mo3-2.acn.waw.pl [62.121.105.75])
	(authenticated)
	by getopt.org (8.11.6/8.11.6) with ESMTP id j1KMOaR27342;
	Sun, 20 Feb 2005 16:24:37 -0600
Message-ID: <42190DF5.1050508@getopt.org>
Date: Sun, 20 Feb 2005 23:23:49 +0100
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: ANN: Luke 0.6 - Lucene Index Toolbox
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello,

I'm pleased to announce that the new version of Luke, the Lucene Index 
Toolbox, is available for download at:

	http://www.getopt.org/luke

You can find the full list of changes and new functionality at the URL 
above. The most interesting addition is the introduction of a scripting 
framework based on Mozilla Rhino JavaScript engine. Two of the new 
plugins (Custom Similarity designer, and the Scripting console) make use 
of this framework.

To all people who provided their comments, suggestions, bug-fixes and 
patches - thank you! If you feel I missed your input in this release, 
please keep nagging... ;-)

-- 
Best regards,
Andrzej Bialecki
  ___. ___ ___ ___ _ _   __________________________________
[__ || __|__/|__||\/|  Information Retrieval, Semantic Web
___|||__||  \|  ||  |  Embedded Unix, System Integration
http://www.sigram.com  Contact: info at sigram dot com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13329-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 21 11:54:46 2005
Return-Path: <lucene-user-return-13329-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 53236 invoked from network); 21 Feb 2005 11:54:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Feb 2005 11:54:46 -0000
Received: (qmail 91823 invoked by uid 500); 21 Feb 2005 11:54:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 91792 invoked by uid 500); 21 Feb 2005 11:54:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 91757 invoked by uid 99); 21 Feb 2005 11:54:38 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 21 Feb 2005 03:54:37 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 8C75813E20EF; Mon, 21 Feb 2005 06:54:35 -0500 (EST)
Received: from [192.168.1.100] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP
	id 9482813E20F0; Mon, 21 Feb 2005 06:54:32 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Message-Id: <8dce0489c33166eb1ae363581d3ef9c7@apache.org>
Content-Transfer-Encoding: quoted-printable
Cc: Lucene List <lucene-dev@jakarta.apache.org>
From: Erik Hatcher <ehatcher@apache.org>
Subject: Fwd: lucene.apache.org problems again
Date: Mon, 21 Feb 2005 06:54:28 -0500
To: Lucene User <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.2 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Looks like the issue has been resolved with the lucene.apache.org DNS.

	Erik


Begin forwarded message:

> From: Ask Bj=F8rn Hansen <ask@apache.org>
> Date: February 20, 2005 9:34:50 PM EST
> To: "Noel J. Bergman" <noel@devtech.com>
> Cc: <infrastructure@apache.org>, "Erik Hatcher" <ehatcher@apache.org>
> Subject: Re: lucene.apache.org problems again
>
>
> On Feb 20, 2005, at 9:16 AM, Noel J. Bergman wrote:
>
>> The bitname.com name servers haven't updated.  Surnet and Hyperreal=20=

>> have
>> done so.  Checking the allowed list, I see:
>
> Fixed.  The process that does that had become stuck.  I unstuck it and=20=

> added an anti-stuck measure.
>
> Thanks!
>
>   - ask
>
> --=20
> http://www.askbjoernhansen.com/


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13330-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 21 15:21:07 2005
Return-Path: <lucene-user-return-13330-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 80992 invoked from network); 21 Feb 2005 15:21:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Feb 2005 15:21:07 -0000
Received: (qmail 2476 invoked by uid 500); 21 Feb 2005 15:21:02 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 2449 invoked by uid 500); 21 Feb 2005 15:21:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2433 invoked by uid 99); 21 Feb 2005 15:21:02 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from static-70-19-127-127.ny325.east.verizon.net (HELO mail01.nyc-ofc.criticalmention.com) (70.19.127.127)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 21 Feb 2005 07:20:59 -0800
Received: from MCELONA (unknown [192.168.42.109])
	by mail01.nyc-ofc.criticalmention.com (Postfix) with ESMTP id 6A258167AE
	for <lucene-user@jakarta.apache.org>; Mon, 21 Feb 2005 10:20:55 -0500 (EST)
From: "Michael Celona" <mcelona@criticalmention.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Using the highlighter from the sandbox with a prefix query.
Date: Mon, 21 Feb 2005 10:20:56 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
In-Reply-To: <200502171008.48160.daniel.naber@t-online.de>
Thread-Index: AcUU0FYWY0McnkqYSwe8/P6/KKHLDgDWFj4A
Message-Id: <20050221152055.6A258167AE@mail01.nyc-ofc.criticalmention.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I am using
	query =3D searcher.rewrite( query );

and it is throwing java.lang.UnsupportedOperationException .

Am I able to use the searcher rewrite method like this?

Thanks,
Michael

-----Original Message-----
From: Daniel Naber [mailto:daniel.naber@t-online.de]=20
Sent: Thursday, February 17, 2005 4:09 AM
To: Lucene Users List
Subject: Re: Using the highlighter from the sandbox with a prefix query.

On Thursday 17 February 2005 08:37, lucuser4851 wrote:

> =A0We have been using the highlighter from the lucene sandbox, which =
works
> very nicely most of the time. However when we try and use it with a
> prefix query (which is what you get having parsed a wild-card query), =
it
> doesn't return any highlighted sections. Has anyone else experienced
> this problem, or found a way around it?

You need to call rewrite() on the query before you pass it to the
highlighter.

Regards
 Daniel

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13331-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 21 15:32:48 2005
Return-Path: <lucene-user-return-13331-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 87856 invoked from network); 21 Feb 2005 15:32:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Feb 2005 15:32:47 -0000
Received: (qmail 20501 invoked by uid 500); 21 Feb 2005 15:32:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 20430 invoked by uid 500); 21 Feb 2005 15:32:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20416 invoked by uid 99); 21 Feb 2005 15:32:42 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 21 Feb 2005 07:32:41 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 9EBBC13E20F1; Mon, 21 Feb 2005 10:32:37 -0500 (EST)
Received: from [192.168.1.100] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id 857B013E20F0
	for <lucene-user@jakarta.apache.org>; Mon, 21 Feb 2005 10:32:31 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <20050221152055.6A258167AE@mail01.nyc-ofc.criticalmention.com>
References: <20050221152055.6A258167AE@mail01.nyc-ofc.criticalmention.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <235b82d6bd6bd3aa95c46fcd1f1a141b@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Using the highlighter from the sandbox with a prefix query.
Date: Mon, 21 Feb 2005 10:32:29 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.4 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Feb 21, 2005, at 10:20 AM, Michael Celona wrote:

> I am using
> 	query = searcher.rewrite( query );
>
> and it is throwing java.lang.UnsupportedOperationException .
>
> Am I able to use the searcher rewrite method like this?

What's the full stack trace?

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13332-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 21 15:34:22 2005
Return-Path: <lucene-user-return-13332-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 88719 invoked from network); 21 Feb 2005 15:34:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Feb 2005 15:34:22 -0000
Received: (qmail 25551 invoked by uid 500); 21 Feb 2005 15:34:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 25518 invoked by uid 500); 21 Feb 2005 15:34:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25504 invoked by uid 99); 21 Feb 2005 15:34:16 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of newreaders@gmail.com designates 64.233.184.202 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.202)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 21 Feb 2005 07:34:16 -0800
Received: by wproxy.gmail.com with SMTP id 71so1105418wri
        for <lucene-user@jakarta.apache.org>; Mon, 21 Feb 2005 07:34:14 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type:content-transfer-encoding;
        b=r/vh6+iSlVQLKVfnkCRY29ikYgOEUu3VOJdl1tAwBvzbbacH50yaOCcl+ML/GMNUO2Wu9CJZi2+WaNdl2ozO+3Utxk5di0vsrb6CK37YjNnBBCYBSJIeGEMjVhG9nH7iAQeMH0g0ppcrSaCfxYI/XQJg/F4jzLm7Hmmv5lOsS8E=
Received: by 10.54.37.44 with SMTP id k44mr111743wrk;
        Mon, 21 Feb 2005 07:34:14 -0800 (PST)
Received: by 10.54.23.39 with HTTP; Mon, 21 Feb 2005 07:34:14 -0800 (PST)
Message-ID: <5f4a64610502210734618d0003@mail.gmail.com>
Date: Tue, 22 Feb 2005 02:34:14 +1100
From: Ben <newreaders@gmail.com>
Reply-To: Ben <newreaders@gmail.com>
To: Lucene <lucene-user@jakarta.apache.org>
Subject: Sorting isn't working for my date field
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi

Do I need to store and index the field I want to sort? Currently I am
only indexing the field without storing nor tokenizing it.

I have a date field indexing as yyyyMMdd and I have two documents with
the same date. When I do my search with:

searcher.search(query, new SortField("date", true));
searcher.search(query, new SortField("date", false));

they both return the same order.

Any idea? Thanks.

Ben

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13333-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 21 15:53:49 2005
Return-Path: <lucene-user-return-13333-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 98147 invoked from network); 21 Feb 2005 15:53:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Feb 2005 15:53:48 -0000
Received: (qmail 55565 invoked by uid 500); 21 Feb 2005 15:53:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 55545 invoked by uid 500); 21 Feb 2005 15:53:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55532 invoked by uid 99); 21 Feb 2005 15:53:43 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from static-70-19-127-127.ny325.east.verizon.net (HELO mail01.nyc-ofc.criticalmention.com) (70.19.127.127)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 21 Feb 2005 07:53:40 -0800
Received: from MCELONA (unknown [192.168.42.109])
	by mail01.nyc-ofc.criticalmention.com (Postfix) with ESMTP id CAB1211C80
	for <lucene-user@jakarta.apache.org>; Mon, 21 Feb 2005 10:53:37 -0500 (EST)
From: "Michael Celona" <mcelona@criticalmention.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Using the highlighter from the sandbox with a prefix query.
Date: Mon, 21 Feb 2005 10:53:42 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
In-Reply-To: <235b82d6bd6bd3aa95c46fcd1f1a141b@ehatchersolutions.com>
Thread-Index: AcUYKpgihI9FIhYgTPGcaRvJUv69TQAAoISg
Message-Id: <20050221155337.CAB1211C80@mail01.nyc-ofc.criticalmention.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

That the only stack I get.  One thing to mention that I am using a
MultiSearcher to rewrite the queries. I tried...

query = searcher_last.rewrite( query );
query = searcher_cur.rewrite( query );

using IndexSearcher and I don't get an error... However, I not able to
highlight wildcard queries.

Michael 

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com] 
Sent: Monday, February 21, 2005 10:32 AM
To: Lucene Users List
Subject: Re: Using the highlighter from the sandbox with a prefix query.


On Feb 21, 2005, at 10:20 AM, Michael Celona wrote:

> I am using
> 	query = searcher.rewrite( query );
>
> and it is throwing java.lang.UnsupportedOperationException .
>
> Am I able to use the searcher rewrite method like this?

What's the full stack trace?

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13334-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 21 16:20:34 2005
Return-Path: <lucene-user-return-13334-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 13619 invoked from network); 21 Feb 2005 16:20:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Feb 2005 16:20:33 -0000
Received: (qmail 99751 invoked by uid 500); 21 Feb 2005 16:20:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 99549 invoked by uid 500); 21 Feb 2005 16:20:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 99535 invoked by uid 99); 21 Feb 2005 16:20:29 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from rwcrmhc12.comcast.net (HELO rwcrmhc12.comcast.net) (216.148.227.85)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 21 Feb 2005 08:20:27 -0800
Received: from [192.168.168.81] (c-24-5-160-217.client.comcast.net[24.5.160.217])
          by comcast.net (rwcrmhc12) with ESMTP
          id <2005022116202401400honk9e>; Mon, 21 Feb 2005 16:20:24 +0000
Message-ID: <421A0A47.1020308@apache.org>
Date: Mon, 21 Feb 2005 08:20:23 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 0.9 (X11/20041127)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Iterate through all the document ids in the index?
References: <25325641.d12e6af7.8222200@expms3.cites.uiuc.edu>
In-Reply-To: <25325641.d12e6af7.8222200@expms3.cites.uiuc.edu>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

William Lee wrote:
> is there a simple and
> fast way to get a list of document IDs through the lucene index?  
> 
> I can use a loop to iterate from 0 to IndexReader.maxDoc and
> check whether an the document id is valid through
> IndexReader.document(i), but this would imply that I have to
> retrieve the documents fields.

Use IndexReader.isDeleted() to check if each id is valid.  This is quite 
fast.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13335-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 21 16:22:35 2005
Return-Path: <lucene-user-return-13335-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 14861 invoked from network); 21 Feb 2005 16:22:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Feb 2005 16:22:35 -0000
Received: (qmail 4701 invoked by uid 500); 21 Feb 2005 16:22:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 4679 invoked by uid 500); 21 Feb 2005 16:22:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4666 invoked by uid 99); 21 Feb 2005 16:22:29 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 21 Feb 2005 08:22:28 -0800
Received: from p001002 ([204.225.84.27]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Mon, 21 Feb 2005 11:26:50 -0500
Message-ID: <007601c51832$253f8b40$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20050221152055.6A258167AE@mail01.nyc-ofc.criticalmention.com>
Subject: Handling Synonyms
Date: Mon, 21 Feb 2005 11:26:48 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 21 Feb 2005 16:26:50.0329 (UTC) FILETIME=[254EF490:01C51832]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello;

Does anyone see a problem with the following approach?

For synonyms, rather than putting them in the index, I put the original term
and all the synonyms in the query.

Every time I create a query, I check if the term has any synonyms. If it
does, I create Boolean Query OR'ing one Query object for each synonym.

So if I have a synoym list:

red = colour, primary, stop

And someone wants to search the desc field for the red, I would end up with
something like:

( (desc:*red*) (desc:*colout*) (desc:*stop*) ).

Now the synonyms would'nt be in the index, the Query would account for all
the possible synonym terms.

Luke



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13336-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 21 16:55:31 2005
Return-Path: <lucene-user-return-13336-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 34584 invoked from network); 21 Feb 2005 16:55:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Feb 2005 16:55:31 -0000
Received: (qmail 78352 invoked by uid 500); 21 Feb 2005 16:55:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 78330 invoked by uid 500); 21 Feb 2005 16:55:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78316 invoked by uid 99); 21 Feb 2005 16:55:26 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 21 Feb 2005 08:55:25 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 1163213E20F2; Mon, 21 Feb 2005 11:55:21 -0500 (EST)
Received: from [192.168.1.100] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id 7F0F513E20F0
	for <lucene-user@jakarta.apache.org>; Mon, 21 Feb 2005 11:55:01 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <20050221155337.CAB1211C80@mail01.nyc-ofc.criticalmention.com>
References: <20050221155337.CAB1211C80@mail01.nyc-ofc.criticalmention.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <80b8ff5d8cc6b3e95dd171f1baed3b3b@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Using the highlighter from the sandbox with a prefix query.
Date: Mon, 21 Feb 2005 11:54:57 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.4 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Feb 21, 2005, at 10:53 AM, Michael Celona wrote:

> That the only stack I get.  One thing to mention that I am using a
> MultiSearcher to rewrite the queries. I tried...
>
> query = searcher_last.rewrite( query );
> query = searcher_cur.rewrite( query );
>
> using IndexSearcher and I don't get an error... However, I not able to
> highlight wildcard queries.

I use Highlighter for lucenebook.com and have two indexes that I search 
with MultiSearcher.  Here's how I highlight:

         IndexReader reader = readers[indexIndex];
         QueryScorer scorer = new QueryScorer(query.rewrite(reader));
         SimpleHTMLFormatter formatter =
             new SimpleHTMLFormatter("<span class=\"highlight\">",
                 "</span>");
         Highlighter highlighter = new Highlighter(formatter, scorer);

I get the appropriate IndexReader for the document being highlighted.  
You can get the index _index_ this way:
'
         int indexIndex = searcher.subSearcher(hits.id(position));

Hope this helps.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13337-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 21 17:44:58 2005
Return-Path: <lucene-user-return-13337-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 60213 invoked from network); 21 Feb 2005 17:44:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Feb 2005 17:44:58 -0000
Received: (qmail 67961 invoked by uid 500); 21 Feb 2005 17:44:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 67936 invoked by uid 500); 21 Feb 2005 17:44:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 67920 invoked by uid 99); 21 Feb 2005 17:44:55 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from web26008.mail.ukl.yahoo.com (HELO web26008.mail.ukl.yahoo.com) (217.12.10.219)
  by apache.org (qpsmtpd/0.28) with SMTP; Mon, 21 Feb 2005 09:44:53 -0800
Received: (qmail 68734 invoked by uid 60001); 21 Feb 2005 17:44:50 -0000
Message-ID: <20050221174450.68732.qmail@web26008.mail.ukl.yahoo.com>
Received: from [193.36.230.96] by web26008.mail.ukl.yahoo.com via HTTP; Mon, 21 Feb 2005 17:44:50 GMT
Date: Mon, 21 Feb 2005 17:44:50 +0000 (GMT)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: RE: Using the highlighter from the sandbox with a prefix query.
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20050221155337.CAB1211C80@mail01.nyc-ofc.criticalmention.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

>One thing to mention
> that I am using a
> MultiSearcher to rewrite the queries. I tried...

Ah. I remember this got a little ugly. The highlighter
has a Junit test that demonstrates highlighting fuzzy
queries when using a multisearcher. Take a look at
that.

I can't remember the ins and outs of the issues but I
know the code there still runs clean with the latest
versions.

Cheers
Mark.



	
	
		
___________________________________________________________ 
ALL-NEW Yahoo! Messenger - all new features - even more fun! http://uk.messenger.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13338-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 21 18:49:20 2005
Return-Path: <lucene-user-return-13338-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 86576 invoked from network); 21 Feb 2005 18:49:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Feb 2005 18:49:20 -0000
Received: (qmail 63535 invoked by uid 500); 21 Feb 2005 18:49:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 63515 invoked by uid 500); 21 Feb 2005 18:49:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 63501 invoked by uid 99); 21 Feb 2005 18:49:16 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from static-70-19-127-127.ny325.east.verizon.net (HELO mail01.nyc-ofc.criticalmention.com) (70.19.127.127)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 21 Feb 2005 10:49:15 -0800
Received: from MCELONA (unknown [192.168.42.109])
	by mail01.nyc-ofc.criticalmention.com (Postfix) with ESMTP id DCCDC1675D
	for <lucene-user@jakarta.apache.org>; Mon, 21 Feb 2005 13:49:12 -0500 (EST)
From: "Michael Celona" <mcelona@criticalmention.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Using the highlighter from the sandbox with a prefix query.
Date: Mon, 21 Feb 2005 13:49:17 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
In-Reply-To: <80b8ff5d8cc6b3e95dd171f1baed3b3b@ehatchersolutions.com>
Thread-Index: AcUYNieBJzY3jhHGTvuQpWEjtqYwUgAD9jzg
Message-Id: <20050221184912.DCCDC1675D@mail01.nyc-ofc.criticalmention.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Thank you.... this helped a lot...

Michael Celona

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com] 
Sent: Monday, February 21, 2005 11:55 AM
To: Lucene Users List
Subject: Re: Using the highlighter from the sandbox with a prefix query.


On Feb 21, 2005, at 10:53 AM, Michael Celona wrote:

> That the only stack I get.  One thing to mention that I am using a
> MultiSearcher to rewrite the queries. I tried...
>
> query = searcher_last.rewrite( query );
> query = searcher_cur.rewrite( query );
>
> using IndexSearcher and I don't get an error... However, I not able to
> highlight wildcard queries.

I use Highlighter for lucenebook.com and have two indexes that I search 
with MultiSearcher.  Here's how I highlight:

         IndexReader reader = readers[indexIndex];
         QueryScorer scorer = new QueryScorer(query.rewrite(reader));
         SimpleHTMLFormatter formatter =
             new SimpleHTMLFormatter("<span class=\"highlight\">",
                 "</span>");
         Highlighter highlighter = new Highlighter(formatter, scorer);

I get the appropriate IndexReader for the document being highlighted.  
You can get the index _index_ this way:
'
         int indexIndex = searcher.subSearcher(hits.id(position));

Hope this helps.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13339-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 21 18:59:23 2005
Return-Path: <lucene-user-return-13339-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 91850 invoked from network); 21 Feb 2005 18:59:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Feb 2005 18:59:23 -0000
Received: (qmail 81530 invoked by uid 500); 21 Feb 2005 18:59:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 81507 invoked by uid 500); 21 Feb 2005 18:59:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 81494 invoked by uid 99); 21 Feb 2005 18:59:20 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_60_70,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.nameprotect.com (HELO brownbear.nameprotect.com) (69.8.156.205)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 21 Feb 2005 10:59:18 -0800
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C51847.6FE3C4A9"
Subject: Query Tuning
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Date: Mon, 21 Feb 2005 12:59:14 -0600
Message-ID: <450A5F8E4BF26340B4013C40E11ADA08C76B5A@brownbear.nameprotect.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Query Tuning
Thread-Index: AcUYR3BNoPyzBMAgTviCz5ivXabGjw==
From: "Runde, Kevin" <krunde@NameProtect.com>
To: <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C51847.6FE3C4A9
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi All,

How does Lucene handle multi term queries? Does it use short circuiting?
So if a user entered:
(a OR b) AND c
But my program knew testing for "c" is cheaper than testing for "(a OR
b)" and I rewrote the query as:
c AND (a OR b)
Would the query run faster?

Sorry if this has already be answered, but for some reason the Archive
search is not working for me today.

Thanks,
Kevin


------_=_NextPart_001_01C51847.6FE3C4A9--

From lucene-user-return-13340-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 21 19:17:08 2005
Return-Path: <lucene-user-return-13340-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 98892 invoked from network); 21 Feb 2005 19:17:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Feb 2005 19:17:08 -0000
Received: (qmail 1781 invoked by uid 500); 21 Feb 2005 19:17:04 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 1754 invoked by uid 500); 21 Feb 2005 19:17:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1741 invoked by uid 99); 21 Feb 2005 19:17:04 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp-vbr11.xs4all.nl (HELO smtp-vbr11.xs4all.nl) (194.109.24.31)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 21 Feb 2005 11:17:03 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr11.xs4all.nl (8.12.11/8.12.11) with ESMTP id j1LJH0ml036262
	for <lucene-user@jakarta.apache.org>; Mon, 21 Feb 2005 20:17:00 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: lucene-user@jakarta.apache.org
Subject: Re: Query Tuning
Date: Mon, 21 Feb 2005 20:16:59 +0100
User-Agent: KMail/1.5.4
References: <450A5F8E4BF26340B4013C40E11ADA08C76B5A@brownbear.nameprotect.com>
In-Reply-To: <450A5F8E4BF26340B4013C40E11ADA08C76B5A@brownbear.nameprotect.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200502212016.59761.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Monday 21 February 2005 19:59, Runde, Kevin wrote:
> Hi All,
> 
> How does Lucene handle multi term queries? Does it use short circuiting?
> So if a user entered:
> (a OR b) AND c
> But my program knew testing for "c" is cheaper than testing for "(a OR
> b)" and I rewrote the query as:
> c AND (a OR b)
> Would the query run faster?

Exchanging the operands of AND would not make a noticeable difference
in speed. Queries are evaluated by iterating the inverted term index entries
for all query terms  in parallel, with buffering.

Regards,
Paul Elschot


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13341-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 21 19:43:40 2005
Return-Path: <lucene-user-return-13341-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 8820 invoked from network); 21 Feb 2005 19:43:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Feb 2005 19:43:39 -0000
Received: (qmail 35693 invoked by uid 500); 21 Feb 2005 19:43:36 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 35568 invoked by uid 500); 21 Feb 2005 19:43:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 35555 invoked by uid 99); 21 Feb 2005 19:43:35 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from ns.part.net (HELO mail.part.net) (65.106.108.178)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 21 Feb 2005 11:43:34 -0800
Received: from [192.168.5.23] ([192.168.1.253])
  by mail.part.net with esmtp; Mon, 21 Feb 2005 12:43:32 -0700
Message-ID: <421A39DD.1010502@part.net>
Date: Mon, 21 Feb 2005 12:43:25 -0700
From: Todd VanderVeen <tdv@part.net>
User-Agent: Mozilla Thunderbird 0.9 (Windows/20041103)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Query Tuning
References: <450A5F8E4BF26340B4013C40E11ADA08C76B5A@brownbear.nameprotect.com>
In-Reply-To: <450A5F8E4BF26340B4013C40E11ADA08C76B5A@brownbear.nameprotect.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Runde, Kevin wrote:

>Hi All,
>
>How does Lucene handle multi term queries? Does it use short circuiting?
>So if a user entered:
>(a OR b) AND c
>But my program knew testing for "c" is cheaper than testing for "(a OR
>b)" and I rewrote the query as:
>c AND (a OR b)
>Would the query run faster?
>
>Sorry if this has already be answered, but for some reason the Archive
>search is not working for me today.
>
>Thanks,
>Kevin
>
>
>  
>
Not sure about what is in CVS, but look at BooleanQuery.scorer(). If all 
of the clauses of the BooleanQuery are required and none of the clauses 
are BooleanQueries a ConjunctionScorer is returned that offers the 
optimizations you seek. In the example you gave, there is a clause that 
is boolean ( a or b) that will have to be evaluated independently with a 
boolean scorer. This will be performed regardless of the ordering. 
(BooleanScorer doesn't preserve document order when it return results 
and hence it can't utilize the optimal algorithm provided by 
ConjuntionScorer). Others have been down this path as evidenced by the 
sigh in the javadoc.

If calculating (a or b) is expensive and the docFreq of a is much less 
than the union of a and b, you might consider rewriting it to (a and c) 
or (b and c) using DeMorgan's law. Expansion like this isn't always 
beneficial and can't be applied blindly. As far as I can tell there is 
no query planning/optimization aside from the merging of related clauses 
and attempts to rewrite to simpler queries.

Cheers,
Todd VanderVeen

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13342-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 21 20:14:57 2005
Return-Path: <lucene-user-return-13342-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 20713 invoked from network); 21 Feb 2005 20:14:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Feb 2005 20:14:56 -0000
Received: (qmail 66914 invoked by uid 500); 21 Feb 2005 20:14:52 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 66889 invoked by uid 500); 21 Feb 2005 20:14:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 66875 invoked by uid 99); 21 Feb 2005 20:14:51 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of john.wang@gmail.com designates 64.233.170.203 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.203)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 21 Feb 2005 12:14:50 -0800
Received: by rproxy.gmail.com with SMTP id 1so403660rny
        for <lucene-user@jakarta.apache.org>; Mon, 21 Feb 2005 12:14:48 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=bUjIGNL0L3gbi9Xnwjx52Imsa/Yubxt8PFcS3In+84z371L6GlQZ85c2R5+hUG8K/vNcZHHYtscgDhaNkyJ/mD7//9lHspfKmzhYlaJGfGhQftM85DPNApoO2dUnv5+sRbM/u6FHOZGIr8Ta2HB89qwDoJlaZG0BIL/fS2eEKJ8=
Received: by 10.38.179.14 with SMTP id b14mr110027rnf;
        Mon, 21 Feb 2005 12:14:48 -0800 (PST)
Received: by 10.38.179.63 with HTTP; Mon, 21 Feb 2005 12:14:48 -0800 (PST)
Message-ID: <8837fb770502211214594cd538@mail.gmail.com>
Date: Mon, 21 Feb 2005 12:14:48 -0800
From: John Wang <john.wang@gmail.com>
Reply-To: John Wang <john.wang@gmail.com>
To: lucene-user@jakarta.apache.org
Subject: Re: knowing which field contributed the search result
In-Reply-To: <8837fb7705021614393260cf76@mail.gmail.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <8837fb7705021614393260cf76@mail.gmail.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Anyone has any thoughts on this?

Thanks

-John


On Wed, 16 Feb 2005 14:39:52 -0800, John Wang <john.wang@gmail.com> wrote:
> Hi:
> 
>    Is there way to find out given a hit from a search, find out which
> fields contributed to the hit?
> 
> e.g.
> 
> If my search for:
> 
> contents1="brown fox" OR contents2="black bear"
> 
> can the document founded by this query also have information on
> whether it was found via contents1 or contents2 or both.
> 
> Thanks
> 
> -John
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13343-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 21 20:19:23 2005
Return-Path: <lucene-user-return-13343-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 31389 invoked from network); 21 Feb 2005 20:19:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Feb 2005 20:19:23 -0000
Received: (qmail 71287 invoked by uid 500); 21 Feb 2005 20:19:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 71265 invoked by uid 500); 21 Feb 2005 20:19:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 71251 invoked by uid 99); 21 Feb 2005 20:19:20 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from server1.hostmon.com (HELO server1.hostmon.com) (66.139.76.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 21 Feb 2005 12:19:19 -0800
Received: (qmail 21479 invoked by uid 532); 21 Feb 2005 20:18:56 -0000
Received: from dave-lucene-user@tropo.com by server1.hostmon.com by uid 0 with qmail-scanner-1.16 
 (spamassassin: 3.0.0.  Clear:. 
 Processed in 0.169005 secs); 21 Feb 2005 20:18:56 -0000
Received: from unknown (HELO ?172.31.1.2?) (127.0.0.1)
  by 0 with SMTP; 21 Feb 2005 20:18:56 -0000
Message-ID: <421A4245.8090208@tropo.com>
Date: Mon, 21 Feb 2005 12:19:17 -0800
From: David Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.5) Gecko/20041217
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Handling Synonyms
References: <20050221152055.6A258167AE@mail01.nyc-ofc.criticalmention.com> <007601c51832$253f8b40$7703d00a@hypermedia.com>
In-Reply-To: <007601c51832$253f8b40$7703d00a@hypermedia.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Luke Shannon wrote:

> Hello;
> 
> Does anyone see a problem with the following approach?

No, no problem with it and it's in fact what my "Wordnet Query 
Expansion" sandbox module does.

The nice thing about Lucene is you at least have the option of doing 
things the other way - you can write a custom Analyzer that puts all 
synonyms at the same token offset so they appear to be in the same place 
in the token stream. Thinking about it...this approach, with the 
Analyzer, lets user search for phrases which would match a synonym, so, 
using your example below, the text "bright red engine" would be matched 
by either phrase "bright red" or "bright colour". Doing the query 
expansion is trickier if you allow phrases.

> 
> For synonyms, rather than putting them in the index, I put the original term
> and all the synonyms in the query.
> 
> Every time I create a query, I check if the term has any synonyms. If it
> does, I create Boolean Query OR'ing one Query object for each synonym.
> 
> So if I have a synoym list:
> 
> red = colour, primary, stop
> 
> And someone wants to search the desc field for the red, I would end up with
> something like:
> 
> ( (desc:*red*) (desc:*colout*) (desc:*stop*) ).

I don't like that bit about substring terms, but if it's right for you 
ok - if you insist on loosening things I'd consider fuzzy terms 
(desc:red~ ...etc).



> 
> Now the synonyms would'nt be in the index, the Query would account for all
> the possible synonym terms.
> 
> Luke
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13344-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 21 20:20:24 2005
Return-Path: <lucene-user-return-13344-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 38146 invoked from network); 21 Feb 2005 20:20:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Feb 2005 20:20:24 -0000
Received: (qmail 74548 invoked by uid 500); 21 Feb 2005 20:20:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 74527 invoked by uid 500); 21 Feb 2005 20:20:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 74513 invoked by uid 99); 21 Feb 2005 20:20:20 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from server1.hostmon.com (HELO server1.hostmon.com) (66.139.76.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 21 Feb 2005 12:20:19 -0800
Received: (qmail 21551 invoked by uid 532); 21 Feb 2005 20:19:54 -0000
Received: from dave-lucene-user@tropo.com by server1.hostmon.com by uid 0 with qmail-scanner-1.16 
 (spamassassin: 3.0.0.  Clear:. 
 Processed in 0.096139 secs); 21 Feb 2005 20:19:54 -0000
Received: from unknown (HELO ?172.31.1.2?) (127.0.0.1)
  by 0 with SMTP; 21 Feb 2005 20:19:54 -0000
Message-ID: <421A427F.2030003@tropo.com>
Date: Mon, 21 Feb 2005 12:20:15 -0800
From: David Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.5) Gecko/20041217
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: knowing which field contributed the search result
References: <8837fb7705021614393260cf76@mail.gmail.com> <8837fb770502211214594cd538@mail.gmail.com>
In-Reply-To: <8837fb770502211214594cd538@mail.gmail.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

John Wang wrote:

> Anyone has any thoughts on this?

Does this help?


http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/search/Searchable.html#explain(org.apache.lucene.search.Query,%20int)
> 
> Thanks
> 
> -John
> 
> 
> On Wed, 16 Feb 2005 14:39:52 -0800, John Wang <john.wang@gmail.com> wrote:
> 
>>Hi:
>>
>>   Is there way to find out given a hit from a search, find out which
>>fields contributed to the hit?
>>
>>e.g.
>>
>>If my search for:
>>
>>contents1="brown fox" OR contents2="black bear"
>>
>>can the document founded by this query also have information on
>>whether it was found via contents1 or contents2 or both.
>>
>>Thanks
>>
>>-John
>>
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13345-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 21 20:29:53 2005
Return-Path: <lucene-user-return-13345-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 41539 invoked from network); 21 Feb 2005 20:29:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Feb 2005 20:29:53 -0000
Received: (qmail 81917 invoked by uid 500); 21 Feb 2005 20:29:50 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 81891 invoked by uid 500); 21 Feb 2005 20:29:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 81876 invoked by uid 99); 21 Feb 2005 20:29:50 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp-vbr10.xs4all.nl (HELO smtp-vbr10.xs4all.nl) (194.109.24.30)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 21 Feb 2005 12:29:49 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr10.xs4all.nl (8.12.11/8.12.11) with ESMTP id j1LKTkk6000121
	for <lucene-user@jakarta.apache.org>; Mon, 21 Feb 2005 21:29:46 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: lucene-user@jakarta.apache.org
Subject: Re: Query Tuning
Date: Mon, 21 Feb 2005 21:29:45 +0100
User-Agent: KMail/1.5.4
References: <450A5F8E4BF26340B4013C40E11ADA08C76B5A@brownbear.nameprotect.com> <421A39DD.1010502@part.net>
In-Reply-To: <421A39DD.1010502@part.net>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200502212129.45614.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Monday 21 February 2005 20:43, Todd VanderVeen wrote:
> Runde, Kevin wrote:
> 
> >Hi All,
> >
> >How does Lucene handle multi term queries? Does it use short circuiting?
> >So if a user entered:
> >(a OR b) AND c
> >But my program knew testing for "c" is cheaper than testing for "(a OR
> >b)" and I rewrote the query as:
> >c AND (a OR b)
> >Would the query run faster?
> >
> >Sorry if this has already be answered, but for some reason the Archive
> >search is not working for me today.
> >
> >Thanks,
> >Kevin
> >
> >
> >  
> >
> Not sure about what is in CVS, but look at BooleanQuery.scorer(). If all 

It's in svn nowadays.

> of the clauses of the BooleanQuery are required and none of the clauses 
> are BooleanQueries a ConjunctionScorer is returned that offers the 
> optimizations you seek. In the example you gave, there is a clause that 
> is boolean ( a or b) that will have to be evaluated independently with a 
> boolean scorer. This will be performed regardless of the ordering. 
> (BooleanScorer doesn't preserve document order when it return results 
> and hence it can't utilize the optimal algorithm provided by 
> ConjuntionScorer). Others have been down this path as evidenced by the 
> sigh in the javadoc.

In the svn version a ConjunctionScorer is used for all top level AND queries.
 
> If calculating (a or b) is expensive and the docFreq of a is much less 
> than the union of a and b, you might consider rewriting it to (a and c) 
> or (b and c) using DeMorgan's law. Expansion like this isn't always 
> beneficial and can't be applied blindly. As far as I can tell there is 

In the svn version the subquery (a or b) is only evaluated for documents
matching c. In the current version the expansion to
(a and c) or (b and c)
might help: the tradeoff is between evaluating c twice and having
less work for the OR operator.

> no query planning/optimization aside from the merging of related clauses 
> and attempts to rewrite to simpler queries.

One optimization in the current version is the use of ConjunctionScorer
for some cases. One such case, which happens a lot in practice, is a
query that has a few required terms.

Another optimization in the current version that some scoring is done ahead
for each clause into an unordered buffer.
This helps for top level OR queries, but loses for OR queries that are
subqueries of AND.

The svn version does not score ahead. It relies on the buffering done by
TermScorer. Perhaps the buffering for a TermScorer should be made
dependent on it's expected use: more buffering for top level OR, less 
buffering when used under AND.

Regards,
Paul Elschot


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13346-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 21 20:39:50 2005
Return-Path: <lucene-user-return-13346-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 45359 invoked from network); 21 Feb 2005 20:39:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Feb 2005 20:39:49 -0000
Received: (qmail 92389 invoked by uid 500); 21 Feb 2005 20:39:47 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 92363 invoked by uid 500); 21 Feb 2005 20:39:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 92350 invoked by uid 99); 21 Feb 2005 20:39:46 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 21 Feb 2005 12:39:45 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 1504013E20F3; Mon, 21 Feb 2005 15:39:42 -0500 (EST)
Received: from [192.168.1.100] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id A68C813E20F2
	for <lucene-user@jakarta.apache.org>; Mon, 21 Feb 2005 15:39:29 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <02e301c5160b$761053c0$7703d00a@hypermedia.com>
References: <02e301c5160b$761053c0$7703d00a@hypermedia.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <5aa719781b8049d5850d95d5df9dd1dc@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: More Analyzer Question
Date: Mon, 21 Feb 2005 15:39:25 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.4 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

The problem is your KeywordSynonymAnalyzer is not truly a "keyword" 
analyzer in that it is tokenizing the field into parts.  So Document 1 
has [test] and [mario] as tokens that come from the LowerCaseTokenizer.

Look at Lucene's svn repository under contrib/analyzers and you'll see 
a KeywordTokenizer and corresponding KeywordAnalyzer you can use.

	Erik


On Feb 18, 2005, at 5:44 PM, Luke Shannon wrote:
> I have created an Analyzer that I think should just be converting to 
> lower
> case and add synonyms in the index (it is at the end of the email).
>
> The problem is, after running it I get one more result than I was 
> expecting
> (Document 1 should not be there):
>
> Running testNameCombination1, expecting: 1 result
> The query: +(type:138) +(name:mario*) returned 2
>
> Start Listing documents:
>
> Document: 0 contains:
> Name: Text<name:mario test>
> Desc: Text<desc:this is test from mario>
>
>
> Document: 1 contains:
> Name: Text<name:test mario>
> Desc: Text<desc:retro>
>
> End Listing documents
>
> Those same 2 documents in Luke look like this:
>
> Document 0
> Text<name:mario test>
> Text<desc:this is test from mario>
>
> Document 1
> Text<name:test mario>
> Text<desc:retro>
>
> That looks correct to me. The query shouldn't match Document 1.
>
> The analzyer used on this field is below and is applied like so:
>
> //set the default
> PerFieldAnalyzerWrapper analyzer = new PerFieldAnalyzerWrapper(new
> SynonymAnalyzer(new FBSynonymEngine()));
>
> //the analyzer for the name field (only converts to lower case and adds
> synonyms
> analyzer.addAnalyzer("name", new KeywordSynonymAnalyzer(new
> FBSynonymEngine()));
>
> Any help would be appreciated.
>
> Thanks,
>
> Luke
>
>
> import org.apache.lucene.analysis.*;
> import java.io.Reader;
>
> public class KeywordSynonymAnalyzer extends Analyzer {
>     private SynonymEngine engine;
>
>     public KeywordSynonymAnalyzer(SynonymEngine engine) {
>         this.engine = engine;
>     }
>
>     public TokenStream tokenStream(String fieldName, Reader reader) {
>         TokenStream result = new SynonymFilter(new
> LowerCaseTokenizer(reader), engine);
>         return result;
>     }
> }
>
>
>
>
>
>
>
> Luke Shannon | Software Developer
> FutureBrand Toronto
>
> 207 Queen's Quay, Suite 400
> Toronto, ON, M5J 1A7
> 416 642 7935 (office)
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13347-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 21 22:18:54 2005
Return-Path: <lucene-user-return-13347-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 89045 invoked from network); 21 Feb 2005 22:18:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Feb 2005 22:18:54 -0000
Received: (qmail 21800 invoked by uid 500); 21 Feb 2005 22:18:49 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 21781 invoked by uid 500); 21 Feb 2005 22:18:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21768 invoked by uid 99); 21 Feb 2005 22:18:49 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 21 Feb 2005 14:18:48 -0800
Received: from p001002 ([204.225.84.27]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Mon, 21 Feb 2005 17:23:09 -0500
Message-ID: <010001c51863$ec3ff2d0$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <02e301c5160b$761053c0$7703d00a@hypermedia.com> <5aa719781b8049d5850d95d5df9dd1dc@ehatchersolutions.com>
Subject: Optional Terms in a single query
Date: Mon, 21 Feb 2005 17:23:09 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 21 Feb 2005 22:23:09.0491 (UTC) FILETIME=[EC483030:01C51863]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi;

I'm trying to create a query that look for a field containing type:181 and
name doesn't contain tim, bill or harry.

+(type: 181) +((-name: tim -name:bill -name:harry +oldfaith:stillHere))
+(type: 181) +((-name: tim OR bill OR harry +oldfaith:stillHere))
+(type: 181) +((-name:*(tim bill harry)* +olfaithfull:stillhere))
+(type:1 81) +((-name:*(tim OR bill OR harry)* +olfaithfull:stillhere))

I would really think to do this all in one Query. Is this even possible?

Thanks,

Luke



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13348-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 21 22:31:36 2005
Return-Path: <lucene-user-return-13348-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 93081 invoked from network); 21 Feb 2005 22:31:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Feb 2005 22:31:36 -0000
Received: (qmail 32873 invoked by uid 500); 21 Feb 2005 22:31:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 32841 invoked by uid 500); 21 Feb 2005 22:31:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 32827 invoked by uid 99); 21 Feb 2005 22:31:32 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtp-vbr14.xs4all.nl (HELO smtp-vbr14.xs4all.nl) (194.109.24.34)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 21 Feb 2005 14:31:31 -0800
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr14.xs4all.nl (8.12.11/8.12.11) with ESMTP id j1LMVSmm018445
	for <lucene-user@jakarta.apache.org>; Mon, 21 Feb 2005 23:31:28 +0100 (CET)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: lucene-user@jakarta.apache.org
Subject: Re: Optional Terms in a single query
Date: Mon, 21 Feb 2005 23:31:27 +0100
User-Agent: KMail/1.5.4
References: <02e301c5160b$761053c0$7703d00a@hypermedia.com> <5aa719781b8049d5850d95d5df9dd1dc@ehatchersolutions.com> <010001c51863$ec3ff2d0$7703d00a@hypermedia.com>
In-Reply-To: <010001c51863$ec3ff2d0$7703d00a@hypermedia.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200502212331.27577.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Monday 21 February 2005 23:23, Luke Shannon wrote:
> Hi;
> 
> I'm trying to create a query that look for a field containing type:181 and
> name doesn't contain tim, bill or harry.

type: 181  -(name: tim name:bill name:harry)

> +(type: 181) +((-name: tim -name:bill -name:harry +oldfaith:stillHere))

stillHere is normally lowercased before searching. Is that ok?

> +(type: 181) +((-name: tim OR bill OR harry +oldfaith:stillHere))
> +(type: 181) +((-name:*(tim bill harry)* +olfaithfull:stillhere))

typo? olfaithfull 

> +(type:1 81) +((-name:*(tim OR bill OR harry)* +olfaithfull:stillhere))

typo? (type:1 81)
 
> I would really think to do this all in one Query. Is this even possible?

How would you want to combine the results?

Regards,
Paul Elschot


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13349-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 21 22:33:56 2005
Return-Path: <lucene-user-return-13349-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 93828 invoked from network); 21 Feb 2005 22:33:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Feb 2005 22:33:56 -0000
Received: (qmail 38481 invoked by uid 500); 21 Feb 2005 22:33:52 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 38330 invoked by uid 500); 21 Feb 2005 22:33:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 38317 invoked by uid 99); 21 Feb 2005 22:33:52 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from ns.part.net (HELO mail.part.net) (65.106.108.178)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 21 Feb 2005 14:33:50 -0800
Received: from [192.168.5.23] ([192.168.1.253])
  by mail.part.net with esmtp; Mon, 21 Feb 2005 15:33:49 -0700
Message-ID: <421A61C5.2060702@part.net>
Date: Mon, 21 Feb 2005 15:33:41 -0700
From: Todd VanderVeen <tdv@part.net>
User-Agent: Mozilla Thunderbird 0.9 (Windows/20041103)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Optional Terms in a single query
References: <02e301c5160b$761053c0$7703d00a@hypermedia.com> <5aa719781b8049d5850d95d5df9dd1dc@ehatchersolutions.com> <010001c51863$ec3ff2d0$7703d00a@hypermedia.com>
In-Reply-To: <010001c51863$ec3ff2d0$7703d00a@hypermedia.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Luke Shannon wrote:

>Hi;
>
>I'm trying to create a query that look for a field containing type:181 and
>name doesn't contain tim, bill or harry.
>
>+(type: 181) +((-name: tim -name:bill -name:harry +oldfaith:stillHere))
>+(type: 181) +((-name: tim OR bill OR harry +oldfaith:stillHere))
>+(type: 181) +((-name:*(tim bill harry)* +olfaithfull:stillhere))
>+(type:1 81) +((-name:*(tim OR bill OR harry)* +olfaithfull:stillhere))
>
>I would really think to do this all in one Query. Is this even possible?
>
>Thanks,
>
>Luke
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>  
>
All all the queries listed attempts at the same things?

I'm guessing you want this:

+type:181 -name:(tim bill harry) +oldfaith:stillHere



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13350-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 21 22:35:32 2005
Return-Path: <lucene-user-return-13350-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 94241 invoked from network); 21 Feb 2005 22:35:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Feb 2005 22:35:31 -0000
Received: (qmail 40729 invoked by uid 500); 21 Feb 2005 22:35:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 40548 invoked by uid 500); 21 Feb 2005 22:35:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 40535 invoked by uid 99); 21 Feb 2005 22:35:27 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 21 Feb 2005 14:35:27 -0800
Received: from p001002 ([204.225.84.27]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Mon, 21 Feb 2005 17:39:49 -0500
Message-ID: <010801c51866$40173240$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <02e301c5160b$761053c0$7703d00a@hypermedia.com> <5aa719781b8049d5850d95d5df9dd1dc@ehatchersolutions.com> <010001c51863$ec3ff2d0$7703d00a@hypermedia.com> <200502212331.27577.paul.elschot@xs4all.nl>
Subject: Re: Optional Terms in a single query
Date: Mon, 21 Feb 2005 17:39:49 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 21 Feb 2005 22:39:49.0193 (UTC) FILETIME=[40269B90:01C51866]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Sorry about the typos.

What I would like is a document with a type field = 181,
olfaithfull=stillHere and a name field not containing tim, bill or harry.

Thanks,

Luke

----- Original Message ----- 
From: "Paul Elschot" <paul.elschot@xs4all.nl>
To: <lucene-user@jakarta.apache.org>
Sent: Monday, February 21, 2005 5:31 PM
Subject: Re: Optional Terms in a single query


> On Monday 21 February 2005 23:23, Luke Shannon wrote:
> > Hi;
> >
> > I'm trying to create a query that look for a field containing type:181
and
> > name doesn't contain tim, bill or harry.
>
> type: 181  -(name: tim name:bill name:harry)
>
> > +(type: 181) +((-name: tim -name:bill -name:harry +oldfaith:stillHere))
>
> stillHere is normally lowercased before searching. Is that ok?
>
> > +(type: 181) +((-name: tim OR bill OR harry +oldfaith:stillHere))
> > +(type: 181) +((-name:*(tim bill harry)* +olfaithfull:stillhere))
>
> typo? olfaithfull
>
> > +(type:1 81) +((-name:*(tim OR bill OR harry)* +olfaithfull:stillhere))
>
> typo? (type:1 81)
>
> > I would really think to do this all in one Query. Is this even possible?
>
> How would you want to combine the results?
>
> Regards,
> Paul Elschot
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13351-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 21 23:03:34 2005
Return-Path: <lucene-user-return-13351-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 6856 invoked from network); 21 Feb 2005 23:03:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Feb 2005 23:03:34 -0000
Received: (qmail 67825 invoked by uid 500); 21 Feb 2005 23:03:22 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 67406 invoked by uid 500); 21 Feb 2005 23:03:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 67393 invoked by uid 99); 21 Feb 2005 23:03:21 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 21 Feb 2005 15:03:20 -0800
Received: from p001002 ([204.225.84.27]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Mon, 21 Feb 2005 18:07:41 -0500
Message-ID: <011601c5186a$24b5a050$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <02e301c5160b$761053c0$7703d00a@hypermedia.com> <5aa719781b8049d5850d95d5df9dd1dc@ehatchersolutions.com> <010001c51863$ec3ff2d0$7703d00a@hypermedia.com> <421A61C5.2060702@part.net>
Subject: Re: Optional Terms in a single query
Date: Mon, 21 Feb 2005 18:07:41 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 21 Feb 2005 23:07:41.0242 (UTC) FILETIME=[24C509A0:01C5186A]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

The API I'm working with combines a series of queries into one larger one
using a boolean query.

Queries on the same field get OR's into one big query. All remaining queries
are AND'd with this big one.

Working with in this system I have:

arg = (mario luigi bobby joe) //i do have control of how this list is
created

I pass this to the QueryParser:

Query query1 = QueryParser.parse(arg, "name", new StandardAnalyzer());
Query query2 = QueryParser.parse("stillhere", "olfaithfull", new
StandardAnalyzer());
BooleanQuery typeNegativeSearch = new BooleanQuery();
typeNegativeSearch.add(query1, false, true);
typeNegativeSearch.add(query2, true, false);

This is half the query.

It gets AND'd with the other half, to create what you see below:

+(type:181) +((-(name:tim name:harry name:bill) +olfaithfull:stillhere))

What I am having trouble with is getting the QueryParser to create
this: -name:(tim bill harry)

I feel like this is something simple, but for some reason I can't figure it
out.

Thanks,

Luke

----- Original Message ----- 
From: "Todd VanderVeen" <tdv@part.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Monday, February 21, 2005 5:33 PM
Subject: Re: Optional Terms in a single query


> Luke Shannon wrote:
>
> >Hi;
> >
> >I'm trying to create a query that look for a field containing type:181
and
> >name doesn't contain tim, bill or harry.
> >
> >+(type: 181) +((-name: tim -name:bill -name:harry +oldfaith:stillHere))
> >+(type: 181) +((-name: tim OR bill OR harry +oldfaith:stillHere))
> >+(type: 181) +((-name:*(tim bill harry)* +olfaithfull:stillhere))
> >+(type:1 81) +((-name:*(tim OR bill OR harry)* +olfaithfull:stillhere))
> >
> >I would really think to do this all in one Query. Is this even possible?
> >
> >Thanks,
> >
> >Luke
> >
> >
> >
> >---------------------------------------------------------------------
> >To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> >
> >
> All all the queries listed attempts at the same things?
>
> I'm guessing you want this:
>
> +type:181 -name:(tim bill harry) +oldfaith:stillHere
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13352-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 21 23:26:34 2005
Return-Path: <lucene-user-return-13352-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 13895 invoked from network); 21 Feb 2005 23:26:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Feb 2005 23:26:34 -0000
Received: (qmail 87528 invoked by uid 500); 21 Feb 2005 23:26:31 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 87497 invoked by uid 500); 21 Feb 2005 23:26:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 87484 invoked by uid 99); 21 Feb 2005 23:26:31 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from ns.part.net (HELO mail.part.net) (65.106.108.178)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 21 Feb 2005 15:26:30 -0800
Received: from [192.168.5.23] ([192.168.1.253])
  by mail.part.net with esmtp; Mon, 21 Feb 2005 16:26:27 -0700
Message-ID: <421A6E1B.8040306@part.net>
Date: Mon, 21 Feb 2005 16:26:19 -0700
From: Todd VanderVeen <tdv@part.net>
User-Agent: Mozilla Thunderbird 0.9 (Windows/20041103)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Optional Terms in a single query
References: <02e301c5160b$761053c0$7703d00a@hypermedia.com> <5aa719781b8049d5850d95d5df9dd1dc@ehatchersolutions.com> <010001c51863$ec3ff2d0$7703d00a@hypermedia.com> <421A61C5.2060702@part.net> <011601c5186a$24b5a050$7703d00a@hypermedia.com>
In-Reply-To: <011601c5186a$24b5a050$7703d00a@hypermedia.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Luke Shannon wrote:

>The API I'm working with combines a series of queries into one larger one
>using a boolean query.
>
>Queries on the same field get OR's into one big query. All remaining queries
>are AND'd with this big one.
>
>Working with in this system I have:
>
>arg = (mario luigi bobby joe) //i do have control of how this list is
>created
>
>I pass this to the QueryParser:
>
>Query query1 = QueryParser.parse(arg, "name", new StandardAnalyzer());
>Query query2 = QueryParser.parse("stillhere", "olfaithfull", new
>StandardAnalyzer());
>BooleanQuery typeNegativeSearch = new BooleanQuery();
>typeNegativeSearch.add(query1, false, true);
>typeNegativeSearch.add(query2, true, false);
>
>This is half the query.
>
>It gets AND'd with the other half, to create what you see below:
>
>+(type:181) +((-(name:tim name:harry name:bill) +olfaithfull:stillhere))
>
>What I am having trouble with is getting the QueryParser to create
>this: -name:(tim bill harry)
>
>I feel like this is something simple, but for some reason I can't figure it
>out.
>
>Thanks,
>
>Luke
>
>  
>
Is the API something you control?

Lets call the other half of you query query3. To avoid the extra nesting 
you need to do the composition in a single boolean query.

Query query1 = QueryParser.parse(arg, "name", new StandardAnalyzer());
Query query2 = QueryParser.parse("stillhere", "olfaithfull", new StandardAnalyzer());
Query query3 = ....

BooleanQuery finalQuery = new BooleanQuery();
finalQuery.add(query1, false, true);
finalQuery.add(query2, true, false);
finalQuery.add(query3, true, false);

Cheers,
Todd VanderVeen

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13353-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 21 23:47:27 2005
Return-Path: <lucene-user-return-13353-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 23680 invoked from network); 21 Feb 2005 23:47:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 21 Feb 2005 23:47:27 -0000
Received: (qmail 15995 invoked by uid 500); 21 Feb 2005 23:47:23 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 15977 invoked by uid 500); 21 Feb 2005 23:47:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15959 invoked by uid 99); 21 Feb 2005 23:47:23 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 21 Feb 2005 15:47:21 -0800
Received: from p001002 ([204.225.84.27]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Mon, 21 Feb 2005 18:51:42 -0500
Message-ID: <012701c51870$4b5124e0$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <02e301c5160b$761053c0$7703d00a@hypermedia.com> <5aa719781b8049d5850d95d5df9dd1dc@ehatchersolutions.com> <010001c51863$ec3ff2d0$7703d00a@hypermedia.com> <421A61C5.2060702@part.net> <011601c5186a$24b5a050$7703d00a@hypermedia.com> <421A6E1B.8040306@part.net>
Subject: Re: Optional Terms in a single query
Date: Mon, 21 Feb 2005 18:51:42 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 21 Feb 2005 23:51:42.0995 (UTC) FILETIME=[4B608E30:01C51870]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi Tod;

Thanks for your help.

I was able to do what you said but in a much uglier way using a Boolean
Query and adding Wildcard Queries.

The end result looks like this:

The query: +(type:138) +((-name:*tim* -name:*bill* -name:*harry*
+olfaithfull:stillhere))

But this one works as expected.

Thanks!

Luke
----- Original Message ----- 
From: "Todd VanderVeen" <tdv@part.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Monday, February 21, 2005 6:26 PM
Subject: Re: Optional Terms in a single query


> Luke Shannon wrote:
>
> >The API I'm working with combines a series of queries into one larger one
> >using a boolean query.
> >
> >Queries on the same field get OR's into one big query. All remaining
queries
> >are AND'd with this big one.
> >
> >Working with in this system I have:
> >
> >arg = (mario luigi bobby joe) //i do have control of how this list is
> >created
> >
> >I pass this to the QueryParser:
> >
> >Query query1 = QueryParser.parse(arg, "name", new StandardAnalyzer());
> >Query query2 = QueryParser.parse("stillhere", "olfaithfull", new
> >StandardAnalyzer());
> >BooleanQuery typeNegativeSearch = new BooleanQuery();
> >typeNegativeSearch.add(query1, false, true);
> >typeNegativeSearch.add(query2, true, false);
> >
> >This is half the query.
> >
> >It gets AND'd with the other half, to create what you see below:
> >
> >+(type:181) +((-(name:tim name:harry name:bill) +olfaithfull:stillhere))
> >
> >What I am having trouble with is getting the QueryParser to create
> >this: -name:(tim bill harry)
> >
> >I feel like this is something simple, but for some reason I can't figure
it
> >out.
> >
> >Thanks,
> >
> >Luke
> >
> >
> >
> Is the API something you control?
>
> Lets call the other half of you query query3. To avoid the extra nesting
> you need to do the composition in a single boolean query.
>
> Query query1 = QueryParser.parse(arg, "name", new StandardAnalyzer());
> Query query2 = QueryParser.parse("stillhere", "olfaithfull", new
StandardAnalyzer());
> Query query3 = ....
>
> BooleanQuery finalQuery = new BooleanQuery();
> finalQuery.add(query1, false, true);
> finalQuery.add(query2, true, false);
> finalQuery.add(query3, true, false);
>
> Cheers,
> Todd VanderVeen
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13354-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 22 00:01:22 2005
Return-Path: <lucene-user-return-13354-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 28164 invoked from network); 22 Feb 2005 00:01:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Feb 2005 00:01:22 -0000
Received: (qmail 23514 invoked by uid 500); 22 Feb 2005 00:01:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 23484 invoked by uid 500); 22 Feb 2005 00:01:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23471 invoked by uid 99); 22 Feb 2005 00:01:19 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from ns.part.net (HELO mail.part.net) (65.106.108.178)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 21 Feb 2005 16:01:18 -0800
Received: from [192.168.5.23] ([192.168.1.253])
  by mail.part.net with esmtp; Mon, 21 Feb 2005 17:01:16 -0700
Message-ID: <421A7644.2010301@part.net>
Date: Mon, 21 Feb 2005 17:01:08 -0700
From: Todd VanderVeen <tdv@part.net>
User-Agent: Mozilla Thunderbird 0.9 (Windows/20041103)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Optional Terms in a single query
References: <02e301c5160b$761053c0$7703d00a@hypermedia.com> <5aa719781b8049d5850d95d5df9dd1dc@ehatchersolutions.com> <010001c51863$ec3ff2d0$7703d00a@hypermedia.com> <421A61C5.2060702@part.net> <011601c5186a$24b5a050$7703d00a@hypermedia.com> <421A6E1B.8040306@part.net> <012701c51870$4b5124e0$7703d00a@hypermedia.com>
In-Reply-To: <012701c51870$4b5124e0$7703d00a@hypermedia.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Luke Shannon wrote:

>Hi Tod;
>
>Thanks for your help.
>
>I was able to do what you said but in a much uglier way using a Boolean
>Query and adding Wildcard Queries.
>
>The end result looks like this:
>
>The query: +(type:138) +((-name:*tim* -name:*bill* -name:*harry*
>+olfaithfull:stillhere))
>
>But this one works as expected.
>
>Thanks!
>
>Luke
>----- Original Message ----- 
>From: "Todd VanderVeen" <tdv@part.net>
>To: "Lucene Users List" <lucene-user@jakarta.apache.org>
>Sent: Monday, February 21, 2005 6:26 PM
>Subject: Re: Optional Terms in a single query
>
>
>  
>
>>Luke Shannon wrote:
>>
>>    
>>
>>>The API I'm working with combines a series of queries into one larger one
>>>using a boolean query.
>>>
>>>Queries on the same field get OR's into one big query. All remaining
>>>      
>>>
>queries
>  
>
>>>are AND'd with this big one.
>>>
>>>Working with in this system I have:
>>>
>>>arg = (mario luigi bobby joe) //i do have control of how this list is
>>>created
>>>
>>>I pass this to the QueryParser:
>>>
>>>Query query1 = QueryParser.parse(arg, "name", new StandardAnalyzer());
>>>Query query2 = QueryParser.parse("stillhere", "olfaithfull", new
>>>StandardAnalyzer());
>>>BooleanQuery typeNegativeSearch = new BooleanQuery();
>>>typeNegativeSearch.add(query1, false, true);
>>>typeNegativeSearch.add(query2, true, false);
>>>
>>>This is half the query.
>>>
>>>It gets AND'd with the other half, to create what you see below:
>>>
>>>+(type:181) +((-(name:tim name:harry name:bill) +olfaithfull:stillhere))
>>>
>>>What I am having trouble with is getting the QueryParser to create
>>>this: -name:(tim bill harry)
>>>
>>>I feel like this is something simple, but for some reason I can't figure
>>>      
>>>
>it
>  
>
>>>out.
>>>
>>>Thanks,
>>>
>>>Luke
>>>
>>>
>>>
>>>      
>>>
>>Is the API something you control?
>>
>>Lets call the other half of you query query3. To avoid the extra nesting
>>you need to do the composition in a single boolean query.
>>
>>Query query1 = QueryParser.parse(arg, "name", new StandardAnalyzer());
>>Query query2 = QueryParser.parse("stillhere", "olfaithfull", new
>>    
>>
>StandardAnalyzer());
>  
>
>>Query query3 = ....
>>
>>BooleanQuery finalQuery = new BooleanQuery();
>>finalQuery.add(query1, false, true);
>>finalQuery.add(query2, true, false);
>>finalQuery.add(query3, true, false);
>>
>>Cheers,
>>Todd VanderVeen
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>    
>>
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>  
>
I would be careful using wildcards as proposed. They can be inefficient 
(particularly in a list of disjunctions) but even more importantly you 
are excluding more than the 3 names. Your results won't be consistent 
with your intent.

Cheers,
Todd VanderVeen



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13355-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 22 08:58:59 2005
Return-Path: <lucene-user-return-13355-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 81003 invoked from network); 22 Feb 2005 08:58:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Feb 2005 08:58:59 -0000
Received: (qmail 8530 invoked by uid 500); 22 Feb 2005 08:58:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 8492 invoked by uid 500); 22 Feb 2005 08:58:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8466 invoked by uid 99); 22 Feb 2005 08:58:55 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from shared4.hardhathosting.com (HELO getopt.org) (69.44.16.11)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 22 Feb 2005 00:58:54 -0800
Received: from [192.168.0.254] (75-mo3-2.acn.waw.pl [62.121.105.75])
	(authenticated)
	by getopt.org (8.11.6/8.11.6) with ESMTP id j1M8xk711856
	for <lucene-user@jakarta.apache.org>; Tue, 22 Feb 2005 02:59:46 -0600
Message-ID: <421AF449.4060001@getopt.org>
Date: Tue, 22 Feb 2005 09:58:49 +0100
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Optional Terms in a single query
References: <02e301c5160b$761053c0$7703d00a@hypermedia.com> <5aa719781b8049d5850d95d5df9dd1dc@ehatchersolutions.com> <010001c51863$ec3ff2d0$7703d00a@hypermedia.com> <421A61C5.2060702@part.net> <011601c5186a$24b5a050$7703d00a@hypermedia.com> <421A6E1B.8040306@part.net> <012701c51870$4b5124e0$7703d00a@hypermedia.com> <421A7644.2010301@part.net>
In-Reply-To: <421A7644.2010301@part.net>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Todd VanderVeen wrote:
>>
> I would be careful using wildcards as proposed. They can be inefficient 
> (particularly in a list of disjunctions) but even more importantly you 
> are excluding more than the 3 names. Your results won't be consistent 
> with your intent.

In the new version of Luke (the tool) you can view how your wildcard 
query is re-written into boolean queries. This should help to catch 
those cases where wildcard queries match unwanted terms.

-- 
Best regards,
Andrzej Bialecki
  ___. ___ ___ ___ _ _   __________________________________
[__ || __|__/|__||\/|  Information Retrieval, Semantic Web
___|||__||  \|  ||  |  Embedded Unix, System Integration
http://www.sigram.com  Contact: info at sigram dot com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13356-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 22 21:22:46 2005
Return-Path: <lucene-user-return-13356-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 30133 invoked from network); 22 Feb 2005 21:22:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Feb 2005 21:22:46 -0000
Received: (qmail 75119 invoked by uid 500); 22 Feb 2005 21:22:33 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 75090 invoked by uid 500); 22 Feb 2005 21:22:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 75076 invoked by uid 99); 22 Feb 2005 21:22:33 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of john.wang@gmail.com designates 64.233.170.203 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.203)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 22 Feb 2005 13:22:31 -0800
Received: by rproxy.gmail.com with SMTP id 40so11035rnz
        for <lucene-user@jakarta.apache.org>; Tue, 22 Feb 2005 13:22:29 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:references;
        b=eVjAfr02MbwvopcgK0mJfYURFu1mC8vhbi96maL506zXZGDpb7K2bhxOzeCSfl1uyb+nHgD4J/3YLbSy9RFhQZFLO7KVE9laCtaIBTjGWEkbLcLTXx/i8mWFRRzJa8vKM2UZVg8Kf5ncqcpukO8RD7KDr4ju5OVXz844iNNkuSw=
Received: by 10.38.206.76 with SMTP id d76mr66616rng;
        Tue, 22 Feb 2005 13:22:29 -0800 (PST)
Received: by 10.38.179.63 with HTTP; Tue, 22 Feb 2005 13:22:29 -0800 (PST)
Message-ID: <8837fb77050222132279c0dd07@mail.gmail.com>
Date: Tue, 22 Feb 2005 13:22:29 -0800
From: John Wang <john.wang@gmail.com>
Reply-To: John Wang <john.wang@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: knowing which field contributed the search result
In-Reply-To: <421A427F.2030003@tropo.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
References: <8837fb7705021614393260cf76@mail.gmail.com>
	 <8837fb770502211214594cd538@mail.gmail.com>
	 <421A427F.2030003@tropo.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi David:

    Can you further explain which calls specically would solve my problem?

Thanks

-John

On Mon, 21 Feb 2005 12:20:15 -0800, David Spencer
<dave-lucene-user@tropo.com> wrote:
> John Wang wrote:
> 
> > Anyone has any thoughts on this?
> 
> Does this help?
> 
> http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/search/Searchable.html#explain(org.apache.lucene.search.Query,%20int)
> >
> > Thanks
> >
> > -John
> >
> >
> > On Wed, 16 Feb 2005 14:39:52 -0800, John Wang <john.wang@gmail.com> wrote:
> >
> >>Hi:
> >>
> >>   Is there way to find out given a hit from a search, find out which
> >>fields contributed to the hit?
> >>
> >>e.g.
> >>
> >>If my search for:
> >>
> >>contents1="brown fox" OR contents2="black bear"
> >>
> >>can the document founded by this query also have information on
> >>whether it was found via contents1 or contents2 or both.
> >>
> >>Thanks
> >>
> >>-John
> >>
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13357-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 22 21:56:38 2005
Return-Path: <lucene-user-return-13357-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 45545 invoked from network); 22 Feb 2005 21:56:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Feb 2005 21:56:38 -0000
Received: (qmail 37953 invoked by uid 500); 22 Feb 2005 21:56:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 37923 invoked by uid 500); 22 Feb 2005 21:56:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 37909 invoked by uid 99); 22 Feb 2005 21:56:33 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from server1.hostmon.com (HELO server1.hostmon.com) (66.139.76.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 22 Feb 2005 13:56:32 -0800
Received: (qmail 8865 invoked by uid 532); 22 Feb 2005 21:56:07 -0000
Received: from dave-lucene-user@tropo.com by server1.hostmon.com by uid 0 with qmail-scanner-1.16 
 (spamassassin: 3.0.0.  Clear:. 
 Processed in 0.096915 secs); 22 Feb 2005 21:56:07 -0000
Received: from unknown (HELO ?10.0.0.157?) (127.0.0.1)
  by 0 with SMTP; 22 Feb 2005 21:56:07 -0000
Message-ID: <421BAAAB.7070605@tropo.com>
Date: Tue, 22 Feb 2005 13:56:59 -0800
From: David Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.3) Gecko/20040910
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: knowing which field contributed the search result
References: <8837fb7705021614393260cf76@mail.gmail.com>	 <8837fb770502211214594cd538@mail.gmail.com>	 <421A427F.2030003@tropo.com> <8837fb77050222132279c0dd07@mail.gmail.com>
In-Reply-To: <8837fb77050222132279c0dd07@mail.gmail.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

John Wang wrote:

> Hi David:
> 
>     Can you further explain which calls specically would solve my problem?

Not in depth but anyway:

Examine the output of Explanation.toHtml() and/or 
Explanation.toString(). Does it contain the info you want..if so call 
the other Explanation methods and/or dig into the src if necessary. 
getValue() is the score, so all that's missing is the name of the field 
and I'm not sure if that's directly returned or not.


> 
> Thanks
> 
> -John
> 
> On Mon, 21 Feb 2005 12:20:15 -0800, David Spencer
> <dave-lucene-user@tropo.com> wrote:
> 
>>John Wang wrote:
>>
>>
>>>Anyone has any thoughts on this?
>>
>>Does this help?
>>
>>http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/search/Searchable.html#explain(org.apache.lucene.search.Query,%20int)
>>
>>>Thanks
>>>
>>>-John
>>>
>>>
>>>On Wed, 16 Feb 2005 14:39:52 -0800, John Wang <john.wang@gmail.com> wrote:
>>>
>>>
>>>>Hi:
>>>>
>>>>  Is there way to find out given a hit from a search, find out which
>>>>fields contributed to the hit?
>>>>
>>>>e.g.
>>>>
>>>>If my search for:
>>>>
>>>>contents1="brown fox" OR contents2="black bear"
>>>>
>>>>can the document founded by this query also have information on
>>>>whether it was found via contents1 or contents2 or both.
>>>>
>>>>Thanks
>>>>
>>>>-John
>>>>
>>>
>>>
>>>---------------------------------------------------------------------
>>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13358-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 22 22:12:42 2005
Return-Path: <lucene-user-return-13358-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 52989 invoked from network); 22 Feb 2005 22:12:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Feb 2005 22:12:42 -0000
Received: (qmail 81920 invoked by uid 500); 22 Feb 2005 22:12:37 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 81890 invoked by uid 500); 22 Feb 2005 22:12:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 81875 invoked by uid 99); 22 Feb 2005 22:12:36 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 22 Feb 2005 14:12:36 -0800
Received: from p001002 ([204.225.84.27]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Tue, 22 Feb 2005 17:16:55 -0500
Message-ID: <00bd01c5192c$376d1bc0$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <8837fb7705021614393260cf76@mail.gmail.com>	 <8837fb770502211214594cd538@mail.gmail.com>	 <421A427F.2030003@tropo.com> <8837fb77050222132279c0dd07@mail.gmail.com> <421BAAAB.7070605@tropo.com>
Subject: MultiField Queries without the QueryParser
Date: Tue, 22 Feb 2005 17:16:54 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 22 Feb 2005 22:16:55.0003 (UTC) FILETIME=[377B9AB0:01C5192C]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello;

The book meantions the MultiFieldQueryParser as one way of dealing with
multifield queries. Can someone point me in the direction of other ways?

Thanks,

Luke



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13359-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Feb 22 22:34:59 2005
Return-Path: <lucene-user-return-13359-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 62905 invoked from network); 22 Feb 2005 22:34:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 22 Feb 2005 22:34:58 -0000
Received: (qmail 26212 invoked by uid 500); 22 Feb 2005 22:34:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 26181 invoked by uid 500); 22 Feb 2005 22:34:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26168 invoked by uid 99); 22 Feb 2005 22:34:54 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 22 Feb 2005 14:34:53 -0800
Received: from p001002 ([204.225.84.27]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Tue, 22 Feb 2005 17:39:13 -0500
Message-ID: <00cf01c5192f$551bf4e0$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <8837fb7705021614393260cf76@mail.gmail.com>	 <8837fb770502211214594cd538@mail.gmail.com>	 <421A427F.2030003@tropo.com> <8837fb77050222132279c0dd07@mail.gmail.com> <421BAAAB.7070605@tropo.com> <00bd01c5192c$376d1bc0$7703d00a@hypermedia.com>
Subject: Re: MultiField Queries without the QueryParser
Date: Tue, 22 Feb 2005 17:39:13 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 22 Feb 2005 22:39:13.0308 (UTC) FILETIME=[552CBDC0:01C5192F]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Responding to this posts. Please disreguard.

Sorry.

----- Original Message ----- 
From: "Luke Shannon" <lshannon@futurebrand.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Tuesday, February 22, 2005 5:16 PM
Subject: MultiField Queries without the QueryParser


> Hello;
> 
> The book meantions the MultiFieldQueryParser as one way of dealing with
> multifield queries. Can someone point me in the direction of other ways?
> 
> Thanks,
> 
> Luke
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13360-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 23 00:17:36 2005
Return-Path: <lucene-user-return-13360-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 3111 invoked from network); 23 Feb 2005 00:17:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Feb 2005 00:17:35 -0000
Received: (qmail 53519 invoked by uid 500); 23 Feb 2005 00:17:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 53317 invoked by uid 500); 23 Feb 2005 00:17:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 53304 invoked by uid 99); 23 Feb 2005 00:17:31 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from 251.017.dsl.syd.iprimus.net.au (HELO file1.syd.nuix.com.au) (210.50.55.251)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 22 Feb 2005 16:17:30 -0800
Received: from host55.syd.nuix.com.au (host55.syd.nuix.com.au [192.168.222.55])
	by file1.syd.nuix.com.au (Postfix) with ESMTP id 4BE17B7124
	for <lucene-user@jakarta.apache.org>; Wed, 23 Feb 2005 11:17:25 +1100 (EST)
Content-Type: text/plain;
  charset="iso-8859-1"
From: David Sitsky <sits@nuix.com.au>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Lucene vs. in-DB-full-text-searching
Date: Wed, 23 Feb 2005 11:06:02 +1100
User-Agent: KMail/1.4.3
References: <20050218223130.70595.qmail@web31106.mail.mud.yahoo.com>
In-Reply-To: <20050218223130.70595.qmail@web31106.mail.mud.yahoo.com>
Organization: Nuix Pty Ltd.
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <200502231106.03000.sits@nuix.com.au>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Sat, 19 Feb 2005 09:31, Otis Gospodnetic wrote:
> You are right.
> Since there are C++ and now C ports of Lucene, it would be interesting
> to integrate them directly with DBs, so that the RDBMS full-text search
> under the hood is actually powered by one of the Lucene ports.

Or to see Lucene + Derby (100% JAVA embedded database donated from IBM 
currently in Apache incubation) integrated together... that would be 
really nice and powerful.

Does anyone know if there are any integration plans?

-- 
Cheers,
David

This message is intended only for the named recipient.  If you are not the 
intended recipient you are notified that disclosing, copying, distributing 
or taking any action  in reliance on the contents of this information is 
strictly prohibited.


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13361-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 23 01:50:17 2005
Return-Path: <lucene-user-return-13361-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 33273 invoked from network); 23 Feb 2005 01:50:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Feb 2005 01:50:17 -0000
Received: (qmail 59289 invoked by uid 500); 23 Feb 2005 01:50:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 58415 invoked by uid 500); 23 Feb 2005 01:50:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 58402 invoked by uid 99); 23 Feb 2005 01:50:13 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu) (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 22 Feb 2005 17:50:12 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 6FE7E5B778; Tue, 22 Feb 2005 17:50:08 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 66D917F45E
	for <lucene-user@jakarta.apache.org>; Tue, 22 Feb 2005 17:50:08 -0800 (PST)
Date: Tue, 22 Feb 2005 17:50:08 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene in the Humanities
In-Reply-To: <34208ca71d3d85336071fe8fe8cb9c7e@ehatchersolutions.com>
Message-ID: <Pine.LNX.4.58.0502221740090.5702@hal.rescomp.berkeley.edu>
References: <662e054f8caea1c0887a35a43c1313f1@ehatchersolutions.com>
 <200502182147.32366.paul.elschot@xs4all.nl> <5d863839e8d8333e3d29310bfb887308@ehatchersolutions.com>
 <200502190037.27537.paul.elschot@xs4all.nl> <34208ca71d3d85336071fe8fe8cb9c7e@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


: >>> Just curious: it would seem easier to use multiple fields for the
: >>> original case and lowercase searching. Is there any particular reason
: >>> you analyzed the documents to multiple indexes instead of multiple
: >>> fields?
: >>
: >> I considered that approach, however to expose QueryParser I'd have to
: >> get tricky.  If I have title_orig and title_lc fields, how would I
: >> allow freeform queries of title:something?

Why have seperate fields?

Why not index the title into the "title" field twice, once with each term
lowercased and once with the case left alone. (Using an analyzer that
tokenizes "The Quick BrOwN fox" as "[the] [quick] [brown] [fox] [The]
[Quick] [BrOwN] [fox]")

Then at search time, depending on the value of of the checkbox, construct
your QueryParser using the appropriate Analyzer.

The only problem i can think of would be inflated scores for terms that
are naturally lowercased, because they would wind up getting added to the
index twice, but based on what i've seen of hte data you are working
with, i imageing that if you used UPPERCASE instead of lowercase you
could drasticly reduce the likelyhood of any problems with that.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13362-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 23 03:37:02 2005
Return-Path: <lucene-user-return-13362-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 85855 invoked from network); 23 Feb 2005 03:37:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Feb 2005 03:37:02 -0000
Received: (qmail 42339 invoked by uid 500); 23 Feb 2005 03:37:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 41466 invoked by uid 500); 23 Feb 2005 03:36:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 41453 invoked by uid 99); 23 Feb 2005 03:36:59 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Tue, 22 Feb 2005 19:36:57 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 78D2413E20ED; Tue, 22 Feb 2005 22:36:56 -0500 (EST)
Received: from [192.168.1.100] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id 87D3713E2009
	for <lucene-user@jakarta.apache.org>; Tue, 22 Feb 2005 22:36:30 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <Pine.LNX.4.58.0502221740090.5702@hal.rescomp.berkeley.edu>
References: <662e054f8caea1c0887a35a43c1313f1@ehatchersolutions.com> <200502182147.32366.paul.elschot@xs4all.nl> <5d863839e8d8333e3d29310bfb887308@ehatchersolutions.com> <200502190037.27537.paul.elschot@xs4all.nl> <34208ca71d3d85336071fe8fe8cb9c7e@ehatchersolutions.com> <Pine.LNX.4.58.0502221740090.5702@hal.rescomp.berkeley.edu>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <de5a0d7aa1d0d08e0fc7e72f1ca7fa46@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Lucene in the Humanities
Date: Tue, 22 Feb 2005 22:36:27 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.4 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Feb 22, 2005, at 8:50 PM, Chris Hostetter wrote:

>
> : >>> Just curious: it would seem easier to use multiple fields for the
> : >>> original case and lowercase searching. Is there any particular 
> reason
> : >>> you analyzed the documents to multiple indexes instead of 
> multiple
> : >>> fields?
> : >>
> : >> I considered that approach, however to expose QueryParser I'd 
> have to
> : >> get tricky.  If I have title_orig and title_lc fields, how would I
> : >> allow freeform queries of title:something?
>
> Why have seperate fields?
>
> Why not index the title into the "title" field twice, once with each 
> term
> lowercased and once with the case left alone. (Using an analyzer that
> tokenizes "The Quick BrOwN fox" as "[the] [quick] [brown] [fox] [The]
> [Quick] [BrOwN] [fox]")
>
> Then at search time, depending on the value of of the checkbox, 
> construct
> your QueryParser using the appropriate Analyzer.

I assume you mean to stack the tokens in the same positions, so it'd be 
like this:

	[the]	[quick]	[brown]	[fox]
	[The]	[Quick]	[BrOwN]	[fox]

Otherwise, if you simply string it together like what you show, then 
this phrase matches "fox The Quick", which is not in the original 
document.  Though putting in a large gap would do the trick in your 
example.

There is a fiddly issue with this technique that I'm not quite seeing 
at the moment, but I'll brainstorm on it and hopefully remember it or 
perhaps be proven wrong.

I'm Lucene-brain-dead.... I just did a presentation to our local Unix 
Users Group.    I built a man page indexer/searcher with PyLucene 
(thank you Andi!).  I had to learn Python as well, which was a good 
exercise, and learned lots from Andi's helpful private e-mails coaching 
me through my learning curve.  Now that I've seen the beast known as 
Python, I'm yearning for a Ruby version based on GCJ/SWIG.  A local 
Ruby guru and I are planning on meeting for a few hours each week and 
take a stab at it.  I'll commit whatever we do directly to a /ruby 
directory in Subversion.

Here's an example of my PyLucene output:

$ mansearch.py interface section:5
remote - remote host description file
rtadvd.conf - config file for router advertisement daemon
ipnat - IP NAT file format
groff_out - groff intermediate output format
xinetd.conf - Extended Internet Services Daemon configuration file
plist - property list format
racoon.conf - configuration file for racoon
ssh_config - OpenSSH SSH client configuration files
sudoers - list of which users may execute what

Even with custom formatting:

$ mansearch.py --format=#filename interface section:5
/usr/share/man/man5/remote.5
/usr/share/man/man5/rtadvd.conf.5
/usr/share/man/man5/ipnat.5
/usr/share/man/man5/groff_out.5
/usr/share/man/man5/xinetd.conf.5
/usr/share/man/man5/plist.5
/usr/share/man/man5/racoon.conf.5
/usr/share/man/man5/ssh_config.5
/usr/share/man/man5/sudoers.5

suitable for xargs :)

	Erik


>
> The only problem i can think of would be inflated scores for terms that
> are naturally lowercased, because they would wind up getting added to 
> the
> index twice, but based on what i've seen of hte data you are working
> with, i imageing that if you used UPPERCASE instead of lowercase you
> could drasticly reduce the likelyhood of any problems with that.
>
>
>
> -Hoss
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13363-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 23 12:24:24 2005
Return-Path: <lucene-user-return-13363-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 26239 invoked from network); 23 Feb 2005 12:24:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Feb 2005 12:24:24 -0000
Received: (qmail 88669 invoked by uid 500); 23 Feb 2005 12:24:20 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 88483 invoked by uid 500); 23 Feb 2005 12:24:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 88470 invoked by uid 99); 23 Feb 2005 12:24:19 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web21321.mail.yahoo.com (HELO web21321.mail.yahoo.com) (216.136.175.207)
  by apache.org (qpsmtpd/0.28) with SMTP; Wed, 23 Feb 2005 04:24:17 -0800
Received: (qmail 96101 invoked by uid 60001); 23 Feb 2005 12:24:15 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=S7lDnWHBwjMsT4pVRgRBBJJX6CSZsnUiVfwlyjRIhN9mW7ohX/zqmeuv/3hcr9/neytDQSQmLk/OuhxTvfszjkBfFdKWhGfnlF0zorXrkpO4PIk23RdX+FSnMIXZAHjGMZ1ZZCZ3qqI1KkXgX+GMF2xG5DqSDp8cWhsLPU9BPis=  ;
Message-ID: <20050223122415.96099.qmail@web21321.mail.yahoo.com>
Received: from [81.182.58.232] by web21321.mail.yahoo.com via HTTP; Wed, 23 Feb 2005 04:24:15 PST
Date: Wed, 23 Feb 2005 04:24:15 -0800 (PST)
From: Sanyi <need4sid@yahoo.com>
Subject: there are more terms than documents in field ...
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi!

I'm indexing 99 documents, then I want to sort them by title, but Lucene throws:

there are more terms than documents in field "title"

I have no such problems with my other indices with a lot more documents.

How can I sort smaller indices by title?

Regards,
Sanyi


		
__________________________________ 
Do you Yahoo!? 
Yahoo! Mail - Helps protect you from nasty viruses. 
http://promotions.yahoo.com/new_mail

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13364-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 23 13:22:38 2005
Return-Path: <lucene-user-return-13364-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 63030 invoked from network); 23 Feb 2005 13:22:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Feb 2005 13:22:38 -0000
Received: (qmail 86012 invoked by uid 500); 23 Feb 2005 13:22:28 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 85971 invoked by uid 500); 23 Feb 2005 13:22:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 85718 invoked by uid 99); 23 Feb 2005 13:22:24 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from redhat.sirma.bg (HELO redhat.sirma.bg) (62.213.161.130)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 23 Feb 2005 05:22:22 -0800
Received: from stenly (stenly.sirma.int [192.168.128.211])
	by redhat.sirma.bg (8.12.7/8.12.7/Sirma Linux 0.6) with SMTP id j1NDMIHE008042
	for <lucene-user@jakarta.apache.org>; Wed, 23 Feb 2005 15:22:19 +0200
Message-ID: <006801c519aa$b251fee0$d380a8c0@sirma.int>
From: "Stanislav Jordanov" <stenly@sirma.bg>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20050223122415.96099.qmail@web21321.mail.yahoo.com>
Subject: Re: there are more terms than documents in field ...
Date: Wed, 23 Feb 2005 15:22:17 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.3790.181
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.3790.181
X-Virus-Scanned: by Sirma Antivirus System             
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

In order to sort by specific field
that field must be <stored, indexed, non-tokenized> (aka Keyword)
Perhaps your field is tokenized?


----- Original Message ----- 
From: "Sanyi" <need4sid@yahoo.com>
To: <lucene-user@jakarta.apache.org>
Sent: Wednesday, February 23, 2005 2:24 PM
Subject: there are more terms than documents in field ...


> Hi!
>
> I'm indexing 99 documents, then I want to sort them by title, but Lucene
throws:
>
> there are more terms than documents in field "title"
>
> I have no such problems with my other indices with a lot more documents.
>
> How can I sort smaller indices by title?
>
> Regards,
> Sanyi
>
>
>
> __________________________________
> Do you Yahoo!?
> Yahoo! Mail - Helps protect you from nasty viruses.
> http://promotions.yahoo.com/new_mail
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13365-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 23 15:32:33 2005
Return-Path: <lucene-user-return-13365-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 58079 invoked from network); 23 Feb 2005 15:32:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Feb 2005 15:32:32 -0000
Received: (qmail 63769 invoked by uid 500); 23 Feb 2005 15:32:03 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 63659 invoked by uid 500); 23 Feb 2005 15:32:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 63613 invoked by uid 99); 23 Feb 2005 15:32:02 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from sparta.hostgo.com (HELO sparta.hostgo.com) (66.220.22.162)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 23 Feb 2005 07:31:59 -0800
Received: from [65.19.37.63] (helo=[10.0.1.2])
	by sparta.hostgo.com with esmtpa (Exim 4.44)
	id 1D3yUT-0003af-Lv
	for lucene-user@jakarta.apache.org; Wed, 23 Feb 2005 10:31:54 -0500
Mime-Version: 1.0 (Apple Message framework v619)
Content-Transfer-Encoding: 7bit
Message-Id: <0907B3BF-85B0-11D9-B227-000A95973046@backspaces.net>
Content-Type: text/plain; charset=US-ASCII; format=flowed
To: lucene-user@jakarta.apache.org
From: Owen Densmore <owen@backspaces.net>
Subject: Term Weights and Clustering
Date: Wed, 23 Feb 2005 08:31:49 -0700
X-Mailer: Apple Mail (2.619)
X-MailScanner-Information: This email message has been scanned for viruses
X-MailScanner-HostGo: Found to be clean
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - sparta.hostgo.com
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - backspaces.net
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I'm building a TDM (Term Document Matrix) from my lucene index.  As 
part of this, it would be useful to have the document term weights (the 
TF*IDF-weight) if they are already available.  Naturally I can compute 
them, but I suspect they are lurking behind an API I've not discovered 
yet.  Is there an API for getting them?

I'm doing this as a first step in discovering a good set of clustering 
labels.  My data collection is 1200 research papers, all of which have 
good meta data: titles, authors, abstracts, keyphrases and so on.

One source for how to do this is the thesis of Stanislaw Osinski and 
others like it:
     http://www.dcs.shef.ac.uk/teaching/eproj/msc2004/abs/m3so.htm
And the Carrot2 project which uses similar techniques.
     http://www.cs.put.poznan.pl/dweiss/carrot/

My problem is simple: I need a fairly clear discussion on exactly how 
to generate the labels, and to assign documents to them.  The thesis is 
quite good, but I'm not sure I can reduce it to practice in the 2-3 
days I have to evaluate it!  Lucene has made the TDM easy to calculate, 
but I basically don't know what to do next!

Can anyone comment on whether or not this will work, and if so, suggest 
a quick way to get a demo on the air?  For example, I don't seem to be 
able to ask Carrot2 to do a Google "site" search.  If I could, I could 
simply aim Carrot2 at my collection with a very general search and see 
what clusters it discovers.  This may be a gross misuse of Carrot2's 
clustering anyway, so could easily be a blind alley.

Or is there a different stunt with Lucene that might work?  For 
example, use Lucene to cluster the docs using a batch search where the 
queries are Library of Congress descriptions!  Batch searching is 
*really fast* in Lucene -- I've been able to search the data collection 
against each distinct keyphrase in seconds!

Owen


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13366-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 23 18:43:18 2005
Return-Path: <lucene-user-return-13366-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 71021 invoked from network); 23 Feb 2005 18:43:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Feb 2005 18:43:18 -0000
Received: (qmail 44670 invoked by uid 500); 23 Feb 2005 18:43:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 43791 invoked by uid 500); 23 Feb 2005 18:43:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43777 invoked by uid 99); 23 Feb 2005 18:43:14 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from server1.hostmon.com (HELO server1.hostmon.com) (66.139.76.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 23 Feb 2005 10:43:12 -0800
Received: (qmail 26163 invoked by uid 532); 23 Feb 2005 18:42:46 -0000
Received: from dave-lucene-user@tropo.com by server1.hostmon.com by uid 0 with qmail-scanner-1.16 
 (spamassassin: 3.0.0.  Clear:. 
 Processed in 0.056165 secs); 23 Feb 2005 18:42:46 -0000
Received: from unknown (HELO ?10.0.0.157?) (127.0.0.1)
  by 0 with SMTP; 23 Feb 2005 18:42:46 -0000
Message-ID: <421CCEDD.5020003@tropo.com>
Date: Wed, 23 Feb 2005 10:43:41 -0800
From: David Spencer <dave-lucene-user@tropo.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.3) Gecko/20040910
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Term Weights and Clustering
References: <0907B3BF-85B0-11D9-B227-000A95973046@backspaces.net>
In-Reply-To: <0907B3BF-85B0-11D9-B227-000A95973046@backspaces.net>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I'm a little confused on exactly, exactly what you want but if your goal 
is to cluster your papers w/ carrot2 then I found these links helpful:

http://www.newsarch.com/archive/mailinglist/jakarta/lucene/user/msg03928.html
http://www.cs.put.poznan.pl/dweiss/tmp/carrot2-lucene.zip

Only caveat is I found that carrot2 tends to not scale beyond 200 or so 
docs, though this probably depends on length of docs & the # of 
different tokens.

I was able to use the above to integ w/ a lucene search results page in 
just an hour or so.


Owen Densmore wrote:

> I'm building a TDM (Term Document Matrix) from my lucene index.  As part 
> of this, it would be useful to have the document term weights (the 
> TF*IDF-weight) if they are already available.  Naturally I can compute 
> them, but I suspect they are lurking behind an API I've not discovered 
> yet.  Is there an API for getting them?
> 
> I'm doing this as a first step in discovering a good set of clustering 
> labels.  My data collection is 1200 research papers, all of which have 
> good meta data: titles, authors, abstracts, keyphrases and so on.
> 
> One source for how to do this is the thesis of Stanislaw Osinski and 
> others like it:
>     http://www.dcs.shef.ac.uk/teaching/eproj/msc2004/abs/m3so.htm
> And the Carrot2 project which uses similar techniques.
>     http://www.cs.put.poznan.pl/dweiss/carrot/
> 
> My problem is simple: I need a fairly clear discussion on exactly how to 
> generate the labels, and to assign documents to them.  The thesis is 
> quite good, but I'm not sure I can reduce it to practice in the 2-3 days 
> I have to evaluate it!  Lucene has made the TDM easy to calculate, but I 
> basically don't know what to do next!
> 
> Can anyone comment on whether or not this will work, and if so, suggest 
> a quick way to get a demo on the air?  For example, I don't seem to be 
> able to ask Carrot2 to do a Google "site" search.  If I could, I could 
> simply aim Carrot2 at my collection with a very general search and see 
> what clusters it discovers.  This may be a gross misuse of Carrot2's 
> clustering anyway, so could easily be a blind alley.
> 
> Or is there a different stunt with Lucene that might work?  For example, 
> use Lucene to cluster the docs using a batch search where the queries 
> are Library of Congress descriptions!  Batch searching is *really fast* 
> in Lucene -- I've been able to search the data collection against each 
> distinct keyphrase in seconds!
> 
> Owen
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13367-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 23 19:24:08 2005
Return-Path: <lucene-user-return-13367-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 92161 invoked from network); 23 Feb 2005 19:24:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Feb 2005 19:24:08 -0000
Received: (qmail 16680 invoked by uid 500); 23 Feb 2005 19:24:04 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 16391 invoked by uid 500); 23 Feb 2005 19:24:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16378 invoked by uid 99); 23 Feb 2005 19:24:03 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from 87.52.220-216.q9.net (HELO mail.futurebrandexp.com) (216.220.52.87)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 23 Feb 2005 11:24:01 -0800
Received: from p001002 ([204.225.84.27]) by mail.futurebrandexp.com with Microsoft SMTPSVC(5.0.2195.5329);
	 Wed, 23 Feb 2005 14:28:18 -0500
Message-ID: <006901c519dd$d4054870$7703d00a@hypermedia.com>
From: "Luke Shannon" <lshannon@futurebrand.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <8837fb7705021614393260cf76@mail.gmail.com>	 <8837fb770502211214594cd538@mail.gmail.com>	 <421A427F.2030003@tropo.com> <8837fb77050222132279c0dd07@mail.gmail.com> <421BAAAB.7070605@tropo.com>
Subject: Filtering Question
Date: Wed, 23 Feb 2005 14:28:18 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-OriginalArrivalTime: 23 Feb 2005 19:28:18.0648 (UTC) FILETIME=[D4141580:01C519DD]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello;

I'm trying to create a Filter that only retrieves documents with a path
field containing a sub string(s).

I can get the Filter to work if the BooleanQuery below (used to create the
Filter) contains only TermQueries (this requires me to know the exact path).
But not if it contains Wildcard?

Here is the code to create the filter:

//if the paths parameter is null we don't use the filter
        boolean useFilter = false;
        BooleanQuery filterParams = new BooleanQuery();
        if (paths != null) {
            useFilter = true;
            Trace.DEBUG("The query will have a filter with " + paths.size()
+ " terms.");
            Iterator path = paths.iterator();
            while (path.hasNext()) {
                String strPath = "*" + (String)path.next() + "*";
                Trace.DEBUG(strPath + " is one of the params");
                filterParams.add(new WildcardQuery(new Term("path",
strPath)), false, false);
            }

        }
        Trace.DEBUG("The filter is created using this: " + filterParams);
        Filter pathFilter = new QueryFilter(filterParams);
        Trace.DEBUG("The filter is " + pathFilter.toString());

When useFilter is true, the search is executed with pathFilter as the second
parameter -> hits = searcher.search(query, pathFilter);

Here is a small output, without the filter this query returns all the
documents in the index. With it, 6 should be coming back.

*testing* is one of the params
The filter is created using this: path:*testing*
The filter is QueryFilter(path:*testing*)
The query: olfaithfull:*stillhere* returned 0

Why won't this work?

Thanks,

Luke



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13368-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Wed Feb 23 20:34:29 2005
Return-Path: <lucene-user-return-13368-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 43772 invoked from network); 23 Feb 2005 20:34:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 23 Feb 2005 20:34:29 -0000
Received: (qmail 44433 invoked by uid 500); 23 Feb 2005 20:34:26 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 44307 invoked by uid 500); 23 Feb 2005 20:34:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 44294 invoked by uid 99); 23 Feb 2005 20:34:25 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from nomad.cognos.com (HELO nomad.cognos.com) (205.210.232.62)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 23 Feb 2005 12:34:24 -0800
Importance: normal
Priority: normal
Received: from sottemail1.ent.ad.cognos.com ([10.69.15.60]) by nomad.cognos.com with Microsoft SMTPSVC(6.0.3790.211); Wed, 23 Feb 2005 15:34:19 -0500
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.3790.132
Content-Class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Disposition-Notification-To: "Weir, Michael" <Michael.Weir@cognos.com>
Subject: Stemming problem question
Date: Wed, 23 Feb 2005 15:34:18 -0500
Message-ID: <2B4E386EAEC90947802323BF373DC0EC05E8E291@sottemail1.ent.ad.cognos.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Stemming problem question
thread-index: AcUYR3BNoPyzBMAgTviCz5ivXabGjwBnfJdw
From: "Weir, Michael" <Michael.Weir@cognos.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-OriginalArrivalTime: 23 Feb 2005 20:34:19.0592 (UTC) FILETIME=[0CFC2C80:01C519E7]
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I'm getting complaints that I assume are related to stemming, e.g.
"Stamping" (the department) being indexed as "stamp" and not found using
'stamp*' in a query.  Somewhere I read someone suggesting that text be
indexed as two fields, one with the stemmer and one without.

Rather than doing this, does it make sense to implement a
'MultiAnalyzer' class that can be associated with several Analyzers and
returns a 'MultiTokenStream' that reads tokens from each Analyzer in
turn, resetting the Reader between each?

If such a thing makes sense (and hasn't already been implemented) I
would be glad to share it.

Thanks,
Michael Weir=20
 =20
       This message may contain privileged and/or confidential =
information.  If you have received this e-mail in error or are not the =
intended recipient, you may not use, copy, disseminate or distribute it; =
do not open any attachments, delete it immediately from your system and =
notify the sender promptly by e-mail that you have done so.  Thank you.=20
=20

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13369-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 24 04:27:44 2005
Return-Path: <lucene-user-return-13369-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 70411 invoked from network); 24 Feb 2005 04:27:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 Feb 2005 04:27:43 -0000
Received: (qmail 94736 invoked by uid 500); 24 Feb 2005 04:27:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 94710 invoked by uid 500); 24 Feb 2005 04:27:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 94695 invoked by uid 99); 24 Feb 2005 04:27:39 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from smtp-roam.Stanford.EDU (HELO smtp-roam.Stanford.EDU) (171.64.10.152)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 23 Feb 2005 20:27:38 -0800
Received: from [10.0.0.176] (hxu-woon-lps.Stanford.EDU [171.65.78.176])
	(authenticated bits=0)
	by smtp-roam.Stanford.EDU (8.12.11/8.12.11) with ESMTP id j1O4RZxB029093
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NOT)
	for <lucene-user@jakarta.apache.org>; Wed, 23 Feb 2005 20:27:35 -0800
Message-ID: <421D57B6.7080405@helix.stanford.edu>
Date: Wed, 23 Feb 2005 20:27:34 -0800
From: Mark Woon <morpheus@helix.stanford.edu>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7) Gecko/20040616
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Javadoc error?
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

The javadoc for Field.setBoost() claims: 

"The boost is multiplied by |Document.getBoost()| 
<http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/document/Document.html#getBoost%28%29> 
of the document containing this field. If a document has multiple fields 
with the same name, all such values are multiplied together."

However, from what I can tell from IndexSearcher.explain(), multiple 
fields with the same name have their boost values added together.  It 
might very well be that I'm misinterprating what I'm seeing from 
explain(), but if I'm not, then either the javadoc is wrong or there's a 
bug somewhere...

Does anyone know which way it's actually supposed to work?

Thanks,
-Mark

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13370-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 24 04:48:05 2005
Return-Path: <lucene-user-return-13370-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 83080 invoked from network); 24 Feb 2005 04:48:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 Feb 2005 04:48:05 -0000
Received: (qmail 32227 invoked by uid 500); 24 Feb 2005 04:47:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 32170 invoked by uid 500); 24 Feb 2005 04:47:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 32120 invoked by uid 99); 24 Feb 2005 04:47:58 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from rwcrmhc13.comcast.net (HELO rwcrmhc13.comcast.net) (204.127.198.39)
  by apache.org (qpsmtpd/0.28) with ESMTP; Wed, 23 Feb 2005 20:47:57 -0800
Received: from [192.168.168.81] (c-24-5-160-217.client.comcast.net[24.5.160.217])
          by comcast.net (rwcrmhc13) with ESMTP
          id <2005022404475501500ku5ese>; Thu, 24 Feb 2005 04:47:56 +0000
Message-ID: <421D5C7B.9030900@apache.org>
Date: Wed, 23 Feb 2005 20:47:55 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 0.9 (X11/20041127)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Javadoc error?
References: <421D57B6.7080405@helix.stanford.edu>
In-Reply-To: <421D57B6.7080405@helix.stanford.edu>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Mark Woon wrote:
> The javadoc for Field.setBoost() claims:
> "The boost is multiplied by |Document.getBoost()| 
> <http://jakarta.apache.org/lucene/docs/api/org/apache/lucene/document/Document.html#getBoost%28%29> 
> of the document containing this field. If a document has multiple fields 
> with the same name, all such values are multiplied together."
> 
> However, from what I can tell from IndexSearcher.explain(), multiple 
> fields with the same name have their boost values added together.  It 
> might very well be that I'm misinterprating what I'm seeing from 
> explain(), but if I'm not, then either the javadoc is wrong or there's a 
> bug somewhere...
> 
> Does anyone know which way it's actually supposed to work?

Boosts for multiple fields with the same name in the a document are 
multiplied together at index time to form the boost for that field of 
that document.  At search time, if multiple query terms from the same 
field match the same document, then that document's field boost is 
multiplied into the score for both terms, and these scores are then 
added.  If boost(field,doc) is the boost, and raw(term,doc) is the raw, 
unboosted score (I'm simplifying things) then the score for a two term 
query is something like:

   boosted(<t1,t2>,d) =
     boost(t1.field,d)*raw(t1,d) + boost(t2.field,d)*raw(t2,d)

which, when t1 and t2 are in the same field, is equivalent to:

   boosted(<t1,t2>,d) = boost(field,d)*(raw(t1,d) + raw(t2,d))

The explain() feature prints things in the first form, where the boosts 
appear in separate components of a sum.

Does that help?

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13371-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 24 08:01:12 2005
Return-Path: <lucene-user-return-13371-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 8706 invoked from network); 24 Feb 2005 08:01:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 Feb 2005 08:01:11 -0000
Received: (qmail 2613 invoked by uid 500); 24 Feb 2005 08:01:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 2409 invoked by uid 500); 24 Feb 2005 08:01:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2387 invoked by uid 99); 24 Feb 2005 08:01:05 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO mail.sofari.com) (12.43.53.196)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 24 Feb 2005 00:01:03 -0800
Received: from [192.165.110.65] (www.rojo.com [66.180.233.2] (may be forged))
	by mail.sofari.com (8.12.11/8.12.3/Debian-6.6) with ESMTP id j1O80xbM031758
	for <lucene-user@jakarta.apache.org>; Thu, 24 Feb 2005 00:01:00 -0800
Message-ID: <421D89B6.20804@newsmonster.org>
Date: Thu, 24 Feb 2005 00:00:54 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040616
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Possible to mix/match indexes with diff TermInfosWriter.INDEX_INTERVAL
 ??
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I finally had some time to take Doug's advice and reburn our indexes 
with a larger TermInfosWriter.INDEX_INTERVAL value.

The default is 128 but I increased it to 256 and then burned our indexes 
again and was lucky enough to notice that our memory usage dropped in 1/2.

This introduced a bug however where when we try to load our pages before 
and after we're missing 99% of documents from our index.  What happens 
is that we have a term -> key mapping so that we can pull out documents 
based on essentially a primary key.  The key is just hte URL of the 
document.  With the default value it works fine but when I change it to 
256 it cant' find the majority of the documents.  In fact its only able 
to find one.

Is this setting incompatible with older indexes burned with the lower value?

Kevin

-- 

Use Rojo (RSS/Atom aggregator).  Visit http://rojo.com. Ask me for an 
invite!  Also see irc.freenode.net #rojo if you want to chat.

Rojo is Hiring! - http://www.rojonetworks.com/JobsAtRojo.html

If you're interested in RSS, Weblogs, Social Networking, etc... then you 
should work for Rojo!  If you recommend someone and we hire them you'll 
get a free iPod!
    
Kevin A. Burton, Location - San Francisco, CA
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13372-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 24 08:10:01 2005
Return-Path: <lucene-user-return-13372-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 13957 invoked from network); 24 Feb 2005 08:10:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 Feb 2005 08:10:01 -0000
Received: (qmail 19656 invoked by uid 500); 24 Feb 2005 08:09:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 19618 invoked by uid 500); 24 Feb 2005 08:09:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19605 invoked by uid 99); 24 Feb 2005 08:09:55 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO mail.sofari.com) (12.43.53.196)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 24 Feb 2005 00:09:54 -0800
Received: from [104.179.13.8] (www.rojo.com [66.180.233.2] (may be forged))
	by mail.sofari.com (8.12.11/8.12.3/Debian-6.6) with ESMTP id j1O89mVC031869;
	Thu, 24 Feb 2005 00:09:48 -0800
Message-ID: <421D8BC6.10600@newsmonster.org>
Date: Thu, 24 Feb 2005 00:09:42 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040616
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
CC: puff@darksleep.com
Subject: Re: Lucene vs. in-DB-full-text-searching
References: <20050218213840.80103.qmail@web31107.mail.mud.yahoo.com>
In-Reply-To: <20050218213840.80103.qmail@web31107.mail.mud.yahoo.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Otis Gospodnetic wrote:

>The most obvious answer is that the full-text indexing features of
>RDBMS's are not as good (as fast) as Lucene.  MySQL, PostgreSQL,
>Oracle, MS SQL Server etc. all have full-text indexing/searching
>features, but I always hear people complaining about the speed.  A
>person from a well-known online bookseller told me recently that Lucene
>was about 10x faster that MySQL for full-text searching, and I am
>currently helping someone get away from MySQL and into Lucene for
>performance reasons.
>  
>
Also... MySQL full text search isn't perfect. If you're not a java 
programmer it would be difficult to hack on. Another downside is that FT 
in MySQL only works with MyISAM tables which aren't transaction aware 
and use global tables locks (not fun).

I'm sure though that MySQL would do a better job at online index 
maintenance than Lucene. It falls down a bit in this area...

Kevin

-- 

Use Rojo (RSS/Atom aggregator).  Visit http://rojo.com. Ask me for an 
invite!  Also see irc.freenode.net #rojo if you want to chat.

Rojo is Hiring! - http://www.rojonetworks.com/JobsAtRojo.html

If you're interested in RSS, Weblogs, Social Networking, etc... then you 
should work for Rojo!  If you recommend someone and we hire them you'll 
get a free iPod!
    
Kevin A. Burton, Location - San Francisco, CA
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13373-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 24 08:11:20 2005
Return-Path: <lucene-user-return-13373-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 14629 invoked from network); 24 Feb 2005 08:11:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 Feb 2005 08:11:20 -0000
Received: (qmail 22373 invoked by uid 500); 24 Feb 2005 08:11:15 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 22241 invoked by uid 500); 24 Feb 2005 08:11:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22225 invoked by uid 99); 24 Feb 2005 08:11:15 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_30_40,HTML_MESSAGE,HTML_TITLE_EMPTY
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO mail.sofari.com) (12.43.53.196)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 24 Feb 2005 00:11:13 -0800
Received: from [104.179.13.8] (www.rojo.com [66.180.233.2] (may be forged))
	by mail.sofari.com (8.12.11/8.12.3/Debian-6.6) with ESMTP id j1O8BBoH031927
	for <lucene-user@jakarta.apache.org>; Thu, 24 Feb 2005 00:11:12 -0800
Message-ID: <421D8C19.1020405@newsmonster.org>
Date: Thu, 24 Feb 2005 00:11:05 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040616
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene vs. in-DB-full-text-searching
References: <20050218223130.70595.qmail@web31106.mail.mud.yahoo.com> <200502231106.03000.sits@nuix.com.au>
In-Reply-To: <200502231106.03000.sits@nuix.com.au>
Content-Type: multipart/alternative;
 boundary="------------010101090902020106020600"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------010101090902020106020600
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit

David Sitsky wrote:

>On Sat, 19 Feb 2005 09:31, Otis Gospodnetic wrote:
>  
>
>>You are right.
>>Since there are C++ and now C ports of Lucene, it would be interesting
>>to integrate them directly with DBs, so that the RDBMS full-text search
>>under the hood is actually powered by one of the Lucene ports.
>>    
>>
>
>Or to see Lucene + Derby (100% JAVA embedded database donated from IBM 
>currently in Apache incubation) integrated together... that would be 
>really nice and powerful.
>
>Does anyone know if there are any integration plans?
>  
>
Don't forget BerkeleyDB Java  Edition... that would be interesting too...

Kevin

-- 

Use Rojo (RSS/Atom aggregator).  Visit http://rojo.com. Ask me for an 
invite!  Also see irc.freenode.net #rojo if you want to chat.

Rojo is Hiring! - http://www.rojonetworks.com/JobsAtRojo.html

If you're interested in RSS, Weblogs, Social Networking, etc... then you 
should work for Rojo!  If you recommend someone and we hire them you'll 
get a free iPod!
    
Kevin A. Burton, Location - San Francisco, CA
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412


--------------010101090902020106020600--

From lucene-user-return-13374-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 24 08:27:03 2005
Return-Path: <lucene-user-return-13374-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 45875 invoked from network); 24 Feb 2005 08:27:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 Feb 2005 08:27:03 -0000
Received: (qmail 43282 invoked by uid 500); 24 Feb 2005 08:26:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 43261 invoked by uid 500); 24 Feb 2005 08:26:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 43242 invoked by uid 99); 24 Feb 2005 08:26:58 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO mail.sofari.com) (12.43.53.196)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 24 Feb 2005 00:26:58 -0800
Received: from [192.165.110.65] (www.rojo.com [66.180.233.2] (may be forged))
	by mail.sofari.com (8.12.11/8.12.3/Debian-6.6) with ESMTP id j1O8Qo45032144
	for <lucene-user@jakarta.apache.org>; Thu, 24 Feb 2005 00:26:56 -0800
Message-ID: <421D8FC5.4030100@newsmonster.org>
Date: Thu, 24 Feb 2005 00:26:45 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040616
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Possible to mix/match indexes with diff TermInfosWriter.INDEX_INTERVAL
 ??
References: <421D89B6.20804@newsmonster.org>
In-Reply-To: <421D89B6.20804@newsmonster.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Kevin A. Burton wrote:

> I finally had some time to take Doug's advice and reburn our indexes 
> with a larger TermInfosWriter.INDEX_INTERVAL value.

You know... it looks like the problem is that TermInfosReader uses 
INDEX_INTERVAL during seeks and is probably just jumping RIGHT past the 
offsets that I need.

If this is going to be a practical way of reducing Lucene memory 
footprint for HUGE indexes then its going to need a way to change this 
value based on the current index thats being opened.

Is there anyway to determine the INDEX_INTERVAL from the file?    It 
looks according to:

http://jakarta.apache.org/lucene/docs/fileformats.html

That the .tis file (which according to the docs the .tii file "is very 
similar to the .tis file" ) should have this data:

So according to this:

TermInfoFile (.tis)--> TIVersion, TermCount, IndexInterval, 
SkipInterval, TermInfos

The only problem is that the .tii and .tis files I have on disk don't 
have a constant preamble and doesnt' look like there's an index interval 
here...

Kevin

-- 

Use Rojo (RSS/Atom aggregator).  Visit http://rojo.com. Ask me for an 
invite!  Also see irc.freenode.net #rojo if you want to chat.

Rojo is Hiring! - http://www.rojonetworks.com/JobsAtRojo.html

If you're interested in RSS, Weblogs, Social Networking, etc... then you 
should work for Rojo!  If you recommend someone and we hire them you'll 
get a free iPod!
    
Kevin A. Burton, Location - San Francisco, CA
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13375-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 24 10:57:59 2005
Return-Path: <lucene-user-return-13375-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 18177 invoked from network); 24 Feb 2005 10:57:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 Feb 2005 10:57:59 -0000
Received: (qmail 74321 invoked by uid 500); 24 Feb 2005 10:57:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 73901 invoked by uid 500); 24 Feb 2005 10:57:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 73884 invoked by uid 99); 24 Feb 2005 10:57:53 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO mail.sofari.com) (12.43.53.196)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 24 Feb 2005 02:57:51 -0800
Received: from [192.168.1.100] (dsl081-071-021.sfo1.dsl.speakeasy.net [64.81.71.21])
	by mail.sofari.com (8.12.11/8.12.3/Debian-6.6) with ESMTP id j1OAvl18001715
	for <lucene-user@jakarta.apache.org>; Thu, 24 Feb 2005 02:57:49 -0800
Message-ID: <421DB325.9070802@newsmonster.org>
Date: Thu, 24 Feb 2005 02:57:41 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040616
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Possible to mix/match indexes with diff TermInfosWriter.INDEX_INTERVAL
 ??
References: <421D89B6.20804@newsmonster.org> <421D8FC5.4030100@newsmonster.org>
In-Reply-To: <421D8FC5.4030100@newsmonster.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Kevin A. Burton wrote:

> Kevin A. Burton wrote:
>
>> I finally had some time to take Doug's advice and reburn our indexes 
>> with a larger TermInfosWriter.INDEX_INTERVAL value.
>
>
> You know... it looks like the problem is that TermInfosReader uses 
> INDEX_INTERVAL during seeks and is probably just jumping RIGHT past 
> the offsets that I need.

I guess I'm thinking out loud here...

Looks like the only thing written to the tii index for metainfo is the 
"size" of the index.  Its an int and is the int of the stream (which is 
reserved).

Now I'm curious if there's any other way I can infer this value........

Kevin

-- 

Use Rojo (RSS/Atom aggregator).  Visit http://rojo.com. Ask me for an 
invite!  Also see irc.freenode.net #rojo if you want to chat.

Rojo is Hiring! - http://www.rojonetworks.com/JobsAtRojo.html

If you're interested in RSS, Weblogs, Social Networking, etc... then you 
should work for Rojo!  If you recommend someone and we hire them you'll 
get a free iPod!
    
Kevin A. Burton, Location - San Francisco, CA
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13376-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 24 11:53:46 2005
Return-Path: <lucene-user-return-13376-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 45908 invoked from network); 24 Feb 2005 11:53:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 Feb 2005 11:53:46 -0000
Received: (qmail 58584 invoked by uid 500); 24 Feb 2005 11:53:40 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 58551 invoked by uid 500); 24 Feb 2005 11:53:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 58531 invoked by uid 99); 24 Feb 2005 11:53:39 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from libra.cs.put.poznan.pl (HELO libra.cs.put.poznan.pl) (150.254.30.30)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 24 Feb 2005 03:53:36 -0800
Received: from libra.cs.put.poznan.pl (localhost [127.0.0.1])
	by libra (Postfix on VMS) with SMTP id B12E135C3
	for <lucene-user@jakarta.apache.org>; Thu, 24 Feb 2005 12:53:31 +0100 (CET)
Received: from [150.254.24.146] (idss-dw-pnca.cs.put.poznan.pl [150.254.24.146])
	by libra.cs.put.poznan.pl (Postfix on VMS) with ESMTP id 95DB735BB
	for <lucene-user@jakarta.apache.org>; Thu, 24 Feb 2005 12:53:31 +0100 (CET)
Message-ID: <421DBFDA.5020702@cs.put.poznan.pl>
Date: Thu, 24 Feb 2005 12:51:54 +0100
From: Dawid Weiss <dawid.weiss@cs.put.poznan.pl>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Term Weights and Clustering
References: <0907B3BF-85B0-11D9-B227-000A95973046@backspaces.net>
In-Reply-To: <0907B3BF-85B0-11D9-B227-000A95973046@backspaces.net>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


Hi Owen,

I'm from the Carrot2 project, so I feel called to the blackboard:

> One source for how to do this is the thesis of Stanislaw Osinski and 
> others like it:
>     http://www.dcs.shef.ac.uk/teaching/eproj/msc2004/abs/m3so.htm
> And the Carrot2 project which uses similar techniques.
>     http://www.cs.put.poznan.pl/dweiss/carrot/

Staszek Osinski is the author of Lingo, the best clustering algorithm 
available in Carrot2 -- we still work together in that project... In 
other words, Carrot2 doesn't use 'similar' techniques. It uses _the_ 
techniques described in the above thesis (and other various papars, see 
my Web page).

> My problem is simple: I need a fairly clear discussion on exactly how to 
> generate the labels, and to assign documents to them.  The thesis is 
> quite good, but I'm not sure I can reduce it to practice in the 2-3 days 
> I have to evaluate it!  Lucene has made the TDM easy to calculate, but I 
> basically don't know what to do next!

You can use Carrot2 directly for that. There are a few options. One 
thing is you can directly feed your input collection to the clustering 
component (it will take a while, but should work) -- you need to write a 
custom input component, but it is a very simple thing to do and I'm sure 
if you write to Carrot2 mailing list there will be somebody willing to 
help (like myself or Staszek ;).

Another option is: use Lucene to index your documents. Set up Carrot2 to 
use Lucene (described somewhere on this list, see David Spencer's message).

> a quick way to get a demo on the air?  For example, I don't seem to be 
> able to ask Carrot2 to do a Google "site" search.  

Yep, there is a problem with it. Post a bug report to carrot2 bugzilla, 
please. I'll investigate it when I have time.

> simply aim Carrot2 at my collection with a very general search and see 
> what clusters it discovers.  This may be a gross misuse of Carrot2's 
> clustering anyway, so could easily be a blind alley.

It kind of is because carrot2 clustering components work primarily with 
_short_, scarce information sources, such as snippets. We don't intend 
to work on large, raw documents collections... Having said that, a 1200 
documents isn't that much and you should be able to get your clusters.

D.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13377-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 24 13:17:46 2005
Return-Path: <lucene-user-return-13377-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 4178 invoked from network); 24 Feb 2005 13:17:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 Feb 2005 13:17:46 -0000
Received: (qmail 63880 invoked by uid 500); 24 Feb 2005 13:17:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 63856 invoked by uid 500); 24 Feb 2005 13:17:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 63838 invoked by uid 99); 24 Feb 2005 13:17:41 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from redhat.sirma.bg (HELO redhat.sirma.bg) (62.213.161.130)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 24 Feb 2005 05:17:39 -0800
Received: from stenly (stenly.sirma.int [192.168.128.211])
	by redhat.sirma.bg (8.12.7/8.12.7/Sirma Linux 0.6) with SMTP id j1ODHVHE032517
	for <lucene-user@jakarta.apache.org>; Thu, 24 Feb 2005 15:17:32 +0200
Message-ID: <009a01c51a73$32cb1b60$d380a8c0@sirma.int>
From: "Stanislav Jordanov" <stenly@sirma.bg>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <421D89B6.20804@newsmonster.org> <421D8FC5.4030100@newsmonster.org>
Subject: Custom filters & document numbers
Date: Thu, 24 Feb 2005 15:17:31 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.3790.181
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.3790.181
X-Virus-Scanned: by Sirma Antivirus System             
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Given an IndexReader a custom filter is supposed to create a bit set, that
maps each document numbers to {'visible', 'invisible'}
On the other hand, it is stated that Lucene is allowed to change document
numbers.
Is it guaranteed that this BitSet's view of document numbers won't change
while the BitSet is still in use (or perhaps the corresponding IndexReader
is still opened) ?

And another (more low-level) question.
When Lucene may change document numbers?
Is it only when the index is optimized after there has been a delete
operation?

Regards: StJ


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13378-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 24 13:51:04 2005
Return-Path: <lucene-user-return-13378-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 21706 invoked from network); 24 Feb 2005 13:51:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 Feb 2005 13:51:04 -0000
Received: (qmail 25030 invoked by uid 500); 24 Feb 2005 13:50:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 25008 invoked by uid 500); 24 Feb 2005 13:50:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24993 invoked by uid 99); 24 Feb 2005 13:50:58 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mailgate3.eduhi.at (HELO mailgate2.eduhi.at) (193.170.67.95)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 24 Feb 2005 05:50:57 -0800
Received: from localhost (localhost [127.0.0.1])
	by mailgate2.eduhi.at (Postfix) with ESMTP id 39CA52B221
	for <lucene-user@jakarta.apache.org>; Thu, 24 Feb 2005 14:50:46 +0100 (CET)
Received: from mail.eduhi.at (mail.asn-linz.ac.at [172.27.2.5])
	by mailgate2.eduhi.at (Postfix) with ESMTP id 131092B186
	for <lucene-user@jakarta.apache.org>; Thu, 24 Feb 2005 14:50:46 +0100 (CET)
Received: from [192.168.0.117] ([10.221.8.74]) by mail.eduhi.at with Microsoft SMTPSVC(5.0.2172.1);
	 Thu, 24 Feb 2005 14:50:43 +0100
Message-ID: <421DDBB3.5020803@eduhi.at>
Date: Thu, 24 Feb 2005 14:50:43 +0100
From: Gusenbauer Stefan <gusenbauer@eduhi.at>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: ngramj
References: <421D89B6.20804@newsmonster.org> <421D8FC5.4030100@newsmonster.org> <009a01c51a73$32cb1b60$d380a8c0@sirma.int>
In-Reply-To: <009a01c51a73$32cb1b60$d380a8c0@sirma.int>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 24 Feb 2005 13:50:43.0861 (UTC) FILETIME=[D5B29C50:01C51A77]
X-Spam-Checker-Version: SpamAssassin 2.64 (2004-01-11) on mailgate2.eduhi.at
X-Spam-Level: 
X-Spam-Status: No, hits=0.1 required=5.8 tests=EH_b_lwords,EH_f_whitelist5 
	autolearn=no version=2.64
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Does anyone know a good tutorial or the javadoc for ngramj because i 
need it for guessing the language of the documents which should be indexed?
thx
stefan


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13379-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 24 13:54:47 2005
Return-Path: <lucene-user-return-13379-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 24506 invoked from network); 24 Feb 2005 13:54:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 Feb 2005 13:54:47 -0000
Received: (qmail 30120 invoked by uid 500); 24 Feb 2005 13:54:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 29582 invoked by uid 500); 24 Feb 2005 13:54:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 29568 invoked by uid 99); 24 Feb 2005 13:54:41 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtpout.mac.com (HELO smtpout.mac.com) (17.250.248.46)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 24 Feb 2005 05:54:40 -0800
Received: from mac.com (smtpin01-en2 [10.13.10.146])
	by smtpout.mac.com (8.12.6/MantshX 2.0) with ESMTP id j1ODsaes009076
	for <lucene-user@jakarta.apache.org>; Thu, 24 Feb 2005 05:54:36 -0800 (PST)
Received: from [10.0.1.78] (adsl-84-226-44-90.adslplus.ch [84.226.44.90])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin01/MantshX 4.0) with ESMTP id j1ODsXqs017630
	(version=TLSv1/SSLv3 cipher=RC4-SHA bits=128 verify=NO)
	for <lucene-user@jakarta.apache.org>; Thu, 24 Feb 2005 05:54:35 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <421DDBB3.5020803@eduhi.at>
References: <421D89B6.20804@newsmonster.org> <421D8FC5.4030100@newsmonster.org> <009a01c51a73$32cb1b60$d380a8c0@sirma.int> <421DDBB3.5020803@eduhi.at>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <dba883463243731eb2106302603506d4@mac.com>
Content-Transfer-Encoding: 7bit
From: petite_abeille <petite_abeille@mac.com>
Subject: Re: ngramj
Date: Thu, 24 Feb 2005 14:55:10 +0100
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Feb 24, 2005, at 14:50, Gusenbauer Stefan wrote:

> Does anyone know a good tutorial or the javadoc for ngramj because i  
> need it for guessing the language of the documents which should be  
> indexed?

http://cvs.sourceforge.net/viewcvs.py/nutch/nutch/src/plugin/ 
languageidentifier/

Cheers

--
PA, Onnay Equitursay
http://alt.textdrive.com/


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13380-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 24 14:07:56 2005
Return-Path: <lucene-user-return-13380-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 32792 invoked from network); 24 Feb 2005 14:07:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 Feb 2005 14:07:56 -0000
Received: (qmail 48312 invoked by uid 500); 24 Feb 2005 14:07:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 48290 invoked by uid 500); 24 Feb 2005 14:07:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 48277 invoked by uid 99); 24 Feb 2005 14:07:51 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from exchange.bvdep.com (HELO exchange.bvdep.com) (193.194.158.19)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 24 Feb 2005 06:07:50 -0800
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Subject: RE: Custom filters & document numbers
Date: Thu, 24 Feb 2005 15:07:46 +0100
Message-ID: <950FF7DE40C2B64CAF80B564732927E1033E1BD6@exchange.be.bvd>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Custom filters & document numbers
Thread-Index: AcUaczucb44a1FEdTyee0JB3ROLiFQABggag
From: "Vanlerberghe, Luc" <Luc.Vanlerberghe@bvdep.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

An IndexReader will always see the same set of documents.
Even if another process deletes some documents, adds new ones or
optimizes the complete index, your IndexReader instance will not see
those changes.

If you detect that the Lucene index changed (e.g. by calling
IndexReader.getCurrentVersion(...) once in a while), you should close
and reopen your 'current' IndexReader and recalculate any data that
relies on the Lucene document numbers.

Regards, Luc.

-----Original Message-----
From: Stanislav Jordanov [mailto:stenly@sirma.bg]=20
Sent: donderdag 24 februari 2005 14:18
To: Lucene Users List
Subject: Custom filters & document numbers

Given an IndexReader a custom filter is supposed to create a bit set,
that maps each document numbers to {'visible', 'invisible'} On the other
hand, it is stated that Lucene is allowed to change document numbers.
Is it guaranteed that this BitSet's view of document numbers won't
change while the BitSet is still in use (or perhaps the corresponding
IndexReader is still opened) ?

And another (more low-level) question.
When Lucene may change document numbers?
Is it only when the index is optimized after there has been a delete
operation?

Regards: StJ


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13381-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 24 14:27:03 2005
Return-Path: <lucene-user-return-13381-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 57723 invoked from network); 24 Feb 2005 14:27:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 Feb 2005 14:27:03 -0000
Received: (qmail 80552 invoked by uid 500); 24 Feb 2005 14:26:58 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 80529 invoked by uid 500); 24 Feb 2005 14:26:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 80516 invoked by uid 99); 24 Feb 2005 14:26:58 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from redhat.sirma.bg (HELO redhat.sirma.bg) (62.213.161.130)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 24 Feb 2005 06:26:57 -0800
Received: from stenly (stenly.sirma.int [192.168.128.211])
	by redhat.sirma.bg (8.12.7/8.12.7/Sirma Linux 0.6) with SMTP id j1OEQrHE005791
	for <lucene-user@jakarta.apache.org>; Thu, 24 Feb 2005 16:26:53 +0200
Message-ID: <010c01c51a7c$ebaa98a0$d380a8c0@sirma.int>
From: "Stanislav Jordanov" <stenly@sirma.bg>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <950FF7DE40C2B64CAF80B564732927E1033E1BD6@exchange.be.bvd>
Subject: Re: Custom filters & document numbers
Date: Thu, 24 Feb 2005 16:27:08 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.3790.181
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.3790.181
X-Virus-Scanned: by Sirma Antivirus System             
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

The first statement is clear to me:
I know that an IndexReader sees a 'snapshot' of the document set that was
taken in the moment of the Reader's creation.

What I don't know is whether this 'snapshot' has also its doc numbers fixed
or they may change asynchronously.
And another thing I don't know is what are the index operations that may
cause the (doc -> doc number) mapping to change.
Is it only after delete or there are other ocasions, or I'd better not count
on this at all.

StJ

----- Original Message ----- 
From: "Vanlerberghe, Luc" <Luc.Vanlerberghe@bvdep.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Thursday, February 24, 2005 4:07 PM
Subject: RE: Custom filters & document numbers


> An IndexReader will always see the same set of documents.
> Even if another process deletes some documents, adds new ones or
> optimizes the complete index, your IndexReader instance will not see
> those changes.
>
> If you detect that the Lucene index changed (e.g. by calling
> IndexReader.getCurrentVersion(...) once in a while), you should close
> and reopen your 'current' IndexReader and recalculate any data that
> relies on the Lucene document numbers.
>
> Regards, Luc.
>
> -----Original Message-----
> From: Stanislav Jordanov [mailto:stenly@sirma.bg]
> Sent: donderdag 24 februari 2005 14:18
> To: Lucene Users List
> Subject: Custom filters & document numbers
>
> Given an IndexReader a custom filter is supposed to create a bit set,
> that maps each document numbers to {'visible', 'invisible'} On the other
> hand, it is stated that Lucene is allowed to change document numbers.
> Is it guaranteed that this BitSet's view of document numbers won't
> change while the BitSet is still in use (or perhaps the corresponding
> IndexReader is still opened) ?
>
> And another (more low-level) question.
> When Lucene may change document numbers?
> Is it only when the index is optimized after there has been a delete
> operation?
>
> Regards: StJ
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13382-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 24 16:03:18 2005
Return-Path: <lucene-user-return-13382-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 26169 invoked from network); 24 Feb 2005 16:03:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 Feb 2005 16:03:17 -0000
Received: (qmail 68232 invoked by uid 500); 24 Feb 2005 16:03:11 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 68206 invoked by uid 500); 24 Feb 2005 16:03:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68192 invoked by uid 99); 24 Feb 2005 16:03:11 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of mauroverrocchio@gmail.com designates 64.233.184.192 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.192)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 24 Feb 2005 08:03:11 -0800
Received: by wproxy.gmail.com with SMTP id 58so208457wri
        for <lucene-user@jakarta.apache.org>; Thu, 24 Feb 2005 08:03:09 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type:content-transfer-encoding;
        b=EdQtEldER78BCKji32AZcQzM39dYyXvdI+crfrCBlNLjRma6pGiWYLnEK9HGrUy6bc4T1ol7cDWD7xOyU/wGIrcw0AyeqlaxSsxkyGeMJrBkHG9PTIuCK0Mpl+h0Olv4B3FkQU/14wZ1rJJ10eVwoFQGoAdxmvY1S4TQL2e998E=
Received: by 10.54.44.39 with SMTP id r39mr124179wrr;
        Thu, 24 Feb 2005 08:03:08 -0800 (PST)
Received: by 10.54.3.79 with HTTP; Thu, 24 Feb 2005 08:03:08 -0800 (PST)
Message-ID: <a5755edd050224080349a34dde@mail.gmail.com>
Date: Thu, 24 Feb 2005 17:03:08 +0100
From: Mauro Verrocchio <mauroverrocchio@gmail.com>
Reply-To: Mauro Verrocchio <mauroverrocchio@gmail.com>
To: lucene-user@jakarta.apache.org
Subject: Navigate though terms in a document
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi all,
I'm using lucene to store and index documents in a corpus for an
university project and i need to implement the search for concordates
of a given term, this means to find x terms before and after the given
term in each document (for a variable x). I found the method
TermPositions(Term t) for the IndexReader class which gives a
TermPositions used to navigate inside a document, but i didn't
understand what exactly nextPosition() gives out and how to use that
result to find the closer terms (ie using the position for giving back
the term at position position+1, -1, +2, -2, etc.).
Is there some sort of "term navigator"?

Thanks,
Mauro.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13383-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 24 16:57:01 2005
Return-Path: <lucene-user-return-13383-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 65955 invoked from network); 24 Feb 2005 16:57:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 Feb 2005 16:57:01 -0000
Received: (qmail 3927 invoked by uid 500); 24 Feb 2005 16:56:57 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 3895 invoked by uid 500); 24 Feb 2005 16:56:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3882 invoked by uid 99); 24 Feb 2005 16:56:56 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from rwcrmhc13.comcast.net (HELO rwcrmhc13.comcast.net) (204.127.198.39)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 24 Feb 2005 08:56:55 -0800
Received: from [192.168.168.81] (c-24-5-160-217.client.comcast.net[24.5.160.217])
          by comcast.net (rwcrmhc13) with ESMTP
          id <2005022416565301500l5sjle>; Thu, 24 Feb 2005 16:56:53 +0000
Message-ID: <421E0755.2030301@apache.org>
Date: Thu, 24 Feb 2005 08:56:53 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 0.9 (X11/20041127)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Possible to mix/match indexes with diff TermInfosWriter.INDEX_INTERVAL
 ??
References: <421D89B6.20804@newsmonster.org>
In-Reply-To: <421D89B6.20804@newsmonster.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Kevin A. Burton wrote:
> I finally had some time to take Doug's advice and reburn our indexes 
> with a larger TermInfosWriter.INDEX_INTERVAL value.

It looks like you're using a pre-1.4 version of Lucene.  Since 1.4 this 
is no longer called TermInfosWriter.INDEX_INTERVAL, but rather 
TermInfosWriter.indexInterval.

> Is this setting incompatible with older indexes burned with the lower 
> value?

Prior to 1.4, yes.  After 1.4, no.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13384-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 24 18:02:12 2005
Return-Path: <lucene-user-return-13384-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 2027 invoked from network); 24 Feb 2005 18:02:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 Feb 2005 18:02:12 -0000
Received: (qmail 28635 invoked by uid 500); 24 Feb 2005 18:02:07 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 28608 invoked by uid 500); 24 Feb 2005 18:02:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28594 invoked by uid 99); 24 Feb 2005 18:02:07 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from artishost.net (HELO artisangel.artishost.net) (69.56.132.178)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 24 Feb 2005 10:02:05 -0800
Received: from [81.25.37.110] (helo=[81.25.37.110])
	by artisangel.artishost.net with esmtpa (Exim 4.43)
	id 1D4NJH-0007vt-DC
	for lucene-user@jakarta.apache.org; Thu, 24 Feb 2005 12:02:01 -0600
Date: Thu, 24 Feb 2005 20:01:49 +0200
From: Yura Smolsky <info@altervision.biz>
X-Mailer: The Bat! (v3.0.1.33) Professional
Reply-To: Yura Smolsky <info@altervision.biz>
Organization: AlterVision Web Development Group
X-Priority: 3 (Normal)
Message-ID: <542774831.20050224200149@altervision.biz>
To: lucene-user@jakarta.apache.org
Subject: sorted search
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Spam-Score: 0.0
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - artisangel.artishost.net
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - altervision.biz
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello, lucene-user.

I have index with many documents, more than 40 Mil.
Each document has DateField (It is time stamp of document)

I need the most recent results only. I use single instance of IndexSearcher.
When I perform sorted search on this index:
      Sort sort = new Sort();
      sort.setSort( new SortField[] { new SortField ("modified", SortField.STRING, true) } );
      Hits hits =
        searcher.search(QueryParser.parse("good", "content",
                                          StandardAnalyzer()), sort);

then search speed is not good.

Today I have tried search without "sort by modified", but with sort by
Relevance. Speed was much better!

I think that Sort by DateField is very slow. Maybe I do something
wrong about this kind of sorted search? Can you give me advices about
this?

Thanks.
                                          
Yura Smolsky.



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13385-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 24 18:07:49 2005
Return-Path: <lucene-user-return-13385-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 5038 invoked from network); 24 Feb 2005 18:07:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 Feb 2005 18:07:49 -0000
Received: (qmail 35891 invoked by uid 500); 24 Feb 2005 18:07:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 35801 invoked by uid 500); 24 Feb 2005 18:07:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 35715 invoked by uid 99); 24 Feb 2005 18:07:41 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from moutng.kundenserver.de (HELO moutng.kundenserver.de) (212.227.126.185)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 24 Feb 2005 10:07:40 -0800
Received: from [212.227.126.160] (helo=mrelayng.kundenserver.de)
	by moutng.kundenserver.de with esmtp (Exim 3.35 #1)
	id 1D4NOj-00012c-00
	for lucene-user@jakarta.apache.org; Thu, 24 Feb 2005 19:07:37 +0100
Received: from [82.135.12.172] (helo=voodoo.federation.net)
	by mrelayng.kundenserver.de with asmtp (TLSv1:RC4-MD5:128)
	(Exim 3.35 #1)
	id 1D4NOj-0000vz-00
	for lucene-user@jakarta.apache.org; Thu, 24 Feb 2005 19:07:37 +0100
From: Daniel Naber <daniel.naber@t-online.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: sorted search
Date: Thu, 24 Feb 2005 19:07:36 +0100
User-Agent: KMail/1.7.1
References: <542774831.20050224200149@altervision.biz>
In-Reply-To: <542774831.20050224200149@altervision.biz>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
Message-Id: <200502241907.36239.daniel.naber@t-online.de>
X-Provags-ID: kundenserver.de abuse@kundenserver.de auth:94b5a5949d2eb00693e70b0c89be5163
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Thursday 24 February 2005 19:01, Yura Smolsky wrote:

> =A0 =A0 =A0 sort.setSort( new SortField[] { new SortField ("modified",
> SortField.STRING, true) } );

You should store the date as a number, e.g. "days since 1970" (or weeks if=
=20
that is precise enough) and then tell the sort that it's an integer.=20
DateField always stores the date in milliseconds which leads to a large=20
number of terms, it also turns the date into a string, both makes searching=
=20
and especially sorting slower.

Regards
 Daniel

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13386-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 24 18:08:45 2005
Return-Path: <lucene-user-return-13386-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 5283 invoked from network); 24 Feb 2005 18:08:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 Feb 2005 18:08:45 -0000
Received: (qmail 37782 invoked by uid 500); 24 Feb 2005 18:08:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 37668 invoked by uid 500); 24 Feb 2005 18:08:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 37654 invoked by uid 99); 24 Feb 2005 18:08:42 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 24 Feb 2005 10:08:40 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 366C313E210C; Thu, 24 Feb 2005 13:08:38 -0500 (EST)
Received: from [192.168.1.100] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id 1064D13E2006
	for <lucene-user@jakarta.apache.org>; Thu, 24 Feb 2005 13:08:35 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <542774831.20050224200149@altervision.biz>
References: <542774831.20050224200149@altervision.biz>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <be6e34fac4db17c9a0faa972cb787cb3@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: sorted search
Date: Thu, 24 Feb 2005 13:08:34 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.4 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Sorting by String uses up lots more RAM than a numeric sort.  If you 
use a numeric (yet lexicographically orderable) date format (e.g. 
YYYYMMDD) you'll see better performance most likely.

	Erik


On Feb 24, 2005, at 1:01 PM, Yura Smolsky wrote:

> Hello, lucene-user.
>
> I have index with many documents, more than 40 Mil.
> Each document has DateField (It is time stamp of document)
>
> I need the most recent results only. I use single instance of 
> IndexSearcher.
> When I perform sorted search on this index:
>       Sort sort = new Sort();
>       sort.setSort( new SortField[] { new SortField ("modified", 
> SortField.STRING, true) } );
>       Hits hits =
>         searcher.search(QueryParser.parse("good", "content",
>                                           StandardAnalyzer()), sort);
>
> then search speed is not good.
>
> Today I have tried search without "sort by modified", but with sort by
> Relevance. Speed was much better!
>
> I think that Sort by DateField is very slow. Maybe I do something
> wrong about this kind of sorted search? Can you give me advices about
> this?
>
> Thanks.
>
> Yura Smolsky.
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13387-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 24 18:39:04 2005
Return-Path: <lucene-user-return-13387-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 19897 invoked from network); 24 Feb 2005 18:39:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 Feb 2005 18:39:04 -0000
Received: (qmail 82443 invoked by uid 500); 24 Feb 2005 18:39:01 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 82125 invoked by uid 500); 24 Feb 2005 18:39:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 82112 invoked by uid 99); 24 Feb 2005 18:39:00 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from artishost.net (HELO artisangel.artishost.net) (69.56.132.178)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 24 Feb 2005 10:38:59 -0800
Received: from [81.25.37.110] (helo=[81.25.37.110])
	by artisangel.artishost.net with esmtpa (Exim 4.43)
	id 1D4Nsw-0008Nd-3q
	for lucene-user@jakarta.apache.org; Thu, 24 Feb 2005 12:38:55 -0600
Date: Thu, 24 Feb 2005 20:38:46 +0200
From: Yura Smolsky <info@altervision.biz>
X-Mailer: The Bat! (v3.0.1.33) Professional
Reply-To: Yura Smolsky <info@altervision.biz>
Organization: AlterVision Web Development Group
X-Priority: 3 (Normal)
Message-ID: <1755260465.20050224203846@altervision.biz>
CC: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re[2]: sorted search
In-Reply-To: <be6e34fac4db17c9a0faa972cb787cb3@ehatchersolutions.com>
References: <542774831.20050224200149@altervision.biz>
 <be6e34fac4db17c9a0faa972cb787cb3@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Spam-Score: 0.0
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - artisangel.artishost.net
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - altervision.biz
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello, Erik.

if i need to store hour and minute then I need to place date into
following integer format:
YYYYMMDDHHII
?
Will it be faster than current solution?
And will I have ability to do Ranged queries (from Date A to Date B)?

EH> Sorting by String uses up lots more RAM than a numeric sort.  If you
EH> use a numeric (yet lexicographically orderable) date format (e.g. 
EH> YYYYMMDD) you'll see better performance most likely.

EH>         Erik


EH> On Feb 24, 2005, at 1:01 PM, Yura Smolsky wrote:

>> Hello, lucene-user.
>>
>> I have index with many documents, more than 40 Mil.
>> Each document has DateField (It is time stamp of document)
>>
>> I need the most recent results only. I use single instance of 
>> IndexSearcher.
>> When I perform sorted search on this index:
>>       Sort sort = new Sort();
>>       sort.setSort( new SortField[] { new SortField ("modified", 
>> SortField.STRING, true) } );
>>       Hits hits =
>>         searcher.search(QueryParser.parse("good", "content",
>>                                           StandardAnalyzer()), sort);
>>
>> then search speed is not good.
>>
>> Today I have tried search without "sort by modified", but with sort by
>> Relevance. Speed was much better!
>>
>> I think that Sort by DateField is very slow. Maybe I do something
>> wrong about this kind of sorted search? Can you give me advices about
>> this?
>>
>> Thanks.
>>
>> Yura Smolsky.
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail:
>> lucene-user-help@jakarta.apache.org


EH> ---------------------------------------------------------------------
EH> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
EH> For additional commands, e-mail:
EH> lucene-user-help@jakarta.apache.org





Yura Smolsky.



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13388-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 24 18:45:32 2005
Return-Path: <lucene-user-return-13388-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 23047 invoked from network); 24 Feb 2005 18:45:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 Feb 2005 18:45:32 -0000
Received: (qmail 96711 invoked by uid 500); 24 Feb 2005 18:45:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 96671 invoked by uid 500); 24 Feb 2005 18:45:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 96654 invoked by uid 99); 24 Feb 2005 18:45:27 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO mail.sofari.com) (12.43.53.196)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 24 Feb 2005 10:45:26 -0800
Received: from [192.168.1.100] ([12.43.53.196])
	by mail.sofari.com (8.12.11/8.12.3/Debian-6.6) with ESMTP id j1OIj9jJ008748
	for <lucene-user@jakarta.apache.org>; Thu, 24 Feb 2005 10:45:10 -0800
Message-ID: <421E20A8.6070001@newsmonster.org>
Date: Thu, 24 Feb 2005 10:44:56 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040616
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Possible to mix/match indexes with diff TermInfosWriter.INDEX_INTERVAL
 ??
References: <421D89B6.20804@newsmonster.org> <421E0755.2030301@apache.org>
In-Reply-To: <421E0755.2030301@apache.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Doug Cutting wrote:

> Kevin A. Burton wrote:
>
>> I finally had some time to take Doug's advice and reburn our indexes 
>> with a larger TermInfosWriter.INDEX_INTERVAL value.
>
>
> It looks like you're using a pre-1.4 version of Lucene.  Since 1.4 
> this is no longer called TermInfosWriter.INDEX_INTERVAL, but rather 
> TermInfosWriter.indexInterval.

Yes... we're trying to be conservative and haven't migrated yet.  Though 
doing so might be required for this move I think...

>> Is this setting incompatible with older indexes burned with the lower 
>> value?
>
>
> Prior to 1.4, yes.  After 1.4, no.
>
What happens after 1.4?  Can I take indexes burned with 256 (a greater 
value) in 1.3 and open them up correctly with 1.4?

Kevin

PS.  Once I get this working I'm going to create a wiki page documenting 
this process.

Kevin

-- 

Use Rojo (RSS/Atom aggregator).  Visit http://rojo.com. Ask me for an 
invite!  Also see irc.freenode.net #rojo if you want to chat.

Rojo is Hiring! - http://www.rojonetworks.com/JobsAtRojo.html

If you're interested in RSS, Weblogs, Social Networking, etc... then you 
should work for Rojo!  If you recommend someone and we hire them you'll 
get a free iPod!
    
Kevin A. Burton, Location - San Francisco, CA
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13389-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 24 18:51:21 2005
Return-Path: <lucene-user-return-13389-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 25153 invoked from network); 24 Feb 2005 18:51:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 Feb 2005 18:51:20 -0000
Received: (qmail 5317 invoked by uid 500); 24 Feb 2005 18:51:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 5284 invoked by uid 500); 24 Feb 2005 18:51:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5271 invoked by uid 99); 24 Feb 2005 18:51:16 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO mail.sofari.com) (12.43.53.196)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 24 Feb 2005 10:51:15 -0800
Received: from [192.168.1.100] ([12.43.53.196])
	by mail.sofari.com (8.12.11/8.12.3/Debian-6.6) with ESMTP id j1OIp6rY008841
	for <lucene-user@jakarta.apache.org>; Thu, 24 Feb 2005 10:51:13 -0800
Message-ID: <421E2215.1070509@newsmonster.org>
Date: Thu, 24 Feb 2005 10:51:01 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040616
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: ngramj
References: <421D89B6.20804@newsmonster.org> <421D8FC5.4030100@newsmonster.org> <009a01c51a73$32cb1b60$d380a8c0@sirma.int> <421DDBB3.5020803@eduhi.at> <dba883463243731eb2106302603506d4@mac.com>
In-Reply-To: <dba883463243731eb2106302603506d4@mac.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

petite_abeille wrote:

>
> On Feb 24, 2005, at 14:50, Gusenbauer Stefan wrote:
>
>> Does anyone know a good tutorial or the javadoc for ngramj because i 
>> need it for guessing the language of the documents which should be 
>> indexed?
>
>
> http://cvs.sourceforge.net/viewcvs.py/nutch/nutch/src/plugin/ 
> languageidentifier/

Wow.. interesting! Where'd this come from?

I actually wrote an implementation of NGram language categorization a 
while back. I'll have to check this out. I'm willing to bet mine's 
better though ;)

I was going to put it in Jakarta Commons...

Kevin

-- 

Use Rojo (RSS/Atom aggregator).  Visit http://rojo.com. Ask me for an 
invite!  Also see irc.freenode.net #rojo if you want to chat.

Rojo is Hiring! - http://www.rojonetworks.com/JobsAtRojo.html

If you're interested in RSS, Weblogs, Social Networking, etc... then you 
should work for Rojo!  If you recommend someone and we hire them you'll 
get a free iPod!
    
Kevin A. Burton, Location - San Francisco, CA
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13390-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 24 18:52:25 2005
Return-Path: <lucene-user-return-13390-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 25631 invoked from network); 24 Feb 2005 18:52:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 Feb 2005 18:52:25 -0000
Received: (qmail 7982 invoked by uid 500); 24 Feb 2005 18:52:21 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 7960 invoked by uid 500); 24 Feb 2005 18:52:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7947 invoked by uid 99); 24 Feb 2005 18:52:21 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from artishost.net (HELO artisangel.artishost.net) (69.56.132.178)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 24 Feb 2005 10:52:19 -0800
Received: from [81.25.37.110] (helo=[81.25.37.110])
	by artisangel.artishost.net with esmtpa (Exim 4.43)
	id 1D4O5m-00004v-8x; Thu, 24 Feb 2005 12:52:11 -0600
Date: Thu, 24 Feb 2005 20:52:02 +0200
From: Yura Smolsky <info@altervision.biz>
X-Mailer: The Bat! (v3.0.1.33) Professional
Reply-To: Yura Smolsky <info@altervision.biz>
Organization: AlterVision Web Development Group
X-Priority: 3 (Normal)
Message-ID: <252503413.20050224205202@altervision.biz>
To: Erik Hatcher <erik@ehatchersolutions.com>
CC: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re[2]: sorted search
In-Reply-To: <be6e34fac4db17c9a0faa972cb787cb3@ehatchersolutions.com>
References: <542774831.20050224200149@altervision.biz>
 <be6e34fac4db17c9a0faa972cb787cb3@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Spam-Score: 0.0
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - artisangel.artishost.net
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - altervision.biz
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello, Erik.

about memory usage...
DateField takes string of 9 bytes in memory ('000ic64p7')
How much memory will be taken by this string?

How much memory will be taken by integer?

EH> Sorting by String uses up lots more RAM than a numeric sort.  If you
EH> use a numeric (yet lexicographically orderable) date format (e.g. 
EH> YYYYMMDD) you'll see better performance most likely.

EH>         Erik


EH> On Feb 24, 2005, at 1:01 PM, Yura Smolsky wrote:

>> Hello, lucene-user.
>>
>> I have index with many documents, more than 40 Mil.
>> Each document has DateField (It is time stamp of document)
>>
>> I need the most recent results only. I use single instance of 
>> IndexSearcher.
>> When I perform sorted search on this index:
>>       Sort sort = new Sort();
>>       sort.setSort( new SortField[] { new SortField ("modified", 
>> SortField.STRING, true) } );
>>       Hits hits =
>>         searcher.search(QueryParser.parse("good", "content",
>>                                           StandardAnalyzer()), sort);
>>
>> then search speed is not good.
>>
>> Today I have tried search without "sort by modified", but with sort by
>> Relevance. Speed was much better!
>>
>> I think that Sort by DateField is very slow. Maybe I do something
>> wrong about this kind of sorted search? Can you give me advices about
>> this?
>>
>> Thanks.
>>
>> Yura Smolsky.
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail:
>> lucene-user-help@jakarta.apache.org


EH> ---------------------------------------------------------------------
EH> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
EH> For additional commands, e-mail:
EH> lucene-user-help@jakarta.apache.org





Yura Smolsky.



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13391-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 24 19:06:54 2005
Return-Path: <lucene-user-return-13391-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 31831 invoked from network); 24 Feb 2005 19:06:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 Feb 2005 19:06:54 -0000
Received: (qmail 34845 invoked by uid 500); 24 Feb 2005 19:06:51 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 34817 invoked by uid 500); 24 Feb 2005 19:06:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 34804 invoked by uid 99); 24 Feb 2005 19:06:51 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from rwcrmhc14.comcast.net (HELO rwcrmhc11.comcast.net) (216.148.227.89)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 24 Feb 2005 11:06:49 -0800
Received: from [192.168.168.81] (c-24-5-160-217.client.comcast.net[24.5.160.217])
          by comcast.net (rwcrmhc14) with ESMTP
          id <200502241906480140035orfe>; Thu, 24 Feb 2005 19:06:48 +0000
Message-ID: <421E25C7.2080800@apache.org>
Date: Thu, 24 Feb 2005 11:06:47 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 0.9 (X11/20041127)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Possible to mix/match indexes with diff TermInfosWriter.INDEX_INTERVAL
 ??
References: <421D89B6.20804@newsmonster.org> <421E0755.2030301@apache.org> <421E20A8.6070001@newsmonster.org>
In-Reply-To: <421E20A8.6070001@newsmonster.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Kevin A. Burton wrote:
>>> Is this setting incompatible with older indexes burned with the lower 
>>> value?
>>
>> Prior to 1.4, yes.  After 1.4, no.
>>
> What happens after 1.4?  Can I take indexes burned with 256 (a greater 
> value) in 1.3 and open them up correctly with 1.4?

Not without hacking things.  If your 1.3 indexes were generated with 256 
then you can modify your version of Lucene 1.4+ to use 256 instead of 
128 when reading a Lucene 1.3 format index (SegmentTermEnum.java:54 today).

Prior to 1.4 this was a constant, hardwired into the index format.  In 
1.4 and later each index segment stores this value as a parameter.  So 
once 1.4 has re-written your index you'll no longer need a modified version.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13392-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 24 19:08:19 2005
Return-Path: <lucene-user-return-13392-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 32391 invoked from network); 24 Feb 2005 19:08:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 Feb 2005 19:08:19 -0000
Received: (qmail 37458 invoked by uid 500); 24 Feb 2005 19:08:16 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 36992 invoked by uid 500); 24 Feb 2005 19:08:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 36979 invoked by uid 99); 24 Feb 2005 19:08:15 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from ns.cybersites.net (HELO ns.uscybersites.net) (206.98.167.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 24 Feb 2005 11:08:14 -0800
Received: from [127.0.0.1] (unknown [216.126.80.147])
	by ns.uscybersites.net (Postfix) with ESMTP id 92CB5820AB
	for <lucene-user@jakarta.apache.org>; Thu, 24 Feb 2005 14:01:12 -0500 (EST)
Message-ID: <421E2617.2090302@max3d.com>
Date: Thu, 24 Feb 2005 14:08:07 -0500
From: "amigo@max3d.com" <amigo@max3d.com>
User-Agent: Mozilla Thunderbird 0.9 (Windows/20041103)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Not entire document being indexed?
References: <421D89B6.20804@newsmonster.org> <421D8FC5.4030100@newsmonster.org> <009a01c51a73$32cb1b60$d380a8c0@sirma.int> <421DDBB3.5020803@eduhi.at> <dba883463243731eb2106302603506d4@mac.com> <421E2215.1070509@newsmonster.org>
In-Reply-To: <421E2215.1070509@newsmonster.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi everyone

I'm having a bizzare problem with a few of the documents here that do 
not seem to get indexed entirely.

I use textmining WordExtractor to convert M$ Word to plain text and then 
index that text.
For example one document which is about 230KB in size when converted to 
plain text, when indexed and
later searched for a pharse in the last 2-3 paragraphs returns no hits, 
yet searching anything above those
paragraphs works just fine. WordExtractor does convert the entire 
document to text, I've checked that.

I've tried increasing the number of terms per field from default 10,000 
to 20,000 with writer.maxFieldLength
but that didnt make any difference, still cant find phrases from the 
last 2-3 paragraphs.

Any ideas as to why this could be happening and how I could rectify it?


thanks,

-pedja



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13393-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 24 19:24:35 2005
Return-Path: <lucene-user-return-13393-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 39134 invoked from network); 24 Feb 2005 19:24:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 Feb 2005 19:24:35 -0000
Received: (qmail 61675 invoked by uid 500); 24 Feb 2005 19:24:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 60795 invoked by uid 500); 24 Feb 2005 19:24:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 60782 invoked by uid 99); 24 Feb 2005 19:24:31 -0000
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web31107.mail.mud.yahoo.com (HELO web31107.mail.mud.yahoo.com) (68.142.200.40)
  by apache.org (qpsmtpd/0.28) with SMTP; Thu, 24 Feb 2005 11:24:30 -0800
Received: (qmail 35208 invoked by uid 60001); 24 Feb 2005 19:24:27 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=F+yY21r2N+pwalLz1dv9Rx1royMtPsGiNPTLklo3RmcpS8uX7GdVRCMQ9JaECphMHLUJ4faKb3TBYqQiI/J52E9hvQE7ccQDON9NJlITLRJ6oDQAGDMXtbvfBoJ1GpfQRJxYjRFEhiO0NCDQPxEM9E1ZUvAmXJ/LvSNqc5VYi7o=  ;
Message-ID: <20050224192427.35206.qmail@web31107.mail.mud.yahoo.com>
Received: from [216.194.17.194] by web31107.mail.mud.yahoo.com via HTTP; Thu, 24 Feb 2005 11:24:27 PST
Date: Thu, 24 Feb 2005 11:24:27 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Not entire document being indexed?
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <421E2617.2090302@max3d.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Use Luke to peek in your index and find out what really got indexed.
You could also try the extreme case and set that max value to the max
Integer.

Otis

--- "amigo@max3d.com" <amigo@max3d.com> wrote:

> Hi everyone
> 
> I'm having a bizzare problem with a few of the documents here that do
> 
> not seem to get indexed entirely.
> 
> I use textmining WordExtractor to convert M$ Word to plain text and
> then 
> index that text.
> For example one document which is about 230KB in size when converted
> to 
> plain text, when indexed and
> later searched for a pharse in the last 2-3 paragraphs returns no
> hits, 
> yet searching anything above those
> paragraphs works just fine. WordExtractor does convert the entire 
> document to text, I've checked that.
> 
> I've tried increasing the number of terms per field from default
> 10,000 
> to 20,000 with writer.maxFieldLength
> but that didnt make any difference, still cant find phrases from the 
> last 2-3 paragraphs.
> 
> Any ideas as to why this could be happening and how I could rectify
> it?
> 
> 
> thanks,
> 
> -pedja
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13394-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 24 19:45:12 2005
Return-Path: <lucene-user-return-13394-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 47877 invoked from network); 24 Feb 2005 19:45:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 Feb 2005 19:45:12 -0000
Received: (qmail 91207 invoked by uid 500); 24 Feb 2005 19:45:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 91184 invoked by uid 500); 24 Feb 2005 19:45:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 91171 invoked by uid 99); 24 Feb 2005 19:45:08 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO mail.sofari.com) (12.43.53.196)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 24 Feb 2005 11:45:06 -0800
Received: from [192.168.1.100] ([12.43.53.196])
	by mail.sofari.com (8.12.11/8.12.3/Debian-6.6) with ESMTP id j1OJiidh009708
	for <lucene-user@jakarta.apache.org>; Thu, 24 Feb 2005 11:44:44 -0800
Message-ID: <421E2EA7.1030608@newsmonster.org>
Date: Thu, 24 Feb 2005 11:44:39 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040616
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Possible to mix/match indexes with diff TermInfosWriter.INDEX_INTERVAL
 ??
References: <421D89B6.20804@newsmonster.org> <421E0755.2030301@apache.org> <421E20A8.6070001@newsmonster.org> <421E25C7.2080800@apache.org>
In-Reply-To: <421E25C7.2080800@apache.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Doug Cutting wrote:

> Not without hacking things.  If your 1.3 indexes were generated with 
> 256 then you can modify your version of Lucene 1.4+ to use 256 instead 
> of 128 when reading a Lucene 1.3 format index (SegmentTermEnum.java:54 
> today).
>
> Prior to 1.4 this was a constant, hardwired into the index format.  In 
> 1.4 and later each index segment stores this value as a parameter.  So 
> once 1.4 has re-written your index you'll no longer need a modified 
> version.

Thanks for the feedback doug. 

This makes more sense now. I didn't understand why the website 
documented the fact that the .tii file was soring the index interval.

I think I'm going to investigate just moving to 1.4 ...  I need to do it 
anyway.  Might as well bite the bullet now.

Kevin

-- 

Use Rojo (RSS/Atom aggregator).  Visit http://rojo.com. Ask me for an 
invite!  Also see irc.freenode.net #rojo if you want to chat.

Rojo is Hiring! - http://www.rojonetworks.com/JobsAtRojo.html

If you're interested in RSS, Weblogs, Social Networking, etc... then you 
should work for Rojo!  If you recommend someone and we hire them you'll 
get a free iPod!
    
Kevin A. Burton, Location - San Francisco, CA
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13395-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 24 22:08:47 2005
Return-Path: <lucene-user-return-13395-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 44735 invoked from network); 24 Feb 2005 22:08:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 Feb 2005 22:08:47 -0000
Received: (qmail 99723 invoked by uid 500); 24 Feb 2005 22:08:44 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 99698 invoked by uid 500); 24 Feb 2005 22:08:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 99680 invoked by uid 99); 24 Feb 2005 22:08:43 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO mail.sofari.com) (12.43.53.196)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 24 Feb 2005 14:08:42 -0800
Received: from [192.168.1.100] ([12.43.53.196])
	by mail.sofari.com (8.12.11/8.12.3/Debian-6.6) with ESMTP id j1OM8eKO012564
	for <lucene-user@jakarta.apache.org>; Thu, 24 Feb 2005 14:08:40 -0800
Message-ID: <421E505D.7070809@newsmonster.org>
Date: Thu, 24 Feb 2005 14:08:29 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040616
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: 1.4.x TermInfosWriter.indexInterval not public static ?
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Whats the desired pattern of using of TermInfosWriter.indexInterval ?

Do I have to compile my own version of Lucene to change this?   The last 
API was public static final but this is not public nor static. 

I'm wondering if we should just make this a value that can be set at 
runtime.  Considering the memory savings for larger installs this 
can/will be important.

Kevin

-- 

Use Rojo (RSS/Atom aggregator).  Visit http://rojo.com. Ask me for an 
invite!  Also see irc.freenode.net #rojo if you want to chat.

Rojo is Hiring! - http://www.rojonetworks.com/JobsAtRojo.html

If you're interested in RSS, Weblogs, Social Networking, etc... then you 
should work for Rojo!  If you recommend someone and we hire them you'll 
get a free iPod!
    
Kevin A. Burton, Location - San Francisco, CA
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13396-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Thu Feb 24 22:09:37 2005
Return-Path: <lucene-user-return-13396-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 45114 invoked from network); 24 Feb 2005 22:09:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 24 Feb 2005 22:09:36 -0000
Received: (qmail 1791 invoked by uid 500); 24 Feb 2005 22:09:34 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 1165 invoked by uid 500); 24 Feb 2005 22:09:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1151 invoked by uid 99); 24 Feb 2005 22:09:32 -0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=FORGED_RCVD_HELO,HTML_30_40,HTML_MESSAGE,HTML_TITLE_EMPTY
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from ns.cybersites.net (HELO ns.uscybersites.net) (206.98.167.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Thu, 24 Feb 2005 14:09:30 -0800
Received: from [127.0.0.1] (unknown [216.126.80.147])
	by ns.uscybersites.net (Postfix) with ESMTP id 53B7D82A6E
	for <lucene-user@jakarta.apache.org>; Thu, 24 Feb 2005 17:02:26 -0500 (EST)
Message-ID: <421E5092.4020101@max3d.com>
Date: Thu, 24 Feb 2005 17:09:22 -0500
From: "amigo@max3d.com" <amigo@max3d.com>
User-Agent: Mozilla Thunderbird 0.9 (Windows/20041103)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Not entire document being indexed?
References: <20050224192427.35206.qmail@web31107.mail.mud.yahoo.com>
In-Reply-To: <20050224192427.35206.qmail@web31107.mail.mud.yahoo.com>
Content-Type: multipart/alternative;
 boundary="------------050405020100080706080803"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------050405020100080706080803
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Hi Otis

Thanks for the reply, what exactly should I be looking for with Luke?

What would setting the max value to maxInteger do? Is this some 
arbitrary value or...?


-pedja


Otis Gospodnetic said the following on 2/24/2005 2:24 PM:

>Use Luke to peek in your index and find out what really got indexed.
>You could also try the extreme case and set that max value to the max
>Integer.
>
>Otis
>
>--- "amigo@max3d.com" <amigo@max3d.com> wrote:
>
>  
>
>>Hi everyone
>>
>>I'm having a bizzare problem with a few of the documents here that do
>>
>>not seem to get indexed entirely.
>>
>>I use textmining WordExtractor to convert M$ Word to plain text and
>>then 
>>index that text.
>>For example one document which is about 230KB in size when converted
>>to 
>>plain text, when indexed and
>>later searched for a pharse in the last 2-3 paragraphs returns no
>>hits, 
>>yet searching anything above those
>>paragraphs works just fine. WordExtractor does convert the entire 
>>document to text, I've checked that.
>>
>>I've tried increasing the number of terms per field from default
>>10,000 
>>to 20,000 with writer.maxFieldLength
>>but that didnt make any difference, still cant find phrases from the 
>>last 2-3 paragraphs.
>>
>>Any ideas as to why this could be happening and how I could rectify
>>it?
>>
>>
>>thanks,
>>
>>-pedja
>>
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>>
>>    
>>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>
>  
>

--------------050405020100080706080803--

From lucene-user-return-13397-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 25 08:58:50 2005
Return-Path: <lucene-user-return-13397-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 27341 invoked from network); 25 Feb 2005 08:58:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 25 Feb 2005 08:58:49 -0000
Received: (qmail 30201 invoked by uid 500); 25 Feb 2005 08:58:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 30172 invoked by uid 500); 25 Feb 2005 08:58:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 30158 invoked by uid 99); 25 Feb 2005 08:58:44 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.fib.upc.es (HELO mail.fib.upc.es) (147.83.41.105)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 25 Feb 2005 00:58:44 -0800
Received: from [147.83.58.160] (tarragona.fib.upc.es [147.83.58.160])
	by mail.fib.upc.es (Postfix) with ESMTP id 074F9C9A97
	for <lucene-user@jakarta.apache.org>; Fri, 25 Feb 2005 09:58:36 +0100 (CET)
Message-ID: <421EE8BC.9030807@fib.upc.edu>
Date: Fri, 25 Feb 2005 09:58:36 +0100
From: Daniel Cortes <dcortes@fib.upc.edu>
Organization: FIB
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Ranking Terms
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Scaned-FIB: AntiVirus/AntiSpam en fib.upc.es
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi everybody,
I need to found some documentation about the algorithms that lucene use 
internally in the indexation and how it works with weights and 
frequencies of the terms.This information will be used to know tastes of 
my users and to relate users with the same interest and restlessness.:D
I read something about .frq files but I don't have any frq life in my index.
Thks.

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13398-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 25 10:29:47 2005
Return-Path: <lucene-user-return-13398-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 68991 invoked from network); 25 Feb 2005 10:29:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 25 Feb 2005 10:29:46 -0000
Received: (qmail 61440 invoked by uid 500); 25 Feb 2005 10:29:42 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 61406 invoked by uid 500); 25 Feb 2005 10:29:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 61393 invoked by uid 99); 25 Feb 2005 10:29:41 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from smtpout.mac.com (HELO smtpout.mac.com) (17.250.248.97)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 25 Feb 2005 02:29:40 -0800
Received: from mac.com (smtpin08-en2 [10.13.10.153])
	by smtpout.mac.com (Xserve/MantshX 2.0) with ESMTP id j1PATZE2002745
	for <lucene-user@jakarta.apache.org>; Fri, 25 Feb 2005 02:29:35 -0800 (PST)
Received: from [10.0.1.78] (adsl-84-226-100-19.adslplus.ch [84.226.100.19])
	(authenticated bits=0)
	by mac.com (Xserve/smtpin08/MantshX 4.0) with ESMTP id j1PATVtX021065
	(version=TLSv1/SSLv3 cipher=RC4-SHA bits=128 verify=NO)
	for <lucene-user@jakarta.apache.org>; Fri, 25 Feb 2005 02:29:34 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v619.2)
Content-Transfer-Encoding: 7bit
Message-Id: <3d0216a75c454bcfca4659364f82a169@mac.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
To: Lucene Users List <lucene-user@jakarta.apache.org>
From: petite_abeille <petite_abeille@mac.com>
Subject: Bug 23650 (aka "docs out of order")?
Date: Fri, 25 Feb 2005 11:30:08 +0100
X-Mailer: Apple Mail (2.619.2)
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Re: http://issues.apache.org/bugzilla/show_bug.cgi?id=23650

Hello,

I'm pretty confident that I'm misusing Lucene one way or another... and  
of course it was just a question of time before I ran into this "docs  
out of order" exception:

java.lang.IllegalStateException: docs out of order
	at  
org.apache.lucene.index.SegmentMerger.appendPostings(SegmentMerger.java: 
353)
	at  
org.apache.lucene.index.SegmentMerger.mergeTermInfo(SegmentMerger.java: 
316)
	at  
org.apache.lucene.index.SegmentMerger.mergeTermInfos(SegmentMerger.java: 
290)
	at  
org.apache.lucene.index.SegmentMerger.mergeTerms(SegmentMerger.java: 
254)
	at org.apache.lucene.index.SegmentMerger.merge(SegmentMerger.java:93)
	at  
org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.java:487)
	at org.apache.lucene.index.IndexWriter.optimize(IndexWriter.java:366)
	at org.apache.lucene.index.IndexWriter.addIndexes(IndexWriter.java:389)

Still... the question is... which sort of misuse would trigger such  
exception?

For the record, this is using Lucene 1.4.3 on the following platform:

JVM: Java HotSpot(TM) Client VM 1.5.0-beta
Language: English (United States)
Encoding: Cp1252
Memory: 17 MB
Implementation: Sun Microsystems Inc.
OS: Windows XP 5.1
Architecture: X86

Any insight much appreciated :)

Thanks!

Cheers

--
PA, Onnay Equitursay
http://alt.textdrive.com/


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13399-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 25 16:44:23 2005
Return-Path: <lucene-user-return-13399-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 92567 invoked from network); 25 Feb 2005 16:44:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 25 Feb 2005 16:44:23 -0000
Received: (qmail 17526 invoked by uid 500); 25 Feb 2005 16:44:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 17488 invoked by uid 500); 25 Feb 2005 16:44:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17473 invoked by uid 99); 25 Feb 2005 16:44:17 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from rwcrmhc14.comcast.net (HELO rwcrmhc11.comcast.net) (216.148.227.89)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 25 Feb 2005 08:44:17 -0800
Received: from [192.168.168.81] (c-24-5-160-217.client.comcast.net[24.5.160.217])
          by comcast.net (rwcrmhc14) with ESMTP
          id <200502251644150140034ms3e>; Fri, 25 Feb 2005 16:44:15 +0000
Message-ID: <421F55DF.2060709@apache.org>
Date: Fri, 25 Feb 2005 08:44:15 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 0.9 (X11/20041127)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: 1.4.x TermInfosWriter.indexInterval not public static ?
References: <421E505D.7070809@newsmonster.org>
In-Reply-To: <421E505D.7070809@newsmonster.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Kevin A. Burton wrote:
> Whats the desired pattern of using of TermInfosWriter.indexInterval ?

There isn't one.  It is not a part of the public API.  It is an 
unsupported internal feature.

> Do I have to compile my own version of Lucene to change this?

Yes.

> The last 
> API was public static final but this is not public nor static.

It was never public.  It used to be static and final, but is now an 
instance variable.

> I'm wondering if we should just make this a value that can be set at 
> runtime.  Considering the memory savings for larger installs this 
> can/will be important.

The place to put getter/setters would be IndexWriter, since that's the 
public home of all other index parameters.  Some changes to 
DocumentWriter and SegmentMerger would be required to pass this value 
through to TermInfosWriter from IndexWriter.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13400-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 25 20:43:09 2005
Return-Path: <lucene-user-return-13400-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 24046 invoked from network); 25 Feb 2005 20:43:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 25 Feb 2005 20:43:09 -0000
Received: (qmail 97169 invoked by uid 500); 25 Feb 2005 20:43:06 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 96772 invoked by uid 500); 25 Feb 2005 20:43:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 96758 invoked by uid 99); 25 Feb 2005 20:43:05 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.jcatalog.de (HELO mail.jcatalog.de) (195.127.150.126)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 25 Feb 2005 12:43:03 -0800
Received: by mail.jcatalog.de (Postfix, from userid 1079)
	id DCE19794018; Fri, 25 Feb 2005 21:36:02 +0100 (CET)
Received: from localhost.localdomain (localhost.localdomain [127.0.0.1])
	by mail.jcatalog.de (Postfix) with ESMTP id 8BAB2794011
	for <lucene-user@jakarta.apache.org>; Fri, 25 Feb 2005 21:36:01 +0100 (CET)
Received: from mail.jcatalog.de (localhost.localdomain [127.0.0.1])
	by localhost.localdomain (AvMailGate-2.0.2-9) id 25036-2A1A14C5;
	Fri, 25 Feb 2005 21:36:01 +0100
Received: from jCatalog.com (unknown [172.16.154.166])
	by mail.jcatalog.de (Postfix) with ESMTP id 6C306794011
	for <lucene-user@jakarta.apache.org>; Fri, 25 Feb 2005 21:36:01 +0100 (CET)
Message-ID: <421F8DB6.3030306@jCatalog.com>
Date: Fri, 25 Feb 2005 21:42:30 +0100
From: Jochen Franke <Jochen.Franke@jCatalog.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: lucene-user@jakarta.apache.org
Subject: Search performance with one index vs. many indexes
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-AntiVirus: checked by AntiVir MailGate (version: 2.0.2-9; AVE: 6.29.0.16; VDF: 6.29.0.150; host: jcatalog.de)
X-Spam-Checker-Version: SpamAssassin 2.60 (1.212-2003-09-23-exp) on 
	mail.jcatalog.de
X-Spam-Status: No, hits=-4.9 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=2.60
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Topic: Search performance with large numbers of indexes vs. one large index

Hello,

we are experiencing a performance problem when using large
numbers of indexes.


We have an application with about

6 Mio. Documents
one index of about 7 GB
probably 10 to 15 million different words in that
index.

The creation of the index out of one DB (where the
documents are coming from) with two processor takes about 20 hours.

For several reasons (e.g. parallelizing the index creation), we
created several indexes, by splitting the documents into logical groups.


We first created an artifical benchmark:

10 Mio. Documents
500 Indexes (in about 3 files per index)
10 GB Index alltogether
about 5.000 randomly selected words

Querying this index took about 0.4s per query, so it was only
twice the time than querying index, which was fine for us.

We did the same with one index merged out of the 500 indexes.

The lucene search performance was fine here as well (about 0.2s per 
query on our machine).



We then implemented the "real thing" which is:

6 Mio. Documents
800 Indexes (with about 28 files per index)
about 7 GB index size
probably 10 to 15 million different words in that
index.

We now have a query performance of 4-8 seconds per query.

The test with the real data in one index has not been finished
so far.


My questions are:

- Is the size of the "wordlist" the problem?

- Would we be a lot faster, when we have a smaller number
of files per index?

- Is 500-1000 still a reasonable number of indexes?

- Is there a more or less a linear relationship between
the number of indexes and the execution time of the query
(as all indexes have to be checked and the results have
to be merged)?

- Are there any parameters that could be configured for
that usecase?

- Should we implement any specialized classes specific to our use case?


Thanks,
Jochen Franke


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13401-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 25 21:19:57 2005
Return-Path: <lucene-user-return-13401-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 37085 invoked from network); 25 Feb 2005 21:19:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 25 Feb 2005 21:19:56 -0000
Received: (qmail 28534 invoked by uid 500); 25 Feb 2005 21:19:53 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 28500 invoked by uid 500); 25 Feb 2005 21:19:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28487 invoked by uid 99); 25 Feb 2005 21:19:53 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_60_70,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.cyveillance.com (HELO hermes.corp.cyveillance.com) (63.100.163.104)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 25 Feb 2005 13:19:53 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C51B7F.BACAB283"
Subject: help with boolean expression
Date: Fri, 25 Feb 2005 16:19:45 -0500
Message-ID: <63434C14F9A6F74CB36B85033E4C30CA01082989@hermes.corp.cyveillance.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: help with boolean expression
thread-index: AcUbf7wfehYuhJlLQ4+pflSpevuRZQ==
From: "Omar Didi" <odidi@Cyveillance.com>
To: <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C51B7F.BACAB283
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

I have a problem understanding how would lucene iterpret this boolean =
expression : A AND B OR C .
it neither return the same count as when I enter (A AND B) OR C nor A =
AND (B OR C).=20
if anyone knows how it is interpreted i would be thankful.
thanks

------_=_NextPart_001_01C51B7F.BACAB283--

From lucene-user-return-13402-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 25 21:56:08 2005
Return-Path: <lucene-user-return-13402-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 53502 invoked from network); 25 Feb 2005 21:56:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 25 Feb 2005 21:56:08 -0000
Received: (qmail 80918 invoked by uid 500); 25 Feb 2005 21:55:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 80892 invoked by uid 500); 25 Feb 2005 21:55:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 80878 invoked by uid 99); 25 Feb 2005 21:55:56 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 25 Feb 2005 13:55:55 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id DA65813E210F; Fri, 25 Feb 2005 16:55:52 -0500 (EST)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id BCA0A13E210C
	for <lucene-user@jakarta.apache.org>; Fri, 25 Feb 2005 16:55:39 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <63434C14F9A6F74CB36B85033E4C30CA01082989@hermes.corp.cyveillance.com>
References: <63434C14F9A6F74CB36B85033E4C30CA01082989@hermes.corp.cyveillance.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <a20958bca5a6a72335f1adba52bcbbf1@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: help with boolean expression
Date: Fri, 25 Feb 2005 16:55:38 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-3.4 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


On Feb 25, 2005, at 4:19 PM, Omar Didi wrote:
> I have a problem understanding how would lucene iterpret this boolean 
> expression : A AND B OR C .
> it neither return the same count as when I enter (A AND B) OR C nor A 
> AND (B OR C).
> if anyone knows how it is interpreted i would be thankful.

Output the toString() of the returned Query instances to see how 
QueryParser interpreted things.

	Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13403-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 25 23:09:13 2005
Return-Path: <lucene-user-return-13403-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 78386 invoked from network); 25 Feb 2005 23:09:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 25 Feb 2005 23:09:13 -0000
Received: (qmail 55923 invoked by uid 500); 25 Feb 2005 23:09:09 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 55900 invoked by uid 500); 25 Feb 2005 23:09:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 55887 invoked by uid 99); 25 Feb 2005 23:09:08 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from ns.cybersites.net (HELO ns.uscybersites.net) (206.98.167.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 25 Feb 2005 15:09:07 -0800
Received: from [127.0.0.1] (unknown [216.126.80.147])
	by ns.uscybersites.net (Postfix) with ESMTP id 9C9AB81E98
	for <lucene-user@jakarta.apache.org>; Fri, 25 Feb 2005 18:01:50 -0500 (EST)
Message-ID: <421FB00B.7090303@max3d.com>
Date: Fri, 25 Feb 2005 18:08:59 -0500
From: "amigo@max3d.com" <amigo@max3d.com>
User-Agent: Mozilla Thunderbird 0.9 (Windows/20041103)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Not entire document being indexed?
References: <421D89B6.20804@newsmonster.org> <421D8FC5.4030100@newsmonster.org> <009a01c51a73$32cb1b60$d380a8c0@sirma.int> <421DDBB3.5020803@eduhi.at> <dba883463243731eb2106302603506d4@mac.com> <421E2215.1070509@newsmonster.org> <421E2617.2090302@max3d.com>
In-Reply-To: <421E2617.2090302@max3d.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Anyone else has any ideas why wouldn't the whole documents be indexed as 
described below?

Or perhaps someone can enlighten me on how to use Luke to find out if 
the whole document was indexed or not.
I have not used Luke in such capacity before so not sure what to do or 
look for?

thanks

-pedja


amigo@max3d.com said the following on 2/24/2005 2:08 PM:

> Hi everyone
>
> I'm having a bizzare problem with a few of the documents here that do 
> not seem to get indexed entirely.
>
> I use textmining WordExtractor to convert M$ Word to plain text and 
> then index that text.
> For example one document which is about 230KB in size when converted 
> to plain text, when indexed and
> later searched for a pharse in the last 2-3 paragraphs returns no 
> hits, yet searching anything above those
> paragraphs works just fine. WordExtractor does convert the entire 
> document to text, I've checked that.
>
> I've tried increasing the number of terms per field from default 
> 10,000 to 20,000 with writer.maxFieldLength
> but that didnt make any difference, still cant find phrases from the 
> last 2-3 paragraphs.
>
> Any ideas as to why this could be happening and how I could rectify it?
>
>
> thanks,
>
> -pedja
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13404-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 25 23:19:48 2005
Return-Path: <lucene-user-return-13404-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 83325 invoked from network); 25 Feb 2005 23:19:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 25 Feb 2005 23:19:47 -0000
Received: (qmail 64307 invoked by uid 500); 25 Feb 2005 23:19:43 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 64283 invoked by uid 500); 25 Feb 2005 23:19:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 64270 invoked by uid 99); 25 Feb 2005 23:19:43 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from shared4.hardhathosting.com (HELO getopt.org) (69.44.16.11)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 25 Feb 2005 15:19:41 -0800
Received: from [192.168.0.254] (75-mo3-2.acn.waw.pl [62.121.105.75])
	(authenticated)
	by getopt.org (8.11.6/8.11.6) with ESMTP id j1PNKsJ01261
	for <lucene-user@jakarta.apache.org>; Fri, 25 Feb 2005 17:20:54 -0600
Message-ID: <421FB28A.9020200@getopt.org>
Date: Sat, 26 Feb 2005 00:19:38 +0100
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Not entire document being indexed?
References: <421D89B6.20804@newsmonster.org> <421D8FC5.4030100@newsmonster.org> <009a01c51a73$32cb1b60$d380a8c0@sirma.int> <421DDBB3.5020803@eduhi.at> <dba883463243731eb2106302603506d4@mac.com> <421E2215.1070509@newsmonster.org> <421E2617.2090302@max3d.com> <421FB00B.7090303@max3d.com>
In-Reply-To: <421FB00B.7090303@max3d.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

amigo@max3d.com wrote:
> Anyone else has any ideas why wouldn't the whole documents be indexed as 
> described below?
> 
> Or perhaps someone can enlighten me on how to use Luke to find out if 
> the whole document was indexed or not.
> I have not used Luke in such capacity before so not sure what to do or 
> look for?

Well, you could try to use the "Reconstruct & Edit" function - this will 
give you an idea what tokens ended up in the index, and which was the 
last one. In Luke 0.6, if the field is stored then you will see two tabs 
- one is for stored content, the other displays tokenized content where 
tokens are separated by commas. If the field was un-stored, then the 
only tab you will get will be the reconstructed content. In any case, 
just scroll down and check what are the last tokens.

You could also look for presence of some special terms that occur only 
at the end of that document, and check if they are present in the index.

There are really only few reasons why this might be happening:

* your extractor has a bug, or
* the max token limit is wrongly set, or
* the indexing process doesn't close the IndexWriter properly.


-- 
Best regards,
Andrzej Bialecki
  ___. ___ ___ ___ _ _   __________________________________
[__ || __|__/|__||\/|  Information Retrieval, Semantic Web
___|||__||  \|  ||  |  Embedded Unix, System Integration
http://www.sigram.com  Contact: info at sigram dot com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13405-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Fri Feb 25 23:28:17 2005
Return-Path: <lucene-user-return-13405-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 85595 invoked from network); 25 Feb 2005 23:28:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 25 Feb 2005 23:28:16 -0000
Received: (qmail 72878 invoked by uid 500); 25 Feb 2005 23:28:13 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 72691 invoked by uid 500); 25 Feb 2005 23:28:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 72678 invoked by uid 99); 25 Feb 2005 23:28:12 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of fckdp@ok.ru designates 195.2.83.166 as permitted sender)
Received: from mail1.zmail.ru (HELO aha.ru) (195.2.83.166)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 25 Feb 2005 15:28:09 -0800
Received: from [195.98.167.2] (account fckdp@ok.ru HELO pb)
  by frontend1.aha.ru (CommuniGate Pro SMTP 4.2.8)
  with ESMTP id 154454096 for lucene-user@jakarta.apache.org; Sat, 26 Feb 2005 02:28:06 +0300
Reply-To: <fckdp@ok.ru>
From: "Pasha Bizhan" <fckdp@ok.ru>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Not entire document being indexed?
Date: Sat, 26 Feb 2005 02:32:25 +0300
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
In-reply-To: <421FB00B.7090303@max3d.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
Thread-Index: AcUbjwPsbBiDfjiyRxKhiIHnAUzWLQAAXk9Q
Message-ID: <auto-000154454096@frontend1.aha.ru>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi, 

> From: amigo@max3d.com [mailto:amigo@max3d.com] 

> Or perhaps someone can enlighten me on how to use Luke to find out if the
whole document was indexed or not.

Luke can help you to give an answer the question: does my index contain a
correct data?

Let do the following steps:
- run Luke
- open the index
- find the specified document (document tab)
- click "reconstruct and edit" button
- select the field and look the original stored content of this field
reconstructed from index

Does this reconstructed content contain your last 2-3 paragraphs?

Also, 230Kb is not equal 20.000. Try to set  writer.maxFieldLength to 250
000.

Pasha Bizhan
http://lucenedotnet.com

> > For example one document which is about 230KB in size when 
> converted 
> > to plain text, when indexed and later searched for a pharse in the 
> > last 2-3 paragraphs returns no hits, yet searching anything above 
> > those paragraphs works just fine. WordExtractor does convert the 
> > entire document to text, I've checked that.
> >
> > I've tried increasing the number of terms per field from default 
> > 10,000 to 20,000 with writer.maxFieldLength but that didnt make any 
> > difference, still cant find phrases from the last 2-3 paragraphs.
> >
> > Any ideas as to why this could be happening and how I could 
> rectify it?
> >
> >
> > thanks,
> >
> > -pedja


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13406-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Feb 26 00:06:30 2005
Return-Path: <lucene-user-return-13406-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 98123 invoked from network); 26 Feb 2005 00:06:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 Feb 2005 00:06:30 -0000
Received: (qmail 17266 invoked by uid 500); 26 Feb 2005 00:06:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 16909 invoked by uid 500); 26 Feb 2005 00:06:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16894 invoked by uid 99); 26 Feb 2005 00:06:25 -0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=FORGED_RCVD_HELO,HTML_30_40,HTML_MESSAGE,HTML_TITLE_EMPTY
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from ns.cybersites.net (HELO ns.uscybersites.net) (206.98.167.2)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 25 Feb 2005 16:06:24 -0800
Received: from [127.0.0.1] (unknown [216.126.80.147])
	by ns.uscybersites.net (Postfix) with ESMTP id 02B228296E
	for <lucene-user@jakarta.apache.org>; Fri, 25 Feb 2005 18:59:07 -0500 (EST)
Message-ID: <421FBD78.8070605@max3d.com>
Date: Fri, 25 Feb 2005 19:06:16 -0500
From: "amigo@max3d.com" <amigo@max3d.com>
User-Agent: Mozilla Thunderbird 0.9 (Windows/20041103)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Not entire document being indexed?
References: <auto-000154454096@frontend1.aha.ru>
In-Reply-To: <auto-000154454096@frontend1.aha.ru>
Content-Type: multipart/alternative;
 boundary="------------000304020401030406090708"
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

--------------000304020401030406090708
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Thanks Andrzej and Pasha for your prompt replies and suggestions.
I will try everything you have suggested and report back on the findings!

regards

-pedja



Pasha Bizhan said the following on 2/25/2005 6:32 PM:

>Hi, 
>
>whole document was indexed or not.
>
>Luke can help you to give an answer the question: does my index contain a
>correct data?
>
>Let do the following steps:
>- run Luke
>- open the index
>- find the specified document (document tab)
>- click "reconstruct and edit" button
>- select the field and look the original stored content of this field
>reconstructed from index
>
>Does this reconstructed content contain your last 2-3 paragraphs?
>
>Also, 230Kb is not equal 20.000. Try to set  writer.maxFieldLength to 250
>000.
>
>Pasha Bizhan
>http://lucenedotnet.com
>

--------------000304020401030406090708--

From lucene-user-return-13407-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Feb 26 00:24:56 2005
Return-Path: <lucene-user-return-13407-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 2000 invoked from network); 26 Feb 2005 00:24:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 Feb 2005 00:24:56 -0000
Received: (qmail 33582 invoked by uid 500); 26 Feb 2005 00:24:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 32777 invoked by uid 500); 26 Feb 2005 00:24:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 32764 invoked by uid 99); 26 Feb 2005 00:24:53 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from shared4.hardhathosting.com (HELO getopt.org) (69.44.16.11)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 25 Feb 2005 16:24:51 -0800
Received: from [192.168.0.254] (75-mo3-2.acn.waw.pl [62.121.105.75])
	(authenticated)
	by getopt.org (8.11.6/8.11.6) with ESMTP id j1Q0Q4v13000
	for <lucene-user@jakarta.apache.org>; Fri, 25 Feb 2005 18:26:04 -0600
Message-ID: <421FC1D0.4060807@getopt.org>
Date: Sat, 26 Feb 2005 01:24:48 +0100
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Not entire document being indexed?
References: <auto-000154454096@frontend1.aha.ru>
In-Reply-To: <auto-000154454096@frontend1.aha.ru>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Pasha Bizhan wrote:

> Also, 230Kb is not equal 20.000. Try to set  writer.maxFieldLength to 250
> 000.

maxFieldLength's unit is a token, not a character.

-- 
Best regards,
Andrzej Bialecki
  ___. ___ ___ ___ _ _   __________________________________
[__ || __|__/|__||\/|  Information Retrieval, Semantic Web
___|||__||  \|  ||  |  Embedded Unix, System Integration
http://www.sigram.com  Contact: info at sigram dot com


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13408-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Feb 26 01:20:59 2005
Return-Path: <lucene-user-return-13408-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 15187 invoked from network); 26 Feb 2005 01:20:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 Feb 2005 01:20:59 -0000
Received: (qmail 76578 invoked by uid 500); 26 Feb 2005 01:20:47 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 76550 invoked by uid 500); 26 Feb 2005 01:20:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 76537 invoked by uid 99); 26 Feb 2005 01:20:46 -0000
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from keyserver.Rescomp.Berkeley.EDU (HELO rescomp.berkeley.edu) (169.229.70.167)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 25 Feb 2005 17:20:45 -0800
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id D28F05B7CC; Fri, 25 Feb 2005 17:20:41 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id CFE947F45C
	for <lucene-user@jakarta.apache.org>; Fri, 25 Feb 2005 17:20:41 -0800 (PST)
Date: Fri, 25 Feb 2005 17:20:41 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: 1.4.x TermInfosWriter.indexInterval not public static ?
In-Reply-To: <421F55DF.2060709@apache.org>
Message-ID: <Pine.LNX.4.58.0502251710490.1489@hal.rescomp.berkeley.edu>
References: <421E505D.7070809@newsmonster.org> <421F55DF.2060709@apache.org>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

: > Whats the desired pattern of using of TermInfosWriter.indexInterval ?
:
: There isn't one.  It is not a part of the public API.  It is an
: unsupported internal feature.

: It was never public.  It used to be static and final, but is now an
: instance variable.

: The place to put getter/setters would be IndexWriter, since that's the
: public home of all other index parameters.  Some changes to
: DocumentWriter and SegmentMerger would be required to pass this value
: through to TermInfosWriter from IndexWriter.

I don't really understand what this variable does, but from what I do
understand: changing it's value can have significant performance impacts
depending on the nature of the data being indexed.  That leads me to
belive3 that making it configurale would be a good idea, but it begs a
some questions:

 1) If making it mutatable requires changes to other classes to propogate
    it, then why is it now an instance variable instead of a static?
    (Presumably making it an instance variable allows subclasses to
    override the value, but if other classes have internal expectations
    of the value, that doesn't seem safe)

 2) Should it be configurable through a get/set method, or through a
    system property?
    (which rehashes the instance/global question)

 3) Is it important that a writer updating an existing index use the same
    value as the writer that initial created the index?  if so should
    there really be a "preferedIndexInterval" variable which is mutatable,
    and a "currentIndexInterval" which is set to the value of the index
    currently being updated.  Such that preferedIndexInterval is used when
    making an index from scratch and currentIndexInterval is used when
    adding segments to a new index?



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13409-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Feb 26 04:36:18 2005
Return-Path: <lucene-user-return-13409-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 70453 invoked from network); 26 Feb 2005 04:36:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 Feb 2005 04:36:18 -0000
Received: (qmail 98986 invoked by uid 500); 26 Feb 2005 04:36:14 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 98792 invoked by uid 500); 26 Feb 2005 04:36:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98779 invoked by uid 99); 26 Feb 2005 04:36:13 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of newreaders@gmail.com designates 64.233.184.193 as permitted sender)
Received: from wproxy.gmail.com (HELO wproxy.gmail.com) (64.233.184.193)
  by apache.org (qpsmtpd/0.28) with ESMTP; Fri, 25 Feb 2005 20:36:11 -0800
Received: by wproxy.gmail.com with SMTP id 71so587387wri
        for <lucene-user@jakarta.apache.org>; Fri, 25 Feb 2005 20:36:09 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type:content-transfer-encoding;
        b=bm1XjGGhYE4HrJ446vdoEYGu08N/YuAHwpPBwLbic5LHB6B2djOeluoNfLhfcqdJ3LDJ4+/S73kV3a53C5RtF/PENuO0rJ/DjhBhXRl7z76QwzFtYmAhg6Q1MRAGWTHoORTtskJCYZyaPxGEy5Ipu73+oLyrqml7OmWhUK/VVps=
Received: by 10.54.51.17 with SMTP id y17mr122919wry;
        Fri, 25 Feb 2005 20:36:08 -0800 (PST)
Received: by 10.54.23.39 with HTTP; Fri, 25 Feb 2005 20:36:08 -0800 (PST)
Message-ID: <5f4a646105022520363b61431d@mail.gmail.com>
Date: Sat, 26 Feb 2005 15:36:08 +1100
From: Ben <newreaders@gmail.com>
Reply-To: Ben <newreaders@gmail.com>
To: Lucene <lucene-user@jakarta.apache.org>
Subject: Sorting date stored in milliseconds time
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi

I store my date in milliseconds, how can I do a sort on it? SortField
has INT, FLOAT and STRING. Do I need to create a new sort class, to
sort the long value?

Thanks
Ben

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13410-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Feb 26 10:56:48 2005
Return-Path: <lucene-user-return-13410-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 80066 invoked from network); 26 Feb 2005 10:56:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 Feb 2005 10:56:48 -0000
Received: (qmail 29675 invoked by uid 500); 26 Feb 2005 10:56:45 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 29266 invoked by uid 500); 26 Feb 2005 10:56:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 29252 invoked by uid 99); 26 Feb 2005 10:56:43 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sat, 26 Feb 2005 02:56:42 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 949ED13E2127; Sat, 26 Feb 2005 05:56:40 -0500 (EST)
Received: from [192.168.1.100] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id 30FDC13E2126
	for <lucene-user@jakarta.apache.org>; Sat, 26 Feb 2005 05:56:26 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <5f4a646105022520363b61431d@mail.gmail.com>
References: <5f4a646105022520363b61431d@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <d5d84e74402e6c24dcb93df1dd4c9244@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Sorting date stored in milliseconds time
Date: Sat, 26 Feb 2005 05:56:25 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.4 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Just an idea off the top of my head.... you could create a custom sort, 
or alternatively you could store the date as separate fields such as 
"year", "month", "day", "time", and provide multi-field sort.

	Erik

On Feb 25, 2005, at 11:36 PM, Ben wrote:

> Hi
>
> I store my date in milliseconds, how can I do a sort on it? SortField
> has INT, FLOAT and STRING. Do I need to create a new sort class, to
> sort the long value?
>
> Thanks
> Ben
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13411-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Sat Feb 26 20:09:34 2005
Return-Path: <lucene-user-return-13411-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 34713 invoked from network); 26 Feb 2005 20:09:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 26 Feb 2005 20:09:34 -0000
Received: (qmail 86541 invoked by uid 500); 26 Feb 2005 20:09:30 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 86503 invoked by uid 500); 26 Feb 2005 20:09:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 86488 invoked by uid 99); 26 Feb 2005 20:09:29 -0000
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FORGED_YAHOO_RCVD
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from web31101.mail.mud.yahoo.com (HELO web31101.mail.mud.yahoo.com) (68.142.200.34)
  by apache.org (qpsmtpd/0.28) with SMTP; Sat, 26 Feb 2005 12:09:27 -0800
Received: (qmail 39319 invoked by uid 60001); 26 Feb 2005 20:09:25 -0000
Comment: DomainKeys? See http://antispam.yahoo.com/domainkeys
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  b=ja3qawIG9zap0OcAdw/VdqIwDZ1w6khmnweWrr2rrFCceAhayzltnDQ8/lpyeZdYrjgkZ3vfSvCsj9u6YnziNRuDmg1t/B5VMABt3V+o6ZEYtS0QdKhtI2qXBZjTU2vachYaDOxpNP3unPBBSCTMP7O46FSEp4gO6w3w9RQQdHA=  ;
Message-ID: <20050226200925.39317.qmail@web31101.mail.mud.yahoo.com>
Received: from [69.201.143.88] by web31101.mail.mud.yahoo.com via HTTP; Sat, 26 Feb 2005 12:09:24 PST
Date: Sat, 26 Feb 2005 12:09:24 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Ranking Terms
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <421EE8BC.9030807@fib.upc.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Make sure you are not indexing your documents using the compound index
format (default in the newer versions of Lucene).  Then you will see
the .frq file.  Here is an example from one of Simpy's Lucene indices:

-rw-r--r--    1 simpy    simpy      629073 Feb 26 13:14 _1ao.frq

Otis
--
http://www.simpy.com

--- Daniel Cortes <dcortes@fib.upc.edu> wrote:

> Hi everybody,
> I need to found some documentation about the algorithms that lucene
> use 
> internally in the indexation and how it works with weights and 
> frequencies of the terms.This information will be used to know tastes
> of 
> my users and to relate users with the same interest and
> restlessness.:D
> I read something about .frq files but I don't have any frq life in my
> index.
> Thks.
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13412-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 28 07:29:22 2005
Return-Path: <lucene-user-return-13412-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 3698 invoked from network); 28 Feb 2005 07:29:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Feb 2005 07:29:22 -0000
Received: (qmail 98895 invoked by uid 500); 28 Feb 2005 07:29:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 98861 invoked by uid 500); 28 Feb 2005 07:29:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 98848 invoked by uid 99); 28 Feb 2005 07:29:18 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.tanto.de (HELO mail.tanto.de) (213.61.178.43)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 27 Feb 2005 23:29:17 -0800
Received: from localhost (localhost [127.0.0.1])
	by mail.tanto.de (Postfix) with ESMTP id 7F60823CE0
	for <lucene-user@jakarta.apache.org>; Mon, 28 Feb 2005 08:30:05 +0100 (CET)
Received: from mail.tanto.de ([127.0.0.1])
 by localhost (mail.tanto.de [127.0.0.1]) (amavisd-new, port 10024) with ESMTP
 id 18314-05 for <lucene-user@jakarta.apache.org>;
 Mon, 28 Feb 2005 08:30:05 +0100 (CET)
Received: from tucholsky.office.tanto.de (tucholsky.office.tanto.de [10.0.0.35])
	by mail.tanto.de (Postfix) with ESMTP id 4DD9123BF5
	for <lucene-user@jakarta.apache.org>; Mon, 28 Feb 2005 08:30:05 +0100 (CET)
Received: from tucholsky.office.tanto.de (morus@localhost [127.0.0.1])
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-7.1) with ESMTP id j1S7UM72008126
	for <lucene-user@jakarta.apache.org>; Mon, 28 Feb 2005 08:30:22 +0100
Received: (from morus@localhost)
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-7.1) id j1S7ULCr008122;
	Mon, 28 Feb 2005 08:30:21 +0100
From: Morus Walter <morus.walter@tanto.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16930.51341.630394.350033@tanto-xipolis.de>
Date: Mon, 28 Feb 2005 08:30:21 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Search performance with one index vs. many indexes
In-Reply-To: <421F8DB6.3030306@jCatalog.com>
References: <421F8DB6.3030306@jCatalog.com>
X-Mailer: VM 7.03 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Virus-Scanned: by amavisd-new at mail.tanto.de Q&A postmaster@tanto.de
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Jochen Franke writes:
> Topic: Search performance with large numbers of indexes vs. one large index
> 
> 
> My questions are:
> 
> - Is the size of the "wordlist" the problem?
> - Would we be a lot faster, when we have a smaller number
> of files per index?

sure. 
Look:
Index lookup of a word is O(ln(n)) where n is the number of words.
Index lookup of a word in k indexes having m words is O( k ln(m) )
In the best case all word lists are distict (purely theoretical), 
that is n = k*m or m = n/k
For n = 15 Mio, k = 800
ln(n) = 16.5
k*ln(n/k) = 7871
In a realistic case, m is much bigger since word lists won't be distinct.
But it's the linear factor k that bites you.
In the worst case (all words in all indices) you have
k*ln(n) = 13218.8

HTH
	Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13413-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 28 07:39:22 2005
Return-Path: <lucene-user-return-13413-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 8748 invoked from network); 28 Feb 2005 07:39:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Feb 2005 07:39:21 -0000
Received: (qmail 10591 invoked by uid 500); 28 Feb 2005 07:39:18 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 10552 invoked by uid 500); 28 Feb 2005 07:39:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10538 invoked by uid 99); 28 Feb 2005 07:39:17 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.tanto.de (HELO mail.tanto.de) (213.61.178.43)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 27 Feb 2005 23:39:17 -0800
Received: from localhost (localhost [127.0.0.1])
	by mail.tanto.de (Postfix) with ESMTP id D7B5A23CE0
	for <lucene-user@jakarta.apache.org>; Mon, 28 Feb 2005 08:40:06 +0100 (CET)
Received: from mail.tanto.de ([127.0.0.1])
 by localhost (mail.tanto.de [127.0.0.1]) (amavisd-new, port 10024) with ESMTP
 id 18392-07 for <lucene-user@jakarta.apache.org>;
 Mon, 28 Feb 2005 08:40:06 +0100 (CET)
Received: from tucholsky.office.tanto.de (tucholsky.office.tanto.de [10.0.0.35])
	by mail.tanto.de (Postfix) with ESMTP id B45FC23BF5
	for <lucene-user@jakarta.apache.org>; Mon, 28 Feb 2005 08:40:06 +0100 (CET)
Received: from tucholsky.office.tanto.de (morus@localhost [127.0.0.1])
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-7.1) with ESMTP id j1S7eO72008209
	for <lucene-user@jakarta.apache.org>; Mon, 28 Feb 2005 08:40:24 +0100
Received: (from morus@localhost)
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-7.1) id j1S7eOwK008205;
	Mon, 28 Feb 2005 08:40:24 +0100
From: Morus Walter <morus.walter@tanto.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16930.51943.928083.182503@tanto-xipolis.de>
Date: Mon, 28 Feb 2005 08:40:23 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: help with boolean expression
In-Reply-To: <63434C14F9A6F74CB36B85033E4C30CA01082989@hermes.corp.cyveillance.com>
References: <63434C14F9A6F74CB36B85033E4C30CA01082989@hermes.corp.cyveillance.com>
X-Mailer: VM 7.03 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Virus-Scanned: by amavisd-new at mail.tanto.de Q&A postmaster@tanto.de
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Omar Didi writes:
> I have a problem understanding how would lucene iterpret this boolean expression : A AND B OR C .
> it neither return the same count as when I enter (A AND B) OR C nor A AND (B OR C). 
> if anyone knows how it is interpreted i would be thankful.
> thanks

A AND B OR C creates a query that requires A and B. C influcenes the 
score, but is neither sufficient nor required for a match.

IMO query parser is broken for queries mixing AND and OR without explicit
braces.
My favorite sample is `a AND b OR c AND d' which equals `a AND b AND c AND d'
in query parser.

I suggested a patch some time ago, but it's still pending in bugzilla.
http://issues.apache.org/bugzilla/show_bug.cgi?id=25820

Don't know if it's still usable with current sources.

Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13414-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 28 07:46:05 2005
Return-Path: <lucene-user-return-13414-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 12382 invoked from network); 28 Feb 2005 07:46:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Feb 2005 07:46:04 -0000
Received: (qmail 21633 invoked by uid 500); 28 Feb 2005 07:45:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 21587 invoked by uid 500); 28 Feb 2005 07:45:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21554 invoked by uid 99); 28 Feb 2005 07:45:56 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.tanto.de (HELO mail.tanto.de) (213.61.178.43)
  by apache.org (qpsmtpd/0.28) with ESMTP; Sun, 27 Feb 2005 23:45:55 -0800
Received: from localhost (localhost [127.0.0.1])
	by mail.tanto.de (Postfix) with ESMTP
	id 0832223CE1; Mon, 28 Feb 2005 08:46:45 +0100 (CET)
Received: from mail.tanto.de ([127.0.0.1])
 by localhost (mail.tanto.de [127.0.0.1]) (amavisd-new, port 10024) with ESMTP
 id 18371-10; Mon, 28 Feb 2005 08:46:44 +0100 (CET)
Received: from tucholsky.office.tanto.de (tucholsky.office.tanto.de [10.0.0.35])
	by mail.tanto.de (Postfix) with ESMTP
	id D097B23CE0; Mon, 28 Feb 2005 08:46:44 +0100 (CET)
Received: from tucholsky.office.tanto.de (morus@localhost [127.0.0.1])
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-7.1) with ESMTP id j1S7l272008244;
	Mon, 28 Feb 2005 08:47:02 +0100
Received: (from morus@localhost)
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-7.1) id j1S7l28m008240;
	Mon, 28 Feb 2005 08:47:02 +0100
From: Morus Walter <morus.walter@tanto.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16930.52342.90721.78299@tanto-xipolis.de>
Date: Mon, 28 Feb 2005 08:47:02 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
	Ben <newreaders@gmail.com>
Subject: Re: Sorting date stored in milliseconds time
In-Reply-To: <5f4a646105022520363b61431d@mail.gmail.com>
References: <5f4a646105022520363b61431d@mail.gmail.com>
X-Mailer: VM 7.03 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Virus-Scanned: by amavisd-new at mail.tanto.de Q&A postmaster@tanto.de
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Ben writes:
> 
> I store my date in milliseconds, how can I do a sort on it? SortField
> has INT, FLOAT and STRING. Do I need to create a new sort class, to
> sort the long value?
> 
Why do you need that precicion?
Remember: there's a price to pay. The memory required for sorting and
the time to set up the sort cache depends on the number of different terms,
dates in your case.
I can hardly think of an application where seconds are relevant, what do
you need milliseconds for?

Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13415-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 28 08:06:36 2005
Return-Path: <lucene-user-return-13415-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 23061 invoked from network); 28 Feb 2005 08:06:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Feb 2005 08:06:36 -0000
Received: (qmail 52860 invoked by uid 500); 28 Feb 2005 08:06:32 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 52639 invoked by uid 500); 28 Feb 2005 08:06:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52625 invoked by uid 99); 28 Feb 2005 08:06:31 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO virusscanner1.minfin.be) (193.191.216.11)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 28 Feb 2005 00:06:29 -0800
Received: from finmfe1-hw.minfin.fed.be (localhost [127.0.0.1])
	by virusscanner1.minfin.be (8.11.6+Sun/8.11.6) with ESMTP id j1S8vPD14307
	for <lucene-user@jakarta.apache.org>; Mon, 28 Feb 2005 08:57:25 GMT
Received: from BEBRULIBOISC ([10.12.4.216])
 by finmfe1.minfin.fed.be (iPlanet Messaging Server 5.2 HotFix 1.14 (built Mar
 18 2003)) with SMTP id <0ICM005GJ3Y9PP@finmfe1.minfin.fed.be> for
 lucene-user@jakarta.apache.org; Mon, 28 Feb 2005 09:08:33 +0100 (MET)
Date: Mon, 28 Feb 2005 09:05:23 +0100
From: Claude Libois <claude.libois@guest.minfin.fed.be>
Subject: Boost doesn't works
To: lucene-user@jakarta.apache.org
Message-id: <003101c51d6c$41382840$d8040c0a@eu.uis.unisys.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
Content-type: text/plain; charset=iso-8859-1
Content-transfer-encoding: 7BIT
X-Priority: 3
X-MSMail-priority: Normal
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello. I'm using Lucene for an application and I want to boost the title of
my documents.
For that I use the setBoost method that is applied on the title field.
However when I look with luke(1.6) I don't see any boost on this field and
when
I do a search the score isn't change. What's wrong?
Here is the code where I set the boost factor.

public Document getDocument() throws TechnicalException {
        Document doc = new Document();
        log.trace(new TraceMessage("will  add title,resume,content,date to
the Lucene Document"));
        Field field = Field.UnStored("Content",content);
        doc.add(field);
        doc.add(Field.Text("Summary", summary));
        field = Field.Text("Title", title);
        field.setBoost(10);
        doc.add(field);
        return doc;

    }
Do I have to do something else to activate boosting?

Claude Libois
claude.libois@guest.minfin.fed.be
Technical associate - Unisys


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13416-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 28 08:27:50 2005
Return-Path: <lucene-user-return-13416-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 58698 invoked from network); 28 Feb 2005 08:27:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Feb 2005 08:27:50 -0000
Received: (qmail 72628 invoked by uid 500); 28 Feb 2005 08:27:47 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 72601 invoked by uid 500); 28 Feb 2005 08:27:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 72588 invoked by uid 99); 28 Feb 2005 08:27:47 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.tanto.de (HELO mail.tanto.de) (213.61.178.43)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 28 Feb 2005 00:27:45 -0800
Received: from localhost (localhost [127.0.0.1])
	by mail.tanto.de (Postfix) with ESMTP id 1D16723CE0
	for <lucene-user@jakarta.apache.org>; Mon, 28 Feb 2005 09:28:35 +0100 (CET)
Received: from mail.tanto.de ([127.0.0.1])
 by localhost (mail.tanto.de [127.0.0.1]) (amavisd-new, port 10024) with ESMTP
 id 19834-01 for <lucene-user@jakarta.apache.org>;
 Mon, 28 Feb 2005 09:28:35 +0100 (CET)
Received: from tucholsky.office.tanto.de (tucholsky.office.tanto.de [10.0.0.35])
	by mail.tanto.de (Postfix) with ESMTP id E1BB523BF5
	for <lucene-user@jakarta.apache.org>; Mon, 28 Feb 2005 09:28:34 +0100 (CET)
Received: from tucholsky.office.tanto.de (morus@localhost [127.0.0.1])
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-7.1) with ESMTP id j1S8Sq72008516
	for <lucene-user@jakarta.apache.org>; Mon, 28 Feb 2005 09:28:52 +0100
Received: (from morus@localhost)
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-7.1) id j1S8SqmZ008512;
	Mon, 28 Feb 2005 09:28:52 +0100
From: Morus Walter <morus.walter@tanto.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16930.54852.293915.792642@tanto-xipolis.de>
Date: Mon, 28 Feb 2005 09:28:52 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Boost doesn't works
In-Reply-To: <003101c51d6c$41382840$d8040c0a@eu.uis.unisys.com>
References: <003101c51d6c$41382840$d8040c0a@eu.uis.unisys.com>
X-Mailer: VM 7.03 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Virus-Scanned: by amavisd-new at mail.tanto.de Q&A postmaster@tanto.de
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Claude Libois writes:
> Hello. I'm using Lucene for an application and I want to boost the title of
> my documents.
> For that I use the setBoost method that is applied on the title field.
> However when I look with luke(1.6) I don't see any boost on this field and
> when
> I do a search the score isn't change. What's wrong?

How do you search?
I guess you cannot see a change unless you combine searches in different 
fields, since scores are normalized.

Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13417-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 28 08:35:23 2005
Return-Path: <lucene-user-return-13417-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 64253 invoked from network); 28 Feb 2005 08:35:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Feb 2005 08:35:22 -0000
Received: (qmail 81055 invoked by uid 500); 28 Feb 2005 08:35:17 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 81017 invoked by uid 500); 28 Feb 2005 08:35:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 81002 invoked by uid 99); 28 Feb 2005 08:35:17 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO virusscanner2.minfin.be) (193.191.216.3)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 28 Feb 2005 00:35:16 -0800
Received: from finmfe1-hw.minfin.fed.be (localhost [127.0.0.1])
	by virusscanner2.minfin.be (8.11.6+Sun/8.11.6) with ESMTP id j1S9T5B28062
	for <lucene-user@jakarta.apache.org>; Mon, 28 Feb 2005 09:29:05 GMT
Received: from BEBRULIBOISC ([10.12.4.216])
 by finmfe1.minfin.fed.be (iPlanet Messaging Server 5.2 HotFix 1.14 (built Mar
 18 2003)) with SMTP id <0ICM0085L57I9W@finmfe1.minfin.fed.be> for
 lucene-user@jakarta.apache.org; Mon, 28 Feb 2005 09:35:42 +0100 (MET)
Date: Mon, 28 Feb 2005 09:32:31 +0100
From: Claude Libois <claude.libois@guest.minfin.fed.be>
Subject: Re: Boost doesn't works
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <006401c51d70$0bcf6110$d8040c0a@eu.uis.unisys.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
Content-type: text/plain; charset=iso-8859-1
Content-transfer-encoding: 7BIT
X-Priority: 3
X-MSMail-priority: Normal
References: <003101c51d6c$41382840$d8040c0a@eu.uis.unisys.com>
 <16930.54852.293915.792642@tanto-xipolis.de>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

I use MultiFieldQueryParser(search only done on summary,title and content)
with a FilteredQuery.
Claude Libois
claude.libois@guest.minfin.fed.be
Technical associate - Unisys

----- Original Message ----- 
From: "Morus Walter" <morus.walter@tanto.de>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Monday, February 28, 2005 9:28 AM
Subject: Re: Boost doesn't works


> Claude Libois writes:
> > Hello. I'm using Lucene for an application and I want to boost the title
of
> > my documents.
> > For that I use the setBoost method that is applied on the title field.
> > However when I look with luke(1.6) I don't see any boost on this field
and
> > when
> > I do a search the score isn't change. What's wrong?
>
> How do you search?
> I guess you cannot see a change unless you combine searches in different
> fields, since scores are normalized.
>
> Morus
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13418-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 28 10:10:04 2005
Return-Path: <lucene-user-return-13418-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 27346 invoked from network); 28 Feb 2005 10:10:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Feb 2005 10:10:04 -0000
Received: (qmail 5872 invoked by uid 500); 28 Feb 2005 10:09:52 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 5843 invoked by uid 500); 28 Feb 2005 10:09:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5830 invoked by uid 99); 28 Feb 2005 10:09:51 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 28 Feb 2005 02:09:49 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 4861813E20F0; Mon, 28 Feb 2005 05:09:44 -0500 (EST)
Received: from [192.168.1.100] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id 7BF7A13E2008
	for <lucene-user@jakarta.apache.org>; Mon, 28 Feb 2005 05:09:26 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <006401c51d70$0bcf6110$d8040c0a@eu.uis.unisys.com>
References: <003101c51d6c$41382840$d8040c0a@eu.uis.unisys.com> <16930.54852.293915.792642@tanto-xipolis.de> <006401c51d70$0bcf6110$d8040c0a@eu.uis.unisys.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <97b971f57318214fc42057858379ba45@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Boost doesn't works
Date: Mon, 28 Feb 2005 05:10:01 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.4 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Use the IndexSearcher.explain() feature to look at how Lucene is 
calculating the score.

	Erik


On Feb 28, 2005, at 3:32 AM, Claude Libois wrote:

> I use MultiFieldQueryParser(search only done on summary,title and 
> content)
> with a FilteredQuery.
> Claude Libois
> claude.libois@guest.minfin.fed.be
> Technical associate - Unisys
>
> ----- Original Message -----
> From: "Morus Walter" <morus.walter@tanto.de>
> To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> Sent: Monday, February 28, 2005 9:28 AM
> Subject: Re: Boost doesn't works
>
>
>> Claude Libois writes:
>>> Hello. I'm using Lucene for an application and I want to boost the 
>>> title
> of
>>> my documents.
>>> For that I use the setBoost method that is applied on the title 
>>> field.
>>> However when I look with luke(1.6) I don't see any boost on this 
>>> field
> and
>>> when
>>> I do a search the score isn't change. What's wrong?
>>
>> How do you search?
>> I guess you cannot see a change unless you combine searches in 
>> different
>> fields, since scores are normalized.
>>
>> Morus
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13419-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 28 11:01:12 2005
Return-Path: <lucene-user-return-13419-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 73396 invoked from network); 28 Feb 2005 11:01:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Feb 2005 11:01:07 -0000
Received: (qmail 55145 invoked by uid 500); 28 Feb 2005 11:00:52 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 54260 invoked by uid 500); 28 Feb 2005 11:00:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 54245 invoked by uid 99); 28 Feb 2005 11:00:50 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from redhat.sirma.bg (HELO redhat.sirma.bg) (62.213.161.130)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 28 Feb 2005 03:00:49 -0800
Received: from stenly (stenly.sirma.int [192.168.128.211])
	by redhat.sirma.bg (8.12.7/8.12.7/Sirma Linux 0.6) with SMTP id j1SB0iHE019078
	for <lucene-user@jakarta.apache.org>; Mon, 28 Feb 2005 13:00:44 +0200
Message-ID: <00d301c51d84$bf531970$d380a8c0@sirma.int>
From: "Stanislav Jordanov" <stenly@sirma.bg>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <421F8DB6.3030306@jCatalog.com> <16930.51341.630394.350033@tanto-xipolis.de>
Subject: Fast access to a random page of the search results.
Date: Mon, 28 Feb 2005 13:00:43 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.3790.181
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.3790.181
X-Virus-Scanned: by Sirma Antivirus System             
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Guys,
my private investigation already left me sceptic about the outcome of this
issue,
but I've decided to post it as a final resort.
Perhaps the gurus know the right answer :-)

Suppose I have an index of about 5,000,000 docs
and I am running a single term queries against it, including queries which
return say 1,000,000 or even more hits.

The hits are sorted by some column and I am happy with the query execution
time (i.e. the time spent in the IndexSearcher.query(...) method).
Now comes the problem: it is a product requirement that the client is
allowed to quickly access (by scrolling) a random page of the result set.
Put in different words the app must quickly (in less that a second) respond
to requests like: "Give me the results from No 567100 to No 567200"
(remember the results are sorted thus ordered).
I took a look at Lucene's internals which only left me with the suspision
that this is an impossible task.
Would anyone, please, prove my suspision wrong?

Regards
Stanislav



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13420-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 28 12:18:31 2005
Return-Path: <lucene-user-return-13420-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 81249 invoked from network); 28 Feb 2005 12:18:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Feb 2005 12:18:15 -0000
Received: (qmail 31260 invoked by uid 500); 28 Feb 2005 12:17:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 31196 invoked by uid 500); 28 Feb 2005 12:17:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 31182 invoked by uid 99); 28 Feb 2005 12:17:47 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO virusscanner1.minfin.be) (193.191.216.11)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 28 Feb 2005 04:17:45 -0800
Received: from finmfe1-hw.minfin.fed.be (localhost [127.0.0.1])
	by virusscanner1.minfin.be (8.11.6+Sun/8.11.6) with ESMTP id j1SD8eD27327
	for <lucene-user@jakarta.apache.org>; Mon, 28 Feb 2005 13:08:40 GMT
Received: from BEBRULIBOISC ([10.12.4.216])
 by finmfe1.minfin.fed.be (iPlanet Messaging Server 5.2 HotFix 1.14 (built Mar
 18 2003)) with SMTP id <0ICM00KJBFG4R6@finmfe1.minfin.fed.be> for
 lucene-user@jakarta.apache.org; Mon, 28 Feb 2005 13:16:52 +0100 (MET)
Date: Mon, 28 Feb 2005 13:13:40 +0100
From: Claude Libois <claude.libois@guest.minfin.fed.be>
Subject: Re: Boost doesn't works
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <00aa01c51d8e$f07fdc40$d8040c0a@eu.uis.unisys.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-Mailer: Microsoft Outlook Express 6.00.2800.1437
Content-type: text/plain; charset=iso-8859-1
Content-transfer-encoding: 7BIT
X-Priority: 3
X-MSMail-priority: Normal
References: <003101c51d6c$41382840$d8040c0a@eu.uis.unisys.com>
 <16930.54852.293915.792642@tanto-xipolis.de>
 <006401c51d70$0bcf6110$d8040c0a@eu.uis.unisys.com>
 <97b971f57318214fc42057858379ba45@ehatchersolutions.com>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

The explanation given by the IndexSearcher indicate me that the boost of my
title is
1.0 where  it should be 10.0.
I really don't understand what it's wrong.
Claude Libois
claude.libois@guest.minfin.fed.be
Technical associate - Unisys

----- Original Message ----- 
From: "Erik Hatcher" <erik@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Monday, February 28, 2005 11:10 AM
Subject: Re: Boost doesn't works


> Use the IndexSearcher.explain() feature to look at how Lucene is
> calculating the score.
>
> Erik
>
>
> On Feb 28, 2005, at 3:32 AM, Claude Libois wrote:
>
> > I use MultiFieldQueryParser(search only done on summary,title and
> > content)
> > with a FilteredQuery.
> > Claude Libois
> > claude.libois@guest.minfin.fed.be
> > Technical associate - Unisys
> >
> > ----- Original Message -----
> > From: "Morus Walter" <morus.walter@tanto.de>
> > To: "Lucene Users List" <lucene-user@jakarta.apache.org>
> > Sent: Monday, February 28, 2005 9:28 AM
> > Subject: Re: Boost doesn't works
> >
> >
> >> Claude Libois writes:
> >>> Hello. I'm using Lucene for an application and I want to boost the
> >>> title
> > of
> >>> my documents.
> >>> For that I use the setBoost method that is applied on the title
> >>> field.
> >>> However when I look with luke(1.6) I don't see any boost on this
> >>> field
> > and
> >>> when
> >>> I do a search the score isn't change. What's wrong?
> >>
> >> How do you search?
> >> I guess you cannot see a change unless you combine searches in
> >> different
> >> fields, since scores are normalized.
> >>
> >> Morus
> >>
> >> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> >> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
> >>
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> > For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13421-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 28 12:54:26 2005
Return-Path: <lucene-user-return-13421-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 34164 invoked from network); 28 Feb 2005 12:53:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Feb 2005 12:53:50 -0000
Received: (qmail 78673 invoked by uid 500); 28 Feb 2005 12:53:04 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 78642 invoked by uid 500); 28 Feb 2005 12:53:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 78628 invoked by uid 99); 28 Feb 2005 12:53:03 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from mail.tanto.de (HELO mail.tanto.de) (213.61.178.43)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 28 Feb 2005 04:53:03 -0800
Received: from localhost (localhost [127.0.0.1])
	by mail.tanto.de (Postfix) with ESMTP id E776023CE0
	for <lucene-user@jakarta.apache.org>; Mon, 28 Feb 2005 13:53:52 +0100 (CET)
Received: from mail.tanto.de ([127.0.0.1])
 by localhost (mail.tanto.de [127.0.0.1]) (amavisd-new, port 10024) with ESMTP
 id 25195-04 for <lucene-user@jakarta.apache.org>;
 Mon, 28 Feb 2005 13:53:52 +0100 (CET)
Received: from tucholsky.office.tanto.de (tucholsky.office.tanto.de [10.0.0.35])
	by mail.tanto.de (Postfix) with ESMTP id CA85923BF5
	for <lucene-user@jakarta.apache.org>; Mon, 28 Feb 2005 13:53:52 +0100 (CET)
Received: from tucholsky.office.tanto.de (morus@localhost [127.0.0.1])
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-7.1) with ESMTP id j1SCsA72010350
	for <lucene-user@jakarta.apache.org>; Mon, 28 Feb 2005 13:54:10 +0100
Received: (from morus@localhost)
	by tucholsky.office.tanto.de (8.12.3/8.12.3/Debian-7.1) id j1SCsAa0010346;
	Mon, 28 Feb 2005 13:54:10 +0100
From: Morus Walter <morus.walter@tanto.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <16931.5234.195721.222646@tanto-xipolis.de>
Date: Mon, 28 Feb 2005 13:54:10 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Boost doesn't works
In-Reply-To: <00aa01c51d8e$f07fdc40$d8040c0a@eu.uis.unisys.com>
References: <003101c51d6c$41382840$d8040c0a@eu.uis.unisys.com>
	<16930.54852.293915.792642@tanto-xipolis.de>
	<006401c51d70$0bcf6110$d8040c0a@eu.uis.unisys.com>
	<97b971f57318214fc42057858379ba45@ehatchersolutions.com>
	<00aa01c51d8e$f07fdc40$d8040c0a@eu.uis.unisys.com>
X-Mailer: VM 7.03 under 21.4 (patch 6) "Common Lisp" XEmacs Lucid
X-Virus-Scanned: by amavisd-new at mail.tanto.de Q&A postmaster@tanto.de
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Claude Libois writes:
> The explanation given by the IndexSearcher indicate me that the boost of my
> title is
> 1.0 where  it should be 10.0.
> I really don't understand what it's wrong.

AFAIK you cannot get the boost of a field from the index because it's 
not stored as such.
It's calculated in the fields length norm or something like that during
indexing. Search the list archives for details.

Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13422-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 28 13:34:02 2005
Return-Path: <lucene-user-return-13422-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 87069 invoked from network); 28 Feb 2005 13:34:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Feb 2005 13:34:02 -0000
Received: (qmail 23605 invoked by uid 500); 28 Feb 2005 13:33:56 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 23583 invoked by uid 500); 28 Feb 2005 13:33:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23568 invoked by uid 99); 28 Feb 2005 13:33:56 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from unassigned.norlight.net (HELO brownbear.nameprotect.com) (69.8.156.204)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 28 Feb 2005 05:33:55 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Search performance with one index vs. many indexes
Date: Mon, 28 Feb 2005 07:33:52 -0600
Message-ID: <450A5F8E4BF26340B4013C40E11ADA08700549@brownbear.nameprotect.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Search performance with one index vs. many indexes
Thread-Index: AcUdZzmX7ZcfIb1EQy+o+rFs4om96AAMuRng
From: "Runde, Kevin" <krunde@NameProtect.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Follow Up to the article from Friday=20

-----Original Message-----
From: Morus Walter [mailto:morus.walter@tanto.de]=20
Sent: Monday, February 28, 2005 1:30 AM
To: Lucene Users List
Subject: Re: Search performance with one index vs. many indexes

Jochen Franke writes:
> Topic: Search performance with large numbers of indexes vs. one large
index
>=20
>=20
> My questions are:
>=20
> - Is the size of the "wordlist" the problem?
> - Would we be a lot faster, when we have a smaller number
> of files per index?

sure.=20
Look:
Index lookup of a word is O(ln(n)) where n is the number of words.
Index lookup of a word in k indexes having m words is O( k ln(m) )
In the best case all word lists are distict (purely theoretical),=20
that is n =3D k*m or m =3D n/k
For n =3D 15 Mio, k =3D 800
ln(n) =3D 16.5
k*ln(n/k) =3D 7871
In a realistic case, m is much bigger since word lists won't be
distinct.
But it's the linear factor k that bites you.
In the worst case (all words in all indices) you have
k*ln(n) =3D 13218.8

HTH
	Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13423-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 28 13:34:51 2005
Return-Path: <lucene-user-return-13423-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 87610 invoked from network); 28 Feb 2005 13:34:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Feb 2005 13:34:51 -0000
Received: (qmail 26079 invoked by uid 500); 28 Feb 2005 13:34:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 25877 invoked by uid 500); 28 Feb 2005 13:34:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25863 invoked by uid 99); 28 Feb 2005 13:34:47 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from unassigned.norlight.net (HELO brownbear.nameprotect.com) (69.8.156.204)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 28 Feb 2005 05:34:47 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Search performance with one index vs. many indexes
Date: Mon, 28 Feb 2005 07:34:45 -0600
Message-ID: <450A5F8E4BF26340B4013C40E11ADA0870054A@brownbear.nameprotect.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Search performance with one index vs. many indexes
Thread-Index: AcUdZzmX7ZcfIb1EQy+o+rFs4om96AAMuRngAAADRrA=
From: "Runde, Kevin" <krunde@NameProtect.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hi All,

Sorry about that please disregard that last email. I must not be fully
awake yet.

Sorry,
Kevin Runde=20

-----Original Message-----
From: Runde, Kevin [mailto:krunde@NameProtect.com]=20
Sent: Monday, February 28, 2005 7:34 AM
To: Lucene Users List
Subject: RE: Search performance with one index vs. many indexes

Follow Up to the article from Friday=20

-----Original Message-----
From: Morus Walter [mailto:morus.walter@tanto.de]=20
Sent: Monday, February 28, 2005 1:30 AM
To: Lucene Users List
Subject: Re: Search performance with one index vs. many indexes

Jochen Franke writes:
> Topic: Search performance with large numbers of indexes vs. one large
index
>=20
>=20
> My questions are:
>=20
> - Is the size of the "wordlist" the problem?
> - Would we be a lot faster, when we have a smaller number
> of files per index?

sure.=20
Look:
Index lookup of a word is O(ln(n)) where n is the number of words.
Index lookup of a word in k indexes having m words is O( k ln(m) )
In the best case all word lists are distict (purely theoretical),=20
that is n =3D k*m or m =3D n/k
For n =3D 15 Mio, k =3D 800
ln(n) =3D 16.5
k*ln(n/k) =3D 7871
In a realistic case, m is much bigger since word lists won't be
distinct.
But it's the linear factor k that bites you.
In the worst case (all words in all indices) you have
k*ln(n) =3D 13218.8

HTH
	Morus

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13424-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 28 14:34:07 2005
Return-Path: <lucene-user-return-13424-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 27656 invoked from network); 28 Feb 2005 14:33:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Feb 2005 14:33:52 -0000
Received: (qmail 67843 invoked by uid 500); 28 Feb 2005 14:04:27 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 67815 invoked by uid 500); 28 Feb 2005 14:04:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 67800 invoked by uid 99); 28 Feb 2005 14:04:27 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from uar.spline-software.com (HELO stargate.i-hypergrid.com) (194.44.193.196)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 28 Feb 2005 06:04:26 -0800
Received: from [192.168.0.86] (vbychkoviak.jforce [192.168.0.86])
	by stargate.i-hypergrid.com (Postfix) with ESMTP id 4E2AC81F16
	for <lucene-user@jakarta.apache.org>; Mon, 28 Feb 2005 16:04:22 +0200 (EET)
Message-ID: <422324E6.2080302@i-hypergrid.com>
Date: Mon, 28 Feb 2005 16:04:22 +0200
From: Volodymyr Bychkoviak <vbychkoviak@i-hypergrid.com>
User-Agent: Mozilla Thunderbird 0.9 (Windows/20041103)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Fast access to a random page of the search results.
References: <421F8DB6.3030306@jCatalog.com> <16930.51341.630394.350033@tanto-xipolis.de> <00d301c51d84$bf531970$d380a8c0@sirma.int>
In-Reply-To: <00d301c51d84$bf531970$d380a8c0@sirma.int>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

just retrieve Documents from 567100 to 567200 from Hits class you got 
while searching.

Stanislav Jordanov wrote:

>Guys,
>my private investigation already left me sceptic about the outcome of this
>issue,
>but I've decided to post it as a final resort.
>Perhaps the gurus know the right answer :-)
>
>Suppose I have an index of about 5,000,000 docs
>and I am running a single term queries against it, including queries which
>return say 1,000,000 or even more hits.
>
>The hits are sorted by some column and I am happy with the query execution
>time (i.e. the time spent in the IndexSearcher.query(...) method).
>Now comes the problem: it is a product requirement that the client is
>allowed to quickly access (by scrolling) a random page of the result set.
>Put in different words the app must quickly (in less that a second) respond
>to requests like: "Give me the results from No 567100 to No 567200"
>(remember the results are sorted thus ordered).
>I took a look at Lucene's internals which only left me with the suspision
>that this is an impossible task.
>Would anyone, please, prove my suspision wrong?
>
>Regards
>Stanislav
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
>For additional commands, e-mail: lucene-user-help@jakarta.apache.org
>
>
>  
>

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13425-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 28 14:39:02 2005
Return-Path: <lucene-user-return-13425-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 31799 invoked from network); 28 Feb 2005 14:39:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Feb 2005 14:39:00 -0000
Received: (qmail 75154 invoked by uid 500); 28 Feb 2005 14:09:33 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 75117 invoked by uid 500); 28 Feb 2005 14:09:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 75101 invoked by uid 99); 28 Feb 2005 14:09:33 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 28 Feb 2005 06:09:32 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id C3CC913E20F1; Mon, 28 Feb 2005 09:09:29 -0500 (EST)
Received: from [192.168.1.100] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id 347CC13E2008
	for <lucene-user@jakarta.apache.org>; Mon, 28 Feb 2005 09:09:05 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <00d301c51d84$bf531970$d380a8c0@sirma.int>
References: <421F8DB6.3030306@jCatalog.com> <16930.51341.630394.350033@tanto-xipolis.de> <00d301c51d84$bf531970$d380a8c0@sirma.int>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <ceaba1d83560d5f35aad6d3005069481@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Fast access to a random page of the search results.
Date: Mon, 28 Feb 2005 09:09:01 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.4 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Feb 28, 2005, at 6:00 AM, Stanislav Jordanov wrote:
> my private investigation already left me sceptic about the outcome of 
> this
> issue,
> but I've decided to post it as a final resort.

What did you do in your private investigation?

> Suppose I have an index of about 5,000,000 docs
> and I am running a single term queries against it, including queries 
> which
> return say 1,000,000 or even more hits.
>
> The hits are sorted by some column and I am happy with the query 
> execution
> time (i.e. the time spent in the IndexSearcher.query(...) method).
> Now comes the problem: it is a product requirement that the client is
> allowed to quickly access (by scrolling) a random page of the result 
> set.
> Put in different words the app must quickly (in less that a second) 
> respond
> to requests like: "Give me the results from No 567100 to No 567200"
> (remember the results are sorted thus ordered).

Sorted by descending relevance (the default), or in some other way?

If a search is fast enough, as you report, then you can simply start 
your access to Hits at the appropriate spot.  For the current systems 
I'm working on, this is the approach I've used - start iterating hits 
at (pageNumber - 1) * numberOfItemsPerPage.

Is that approach insufficient?

	Erik


> I took a look at Lucene's internals which only left me with the 
> suspision
> that this is an impossible task.
> Would anyone, please, prove my suspision wrong?
>
> Regards
> Stanislav
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13426-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 28 15:40:26 2005
Return-Path: <lucene-user-return-13426-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 83980 invoked from network); 28 Feb 2005 15:40:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Feb 2005 15:40:16 -0000
Received: (qmail 53308 invoked by uid 500); 28 Feb 2005 15:40:08 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 52429 invoked by uid 500); 28 Feb 2005 15:40:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 52414 invoked by uid 99); 28 Feb 2005 15:40:05 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_50_60,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from redhat.sirma.bg (HELO redhat.sirma.bg) (62.213.161.130)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 28 Feb 2005 07:40:04 -0800
Received: from stenly (stenly.sirma.int [192.168.128.211])
	by redhat.sirma.bg (8.12.7/8.12.7/Sirma Linux 0.6) with SMTP id j1SFe0HE011161
	for <lucene-user@jakarta.apache.org>; Mon, 28 Feb 2005 17:40:01 +0200
Message-ID: <019801c51dab$c2c746e0$d380a8c0@sirma.int>
From: "Stanislav Jordanov" <stenly@sirma.bg>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <421F8DB6.3030306@jCatalog.com> <16930.51341.630394.350033@tanto-xipolis.de> <00d301c51d84$bf531970$d380a8c0@sirma.int> <ceaba1d83560d5f35aad6d3005069481@ehatchersolutions.com>
Subject: Re: Fast access to a random page of the search results.
Date: Mon, 28 Feb 2005 17:39:59 +0200
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----=_NextPart_000_0194_01C51DBC.863A9310"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.3790.181
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.3790.181
X-Virus-Scanned: by Sirma Antivirus System             
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0194_01C51DBC.863A9310
Content-Type: multipart/alternative;
	boundary="----=_NextPart_001_0195_01C51DBC.863A9310"


------=_NextPart_001_0195_01C51DBC.863A9310
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

> What did you do in your private investigation?
1. empirical tests with an index of nearly 75,000 docs (I am attaching =
the test source)
2. reviewing and tracing the source code of Lucene
(I do not claim I have gained a deep understanding of it ;-)

> Sorted by descending relevance (the default), or in some other way?
In some other way - sorted by some column (asc or desc - doesn't matter)

> If a search is fast enough, as you report, then you can simply start=20
> your access to Hits at the appropriate spot.  For the current systems=20
> I'm working on, this is the approach I've used - start iterating hits=20
> at (pageNumber - 1) * numberOfItemsPerPage.
>=20
> Is that approach insufficient?

I'm afraid this is not sufficient;
Either I am doing something wrong,
or it is not that simple:
following is a log from my test session;
It appears that IndexSearcher.search(...) finishes rather fast
compared to the time it takes to fetch the last document from the Hits =
object.
The log starts here:
pa

Found 74222 document(s) that matched query 'pa'

Sorting by "sfile_name"

query executed in 16ms

Last doc accessed in 375ms

us

Found 74222 document(s) that matched query 'us'

Sorting by "sfile_name"

query executed in 31ms

Last doc accessed in 219ms

1

Found 74222 document(s) that matched query '1'

Sorting by "sfile_name"

query executed in 15ms

Last doc accessed in 235ms

5

Found 74222 document(s) that matched query '5'

Sorting by "sfile_name"

query executed in 422ms

Last doc accessed in 219ms

6

Found 72759 document(s) that matched query '6'

Sorting by "sfile_name"

query executed in 344ms

Last doc accessed in 250ms

------=_NextPart_001_0195_01C51DBC.863A9310
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META http-equiv=3DContent-Type content=3D"text/html; =
charset=3Diso-8859-1">
<META content=3D"MSHTML 6.00.3790.218" name=3DGENERATOR>
<STYLE></STYLE>
</HEAD>
<BODY>
<DIV><FONT face=3DArial size=3D2>&gt; What did you do in your private=20
investigation?<BR>1.&nbsp;empirical tests&nbsp;with an index of=20
nearly&nbsp;75,000 docs (I am attaching the test source)</FONT></DIV>
<DIV><FONT face=3DArial size=3D2>2. reviewing and tracing the source =
code of=20
Lucene</FONT></DIV>
<DIV><FONT face=3DArial size=3D2>(I do not claim I have gained a deep =
understanding=20
of it ;-)</FONT></DIV>
<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2>&gt; Sorted by descending relevance =
(the default),=20
or in some other way?<BR>In some other way - sorted by some column (asc =
or desc=20
- doesn't matter)</FONT></DIV>
<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2>&gt; If a search is fast enough, as you =
report,=20
then you can simply start <BR>&gt; your access to Hits at the =
appropriate=20
spot.&nbsp; For the current systems <BR>&gt; I'm working on, this is the =

approach I've used - start iterating hits <BR>&gt; at (pageNumber - 1) * =

numberOfItemsPerPage.<BR>&gt; <BR>&gt; Is that approach=20
insufficient?<BR></FONT></DIV>
<DIV><FONT face=3DArial size=3D2>I'm afraid this is not =
sufficient;</FONT></DIV>
<DIV><FONT face=3DArial size=3D2>Either I am doing something =
wrong,</FONT></DIV>
<DIV><FONT face=3DArial size=3D2>or it is not that simple:</FONT></DIV>
<DIV><FONT face=3DArial size=3D2>following is a log from&nbsp;my test=20
session;</FONT></DIV>
<DIV><FONT face=3DArial size=3D2>It appears that =
IndexSearcher.search(...) finishes=20
rather fast</FONT></DIV>
<DIV><FONT face=3DArial size=3D2>compared to the time it takes to fetch =
the last=20
document from the Hits object.</FONT></DIV>
<DIV><FONT face=3DArial size=3D2>The log starts here:</FONT></DIV>
<DIV>
<P><FONT face=3DArial size=3D2>pa</FONT></P>
<P><FONT face=3DArial size=3D2>Found 74222 document(s) that matched =
query=20
'pa'</FONT></P>
<P><FONT face=3DArial size=3D2>Sorting by "sfile_name"</FONT></P>
<P><FONT face=3DArial size=3D2>query executed in 16ms</FONT></P>
<P><FONT face=3DArial size=3D2>Last doc accessed in 375ms</FONT></P>
<P><FONT face=3DArial size=3D2>us</FONT></P>
<P><FONT face=3DArial size=3D2>Found 74222 document(s) that matched =
query=20
'us'</FONT></P>
<P><FONT face=3DArial size=3D2>Sorting by "sfile_name"</FONT></P>
<P><FONT face=3DArial size=3D2>query executed in 31ms</FONT></P>
<P><FONT face=3DArial size=3D2>Last doc accessed in 219ms</FONT></P>
<P><FONT face=3DArial size=3D2>1</FONT></P>
<P><FONT face=3DArial size=3D2>Found 74222 document(s) that matched =
query=20
'1'</FONT></P>
<P><FONT face=3DArial size=3D2>Sorting by "sfile_name"</FONT></P>
<P><FONT face=3DArial size=3D2>query executed in 15ms</FONT></P>
<P><FONT face=3DArial size=3D2>Last doc accessed in 235ms</FONT></P>
<P><FONT face=3DArial size=3D2>5</FONT></P>
<P><FONT face=3DArial size=3D2>Found 74222 document(s) that matched =
query=20
'5'</FONT></P>
<P><FONT face=3DArial size=3D2>Sorting by "sfile_name"</FONT></P>
<P><FONT face=3DArial size=3D2>query executed in 422ms</FONT></P>
<P><FONT face=3DArial size=3D2>Last doc accessed in 219ms</FONT></P>
<P><FONT face=3DArial size=3D2>6</FONT></P>
<P><FONT face=3DArial size=3D2>Found 72759 document(s) that matched =
query=20
'6'</FONT></P>
<P><FONT face=3DArial size=3D2>Sorting by "sfile_name"</FONT></P>
<P><FONT face=3DArial size=3D2>query executed in 344ms</FONT></P>
<P><FONT face=3DArial size=3D2>Last doc accessed in=20
250ms</FONT></P></DIV></BODY></HTML>

------=_NextPart_001_0195_01C51DBC.863A9310--


------=_NextPart_000_0194_01C51DBC.863A9310
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org
------=_NextPart_000_0194_01C51DBC.863A9310--


From lucene-user-return-13427-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 28 17:04:58 2005
Return-Path: <lucene-user-return-13427-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 33927 invoked from network); 28 Feb 2005 17:04:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Feb 2005 17:04:58 -0000
Received: (qmail 47547 invoked by uid 500); 28 Feb 2005 17:04:55 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 47520 invoked by uid 500); 28 Feb 2005 17:04:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 47507 invoked by uid 99); 28 Feb 2005 17:04:55 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO ehatchersolutions.com) (69.55.225.129)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 28 Feb 2005 09:04:53 -0800
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 2618113E20F0; Mon, 28 Feb 2005 12:04:50 -0500 (EST)
Received: from [192.168.1.100] (va-chrvlle-cad1-bdgrp1-4b-b-169.chvlva.adelphia.net [68.169.41.169])
	by ehatchersolutions.com (Postfix) with ESMTP id 2E02F13E2008
	for <lucene-user@jakarta.apache.org>; Mon, 28 Feb 2005 12:04:18 -0500 (EST)
Mime-Version: 1.0 (Apple Message framework v619.2)
In-Reply-To: <019801c51dab$c2c746e0$d380a8c0@sirma.int>
References: <421F8DB6.3030306@jCatalog.com> <16930.51341.630394.350033@tanto-xipolis.de> <00d301c51d84$bf531970$d380a8c0@sirma.int> <ceaba1d83560d5f35aad6d3005069481@ehatchersolutions.com> <019801c51dab$c2c746e0$d380a8c0@sirma.int>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Message-Id: <d08003cfff6c6ece3420f8f8c97895b0@ehatchersolutions.com>
Content-Transfer-Encoding: quoted-printable
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Fast access to a random page of the search results.
Date: Mon, 28 Feb 2005 11:59:54 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Apple Mail (2.619.2)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Status: No, score=-1.4 required=5.0 tests=AWL,BAYES_00,
	RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL autolearn=no version=3.0.1
X-Spam-Level: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

On Feb 28, 2005, at 10:39 AM, Stanislav Jordanov wrote:
> > What did you do in your private investigation?
> 1.=A0empirical tests=A0with an index of nearly=A075,000 docs (I am =
attaching=20
> the test source)

Only certain (.txt?) attachments are allowed to come through on the=20
mailing list.

> > Sorted by descending relevance (the default), or in some other way?
> In some other way - sorted by some column (asc or desc - doesn't=20
> matter)

Using IndexSearcher(query, sort)?

> =A0> If a search is fast enough, as you report, then you can simply =
start
> > your access to Hits at the appropriate spot.=A0 For the current =
systems
> > I'm working on, this is the approach I've used - start iterating =
hits
> > at (pageNumber - 1) * numberOfItemsPerPage.
> >
> > Is that approach insufficient?
> I'm afraid this is not sufficient;
> Either I am doing something wrong,
> or it is not that simple:
> following is a log from=A0my test session;
> It appears that IndexSearcher.search(...) finishes rather fast
> compared to the time it takes to fetch the last document from the Hits=20=

> object.

I assume you are only accessing the documents you wish to display=20
rather than all of them up to where you need.   Also keep in mind that=20=

accessing a Document is when the document is pulled from the index.  If=20=

you have a large amount of data in a document it will take a=20
corresponding amount of time to load it.  You may need to restructure=20
what you store in a document to reduce the load times.  Or perhaps you=20=

need to investigate the (is it in the codebase already?) patch to load=20=

fields lazily upon demand instead.

	Erik

>

> The log starts here:
>
> pa
>
> Found 74222 document(s) that matched query 'pa'
>
> Sorting by "sfile_name"
>
> query executed in 16ms
>
> Last doc accessed in 375ms
>
> us
>
> Found 74222 document(s) that matched query 'us'
>
> Sorting by "sfile_name"
>
> query executed in 31ms
>
> Last doc accessed in 219ms
>
> 1
>
> Found 74222 document(s) that matched query '1'
>
> Sorting by "sfile_name"
>
> query executed in 15ms
>
> Last doc accessed in 235ms
>
> 5
>
> Found 74222 document(s) that matched query '5'
>
> Sorting by "sfile_name"
>
> query executed in 422ms
>
> Last doc accessed in 219ms
>
> 6
>
> Found 72759 document(s) that matched query '6'
>
> Sorting by "sfile_name"
>
> query executed in 344ms
>
> Last doc accessed in 250ms
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
> For additional commands, e-mail: lucene-user-help@jakarta.apache.org=


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13428-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 28 17:24:41 2005
Return-Path: <lucene-user-return-13428-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 42411 invoked from network); 28 Feb 2005 17:24:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Feb 2005 17:24:41 -0000
Received: (qmail 96531 invoked by uid 500); 28 Feb 2005 17:24:35 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 96504 invoked by uid 500); 28 Feb 2005 17:24:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 96491 invoked by uid 99); 28 Feb 2005 17:24:35 -0000
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from cricket.bio.indiana.edu (HELO cricket.bio.indiana.edu) (129.79.225.189)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 28 Feb 2005 09:24:34 -0800
Received: (from gilbertd@localhost)
	by cricket.bio.indiana.edu (8.11.7p1+Sun/8.11.6) id j1SHOXk16989
	for lucene-user@jakarta.apache.org; Mon, 28 Feb 2005 12:24:33 -0500 (EST)
Date: Mon, 28 Feb 2005 12:24:33 -0500 (EST)
From: Don Gilbert <gilbertd@bio.indiana.edu>
Message-Id: <200502281724.j1SHOXk16989@cricket.bio.indiana.edu>
To: lucene-user@jakarta.apache.org
Subject: ANN: LuceGene bioinformatics application updated
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

LuceGene release 1.4  is available now at
http://www.gmod.org/lucegene/
and http://eugenes.org/gmod/lucegene/

LuceGene is an open-source document/object search and retrieval system
specially tuned for bioinformatics text databases and documents.  It is
similar in concept to the commercial SRS package (Sequence Retrieval
System). LuceGene is written in Java, built with the open-source Lucene
package [http://jakarta.apache.org/lucene/]

This release includes an easy to use demonstration. Pop it into a Tomcat
web server and run.

LuceGene adds these bioinformatics methods to Lucene:

 * Indexing adaptors for formats such as XML, PDF Documents,
 Biosequences, Spreadsheets, HTML, and others, with fine tuning by data
 field.

 * Configurations for bio-data include UniProt/Swiss-Prot, Fasta and
 GenBank sequences, BIND protein interactions, BLAST outputs,
 Medline and others.

 * Support for batch-list look-ups and searches by ID, gene names, etc.

 * Web interface with paged results, batch downloads, search
 refinement and search-linking among data libraries.

 * Web Services support with a SOAP interface.

 * Output support for data-field selection and formats such as
 Spreadsheet, XML, HTML, and others.

It can take as little as a few hours engineering time to add new
databank parsing, making it a cost-effective way to use many
bioinformatics data sets.

LuceGene is speedy with big data sets: indexing and searching the
UniProt library of 1.7 million sequences with LuceGene is comparable to
using SRS. Gene Annotation object search and retrieval with LuceGene is
10x to 20x faster than using a Postgres Chado database.

-- Don Gilbert
Genome Informatics Lab
Indiana University, Bloomington IN
http://iubio.bio.indiana.edu/gil/


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13429-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 28 18:47:07 2005
Return-Path: <lucene-user-return-13429-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 78459 invoked from network); 28 Feb 2005 18:47:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Feb 2005 18:47:07 -0000
Received: (qmail 46463 invoked by uid 500); 28 Feb 2005 18:47:02 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 46429 invoked by uid 500); 28 Feb 2005 18:47:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 46414 invoked by uid 99); 28 Feb 2005 18:47:02 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from artishost.net (HELO artisangel.artishost.net) (69.56.132.178)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 28 Feb 2005 10:47:00 -0800
Received: from [81.25.37.80] (helo=[81.25.37.80])
	by artisangel.artishost.net with esmtpa (Exim 4.43)
	id 1D5puv-0000AB-RZ
	for lucene-user@jakarta.apache.org; Mon, 28 Feb 2005 12:46:55 -0600
Date: Mon, 28 Feb 2005 20:46:48 +0200
From: Yura Smolsky <info@altervision.biz>
X-Mailer: The Bat! (v3.0.1.33) Professional
Reply-To: Yura Smolsky <info@altervision.biz>
Organization: AlterVision Web Development Group
X-Priority: 3 (Normal)
Message-ID: <492368160.20050228204648@altervision.biz>
To: lucene-user@jakarta.apache.org
Subject: IndexSearch and IndexWriter on 2 CPU's
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Spam-Score: 0.0
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - artisangel.artishost.net
X-AntiAbuse: Original Domain - jakarta.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - altervision.biz
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Hello.

I have Dual CPU's box with RH Linux. I run two processes on this box.

1. IndexWriter which adds new documents into index constantly 24/7/365
:)
2. IndexSearcher, which perform searchers from this index.

Sometimes "writer" begins to merge index (this caused by mergeFactor
and structure of Lucene index) "inside" addDocument method. And if merge begins then my "writer" process
takes both CPU's time (180-200% totally). Actually most time time goes
to IO operations.

When merge operation begins then all searches performed by
IndexSearcher on this computer are very-very slowed down b/c all CPU
time is under first process.

How can I "give" second process more CPU time or how can I reduce IO
time of first process?

Maybe I can tweak something about index configuration.
I have set
   writer.mergeFactor = 2
   writer.minMergeDocs = 2500


Yura Smolsky.



---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13430-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 28 21:30:45 2005
Return-Path: <lucene-user-return-13430-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 71714 invoked from network); 28 Feb 2005 21:30:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Feb 2005 21:30:45 -0000
Received: (qmail 84896 invoked by uid 500); 28 Feb 2005 21:30:41 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 84705 invoked by uid 500); 28 Feb 2005 21:30:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 84691 invoked by uid 99); 28 Feb 2005 21:30:40 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from rwcrmhc14.comcast.net (HELO rwcrmhc11.comcast.net) (216.148.227.89)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 28 Feb 2005 13:30:40 -0800
Received: from [192.168.168.81] (c-24-5-160-217.client.comcast.net[24.5.160.217])
          by comcast.net (rwcrmhc14) with ESMTP
          id <200502282130380140033ddde>; Mon, 28 Feb 2005 21:30:38 +0000
Message-ID: <42238D7C.30306@apache.org>
Date: Mon, 28 Feb 2005 13:30:36 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 0.9 (X11/20041127)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Boost doesn't works
References: <003101c51d6c$41382840$d8040c0a@eu.uis.unisys.com> <16930.54852.293915.792642@tanto-xipolis.de> <006401c51d70$0bcf6110$d8040c0a@eu.uis.unisys.com> <97b971f57318214fc42057858379ba45@ehatchersolutions.com> <00aa01c51d8e$f07fdc40$d8040c0a@eu.uis.unisys.com>
In-Reply-To: <00aa01c51d8e$f07fdc40$d8040c0a@eu.uis.unisys.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Claude Libois wrote:
> The explanation given by the IndexSearcher indicate me that the boost of my
> title is
> 1.0 where  it should be 10.0.
> I really don't understand what it's wrong.

You're seeing the boost for the query term, not the boost for the 
document's field.  The boost for the field in the document is multiplied 
by its lengthNorm.  This product is displayed in explanations as the 
"fieldNorm".

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13431-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Mon Feb 28 22:56:44 2005
Return-Path: <lucene-user-return-13431-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 9236 invoked from network); 28 Feb 2005 22:56:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 28 Feb 2005 22:56:43 -0000
Received: (qmail 21353 invoked by uid 500); 28 Feb 2005 22:56:39 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 21329 invoked by uid 500); 28 Feb 2005 22:56:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21315 invoked by uid 99); 28 Feb 2005 22:56:39 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (hermes.apache.org: local policy)
Received: from rwcrmhc14.comcast.net (HELO rwcrmhc11.comcast.net) (216.148.227.89)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 28 Feb 2005 14:56:38 -0800
Received: from [192.168.168.81] (c-24-5-160-217.client.comcast.net[24.5.160.217])
          by comcast.net (rwcrmhc14) with ESMTP
          id <20050228225636014003748ae>; Mon, 28 Feb 2005 22:56:36 +0000
Message-ID: <4223A1A4.1010900@apache.org>
Date: Mon, 28 Feb 2005 14:56:36 -0800
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 0.9 (X11/20041127)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: 1.4.x TermInfosWriter.indexInterval not public static ?
References: <421E505D.7070809@newsmonster.org> <421F55DF.2060709@apache.org> <Pine.LNX.4.58.0502251710490.1489@hal.rescomp.berkeley.edu>
In-Reply-To: <Pine.LNX.4.58.0502251710490.1489@hal.rescomp.berkeley.edu>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Chris Hostetter wrote:
>  1) If making it mutatable requires changes to other classes to propogate
>     it, then why is it now an instance variable instead of a static?
>     (Presumably making it an instance variable allows subclasses to
>     override the value, but if other classes have internal expectations
>     of the value, that doesn't seem safe)

Its an instance variable because it can vary from instance-to-instance. 
  This value is specified when an index segment is written, and 
subsequently read from disk and used when reading that segment.  It's an 
instance variable in both the writing and reading code.  The thing 
that's lacking is a way to pass in alternate values to the writing code.

The reason that other classes are involved is that the reading and 
writing code are in non-public classes.  We don't want to expose the 
implementation too much by making these public, but would rather expose 
these as getter/setter methods on the relevant public API.

>  2) Should it be configurable through a get/set method, or through a
>     system property?
>     (which rehashes the instance/global question)

That's indeed the question.  My guess is that a system property would be 
probably be sufficient for most, but perhaps not for all.  Similarly 
with a static setter/getter.  But a getter/setter on IndexWriter would 
make everyone happy.

>  3) Is it important that a writer updating an existing index use the same
>     value as the writer that initial created the index?  if so should
>     there really be a "preferedIndexInterval" variable which is mutatable,
>     and a "currentIndexInterval" which is set to the value of the index
>     currently being updated.  Such that preferedIndexInterval is used when
>     making an index from scratch and currentIndexInterval is used when
>     adding segments to a new index?

It's used whenever an index segment is created.  Index segments are 
created when documents are added and when index segments are merged to 
form larger index segments.  Merging happens frequently while indexing. 
  Optimization merges all segments.

The value can vary in each segment.

The default value is probably good for all but folks with very large 
indexes, who may wish to increase the default somewhat.  Also folks with 
smaller indexes and very high query volumes may wish to decrease the 
default.  It's a classic time/memory tradeoff.  Higher values use less 
memory and make searches a bit slower, smaller values use more memory 
and make searches a bit faster.

Unless there are objections I will add this as:
   IndexWriter.setTermIndexInterval()
   IndexWriter.getTermIndexInterval()
Both will be marked "Expert".

Further discussion should move to the lucene-dev list.

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13432-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 01 03:50:25 2005
Return-Path: <lucene-user-return-13432-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 21399 invoked from network); 1 Mar 2005 03:50:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Mar 2005 03:50:25 -0000
Received: (qmail 34944 invoked by uid 500); 1 Mar 2005 03:50:19 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 34909 invoked by uid 500); 1 Mar 2005 03:50:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 34890 invoked by uid 99); 1 Mar 2005 03:50:19 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of ben@csh.rit.edu designates 129.21.60.6 as permitted sender)
Received: from blacksheep.csh.rit.edu (HELO blacksheep.csh.rit.edu) (129.21.60.6)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 28 Feb 2005 19:50:17 -0800
Received: from fury.csh.rit.edu (fury.csh.rit.edu [IPv6:2001:470:1f00:135:a00:20ff:fe8d:5399])
	by blacksheep.csh.rit.edu (Postfix) with ESMTP id 5046992D0
	for <lucene-user@jakarta.apache.org>; Mon, 28 Feb 2005 22:50:15 -0500 (EST)
Received: by fury.csh.rit.edu (Postfix, from userid 38448)
	id 2272314EA; Mon, 28 Feb 2005 22:50:15 -0500 (EST)
Received: from localhost (localhost [127.0.0.1])
	by fury.csh.rit.edu (Postfix) with ESMTP id 130C511AD
	for <lucene-user@jakarta.apache.org>; Mon, 28 Feb 2005 22:50:15 -0500 (EST)
Date: Mon, 28 Feb 2005 22:50:14 -0500 (EST)
From: Ben Litchfield <ben@csh.rit.edu>
To: lucene-user@jakarta.apache.org
Subject: PDF Highlighter Package
Message-ID: <Pine.GSO.4.53.0502282241010.10370@fury.csh.rit.edu>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N


For those of you that support indexing PDF documents, PDFBox now supports
Adobe's PDF Highlight specification
(http://partners.adobe.com/public/developer/en/pdf/HighlightFileFormat.pdf)

PDFBox is now capable of generating an XML document that describes words
in a PDF document to highlight.

An "in action" example can be seen at

http://pavilion.csh.rit.edu:8080/pdfbox/index.html

You can enter any web accessible PDF and any keywords.  The PDF will open
normally and after a short pause(this is running on an old slow server)
will jump to the first selected keyword.

Source code is available in CVS or in tonight's nightly build.

Any comments/suggestions are welcome.

Special thanks to Stephan Lagraulet, who made this possible with code
contributions.

Ben
http://www.pdfbox.org

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13433-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 01 05:48:17 2005
Return-Path: <lucene-user-return-13433-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 66722 invoked from network); 1 Mar 2005 05:48:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Mar 2005 05:48:16 -0000
Received: (qmail 68552 invoked by uid 500); 1 Mar 2005 05:48:12 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 68519 invoked by uid 500); 1 Mar 2005 05:48:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 68504 invoked by uid 99); 1 Mar 2005 05:48:12 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: local policy)
Received: from Unknown (HELO mail.sofari.com) (12.43.53.196)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 28 Feb 2005 21:48:10 -0800
Received: from [104.179.13.8] (www.rojo.com [66.180.233.2] (may be forged))
	by mail.sofari.com (8.12.11/8.12.3/Debian-6.6) with ESMTP id j215m7Nr006654
	for <lucene-user@jakarta.apache.org>; Mon, 28 Feb 2005 21:48:08 -0800
Message-ID: <42240212.4000100@newsmonster.org>
Date: Mon, 28 Feb 2005 21:48:02 -0800
From: "Kevin A. Burton" <burton@newsmonster.org>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7) Gecko/20040616
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: 1.4.x TermInfosWriter.indexInterval not public static ?
References: <421E505D.7070809@newsmonster.org> <421F55DF.2060709@apache.org> <Pine.LNX.4.58.0502251710490.1489@hal.rescomp.berkeley.edu> <4223A1A4.1010900@apache.org>
In-Reply-To: <4223A1A4.1010900@apache.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Doug Cutting wrote:

>
> The default value is probably good for all but folks with very large 
> indexes, who may wish to increase the default somewhat.  Also folks 
> with smaller indexes and very high query volumes may wish to decrease 
> the default.  It's a classic time/memory tradeoff.  Higher values use 
> less memory and make searches a bit slower, smaller values use more 
> memory and make searches a bit faster.

BTW.. can you define "a bit"...

Is "a bit" 5%?  10%?  Benchmarks would be ncie but I'm not that picky.  
I just want to see what performance hits/benefits I could see by 
tweaking the values.

Kevin

-- 

Use Rojo (RSS/Atom aggregator).  Visit http://rojo.com. Ask me for an 
invite!  Also see irc.freenode.net #rojo if you want to chat.

Rojo is Hiring! - http://www.rojonetworks.com/JobsAtRojo.html

If you're interested in RSS, Weblogs, Social Networking, etc... then you 
should work for Rojo!  If you recommend someone and we hire them you'll 
get a free iPod!
    
Kevin A. Burton, Location - San Francisco, CA
       AIM/YIM - sfburtonator,  Web - http://peerfear.org/
GPG fingerprint: 5FB2 F3E2 760E 70A8 6174 D393 E84D 8D04 99F1 4412


---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


From lucene-user-return-13434-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org Tue Mar 01 06:08:00 2005
Return-Path: <lucene-user-return-13434-apmail-jakarta-lucene-user-archive=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@www.apache.org
Received: (qmail 74327 invoked from network); 1 Mar 2005 06:08:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur-2.apache.org with SMTP; 1 Mar 2005 06:08:00 -0000
Received: (qmail 92421 invoked by uid 500); 1 Mar 2005 06:07:48 -0000
Delivered-To: apmail-jakarta-lucene-user-archive@jakarta.apache.org
Received: (qmail 92388 invoked by uid 500); 1 Mar 2005 06:07:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 92375 invoked by uid 99); 1 Mar 2005 06:07:47 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of chakra.yadavalli@gmail.com designates 64.233.170.203 as permitted sender)
Received: from rproxy.gmail.com (HELO rproxy.gmail.com) (64.233.170.203)
  by apache.org (qpsmtpd/0.28) with ESMTP; Mon, 28 Feb 2005 22:07:44 -0800
Received: by rproxy.gmail.com with SMTP id 34so45879rns
        for <lucene-user@jakarta.apache.org>; Mon, 28 Feb 2005 22:07:42 -0800 (PST)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type:content-transfer-encoding;
        b=qhcA6lDxIpYCZk6EczLj2fL/ebetQS7lauEIeXn3wTlSLwUewmld0cF7M5vuGKmTJ4yFmsGL58tlCO6ADvt2VTktuG5BkaZWoidF4KTIH6bEtHCGDNypKO0A1MdIp9h71uRvEFtEhlmr21cr+KzVJqIHdg7S27EnVHNFogszxCA=
Received: by 10.38.206.4 with SMTP id d4mr124927rng;
        Mon, 28 Feb 2005 22:07:42 -0800 (PST)
Received: by 10.38.8.69 with HTTP; Mon, 28 Feb 2005 22:07:42 -0800 (PST)
Message-ID: <8b6ad07a050228220711a7789f@mail.gmail.com>
Date: Tue, 1 Mar 2005 01:07:42 -0500
From: Chakra Yadavalli <chakra.yadavalli@gmail.com>
Reply-To: Chakra Yadavalli <chakra.yadavalli@gmail.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: UWTV Program: Google: A Behind-the-Scenes Look
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked
X-Spam-Rating: minotaur-2.apache.org 1.6.2 0/1000/N

Just came across this interesting webcast. Check it out.
-- Chakra
"Google: A Behind-the-Scenes Look
Search is one of the most important applications used on the internet
and poses some of the most interesting challenges in computer science.
Providing high-quality search requires understanding across a wide
range of computer science disciplines. In this program, Jeff Dean of
Google describes some of these challenges, discusses applications
Google has developed, and highlights systems they've built, including
GFS, a large-scale distributed file system, and MapReduce, a library
for automatic parallelization and distribution of large-scale
computation. He also shares some interesting observations derived from
Google's web data."
http://www.uwtv.org/programs/displayevent.asp?rid=2459
-- 
Visit my weblog: http://www.jroller.com/page/cyblogue

---------------------------------------------------------------------
To unsubscribe, e-mail: lucene-user-unsubscribe@jakarta.apache.org
For additional commands, e-mail: lucene-user-help@jakarta.apache.org


