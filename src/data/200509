From java-user-return-16154-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 01 08:14:26 2005
Return-Path: <java-user-return-16154-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 56742 invoked from network); 1 Sep 2005 08:14:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Sep 2005 08:14:26 -0000
Received: (qmail 9746 invoked by uid 500); 1 Sep 2005 08:14:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9624 invoked by uid 500); 1 Sep 2005 08:14:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 9583 invoked by uid 99); 1 Sep 2005 08:14:18 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Sep 2005 01:14:18 -0700
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=NO_REAL_NAME,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of dozean@gmx.de designates 213.165.64.20 as permitted sender)
Received: from [213.165.64.20] (HELO mail.gmx.net) (213.165.64.20)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 01 Sep 2005 01:14:31 -0700
Received: (qmail 11333 invoked by uid 0); 1 Sep 2005 08:14:13 -0000
Received: from 80.136.135.28 by www58.gmx.net with HTTP;
	Thu, 1 Sep 2005 10:14:13 +0200 (MEST)
Date: Thu, 1 Sep 2005 10:14:13 +0200 (MEST)
From: dozean@gmx.de
To: java-user@lucene.apache.org
MIME-Version: 1.0
References: <43149CCA.8040806@yahoo.co.uk>
Subject: =?ISO-8859-1?Q?Can't_return_Hits!?=
X-Priority: 3 (Normal)
X-Authenticated: #9227561
Message-ID: <14032.1125562453@www58.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

i want to return the Hits!! For listing them out!
But i get this Exception!

Exception in thread "main" java.io.IOException: Das Handle ist ungültig
	at java.io.RandomAccessFile.seek(Native Method)
	at org.apache.lucene.store.FSInputStream.readInternal(FSDirectory.java:415)
	at org.apache.lucene.store.InputStream.refill(InputStream.java:158)
	at org.apache.lucene.store.InputStream.readByte(InputStream.java:43)
	at org.apache.lucene.store.InputStream.readBytes(InputStream.java:57)
	at
org.apache.lucene.index.CompoundFileReader$CSInputStream.readInternal(CompoundFileReader.java:220)
	at org.apache.lucene.store.InputStream.refill(InputStream.java:158)
	at org.apache.lucene.store.InputStream.readByte(InputStream.java:43)
	at org.apache.lucene.store.InputStream.readInt(InputStream.java:73)
	at org.apache.lucene.store.InputStream.readLong(InputStream.java:96)
	at org.apache.lucene.index.FieldsReader.doc(FieldsReader.java:59)
	at org.apache.lucene.index.SegmentReader.document(SegmentReader.java:237)
	at org.apache.lucene.search.IndexSearcher.doc(IndexSearcher.java:74)
	at org.apache.lucene.search.Hits.doc(Hits.java:101)
	at search.Searcher.main(Searcher.java:76)


What i do is:

public void search() {
   ....
   hits = searcher.search(query);
}

public Hits getHits() {
   return hits;
}

public static void main (String [] args) {
   ...
   Hits h; 
   h = s.getHits();
   System.out.println(h.length());       //returns a number
   System.out.println(h.doc(0)!=null);   //returns an exception
}

If i say h.doc(0) and the length is not 0, it throws an exception!!
Why this could be???

Bye Derya

-- 
GMX DSL = Maximale Leistung zum minimalen Preis!
2000 MB nur 2,99, Flatrate ab 4,99 Euro/Monat: http://www.gmx.net/de/go/dsl

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16155-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 01 08:56:27 2005
Return-Path: <java-user-return-16155-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70317 invoked from network); 1 Sep 2005 08:56:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Sep 2005 08:56:27 -0000
Received: (qmail 58841 invoked by uid 500); 1 Sep 2005 08:56:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58818 invoked by uid 500); 1 Sep 2005 08:56:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58805 invoked by uid 99); 1 Sep 2005 08:56:21 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Sep 2005 01:56:21 -0700
X-ASF-Spam-Status: No, hits=1.8 required=10.0
	tests=RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [213.46.255.24] (HELO viefep17-int.chello.at) (213.46.255.24)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Sep 2005 01:56:36 -0700
Received: from genuine ([80.108.136.197]) by viefep17-int.chello.at
          (InterMail vM.6.01.04.04 201-2131-118-104-20050224) with ESMTP
          id <20050901085616.TPUB1234.viefep17-int.chello.at@genuine>
          for <java-user@lucene.apache.org>; Thu, 1 Sep 2005 10:56:16 +0200
Received: from [213.164.23.137] (helo=[10.15.10.17])
	by genuine with esmtpa (Exim 4.50)
	id 1EAkpE-0007tu-GD
	for java-user@lucene.apache.org; Thu, 01 Sep 2005 10:53:37 +0200
Message-ID: <4316C22B.2020503@fischer.name>
Date: Thu, 01 Sep 2005 10:56:11 +0200
From: Markus Fischer <markus@fischer.name>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Using one physical lucene index for multiple projects
References: <43157EC0.5000600@fischer.name> <4315E435.1040506@blizzy.de>
In-Reply-To: <4315E435.1040506@blizzy.de>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Score: 0
X-Spam-Level: /
X-Spam-Report: Spam detection software, running on the system "genuine", has
	identified this incoming email as possible spam.  The original message
	has been attached to this so you can view it (if it isn't spam) or label
	similar future email.  If you have any questions, see
	the administrator of that system for details.
	Content preview:  Maik Schreiber wrote: >> I'm running XML-RPC to allow
	access to the index. >> >> My idea was that I share a SecretKey between
	the projects indexers and >> projects clients. So the indexer can only
	add/remove documents with >> his key and the client can only access
	documents with his key. > > > In our projects we're using HTTP
	authentication for XML-RPC requests. [...] 
	Content analysis details:   (0.0 points, 5.0 required)
	pts rule name              description
	---- ---------------------- --------------------------------------------------
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Maik Schreiber wrote:
>> I'm running XML-RPC to allow access to the index.
>>
>> My idea was that I share a SecretKey between the projects indexers and 
>> projects clients. So the indexer can only add/remove documents with 
>> his key and the client can only access documents with his key.
> 
> 
> In our projects we're using HTTP authentication for XML-RPC requests.

The authentication tunnels all requests through a single method 
"execute". Can I then automatically call some XmlRpc callback function 
to let the XmlRpc-Server do its introspection which method to call?

In my case I would only add a new parameter to the Vector and and then 
disatch it to the method based on its signature.

thanks,
- Markus

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16156-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 01 09:22:25 2005
Return-Path: <java-user-return-16156-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79419 invoked from network); 1 Sep 2005 09:22:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Sep 2005 09:22:24 -0000
Received: (qmail 83716 invoked by uid 500); 1 Sep 2005 09:22:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83693 invoked by uid 500); 1 Sep 2005 09:22:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 83680 invoked by uid 99); 1 Sep 2005 09:22:18 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Sep 2005 02:22:18 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of blizzy-keyword-lucene_user.f5486d@blizzy.de designates 212.79.22.222 as permitted sender)
Received: from [212.79.22.222] (HELO subshell.com) (212.79.22.222)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Sep 2005 02:22:33 -0700
Received: (qmail 9730 invoked from network); 1 Sep 2005 11:22:15 +0200
Received: from unknown (HELO ?10.0.0.10?) (212.79.22.193)
  by subshell.com with SMTP; 1 Sep 2005 11:22:15 +0200
Message-ID: <4316C846.6010403@blizzy.de>
Date: Thu, 01 Sep 2005 11:22:14 +0200
From: Maik Schreiber <blizzy-keyword-lucene_user.f5486d@blizzy.de>
User-Agent: Mozilla Thunderbird 1.0.2 (X11/20050326)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Using one physical lucene index for multiple projects
References: <43157EC0.5000600@fischer.name> <4315E435.1040506@blizzy.de> <431601AD.9050502@fischer.name>
In-Reply-To: <431601AD.9050502@fischer.name>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

> Is any of the authentication incredentials actually put into the index
> for this verifyication?

No. We're using authentication only to protect the HTTP interface, but you can
search for about anything once you're past that.

> Currently, I also store the SecretKey (hash of it) in the index so I
> know when e.g. the request comes to delete all documents I also which ones.

I'm not sure if you're talking about authentication for using the XML-RPC
interface here...?

-- 
Maik Schreiber   *   http://www.blizzy.de

GPG public key: http://pgp.mit.edu:11371/pks/lookup?op=get&search=0x1F11D713
Key fingerprint: CF19 AFCE 6E3D 5443 9599 18B5 5640 1F11 D713

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16157-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 01 09:48:34 2005
Return-Path: <java-user-return-16157-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 87459 invoked from network); 1 Sep 2005 09:48:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Sep 2005 09:48:34 -0000
Received: (qmail 20723 invoked by uid 500); 1 Sep 2005 09:48:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 20696 invoked by uid 500); 1 Sep 2005 09:48:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 20683 invoked by uid 99); 1 Sep 2005 09:48:28 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Sep 2005 02:48:28 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [193.194.158.19] (HELO exchange.bvdep.com) (193.194.158.19)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Sep 2005 02:48:42 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Content-Class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Can't return Hits!
Date: Thu, 1 Sep 2005 11:48:24 +0200
Message-ID: <950FF7DE40C2B64CAF80B564732927E104885F82@exchange.be.bvd>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Can't return Hits!
thread-index: AcWuzStqxZxKtR00SEO9xvsfS6AjkQADNImw
From: "Vanlerberghe, Luc" <Luc.Vanlerberghe@bvdep.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Keep the IndexSearcher object you used to get the Hits open until you =
have finished with them...

Luc


-----Original Message-----
From: dozean@gmx.de [mailto:dozean@gmx.de]=20
Sent: donderdag 1 september 2005 10:14
To: java-user@lucene.apache.org
Subject: Can't return Hits!

Hi,

i want to return the Hits!! For listing them out!
But i get this Exception!

Exception in thread "main" java.io.IOException: Das Handle ist =
ung=FCltig
	at java.io.RandomAccessFile.seek(Native Method)
	at =
org.apache.lucene.store.FSInputStream.readInternal(FSDirectory.java:415)
	at org.apache.lucene.store.InputStream.refill(InputStream.java:158)
	at org.apache.lucene.store.InputStream.readByte(InputStream.java:43)
	at org.apache.lucene.store.InputStream.readBytes(InputStream.java:57)
	at
org.apache.lucene.index.CompoundFileReader$CSInputStream.readInternal(Com=
poundFileReader.java:220)
	at org.apache.lucene.store.InputStream.refill(InputStream.java:158)
	at org.apache.lucene.store.InputStream.readByte(InputStream.java:43)
	at org.apache.lucene.store.InputStream.readInt(InputStream.java:73)
	at org.apache.lucene.store.InputStream.readLong(InputStream.java:96)
	at org.apache.lucene.index.FieldsReader.doc(FieldsReader.java:59)
	at =
org.apache.lucene.index.SegmentReader.document(SegmentReader.java:237)
	at org.apache.lucene.search.IndexSearcher.doc(IndexSearcher.java:74)
	at org.apache.lucene.search.Hits.doc(Hits.java:101)
	at search.Searcher.main(Searcher.java:76)


What i do is:

public void search() {
   ....
   hits =3D searcher.search(query);
}

public Hits getHits() {
   return hits;
}

public static void main (String [] args) {
   ...
   Hits h;=20
   h =3D s.getHits();
   System.out.println(h.length());       //returns a number
   System.out.println(h.doc(0)!=3Dnull);   //returns an exception
}

If i say h.doc(0) and the length is not 0, it throws an exception!!
Why this could be???

Bye Derya

--=20
GMX DSL =3D Maximale Leistung zum minimalen Preis!
2000 MB nur 2,99, Flatrate ab 4,99 Euro/Monat: =
http://www.gmx.net/de/go/dsl

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16158-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 01 10:23:11 2005
Return-Path: <java-user-return-16158-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 831 invoked from network); 1 Sep 2005 10:23:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Sep 2005 10:23:11 -0000
Received: (qmail 71621 invoked by uid 500); 1 Sep 2005 10:23:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70883 invoked by uid 500); 1 Sep 2005 10:23:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 70870 invoked by uid 99); 1 Sep 2005 10:23:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Sep 2005 03:23:01 -0700
X-ASF-Spam-Status: No, hits=1.8 required=10.0
	tests=RCVD_IN_NJABL_DUL,RCVD_IN_SORBS_DUL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [213.46.255.26] (HELO viefep12-int.chello.at) (213.46.255.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Sep 2005 03:23:15 -0700
Received: from genuine ([80.108.136.197]) by viefep12-int.chello.at
          (InterMail vM.6.01.04.04 201-2131-118-104-20050224) with ESMTP
          id <20050901102256.SMAK1634.viefep12-int.chello.at@genuine>
          for <java-user@lucene.apache.org>; Thu, 1 Sep 2005 12:22:56 +0200
Received: from [213.164.23.137] (helo=[10.15.10.17])
	by genuine with esmtpa (Exim 4.50)
	id 1EAmB6-0000XQ-Qf
	for java-user@lucene.apache.org; Thu, 01 Sep 2005 12:20:18 +0200
Message-ID: <4316D67E.6090907@fischer.name>
Date: Thu, 01 Sep 2005 12:22:54 +0200
From: Markus Fischer <markus@fischer.name>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Using one physical lucene index for multiple projects
References: <43157EC0.5000600@fischer.name> <4315E435.1040506@blizzy.de> <431601AD.9050502@fischer.name> <4316C846.6010403@blizzy.de>
In-Reply-To: <4316C846.6010403@blizzy.de>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spam-Score: 0
X-Spam-Level: /
X-Spam-Report: Spam detection software, running on the system "genuine", has
	identified this incoming email as possible spam.  The original message
	has been attached to this so you can view it (if it isn't spam) or label
	similar future email.  If you have any questions, see
	the administrator of that system for details.
	Content preview:  Maik Schreiber wrote: >>Currently, I also store the
	SecretKey (hash of it) in the index so I >>know when e.g. the request
	comes to delete all documents I also which ones. > > I'm not sure if
	you're talking about authentication for using the XML-RPC > interface
	here...? [...] 
	Content analysis details:   (0.0 points, 5.0 required)
	pts rule name              description
	---- ---------------------- --------------------------------------------------
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Maik Schreiber wrote:
>>Currently, I also store the SecretKey (hash of it) in the index so I
>>know when e.g. the request comes to delete all documents I also which ones.
> 
> I'm not sure if you're talking about authentication for using the XML-RPC
> interface here...?

Multiple users can authenticate to the XML-RPC server but also have 
access to different documents inside lucene.

So I need some information in the lucene index to know which ones the 
users is able to access. Currently I generate a MD5 hash of the 
username/password and store this as Field.Keyword in the lucene index 
and "AND" all queries for that key too.

I'm just wondering whether all in all that's a good idea or not and 
would else I could do.

- Markus

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16159-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 01 11:59:54 2005
Return-Path: <java-user-return-16159-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 39674 invoked from network); 1 Sep 2005 11:59:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Sep 2005 11:59:54 -0000
Received: (qmail 86304 invoked by uid 500); 1 Sep 2005 11:59:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 86274 invoked by uid 500); 1 Sep 2005 11:59:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 86261 invoked by uid 99); 1 Sep 2005 11:59:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Sep 2005 04:59:49 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of blizzy-keyword-lucene_user.f5486d@blizzy.de designates 212.79.22.222 as permitted sender)
Received: from [212.79.22.222] (HELO subshell.com) (212.79.22.222)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Sep 2005 05:00:04 -0700
Received: (qmail 21214 invoked from network); 1 Sep 2005 13:59:46 +0200
Received: from unknown (HELO ?10.0.0.10?) (212.79.22.193)
  by subshell.com with SMTP; 1 Sep 2005 13:59:46 +0200
Message-ID: <4316ED32.1070904@blizzy.de>
Date: Thu, 01 Sep 2005 13:59:46 +0200
From: Maik Schreiber <blizzy-keyword-lucene_user.f5486d@blizzy.de>
User-Agent: Mozilla Thunderbird 1.0.2 (X11/20050326)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Using one physical lucene index for multiple projects
References: <43157EC0.5000600@fischer.name> <4315E435.1040506@blizzy.de> <431601AD.9050502@fischer.name> <4316C846.6010403@blizzy.de> <4316D67E.6090907@fischer.name>
In-Reply-To: <4316D67E.6090907@fischer.name>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

> Multiple users can authenticate to the XML-RPC server but also have
> access to different documents inside lucene.
> 
> So I need some information in the lucene index to know which ones the
> users is able to access. Currently I generate a MD5 hash of the
> username/password and store this as Field.Keyword in the lucene index
> and "AND" all queries for that key too.

Okay, I see. In our system we don't filter search results by user. HTTP
authentication is only used to protect the XML-RPC interface so that not
everyone can use it at will.

-- 
Maik Schreiber   *   http://www.blizzy.de

GPG public key: http://pgp.mit.edu:11371/pks/lookup?op=get&search=0x1F11D713
Key fingerprint: CF19 AFCE 6E3D 5443 9599 18B5 5640 1F11 D713

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16160-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 01 15:11:08 2005
Return-Path: <java-user-return-16160-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33824 invoked from network); 1 Sep 2005 15:11:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Sep 2005 15:11:07 -0000
Received: (qmail 28152 invoked by uid 500); 1 Sep 2005 15:11:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 28071 invoked by uid 500); 1 Sep 2005 15:11:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 28057 invoked by uid 99); 1 Sep 2005 15:11:00 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Sep 2005 08:11:00 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [207.69.200.58] (HELO pop05.mail.atl.earthlink.net) (207.69.200.58)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Sep 2005 08:11:13 -0700
Received: from mswamui-thinleaf.atl.sa.earthlink.net ([209.86.224.51])
	by pop05.mail.atl.earthlink.net with esmtp (Exim 3.36 #10)
	id 1EAqiO-0007iG-00
	for java-user@lucene.apache.org; Thu, 01 Sep 2005 11:10:56 -0400
Message-ID: <14011144.1125587456484.JavaMail.root@mswamui-thinleaf.atl.sa.earthlink.net>
Date: Thu, 1 Sep 2005 10:10:56 -0500 (GMT-05:00)
From: Andrew Boyd <andrew.boyd@mindspring.com>
Reply-To: Andrew Boyd <Andrew.Boyd@bbtech.net>
To: java-user@lucene.apache.org
Subject: Re: Should I use span query?
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Mailer: Earthlink Zoo Mail 1.0
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

If I do a proximity search "terma termb"~10 that will get me the documents that have terma within 10 words of termb.  But how can I get all the terms 

> that  are within x number of  
> terms of given query terms. 

instead of just the documents.

Thanks,

Andrew

-----Original Message-----
From: Erik Hatcher <erik@ehatchersolutions.com>
Sent: Aug 26, 2005 3:23 PM
To: java-user@lucene.apache.org
Subject: Re: Should I use span query?

On Aug 26, 2005, at 4:11 PM, Andrew Boyd wrote:
> Hi All,
>   I'm trying to find all the terms that are within x number of  
> terms of given query terms.  Should I be using span query or  
> something else.  If you have any code samples I would greatly  
> appreciated it.

PhraseQuery, or "termA termB"~10 syntax with QueryParser, provides  
term distance capability as well.  SpanNearQuery certainly will do  
the trick, and has an advantage over PhraseQuery in that it can be  
ordered or unordered whereas PhraseQuery is always irrelevant of order.

There are code examples in the Lucene in Action code found at http:// 
www.lucenebook.com

By the way, did you see we got slashdotted?  <http:// 
books.slashdot.org/books/05/08/24/1645211.shtml>

     Erik



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16161-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 01 20:12:04 2005
Return-Path: <java-user-return-16161-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55593 invoked from network); 1 Sep 2005 20:12:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Sep 2005 20:12:04 -0000
Received: (qmail 11904 invoked by uid 500); 1 Sep 2005 20:11:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11873 invoked by uid 500); 1 Sep 2005 20:11:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 11859 invoked by uid 99); 1 Sep 2005 20:11:58 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Sep 2005 13:11:58 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jak-lucene-user@m.gmane.org designates 80.91.229.2 as permitted sender)
Received: from [80.91.229.2] (HELO ciao.gmane.org) (80.91.229.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Sep 2005 13:12:12 -0700
Received: from root by ciao.gmane.org with local (Exim 4.43)
	id 1EAvNx-0000pK-Od
	for java-user@lucene.apache.org; Thu, 01 Sep 2005 22:10:09 +0200
Received: from mdsnwinas01pool2-a21.mdsnwi.tds.net ([216.165.154.21])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <java-user@lucene.apache.org>; Thu, 01 Sep 2005 22:10:09 +0200
Received: from ben by mdsnwinas01pool2-a21.mdsnwi.tds.net with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <java-user@lucene.apache.org>; Thu, 01 Sep 2005 22:10:09 +0200
X-Injected-Via-Gmane: http://gmane.org/
To: java-user@lucene.apache.org
From:  Ben Gollmer <ben@jatosoft.com>
Subject:  Re: IO bandwidth throttling
Date:  Thu, 01 Sep 2005 13:51:15 -0500
Lines: 35
Message-ID: <df7ij6$j22$1@sea.gmane.org>
References:  <7337772205080213276529c42b@mail.gmail.com>	 <20050802215503.28729.qmail@web31104.mail.mud.yahoo.com> <88c6a6720508021519467aebb4@mail.gmail.com>
Mime-Version:  1.0
Content-Type:  multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="------------enig02FB3357FFA49F8ABF449514"
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: mdsnwinas01pool2-a21.mdsnwi.tds.net
User-Agent: Mozilla Thunderbird 1.0.6-1.1.fc4 (X11/20050720)
X-Accept-Language: en-us, en
In-Reply-To: <88c6a6720508021519467aebb4@mail.gmail.com>
X-Enigmail-Version: 0.92.0.0
Sender: news <news@sea.gmane.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--------------enig02FB3357FFA49F8ABF449514
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit

Chris Lamprecht wrote:
> I've wanted something similar, for the same purpose -- to keep lucene
> from consuming disk I/O resources when another process is running on
> the same machine.

Sorry for jumping in (I'm a Lucene newb) but isn't this better handled
by the OS? On a Unix box I would just renice the process or set some
ulimits. Adding code to each application that might possibly need
bandwidth or memory restrictions seems redundant, not to mention a chore :)


Cheers,
-- 
Ben

--------------enig02FB3357FFA49F8ABF449514
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.1 (GNU/Linux)
Comment: Using GnuPG with Fedora - http://enigmail.mozdev.org

iD8DBQFDF02mo6erkSbG5uwRAlEZAJ9sO71wA6zGo4Z8dbrT6X5FDCHi3QCeN5Aw
V/2dUfyscA0vXxDYhTYk5zg=
=Eqsg
-----END PGP SIGNATURE-----

--------------enig02FB3357FFA49F8ABF449514--


From java-user-return-16162-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 01 21:00:18 2005
Return-Path: <java-user-return-16162-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 75494 invoked from network); 1 Sep 2005 21:00:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Sep 2005 21:00:18 -0000
Received: (qmail 96368 invoked by uid 500); 1 Sep 2005 21:00:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96340 invoked by uid 500); 1 Sep 2005 21:00:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96327 invoked by uid 99); 1 Sep 2005 21:00:12 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Sep 2005 14:00:12 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of clamprecht@gmail.com designates 66.249.82.203 as permitted sender)
Received: from [66.249.82.203] (HELO xproxy.gmail.com) (66.249.82.203)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Sep 2005 14:00:27 -0700
Received: by xproxy.gmail.com with SMTP id h33so219380wxd
        for <java-user@lucene.apache.org>; Thu, 01 Sep 2005 14:00:10 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=pN/xb7savpPx7Fp42dUk6+11db7ZoOfsJ3q0GppG8KiffxQq4Z0j0+ea2YmxfuHEVtrktwTaqYlIXz5c6IVeqeNaTY2jkbdxcdt9FYdmVmfmQ9J98yCuPGLrAeDZZy+wMXMVk3I85TiWQOfeTYQJMpB6mvufzs79ea7voJgPZHA=
Received: by 10.70.57.12 with SMTP id f12mr84441wxa;
        Thu, 01 Sep 2005 14:00:10 -0700 (PDT)
Received: by 10.70.55.14 with HTTP; Thu, 1 Sep 2005 14:00:10 -0700 (PDT)
Message-ID: <88c6a6720509011400192aa7c@mail.gmail.com>
Date: Thu, 1 Sep 2005 16:00:10 -0500
From: Chris Lamprecht <clamprecht@gmail.com>
Reply-To: clamprecht@gmail.com
To: java-user@lucene.apache.org
Subject: Re: IO bandwidth throttling
In-Reply-To: <df7ij6$j22$1@sea.gmane.org>
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <7337772205080213276529c42b@mail.gmail.com>
	 <20050802215503.28729.qmail@web31104.mail.mud.yahoo.com>
	 <88c6a6720508021519467aebb4@mail.gmail.com>
	 <df7ij6$j22$1@sea.gmane.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Ben,

Yes -- I would prefer to let the OS handle his, especially if it can
save me some coding.  Is there is a way (under linux) to limit a
certain process's disk utilization?  It seems like nice(1) just
modifies the scheduling priority, I'm assuming this means CPU
scheduling.  In my case, I'm trying to prevent a cron task that
updates the lucene search index from consuming the disk, causing the
search to slow down.

-chris

On 9/1/05, Ben Gollmer <ben@jatosoft.com> wrote:
> Chris Lamprecht wrote:
> > I've wanted something similar, for the same purpose -- to keep lucene
> > from consuming disk I/O resources when another process is running on
> > the same machine.
>=20
> Sorry for jumping in (I'm a Lucene newb) but isn't this better handled
> by the OS? On a Unix box I would just renice the process or set some
> ulimits. Adding code to each application that might possibly need
> bandwidth or memory restrictions seems redundant, not to mention a chore =
:)
>=20
>=20
> Cheers,
> --
> Ben
>=20
>=20
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16163-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 01 21:08:45 2005
Return-Path: <java-user-return-16163-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 80426 invoked from network); 1 Sep 2005 21:08:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Sep 2005 21:08:45 -0000
Received: (qmail 10899 invoked by uid 500); 1 Sep 2005 21:08:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10881 invoked by uid 500); 1 Sep 2005 21:08:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10868 invoked by uid 99); 1 Sep 2005 21:08:39 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Sep 2005 14:08:39 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.93.150.34] (HELO mail.dessci.com) (66.93.150.34)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Sep 2005 14:08:53 -0700
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Subject: RE: IO bandwidth throttling
Date: Thu, 1 Sep 2005 14:10:53 -0700
Message-ID: <D1EFB337111B674B8F1BE155B01C6DD649C0F7@franklin.corp.dessci>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: IO bandwidth throttling
thread-index: AcWvOHzmDpU1ZmuBTqSfHiLRebvCNgAARPpw
From: "Rajesh Munavalli" <rajeshm@dessci.com>
To: <java-user@lucene.apache.org>,
	<clamprecht@gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Try this: (CFQ) I/O scheduler
http://lwn.net/Articles/57732/

Rajesh Munavalli=20

> -----Original Message-----
> From: Chris Lamprecht [mailto:clamprecht@gmail.com]=20
> Sent: Thursday, September 01, 2005 4:00 PM
> To: java-user@lucene.apache.org
> Subject: Re: IO bandwidth throttling
>=20
> Hi Ben,
>=20
> Yes -- I would prefer to let the OS handle his, especially if=20
> it can save me some coding.  Is there is a way (under linux)=20
> to limit a certain process's disk utilization?  It seems like=20
> nice(1) just modifies the scheduling priority, I'm assuming=20
> this means CPU scheduling.  In my case, I'm trying to prevent=20
> a cron task that updates the lucene search index from=20
> consuming the disk, causing the search to slow down.
>=20
> -chris
>=20
> On 9/1/05, Ben Gollmer <ben@jatosoft.com> wrote:
> > Chris Lamprecht wrote:
> > > I've wanted something similar, for the same purpose -- to keep=20
> > > lucene from consuming disk I/O resources when another process is=20
> > > running on the same machine.
> >=20
> > Sorry for jumping in (I'm a Lucene newb) but isn't this=20
> better handled=20
> > by the OS? On a Unix box I would just renice the process or=20
> set some=20
> > ulimits. Adding code to each application that might possibly need=20
> > bandwidth or memory restrictions seems redundant, not to mention a=20
> > chore :)
> >=20
> >=20
> > Cheers,
> > --
> > Ben
> >=20
> >=20
> >
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>=20

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16164-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 01 21:13:14 2005
Return-Path: <java-user-return-16164-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82315 invoked from network); 1 Sep 2005 21:13:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Sep 2005 21:13:06 -0000
Received: (qmail 17100 invoked by uid 500); 1 Sep 2005 21:12:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17080 invoked by uid 500); 1 Sep 2005 21:12:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17067 invoked by uid 99); 1 Sep 2005 21:12:52 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Sep 2005 14:12:52 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of daniel.armbrust.list@gmail.com designates 64.233.162.199 as permitted sender)
Received: from [64.233.162.199] (HELO zproxy.gmail.com) (64.233.162.199)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Sep 2005 14:13:06 -0700
Received: by zproxy.gmail.com with SMTP id n29so301633nzf
        for <java-user@lucene.apache.org>; Thu, 01 Sep 2005 14:12:50 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:user-agent:x-accept-language:mime-version:cc:subject:references:in-reply-to:content-type:content-transfer-encoding;
        b=rDil6jX86xVRfhpFhlDx6WqJLq7f9+50pq+SsYQvvEV9pA0kLZB/67Uz0qbBfUs27e+GQXo1Q04HQ/wxkTNpGxYt+806bW2c83cjIt9VGYSh/92xrQZywQQdDRmvqnhoTjHxPqatnBsXEX5w997ASShKkLc6YE4F0pGWbAi9Ors=
Received: by 10.36.251.59 with SMTP id y59mr1993562nzh;
        Thu, 01 Sep 2005 14:12:50 -0700 (PDT)
Received: from ?172.22.19.82? ( [129.176.197.15])
        by mx.gmail.com with ESMTP id 15sm1111562nzn.2005.09.01.14.12.48;
        Thu, 01 Sep 2005 14:12:50 -0700 (PDT)
Message-ID: <43176ECF.6050505@gmail.com>
Date: Thu, 01 Sep 2005 16:12:47 -0500
From: Dan Armbrust <daniel.armbrust.list@gmail.com>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
CC:  java-user@lucene.apache.org
Subject: Re: IO bandwidth throttling
References: <7337772205080213276529c42b@mail.gmail.com>	 <20050802215503.28729.qmail@web31104.mail.mud.yahoo.com> <88c6a6720508021519467aebb4@mail.gmail.com> <df7ij6$j22$1@sea.gmane.org> <43176B5C.8060204@gmail.com>
In-Reply-To: <43176B5C.8060204@gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Ben Gollmer wrote:

 >Chris Lamprecht wrote:
 > 
 >
 >>I've wanted something similar, for the same purpose -- to keep lucene
 >>from consuming disk I/O resources when another process is running on
 >>the same machine.
 >>   
 >>
 >
 >Sorry for jumping in (I'm a Lucene newb) but isn't this better handled
 >by the OS? On a Unix box I would just renice the process or set some
 >ulimits. Adding code to each application that might possibly need
 >bandwidth or memory restrictions seems redundant, not to mention a 
chore :)
 >
 >
 >Cheers,
 > 
 >
 As far as I know, 'nice' only controls CPU usage, not disk IO usage.  
Since lucene doesn't do a lot of CPU intensive work, renicing a lucene 
process does little to allow other processes to get access to your disks.

 On Windows, things are similar.  A single process, even with the 
priority forced down, can still kill the performance of the entire 
machine if it is doing large amounts of disk io (on the system disk).

 Dan

-- 
****************************
Daniel Armbrust
Biomedical Informatics
Mayo Clinic Rochester
daniel.armbrust(at)mayo.edu
http://informatics.mayo.edu/
 




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16165-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 01 21:20:19 2005
Return-Path: <java-user-return-16165-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84688 invoked from network); 1 Sep 2005 21:20:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Sep 2005 21:20:19 -0000
Received: (qmail 26837 invoked by uid 500); 1 Sep 2005 21:20:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 26817 invoked by uid 500); 1 Sep 2005 21:20:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 26804 invoked by uid 99); 1 Sep 2005 21:20:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Sep 2005 14:20:14 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_60_70,HTML_MESSAGE,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [212.227.126.177] (HELO moutng.kundenserver.de) (212.227.126.177)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Sep 2005 14:20:28 -0700
Received: from D3bef.d.pppool.de [80.184.59.239] (helo=gasi)
	by mrelayeu.kundenserver.de with ESMTP (Nemesis),
	id 0ML2Dk-1EAwTi1fu6-0006DM; Thu, 01 Sep 2005 23:20:10 +0200
Message-ID: <003101c5af3a$367ca6f0$ef3bb850@gasi>
From: "Gasi" <gasi@artentis.com>
To: <java-user@lucene.apache.org>
Subject:  null results
Date: Thu, 1 Sep 2005 23:14:59 +0200
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_002E_01C5AF4A.F927C120"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Provags-ID: kundenserver.de abuse@kundenserver.de login:e856510009f74cf6d851f8e7132753ec
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_002E_01C5AF4A.F927C120
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable




  Hallo everybody,


  I am beginning with Lucene. I tested the Webdemo described in the Book =
on my HomePC. When I upload it on a webserver, this example works but he =
doesn't find any keyword, the result of every search is null results. I =
have uploaded the same index consists of 3files deletable,segments and =
_9m.cfs. On my homepc i have as an example for the jeyword "java" many =
results , on the webhost account null results. Perhaps anybody had the =
same problem than me and can give my a hint what I do wrong.

  Thank you

  Greetings=20


  Gaston
------=_NextPart_000_002E_01C5AF4A.F927C120--


From java-user-return-16166-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 01 21:57:22 2005
Return-Path: <java-user-return-16166-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2703 invoked from network); 1 Sep 2005 21:57:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Sep 2005 21:57:21 -0000
Received: (qmail 97941 invoked by uid 500); 1 Sep 2005 21:57:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 97920 invoked by uid 500); 1 Sep 2005 21:57:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 97903 invoked by uid 99); 1 Sep 2005 21:57:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Sep 2005 14:57:16 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=HTML_20_30,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jeff.rodenburg@gmail.com designates 64.233.184.197 as permitted sender)
Received: from [64.233.184.197] (HELO wproxy.gmail.com) (64.233.184.197)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Sep 2005 14:57:31 -0700
Received: by wproxy.gmail.com with SMTP id i23so264261wra
        for <java-user@lucene.apache.org>; Thu, 01 Sep 2005 14:57:14 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=hGQH3T4S/sgwFd8ZvxdB5HdDQUuipBSQ6mBa2ioo9UlUY4HtlmFzB0JLd1i1bl5+k9MEtvEuzZZ+VZOBbBw5Hx6FgFc4ZMozYC0pNPlA7XUYkgdk3VzomiZ6ja8rvNHPj06q7Li2kfSJpmJ43QFOyUrIR8ymwsb4f+sMBgzJ+6E=
Received: by 10.54.52.63 with SMTP id z63mr1567169wrz;
        Thu, 01 Sep 2005 14:57:14 -0700 (PDT)
Received: by 10.54.13.32 with HTTP; Thu, 1 Sep 2005 14:57:14 -0700 (PDT)
Message-ID: <50f4333605090114576d373b56@mail.gmail.com>
Date: Thu, 1 Sep 2005 14:57:14 -0700
From: Jeff Rodenburg <jeff.rodenburg@gmail.com>
Reply-To: jeff.rodenburg@gmail.com
To: java-user@lucene.apache.org
Subject: Re: Ideal Index Fragmentation
In-Reply-To: <49B69A6C-8401-41EC-934D-7ECE9103E669@ehatchersolutions.com>
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_81_29789738.1125611834699"
References: <82D2BB25EFABA3478B75FF11C88148D518D90531@mlnyb706mb.amrs.win.ml.com>
	 <49B69A6C-8401-41EC-934D-7ECE9103E669@ehatchersolutions.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_81_29789738.1125611834699
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

On Aug 30, 2005, at 9:53 PM, Friedland, Zachary (EDS - Strategy) wrote:

> > * I'm interested in implementing a "dynamic filter" component
> > that will walk through the hits[] object and pull out distinct
> > values for certain fields to display as search-within-a-search
> > options (all of them will return at least one result since they are
> > in the hits[]). Has anyone implemented something like this -- how
> > did it work out?
>=20

I have a similar requirement, but the loop-through-and-build model looks wa=
y=20
too expensive. I've explored the concept of executing multiple sub-searches=
=20
to get filters and their subsequent counts, but my requirements allows me a=
=20
sustainable, smaller set of potential dynamic filters. This is the concept,=
=20
haven't put it into practice so have no idea if it scales any better than=
=20
the brute force method.

-- jeff

------=_Part_81_29789738.1125611834699--

From java-user-return-16167-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 01 22:57:58 2005
Return-Path: <java-user-return-16167-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 27754 invoked from network); 1 Sep 2005 22:57:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 1 Sep 2005 22:57:57 -0000
Received: (qmail 82399 invoked by uid 500); 1 Sep 2005 22:57:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82371 invoked by uid 500); 1 Sep 2005 22:57:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 82358 invoked by uid 99); 1 Sep 2005 22:57:51 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Sep 2005 15:57:51 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jak-lucene-user@m.gmane.org designates 80.91.229.2 as permitted sender)
Received: from [80.91.229.2] (HELO ciao.gmane.org) (80.91.229.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Sep 2005 15:58:05 -0700
Received: from list by ciao.gmane.org with local (Exim 4.43)
	id 1EAxyf-0000YI-Ra
	for java-user@lucene.apache.org; Fri, 02 Sep 2005 00:56:13 +0200
Received: from mdsnwinas01pool2-a21.mdsnwi.tds.net ([216.165.154.21])
        by main.gmane.org with esmtp (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <java-user@lucene.apache.org>; Fri, 02 Sep 2005 00:56:13 +0200
Received: from ben by mdsnwinas01pool2-a21.mdsnwi.tds.net with local (Gmexim 0.1 (Debian))
        id 1AlnuQ-0007hv-00
        for <java-user@lucene.apache.org>; Fri, 02 Sep 2005 00:56:13 +0200
X-Injected-Via-Gmane: http://gmane.org/
To: java-user@lucene.apache.org
From:  Ben Gollmer <ben@jatosoft.com>
Subject:  Re: IO bandwidth throttling
Date:  Thu, 01 Sep 2005 17:54:50 -0500
Lines: 43
Message-ID: <df80rs$ud9$1@sea.gmane.org>
References:  <D1EFB337111B674B8F1BE155B01C6DD649C0F7@franklin.corp.dessci>
Mime-Version:  1.0
Content-Type:  multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="------------enig548C2F3B7428D24F423D3F6B"
X-Complaints-To: usenet@sea.gmane.org
X-Gmane-NNTP-Posting-Host: mdsnwinas01pool2-a21.mdsnwi.tds.net
User-Agent: Mozilla Thunderbird 1.0.6-1.1.fc4 (X11/20050720)
X-Accept-Language: en-us, en
In-Reply-To: <D1EFB337111B674B8F1BE155B01C6DD649C0F7@franklin.corp.dessci>
X-Enigmail-Version: 0.92.0.0
Sender: news <news@sea.gmane.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--------------enig548C2F3B7428D24F423D3F6B
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit

Rajesh Munavalli wrote:
> Try this: (CFQ) I/O scheduler
> http://lwn.net/Articles/57732/
> 
> Rajesh Munavalli 
> 

The CFQ scheduler is the default in Red Hat Enterprise 4 and recent
Fedoras (3 and 4 IIRC). My FC4 system is usable even with processes like
'updatedb' running.

http://www.redhat.com/magazine/008jun05/features/schedulers/

Maybe give one of those OSes a try and see what performance is like?

Pertaining to the OP, if CFQ isn't sufficient to keep one NFS process
from hogging the disk, I would take a look at bandwidth shaping (the tc
and iptables utilities, assuming you are on Linux).

Cheers,
-- 
Ben

--------------enig548C2F3B7428D24F423D3F6B
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.1 (GNU/Linux)
Comment: Using GnuPG with Fedora - http://enigmail.mozdev.org

iD8DBQFDF4a9o6erkSbG5uwRAqn5AJ9KOhBiSzj7Jqan9euhLJJ+iF3JJgCfXNsS
5z/ULdx/WgqZTh8O41+z8OE=
=hmYq
-----END PGP SIGNATURE-----

--------------enig548C2F3B7428D24F423D3F6B--


From java-user-return-16168-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 02 02:30:49 2005
Return-Path: <java-user-return-16168-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90121 invoked from network); 2 Sep 2005 02:30:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Sep 2005 02:30:49 -0000
Received: (qmail 55898 invoked by uid 500); 2 Sep 2005 02:30:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 55875 invoked by uid 500); 2 Sep 2005 02:30:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 55857 invoked by uid 99); 2 Sep 2005 02:30:42 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Sep 2005 19:30:42 -0700
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_30_40,HTML_MESSAGE,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Sep 2005 19:30:57 -0700
Received: from localhost ([127.0.0.1] helo=talk.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1EB1KC-0008Jp-Uv
	for java-user@lucene.apache.org; Thu, 01 Sep 2005 19:30:41 -0700
Message-ID: <766711.post@talk.nabble.com>
Date: Thu, 1 Sep 2005 19:30:40 -0700 (PDT)
From: "jaina (sent by Nabble.com)" <lists@nabble.com>
Reply-To: jaina <jaina@us.ibm.com>
To: java-user@lucene.apache.org
Subject: Too many open files when doing performance testing
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_36_15359848.1125628240954"
X-Nabble-Sender: Nabble Forums <lists@nabble.com>
X-Nabble-From: jaina <jaina@us.ibm.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_36_15359848.1125628240954
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit


Hi,
   We are running into performace problem as we use lucene.  Everything worked fine till yesterday and today when we starte performance testing we saw an error.  Here are the details of the error

54eda4e1 SystemErr     R From Faceted SearchImpl rlinksIndexReader.open(dir) failed
[9/1/05 17:42:05:646 GMT] 54eda4e1 SystemErr     R java.io.FileNotFoundException: /gsa/torgsa/.projects/p1/gsa_cdt_ods/projects/w3perf/datapersist/sales/support/skp/production/index/relatedlinks/secondary/_0.f20 (Too many open files)
[9/1/05 17:42:05:647 GMT] 54eda4e1 SystemErr     R              at java.io.RandomAccessFile.open(Native Method)
[9/1/05 17:42:05:647 GMT] 54eda4e1 SystemErr     R              at java.io.RandomAccessFile. (RandomAccessFile.java(Compiled Code))
[9/1/05 17:42:05:647 GMT] 54eda4e1 SystemErr     R              at org.apache.lucene.store.FSInputStream$Descriptor. (FSDirectory.java(Inlined Compiled Code))
[9/1/05 17:42:05:647 GMT] 54eda4e1 SystemErr     R              at org.apache.lucene.store.FSInputStream. (FSDirectory.java(Inlined Compiled Code))
[9/1/05 17:42:05:648 GMT] 54eda4e1 SystemErr     R              at org.apache.lucene.store.FSDirectory.openFile(FSDirectory.java(Compiled Code))
[9/1/05 17:42:05:648 GMT] 54eda4e1 SystemErr     R              at org.apache.lucene.index.SegmentReader.openNorms(SegmentReader.java(Compiled Code))
[9/1/05 17:42:05:648 GMT] 54eda4e1 SystemErr     R              at org.apache.lucene.index.SegmentReader. (SegmentReader.java:153)
[9/1/05 17:42:05:648 GMT] 54eda4e1 SystemErr     R              at org.apache.lucene.index.SegmentReader. (SegmentReader.java:122)
[9/1/05 17:42:05:648 GMT] 54eda4e1 SystemErr     R              at org.apache.lucene.index.IndexReader$1.doBody(IndexReader.java:118)
[9/1/05 17:42:05:649 GMT] 54eda4e1 SystemErr     R              at org.apache.lucene.store.Lock$With.run(Lock.java(Compiled Code))
[9/1/05 17:42:05:649 GMT] 54eda4e1 SystemErr     R              at org.apache.lucene.index.IndexReader.open(IndexReader.java(Compiled Code))
[9/1/05 17:42:05:649 GMT] 54eda4e1 SystemErr     R              at com.ibm.sales.support.skp.fsearch.search.FacetedSearchImpl.openRelatedLinksIndex(FacetedSearchImpl.java:1603)
[9/1/05 17:42:05:649 GMT] 54eda4e1 SystemErr     R              at com.ibm.sales.support.skp.fsearch.search.FacetedSearchImpl.getMatchingRelatedLinksDocs(FacetedSearchImpl.java:1071)
[9/1/05 17:42:05:649 GMT] 54eda4e1 SystemErr     R              at com.ibm.sales.support.skp.fsearch.search.FacetedSearchImpl.rlSearch(FacetedSearchImpl.java(Inlined Compiled Code))
[9/1/05 17:42:05:650 GMT] 54eda4e1 SystemErr     R              at com.ibm.sales.support.skp.fsearch.servicehandlers.SearchResultServiceHandler.processRequest(SearchResultServiceHandler.java(Compiled Code))
[9/1/05 17:42:05:650 GMT] 54eda4e1 SystemErr     R              at com.ibm.sales.support.skp.fsearch.servlets.SearchResultServlet.performTask(SearchResultServlet.java:144)
[9/1/05 17:42:05:650 GMT] 54eda4e1 SystemErr     R              at com.ibm.sales.support.skp.fsearch.servlets.SearchResultServlet.doGet(SearchResultServlet.java:75)
[9/1/05 17:42:05:650 GMT] 54eda4e1 SystemErr     R              at javax.servlet.http.HttpServlet.service(HttpServlet.java:740)
[9/1/05 17:42:05:650 GMT] 54eda4e1 SystemErr     R              at javax.servlet.http.HttpServlet.service(HttpServlet.java(Compiled Code))
[9/1/05 17:42:05:651 GMT] 54eda4e1 SystemErr     R              at com.ibm.ws.webcontainer.servlet.StrictServletInstance.doService(StrictServletInstance.java:110)
[9/1/05 17:42:05:651 GMT] 54eda4e1 SystemErr     R              at com.ibm.ws.webcontainer.servlet.StrictLifecycleServlet._service(StrictLifecycleServlet.java:174)
[9/1/05 17:42:05:651 GMT] 54eda4e1 SystemErr     R              at com.ibm.ws.webcontainer.servlet.IdleServletState.service(StrictLifecycleServlet.java:313)
[9/1/05 17:42:05:651 GMT] 54eda4e1 SystemErr     R              at com.ibm.ws.webcontainer.servlet.StrictLifecycleServlet.service(StrictLifecycleServlet.java:116)
[9/1/05 17:42:05:651 GMT] 54eda4e1 SystemErr     R              at com.ibm.ws.webcontainer.servlet.ServletInstance.service(ServletInstance.java:283)
[9/1/05 17:42:05:652 GMT] 54eda4e1 SystemErr     R              at com.ibm.ws.webcontainer.servlet.ValidServletReferenceState.dispatch(ValidServletReferenceState.java:42)
[9/1/05 17:42:05:652 GMT] 54eda4e1 SystemErr     R              at com.ibm.ws.webcontainer.servlet.ServletInstanceReference.dispatch(ServletInstanceReference.java:40)
[9/1/05 17:42:05:652 GMT] 54eda4e1 SystemErr     R              at com.ibm.ws.webcontainer.webapp.WebAppRequestDispatcher.handleWebAppDispatch(WebAppRequestDispatcher.java:983)
[9/1/05 17:42:05:652 GMT] 54eda4e1 SystemErr     R              at com.ibm.ws.webcontainer.webapp.WebAppRequestDispatcher.dispatch(WebAppRequestDispatcher.java:564)
[9/1/05 17:42:05:652 GMT] 54eda4e1 SystemErr     R              at com.ibm.ws.webcontainer.webapp.WebAppRequestDispatcher.forward(WebAppRequestDispatcher.java:200)
[9/1/05 17:42:05:653 GMT] 54eda4e1 SystemErr     R              at com.ibm.ws.webcontainer.srt.WebAppInvoker.doForward(WebAppInvoker.java:119)
[9/1/05 17:42:05:653 GMT] 54eda4e1 SystemErr     R              at com.ibm.ws.webcontainer.srt.WebAppInvoker.handleInvocationHook(WebAppInvoker.java:276)
[9/1/05 17:42:05:653 GMT] 54eda4e1 SystemErr     R              at com.ibm.ws.webcontainer.cache.invocation.CachedInvocation.handleInvocation(CachedInvocation.java:71)
[9/1/05 17:42:05:653 GMT] 54eda4e1 SystemErr     R              at com.ibm.ws.webcontainer.cache.invocation.CacheableInvocationContext.invoke(CacheableInvocationContext.java:116)
[9/1/05 17:42:05:653 GMT] 54eda4e1 SystemErr     R              at com.ibm.ws.webcontainer.srp.ServletRequestProcessor.dispatchByURI(ServletRequestProcessor.java:186)
[9/1/05 17:42:05:654 GMT] 54eda4e1 SystemErr     R              at com.ibm.ws.webcontainer.oselistener.OSEListenerDispatcher.service(OSEListener.java:334)
[9/1/05 17:42:05:654 GMT] 54eda4e1 SystemErr     R              at com.ibm.ws.webcontainer.http.HttpConnection.handleRequest(HttpConnection.java:56)
[9/1/05 17:42:05:654 GMT] 54eda4e1 SystemErr     R              at com.ibm.ws.http.HttpConnection.readAndHandleRequest(HttpConnection.java:618)
[9/1/05 17:42:05:654 GMT] 54eda4e1 SystemErr     R              at com.ibm.ws.http.HttpConnection.run(HttpConnection.java:443)
[9/1/05 17:42:05:654 GMT] 54eda4e1 SystemErr     R              at com.ibm.ws.util.ThreadPool$Worker.run(ThreadPool.java:672)

Can someobody help with this?

Thanks.
--
Sent from the Lucene - Java Users forum at Nabble.com:
http://www.nabble.com/Too-many-open-files-when-doing-performance-testing-t272369.html#a766711

------=_Part_36_15359848.1125628240954--


From java-user-return-16169-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 02 03:08:47 2005
Return-Path: <java-user-return-16169-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95832 invoked from network); 2 Sep 2005 03:08:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Sep 2005 03:08:47 -0000
Received: (qmail 77360 invoked by uid 500); 2 Sep 2005 03:08:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 77334 invoked by uid 500); 2 Sep 2005 03:08:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 77321 invoked by uid 99); 2 Sep 2005 03:08:41 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Sep 2005 20:08:41 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.200.38] (HELO web31105.mail.mud.yahoo.com) (68.142.200.38)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 01 Sep 2005 20:08:55 -0700
Received: (qmail 57923 invoked by uid 60001); 2 Sep 2005 03:08:39 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=3Nc1bFrXhPstKW2sT4vDPGcLzA19DdfK29klbWzJAK6QKJ9NoR1YTuFgrWRtQif6RM/SCPdjMaBEfurT2QavItAfkR+tx1OSKvWsCl4qAMbxkpUHN1duovTj4fmrvELKPrfaquvX6rRcB/kyKhcNqIegPVblzo3QgNmBZP6+MbI=  ;
Message-ID: <20050902030839.57921.qmail@web31105.mail.mud.yahoo.com>
Received: from [69.201.142.21] by web31105.mail.mud.yahoo.com via HTTP; Thu, 01 Sep 2005 20:08:39 PDT
Date: Thu, 1 Sep 2005 20:08:39 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Too many open files when doing performance testing
To: java-user@lucene.apache.org
In-Reply-To: <766711.post@talk.nabble.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

How many files are in the index directory?
If your index is not optimized, try optimizing it first?
What's the max number of open files (ulimit -a)?  If it looks low,
increase it.
It looks like you have 20+ fields.  How many fields have you got? (just
curious)
It looks like you are not using the compound index format (it's the
default).  Consider using it - it uses less open file handles.

Otis


--- "jaina (sent by Nabble.com)" <lists@nabble.com> wrote:

> 
> Hi,
>    We are running into performace problem as we use lucene. 
> Everything worked fine till yesterday and today when we starte
> performance testing we saw an error.  Here are the details of the
> error
> 
> 54eda4e1 SystemErr     R From Faceted SearchImpl
> rlinksIndexReader.open(dir) failed
> [9/1/05 17:42:05:646 GMT] 54eda4e1 SystemErr     R
> java.io.FileNotFoundException:
>
/gsa/torgsa/.projects/p1/gsa_cdt_ods/projects/w3perf/datapersist/sales/support/skp/production/index/relatedlinks/secondary/_0.f20
> (Too many open files)
> [9/1/05 17:42:05:647 GMT] 54eda4e1 SystemErr     R              at
> java.io.RandomAccessFile.open(Native Method)
> [9/1/05 17:42:05:647 GMT] 54eda4e1 SystemErr     R              at
> java.io.RandomAccessFile. (RandomAccessFile.java(Compiled Code))
> [9/1/05 17:42:05:647 GMT] 54eda4e1 SystemErr     R              at
> org.apache.lucene.store.FSInputStream$Descriptor.
> (FSDirectory.java(Inlined Compiled Code))
> [9/1/05 17:42:05:647 GMT] 54eda4e1 SystemErr     R              at
> org.apache.lucene.store.FSInputStream. (FSDirectory.java(Inlined
> Compiled Code))
> [9/1/05 17:42:05:648 GMT] 54eda4e1 SystemErr     R              at
>
org.apache.lucene.store.FSDirectory.openFile(FSDirectory.java(Compiled
> Code))
> [9/1/05 17:42:05:648 GMT] 54eda4e1 SystemErr     R              at
>
org.apache.lucene.index.SegmentReader.openNorms(SegmentReader.java(Compiled
> Code))
> [9/1/05 17:42:05:648 GMT] 54eda4e1 SystemErr     R              at
> org.apache.lucene.index.SegmentReader. (SegmentReader.java:153)
> [9/1/05 17:42:05:648 GMT] 54eda4e1 SystemErr     R              at
> org.apache.lucene.index.SegmentReader. (SegmentReader.java:122)
> [9/1/05 17:42:05:648 GMT] 54eda4e1 SystemErr     R              at
> org.apache.lucene.index.IndexReader$1.doBody(IndexReader.java:118)
> [9/1/05 17:42:05:649 GMT] 54eda4e1 SystemErr     R              at
> org.apache.lucene.store.Lock$With.run(Lock.java(Compiled Code))
> [9/1/05 17:42:05:649 GMT] 54eda4e1 SystemErr     R              at
> org.apache.lucene.index.IndexReader.open(IndexReader.java(Compiled
> Code))
> [9/1/05 17:42:05:649 GMT] 54eda4e1 SystemErr     R              at
>
com.ibm.sales.support.skp.fsearch.search.FacetedSearchImpl.openRelatedLinksIndex(FacetedSearchImpl.java:1603)
> [9/1/05 17:42:05:649 GMT] 54eda4e1 SystemErr     R              at
>
com.ibm.sales.support.skp.fsearch.search.FacetedSearchImpl.getMatchingRelatedLinksDocs(FacetedSearchImpl.java:1071)
> [9/1/05 17:42:05:649 GMT] 54eda4e1 SystemErr     R              at
>
com.ibm.sales.support.skp.fsearch.search.FacetedSearchImpl.rlSearch(FacetedSearchImpl.java(Inlined
> Compiled Code))
> [9/1/05 17:42:05:650 GMT] 54eda4e1 SystemErr     R              at
>
com.ibm.sales.support.skp.fsearch.servicehandlers.SearchResultServiceHandler.processRequest(SearchResultServiceHandler.java(Compiled
> Code))
> [9/1/05 17:42:05:650 GMT] 54eda4e1 SystemErr     R              at
>
com.ibm.sales.support.skp.fsearch.servlets.SearchResultServlet.performTask(SearchResultServlet.java:144)
> [9/1/05 17:42:05:650 GMT] 54eda4e1 SystemErr     R              at
>
com.ibm.sales.support.skp.fsearch.servlets.SearchResultServlet.doGet(SearchResultServlet.java:75)
> [9/1/05 17:42:05:650 GMT] 54eda4e1 SystemErr     R              at
> javax.servlet.http.HttpServlet.service(HttpServlet.java:740)
> [9/1/05 17:42:05:650 GMT] 54eda4e1 SystemErr     R              at
> javax.servlet.http.HttpServlet.service(HttpServlet.java(Compiled
> Code))
> [9/1/05 17:42:05:651 GMT] 54eda4e1 SystemErr     R              at
>
com.ibm.ws.webcontainer.servlet.StrictServletInstance.doService(StrictServletInstance.java:110)
> [9/1/05 17:42:05:651 GMT] 54eda4e1 SystemErr     R              at
>
com.ibm.ws.webcontainer.servlet.StrictLifecycleServlet._service(StrictLifecycleServlet.java:174)
> [9/1/05 17:42:05:651 GMT] 54eda4e1 SystemErr     R              at
>
com.ibm.ws.webcontainer.servlet.IdleServletState.service(StrictLifecycleServlet.java:313)
> [9/1/05 17:42:05:651 GMT] 54eda4e1 SystemErr     R              at
>
com.ibm.ws.webcontainer.servlet.StrictLifecycleServlet.service(StrictLifecycleServlet.java:116)
> [9/1/05 17:42:05:651 GMT] 54eda4e1 SystemErr     R              at
>
com.ibm.ws.webcontainer.servlet.ServletInstance.service(ServletInstance.java:283)
> [9/1/05 17:42:05:652 GMT] 54eda4e1 SystemErr     R              at
>
com.ibm.ws.webcontainer.servlet.ValidServletReferenceState.dispatch(ValidServletReferenceState.java:42)
> [9/1/05 17:42:05:652 GMT] 54eda4e1 SystemErr     R              at
>
com.ibm.ws.webcontainer.servlet.ServletInstanceReference.dispatch(ServletInstanceReference.java:40)
> [9/1/05 17:42:05:652 GMT] 54eda4e1 SystemErr     R              at
>
com.ibm.ws.webcontainer.webapp.WebAppRequestDispatcher.handleWebAppDispatch(WebAppRequestDispatcher.java:983)
> [9/1/05 17:42:05:652 GMT] 54eda4e1 SystemErr     R              at
>
com.ibm.ws.webcontainer.webapp.WebAppRequestDispatcher.dispatch(WebAppRequestDispatcher.java:564)
> [9/1/05 17:42:05:652 GMT] 54eda4e1 SystemErr     R              at
>
com.ibm.ws.webcontainer.webapp.WebAppRequestDispatcher.forward(WebAppRequestDispatcher.java:200)
> [9/1/05 17:42:05:653 GMT] 54eda4e1 SystemErr     R              at
>
com.ibm.ws.webcontainer.srt.WebAppInvoker.doForward(WebAppInvoker.java:119)
> [9/1/05 17:42:05:653 GMT] 54eda4e1 SystemErr     R              at
>
com.ibm.ws.webcontainer.srt.WebAppInvoker.handleInvocationHook(WebAppInvoker.java:276)
> [9/1/05 17:42:05:653 GMT] 54eda4e1 SystemErr     R              at
>
com.ibm.ws.webcontainer.cache.invocation.CachedInvocation.handleInvocation(CachedInvocation.java:71)
> [9/1/05 17:42:05:653 GMT] 54eda4e1 SystemErr     R              at
>
com.ibm.ws.webcontainer.cache.invocation.CacheableInvocationContext.invoke(CacheableInvocationContext.java:116)
> [9/1/05 17:42:05:653 GMT] 54eda4e1 SystemErr     R              at
>
com.ibm.ws.webcontainer.srp.ServletRequestProcessor.dispatchByURI(ServletRequestProcessor.java:186)
> [9/1/05 17:42:05:654 GMT] 54eda4e1 SystemErr     R              at
>
com.ibm.ws.webcontainer.oselistener.OSEListenerDispatcher.service(OSEListener.java:334)
> [9/1/05 17:42:05:654 GMT] 54eda4e1 SystemErr     R              at
>
com.ibm.ws.webcontainer.http.HttpConnection.handleRequest(HttpConnection.java:56)
> [9/1/05 17:42:05:654 GMT] 54eda4e1 SystemErr     R              at
>
com.ibm.ws.http.HttpConnection.readAndHandleRequest(HttpConnection.java:618)
> [9/1/05 17:42:05:654 GMT] 54eda4e1 SystemErr     R              at
> com.ibm.ws.http.HttpConnection.run(HttpConnection.java:443)
> [9/1/05 17:42:05:654 GMT] 54eda4e1 SystemErr     R              at
> com.ibm.ws.util.ThreadPool$Worker.run(ThreadPool.java:672)
> 
> Can someobody help with this?
> 
> Thanks.
> --
> Sent from the Lucene - Java Users forum at Nabble.com:
>
http://www.nabble.com/Too-many-open-files-when-doing-performance-testing-t272369.html#a766711
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16170-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 02 03:10:28 2005
Return-Path: <java-user-return-16170-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 96271 invoked from network); 2 Sep 2005 03:10:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Sep 2005 03:10:27 -0000
Received: (qmail 80329 invoked by uid 500); 2 Sep 2005 03:10:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80105 invoked by uid 500); 2 Sep 2005 03:10:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80020 invoked by uid 99); 2 Sep 2005 03:10:04 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Sep 2005 20:10:03 -0700
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Sep 2005 20:10:17 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 02D045B85C; Thu,  1 Sep 2005 20:10:00 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 0012D7F471
	for <java-user@lucene.apache.org>; Thu,  1 Sep 2005 20:09:59 -0700 (PDT)
Date: Thu, 1 Sep 2005 20:09:59 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: Too many open files when doing performance testing
In-Reply-To: <766711.post@talk.nabble.com>
Message-ID: <Pine.LNX.4.58.0509012002560.13252@hal.rescomp.berkeley.edu>
References: <766711.post@talk.nabble.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


This is discussed extensively in the FAQ...
	Why am I getting an IOException that says "Too many open files"?

http://wiki.apache.org/jakarta-lucene/LuceneFAQ#head-48921635adf2c968f7936dc07d51dfb40d638b82


: Date: Thu, 1 Sep 2005 19:30:40 -0700 (PDT)
: From: "jaina (sent by Nabble.com)" <lists@nabble.com>
: Reply-To: java-user@lucene.apache.org, jaina <jaina@us.ibm.com>
: To: java-user@lucene.apache.org
: Subject: Too many open files when doing performance testing
:
:
: Hi,
:    We are running into performace problem as we use lucene.  Everything worked fine till yesterday and today when we starte performance testing we saw an error.  Here are the details of the error
:
: 54eda4e1 SystemErr     R From Faceted SearchImpl rlinksIndexReader.open(dir) failed
: [9/1/05 17:42:05:646 GMT] 54eda4e1 SystemErr     R java.io.FileNotFoundException: /gsa/torgsa/.projects/p1/gsa_cdt_ods/projects/w3perf/datapersist/sales/support/skp/production/index/relatedlinks/secondary/_0.f20 (Too many open files)
: [9/1/05 17:42:05:647 GMT] 54eda4e1 SystemErr     R              at java.io.RandomAccessFile.open(Native Method)
: [9/1/05 17:42:05:647 GMT] 54eda4e1 SystemErr     R              at java.io.RandomAccessFile. (RandomAccessFile.java(Compiled Code))
: [9/1/05 17:42:05:647 GMT] 54eda4e1 SystemErr     R              at org.apache.lucene.store.FSInputStream$Descriptor. (FSDirectory.java(Inlined Compiled Code))
: [9/1/05 17:42:05:647 GMT] 54eda4e1 SystemErr     R              at org.apache.lucene.store.FSInputStream. (FSDirectory.java(Inlined Compiled Code))
: [9/1/05 17:42:05:648 GMT] 54eda4e1 SystemErr     R              at org.apache.lucene.store.FSDirectory.openFile(FSDirectory.java(Compiled Code))
: [9/1/05 17:42:05:648 GMT] 54eda4e1 SystemErr     R              at org.apache.lucene.index.SegmentReader.openNorms(SegmentReader.java(Compiled Code))
: [9/1/05 17:42:05:648 GMT] 54eda4e1 SystemErr     R              at org.apache.lucene.index.SegmentReader. (SegmentReader.java:153)
: [9/1/05 17:42:05:648 GMT] 54eda4e1 SystemErr     R              at org.apache.lucene.index.SegmentReader. (SegmentReader.java:122)
: [9/1/05 17:42:05:648 GMT] 54eda4e1 SystemErr     R              at org.apache.lucene.index.IndexReader$1.doBody(IndexReader.java:118)
: [9/1/05 17:42:05:649 GMT] 54eda4e1 SystemErr     R              at org.apache.lucene.store.Lock$With.run(Lock.java(Compiled Code))
: [9/1/05 17:42:05:649 GMT] 54eda4e1 SystemErr     R              at org.apache.lucene.index.IndexReader.open(IndexReader.java(Compiled Code))
: [9/1/05 17:42:05:649 GMT] 54eda4e1 SystemErr     R              at com.ibm.sales.support.skp.fsearch.search.FacetedSearchImpl.openRelatedLinksIndex(FacetedSearchImpl.java:1603)
: [9/1/05 17:42:05:649 GMT] 54eda4e1 SystemErr     R              at com.ibm.sales.support.skp.fsearch.search.FacetedSearchImpl.getMatchingRelatedLinksDocs(FacetedSearchImpl.java:1071)
: [9/1/05 17:42:05:649 GMT] 54eda4e1 SystemErr     R              at com.ibm.sales.support.skp.fsearch.search.FacetedSearchImpl.rlSearch(FacetedSearchImpl.java(Inlined Compiled Code))
: [9/1/05 17:42:05:650 GMT] 54eda4e1 SystemErr     R              at com.ibm.sales.support.skp.fsearch.servicehandlers.SearchResultServiceHandler.processRequest(SearchResultServiceHandler.java(Compiled Code))
: [9/1/05 17:42:05:650 GMT] 54eda4e1 SystemErr     R              at com.ibm.sales.support.skp.fsearch.servlets.SearchResultServlet.performTask(SearchResultServlet.java:144)
: [9/1/05 17:42:05:650 GMT] 54eda4e1 SystemErr     R              at com.ibm.sales.support.skp.fsearch.servlets.SearchResultServlet.doGet(SearchResultServlet.java:75)
: [9/1/05 17:42:05:650 GMT] 54eda4e1 SystemErr     R              at javax.servlet.http.HttpServlet.service(HttpServlet.java:740)
: [9/1/05 17:42:05:650 GMT] 54eda4e1 SystemErr     R              at javax.servlet.http.HttpServlet.service(HttpServlet.java(Compiled Code))
: [9/1/05 17:42:05:651 GMT] 54eda4e1 SystemErr     R              at com.ibm.ws.webcontainer.servlet.StrictServletInstance.doService(StrictServletInstance.java:110)
: [9/1/05 17:42:05:651 GMT] 54eda4e1 SystemErr     R              at com.ibm.ws.webcontainer.servlet.StrictLifecycleServlet._service(StrictLifecycleServlet.java:174)
: [9/1/05 17:42:05:651 GMT] 54eda4e1 SystemErr     R              at com.ibm.ws.webcontainer.servlet.IdleServletState.service(StrictLifecycleServlet.java:313)
: [9/1/05 17:42:05:651 GMT] 54eda4e1 SystemErr     R              at com.ibm.ws.webcontainer.servlet.StrictLifecycleServlet.service(StrictLifecycleServlet.java:116)
: [9/1/05 17:42:05:651 GMT] 54eda4e1 SystemErr     R              at com.ibm.ws.webcontainer.servlet.ServletInstance.service(ServletInstance.java:283)
: [9/1/05 17:42:05:652 GMT] 54eda4e1 SystemErr     R              at com.ibm.ws.webcontainer.servlet.ValidServletReferenceState.dispatch(ValidServletReferenceState.java:42)
: [9/1/05 17:42:05:652 GMT] 54eda4e1 SystemErr     R              at com.ibm.ws.webcontainer.servlet.ServletInstanceReference.dispatch(ServletInstanceReference.java:40)
: [9/1/05 17:42:05:652 GMT] 54eda4e1 SystemErr     R              at com.ibm.ws.webcontainer.webapp.WebAppRequestDispatcher.handleWebAppDispatch(WebAppRequestDispatcher.java:983)
: [9/1/05 17:42:05:652 GMT] 54eda4e1 SystemErr     R              at com.ibm.ws.webcontainer.webapp.WebAppRequestDispatcher.dispatch(WebAppRequestDispatcher.java:564)
: [9/1/05 17:42:05:652 GMT] 54eda4e1 SystemErr     R              at com.ibm.ws.webcontainer.webapp.WebAppRequestDispatcher.forward(WebAppRequestDispatcher.java:200)
: [9/1/05 17:42:05:653 GMT] 54eda4e1 SystemErr     R              at com.ibm.ws.webcontainer.srt.WebAppInvoker.doForward(WebAppInvoker.java:119)
: [9/1/05 17:42:05:653 GMT] 54eda4e1 SystemErr     R              at com.ibm.ws.webcontainer.srt.WebAppInvoker.handleInvocationHook(WebAppInvoker.java:276)
: [9/1/05 17:42:05:653 GMT] 54eda4e1 SystemErr     R              at com.ibm.ws.webcontainer.cache.invocation.CachedInvocation.handleInvocation(CachedInvocation.java:71)
: [9/1/05 17:42:05:653 GMT] 54eda4e1 SystemErr     R              at com.ibm.ws.webcontainer.cache.invocation.CacheableInvocationContext.invoke(CacheableInvocationContext.java:116)
: [9/1/05 17:42:05:653 GMT] 54eda4e1 SystemErr     R              at com.ibm.ws.webcontainer.srp.ServletRequestProcessor.dispatchByURI(ServletRequestProcessor.java:186)
: [9/1/05 17:42:05:654 GMT] 54eda4e1 SystemErr     R              at com.ibm.ws.webcontainer.oselistener.OSEListenerDispatcher.service(OSEListener.java:334)
: [9/1/05 17:42:05:654 GMT] 54eda4e1 SystemErr     R              at com.ibm.ws.webcontainer.http.HttpConnection.handleRequest(HttpConnection.java:56)
: [9/1/05 17:42:05:654 GMT] 54eda4e1 SystemErr     R              at com.ibm.ws.http.HttpConnection.readAndHandleRequest(HttpConnection.java:618)
: [9/1/05 17:42:05:654 GMT] 54eda4e1 SystemErr     R              at com.ibm.ws.http.HttpConnection.run(HttpConnection.java:443)
: [9/1/05 17:42:05:654 GMT] 54eda4e1 SystemErr     R              at com.ibm.ws.util.ThreadPool$Worker.run(ThreadPool.java:672)
:
: Can someobody help with this?
:
: Thanks.
: --
: Sent from the Lucene - Java Users forum at Nabble.com:
: http://www.nabble.com/Too-many-open-files-when-doing-performance-testing-t272369.html#a766711
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16171-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 02 03:38:33 2005
Return-Path: <java-user-return-16171-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1860 invoked from network); 2 Sep 2005 03:38:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Sep 2005 03:38:32 -0000
Received: (qmail 3242 invoked by uid 500); 2 Sep 2005 03:38:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3205 invoked by uid 500); 2 Sep 2005 03:38:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3192 invoked by uid 99); 2 Sep 2005 03:38:26 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Sep 2005 20:38:26 -0700
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_40_50,HTML_MESSAGE,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Sep 2005 20:38:41 -0700
Received: from localhost ([127.0.0.1] helo=talk.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1EB2Nk-0000kb-U4
	for java-user@lucene.apache.org; Thu, 01 Sep 2005 20:38:24 -0700
Message-ID: <766958.post@talk.nabble.com>
Date: Thu, 1 Sep 2005 20:38:24 -0700 (PDT)
From: "jaina (sent by Nabble.com)" <lists@nabble.com>
Reply-To: jaina <jaina@us.ibm.com>
To: java-user@lucene.apache.org
Subject: Re: Too many open files when doing performance testing
In-Reply-To: <20050902030839.57921.qmail@web31105.mail.mud.yahoo.com>
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_41_798960.1125632304926"
X-Nabble-Sender: Nabble Forums <lists@nabble.com>
X-Nabble-From: jaina <jaina@us.ibm.com>
References: <766711.post@talk.nabble.com> <20050902030839.57921.qmail@web31105.mail.mud.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_41_798960.1125632304926
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit


Thanks Otis for your questions.  Here are the answers... Please let me know your thoughts....

We do optimize() after indexWrite.
The maximum open file allowed is 2,000. Is this normal, too small? What is your recommended number ?  We have 57 index files, how many files that Lucene index will actually opens per session?
We use default mergeFactor 10, default merge Docs 1000. 
We have about 18,000 documents, 23 indexed fields.
We are not using compound index because, but we are considering it. 
Following is a snapshot of our typical index files:

-rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f1
-rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f10
-rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f11
-rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f12
-rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f13
-rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f14
-rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f15
-rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f16
-rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f17
-rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f18
-rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f19
-rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f2
-rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f20
-rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f21
-rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f22
-rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f23
-rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f24
-rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f25
-rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f26
-rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f27
-rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f28
-rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f29
-rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f3
-rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f30
-rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f31
-rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f32
-rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f33
-rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f34
-rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f35
-rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f36
-rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f37
-rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f38
-rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f39
-rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f4
-rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f40
-rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f41
-rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f42
-rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f43
-rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f44
-rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f45
-rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f46
-rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f47
-rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f48
-rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f49
-rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f5
-rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f50
-rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f51
-rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f6
-rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f7
-rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f8
-rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f9
-rw-rw----   1 skpmq    p/gsa_cd   18624312 Sep 01 09:18 _bgw.fdt
-rw-rw----   1 skpmq    p/gsa_cd     149752 Sep 01 09:18 _bgw.fdx
-rw-rw----   1 skpmq    p/gsa_cd        579 Sep 01 09:18 _bgw.fnm
-rw-rw----   1 skpmq    p/gsa_cd   23085952 Sep 01 09:18 _bgw.frq
-rw-rw----   1 skpmq    p/gsa_cd   42672641 Sep 01 09:18 _bgw.prx
-rw-rw----   1 skpmq    p/gsa_cd     145555 Sep 01 09:18 _bgw.tii
-rw-rw----   1 skpmq    p/gsa_cd   11866281 Sep 01 09:18 _bgw.tis
-rw-rw----   1 skpmq    p/gsa_cd          4 Sep 01 09:18 deletable
-rw-rw----   1 skpmq    p/gsa_cd         29 Sep 01 09:18 segments
--
Sent from the Lucene - Java Users forum at Nabble.com:
http://www.nabble.com/Too-many-open-files-when-doing-performance-testing-t272369.html#a766958

------=_Part_41_798960.1125632304926--


From java-user-return-16172-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 02 03:39:48 2005
Return-Path: <java-user-return-16172-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2005 invoked from network); 2 Sep 2005 03:39:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Sep 2005 03:39:47 -0000
Received: (qmail 4860 invoked by uid 500); 2 Sep 2005 03:39:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4833 invoked by uid 500); 2 Sep 2005 03:39:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4814 invoked by uid 99); 2 Sep 2005 03:39:42 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Sep 2005 20:39:42 -0700
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_40_50,HTML_MESSAGE,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Sep 2005 20:39:56 -0700
Received: from localhost ([127.0.0.1] helo=talk.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1EB2Oy-0000le-6s
	for java-user@lucene.apache.org; Thu, 01 Sep 2005 20:39:40 -0700
Message-ID: <766965.post@talk.nabble.com>
Date: Thu, 1 Sep 2005 20:39:40 -0700 (PDT)
From: "jaina (sent by Nabble.com)" <lists@nabble.com>
Reply-To: jaina <jaina@us.ibm.com>
To: java-user@lucene.apache.org
Subject: Re: Too many open files when doing performance testing
In-Reply-To: <Pine.LNX.4.58.0509012002560.13252@hal.rescomp.berkeley.edu>
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_42_11283338.1125632380207"
X-Nabble-Sender: Nabble Forums <lists@nabble.com>
X-Nabble-From: jaina <jaina@us.ibm.com>
References: <766711.post@talk.nabble.com> <Pine.LNX.4.58.0509012002560.13252@hal.rescomp.berkeley.edu>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_42_11283338.1125632380207
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit


Thanks Chris.  We are looking at it and have tried few of those things.  Will let you know once we have tried all of them.

Thanks again.
--
Sent from the Lucene - Java Users forum at Nabble.com:
http://www.nabble.com/Too-many-open-files-when-doing-performance-testing-t272369.html#a766965

------=_Part_42_11283338.1125632380207--


From java-user-return-16173-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 02 04:07:51 2005
Return-Path: <java-user-return-16173-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13740 invoked from network); 2 Sep 2005 04:07:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Sep 2005 04:07:51 -0000
Received: (qmail 22974 invoked by uid 500); 2 Sep 2005 04:07:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22899 invoked by uid 500); 2 Sep 2005 04:07:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22881 invoked by uid 99); 2 Sep 2005 04:07:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Sep 2005 21:07:44 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.201.75] (HELO web31113.mail.mud.yahoo.com) (68.142.201.75)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 01 Sep 2005 21:07:58 -0700
Received: (qmail 81093 invoked by uid 60001); 2 Sep 2005 04:07:42 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=rGm9wBRZMwkzaAzjaaUHWLa3fjBCW3YUYMU1VZeDQztzMM6/QS0DhOTqoaZ3Sa0NM0Q9muBEbzUXNZAgabdJgiDutF0Mixi6eW74KwgARoKR28ZvscN+BfnD32i+YkgLO7t34O6EJHyAgvDLaI0F2DqrgilogP1nDEfZxjlMnSQ=  ;
Message-ID: <20050902040742.81091.qmail@web31113.mail.mud.yahoo.com>
Received: from [69.201.142.21] by web31113.mail.mud.yahoo.com via HTTP; Thu, 01 Sep 2005 21:07:42 PDT
Date: Thu, 1 Sep 2005 21:07:42 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Too many open files when doing performance testing
To: java-user@lucene.apache.org
In-Reply-To: <766958.post@talk.nabble.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

2000 doesn't sound very high.  I've used much higher values.  Because
you have so many fields and files, you may want to increase it.  If you
have Lucene in Action, we have a formula in there for calculating the
number of open files used (section 2.7, according to
http://www.lucenebook.com/search?query=open+files+maximum)

You said you got this error during your performance testing.  Are you
searching a single index and using a single IndexSearcher?  Use a
single IndexSearcher.

Otis


--- "jaina (sent by Nabble.com)" <lists@nabble.com> wrote:

> 
> Thanks Otis for your questions.  Here are the answers... Please let
> me know your thoughts....
> 
> We do optimize() after indexWrite.
> The maximum open file allowed is 2,000. Is this normal, too small?
> What is your recommended number ?  We have 57 index files, how many
> files that Lucene index will actually opens per session?
> We use default mergeFactor 10, default merge Docs 1000. 
> We have about 18,000 documents, 23 indexed fields.
> We are not using compound index because, but we are considering it. 
> Following is a snapshot of our typical index files:
> 
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f1
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f10
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f11
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f12
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f13
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f14
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f15
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f16
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f17
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f18
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f19
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f2
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f20
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f21
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f22
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f23
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f24
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f25
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f26
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f27
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f28
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f29
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f3
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f30
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f31
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f32
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f33
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f34
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f35
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f36
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f37
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f38
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f39
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f4
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f40
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f41
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f42
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f43
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f44
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f45
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f46
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f47
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f48
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f49
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f5
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f50
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f51
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f6
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f7
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f8
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f9
> -rw-rw----   1 skpmq    p/gsa_cd   18624312 Sep 01 09:18 _bgw.fdt
> -rw-rw----   1 skpmq    p/gsa_cd     149752 Sep 01 09:18 _bgw.fdx
> -rw-rw----   1 skpmq    p/gsa_cd        579 Sep 01 09:18 _bgw.fnm
> -rw-rw----   1 skpmq    p/gsa_cd   23085952 Sep 01 09:18 _bgw.frq
> -rw-rw----   1 skpmq    p/gsa_cd   42672641 Sep 01 09:18 _bgw.prx
> -rw-rw----   1 skpmq    p/gsa_cd     145555 Sep 01 09:18 _bgw.tii
> -rw-rw----   1 skpmq    p/gsa_cd   11866281 Sep 01 09:18 _bgw.tis
> -rw-rw----   1 skpmq    p/gsa_cd          4 Sep 01 09:18 deletable
> -rw-rw----   1 skpmq    p/gsa_cd         29 Sep 01 09:18 segments
> --
> Sent from the Lucene - Java Users forum at Nabble.com:
>
http://www.nabble.com/Too-many-open-files-when-doing-performance-testing-t272369.html#a766958
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16174-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 02 04:11:10 2005
Return-Path: <java-user-return-16174-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14427 invoked from network); 2 Sep 2005 04:11:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Sep 2005 04:11:10 -0000
Received: (qmail 27013 invoked by uid 500); 2 Sep 2005 04:11:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 26993 invoked by uid 500); 2 Sep 2005 04:11:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 26980 invoked by uid 99); 2 Sep 2005 04:11:04 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Sep 2005 21:11:04 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.20.9.150] (HELO ds11.cyberspaceindia.com) (69.20.9.150)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 01 Sep 2005 21:11:18 -0700
Received: (qmail 23574 invoked from network); 2 Sep 2005 04:11:01 -0000
Received: from dsl-del-static-190.234.95.61.touchtelindia.net (HELO wow4) (nitin@wowcorp.com@61.95.234.190)
  by ds11.cyberspaceindia.com with ESMTPA; 2 Sep 2005 04:11:00 -0000
From: "Nitin" <nitin@wowcorp.com>
To: <java-user@lucene.apache.org>
Subject: RE: null results
Date: Fri, 2 Sep 2005 09:30:19 +0530
Message-ID: <JMEPIKKMJMKJGFGNINJFKEIECAAA.nitin@wowcorp.com>
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1506
In-Reply-To: <003101c5af3a$367ca6f0$ef3bb850@gasi>
Importance: Normal
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


hi all,

even i am getting similar error. i found that it is because of
unsorted index..anybody has idea about it?

Thanks in advance

Regards
Nitin
-----Original Message-----
From: Gasi [mailto:gasi@artentis.com]
Sent: Friday, September 02, 2005 2:45 AM
To: java-user@lucene.apache.org
Subject: null results





  Hallo everybody,


  I am beginning with Lucene. I tested the Webdemo described in the
Book on my HomePC. When I upload it on a webserver, this example
works but he doesn't find any keyword, the result of every search is
null results. I have uploaded the same index consists of 3files
deletable,segments and _9m.cfs. On my homepc i have as an example for
the jeyword "java" many results , on the webhost account null
results. Perhaps anybody had the same problem than me and can give my
a hint what I do wrong.

  Thank you

  Greetings


  Gaston




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16175-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 02 04:22:45 2005
Return-Path: <java-user-return-16175-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16847 invoked from network); 2 Sep 2005 04:22:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Sep 2005 04:22:45 -0000
Received: (qmail 36672 invoked by uid 500); 2 Sep 2005 04:22:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36652 invoked by uid 500); 2 Sep 2005 04:22:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 36639 invoked by uid 99); 2 Sep 2005 04:22:37 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Sep 2005 21:22:37 -0700
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_50_60,HTML_MESSAGE,SPF_HELO_FAIL,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jaina@us.ibm.com designates 32.97.110.133 as permitted sender)
Received: from [32.97.110.133] (HELO e35.co.us.ibm.com) (32.97.110.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Sep 2005 21:22:48 -0700
Received: from westrelay02.boulder.ibm.com (westrelay02.boulder.ibm.com [9.17.195.11])
	by e35.co.us.ibm.com (8.12.10/8.12.9) with ESMTP id j824MVcJ260030
	for <java-user@lucene.apache.org>; Fri, 2 Sep 2005 00:22:31 -0400
Received: from d03av01.boulder.ibm.com (d03av01.boulder.ibm.com [9.17.195.167])
	by westrelay02.boulder.ibm.com (8.12.10/NCO/VERS6.7) with ESMTP id j824MVvp433590
	for <java-user@lucene.apache.org>; Thu, 1 Sep 2005 22:22:31 -0600
Received: from d03av01.boulder.ibm.com (loopback [127.0.0.1])
	by d03av01.boulder.ibm.com (8.12.11/8.13.3) with ESMTP id j824MUSC029418
	for <java-user@lucene.apache.org>; Thu, 1 Sep 2005 22:22:30 -0600
Received: from d03nm125.boulder.ibm.com (d03nm125.boulder.ibm.com [9.17.195.151])
	by d03av01.boulder.ibm.com (8.12.11/8.12.11) with ESMTP id j824MU9N029412
	for <java-user@lucene.apache.org>; Thu, 1 Sep 2005 22:22:30 -0600
In-Reply-To: <20050902040742.81091.qmail@web31113.mail.mud.yahoo.com>
Subject: Re: Too many open files when doing performance testing
To: java-user@lucene.apache.org
Cc: Amaladason Thadeuse <amaladason@in.ibm.com>,
        Vicky Tsai <vickytsai@us.ibm.com>
X-Mailer: Lotus Notes Release 6.0.2CF1 June 9, 2003
Message-ID: <OFB29BA008.D23A720D-ON88257070.0017C717-88257070.00180122@us.ibm.com>
From: Akhil Jain <jaina@us.ibm.com>
Date: Thu, 1 Sep 2005 22:22:23 -0600
X-MIMETrack: Serialize by Router on D03NM125/03/M/IBM(Release 6.53HF654 | July 22, 2005) at
 09/01/2005 22:22:29
MIME-Version: 1.0
Content-type: multipart/related; 
	Boundary="0__=07BBFAE3DF8441878f9e8a93df938690918c07BBFAE3DF844187"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0__=07BBFAE3DF8441878f9e8a93df938690918c07BBFAE3DF844187
Content-type: multipart/alternative; 
	Boundary="1__=07BBFAE3DF8441878f9e8a93df938690918c07BBFAE3DF844187"

--1__=07BBFAE3DF8441878f9e8a93df938690918c07BBFAE3DF844187
Content-type: text/plain; charset=US-ASCII
Content-transfer-encoding: quoted-printable






Actually, we might not be able to change the setting as we are using a
shared server and are not allowed to change system settings.   What oth=
er
things can we look at to get this fixed?


Akhil Jain




                                                                       =
    
             Otis Gospodnetic                                          =
    
             <otis_gospodnetic                                         =
    
             @yahoo.com>                                               =
 To 
                                       java-user@lucene.apache.org     =
    
             09/01/2005 09:07                                          =
 cc 
             PM                                                        =
    
                                                                   Subj=
ect 
                                       Re: Too many open files when doi=
ng  
             Please respond to         performance testing             =
    
                 java-user                                             =
    
                                                                       =
    
                                                                       =
    
                                                                       =
    
                                                                       =
    
                                                                       =
    




Hi,

2000 doesn't sound very high.  I've used much higher values.  Because
you have so many fields and files, you may want to increase it.  If you=

have Lucene in Action, we have a formula in there for calculating the
number of open files used (section 2.7, according to
http://www.lucenebook.com/search?query=3Dopen+files+maximum)

You said you got this error during your performance testing.  Are you
searching a single index and using a single IndexSearcher?  Use a
single IndexSearcher.

Otis


--- "jaina (sent by Nabble.com)" <lists@nabble.com> wrote:

>
> Thanks Otis for your questions.  Here are the answers... Please let
> me know your thoughts....
>
> We do optimize() after indexWrite.
> The maximum open file allowed is 2,000. Is this normal, too small?
> What is your recommended number ?  We have 57 index files, how many
> files that Lucene index will actually opens per session?
> We use default mergeFactor 10, default merge Docs 1000.
> We have about 18,000 documents, 23 indexed fields.
> We are not using compound index because, but we are considering it.
> Following is a snapshot of our typical index files:
>
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f1
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f10
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f11
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f12
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f13
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f14
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f15
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f16
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f17
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f18
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f19
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f2
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f20
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f21
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f22
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f23
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f24
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f25
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f26
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f27
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f28
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f29
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f3
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f30
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f31
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f32
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f33
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f34
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f35
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f36
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f37
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f38
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f39
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f4
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f40
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f41
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f42
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f43
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f44
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f45
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f46
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f47
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f48
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f49
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f5
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f50
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f51
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f6
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f7
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f8
> -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f9
> -rw-rw----   1 skpmq    p/gsa_cd   18624312 Sep 01 09:18 _bgw.fdt
> -rw-rw----   1 skpmq    p/gsa_cd     149752 Sep 01 09:18 _bgw.fdx
> -rw-rw----   1 skpmq    p/gsa_cd        579 Sep 01 09:18 _bgw.fnm
> -rw-rw----   1 skpmq    p/gsa_cd   23085952 Sep 01 09:18 _bgw.frq
> -rw-rw----   1 skpmq    p/gsa_cd   42672641 Sep 01 09:18 _bgw.prx
> -rw-rw----   1 skpmq    p/gsa_cd     145555 Sep 01 09:18 _bgw.tii
> -rw-rw----   1 skpmq    p/gsa_cd   11866281 Sep 01 09:18 _bgw.tis
> -rw-rw----   1 skpmq    p/gsa_cd          4 Sep 01 09:18 deletable
> -rw-rw----   1 skpmq    p/gsa_cd         29 Sep 01 09:18 segments
> --
> Sent from the Lucene - Java Users forum at Nabble.com:
>
http://www.nabble.com/Too-many-open-files-when-doing-performance-testin=
g-t272369.html#a766958

>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org

=

--1__=07BBFAE3DF8441878f9e8a93df938690918c07BBFAE3DF844187
Content-type: text/html; charset=US-ASCII
Content-Disposition: inline
Content-transfer-encoding: quoted-printable

<html><body>
<p>Actually, we might not be able to change the setting as we are using=
 a shared server and are not allowed to change system settings.   What =
other things can we look at to get this fixed? <br>
<br>
<br>
Akhil Jain<br>
<br>
<br>
<img src=3D"cid:10__=3D07BBFAE3DF8441878f9e8a93df938@us.ibm.com" width=3D=
"16" height=3D"16" alt=3D"Inactive hide details for Otis Gospodnetic &l=
t;otis_gospodnetic@yahoo.com&gt;">Otis Gospodnetic &lt;otis_gospodnetic=
@yahoo.com&gt;<br>
<br>
<br>

<table width=3D"100%" border=3D"0" cellspacing=3D"0" cellpadding=3D"0">=

<tr valign=3D"top"><td style=3D"background-image:url(cid:20__=3D07BBFAE=
3DF8441878f9e8a93df938@us.ibm.com); background-repeat: no-repeat; " wid=
th=3D"40%">
<ul>
<ul>
<ul>
<ul><b><font size=3D"2">Otis Gospodnetic &lt;otis_gospodnetic@yahoo.com=
&gt;</font></b><font size=3D"2"> </font>
<p><font size=3D"2">09/01/2005 09:07 PM</font>
<table border=3D"1">
<tr valign=3D"top"><td width=3D"168" bgcolor=3D"#FFFFFF"><div align=3D"=
center"><font size=3D"2">Please respond to<br>
java-user</font></div></td></tr>
</table>
</ul>
</ul>
</ul>
</ul>
</td><td width=3D"60%">
<table width=3D"100%" border=3D"0" cellspacing=3D"0" cellpadding=3D"0">=

<tr valign=3D"top"><td width=3D"1%" valign=3D"middle"><img src=3D"cid:3=
0__=3D07BBFAE3DF8441878f9e8a93df938@us.ibm.com" border=3D"0" height=3D"=
1" width=3D"58" alt=3D""><br>
<div align=3D"right"><font size=3D"2">To</font></div></td><td width=3D"=
100%"><img src=3D"cid:30__=3D07BBFAE3DF8441878f9e8a93df938@us.ibm.com" =
border=3D"0" height=3D"1" width=3D"1" alt=3D""><br>
<font size=3D"2">java-user@lucene.apache.org</font></td></tr>

<tr valign=3D"top"><td width=3D"1%" valign=3D"middle"><img src=3D"cid:3=
0__=3D07BBFAE3DF8441878f9e8a93df938@us.ibm.com" border=3D"0" height=3D"=
1" width=3D"58" alt=3D""><br>
<div align=3D"right"><font size=3D"2">cc</font></div></td><td width=3D"=
100%"><img src=3D"cid:30__=3D07BBFAE3DF8441878f9e8a93df938@us.ibm.com" =
border=3D"0" height=3D"1" width=3D"1" alt=3D""><br>
</td></tr>

<tr valign=3D"top"><td width=3D"1%" valign=3D"middle"><img src=3D"cid:3=
0__=3D07BBFAE3DF8441878f9e8a93df938@us.ibm.com" border=3D"0" height=3D"=
1" width=3D"58" alt=3D""><br>
<div align=3D"right"><font size=3D"2">Subject</font></div></td><td widt=
h=3D"100%"><img src=3D"cid:30__=3D07BBFAE3DF8441878f9e8a93df938@us.ibm.=
com" border=3D"0" height=3D"1" width=3D"1" alt=3D""><br>
<font size=3D"2">Re: Too many open files when doing performance testing=
</font></td></tr>
</table>

<table border=3D"0" cellspacing=3D"0" cellpadding=3D"0">
<tr valign=3D"top"><td width=3D"58"><img src=3D"cid:30__=3D07BBFAE3DF84=
41878f9e8a93df938@us.ibm.com" border=3D"0" height=3D"1" width=3D"1" alt=
=3D""></td><td width=3D"336"><img src=3D"cid:30__=3D07BBFAE3DF8441878f9=
e8a93df938@us.ibm.com" border=3D"0" height=3D"1" width=3D"1" alt=3D""><=
/td></tr>
</table>
</td></tr>
</table>
<br>
<tt>Hi,<br>
<br>
2000 doesn't sound very high. &nbsp;I've used much higher values. &nbsp=
;Because<br>
you have so many fields and files, you may want to increase it. &nbsp;I=
f you<br>
have Lucene in Action, we have a formula in there for calculating the<b=
r>
number of open files used (section 2.7, according to<br>
</tt><tt><a href=3D"http://www.lucenebook.com/search?query=3Dopen+files=
+maximum">http://www.lucenebook.com/search?query=3Dopen+files+maximum</=
a></tt><tt>)<br>
<br>
You said you got this error during your performance testing. &nbsp;Are =
you<br>
searching a single index and using a single IndexSearcher? &nbsp;Use a<=
br>
single IndexSearcher.<br>
<br>
Otis<br>
<br>
<br>
--- &quot;jaina (sent by Nabble.com)&quot; &lt;lists@nabble.com&gt; wro=
te:<br>
<br>
&gt; <br>
&gt; Thanks Otis for your questions. &nbsp;Here are the answers... Plea=
se let<br>
&gt; me know your thoughts....<br>
&gt; <br>
&gt; We do optimize() after indexWrite.<br>
&gt; The maximum open file allowed is 2,000. Is this normal, too small?=
<br>
&gt; What is your recommended number ? &nbsp;We have 57 index files, ho=
w many<br>
&gt; files that Lucene index will actually opens per session?<br>
&gt; We use default mergeFactor 10, default merge Docs 1000. <br>
&gt; We have about 18,000 documents, 23 indexed fields.<br>
&gt; We are not using compound index because, but we are considering it=
. <br>
&gt; Following is a snapshot of our typical index files:<br>
&gt; <br>
&gt; -rw-rw---- &nbsp; 1 skpmq &nbsp; &nbsp;p/gsa_cd &nbsp; &nbsp; &nbs=
p;18719 Sep 01 09:18 _bgw.f1<br>
&gt; -rw-rw---- &nbsp; 1 skpmq &nbsp; &nbsp;p/gsa_cd &nbsp; &nbsp; &nbs=
p;18719 Sep 01 09:18 _bgw.f10<br>
&gt; -rw-rw---- &nbsp; 1 skpmq &nbsp; &nbsp;p/gsa_cd &nbsp; &nbsp; &nbs=
p;18719 Sep 01 09:18 _bgw.f11<br>
&gt; -rw-rw---- &nbsp; 1 skpmq &nbsp; &nbsp;p/gsa_cd &nbsp; &nbsp; &nbs=
p;18719 Sep 01 09:18 _bgw.f12<br>
&gt; -rw-rw---- &nbsp; 1 skpmq &nbsp; &nbsp;p/gsa_cd &nbsp; &nbsp; &nbs=
p;18719 Sep 01 09:18 _bgw.f13<br>
&gt; -rw-rw---- &nbsp; 1 skpmq &nbsp; &nbsp;p/gsa_cd &nbsp; &nbsp; &nbs=
p;18719 Sep 01 09:18 _bgw.f14<br>
&gt; -rw-rw---- &nbsp; 1 skpmq &nbsp; &nbsp;p/gsa_cd &nbsp; &nbsp; &nbs=
p;18719 Sep 01 09:18 _bgw.f15<br>
&gt; -rw-rw---- &nbsp; 1 skpmq &nbsp; &nbsp;p/gsa_cd &nbsp; &nbsp; &nbs=
p;18719 Sep 01 09:18 _bgw.f16<br>
&gt; -rw-rw---- &nbsp; 1 skpmq &nbsp; &nbsp;p/gsa_cd &nbsp; &nbsp; &nbs=
p;18719 Sep 01 09:18 _bgw.f17<br>
&gt; -rw-rw---- &nbsp; 1 skpmq &nbsp; &nbsp;p/gsa_cd &nbsp; &nbsp; &nbs=
p;18719 Sep 01 09:18 _bgw.f18<br>
&gt; -rw-rw---- &nbsp; 1 skpmq &nbsp; &nbsp;p/gsa_cd &nbsp; &nbsp; &nbs=
p;18719 Sep 01 09:18 _bgw.f19<br>
&gt; -rw-rw---- &nbsp; 1 skpmq &nbsp; &nbsp;p/gsa_cd &nbsp; &nbsp; &nbs=
p;18719 Sep 01 09:18 _bgw.f2<br>
&gt; -rw-rw---- &nbsp; 1 skpmq &nbsp; &nbsp;p/gsa_cd &nbsp; &nbsp; &nbs=
p;18719 Sep 01 09:18 _bgw.f20<br>
&gt; -rw-rw---- &nbsp; 1 skpmq &nbsp; &nbsp;p/gsa_cd &nbsp; &nbsp; &nbs=
p;18719 Sep 01 09:18 _bgw.f21<br>
&gt; -rw-rw---- &nbsp; 1 skpmq &nbsp; &nbsp;p/gsa_cd &nbsp; &nbsp; &nbs=
p;18719 Sep 01 09:18 _bgw.f22<br>
&gt; -rw-rw---- &nbsp; 1 skpmq &nbsp; &nbsp;p/gsa_cd &nbsp; &nbsp; &nbs=
p;18719 Sep 01 09:18 _bgw.f23<br>
&gt; -rw-rw---- &nbsp; 1 skpmq &nbsp; &nbsp;p/gsa_cd &nbsp; &nbsp; &nbs=
p;18719 Sep 01 09:18 _bgw.f24<br>
&gt; -rw-rw---- &nbsp; 1 skpmq &nbsp; &nbsp;p/gsa_cd &nbsp; &nbsp; &nbs=
p;18719 Sep 01 09:18 _bgw.f25<br>
&gt; -rw-rw---- &nbsp; 1 skpmq &nbsp; &nbsp;p/gsa_cd &nbsp; &nbsp; &nbs=
p;18719 Sep 01 09:18 _bgw.f26<br>
&gt; -rw-rw---- &nbsp; 1 skpmq &nbsp; &nbsp;p/gsa_cd &nbsp; &nbsp; &nbs=
p;18719 Sep 01 09:18 _bgw.f27<br>
&gt; -rw-rw---- &nbsp; 1 skpmq &nbsp; &nbsp;p/gsa_cd &nbsp; &nbsp; &nbs=
p;18719 Sep 01 09:18 _bgw.f28<br>
&gt; -rw-rw---- &nbsp; 1 skpmq &nbsp; &nbsp;p/gsa_cd &nbsp; &nbsp; &nbs=
p;18719 Sep 01 09:18 _bgw.f29<br>
&gt; -rw-rw---- &nbsp; 1 skpmq &nbsp; &nbsp;p/gsa_cd &nbsp; &nbsp; &nbs=
p;18719 Sep 01 09:18 _bgw.f3<br>
&gt; -rw-rw---- &nbsp; 1 skpmq &nbsp; &nbsp;p/gsa_cd &nbsp; &nbsp; &nbs=
p;18719 Sep 01 09:18 _bgw.f30<br>
&gt; -rw-rw---- &nbsp; 1 skpmq &nbsp; &nbsp;p/gsa_cd &nbsp; &nbsp; &nbs=
p;18719 Sep 01 09:18 _bgw.f31<br>
&gt; -rw-rw---- &nbsp; 1 skpmq &nbsp; &nbsp;p/gsa_cd &nbsp; &nbsp; &nbs=
p;18719 Sep 01 09:18 _bgw.f32<br>
&gt; -rw-rw---- &nbsp; 1 skpmq &nbsp; &nbsp;p/gsa_cd &nbsp; &nbsp; &nbs=
p;18719 Sep 01 09:18 _bgw.f33<br>
&gt; -rw-rw---- &nbsp; 1 skpmq &nbsp; &nbsp;p/gsa_cd &nbsp; &nbsp; &nbs=
p;18719 Sep 01 09:18 _bgw.f34<br>
&gt; -rw-rw---- &nbsp; 1 skpmq &nbsp; &nbsp;p/gsa_cd &nbsp; &nbsp; &nbs=
p;18719 Sep 01 09:18 _bgw.f35<br>
&gt; -rw-rw---- &nbsp; 1 skpmq &nbsp; &nbsp;p/gsa_cd &nbsp; &nbsp; &nbs=
p;18719 Sep 01 09:18 _bgw.f36<br>
&gt; -rw-rw---- &nbsp; 1 skpmq &nbsp; &nbsp;p/gsa_cd &nbsp; &nbsp; &nbs=
p;18719 Sep 01 09:18 _bgw.f37<br>
&gt; -rw-rw---- &nbsp; 1 skpmq &nbsp; &nbsp;p/gsa_cd &nbsp; &nbsp; &nbs=
p;18719 Sep 01 09:18 _bgw.f38<br>
&gt; -rw-rw---- &nbsp; 1 skpmq &nbsp; &nbsp;p/gsa_cd &nbsp; &nbsp; &nbs=
p;18719 Sep 01 09:18 _bgw.f39<br>
&gt; -rw-rw---- &nbsp; 1 skpmq &nbsp; &nbsp;p/gsa_cd &nbsp; &nbsp; &nbs=
p;18719 Sep 01 09:18 _bgw.f4<br>
&gt; -rw-rw---- &nbsp; 1 skpmq &nbsp; &nbsp;p/gsa_cd &nbsp; &nbsp; &nbs=
p;18719 Sep 01 09:18 _bgw.f40<br>
&gt; -rw-rw---- &nbsp; 1 skpmq &nbsp; &nbsp;p/gsa_cd &nbsp; &nbsp; &nbs=
p;18719 Sep 01 09:18 _bgw.f41<br>
&gt; -rw-rw---- &nbsp; 1 skpmq &nbsp; &nbsp;p/gsa_cd &nbsp; &nbsp; &nbs=
p;18719 Sep 01 09:18 _bgw.f42<br>
&gt; -rw-rw---- &nbsp; 1 skpmq &nbsp; &nbsp;p/gsa_cd &nbsp; &nbsp; &nbs=
p;18719 Sep 01 09:18 _bgw.f43<br>
&gt; -rw-rw---- &nbsp; 1 skpmq &nbsp; &nbsp;p/gsa_cd &nbsp; &nbsp; &nbs=
p;18719 Sep 01 09:18 _bgw.f44<br>
&gt; -rw-rw---- &nbsp; 1 skpmq &nbsp; &nbsp;p/gsa_cd &nbsp; &nbsp; &nbs=
p;18719 Sep 01 09:18 _bgw.f45<br>
&gt; -rw-rw---- &nbsp; 1 skpmq &nbsp; &nbsp;p/gsa_cd &nbsp; &nbsp; &nbs=
p;18719 Sep 01 09:18 _bgw.f46<br>
&gt; -rw-rw---- &nbsp; 1 skpmq &nbsp; &nbsp;p/gsa_cd &nbsp; &nbsp; &nbs=
p;18719 Sep 01 09:18 _bgw.f47<br>
&gt; -rw-rw---- &nbsp; 1 skpmq &nbsp; &nbsp;p/gsa_cd &nbsp; &nbsp; &nbs=
p;18719 Sep 01 09:18 _bgw.f48<br>
&gt; -rw-rw---- &nbsp; 1 skpmq &nbsp; &nbsp;p/gsa_cd &nbsp; &nbsp; &nbs=
p;18719 Sep 01 09:18 _bgw.f49<br>
&gt; -rw-rw---- &nbsp; 1 skpmq &nbsp; &nbsp;p/gsa_cd &nbsp; &nbsp; &nbs=
p;18719 Sep 01 09:18 _bgw.f5<br>
&gt; -rw-rw---- &nbsp; 1 skpmq &nbsp; &nbsp;p/gsa_cd &nbsp; &nbsp; &nbs=
p;18719 Sep 01 09:18 _bgw.f50<br>
&gt; -rw-rw---- &nbsp; 1 skpmq &nbsp; &nbsp;p/gsa_cd &nbsp; &nbsp; &nbs=
p;18719 Sep 01 09:18 _bgw.f51<br>
&gt; -rw-rw---- &nbsp; 1 skpmq &nbsp; &nbsp;p/gsa_cd &nbsp; &nbsp; &nbs=
p;18719 Sep 01 09:18 _bgw.f6<br>
&gt; -rw-rw---- &nbsp; 1 skpmq &nbsp; &nbsp;p/gsa_cd &nbsp; &nbsp; &nbs=
p;18719 Sep 01 09:18 _bgw.f7<br>
&gt; -rw-rw---- &nbsp; 1 skpmq &nbsp; &nbsp;p/gsa_cd &nbsp; &nbsp; &nbs=
p;18719 Sep 01 09:18 _bgw.f8<br>
&gt; -rw-rw---- &nbsp; 1 skpmq &nbsp; &nbsp;p/gsa_cd &nbsp; &nbsp; &nbs=
p;18719 Sep 01 09:18 _bgw.f9<br>
&gt; -rw-rw---- &nbsp; 1 skpmq &nbsp; &nbsp;p/gsa_cd &nbsp; 18624312 Se=
p 01 09:18 _bgw.fdt<br>
&gt; -rw-rw---- &nbsp; 1 skpmq &nbsp; &nbsp;p/gsa_cd &nbsp; &nbsp; 1497=
52 Sep 01 09:18 _bgw.fdx<br>
&gt; -rw-rw---- &nbsp; 1 skpmq &nbsp; &nbsp;p/gsa_cd &nbsp; &nbsp; &nbs=
p; &nbsp;579 Sep 01 09:18 _bgw.fnm<br>
&gt; -rw-rw---- &nbsp; 1 skpmq &nbsp; &nbsp;p/gsa_cd &nbsp; 23085952 Se=
p 01 09:18 _bgw.frq<br>
&gt; -rw-rw---- &nbsp; 1 skpmq &nbsp; &nbsp;p/gsa_cd &nbsp; 42672641 Se=
p 01 09:18 _bgw.prx<br>
&gt; -rw-rw---- &nbsp; 1 skpmq &nbsp; &nbsp;p/gsa_cd &nbsp; &nbsp; 1455=
55 Sep 01 09:18 _bgw.tii<br>
&gt; -rw-rw---- &nbsp; 1 skpmq &nbsp; &nbsp;p/gsa_cd &nbsp; 11866281 Se=
p 01 09:18 _bgw.tis<br>
&gt; -rw-rw---- &nbsp; 1 skpmq &nbsp; &nbsp;p/gsa_cd &nbsp; &nbsp; &nbs=
p; &nbsp; &nbsp;4 Sep 01 09:18 deletable<br>
&gt; -rw-rw---- &nbsp; 1 skpmq &nbsp; &nbsp;p/gsa_cd &nbsp; &nbsp; &nbs=
p; &nbsp; 29 Sep 01 09:18 segments<br>
&gt; --<br>
&gt; Sent from the Lucene - Java Users forum at Nabble.com:<br>
&gt;<br>
</tt><tt><a href=3D"http://www.nabble.com/Too-many-open-files-when-doin=
g-performance-testing-t272369.html#a766958">http://www.nabble.com/Too-m=
any-open-files-when-doing-performance-testing-t272369.html#a766958</a><=
/tt><tt><br>
&gt; <br>
<br>
<br>
---------------------------------------------------------------------<b=
r>
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org<br>
For additional commands, e-mail: java-user-help@lucene.apache.org<br>
<br>
</tt><br>
</body></html>=


--1__=07BBFAE3DF8441878f9e8a93df938690918c07BBFAE3DF844187--


--0__=07BBFAE3DF8441878f9e8a93df938690918c07BBFAE3DF844187--


From java-user-return-16176-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 02 04:33:37 2005
Return-Path: <java-user-return-16176-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20271 invoked from network); 2 Sep 2005 04:33:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Sep 2005 04:33:37 -0000
Received: (qmail 48428 invoked by uid 500); 2 Sep 2005 04:33:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 48407 invoked by uid 500); 2 Sep 2005 04:33:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 48391 invoked by uid 99); 2 Sep 2005 04:33:31 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 01 Sep 2005 21:33:31 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.200.42] (HELO web31109.mail.mud.yahoo.com) (68.142.200.42)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 01 Sep 2005 21:33:46 -0700
Received: (qmail 83691 invoked by uid 60001); 2 Sep 2005 04:33:29 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:Cc:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=D25GmeIEaMhZlXWk7wAYMsgrwV7s5Bp0O9ZrcElTjV9RvGLHg/ZB20OAgUPoEbKNx70YSUUz8+OzrOGVIUDY0qwqWFQh3i/oWVOjsu4JJzPmUFA2tCDedFXg2fFnaLgUkR+7mqStfthZA/hN1i6ItJ5lKVCVb3jkU77cGBIHeSY=  ;
Message-ID: <20050902043329.83689.qmail@web31109.mail.mud.yahoo.com>
Received: from [69.201.142.21] by web31109.mail.mud.yahoo.com via HTTP; Thu, 01 Sep 2005 21:33:29 PDT
Date: Thu, 1 Sep 2005 21:33:29 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Too many open files when doing performance testing
To: java-user@lucene.apache.org
Cc: Amaladason Thadeuse <amaladason@in.ibm.com>,
  Vicky Tsai <vickytsai@us.ibm.com>
In-Reply-To: <OFB29BA008.D23A720D-ON88257070.0017C717-88257070.00180122@us.ibm.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Use that compound index format and use a single IndexSearcher instance.

Otis

--- Akhil Jain <jaina@us.ibm.com> wrote:

> 
> 
> 
> 
> 
> Actually, we might not be able to change the setting as we are using
> a
> shared server and are not allowed to change system settings.   What
> other
> things can we look at to get this fixed?
> 
> 
> Akhil Jain
> 
> 
> 
> 
>                                                                      
>  
>              Otis Gospodnetic                                        
>  
>              <otis_gospodnetic                                       
>  
>              @yahoo.com>                                             
>   To
>                                        java-user@lucene.apache.org   
>  
>              09/01/2005 09:07                                        
>   cc
>              PM                                                      
>  
>                                                                   
> Subject
>                                        Re: Too many open files when
> doing
>              Please respond to         performance testing           
>  
>                  java-user                                           
>  
>                                                                      
>  
>                                                                      
>  
>                                                                      
>  
>                                                                      
>  
>                                                                      
>  
> 
> 
> 
> 
> Hi,
> 
> 2000 doesn't sound very high.  I've used much higher values.  Because
> you have so many fields and files, you may want to increase it.  If
> you
> have Lucene in Action, we have a formula in there for calculating the
> number of open files used (section 2.7, according to
> http://www.lucenebook.com/search?query=open+files+maximum)
> 
> You said you got this error during your performance testing.  Are you
> searching a single index and using a single IndexSearcher?  Use a
> single IndexSearcher.
> 
> Otis
> 
> 
> --- "jaina (sent by Nabble.com)" <lists@nabble.com> wrote:
> 
> >
> > Thanks Otis for your questions.  Here are the answers... Please let
> > me know your thoughts....
> >
> > We do optimize() after indexWrite.
> > The maximum open file allowed is 2,000. Is this normal, too small?
> > What is your recommended number ?  We have 57 index files, how many
> > files that Lucene index will actually opens per session?
> > We use default mergeFactor 10, default merge Docs 1000.
> > We have about 18,000 documents, 23 indexed fields.
> > We are not using compound index because, but we are considering it.
> > Following is a snapshot of our typical index files:
> >
> > -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f1
> > -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f10
> > -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f11
> > -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f12
> > -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f13
> > -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f14
> > -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f15
> > -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f16
> > -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f17
> > -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f18
> > -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f19
> > -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f2
> > -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f20
> > -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f21
> > -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f22
> > -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f23
> > -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f24
> > -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f25
> > -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f26
> > -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f27
> > -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f28
> > -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f29
> > -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f3
> > -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f30
> > -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f31
> > -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f32
> > -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f33
> > -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f34
> > -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f35
> > -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f36
> > -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f37
> > -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f38
> > -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f39
> > -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f4
> > -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f40
> > -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f41
> > -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f42
> > -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f43
> > -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f44
> > -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f45
> > -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f46
> > -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f47
> > -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f48
> > -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f49
> > -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f5
> > -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f50
> > -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f51
> > -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f6
> > -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f7
> > -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f8
> > -rw-rw----   1 skpmq    p/gsa_cd      18719 Sep 01 09:18 _bgw.f9
> > -rw-rw----   1 skpmq    p/gsa_cd   18624312 Sep 01 09:18 _bgw.fdt
> > -rw-rw----   1 skpmq    p/gsa_cd     149752 Sep 01 09:18 _bgw.fdx
> > -rw-rw----   1 skpmq    p/gsa_cd        579 Sep 01 09:18 _bgw.fnm
> > -rw-rw----   1 skpmq    p/gsa_cd   23085952 Sep 01 09:18 _bgw.frq
> > -rw-rw----   1 skpmq    p/gsa_cd   42672641 Sep 01 09:18 _bgw.prx
> > -rw-rw----   1 skpmq    p/gsa_cd     145555 Sep 01 09:18 _bgw.tii
> > -rw-rw----   1 skpmq    p/gsa_cd   11866281 Sep 01 09:18 _bgw.tis
> > -rw-rw----   1 skpmq    p/gsa_cd          4 Sep 01 09:18 deletable
> > -rw-rw----   1 skpmq    p/gsa_cd         29 Sep 01 09:18 segments
> > --
> > Sent from the Lucene - Java Users forum at Nabble.com:
> >
>
http://www.nabble.com/Too-many-open-files-when-doing-performance-testing-t272369.html#a766958
> 
> >
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16177-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 02 11:23:59 2005
Return-Path: <java-user-return-16177-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 81570 invoked from network); 2 Sep 2005 11:23:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Sep 2005 11:23:58 -0000
Received: (qmail 80179 invoked by uid 500); 2 Sep 2005 11:23:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80155 invoked by uid 500); 2 Sep 2005 11:23:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80141 invoked by uid 99); 2 Sep 2005 11:23:51 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 02 Sep 2005 04:23:51 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of breitzammer@gmail.com designates 64.233.182.196 as permitted sender)
Received: from [64.233.182.196] (HELO nproxy.gmail.com) (64.233.182.196)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 02 Sep 2005 04:24:05 -0700
Received: by nproxy.gmail.com with SMTP id o25so193445nfa
        for <java-user@lucene.apache.org>; Fri, 02 Sep 2005 04:23:48 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:sender:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=gPxLwEWFm9juA3FgMfc8QDtv8i5XrJKLzwR1cuSjJRi1bgwRnjm0fSDomvkLjnqPcqYxcvu7ZT9oUY7GEFZChJuGjTLYUCFeQkZ62QFju1WGmW8kVjwiiBtbO3fUW/VJIKB+KBcgFQh+32uM1AZFIOWBSv70mbcl+FYb0Liqf4Y=
Received: by 10.48.248.10 with SMTP id v10mr153756nfh;
        Fri, 02 Sep 2005 04:23:48 -0700 (PDT)
Received: by 10.48.3.2 with HTTP; Fri, 2 Sep 2005 04:23:48 -0700 (PDT)
Message-ID: <9eaa7ce50509020423718fc4d2@mail.gmail.com>
Date: Fri, 2 Sep 2005 13:23:48 +0200
From: Benjamin Reitzammer <benjamin@nur-eine-i.de>
Sender: breitzammer@gmail.com
To: Lucene-user <java-user@lucene.apache.org>
Subject: [ANN] Roosster personal search engine 0.5 released
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,
I just released the first really usable version of roosster, a
cross-platform open source personal search engine which uses Lucene to
power it's full-text search.

Read the full announcement at
http://roosster.org/dev/news/release05.html and check it out.
Or take a look at the screenshots, to get a feeling
http://roosster.org/dev/about/screenshots.html

I'd appreciate any feedback!

Cheers

Benjamin

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16178-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 02 13:31:46 2005
Return-Path: <java-user-return-16178-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 27668 invoked from network); 2 Sep 2005 13:31:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Sep 2005 13:31:46 -0000
Received: (qmail 50313 invoked by uid 500); 2 Sep 2005 13:31:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50291 invoked by uid 500); 2 Sep 2005 13:31:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50278 invoked by uid 99); 2 Sep 2005 13:31:40 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 02 Sep 2005 06:31:40 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [199.43.38.100] (HELO mlnya402er.ml.com) (199.43.38.100)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 02 Sep 2005 06:31:52 -0700
Received: from MLNYB853BH.amrs.win.ml.com (unknown [146.125.94.131])
	by mlnya402er.ml.com (Postfix) with ESMTP id 598FDF0000E8
	for <java-user@lucene.apache.org>; Fri,  2 Sep 2005 09:31:35 -0400 (EDT)
Received: from mlnya301bh.amrs.win.ml.com ([146.125.109.51]) by MLNYB853BH.amrs.win.ml.com with Microsoft SMTPSVC(5.0.2195.6713); Fri, 2 Sep 2005 09:31:26 -0400
Received: from mlnyb706mb.amrs.win.ml.com ([146.125.92.6]) by mlnya301bh.amrs.win.ml.com with Microsoft SMTPSVC(5.0.2195.6713); Fri, 2 Sep 2005 09:31:26 -0400
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1506
Content-Class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Importance: normal
Priority: normal
Subject: RE: Ideal Index Fragmentation
Date: Fri, 2 Sep 2005 09:31:26 -0400
Message-ID: <82D2BB25EFABA3478B75FF11C88148D518D9053B@mlnyb706mb.amrs.win.ml.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Ideal Index Fragmentation
thread-index: AcWuSIuktcoL1pqwRUeDwefx96xSYABeSZ0Q
From: "Friedland, Zachary (EDS - Strategy)" <zachary_friedland@ml.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 02 Sep 2005 13:31:26.0535 (UTC) FILETIME=[9E5D2D70:01C5AFC2]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Follow-up questions below denoted with "--"

Thanks,
Zach

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]=20
Sent: Wednesday, August 31, 2005 12:25 PM
To: java-user@lucene.apache.org
Subject: Re: Ideal Index Fragmentation


On Aug 30, 2005, at 9:53 PM, Friedland, Zachary (EDS - Strategy) wrote:
>> More assorted questions:
>>
>> *    I have been reading the posts on using Filter vs. =20
>> BooleanQuery.  To implement a search-within-a-search, it seems the =20
>> Filter is advantageous due to its cacheability, but are there other =20
>> pros or cons that should be considered (memory, speed, etc).

>It's only advantageous when the Filters are long-lived over multiple =20
>searches.  It's not really recommended for search-within-search when =20
>the initial search is transient.  Combining queries within a =20
>BooleanQuery is more recommended in that case.

--Great!  This one is closed down...

>> *    I'm interested in implementing a "dynamic filter" component =20
>> that will walk through the hits[] object and pull out distinct =20
>> values for certain fields to display as search-within-a-search =20
>> options (all of them will return at least one result since they are =20
>> in the hits[]).  Has anyone implemented something like this -- how =20
>> did it work out?

>Walking all Hits and extracting a field is an expensive operation, so =20
>be forewarned on that.

--OK, is there a preferred strategy for generating lists of distinct
attributes in the hit[]?  I've seen Hoss' post about using QueryFilters,
but that assumes that you know what values you want to count; but I
won't know the domain of values to expect in every field...  Can I get
creative with the hitsCollector to solve this one?

>> *    When using a ParallelMultiSearcher, is there an easy way to =20
>> know how many matches came from each index searched?  I'd like to =20
>> be able to display how many of each object are in the combined hits=20
>> [].  Since I'm storing one object type per index, the count of hits =20
>> from each index will give me that number.

>I'm not sure if you can get at each indexes results in that way, but =20
>you can tell which index an individual hit came from (see API docs =20
>for details on that).

--Has anyone else hacked the ParallelMultisearcher to do something like
a hits.length before recombining them?

>> *    Does anyone know when 1.9/2.0 will be released?

>Your guess is as good as any at this point.  I'm not sure what is =20
>still left to be done for a 1.9 release.  I haven't heard any prods =20
>to release it any time soon, but you're welcome to push us to =20
>consider it if need be.

>     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
--------------------------------------------------------

If you are not an intended recipient of this e-mail, please notify the =
sender, delete it and do not read, act upon, print, disclose, copy, =
retain or redistribute it. Click here for important additional terms =
relating to this e-mail.     http://www.ml.com/email_terms/
--------------------------------------------------------

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16179-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 02 13:37:33 2005
Return-Path: <java-user-return-16179-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 29043 invoked from network); 2 Sep 2005 13:37:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Sep 2005 13:37:33 -0000
Received: (qmail 57403 invoked by uid 500); 2 Sep 2005 13:37:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 57386 invoked by uid 500); 2 Sep 2005 13:37:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 57373 invoked by uid 99); 2 Sep 2005 13:37:27 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 02 Sep 2005 06:37:27 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [134.96.188.26] (HELO mail.dfki.de) (134.96.188.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 02 Sep 2005 06:37:42 -0700
Received: from mail.dfki.de (localhost.dfki.uni-sb.de [127.0.0.1])
	by localhost (Postfix) with ESMTP id 4DDE0E47DC
	for <java-user@lucene.apache.org>; Fri,  2 Sep 2005 15:37:21 +0200 (CEST)
Received: from [IPv6:::1] (dave.dfki.uni-sb.de [134.96.184.220])
	by mail.dfki.de (Postfix) with ESMTP id 27A31E47D6
	for <java-user@lucene.apache.org>; Fri,  2 Sep 2005 15:37:21 +0200 (CEST)
Mime-Version: 1.0 (Apple Message framework v622)
In-Reply-To: <6e3ae631050829100817417e77@mail.gmail.com>
References: <4312CC6A.2050301@programmfabrik.de> <Pine.LNX.4.62.0508290624480.544@enigmastation.com> <6e3ae631050829100817417e77@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Message-Id: <a68bd4fa2753456bdd5f262a58e664c8@activemath.org>
Content-Transfer-Encoding: quoted-printable
From: Paul Libbrecht <paul@activemath.org>
Subject: Re: Did you mean?
Date: Fri, 2 Sep 2005 15:37:19 +0200
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.622)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Isn't this relatively easily done using current indexReader methods?
My 2p would be (I intended to do it):
- have each of your words get analyzed in each flavour (eg stemmed,=20
phonetic...)
- get a tokens in each flavour and compare to that
- map back (that's the part I haven't done yet).

This is away from frequent search but realizes the "Did you mean"=20
paradigm and is quite enough in many cases, I believe.

paul


Le 29 ao=FBt 05, =E0 19:08, Chris Lu a =E9crit :

> * Analyze your original index, listing out all words inside.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16180-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 02 14:32:18 2005
Return-Path: <java-user-return-16180-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 51798 invoked from network); 2 Sep 2005 14:32:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Sep 2005 14:32:18 -0000
Received: (qmail 38592 invoked by uid 500); 2 Sep 2005 14:32:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 38569 invoked by uid 500); 2 Sep 2005 14:32:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 38556 invoked by uid 99); 2 Sep 2005 14:32:11 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 02 Sep 2005 07:32:11 -0700
X-ASF-Spam-Status: No, hits=1.2 required=10.0
	tests=HTML_20_30,HTML_MESSAGE,HTML_SHORT_LENGTH,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of fabioanjos@gmail.com designates 64.233.162.201 as permitted sender)
Received: from [64.233.162.201] (HELO zproxy.gmail.com) (64.233.162.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 02 Sep 2005 07:32:26 -0700
Received: by zproxy.gmail.com with SMTP id n29so401956nzf
        for <java-user@lucene.apache.org>; Fri, 02 Sep 2005 07:32:09 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=jfaxCu21CJYVZyxBSm0yRRRbaHA1w/O3F+IL+TDQw5Ji3h88UzH8lzkIrmULkprJ35wZT5M+VTeCFE+g7AHLx3eJRKcBKWj/Ub7c62Q8iGOZhH9cUBhj3T5zfCaPCzTCg+Z2NcQLFChMHDJQwebAw3KijY0A++qh/REZ+VDjWIE=
Received: by 10.36.66.9 with SMTP id o9mr2474135nza;
        Fri, 02 Sep 2005 07:32:09 -0700 (PDT)
Received: by 10.36.178.1 with HTTP; Fri, 2 Sep 2005 07:32:09 -0700 (PDT)
Message-ID: <29788b2505090207325a920779@mail.gmail.com>
Date: Fri, 2 Sep 2005 11:32:09 -0300
From: Fabio Cristiano dos Anjos <fabioanjos@gmail.com>
To: java-user@lucene.apache.org
Subject: Phrase frequency
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_8675_10564132.1125671529860"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_8675_10564132.1125671529860
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi,

How can I get phrase frequency in an index?

Thanks in advance!!
--=20
Atenciosamente,
F=E1bio Cristiano dos Anjos

------=_Part_8675_10564132.1125671529860--

From java-user-return-16181-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 02 16:40:11 2005
Return-Path: <java-user-return-16181-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97981 invoked from network); 2 Sep 2005 16:40:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Sep 2005 16:40:10 -0000
Received: (qmail 33266 invoked by uid 500); 2 Sep 2005 16:40:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 33243 invoked by uid 500); 2 Sep 2005 16:40:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 33230 invoked by uid 99); 2 Sep 2005 16:40:04 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 02 Sep 2005 09:40:04 -0700
X-ASF-Spam-Status: No, hits=1.9 required=10.0
	tests=RCVD_BY_IP,RCVD_IN_BL_SPAMCOP_NET,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of chris.lu@gmail.com designates 66.249.82.194 as permitted sender)
Received: from [66.249.82.194] (HELO xproxy.gmail.com) (66.249.82.194)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 02 Sep 2005 09:40:17 -0700
Received: by xproxy.gmail.com with SMTP id h28so683454wxd
        for <java-user@lucene.apache.org>; Fri, 02 Sep 2005 09:40:00 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=qDFf1vjx+zCCQL40g8EnyF/L/eMYz/VaYogrubGyFvNbWdidBr+oYRRJmO3ptMgtb6oTRDKYbQLWAvbMpn2HaIp1ribQHUdNJXuWlQfmd99rKpD6x9UxDX0q8Iup2+NkMJ0inlCjQYCb4NOoU4S4WoktOzGL88IreSLTs/bkqI4=
Received: by 10.70.26.3 with SMTP id 3mr13559wxz;
        Fri, 02 Sep 2005 09:40:00 -0700 (PDT)
Received: by 10.70.23.8 with HTTP; Fri, 2 Sep 2005 09:40:00 -0700 (PDT)
Message-ID: <6e3ae631050902094013ce14ab@mail.gmail.com>
Date: Fri, 2 Sep 2005 09:40:00 -0700
From: Chris Lu <chris.lu@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Did you mean?
In-Reply-To: <a68bd4fa2753456bdd5f262a58e664c8@activemath.org>
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <4312CC6A.2050301@programmfabrik.de>
	 <Pine.LNX.4.62.0508290624480.544@enigmastation.com>
	 <6e3ae631050829100817417e77@mail.gmail.com>
	 <a68bd4fa2753456bdd5f262a58e664c8@activemath.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 9/2/05, Paul Libbrecht <paul@activemath.org> wrote:
> Isn't this relatively easily done using current indexReader methods?
> My 2p would be (I intended to do it):
> - have each of your words get analyzed in each flavour (eg stemmed,
> phonetic...)
> - get a tokens in each flavour and compare to that
> - map back (that's the part I haven't done yet).

Mapping back the suggested words after the stemming may be a problem.
Unless we store the mapping somewhere.
--=20
Chris Lu
------------
Lucene Search RAD on Any Database
http://www.dbsight.net

>=20
> This is away from frequent search but realizes the "Did you mean"
> paradigm and is quite enough in many cases, I believe.
>=20
> paul
>=20
>=20
> Le 29 ao=FBt 05, =E0 19:08, Chris Lu a =E9crit :
>=20
> > * Analyze your original index, listing out all words inside.
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16182-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 02 17:08:00 2005
Return-Path: <java-user-return-16182-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5227 invoked from network); 2 Sep 2005 17:08:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Sep 2005 17:08:00 -0000
Received: (qmail 75380 invoked by uid 500); 2 Sep 2005 17:07:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75360 invoked by uid 500); 2 Sep 2005 17:07:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75345 invoked by uid 99); 2 Sep 2005 17:07:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 02 Sep 2005 10:07:54 -0700
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 02 Sep 2005 10:08:08 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 40FBE5B7E0; Fri,  2 Sep 2005 10:07:50 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 3DC0F7F474
	for <java-user@lucene.apache.org>; Fri,  2 Sep 2005 10:07:50 -0700 (PDT)
Date: Fri, 2 Sep 2005 10:07:50 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: RE: Ideal Index Fragmentation
In-Reply-To: <82D2BB25EFABA3478B75FF11C88148D518D9053B@mlnyb706mb.amrs.win.ml.com>
Message-ID: <Pine.LNX.4.58.0509021001570.20199@hal.rescomp.berkeley.edu>
References: <82D2BB25EFABA3478B75FF11C88148D518D9053B@mlnyb706mb.amrs.win.ml.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: --OK, is there a preferred strategy for generating lists of distinct
: attributes in the hit[]?  I've seen Hoss' post about using QueryFilters,
: but that assumes that you know what values you want to count; but I
: won't know the domain of values to expect in every field...  Can I get
: creative with the hitsCollector to solve this one?

I've never done this myself, but my advice is to generate the list of
values using a TermEnum when you first open the IndexReader -- as long as
the index doesn't hange, this list can be cached, and will be helpfull for
any search that comes in -- just understand that many counts will be zero.

if you have a *really* large number of terms, then caching a BitSet for
each may not be practical, but at a minimum you should be able to cache an
int for each term containing the total number of documents that contain it
-- and for the top N terms, also store the BitSet.  then at search time,
first check hte top N, and if you still don't have enough options to
display to the user, then generate BitSets for the rest (in order of how
common the term is in the overall index).



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16183-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 02 20:55:05 2005
Return-Path: <java-user-return-16183-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 73131 invoked from network); 2 Sep 2005 20:55:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Sep 2005 20:55:04 -0000
Received: (qmail 73445 invoked by uid 500); 2 Sep 2005 20:55:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73390 invoked by uid 500); 2 Sep 2005 20:55:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73377 invoked by uid 99); 2 Sep 2005 20:55:00 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 02 Sep 2005 13:55:00 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.200.40] (HELO web31107.mail.mud.yahoo.com) (68.142.200.40)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 02 Sep 2005 13:55:12 -0700
Received: (qmail 104 invoked by uid 60001); 2 Sep 2005 20:54:56 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:Cc:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=yXcwcoNFQp/ITzM8X0FVJMsAX7UbuR9Pkxfs42OkaIjSFMPN1i4CAq1TJ3TnPF4SAfstkE8yGb7wIEIJWeUvFGPfKdMvMWgg/GcNtezZTDH4KXJSg+KG9TY69k6MdgcSPLxcPWyGUsu1kmFV88p6HEd2u321eRiNATnuZ98z288=  ;
Message-ID: <20050902205456.102.qmail@web31107.mail.mud.yahoo.com>
Received: from [216.194.55.187] by web31107.mail.mud.yahoo.com via HTTP; Fri, 02 Sep 2005 13:54:55 PDT
Date: Fri, 2 Sep 2005 13:54:55 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Secure Server index
To: java-user@lucene.apache.org
Cc: valmirmacario@gmail.com
In-Reply-To: <cbe2fa6205090210523043bbf0@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,

Valmir, I'm replying to java-user@ list, as it's better for this type
of questions.

Lucene has no built-in security features.  Some people use Lucene's
Filters to accomplish show/hide-type security.  If you have a copy of
the Lucene book, you'll see that covered in section 5.5.3 (
http://www.lucenebook.com/search?query=security+filter )

Basically, you can create an index that has field(s) with a set of
different values.  Then, you create (and probably cache) a Filter for
documents that have a given value (e.g. a Filter for all documents that
have the security field value of "admin", another Filter for all
documents that have the security field value of "guest", etc.).  Then,
when you search, you can use this Filter to show only one set of
documents.  

You can download Lucene in Action code and look at:
./src/lia/advsearching/SecurityFilterTest.java

Otis

--- Valmir Mac&#225;rio <valmirmacario@gmail.com> wrote:

>  Hi, i'm new lucenes' developer and i wolud like to known if lucene
> or nuch 
> suports some security configuration. I would like to keep hide some 
> information for public acces and configure this hide acces for people
> wich 
> has permission to acces this information. How i can do that? I
> apreciate if 
> someone can help-me. 
> 
> Thank you
> 
> Valmir
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16184-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 02 22:05:23 2005
Return-Path: <java-user-return-16184-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97849 invoked from network); 2 Sep 2005 22:05:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Sep 2005 22:05:23 -0000
Received: (qmail 4545 invoked by uid 500); 2 Sep 2005 22:05:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4519 invoked by uid 500); 2 Sep 2005 22:05:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4506 invoked by uid 99); 2 Sep 2005 22:05:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 02 Sep 2005 15:05:17 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [129.79.225.189] (HELO cricket.bio.indiana.edu) (129.79.225.189)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 02 Sep 2005 15:05:32 -0700
Received: (from gilbertd@localhost)
	by cricket.bio.indiana.edu (8.11.7p1+Sun/8.11.7) id j82M5HJ21559
	for java-user@lucene.apache.org; Fri, 2 Sep 2005 17:05:17 -0500 (EST)
Date: Fri, 2 Sep 2005 17:05:17 -0500 (EST)
From: Don Gilbert <gilbertd@bio.indiana.edu>
Message-Id: <200509022205.j82M5HJ21559@cricket.bio.indiana.edu>
To: java-user@lucene.apache.org
Subject: Lucene outperforms MySQL, BerkeleyDB, and PostgreSQL for genome map searches
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Lucene outperforms MySQL, BerkeleyDB, and PostgreSQL for 
genome map database searches.

GBrowse (Generic Genome Browser, http://www.gmod.org/) is a widely
used program for displaying maps of genome data in
biology/bioinformatics. One need it serves is helping biologists
quickly and easily locate features of interest among 10s of millions
of genome features for an organism.

Lucene and the Lucegene project using it, find a good application for
rapidly and easily searching the complex, diverse and large volume of
genome data.  These are useful for searching genome sequences,
literature and experimental data, interactions among genes, as well
as other categories of genome informations.  Lucegene leverages
the speed, high-volume capability and data-source adaptability of Lucene
for searching the multi-gigabyte bioinformatics databases.

Though focused more on text searches and less on numerics, the
opposite of relational databases, Lucene is capable also at numeric
searches such as the demanding use with genomes for displaying
quickly to biologists the locations of their favorite genes and other
features among millions of features spread across 100 millions of
possible locations.

  Time (seconds) for GBrowse web display, 30 iterations 
  at different map locations on fruitfly (dmel) genome
  ----------------------------------------------------------
                        Server3      Server2     Relative
    GBrowse-Adaptor   Mean    SE    Mean   SE   time (ave.)  
  dmel_lucegene_500k   5.4   0.15   1.86  0.05    100   
  dmel_lucene_500k     6.1   0.13   2.23  0.05    117    
  dmel_mysql_500k      7.9   0.31   2.14  0.06    128  
  dmel_bdb_500k        8.3   0.53   4.10  0.32    187  
  dmel_chadofc_500k   25.9   0.91   9.86  0.77    510  
  ----------------------------------------------------------
  
This uses a 500kb map range; differences increase with map range.
These all use the same data. Most of the response time is used in
drawing maps, once features are extracted from the database. However
adaptor speed is one factor that can improve rapid displays. There are
slight differences in displays due to configurations and how adaptor
works, but no significant differences in the data returned by
adaptors. Lucene and MySQL indices are cross-platform shared here.
BerkeleyDB and Postgres cannot be, and had to be regenerated for each
server. Server2 is x64-Solaris-10 (yr2005), Server3 is ppc-MacOSX-10.3
(yr2004).

The fastest adaptor here, Lucegene, has algorithms tuned for genome
map range searches. The simple lucene adaptor is comparable directly
to the mysql and berkeleydb adaptors in operation, using Lucene as
persistant searchable data storage without Lucene-optimized functions.

These results, while not dramatic in the speed differences but for the
slow  Chado Postgres adaptor, add to the other values for this
cross-platform, Java-based system, even when combined with Perl-based
tools such as GBrowse. One important but difficult to measure factor
is the cost of management, where genome data are frequently updated
from diverse sources.  Installing Lucene for this use is a simple
matter of adding the Java library to map software.  Lucene databases
are easy to create from source data, and can be copied and shared
across computer systems, where compiled software and binary databases
usually need to be re-generated by informaticians.

GBrowse Perl Adaptor key: 
  lucegene -  lucegene.pm GFF   (Lucene v1.9; Java 1.4/1.5)
  lucene   -  simple lucene.pm GFF (Lucene v1.9; Java 1.4/1.5)
  bdb      -  berkeleydb.pm GFF (BerkeleyDB v4.2)
  mysql    -  mysqlopt.pm GFF   (MySQL v4.0x)
  chadofc  -  chado.pm DAS, modified for flybase Chado db (Postgres v7 & 8)
These are available through GMOD projects for use with GBrowse.

Preliminary tests suggest that Lucene may outperform Lion Bioscience's
SRS at basic bio-databank search and retrieval, such as with Uniprot
database.

See also
http://sourceforge.net/mailarchive/forum.php?thread_id=8094404&forum_id=31947
http://www.gmod.org/, http://www.gmod.org/lucegene/, 
and http://lucene.apache.org/

The archive at ftp://ftp.eugenes.org/eugenes/gbrowse/ 
has a set of Lucene indices of genomes for Worm, Yeast, Rice,
and 9 Fruitfly species, along with Gbrowse configuration files. You
should be able to copy these, add to Gbrowse the Lucene-lite and
Lucegene adaptors, and display the genomes from your favorite
server computer.

Example servers with these data and comparisons to other
GBrowse adapators (Chado-Pg, MySQL, BerkeleyDB) are here:
 http://server2.eugenes.org/gbrowse/  (Sun-Solaris-x64)
 http://server3.eugenes.org/gbrowse/  (Apple-MacOSX-ppc)

-- d.gilbert--bioinformatics--indiana-u--bloomington-in-47405
-- gilbertd@indiana.edu--http://marmot.bio.indiana.edu/

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16185-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 02 22:18:21 2005
Return-Path: <java-user-return-16185-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 3053 invoked from network); 2 Sep 2005 22:18:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Sep 2005 22:18:21 -0000
Received: (qmail 18765 invoked by uid 500); 2 Sep 2005 22:18:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 18729 invoked by uid 500); 2 Sep 2005 22:18:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 18714 invoked by uid 99); 2 Sep 2005 22:18:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 02 Sep 2005 15:18:16 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of chris.lu@gmail.com designates 66.249.82.198 as permitted sender)
Received: from [66.249.82.198] (HELO xproxy.gmail.com) (66.249.82.198)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 02 Sep 2005 15:18:30 -0700
Received: by xproxy.gmail.com with SMTP id h28so749883wxd
        for <java-user@lucene.apache.org>; Fri, 02 Sep 2005 15:18:12 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=TNLDOO1jGuqclyB3xZZ8hmfLy3yesU5G3SGLat+3XBi6zFuXUmD0o5ZNuLhc6DUlnvAWe6Um+1ieDSL93Ic8zi7dejgM1cWG9nNg/FN/LwM5JkCqZnzh9oMY8lU2KI/q2wv2e5iTHgrPeiDB8jM+64reOj/cilHJEUUSBWJWKDc=
Received: by 10.70.43.15 with SMTP id q15mr23663wxq;
        Fri, 02 Sep 2005 15:18:12 -0700 (PDT)
Received: by 10.70.23.8 with HTTP; Fri, 2 Sep 2005 15:18:12 -0700 (PDT)
Message-ID: <6e3ae6310509021518503e73e7@mail.gmail.com>
Date: Fri, 2 Sep 2005 15:18:12 -0700
From: Chris Lu <chris.lu@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Lucene outperforms MySQL, BerkeleyDB, and PostgreSQL for genome map searches
In-Reply-To: <200509022205.j82M5HJ21559@cricket.bio.indiana.edu>
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <200509022205.j82M5HJ21559@cricket.bio.indiana.edu>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Another great write up!

One more question, "100 millions of possible locations." looks large.
But 500Kb is relatively small compared to Lucene's capability. And I
believe the performance difference between Lucene and MySql, or
others, are much obvious at 1GB~10GB level. I heard numbers like 10x
faster.

Is it possible to get numbers in that range?

--=20
Chris Lu
------------
Lucene Search RAD on Any Database
http://www.dbsight.net

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16186-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 02 22:50:23 2005
Return-Path: <java-user-return-16186-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11007 invoked from network); 2 Sep 2005 22:50:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 2 Sep 2005 22:50:23 -0000
Received: (qmail 49642 invoked by uid 500); 2 Sep 2005 22:50:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49617 invoked by uid 500); 2 Sep 2005 22:50:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 49603 invoked by uid 99); 2 Sep 2005 22:50:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 02 Sep 2005 15:50:17 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [129.79.225.189] (HELO cricket.bio.indiana.edu) (129.79.225.189)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 02 Sep 2005 15:50:31 -0700
Received: (from gilbertd@localhost)
	by cricket.bio.indiana.edu (8.11.7p1+Sun/8.11.7) id j82MoGm21895
	for java-user@lucene.apache.org; Fri, 2 Sep 2005 17:50:16 -0500 (EST)
Date: Fri, 2 Sep 2005 17:50:16 -0500 (EST)
From: Don Gilbert <gilbertd@bio.indiana.edu>
Message-Id: <200509022250.j82MoGm21895@cricket.bio.indiana.edu>
To: java-user@lucene.apache.org
Subject: Re: Lucene outperforms MySQL, BerkeleyDB, and PostgreSQL for genome map searches
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Chris,

The limitation on huge genome map ranges is for display software (putting all
those features into an image a person can understand).  500Kb is about an
average viewable size, though some uses will draw on 1-10 Mb of data.  I used
a real-world test case that will be directly applicable to how fast biologists
get to see their interesting genes.   Some time maybe I'll benchmark bigger
ranges.  This use of Lucene for bio-data is perhaps not where can show its
advantage most dramatically (as noted the SQL databases are pretty good at
numeric searches and Lucene only edges them out by a nose:).  It is really
with the text (biology-jargon) rich literature, experimental data sets where
Lucene can really show its stuff.  Phrase searching of biology experimental
phrases is a good example - almost impossible to do easily with SQL systems (even
MySQL textsearch is weak here), and Lucene in my tests easily picks out
relevavnt biology phrases. Lion Bioscience's SRS is a widely used commercial
system that is text-search based, but it lacks phrase search ability.

-- Don
-- d.gilbert--bioinformatics--indiana-u--bloomington-in-47405
-- gilbertd@indiana.edu--http://marmot.bio.indiana.edu/

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16187-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 03 08:13:36 2005
Return-Path: <java-user-return-16187-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32397 invoked from network); 3 Sep 2005 08:13:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 Sep 2005 08:13:36 -0000
Received: (qmail 56267 invoked by uid 500); 3 Sep 2005 08:13:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 56234 invoked by uid 500); 3 Sep 2005 08:13:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 56221 invoked by uid 99); 3 Sep 2005 08:13:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 03 Sep 2005 01:13:30 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [70.84.109.20] (HELO box4.just-hosting.com) (70.84.109.20)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 03 Sep 2005 01:13:41 -0700
Received: from [81.213.189.125] (helo=[127.0.0.1])
	by box4.just-hosting.com with esmtpa (Exim 4.43)
	id 1EBTAb-0003yk-E8
	for java-user@lucene.apache.org; Sat, 03 Sep 2005 08:14:42 +0000
Message-ID: <43195AFD.202@axtelsoft.com>
Date: Sat, 03 Sep 2005 11:12:45 +0300
From: Ahmet Aksoy <ahmetax@axtelsoft.com>
Reply-To:  ahmetax@axtelsoft.com
Organization: Axtelsoft
User-Agent: Mozilla Thunderbird 1.0.2 (Windows/20050317)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Indexing problems in a dictionary
Content-Type: text/plain; charset=ISO-8859-9; format=flowed
Content-Transfer-Encoding: 7bit
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - box4.just-hosting.com
X-AntiAbuse: Original Domain - lucene.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - axtelsoft.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,
I'm using Lucene in an open source java project at 
http://belletmen.dev.java.net .
In the project there are several dictionaries with a simple structure. 
All items are composed of a "phrase", and a "definition". Both parts 
might contain a single word, or have lots of words.
Since both parts  might contain multiple  words,   I used the following:
    private Document buildDocument(SozlukBirimi birim){
        Document doc = new Document();
        doc.add(Field.Keyword("soz", birim.getSoz()));//soz means word 
in Turkish
        doc.add(Field.Text("soz1", birim.getSoz()));//the same as 
keyword part
        doc.add(Field.Text("anlam", birim.getAnlam()));//anlam means 
meaning in Turkish
        return doc;
    }
 As you can see, I used the first part both as a keyword field, and a 
text field. The reason is that the program will try to find phrases, or 
single words in the first part also.
At the first stages of the application, there were a single 
English-Turkish dictionary, and I had used an analyzer in which both 
English and Turkish stop words are included.
And, here my questions:
1- Do you think whether the above system is a good solution for a 
dictionary, or not?
2- I'm in hesitation now, about using stop words in a dictionary. What 
do you think?
3- I have a quite big timing problem. For a 107155 items of an 
English-English dictionary, it took 1436 seconds to complete the 
indexing on a 600MHz Pentium 4 Laptop with 256 MB of memory. Is it 
normal? Or, am I in a completely wrong way?
I'm waiting for your suggestions.
Thanks a lot.
Ahmet Aksoy


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16188-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 03 18:46:22 2005
Return-Path: <java-user-return-16188-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 42199 invoked from network); 3 Sep 2005 18:46:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 Sep 2005 18:46:21 -0000
Received: (qmail 84549 invoked by uid 500); 3 Sep 2005 18:46:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84506 invoked by uid 500); 3 Sep 2005 18:46:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84493 invoked by uid 99); 3 Sep 2005 18:46:15 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 03 Sep 2005 11:46:15 -0700
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.109.24.21] (HELO smtp-vbr1.xs4all.nl) (194.109.24.21)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 03 Sep 2005 11:46:28 -0700
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr1.xs4all.nl (8.13.3/8.13.3) with ESMTP id j83IkBPv008790
	for <java-user@lucene.apache.org>; Sat, 3 Sep 2005 20:46:12 +0200 (CEST)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: Indexing problems in a dictionary
Date: Sat, 3 Sep 2005 20:46:11 +0200
User-Agent: KMail/1.5.4
References: <43195AFD.202@axtelsoft.com>
In-Reply-To: <43195AFD.202@axtelsoft.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-9"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200509032046.11635.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Ahmet,

On Saturday 03 September 2005 10:12, Ahmet Aksoy wrote:
> Hi,
> I'm using Lucene in an open source java project at 
> http://belletmen.dev.java.net .
> In the project there are several dictionaries with a simple structure. 
> All items are composed of a "phrase", and a "definition". Both parts 
> might contain a single word, or have lots of words.
> Since both parts  might contain multiple  words,   I used the following:
>     private Document buildDocument(SozlukBirimi birim){
>         Document doc = new Document();
>         doc.add(Field.Keyword("soz", birim.getSoz()));//soz means word 
> in Turkish
>         doc.add(Field.Text("soz1", birim.getSoz()));//the same as 
> keyword part
>         doc.add(Field.Text("anlam", birim.getAnlam()));//anlam means 
> meaning in Turkish
>         return doc;
>     }
>  As you can see, I used the first part both as a keyword field, and a 
> text field. The reason is that the program will try to find phrases, or 
> single words in the first part also.
> At the first stages of the application, there were a single 
> English-Turkish dictionary, and I had used an analyzer in which both 
> English and Turkish stop words are included.
> And, here my questions:
> 1- Do you think whether the above system is a good solution for a 
> dictionary, or not?

Keyword is used for searching exactly the same term, and this is normally
reserved for things like a primary key. When the word (soz) has that role,
it is ok. One way to determine a primary key is to consider how to
delete a Document from the index.

In case you anticipate searching on both the words and their meanings,
you might also consider to index them concatenated together in another field.

> 2- I'm in hesitation now, about using stop words in a dictionary. What 
> do you think?

For the word field, they are needed, stopwords are words.
For the meaning field, you need to determine whether stopwords are
necessary in the index.
It is possible to use a different analyzer per field.

> 3- I have a quite big timing problem. For a 107155 items of an 
> English-English dictionary, it took 1436 seconds to complete the 
> indexing on a 600MHz Pentium 4 Laptop with 256 MB of memory. Is it 
> normal? Or, am I in a completely wrong way?

Since each entry is probably rather small, it is possible to keep many
of them in RAM before writing them to disk during index building.
You could try and increase IndexWriter.minMergeFactor first
and consider the other merge factors of IndexWriter there later.

Regards,
Paul Elschot


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16189-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 03 20:16:12 2005
Return-Path: <java-user-return-16189-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 59502 invoked from network); 3 Sep 2005 20:16:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 Sep 2005 20:16:11 -0000
Received: (qmail 19564 invoked by uid 500); 3 Sep 2005 20:16:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19542 invoked by uid 500); 3 Sep 2005 20:16:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19528 invoked by uid 99); 3 Sep 2005 20:16:07 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 03 Sep 2005 13:16:07 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [212.247.155.161] (HELO swip.net) (212.247.155.161)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 03 Sep 2005 13:16:20 -0700
X-T2-Posting-ID: BjP/VPIhrta35NvfgpYBhA==
Received: from [83.72.128.240] (HELO [127.0.0.1])
  by mailfe14.swip.net (CommuniGate Pro SMTP 4.3.4)
  with ESMTP id 15306836 for java-user@lucene.apache.org; Sat, 03 Sep 2005 22:16:02 +0200
Message-ID: <431A047A.5040606@nable.dk>
Date: Sat, 03 Sep 2005 22:15:54 +0200
From: Filip Anselm <filip@nable.dk>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: How to search between dates?
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi

If I add a Field with a date to all my indexed documents... how can I
then search and only get the hits where the date Field is between two
specified dates??

Thank you in advance!

Filip


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16190-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 03 21:07:59 2005
Return-Path: <java-user-return-16190-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65700 invoked from network); 3 Sep 2005 21:07:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 Sep 2005 21:07:59 -0000
Received: (qmail 43227 invoked by uid 500); 3 Sep 2005 21:07:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43197 invoked by uid 500); 3 Sep 2005 21:07:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43184 invoked by uid 99); 3 Sep 2005 21:07:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 03 Sep 2005 14:07:55 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.201.77] (HELO web31115.mail.mud.yahoo.com) (68.142.201.77)
    by apache.org (qpsmtpd/0.29) with SMTP; Sat, 03 Sep 2005 14:08:08 -0700
Received: (qmail 86788 invoked by uid 60001); 3 Sep 2005 21:07:52 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=EoOB2/JMhrMqZWrgcOHuX+dikOWFYDG4j+yXPHa0nTEKJmSBgHmvO1JXUfci8mHhcEv6m1iLgPzgBYsn+29oRJuUqPvUq6Pqr3M0In1L4nndOKTVMkCP/kvH35ZoP54Ki7PPj59f5CIbRlzwPk5ojiTPBpqWICv6kQLZo1zYQKY=  ;
Message-ID: <20050903210752.86785.qmail@web31115.mail.mud.yahoo.com>
Received: from [69.201.142.21] by web31115.mail.mud.yahoo.com via HTTP; Sat, 03 Sep 2005 14:07:52 PDT
Date: Sat, 3 Sep 2005 14:07:52 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: How to search between dates?
To: java-user@lucene.apache.org
In-Reply-To: <431A047A.5040606@nable.dk>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

You can use the date range query. See:
http://lucene.apache.org/java/docs/queryparsersyntax.html
http://www.lucenebook.com/search?query=range+query

Otis

--- Filip Anselm <filip@nable.dk> wrote:

> Hi
> 
> If I add a Field with a date to all my indexed documents... how can I
> then search and only get the hits where the date Field is between two
> specified dates??
> 
> Thank you in advance!
> 
> Filip
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16191-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 03 21:14:21 2005
Return-Path: <java-user-return-16191-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 66393 invoked from network); 3 Sep 2005 21:14:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 Sep 2005 21:14:21 -0000
Received: (qmail 45872 invoked by uid 500); 3 Sep 2005 21:14:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45845 invoked by uid 500); 3 Sep 2005 21:14:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45832 invoked by uid 99); 3 Sep 2005 21:14:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 03 Sep 2005 14:14:17 -0700
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=FROM_ENDS_IN_NUMS,HTML_30_40,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of chenjian1227@gmail.com designates 64.233.170.204 as permitted sender)
Received: from [64.233.170.204] (HELO rproxy.gmail.com) (64.233.170.204)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 03 Sep 2005 14:14:31 -0700
Received: by rproxy.gmail.com with SMTP id 1so171749rny
        for <java-user@lucene.apache.org>; Sat, 03 Sep 2005 14:14:16 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=gk6KiVXPSuImh6kVs6j6Fm7Htb6c7IbYJYe1cufIcGSXtwFFRCY4TbKOQ76J1x7ebdljQ0VObvVQBORGkNza1KXZ20ORoInv6ob3UG+sw49i9gNu8nil4x2VV9Da51s9/pjGGgwJXYvYmOy81FI3iihqI4ibdBwH5E7wVInfdBI=
Received: by 10.38.3.80 with SMTP id 80mr6233rnc;
        Sat, 03 Sep 2005 14:14:15 -0700 (PDT)
Received: by 10.38.8.79 with HTTP; Sat, 3 Sep 2005 14:14:15 -0700 (PDT)
Message-ID: <7ca1239105090314142709ffcf@mail.gmail.com>
Date: Sat, 3 Sep 2005 14:14:15 -0700
From: jian chen <chenjian1227@gmail.com>
Reply-To: chenjian1227@gmail.com
To: java-user@lucene.apache.org
Subject: Re: How to search between dates?
In-Reply-To: <20050903210752.86785.qmail@web31115.mail.mud.yahoo.com>
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_4511_26224333.1125782055901"
References: <431A047A.5040606@nable.dk>
	 <20050903210752.86785.qmail@web31115.mail.mud.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_4511_26224333.1125782055901
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi,=20

The other way maybe, store the date in a separate database, like derby=20
embeded database. Then, do a joint query between the Lucene result and the=
=20
derby database select result, and merge the two result set into one by=20
handing coding a database intersection like type of operation.

Just a thought but I am looking into using derby to store all the=20
numeric/date data that requires range query, and only store in Lucene the=
=20
free text data. Then, using a primary key to associate the two.=20

Since typically, range query is best handled by B+ tree indexing, so, that=
=20
is why I want to give derby a try and see how to best integrate it with=20
Lucene.

Cheers,

Jian

On 9/3/05, Otis Gospodnetic <otis_gospodnetic@yahoo.com> wrote:
>=20
> You can use the date range query. See:
> http://lucene.apache.org/java/docs/queryparsersyntax.html
> http://www.lucenebook.com/search?query=3Drange+query
>=20
> Otis
>=20
> --- Filip Anselm <filip@nable.dk> wrote:
>=20
> > Hi
> >
> > If I add a Field with a date to all my indexed documents... how can I
> > then search and only get the hits where the date Field is between two
> > specified dates??
> >
> > Thank you in advance!
> >
> > Filip
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>

------=_Part_4511_26224333.1125782055901--

From java-user-return-16192-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 03 21:34:07 2005
Return-Path: <java-user-return-16192-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 69932 invoked from network); 3 Sep 2005 21:34:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 3 Sep 2005 21:34:07 -0000
Received: (qmail 61750 invoked by uid 500); 3 Sep 2005 21:34:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 61721 invoked by uid 500); 3 Sep 2005 21:34:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 61707 invoked by uid 99); 3 Sep 2005 21:34:02 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 03 Sep 2005 14:34:01 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [70.84.109.20] (HELO box4.just-hosting.com) (70.84.109.20)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 03 Sep 2005 14:34:15 -0700
Received: from [81.213.189.125] (helo=[127.0.0.1])
	by box4.just-hosting.com with esmtpa (Exim 4.43)
	id 1EBffT-0000rj-Nl
	for java-user@lucene.apache.org; Sat, 03 Sep 2005 21:35:20 +0000
Message-ID: <431A16B2.5010400@axtelsoft.com>
Date: Sun, 04 Sep 2005 00:33:38 +0300
From: Ahmet Aksoy <ahmetax@axtelsoft.com>
Reply-To:  ahmetax@axtelsoft.com
Organization: Axtelsoft
User-Agent: Mozilla Thunderbird 1.0.2 (Windows/20050317)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Indexing problems in a dictionary
References: <43195AFD.202@axtelsoft.com> <200509032046.11635.paul.elschot@xs4all.nl>
In-Reply-To: <200509032046.11635.paul.elschot@xs4all.nl>
Content-Type: text/plain; charset=ISO-8859-9; format=flowed
Content-Transfer-Encoding: 7bit
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - box4.just-hosting.com
X-AntiAbuse: Original Domain - lucene.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - axtelsoft.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Paul,

I decided to use a minimum number of stop words in my application. I 
hope, it will work better.

According to your suggestion, I made a few trials, and found my optimum 
values.

The following values look like best in my case:
mergeFactor = 100;
minMergeDocs = 500;
maxMergeDocs = 1000;

Now, indexing is performed 8 to 30 times faster than before.
Thanks a lot.
Ahmet Aksoy

Paul Elschot wrote:

>Ahmet,
>
>On Saturday 03 September 2005 10:12, Ahmet Aksoy wrote:
>  
>
>>Hi,
>>I'm using Lucene in an open source java project at 
>>http://belletmen.dev.java.net .
>>In the project there are several dictionaries with a simple structure. 
>>All items are composed of a "phrase", and a "definition". Both parts 
>>might contain a single word, or have lots of words.
>>Since both parts  might contain multiple  words,   I used the following:
>>    private Document buildDocument(SozlukBirimi birim){
>>        Document doc = new Document();
>>        doc.add(Field.Keyword("soz", birim.getSoz()));//soz means word 
>>in Turkish
>>        doc.add(Field.Text("soz1", birim.getSoz()));//the same as 
>>keyword part
>>        doc.add(Field.Text("anlam", birim.getAnlam()));//anlam means 
>>meaning in Turkish
>>        return doc;
>>    }
>> As you can see, I used the first part both as a keyword field, and a 
>>text field. The reason is that the program will try to find phrases, or 
>>single words in the first part also.
>>At the first stages of the application, there were a single 
>>English-Turkish dictionary, and I had used an analyzer in which both 
>>English and Turkish stop words are included.
>>And, here my questions:
>>1- Do you think whether the above system is a good solution for a 
>>dictionary, or not?
>>    
>>
>
>Keyword is used for searching exactly the same term, and this is normally
>reserved for things like a primary key. When the word (soz) has that role,
>it is ok. One way to determine a primary key is to consider how to
>delete a Document from the index.
>
>In case you anticipate searching on both the words and their meanings,
>you might also consider to index them concatenated together in another field.
>
>  
>
>>2- I'm in hesitation now, about using stop words in a dictionary. What 
>>do you think?
>>    
>>
>
>For the word field, they are needed, stopwords are words.
>For the meaning field, you need to determine whether stopwords are
>necessary in the index.
>It is possible to use a different analyzer per field.
>
>  
>
>>3- I have a quite big timing problem. For a 107155 items of an 
>>English-English dictionary, it took 1436 seconds to complete the 
>>indexing on a 600MHz Pentium 4 Laptop with 256 MB of memory. Is it 
>>normal? Or, am I in a completely wrong way?
>>    
>>
>
>Since each entry is probably rather small, it is possible to keep many
>of them in RAM before writing them to disk during index building.
>You could try and increase IndexWriter.minMergeFactor first
>and consider the other merge factors of IndexWriter there later.
>
>Regards,
>Paul Elschot
>
>
>  
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16193-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Sep 04 07:11:19 2005
Return-Path: <java-user-return-16193-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 26145 invoked from network); 4 Sep 2005 07:11:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Sep 2005 07:11:19 -0000
Received: (qmail 97287 invoked by uid 500); 4 Sep 2005 07:11:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 97260 invoked by uid 500); 4 Sep 2005 07:11:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 97247 invoked by uid 99); 4 Sep 2005 07:11:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Sep 2005 00:11:14 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [212.247.155.129] (HELO swip.net) (212.247.155.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Sep 2005 00:11:27 -0700
X-T2-Posting-ID: BjP/VPIhrta35NvfgpYBhA==
Received: from [83.72.128.240] (HELO [127.0.0.1])
  by mailfe13.swip.net (CommuniGate Pro SMTP 4.3.4)
  with ESMTP id 15868822 for java-user@lucene.apache.org; Sun, 04 Sep 2005 09:11:08 +0200
Message-ID: <431A9E04.7020203@nable.dk>
Date: Sun, 04 Sep 2005 09:11:00 +0200
From: Filip Anselm <filip@nable.dk>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Mailing list <java-user@lucene.apache.org>
Subject: Re: How to search between dates?
References: <431A047A.5040606@nable.dk>	 <20050903210752.86785.qmail@web31115.mail.mud.yahoo.com> <7ca1239105090314142709ffcf@mail.gmail.com>
In-Reply-To: <7ca1239105090314142709ffcf@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

jian => I'll try the RangeQuery first, and if it doesn't give any
perfomance problems I'll just stick to that method - it's easy, simple
and doens't involve other systems. But thanks for info...

How do I combine two queries - one made by the QueryParser and the
programmatically made RangeQuery?

Filip

jian chen wrote:

>Hi, 
>
>The other way maybe, store the date in a separate database, like derby 
>embeded database. Then, do a joint query between the Lucene result and the 
>derby database select result, and merge the two result set into one by 
>handing coding a database intersection like type of operation.
>
>Just a thought but I am looking into using derby to store all the 
>numeric/date data that requires range query, and only store in Lucene the 
>free text data. Then, using a primary key to associate the two. 
>
>Since typically, range query is best handled by B+ tree indexing, so, that 
>is why I want to give derby a try and see how to best integrate it with 
>Lucene.
>
>Cheers,
>
>Jian
>
>On 9/3/05, Otis Gospodnetic <otis_gospodnetic@yahoo.com> wrote:
>  
>
>>You can use the date range query. See:
>>http://lucene.apache.org/java/docs/queryparsersyntax.html
>>http://www.lucenebook.com/search?query=range+query
>>
>>Otis
>>
>>--- Filip Anselm <filip@nable.dk> wrote:
>>
>>    
>>
>>>Hi
>>>
>>>If I add a Field with a date to all my indexed documents... how can I
>>>then search and only get the hits where the date Field is between two
>>>specified dates??
>>>
>>>Thank you in advance!
>>>
>>>Filip
>>>
>>>
>>>---------------------------------------------------------------------
>>>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>>For additional commands, e-mail: java-user-help@lucene.apache.org
>>>
>>>
>>>      
>>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>>    
>>
>
>  
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16194-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Sep 04 07:41:41 2005
Return-Path: <java-user-return-16194-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 36305 invoked from network); 4 Sep 2005 07:41:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Sep 2005 07:41:40 -0000
Received: (qmail 5968 invoked by uid 500); 4 Sep 2005 07:41:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5938 invoked by uid 500); 4 Sep 2005 07:41:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5923 invoked by uid 99); 4 Sep 2005 07:41:36 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Sep 2005 00:41:36 -0700
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Sep 2005 00:41:50 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id EAD175B7A5; Sun,  4 Sep 2005 00:41:31 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id E7DBF7F466
	for <java-user@lucene.apache.org>; Sun,  4 Sep 2005 00:41:31 -0700 (PDT)
Date: Sun, 4 Sep 2005 00:41:31 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: Lucene Mailing list <java-user@lucene.apache.org>
Subject: Re: How to search between dates?
In-Reply-To: <431A9E04.7020203@nable.dk>
Message-ID: <Pine.LNX.4.58.0509040036050.12657@hal.rescomp.berkeley.edu>
References: <431A047A.5040606@nable.dk>  <20050903210752.86785.qmail@web31115.mail.mud.yahoo.com>
 <7ca1239105090314142709ffcf@mail.gmail.com> <431A9E04.7020203@nable.dk>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: How do I combine two queries - one made by the QueryParser and the
: programmatically made RangeQuery?

you could make them both children of a single BooleanQuery, but as long as
you're going to write a little java code to put them together -- why not
use a DateFilter instead?

http://lucene.apache.org/java/docs/api/org/apache/lucene/search/DateFilter.html

...it's more efficient then a RangeQuery, it doesn't have the same
"TooManyCLauses" limitations as a RangeQuery, and it would artificially
affect the score of your results.




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16195-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Sep 04 10:56:01 2005
Return-Path: <java-user-return-16195-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65523 invoked from network); 4 Sep 2005 10:56:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Sep 2005 10:56:00 -0000
Received: (qmail 73347 invoked by uid 500); 4 Sep 2005 10:55:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73275 invoked by uid 500); 4 Sep 2005 10:55:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73260 invoked by uid 99); 4 Sep 2005 10:55:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Sep 2005 03:55:56 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [212.247.155.129] (HELO swip.net) (212.247.155.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Sep 2005 03:56:10 -0700
X-T2-Posting-ID: BjP/VPIhrta35NvfgpYBhA==
Received: from [83.72.128.240] (HELO [127.0.0.1])
  by mailfe13.swip.net (CommuniGate Pro SMTP 4.3.4)
  with ESMTP id 15929701 for java-user@lucene.apache.org; Sun, 04 Sep 2005 12:55:48 +0200
Message-ID: <431AD2AC.2030807@nable.dk>
Date: Sun, 04 Sep 2005 12:55:40 +0200
From: Filip Anselm <filip@nable.dk>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: How to search between dates?
References: <431A047A.5040606@nable.dk>  <20050903210752.86785.qmail@web31115.mail.mud.yahoo.com> <7ca1239105090314142709ffcf@mail.gmail.com> <431A9E04.7020203@nable.dk> <Pine.LNX.4.58.0509040036050.12657@hal.rescomp.berkeley.edu>
In-Reply-To: <Pine.LNX.4.58.0509040036050.12657@hal.rescomp.berkeley.edu>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

DateFilter sounds great!! - But how is the best way to store dates in af
Field? I get the time as a unix time stamp, seconds since epoch - and
usually I can cut it down to hours or days since ephoc instead - if this
has any effect on the perfomance...

thanks...

Chris Hostetter wrote:

>: How do I combine two queries - one made by the QueryParser and the
>: programmatically made RangeQuery?
>
>you could make them both children of a single BooleanQuery, but as long as
>you're going to write a little java code to put them together -- why not
>use a DateFilter instead?
>
>http://lucene.apache.org/java/docs/api/org/apache/lucene/search/DateFilter.html
>
>...it's more efficient then a RangeQuery, it doesn't have the same
>"TooManyCLauses" limitations as a RangeQuery, and it would artificially
>affect the score of your results.
>
>
>
>
>-Hoss
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>  
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16196-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Sep 04 16:22:33 2005
Return-Path: <java-user-return-16196-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30357 invoked from network); 4 Sep 2005 16:22:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Sep 2005 16:22:33 -0000
Received: (qmail 7833 invoked by uid 500); 4 Sep 2005 16:22:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7791 invoked by uid 500); 4 Sep 2005 16:22:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7778 invoked by uid 99); 4 Sep 2005 16:22:28 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Sep 2005 09:22:28 -0700
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=HTML_00_10,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jeff.rodenburg@gmail.com designates 64.233.184.193 as permitted sender)
Received: from [64.233.184.193] (HELO wproxy.gmail.com) (64.233.184.193)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Sep 2005 09:22:41 -0700
Received: by wproxy.gmail.com with SMTP id i25so295064wra
        for <java-user@lucene.apache.org>; Sun, 04 Sep 2005 09:22:26 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type;
        b=kt6CLrtvm9DSaFOGJlMF+6Ys2UcGsNwdEnKqJTpKySYlX38GQ/kGLS4f980f0ldX26uD9ZccadG7HRpiGPf1K2z0xRF5ZLYFHEbDFPLd0jO0YDs9ceS505x+SXOP14saqT8HCeolQqwHabXpVI64OOQknZh5AfFR3UJkfcZWEzk=
Received: by 10.54.33.26 with SMTP id g26mr3205711wrg;
        Sun, 04 Sep 2005 09:22:26 -0700 (PDT)
Received: by 10.54.13.32 with HTTP; Sun, 4 Sep 2005 09:22:26 -0700 (PDT)
Message-ID: <50f4333605090409227d344d2a@mail.gmail.com>
Date: Sun, 4 Sep 2005 09:22:26 -0700
From: Jeff Rodenburg <jeff.rodenburg@gmail.com>
Reply-To: jeff.rodenburg@gmail.com
To: java-user@lucene.apache.org
Subject: "Right" combination of analyzers for indexing and searching
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_685_17281271.1125850946352"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_685_17281271.1125850946352
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Question to those who've deployed and maintained Lucene: any recommendation=
s=20
or observations about practical decisions regarding analyzer choice in=20
indexing & searching? What have you found in operation to work well, become=
=20
difficult, yield better/worse results, affect performance, etc.? What would=
=20
you do differently if you were starting from scratch?

Cheers from sunny Seattle,
jeff r.

------=_Part_685_17281271.1125850946352--

From java-user-return-16197-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Sep 04 17:01:22 2005
Return-Path: <java-user-return-16197-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 38525 invoked from network); 4 Sep 2005 17:01:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Sep 2005 17:01:22 -0000
Received: (qmail 30268 invoked by uid 500); 4 Sep 2005 17:01:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30243 invoked by uid 500); 4 Sep 2005 17:01:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30230 invoked by uid 99); 4 Sep 2005 17:01:18 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Sep 2005 10:01:18 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=TO_ADDRESS_EQ_REAL
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [148.87.122.31] (HELO rgminet02.oracle.com) (148.87.122.31)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Sep 2005 10:01:31 -0700
Received: from rgmsgw300.us.oracle.com (rgmsgw300.us.oracle.com [138.1.186.49])
	by rgminet02.oracle.com (Switch-3.1.6/Switch-3.1.7) with ESMTP id j84H1Fwt029796
	for <java-user@lucene.apache.org>; Sun, 4 Sep 2005 11:01:15 -0600
Received: from rgmsgw300.us.oracle.com (localhost [127.0.0.1])
	by rgmsgw300.us.oracle.com (Switch-3.1.7/Switch-3.1.7) with ESMTP id j84H1ELW010098
	for <java-user@lucene.apache.org>; Sun, 4 Sep 2005 11:01:14 -0600
Received: from us.oracle.com (dhcp-4op5-4op6-west-144-25-174-214.us.oracle.com [144.25.174.214])
	by rgmsgw300.us.oracle.com (Switch-3.1.7/Switch-3.1.7) with ESMTP id j84H1DJd010091
	(version=TLSv1/SSLv3 cipher=EDH-RSA-DES-CBC3-SHA bits=168 verify=NO)
	for <java-user@lucene.apache.org>; Sun, 4 Sep 2005 11:01:14 -0600
From: houyang <hui.ouyang@oracle.com>
Reply-To: "hui.ouyang@oracle.com" <hui.ouyang@oracle.com>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Subject: RE: How to search between dates?
Date: Sun, 4 Sep 2005 10:00:17 -0700
Organization: st
In-Reply-To: <431AD2AC.2030807@nable.dk>
X-Mailer: Oracle Connector for Outlook 10.1.1.0.2 70418 (11.0.5608)
Message-ID: <20050904100017546.00000004708@huixp>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: quoted-printable
X-Brightmail-Tracker: AAAAAQAAAAI=
X-Whitelist: TRUE
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

"YYYYMMDD" is better since it has less number unique terms compared with th=
e unix time stamp if you only care about the days.

-----Original Message-----
From: Filip Anselm [mailto:filip@nable.dk] =

Sent: Sunday, September 04, 2005 3:56 AM
To: java-user@lucene.apache.org
Subject: Re: How to search between dates?

DateFilter sounds great!! - But how is the best way to store dates in af
Field? I get the time as a unix time stamp, seconds since epoch - and
usually I can cut it down to hours or days since ephoc instead - if this
has any effect on the perfomance...

thanks...

Chris Hostetter wrote:

>: How do I combine two queries - one made by the QueryParser and the
>: programmatically made RangeQuery?
>
>you could make them both children of a single BooleanQuery, but as long as=

>you're going to write a little java code to put them together -- why not
>use a DateFilter instead?
>
>http://lucene.apache.org/java/docs/api/org/apache/lucene/search/DateFilter=
.html
>
>...it's more efficient then a RangeQuery, it doesn't have the same
>"TooManyCLauses" limitations as a RangeQuery, and it would artificially
>affect the score of your results.
>
>
>
>
>-Hoss
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16198-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Sep 04 18:42:40 2005
Return-Path: <java-user-return-16198-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 56690 invoked from network); 4 Sep 2005 18:42:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Sep 2005 18:42:40 -0000
Received: (qmail 69353 invoked by uid 500); 4 Sep 2005 18:42:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69318 invoked by uid 500); 4 Sep 2005 18:42:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 69303 invoked by uid 99); 4 Sep 2005 18:42:36 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Sep 2005 11:42:36 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of sean@oconeco.com designates 216.239.128.26 as permitted sender)
Received: from [216.239.128.26] (HELO smtp.omnis.com) (216.239.128.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Sep 2005 11:42:49 -0700
Received: from [127.0.0.1] (68-235-161-43.chvlva.adelphia.net [68.235.161.43])
	by smtp-relay.omnis.com (Postfix) with ESMTP id 9A50514077EC
	for <java-user@lucene.apache.org>; Sun,  4 Sep 2005 11:42:31 -0700 (PDT)
Message-ID: <431B4041.7020601@oconeco.com>
Date: Sun, 04 Sep 2005 14:43:13 -0400
From: Sean O'Connor <sean@oconeco.com>
User-Agent: Mozilla Thunderbird 1.0.2 (Windows/20050317)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Can Span Queries contain boolean, prefix and other component queries?
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,
    I am trying to do some complex queries such as:

[Field contents]
The movie Napoleon Dynamite is a movie about a kid named Napoleon who 
has no Dynamite.

[Query]
"Napol* Dynamite" near "film|movie"


    Is this possible with some version of a span query? Something like a 
PhrasePrefixQuery joined to a BooleanQuery by a SpanNearQuery?

    If not, does anyone have a suggestion on how to do this? I am 
assuming I will need to do two queries, and determine the 'nearness' of 
the resulting hits myself.
Thanks,

Sean



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16199-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Sep 04 19:11:56 2005
Return-Path: <java-user-return-16199-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 61344 invoked from network); 4 Sep 2005 19:11:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Sep 2005 19:11:56 -0000
Received: (qmail 80988 invoked by uid 500); 4 Sep 2005 19:11:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80957 invoked by uid 500); 4 Sep 2005 19:11:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80944 invoked by uid 99); 4 Sep 2005 19:11:52 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Sep 2005 12:11:52 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of sean@oconeco.com designates 216.239.128.26 as permitted sender)
Received: from [216.239.128.26] (HELO smtp.omnis.com) (216.239.128.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Sep 2005 12:12:05 -0700
Received: from [127.0.0.1] (68-235-161-43.chvlva.adelphia.net [68.235.161.43])
	by smtp-relay.omnis.com (Postfix) with ESMTP id 9AB9720068AB
	for <java-user@lucene.apache.org>; Sun,  4 Sep 2005 12:11:49 -0700 (PDT)
Message-ID: <431B4720.1090300@oconeco.com>
Date: Sun, 04 Sep 2005 15:12:32 -0400
From: Sean O'Connor <sean@oconeco.com>
User-Agent: Mozilla Thunderbird 1.0.2 (Windows/20050317)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Phrase frequency
References: <29788b2505090207325a920779@mail.gmail.com>
In-Reply-To: <29788b2505090207325a920779@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I believe the index just contains information about single terms. A 
PhraseQuery then searches the index for the parts of the phrase and 
returns the hit information.

So, as far as I understand, there is no way to get the frequency of 
phrase directly from an index, but you could create a PhraseQuery, and 
use an IndexSearcher to return the Hits. That will provide only weighted 
hit scores, which does not sound like what you want.

This may be similar to a question I posted back on June 16th. Paul 
Elschot was kind enough to give me feedback. Search for that in the 
archives, or try this link:
http://mail-archives.apache.org/mod_mbox/lucene-java-user/200506.mbox/%3c200506162239.53497.paul.elschot@xs4all.nl%3e

In summary, he suggests modify (extend?) PhraseQuery and 
ExactPhraseScorer. I have gotten sidelined on trying to get character 
positions for hits, so have not completed his suggested implementation. 
If I do, I would be happy to share.
Good luck, and feel free to post anything you think might be helpful if 
you implement something.

Sean


Fabio Cristiano dos Anjos wrote:

>Hi,
>
>How can I get phrase frequency in an index?
>
>Thanks in advance!!
>  
>



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16200-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Sep 04 20:12:07 2005
Return-Path: <java-user-return-16200-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 75822 invoked from network); 4 Sep 2005 20:12:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Sep 2005 20:12:07 -0000
Received: (qmail 6764 invoked by uid 500); 4 Sep 2005 20:12:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6738 invoked by uid 500); 4 Sep 2005 20:12:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6725 invoked by uid 99); 4 Sep 2005 20:12:02 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Sep 2005 13:12:02 -0700
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.109.24.34] (HELO smtp-vbr14.xs4all.nl) (194.109.24.34)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Sep 2005 13:12:16 -0700
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr14.xs4all.nl (8.13.3/8.13.3) with ESMTP id j84KBxoA041185
	for <java-user@lucene.apache.org>; Sun, 4 Sep 2005 22:11:59 +0200 (CEST)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: Can Span Queries contain boolean, prefix and other component queries?
Date: Sun, 4 Sep 2005 22:11:59 +0200
User-Agent: KMail/1.5.4
References: <431B4041.7020601@oconeco.com>
In-Reply-To: <431B4041.7020601@oconeco.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200509042211.59469.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Sean,

On Sunday 04 September 2005 20:43, Sean O'Connor wrote:
> Hello,
>     I am trying to do some complex queries such as:
> 
> [Field contents]
> The movie Napoleon Dynamite is a movie about a kid named Napoleon who 
> has no Dynamite.
> 
> [Query]
> "Napol* Dynamite" near "film|movie"
> 
> 
>     Is this possible with some version of a span query? Something like a 
> PhrasePrefixQuery joined to a BooleanQuery by a SpanNearQuery?

This can be done using nested SpanNearQuery's and SpanOrQuery's.
A PhrasePrefixQuery can not be used as a SpanQuery.

>     If not, does anyone have a suggestion on how to do this? I am 
> assuming I will need to do two queries, and determine the 'nearness' of 
> the resulting hits myself.
> Thanks,

You can do this using the surround query language:

(Napol* w dynamite) n (film or movie)

The surround parser will construct the nested span queries.
The surround query language is in the contrib/surround directory
in the development version. The most striking difference with
the lucene standard query language is that all operators 
have to be given explicitly, there is no implicit 'and' or 'or'.

Regards,
Paul Elschot


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16201-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Sep 04 21:20:27 2005
Return-Path: <java-user-return-16201-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89177 invoked from network); 4 Sep 2005 21:20:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Sep 2005 21:20:26 -0000
Received: (qmail 43321 invoked by uid 500); 4 Sep 2005 21:20:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43289 invoked by uid 500); 4 Sep 2005 21:20:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43276 invoked by uid 99); 4 Sep 2005 21:20:22 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Sep 2005 14:20:22 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.201.75] (HELO web31113.mail.mud.yahoo.com) (68.142.201.75)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 04 Sep 2005 14:20:34 -0700
Received: (qmail 21591 invoked by uid 60001); 4 Sep 2005 21:20:18 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=sWhjhaNt7vgbYKOuxD8lfaoMg2G/1faSF09XTLPMHNlzV3x2qsZk0T8jiA0NWxhNjbXJ8nmL95DrmjUGsGiox5WFH3juknfy/qX2PwI5WUHFuUL/g8l7kC/1IDjegEJQ4MuDpD+f8heeI04JG//IyzYjbmOzjPdo7Hk2Q2YRZeQ=  ;
Message-ID: <20050904212018.21589.qmail@web31113.mail.mud.yahoo.com>
Received: from [69.201.142.21] by web31113.mail.mud.yahoo.com via HTTP; Sun, 04 Sep 2005 14:20:18 PDT
Date: Sun, 4 Sep 2005 14:20:18 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: "Right" combination of analyzers for indexing and searching
To: java-user@lucene.apache.org, jeff.rodenburg@gmail.com
In-Reply-To: <50f4333605090409227d344d2a@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Jeff,

This is a tough question to answer, because there is no universal
answer.  The choice of Analyzer depends on what/how you are trying to
index/search.  I've used analyzers from the Lucene distributions, but
have also written specialized ones.  My suggestion for you is to start
with the StandardAnalyzer, as it covers most users' needs.  Then, if
you encounter problems, come back with the description of the problem,
and we'll try helping.

Otis


--- Jeff Rodenburg <jeff.rodenburg@gmail.com> wrote:

> Question to those who've deployed and maintained Lucene: any
> recommendations 
> or observations about practical decisions regarding analyzer choice
> in 
> indexing & searching? What have you found in operation to work well,
> become 
> difficult, yield better/worse results, affect performance, etc.? What
> would 
> you do differently if you were starting from scratch?
> 
> Cheers from sunny Seattle,
> jeff r.
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16202-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Sep 04 22:17:55 2005
Return-Path: <java-user-return-16202-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 99366 invoked from network); 4 Sep 2005 22:17:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Sep 2005 22:17:55 -0000
Received: (qmail 97885 invoked by uid 500); 4 Sep 2005 22:17:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 97839 invoked by uid 500); 4 Sep 2005 22:17:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 97811 invoked by uid 99); 4 Sep 2005 22:17:48 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Sep 2005 15:17:48 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of sean@oconeco.com designates 216.239.128.26 as permitted sender)
Received: from [216.239.128.26] (HELO smtp.omnis.com) (216.239.128.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Sep 2005 15:18:01 -0700
Received: from [127.0.0.1] (68-235-161-43.chvlva.adelphia.net [68.235.161.43])
	by smtp-relay.omnis.com (Postfix) with ESMTP id 6DB422006895
	for <java-user@lucene.apache.org>; Sun,  4 Sep 2005 15:17:46 -0700 (PDT)
Message-ID: <431B72B4.1090901@oconeco.com>
Date: Sun, 04 Sep 2005 18:18:28 -0400
From: Sean O'Connor <sean@oconeco.com>
User-Agent: Mozilla Thunderbird 1.0.2 (Windows/20050317)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Lucene contrib (surround), Subversion, and Eclipse
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,
    I am new to subversion, junit and the Lucene contrib repository. I 
am looking over the 'surround' project at the moment. If there is anyone 
out there with Eclipse experience who uses the contrib subversion (or 
cvs) repository could you look over my approach listed below?

I am using Eclipse (3.1.1) and have the Subclipse plugin.
I have connected to the repository at:
http://svn.apache.org/repos/asf
(no username or password)

I then navigate to
Lucene/java/trunk/contrib
and I see the 'surround' project.

I checked out
    'surround/java' into a java project named 'surround-java'
    'surround/test' into java project named 'surround-test'

I checked out  the Lucene source code into a java project named 'Lucene 
Source' (could have simply used a recent Lucene jar file I _think_)

I added the "Lucene Source" project as a required project for 
'surround-java' to resolve dependencies.

I added the "Lucene Source" project as a required project for 
'surround-test' to resolve dependencies.
I added junit.jar as an external library 'surround-test' to resolve 
dependencies.

This seemed to build clean, and I then ran a junit test (e.g. 
Test02Boolean.java) via 'Run as...' 'Junit Test' (Alt-Shift-X, T)

Everything (23/23) passed, so I think I have my environment set correctly.

Is there a more direct way to this? I assume the ant build.xml file 
would solve some of these issues, especially if I wanted to build 
several/all of the contrib projects. I was getting some errors with the 
build scripts, almost certainly due to my ignorance regarding ant build 
scripts.

I would be happy to post a revision of these steps if someone else might 
benefit from this information. I assume though that anyone (else) 
wanting to play with Lucene development code would already be familiar 
with these steps, so it's probably not an issue.
Thanks,

Sean




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16203-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Sep 04 22:31:29 2005
Return-Path: <java-user-return-16203-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2945 invoked from network); 4 Sep 2005 22:31:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Sep 2005 22:31:29 -0000
Received: (qmail 2753 invoked by uid 500); 4 Sep 2005 22:31:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2728 invoked by uid 500); 4 Sep 2005 22:31:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2715 invoked by uid 99); 4 Sep 2005 22:31:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Sep 2005 15:31:25 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [193.10.12.78] (HELO lynx.kb.se) (193.10.12.78)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Sep 2005 15:31:39 -0700
Received: from kb.se (localhost [127.0.0.1])
 by lynx.kb.se (iPlanet Messaging Server 5.2 Patch 1 (built Aug 19 2002))
 with ESMTP id <0IMB002H1CWQUD@lynx.kb.se> for java-user@lucene.apache.org;
 Mon, 05 Sep 2005 00:24:26 +0200 (CEST)
Received: from [80.216.241.103] by lynx.kb.se (mshttpd); Mon,
 05 Sep 2005 00:24:26 +0200
Date: Mon, 05 Sep 2005 00:24:26 +0200
From: Martin Malmsten-2 <marmal2@libris.kb.se>
Subject: SAME-opattor (possible newbie question)
To: java-user@lucene.apache.org
Reply-to: Martin.Malmsten@kb.se
Message-id: <46e0543778.4377846e05@kb.se>
MIME-version: 1.0
X-Mailer: iPlanet Messenger Express 5.2 Patch 1 (built Aug 19 2002)
Content-type: text/plain; charset=us-ascii
Content-language: en
Content-transfer-encoding: 7BIT
Content-disposition: inline
X-Accept-Language: en
Priority: normal
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Is there a way to tell Lucene to restrict proximity searches to just one field? This would mimic the BRS/Search SAME-operator, which I use very often.

For example, given this data:

author: a b c
author: d e f

a search for "a SAME c" would match the first row, but "a SAME d" would match nothing, which is what I want.

Is this possible?

Cheers,
  martin


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16204-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Sep 04 23:35:13 2005
Return-Path: <java-user-return-16204-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19161 invoked from network); 4 Sep 2005 23:35:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Sep 2005 23:35:13 -0000
Received: (qmail 37239 invoked by uid 500); 4 Sep 2005 23:35:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37202 invoked by uid 500); 4 Sep 2005 23:35:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37189 invoked by uid 99); 4 Sep 2005 23:35:08 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Sep 2005 16:35:08 -0700
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Sep 2005 16:35:21 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id EE8455B785; Sun,  4 Sep 2005 16:35:02 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id EB31C7F475
	for <java-user@lucene.apache.org>; Sun,  4 Sep 2005 16:35:02 -0700 (PDT)
Date: Sun, 4 Sep 2005 16:35:02 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: Lucene contrib (surround), Subversion, and Eclipse
In-Reply-To: <431B72B4.1090901@oconeco.com>
Message-ID: <Pine.LNX.4.58.0509041622530.20559@hal.rescomp.berkeley.edu>
References: <431B72B4.1090901@oconeco.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


I don't use Eclipse, (and in fac i've never acctaully built the from
source) but if i remember correctly, one of the main reasons why the
"sandbox" was retired and everything in it was moved to where it is in the
"contrib" directory was so Lucene and all of the "contrib"uted code could
be compiled as part of one larger project.

I believe that if instead of checking out
"lucene/java/trunk/contrib/surround/java" and
"lucene/java/trunk/contrib/surround/test" and treating them as seperate
projects, you mind find things a whole lot easier if you just checkout
"lucene/java/trunk" and treat that as one whole project.

lucene/java/trunk/build.xml has the targets "build-contrib" and
"test-contrib" which should do everything you need to do.

If for some reason you find that those are too general for your purposes,
there is also a single lucene/java/trunk/contrib/surround/build.xml file
that can be used directly for both building and testing just the surround
package, but it does require that
lucene/java/trunk/contrib/contrib-build.xml and some other files from
lucene/java/trunk/ are checked out, so you might as well just check out
the whole thing.

: Date: Sun, 04 Sep 2005 18:18:28 -0400
: From: Sean O'Connor <sean@oconeco.com>
: Reply-To: java-user@lucene.apache.org
: To: java-user@lucene.apache.org
: Subject: Lucene contrib (surround), Subversion, and Eclipse
:
: Hello,
:     I am new to subversion, junit and the Lucene contrib repository. I
: am looking over the 'surround' project at the moment. If there is anyone
: out there with Eclipse experience who uses the contrib subversion (or
: cvs) repository could you look over my approach listed below?
:
: I am using Eclipse (3.1.1) and have the Subclipse plugin.
: I have connected to the repository at:
: http://svn.apache.org/repos/asf
: (no username or password)
:
: I then navigate to
: Lucene/java/trunk/contrib
: and I see the 'surround' project.
:
: I checked out
:     'surround/java' into a java project named 'surround-java'
:     'surround/test' into java project named 'surround-test'
:
: I checked out  the Lucene source code into a java project named 'Lucene
: Source' (could have simply used a recent Lucene jar file I _think_)
:
: I added the "Lucene Source" project as a required project for
: 'surround-java' to resolve dependencies.
:
: I added the "Lucene Source" project as a required project for
: 'surround-test' to resolve dependencies.
: I added junit.jar as an external library 'surround-test' to resolve
: dependencies.
:
: This seemed to build clean, and I then ran a junit test (e.g.
: Test02Boolean.java) via 'Run as...' 'Junit Test' (Alt-Shift-X, T)
:
: Everything (23/23) passed, so I think I have my environment set correctly.
:
: Is there a more direct way to this? I assume the ant build.xml file
: would solve some of these issues, especially if I wanted to build
: several/all of the contrib projects. I was getting some errors with the
: build scripts, almost certainly due to my ignorance regarding ant build
: scripts.
:
: I would be happy to post a revision of these steps if someone else might
: benefit from this information. I assume though that anyone (else)
: wanting to play with Lucene development code would already be familiar
: with these steps, so it's probably not an issue.
: Thanks,
:
: Sean
:
:
:
:
: ---------------------------------------------------------------------
: To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: For additional commands, e-mail: java-user-help@lucene.apache.org
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16205-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Sep 04 23:43:24 2005
Return-Path: <java-user-return-16205-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22361 invoked from network); 4 Sep 2005 23:43:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 4 Sep 2005 23:43:24 -0000
Received: (qmail 41621 invoked by uid 500); 4 Sep 2005 23:43:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 41596 invoked by uid 500); 4 Sep 2005 23:43:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 41579 invoked by uid 99); 4 Sep 2005 23:43:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Sep 2005 16:43:20 -0700
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Sep 2005 16:43:33 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id C59175B7BA; Sun,  4 Sep 2005 16:43:17 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP
	id C3D297F475; Sun,  4 Sep 2005 16:43:17 -0700 (PDT)
Date: Sun, 4 Sep 2005 16:43:17 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org, Martin.Malmsten@kb.se
Subject: Re: SAME-opattor (possible newbie question)
In-Reply-To: <46e0543778.4377846e05@kb.se>
Message-ID: <Pine.LNX.4.58.0509041636540.20559@hal.rescomp.berkeley.edu>
References: <46e0543778.4377846e05@kb.se>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: For example, given this data:
:
: author: a b c
: author: d e f
:
: a search for "a SAME c" would match the first row, but "a SAME d" would
: match nothing, which is what I want.

if i understand you correctly, then you are describing a use case in which
the index has two documents, each containing a single field named "author"
one of which contains the tokens "a", "b", and "c" the other containing
"d", "e", and "f"

In that case, a lucene query for "+author:a +author:c" would return the
first document, but a query for "+author:a +author:d" would return no
results.

You should take a look at the QueryParser syntax documentation to get an
idea of the way simple searching works -- but please keep in mind that
document just explains the types of queries that can be done using the
very basic Parser provided by default with Lucene -- the scope of searches
you can execute if you progromatically generate Query objects is much
larger...

	http://lucene.apache.org/java/docs/queryparsersyntax.html



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16206-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 05 01:51:16 2005
Return-Path: <java-user-return-16206-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 69938 invoked from network); 5 Sep 2005 01:51:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Sep 2005 01:51:16 -0000
Received: (qmail 93720 invoked by uid 500); 5 Sep 2005 01:51:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 93687 invoked by uid 500); 5 Sep 2005 01:51:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 93673 invoked by uid 99); 5 Sep 2005 01:51:11 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Sep 2005 18:51:11 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of sean@oconeco.com designates 216.239.128.26 as permitted sender)
Received: from [216.239.128.26] (HELO smtp.omnis.com) (216.239.128.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Sep 2005 18:51:24 -0700
Received: from [127.0.0.1] (68-235-161-43.chvlva.adelphia.net [68.235.161.43])
	by smtp-relay.omnis.com (Postfix) with ESMTP id 3BE5014079BB
	for <java-user@lucene.apache.org>; Sun,  4 Sep 2005 18:51:08 -0700 (PDT)
Message-ID: <431BA4B8.8050102@oconeco.com>
Date: Sun, 04 Sep 2005 21:51:52 -0400
From: Sean O'Connor <sean@oconeco.com>
User-Agent: Mozilla Thunderbird 1.0.2 (Windows/20050317)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Lucene contrib (surround), Subversion, and Eclipse
References: <431B72B4.1090901@oconeco.com> <Pine.LNX.4.58.0509041622530.20559@hal.rescomp.berkeley.edu>
In-Reply-To: <Pine.LNX.4.58.0509041622530.20559@hal.rescomp.berkeley.edu>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Chris,
    I think my hesitation with my approach was due to being lazy, and 
not wanting to get up to speed with ant. I've gotten over much of the 
Eclipse internal project/build learning curve, so this is very likely a 
case of the 'golden hammer' syndrome, where I am ignoring the benefits 
of using ant. I'll take a few hours and play with eclipse and it's ant 
integration on my next foray into the sandbox, er, I mean contribs : -).
Thanks for the feedback,

Sean


Chris Hostetter wrote:

>I don't use Eclipse, (and in fac i've never acctaully built the from
>source) but if i remember correctly, one of the main reasons why the
>"sandbox" was retired and everything in it was moved to where it is in the
>"contrib" directory was so Lucene and all of the "contrib"uted code could
>be compiled as part of one larger project.
>
>I believe that if instead of checking out
>"lucene/java/trunk/contrib/surround/java" and
>"lucene/java/trunk/contrib/surround/test" and treating them as seperate
>projects, you mind find things a whole lot easier if you just checkout
>"lucene/java/trunk" and treat that as one whole project.
>
>lucene/java/trunk/build.xml has the targets "build-contrib" and
>"test-contrib" which should do everything you need to do.
>
>If for some reason you find that those are too general for your purposes,
>there is also a single lucene/java/trunk/contrib/surround/build.xml file
>that can be used directly for both building and testing just the surround
>package, but it does require that
>lucene/java/trunk/contrib/contrib-build.xml and some other files from
>lucene/java/trunk/ are checked out, so you might as well just check out
>the whole thing.
>
>: Date: Sun, 04 Sep 2005 18:18:28 -0400
>: From: Sean O'Connor <sean@oconeco.com>
>: Reply-To: java-user@lucene.apache.org
>: To: java-user@lucene.apache.org
>: Subject: Lucene contrib (surround), Subversion, and Eclipse
>:
>: Hello,
>:     I am new to subversion, junit and the Lucene contrib repository. I
>: am looking over the 'surround' project at the moment. If there is anyone
>: out there with Eclipse experience who uses the contrib subversion (or
>: cvs) repository could you look over my approach listed below?
>:
>: I am using Eclipse (3.1.1) and have the Subclipse plugin.
>: I have connected to the repository at:
>: http://svn.apache.org/repos/asf
>: (no username or password)
>:
>: I then navigate to
>: Lucene/java/trunk/contrib
>: and I see the 'surround' project.
>:
>: I checked out
>:     'surround/java' into a java project named 'surround-java'
>:     'surround/test' into java project named 'surround-test'
>:
>: I checked out  the Lucene source code into a java project named 'Lucene
>: Source' (could have simply used a recent Lucene jar file I _think_)
>:
>: I added the "Lucene Source" project as a required project for
>: 'surround-java' to resolve dependencies.
>:
>: I added the "Lucene Source" project as a required project for
>: 'surround-test' to resolve dependencies.
>: I added junit.jar as an external library 'surround-test' to resolve
>: dependencies.
>:
>: This seemed to build clean, and I then ran a junit test (e.g.
>: Test02Boolean.java) via 'Run as...' 'Junit Test' (Alt-Shift-X, T)
>:
>: Everything (23/23) passed, so I think I have my environment set correctly.
>:
>: Is there a more direct way to this? I assume the ant build.xml file
>: would solve some of these issues, especially if I wanted to build
>: several/all of the contrib projects. I was getting some errors with the
>: build scripts, almost certainly due to my ignorance regarding ant build
>: scripts.
>:
>: I would be happy to post a revision of these steps if someone else might
>: benefit from this information. I assume though that anyone (else)
>: wanting to play with Lucene development code would already be familiar
>: with these steps, so it's probably not an issue.
>: Thanks,
>:
>: Sean
>:
>:
>:
>:
>: ---------------------------------------------------------------------
>: To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>: For additional commands, e-mail: java-user-help@lucene.apache.org
>:
>
>
>
>-Hoss
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>  
>



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16207-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 05 01:58:31 2005
Return-Path: <java-user-return-16207-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72498 invoked from network); 5 Sep 2005 01:58:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Sep 2005 01:58:30 -0000
Received: (qmail 99382 invoked by uid 500); 5 Sep 2005 01:58:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99361 invoked by uid 500); 5 Sep 2005 01:58:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99348 invoked by uid 99); 5 Sep 2005 01:58:26 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Sep 2005 18:58:26 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of sean@oconeco.com designates 216.239.128.26 as permitted sender)
Received: from [216.239.128.26] (HELO smtp.omnis.com) (216.239.128.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Sep 2005 18:58:39 -0700
Received: from [127.0.0.1] (68-235-161-43.chvlva.adelphia.net [68.235.161.43])
	by smtp-relay.omnis.com (Postfix) with ESMTP id 6B88D2006887
	for <java-user@lucene.apache.org>; Sun,  4 Sep 2005 18:58:24 -0700 (PDT)
Message-ID: <431BA66B.4050502@oconeco.com>
Date: Sun, 04 Sep 2005 21:59:07 -0400
From: Sean O'Connor <sean@oconeco.com>
User-Agent: Mozilla Thunderbird 1.0.2 (Windows/20050317)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Can Span Queries contain boolean, prefix and other component
 queries?
References: <431B4041.7020601@oconeco.com> <200509042211.59469.paul.elschot@xs4all.nl>
In-Reply-To: <200509042211.59469.paul.elschot@xs4all.nl>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Paul,
    Thanks for pointing me to the surround code. I have started playing 
with it, and am impressed. Now I just need to adjust my thinking a bit 
more to see if I can implement the tool correctly, and get my specific 
search functionality out of what it offers.
You've been a great help,

Sean


Paul Elschot wrote:

>Sean,
>
>On Sunday 04 September 2005 20:43, Sean O'Connor wrote:
>  
>
>>Hello,
>>    I am trying to do some complex queries such as:
>>
>>[Field contents]
>>The movie Napoleon Dynamite is a movie about a kid named Napoleon who 
>>has no Dynamite.
>>
>>[Query]
>>"Napol* Dynamite" near "film|movie"
>>
>>
>>    Is this possible with some version of a span query? Something like a 
>>PhrasePrefixQuery joined to a BooleanQuery by a SpanNearQuery?
>>    
>>
>
>This can be done using nested SpanNearQuery's and SpanOrQuery's.
>A PhrasePrefixQuery can not be used as a SpanQuery.
>
>  
>
>>    If not, does anyone have a suggestion on how to do this? I am 
>>assuming I will need to do two queries, and determine the 'nearness' of 
>>the resulting hits myself.
>>Thanks,
>>    
>>
>
>You can do this using the surround query language:
>
>(Napol* w dynamite) n (film or movie)
>
>The surround parser will construct the nested span queries.
>The surround query language is in the contrib/surround directory
>in the development version. The most striking difference with
>the lucene standard query language is that all operators 
>have to be given explicitly, there is no implicit 'and' or 'or'.
>
>Regards,
>Paul Elschot
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>  
>



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16208-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 05 02:08:54 2005
Return-Path: <java-user-return-16208-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 75512 invoked from network); 5 Sep 2005 02:08:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Sep 2005 02:08:54 -0000
Received: (qmail 3895 invoked by uid 500); 5 Sep 2005 02:08:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3863 invoked by uid 500); 5 Sep 2005 02:08:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3849 invoked by uid 99); 5 Sep 2005 02:08:50 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Sep 2005 19:08:50 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of newreaders@gmail.com designates 64.233.184.201 as permitted sender)
Received: from [64.233.184.201] (HELO wproxy.gmail.com) (64.233.184.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Sep 2005 19:09:03 -0700
Received: by wproxy.gmail.com with SMTP id i32so592579wra
        for <java-user@lucene.apache.org>; Sun, 04 Sep 2005 19:08:48 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=KjQSzivdMSEC/Zo+hnJ0UNr+T2KvW64nCxyrc88ObLM0prGdvnHooOOAt2hSmp5Mk2iQt3ZiLP4Y08QV9wcjjFI397/TQ5tasAd77KYzkrC/4+qRC3Yz1gL6OHMx+NCG1XzwY4FAtWkLQsucAsTcaMP4PcisekdWlMzbas1lN9s=
Received: by 10.54.71.11 with SMTP id t11mr3262418wra;
        Sun, 04 Sep 2005 19:08:48 -0700 (PDT)
Received: by 10.54.116.16 with HTTP; Sun, 4 Sep 2005 19:08:48 -0700 (PDT)
Message-ID: <5f4a6461050904190812159ba6@mail.gmail.com>
Date: Mon, 5 Sep 2005 12:08:48 +1000
From: Ben <newreaders@gmail.com>
Reply-To: newreaders@gmail.com
To: Lucene <java-user@lucene.apache.org>
Subject: Date boosts implementation
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi

Could someone please give me some suggestions on how to implement date
boosts? I would like to boost the document when it is new and lower
the boost when it's old.

Thanks,
Ben

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16209-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 05 02:38:31 2005
Return-Path: <java-user-return-16209-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 83738 invoked from network); 5 Sep 2005 02:38:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Sep 2005 02:38:31 -0000
Received: (qmail 17051 invoked by uid 500); 5 Sep 2005 02:38:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17020 invoked by uid 500); 5 Sep 2005 02:38:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17006 invoked by uid 99); 5 Sep 2005 02:38:26 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Sep 2005 19:38:26 -0700
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Sep 2005 19:38:39 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 0C2F05B789; Sun,  4 Sep 2005 19:38:20 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 096867F476
	for <java-user@lucene.apache.org>; Sun,  4 Sep 2005 19:38:20 -0700 (PDT)
Date: Sun, 4 Sep 2005 19:38:20 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: Can Span Queries contain boolean, prefix and other component
 queries?
In-Reply-To: <431BA66B.4050502@oconeco.com>
Message-ID: <Pine.LNX.4.58.0509041912350.24851@hal.rescomp.berkeley.edu>
References: <431B4041.7020601@oconeco.com> <200509042211.59469.paul.elschot@xs4all.nl>
 <431BA66B.4050502@oconeco.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: >>[Query]
: >>"Napol* Dynamite" near "film|movie"

: >This can be done using nested SpanNearQuery's and SpanOrQuery's.
: >A PhrasePrefixQuery can not be used as a SpanQuery.

I've never really looked at SpanQueries very hard, but this thread got me
a bit curious.

Looking over the docs and the code, it seems that *IF* there were a
"SpanPrefixQuery" then the query could be expressed as...

  new SpanNearQuery(new SPanQuery[] {
      new SpanNearQuery((new SpanQuery[] {
         new SpanPrefixQuery(new Term(f, "Napol")),
         new SpanTermQuery(new Term(f,"Dynamite"))
         },
        0, true
      ),
      new SpanOrQuery(new SPanQuery[] {
         new SpanTermQuery(new Term(f,"film")),
         new SpanTermQUery(new Term(f,"movie))
         }
      )
    },
    MAX_INT, false
   )

The question then becomes, can a SpanPrefixQuery exist?

looking at the code for SpanTermQuery, it seems like it should be possible
to write a subclass which redefines the getSPans() method to return a Span
which not only maintains a TermPosition, but also a TermEnum which
iterates over all terms which match the prefix -- the TermPositions
iterator loop would be reset as many times as the TermEnum found
usable terms.

Am I missing something about the way Spans work? ... Is what I'm
suggesting possile/practicle, or is there a reason it doesn't allready
exist?



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16210-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 05 02:49:37 2005
Return-Path: <java-user-return-16210-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 87158 invoked from network); 5 Sep 2005 02:49:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Sep 2005 02:49:37 -0000
Received: (qmail 21968 invoked by uid 500); 5 Sep 2005 02:49:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 21939 invoked by uid 500); 5 Sep 2005 02:49:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 21926 invoked by uid 99); 5 Sep 2005 02:49:33 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Sep 2005 19:49:33 -0700
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Sep 2005 19:49:46 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 392E55B797; Sun,  4 Sep 2005 19:49:31 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP
	id 30F507F476; Sun,  4 Sep 2005 19:49:31 -0700 (PDT)
Date: Sun, 4 Sep 2005 19:49:31 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: Lucene <java-user@lucene.apache.org>, newreaders@gmail.com
Subject: Re: Date boosts implementation
In-Reply-To: <5f4a6461050904190812159ba6@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0509041945330.24851@hal.rescomp.berkeley.edu>
References: <5f4a6461050904190812159ba6@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: Could someone please give me some suggestions on how to implement date
: boosts? I would like to boost the document when it is new and lower
: the boost when it's old.

you should check out this older thread...

http://mail-archives.apache.org/mod_mbox/lucene-java-user/200501.mbox/%3cPine.LNX.4.58.0501071018510.23136@hal.rescomp.berkeley.edu%3e

one note, the url in the last message is no longer valid, the new URL
is...

http://mail-archives.apache.org/mod_mbox/lucene-java-user/200412.mbox/%3c200412230858.34163.paul.elschot@xs4all.nl%3e



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16211-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 05 03:27:21 2005
Return-Path: <java-user-return-16211-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97929 invoked from network); 5 Sep 2005 03:27:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Sep 2005 03:27:20 -0000
Received: (qmail 40904 invoked by uid 500); 5 Sep 2005 03:27:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40015 invoked by uid 500); 5 Sep 2005 03:27:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40002 invoked by uid 99); 5 Sep 2005 03:27:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Sep 2005 20:27:16 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=HTML_20_30,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of hackingbear@gmail.com designates 66.249.82.203 as permitted sender)
Received: from [66.249.82.203] (HELO xproxy.gmail.com) (66.249.82.203)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 04 Sep 2005 20:27:29 -0700
Received: by xproxy.gmail.com with SMTP id h28so1170653wxd
        for <java-user@lucene.apache.org>; Sun, 04 Sep 2005 20:27:13 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=ZpgPg43YL0A+VGEvkI+sVNJZ629in+YC9n9zeNrnKZXOqxDrS2jiQATiUJ8NJyFZeuOogsAgb5wKpAGhayTdii3siXc3PjD75iKqNex4vacCYfJAWw6qTOZQAeYob2Ft05DbIb5VZ3ZbSXvI1fwhS3PKzRWIgtxjxqg9NQMViGM=
Received: by 10.70.50.16 with SMTP id x16mr68281wxx;
        Sun, 04 Sep 2005 20:27:13 -0700 (PDT)
Received: by 10.70.12.11 with HTTP; Sun, 4 Sep 2005 20:27:13 -0700 (PDT)
Message-ID: <3feb1c060509042027163fb4bd@mail.gmail.com>
Date: Mon, 5 Sep 2005 11:27:13 +0800
From: Hacking Bear <hackingbear@gmail.com>
To: java-user@lucene.apache.org
Subject: Handling of unknown/multiple lanuage documents
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_177_29505178.1125890833858"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_177_29505178.1125890833858
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hello,
 I'm new to Lucene. After some readings, I'm still not quite sure which=20
Analyzer I should be using for handling documents in unknown or multiple=20
lanugages. The documents I want to index may be written in lanuages other=
=20
than the user/system's default language and one document may contain text i=
n=20
different lanuages.
 By the way, I hope there is a search capablity in website of Lucene search=
=20
engine. :-)
 - HB

------=_Part_177_29505178.1125890833858--

From java-user-return-16212-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 05 07:05:58 2005
Return-Path: <java-user-return-16212-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 77307 invoked from network); 5 Sep 2005 07:05:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Sep 2005 07:05:58 -0000
Received: (qmail 44900 invoked by uid 500); 5 Sep 2005 07:05:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44035 invoked by uid 500); 5 Sep 2005 07:05:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44021 invoked by uid 99); 5 Sep 2005 07:05:52 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Sep 2005 00:05:52 -0700
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.109.24.34] (HELO smtp-vbr14.xs4all.nl) (194.109.24.34)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Sep 2005 00:06:05 -0700
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr14.xs4all.nl (8.13.3/8.13.3) with ESMTP id j8575nUu093066
	for <java-user@lucene.apache.org>; Mon, 5 Sep 2005 09:05:49 +0200 (CEST)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: Can Span Queries contain boolean, prefix and other component queries?
Date: Mon, 5 Sep 2005 09:05:48 +0200
User-Agent: KMail/1.5.4
References: <431B4041.7020601@oconeco.com> <431BA66B.4050502@oconeco.com> <Pine.LNX.4.58.0509041912350.24851@hal.rescomp.berkeley.edu>
In-Reply-To: <Pine.LNX.4.58.0509041912350.24851@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200509050905.48784.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Monday 05 September 2005 04:38, Chris Hostetter wrote:
> 
> : >>[Query]
> : >>"Napol* Dynamite" near "film|movie"
> 
> : >This can be done using nested SpanNearQuery's and SpanOrQuery's.
> : >A PhrasePrefixQuery can not be used as a SpanQuery.
> 
> I've never really looked at SpanQueries very hard, but this thread got me
> a bit curious.
> 
> Looking over the docs and the code, it seems that *IF* there were a
> "SpanPrefixQuery" then the query could be expressed as...
> 
>   new SpanNearQuery(new SPanQuery[] {
>       new SpanNearQuery((new SpanQuery[] {
>          new SpanPrefixQuery(new Term(f, "Napol")),
>          new SpanTermQuery(new Term(f,"Dynamite"))
>          },
>         0, true
>       ),
>       new SpanOrQuery(new SPanQuery[] {
>          new SpanTermQuery(new Term(f,"film")),
>          new SpanTermQUery(new Term(f,"movie))
>          }
>       )
>     },
>     MAX_INT, false
>    )
> 
> The question then becomes, can a SpanPrefixQuery exist?

Sure.
 
> looking at the code for SpanTermQuery, it seems like it should be possible
> to write a subclass which redefines the getSPans() method to return a Span
> which not only maintains a TermPosition, but also a TermEnum which
> iterates over all terms which match the prefix -- the TermPositions
> iterator loop would be reset as many times as the TermEnum found
> usable terms.
> 
> Am I missing something about the way Spans work? ... Is what I'm
> suggesting possile/practicle, or is there a reason it doesn't allready
> exist?

The mechanics of such a SpanPrefixQuery is in the surround query language
in the SrndPrefixQuery class and its superclasses.
These classes also contain the mechanics of OR'ing the terms together
in case the prefix query term is not a subquery of a distance operator.

Kind regards,
Paul Elschot


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16213-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 05 08:44:46 2005
Return-Path: <java-user-return-16213-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31753 invoked from network); 5 Sep 2005 08:44:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Sep 2005 08:44:46 -0000
Received: (qmail 25630 invoked by uid 500); 5 Sep 2005 08:44:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25596 invoked by uid 500); 5 Sep 2005 08:44:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25583 invoked by uid 99); 5 Sep 2005 08:44:40 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Sep 2005 01:44:40 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [193.252.22.21] (HELO smtp10.wanadoo.fr) (193.252.22.21)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Sep 2005 01:44:54 -0700
Received: from me-wanadoo.net (localhost [127.0.0.1])
	by mwinf1001.wanadoo.fr (SMTP Server) with ESMTP id 7521318000C4
	for <java-user@lucene.apache.org>; Mon,  5 Sep 2005 10:44:37 +0200 (CEST)
Received: from [127.0.0.1] (AVelizy-115-2-1-38.w81-48.abo.wanadoo.fr [81.48.163.38])
	by mwinf1001.wanadoo.fr (SMTP Server) with ESMTP id 4277A18000BA
	for <java-user@lucene.apache.org>; Mon,  5 Sep 2005 10:44:37 +0200 (CEST)
X-ME-UUID: 20050905084437272.4277A18000BA@mwinf1001.wanadoo.fr
Message-ID: <431C0570.3020504@jalios.com>
Date: Mon, 05 Sep 2005 10:44:32 +0200
From: Olivier Jaquemet <olivier.jaquemet@jalios.com>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Java User ML <java-user@lucene.apache.org>
Subject: Multiple Language Indexing and Searching
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

I'd like to go in details regarding issues that occurs when you want to 
index and search contents in multiple languages.

I have read Lucene in Action book, and many thread on this mailing list, 
the most interesting so far being this one:
http://mail-archives.apache.org/mod_mbox/lucene-java-user/200505.mbox/%3c19ADCC0B9D4CAD4582BB9900BBCE35740194503C@tayexc13.americas.cpqcorp.net%3e

The solution choosen/recommended by Doug Cutting in this message:
http://mail-archives.apache.org/mod_mbox/lucene-java-user/200506.mbox/%3c42A0841C.2090202@apache.org%3e
is the number '2/':
Having one index for all languages one Document per content's language 
with a field specify its language, and using a query filter when searching.

While I think it is a good solution:
- If you have N languages, if you search for something in 1 language, 
you are going to search an index N times too large.
Wouldn't it be better to have N indices for N languages? That way, each 
index could benefit of its specialized analyser, and if you need to 
search in multiple languages, you just need to merge result of those 
differents analyzer.
- If you have contents in multiple language like we do, and by that I 
don't mean multiple contents each one having its own language, but 
multiple content, each one being in many languages. You are going to 
have a N to 1, Document/content relation in the index.
As far as update, delete, and search in multiple language are concerned, 
wouldn't it be simpler to alway keep a 1 to 1 Document/content relation 
in an index?

As you may have guess, my original thought, even before I read those 
thread, was that the solution number 3. might be more flexible/modular 
than the others, of course it also has its drawbacks:
- performance issue when doing multiple language search, specially when 
merging results of different index.
- more complex to code
- other?

Can you clarify on this?
What solutions all of you have choosen til now regarding indexing and 
searching of multiple content in multiple language ?

Thanks!

Olivier



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16214-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 05 09:21:46 2005
Return-Path: <java-user-return-16214-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 46477 invoked from network); 5 Sep 2005 09:21:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Sep 2005 09:21:46 -0000
Received: (qmail 59352 invoked by uid 500); 5 Sep 2005 09:21:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 59315 invoked by uid 500); 5 Sep 2005 09:21:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 59302 invoked by uid 99); 5 Sep 2005 09:21:40 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Sep 2005 02:21:40 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [193.108.181.138] (HELO quimby.programmfabrik.de) (193.108.181.138)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Sep 2005 02:21:52 -0700
Received: from [84.188.191.83] (helo=xen)
	by quimby.programmfabrik.de with asmtp (Exim 3.35 #1 (Debian))
	id 1ECC02-0005eW-00
	for <java-user@lucene.apache.org>; Mon, 05 Sep 2005 10:06:42 +0200
Received: from [192.168.0.222] (helo=[127.0.0.1])
	by xen with esmtp (Exim 4.34 #1 (Debian))
	id 1ECDAN-0002Vl-Om
	for <java-user@lucene.apache.org>; Mon, 05 Sep 2005 11:21:27 +0200
Message-ID: <431C0E3B.9040409@programmfabrik.de>
Date: Mon, 05 Sep 2005 11:22:03 +0200
From: Martin Rode <martin.rode@programmfabrik.de>
User-Agent: Mozilla Thunderbird 1.0.2 (Windows/20050317)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Optimize, OutOfMemory + Merge
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi all,

The code snipset below does NOT result in an optimized index in one of 
my test cases. As I understand, the optimized index, means that there is 
only ONE segment file in the index folder. After this code has run, I 
sometimes have 100 segment files in the directory.

When I call optimize() on the writer, most of the time I get OutOfMemory 
(even with 800MB for the JVM).

What do I do wrong?

Best,
Martin

---- code snip start -----
                // optimize index
                IndexReader[] readers = new IndexReader[1];
                readers[0] = IndexReader.open(diri);
                writer = new IndexWriter(diri+"-optimized", anal, true);
                System.out.println("Merging to new Index: 
'"+diri+"-optimized'");
                writer.addIndexes(readers);
                System.out.println("Done Merging.");
                readers[0].close();
---- code snip end ----




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16215-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 05 10:18:18 2005
Return-Path: <java-user-return-16215-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 64943 invoked from network); 5 Sep 2005 10:18:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Sep 2005 10:18:17 -0000
Received: (qmail 11021 invoked by uid 500); 5 Sep 2005 10:18:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10104 invoked by uid 500); 5 Sep 2005 10:18:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10087 invoked by uid 99); 5 Sep 2005 10:18:11 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Sep 2005 03:18:11 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Sep 2005 03:18:24 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 3B97113E2039; Mon,  5 Sep 2005 06:18:08 -0400 (EDT)
Received: from [172.16.1.101] (va-71-48-138-146.dhcp.sprint-hsd.net [71.48.138.146])
	by ehatchersolutions.com (Postfix) with ESMTP id A0D3C13E2037
	for <java-user@lucene.apache.org>; Mon,  5 Sep 2005 06:17:47 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <431C0E3B.9040409@programmfabrik.de>
References: <431C0E3B.9040409@programmfabrik.de>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <D9777BCF-FE46-40BB-87D4-2CB5950FA5F0@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Optimize, OutOfMemory + Merge
Date: Mon, 5 Sep 2005 06:17:44 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

You should call .optimize() instead of merging.

     Erik


On Sep 5, 2005, at 5:22 AM, Martin Rode wrote:

> Hi all,
>
> The code snipset below does NOT result in an optimized index in one  
> of my test cases. As I understand, the optimized index, means that  
> there is only ONE segment file in the index folder. After this code  
> has run, I sometimes have 100 segment files in the directory.
>
> When I call optimize() on the writer, most of the time I get  
> OutOfMemory (even with 800MB for the JVM).
>
> What do I do wrong?
>
> Best,
> Martin
>
> ---- code snip start -----
>                // optimize index
>                IndexReader[] readers = new IndexReader[1];
>                readers[0] = IndexReader.open(diri);
>                writer = new IndexWriter(diri+"-optimized", anal,  
> true);
>                System.out.println("Merging to new Index: '"+diri+"- 
> optimized'");
>                writer.addIndexes(readers);
>                System.out.println("Done Merging.");
>                readers[0].close();
> ---- code snip end ----
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16216-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 05 12:37:08 2005
Return-Path: <java-user-return-16216-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 18206 invoked from network); 5 Sep 2005 12:37:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Sep 2005 12:37:07 -0000
Received: (qmail 53244 invoked by uid 500); 5 Sep 2005 12:37:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53224 invoked by uid 500); 5 Sep 2005 12:37:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 64879 invoked by uid 99); 5 Sep 2005 11:07:49 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Mime-Version: 1.0 (Apple Message framework v733)
In-Reply-To: <Pine.LNX.4.58.0509041636540.20559@hal.rescomp.berkeley.edu>
References: <46e0543778.4377846e05@kb.se> <Pine.LNX.4.58.0509041636540.20559@hal.rescomp.berkeley.edu>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <3F56AD2C-637F-49A1-B336-F617EE086508@kb.se>
Content-Transfer-Encoding: 7bit
From: Martin Malmsten <Martin.Malmsten@kb.se>
Subject: Re: SAME-opattor (possible newbie question)
Date: Mon, 5 Sep 2005 13:07:45 +0200
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.733)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

> : For example, given this data:
> :
> : author: a b c
> : author: d e f
> :
> : a search for "a SAME c" would match the first row, but "a SAME d"  
> would
> : match nothing, which is what I want.
>
> if i understand you correctly, then you are describing a use case  
> in which
> the index has two documents, each containing a single field named  
> "author"
> one of which contains the tokens "a", "b", and "c" the other  
> containing
> "d", "e", and "f"
No, both fields are in the same document. Which is also why proximity  
does not work.

To give you some context: I am experimenting with replacing BRS/ 
Search with Lucene in one of our bliographic databases (aprox. 20M  
bibliographic records, in MARC21). Bibliographic data i notoriously  
tricky since it tends to contain lots of repeating fields and the  
fields themselves often contain lots of information between the data  
you want to match against.

Or is there some way of telling a proximity query to not cross field  
boundaries?

And no, I have no idea what an opattor is either ... ;)

martin

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16217-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 05 14:55:22 2005
Return-Path: <java-user-return-16217-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62036 invoked from network); 5 Sep 2005 14:55:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Sep 2005 14:55:21 -0000
Received: (qmail 89877 invoked by uid 500); 5 Sep 2005 14:55:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89850 invoked by uid 500); 5 Sep 2005 14:55:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89837 invoked by uid 99); 5 Sep 2005 14:55:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Sep 2005 07:55:16 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of TheRanger@gmx.net designates 213.165.64.20 as permitted sender)
Received: from [213.165.64.20] (HELO mail.gmx.net) (213.165.64.20)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 05 Sep 2005 07:55:27 -0700
Received: (qmail 2798 invoked by uid 0); 5 Sep 2005 14:55:11 -0000
Received: from 193.63.235.44 by www78.gmx.net with HTTP;
	Mon, 5 Sep 2005 16:55:11 +0200 (MEST)
Date: Mon, 5 Sep 2005 16:55:11 +0200 (MEST)
From: "Karl Koch" <TheRanger@gmx.net>
To: "User " <java-user@lucene.apache.org>
MIME-Version: 1.0
Subject: BM25 with Lucene
X-Priority: 3 (Normal)
X-Authenticated: #21808356
Message-ID: <27362.1125932111@www78.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello all,

did somebody here implement and run the BM25 algorithm with Lucene
(perferably Lucene 1.2 but any information or even code about that would be
very helpful on any Lucene version).

Kind Regards,
Karl

-- 
Lust, ein paar Euro nebenbei zu verdienen? Ohne Kosten, ohne Risiko!
Satte Provisionen für GMX Partner: http://www.gmx.net/de/go/partner

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16218-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 05 15:36:42 2005
Return-Path: <java-user-return-16218-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71921 invoked from network); 5 Sep 2005 15:36:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Sep 2005 15:36:41 -0000
Received: (qmail 18860 invoked by uid 500); 5 Sep 2005 15:36:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 18840 invoked by uid 500); 5 Sep 2005 15:36:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 18827 invoked by uid 99); 5 Sep 2005 15:36:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Sep 2005 08:36:35 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [203.181.105.73] (HELO hfep07.dion.ne.jp) (203.181.105.73)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Sep 2005 08:36:48 -0700
Received: from koji ([59.135.86.147]) by hfep07.dion.ne.jp with ESMTP
          id <20050905153631585.RGOL@hfep07.dion.ne.jp>
          for <java-user@lucene.apache.org>; Tue, 6 Sep 2005 00:36:31 +0900
From: "Koji Sekiguchi" <koji.sekiguchi@m4.dion.ne.jp>
To: <java-user@lucene.apache.org>
Subject: TermVectorOffsetInfo class?
Date: Tue, 6 Sep 2005 00:31:42 +0900
Message-ID: <000001c5b22e$eda4afc0$0300a8c0@koji>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2627
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

I wanted to try highlighter in contrib, compiled it and
I got a compile error because there isn't TermVectorOffsetInfo
class which is imported by TokenSources.java:

import org.apache.lucene.index.TermVectorOffsetInfo;

I tried to find the issues on Bugzilla, but couldn't find them.

Where can I get the class?

Thanks in advance,

Koji




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16219-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 05 15:44:28 2005
Return-Path: <java-user-return-16219-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 74815 invoked from network); 5 Sep 2005 15:44:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Sep 2005 15:44:28 -0000
Received: (qmail 29876 invoked by uid 500); 5 Sep 2005 15:44:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 29851 invoked by uid 500); 5 Sep 2005 15:44:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 29838 invoked by uid 99); 5 Sep 2005 15:44:23 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Sep 2005 08:44:23 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.10.219] (HELO web26008.mail.ukl.yahoo.com) (217.12.10.219)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 05 Sep 2005 08:44:34 -0700
Received: (qmail 54926 invoked by uid 60001); 5 Sep 2005 15:44:17 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=G6RXISOI6m4C55jj/QlOmtncKgDZ2lRZ6W/NRC2IxSWrwwhwfvElm0egSGHslgeW73mVy0YOmBNzRleAXh+0igs+H44FTui5EHOIr7YKRJx1UGXInOMMgNI67HnkpC2dZ/yP6YTAja+2YCa/mgvZulotrVEM7RYLtUqUsQ8hAyQ=  ;
Message-ID: <20050905154417.54924.qmail@web26008.mail.ukl.yahoo.com>
Received: from [193.36.230.96] by web26008.mail.ukl.yahoo.com via HTTP; Mon, 05 Sep 2005 16:44:17 BST
Date: Mon, 5 Sep 2005 16:44:17 +0100 (BST)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: Re: TermVectorOffsetInfo class?
To: java-user@lucene.apache.org
In-Reply-To: <000001c5b22e$eda4afc0$0300a8c0@koji>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

It's in the latest version of Lucene in SVN.

If you don't want to work with the latest version of
Lucene simply remove TokenSources.java - it's an
optional class for use with the highlighter and
provides a way of retrieving already-parsed document
tokens from the index. Instead, you can simply run an
Analyzer on the document text to get a list of tokens
for the highlighter.

Cheers
Mark


		
___________________________________________________________ 
To help you stay safe and secure online, we've developed the all new Yahoo! Security Centre. http://uk.security.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16220-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 05 15:58:32 2005
Return-Path: <java-user-return-16220-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78212 invoked from network); 5 Sep 2005 15:58:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Sep 2005 15:58:32 -0000
Received: (qmail 46645 invoked by uid 500); 5 Sep 2005 15:58:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46220 invoked by uid 500); 5 Sep 2005 15:58:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 46207 invoked by uid 99); 5 Sep 2005 15:58:26 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Sep 2005 08:58:26 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [203.181.105.72] (HELO hfep06.dion.ne.jp) (203.181.105.72)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Sep 2005 08:58:39 -0700
Received: from koji ([59.135.86.147]) by hfep06.dion.ne.jp with ESMTP
          id <20050905155823552.HIYP@hfep06.dion.ne.jp>
          for <java-user@lucene.apache.org>; Tue, 6 Sep 2005 00:58:23 +0900
From: "Koji Sekiguchi" <koji.sekiguchi@m4.dion.ne.jp>
To: <java-user@lucene.apache.org>
Subject: RE: TermVectorOffsetInfo class?
Date: Tue, 6 Sep 2005 00:53:34 +0900
Message-ID: <000001c5b231$fbbb60b0$0300a8c0@koji>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2627
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
In-Reply-To: <20050905154417.54924.qmail@web26008.mail.ukl.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Mark,

Thank you for your advice.
I want to work with current version - 1.4.3
so I simply deleted the class and could compile highlighter.

Thank you,

Koji


> -----Original Message-----
> From: mark harwood [mailto:markharw00d@yahoo.co.uk] 
> Sent: Tuesday, September 06, 2005 12:44 AM
> To: java-user@lucene.apache.org
> Subject: Re: TermVectorOffsetInfo class?
> 
> 
> It's in the latest version of Lucene in SVN.
> 
> If you don't want to work with the latest version of
> Lucene simply remove TokenSources.java - it's an
> optional class for use with the highlighter and
> provides a way of retrieving already-parsed document
> tokens from the index. Instead, you can simply run an
> Analyzer on the document text to get a list of tokens
> for the highlighter.
> 
> Cheers
> Mark
> 
> 
> 		
> ___________________________________________________________ 
> To help you stay safe and secure online, we've developed the 
> all new Yahoo! Security Centre. http://uk.security.yahoo.com
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16221-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 05 18:31:47 2005
Return-Path: <java-user-return-16221-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10774 invoked from network); 5 Sep 2005 18:31:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Sep 2005 18:31:47 -0000
Received: (qmail 75880 invoked by uid 500); 5 Sep 2005 18:31:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75861 invoked by uid 500); 5 Sep 2005 18:31:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75848 invoked by uid 99); 5 Sep 2005 18:31:42 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Sep 2005 11:31:42 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [206.190.36.80] (HELO smtp102.rog.mail.re2.yahoo.com) (206.190.36.80)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 05 Sep 2005 11:31:54 -0700
Received: (qmail 75912 invoked from network); 5 Sep 2005 18:31:38 -0000
Received: from unknown (HELO wintermute) (lukeshannon@rogers.com@69.195.21.17 with login)
  by smtp102.rog.mail.re2.yahoo.com with SMTP; 5 Sep 2005 18:31:38 -0000
Message-ID: <005201c5b248$76ccf460$6401a8c0@wintermute>
From: "Luke" <luke@lukeshannon.com>
To: <java-user@lucene.apache.org>
References: <431B4041.7020601@oconeco.com> <200509042211.59469.paul.elschot@xs4all.nl>
Subject: Deleting All Documents With Certain Field Name
Date: Mon, 5 Sep 2005 14:34:34 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1506
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1506
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Would this not delete all records from the index that have a saleDate field?

reader.delete(new Term("salesDate", ""));

Thanks,

Luke


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16222-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 05 19:04:19 2005
Return-Path: <java-user-return-16222-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15953 invoked from network); 5 Sep 2005 19:04:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Sep 2005 19:04:19 -0000
Received: (qmail 95377 invoked by uid 500); 5 Sep 2005 19:04:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95352 invoked by uid 500); 5 Sep 2005 19:04:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95339 invoked by uid 99); 5 Sep 2005 19:04:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Sep 2005 12:04:14 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.200.43] (HELO web31110.mail.mud.yahoo.com) (68.142.200.43)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 05 Sep 2005 12:04:25 -0700
Received: (qmail 23529 invoked by uid 60001); 5 Sep 2005 19:04:10 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=2wvrPWQzD04L8VXdH+CtqoJfZPt8Z981yVAgzSjBWcOuavgHchvL8VJVCvHM+Cqx+DrcHwWSesb9jWkxhEvCtNz2zuKVu+CZZTIBGRAb3PvmeIPehLmO+YoDB6FuT0OldxcAFOuBDzLLHEf1A+OrK4mAyJ8DepY+3ytBaPRJluM=  ;
Message-ID: <20050905190410.23527.qmail@web31110.mail.mud.yahoo.com>
Received: from [69.201.142.21] by web31110.mail.mud.yahoo.com via HTTP; Mon, 05 Sep 2005 12:04:10 PDT
Date: Mon, 5 Sep 2005 12:04:10 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Deleting All Documents With Certain Field Name
To: java-user@lucene.apache.org
In-Reply-To: <005201c5b248$76ccf460$6401a8c0@wintermute>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

No.  The delete method deletes all Documents with _matching_ terms.

Otis

--- Luke <luke@lukeshannon.com> wrote:

> Would this not delete all records from the index that have a saleDate
> field?
> 
> reader.delete(new Term("salesDate", ""));
> 
> Thanks,
> 
> Luke
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16223-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 05 20:40:31 2005
Return-Path: <java-user-return-16223-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 38656 invoked from network); 5 Sep 2005 20:40:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Sep 2005 20:40:31 -0000
Received: (qmail 51854 invoked by uid 500); 5 Sep 2005 20:40:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 51824 invoked by uid 500); 5 Sep 2005 20:40:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 51811 invoked by uid 99); 5 Sep 2005 20:40:26 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Sep 2005 13:40:26 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of axelclk@gmail.com designates 64.233.182.195 as permitted sender)
Received: from [64.233.182.195] (HELO nproxy.gmail.com) (64.233.182.195)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Sep 2005 13:40:39 -0700
Received: by nproxy.gmail.com with SMTP id i2so174433nfe
        for <java-user@lucene.apache.org>; Mon, 05 Sep 2005 13:40:22 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=jYyYxAgyjvEq48srwowzbRx2yYRPFF7EVSsbn9heXYntEzV/ANupZXe6w171YgP8b+uMEJwy8CyOfBdHtwejYSzejjbDHOVjhkNVZEKJstf0og4YJy+WOpxtbLx4vRDRLidhv7mnHVOgBpcj0RvGSc0/gqwS7N28+m6La5WV7ys=
Received: by 10.48.236.2 with SMTP id j2mr145478nfh;
        Mon, 05 Sep 2005 13:40:22 -0700 (PDT)
Received: by 10.48.43.6 with HTTP; Mon, 5 Sep 2005 13:40:22 -0700 (PDT)
Message-ID: <7a49c63505090513407a5801cc@mail.gmail.com>
Date: Mon, 5 Sep 2005 22:40:22 +0200
From: Axel <axelclk@gmail.com>
Reply-To: axelclk@gmail.com
To: java-user@lucene.apache.org
Subject: List of values from refix query
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi

Assuming that in the indexing process I setup 3 different documents
doc1, doc2, doc3.

with something like:
doc1.add(Field.Keyword("variable", "var_no1"));
doc1.add(Field.Keyword("variable", "var_test1"));

doc2.add(Field.Keyword("variable", "var_no2"));
doc2.add(Field.Keyword("variable", "var_test2"));

doc3.add(Field.Keyword("variable", "var_no3"));

How can I get all values across the documents with a given prefix?
For prefix =3D "var" for example I would like to have a list of all 5 value=
s.

For prefix =3D "var_no" for example I would like to have a list of the valu=
es
{"var_no1", "var_no2", "var_no3"}.

Is there already a method for this case or must the list be merged
together from the document Hits for a PrefixQuery?

...
Query query =3D new PrefixQuery(new Term("variable", prefix));
Hits hits =3D fSearcher.search(query);
....

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16224-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 05 21:14:31 2005
Return-Path: <java-user-return-16224-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 46089 invoked from network); 5 Sep 2005 21:14:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Sep 2005 21:14:31 -0000
Received: (qmail 87416 invoked by uid 500); 5 Sep 2005 21:14:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87283 invoked by uid 500); 5 Sep 2005 21:14:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87219 invoked by uid 99); 5 Sep 2005 21:14:24 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Sep 2005 14:14:24 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.200.39] (HELO web31106.mail.mud.yahoo.com) (68.142.200.39)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 05 Sep 2005 14:14:37 -0700
Received: (qmail 57215 invoked by uid 60001); 5 Sep 2005 21:14:21 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=5k0j5XMR3tl2zTzj4SOJX3xXyKZIaFJ/GABUQBZclEeEzvlbUu/u264CX2e+RJtO3/PKqS148/09GwM5eCuRydN2qkiJM2d3oZP7ug2e99UHq6lBtfDI6DYcNGdXmSUAP9DvbFa1fDCt+uMHUdEd61qfgwtyss4fnNcjARIwfvc=  ;
Message-ID: <20050905211421.57213.qmail@web31106.mail.mud.yahoo.com>
Received: from [69.201.142.21] by web31106.mail.mud.yahoo.com via HTTP; Mon, 05 Sep 2005 14:14:21 PDT
Date: Mon, 5 Sep 2005 14:14:21 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: List of values from refix query
To: java-user@lucene.apache.org
In-Reply-To: <7a49c63505090513407a5801cc@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

That looks correct.  That's what PrefixQuery is for.  If you use
QueryParser and give if "var*", QP will convert that to PrefixQuery for
you.

Otis

--- Axel <axelclk@gmail.com> wrote:

> Hi
> 
> Assuming that in the indexing process I setup 3 different documents
> doc1, doc2, doc3.
> 
> with something like:
> doc1.add(Field.Keyword("variable", "var_no1"));
> doc1.add(Field.Keyword("variable", "var_test1"));
> 
> doc2.add(Field.Keyword("variable", "var_no2"));
> doc2.add(Field.Keyword("variable", "var_test2"));
> 
> doc3.add(Field.Keyword("variable", "var_no3"));
> 
> How can I get all values across the documents with a given prefix?
> For prefix = "var" for example I would like to have a list of all 5
> values.
> 
> For prefix = "var_no" for example I would like to have a list of the
> values
> {"var_no1", "var_no2", "var_no3"}.
> 
> Is there already a method for this case or must the list be merged
> together from the document Hits for a PrefixQuery?
> 
> ...
> Query query = new PrefixQuery(new Term("variable", prefix));
> Hits hits = fSearcher.search(query);
> ....
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16225-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 05 22:05:41 2005
Return-Path: <java-user-return-16225-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 59056 invoked from network); 5 Sep 2005 22:05:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Sep 2005 22:05:40 -0000
Received: (qmail 30583 invoked by uid 500); 5 Sep 2005 22:05:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30554 invoked by uid 500); 5 Sep 2005 22:05:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30541 invoked by uid 99); 5 Sep 2005 22:05:36 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Sep 2005 15:05:36 -0700
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Sep 2005 15:05:49 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 0F4765B785; Mon,  5 Sep 2005 15:05:30 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 0DA187F476
	for <java-user@lucene.apache.org>; Mon,  5 Sep 2005 15:05:30 -0700 (PDT)
Date: Mon, 5 Sep 2005 15:05:30 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: SAME-opattor (possible newbie question)
In-Reply-To: <3F56AD2C-637F-49A1-B336-F617EE086508@kb.se>
Message-ID: <Pine.LNX.4.58.0509051441400.19231@hal.rescomp.berkeley.edu>
References: <46e0543778.4377846e05@kb.se> <Pine.LNX.4.58.0509041636540.20559@hal.rescomp.berkeley.edu>
 <3F56AD2C-637F-49A1-B336-F617EE086508@kb.se>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: > : For example, given this data:
: > :
: > : author: a b c
: > : author: d e f

: > : a search for "a SAME c" would match the first row, but "a SAME d"
: > would
: > : match nothing, which is what I want.

: No, both fields are in the same document. Which is also why proximity
: does not work.

: Or is there some way of telling a proximity query to not cross field
: boundaries?

you have to be careful about your terms.  In lucene, there isn't really
any notion of a "field boundary" unless you are talking about two fields
with different names.  If you create a document and add two
(indexed and tokenized) Field objects with the same field name, they are
treated the same as if they had been concatenated together (see the
javadocs for Document.add)

The good news is: as long as you've got some practical limits on the size
of your field values, you should be able to use a custom
Analyzer/TokenFilter to get the bahavior you want -- by creating a "magic
token" to seperate your individual values, and using a TokenFilter that
throws away these magic tokens when it seems them, but artificially bumps
up the positionIncriment for the next token it gets by some really large
ammount -- so that Phrase/SpanNear queries with with a slop less then that
amount will never cross your "boundary"

for example: if your source data has the following values for author...

   1) Napolean
   2) Terrence "The Man With Two Dynamite Brains" Winchester
   3) Hoss Man

... add that field as a single string value...

   Napolean ~AUTHOR~ Terrence "The Man With Two
   Dynamite Brains" Winchester ~AUTHOR~ Hoss Man

...and use an analyzer/tokenfilter that creates the following
token/position pairs...

   Napolean(0) Terrene(1000) The(1001) Man(1002) With(1003) Two(1004)
   Dynamite(1005) Brains(1006), Winchester(1007), Hoss(2007), Man(2008)

now as long as you use a slop less then 1000, searches for
author:"Hoss Man" and author:"Terrence Winchester" will return this
document, but a search for author:"Napolean Dynamite" will fail.



LIA has good info on writting your own analyzer/tokenfilter.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16226-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 05 22:10:40 2005
Return-Path: <java-user-return-16226-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 59653 invoked from network); 5 Sep 2005 22:10:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 5 Sep 2005 22:10:40 -0000
Received: (qmail 33011 invoked by uid 500); 5 Sep 2005 22:10:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 32986 invoked by uid 500); 5 Sep 2005 22:10:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 32972 invoked by uid 99); 5 Sep 2005 22:10:36 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Sep 2005 15:10:36 -0700
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Sep 2005 15:10:49 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 738C65B78B; Mon,  5 Sep 2005 15:10:34 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP
	id 58C1D7F476; Mon,  5 Sep 2005 15:10:34 -0700 (PDT)
Date: Mon, 5 Sep 2005 15:10:34 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org, axelclk@gmail.com
Subject: Re: List of values from refix query
In-Reply-To: <7a49c63505090513407a5801cc@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0509051507420.19231@hal.rescomp.berkeley.edu>
References: <7a49c63505090513407a5801cc@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: How can I get all values across the documents with a given prefix?
: For prefix = "var" for example I would like to have a list of all 5 values.
:
: For prefix = "var_no" for example I would like to have a list of the values
: {"var_no1", "var_no2", "var_no3"}.

if you just want the values, you can use a TermEnum and stop iterating
when the Terms no longer match the prefix (or no longer match the field)

take a look at the javadocs for IndexReader.terms(Term) and try executing
"reader.terms(new Term("variable","var_no"));




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16227-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 06 02:27:03 2005
Return-Path: <java-user-return-16227-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35893 invoked from network); 6 Sep 2005 02:27:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Sep 2005 02:27:03 -0000
Received: (qmail 231 invoked by uid 500); 6 Sep 2005 02:26:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 204 invoked by uid 500); 6 Sep 2005 02:26:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 191 invoked by uid 99); 6 Sep 2005 02:26:57 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Sep 2005 19:26:57 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [203.181.105.71] (HELO hfep05.dion.ne.jp) (203.181.105.71)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Sep 2005 19:27:11 -0700
Received: from koji ([59.135.86.147]) by hfep05.dion.ne.jp with ESMTP
          id <20050906022655072.FSRY@hfep05.dion.ne.jp>
          for <java-user@lucene.apache.org>; Tue, 6 Sep 2005 11:26:55 +0900
From: "Koji Sekiguchi" <koji.sekiguchi@m4.dion.ne.jp>
To: <java-user@lucene.apache.org>
Subject: Highlighter apply to Japanese
Date: Tue, 6 Sep 2005 11:22:05 +0900
Message-ID: <000001c5b289$c96db100$0300a8c0@koji>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2627
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi again,

I'm using highlighter to highlight terms in Japanese text,
but I cannot get preferable output.

If I use StandardAnalyzer or SnowballAnalyzer w/ English,
getBestFragment() returns preferable outputs:

Sample: (SnowballAnalyzer)
Text: A meeting will be held in the City Hall
TokenStream:
[a][meet][will][be][held][in][the][citi][hall]
Query Text: meet
Output: A <B>meeting</B> will be held in the City Hall

But if I use JapaneseAnalyzer, which is most popular Analyzer
in Japan to get TokenStream from Japanese text, to highlight
Japanese text with Highlighter, whole text is highlighted:

Sample: (JapaneseAnalyzer)
Text: AMeetingWillBeHeldInTheCityHall
TokenStream:
[A][Meeting][Will][Be][Held][In][The][City][Hall]
Query Text: Meeting
Output: <B>AMeetingWillBeHeldInTheCityHall</B>

Please note that I use alphabet to show the Text at second sample
because most users in this mailing list can read it, but in reality,
I used Japanese characters for the Text. And you'll see that
JapaneseAnalyzer,
which uses Japanese dictionary on background to extract tokens
from text stream, can recognize tokens and produce TokenStream.
But highlighter.getBestFragment() highlighted whole text.

Do I need to implement Fragmenter to highlight tokens correctly
for Japanese text?

Thanks in advance,

Koji




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16228-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 06 03:15:22 2005
Return-Path: <java-user-return-16228-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 43716 invoked from network); 6 Sep 2005 03:15:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Sep 2005 03:15:21 -0000
Received: (qmail 22285 invoked by uid 500); 6 Sep 2005 03:15:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22253 invoked by uid 500); 6 Sep 2005 03:15:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22240 invoked by uid 99); 6 Sep 2005 03:15:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Sep 2005 20:15:17 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=HTML_20_30,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of hackingbear@gmail.com designates 66.249.82.192 as permitted sender)
Received: from [66.249.82.192] (HELO xproxy.gmail.com) (66.249.82.192)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Sep 2005 20:15:30 -0700
Received: by xproxy.gmail.com with SMTP id h28so1424514wxd
        for <java-user@lucene.apache.org>; Mon, 05 Sep 2005 20:15:15 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=Rt50EcigqNdQSvBK4+jYjzGn16N3e81muQSfmw6Gr8s0jViM6/exNnAdhyaPuXT8BQygSPc1jFKMSX+6exeMbgbPcqCAdYWcHLawYXDnGuxwVgoCJ51qvJs5t4Gkd0P4A0dR/AxYg3/2uA4gdwvvOoIyeg1tJApebXQbWSNs7e0=
Received: by 10.70.7.8 with SMTP id 8mr102382wxg;
        Mon, 05 Sep 2005 20:15:15 -0700 (PDT)
Received: by 10.70.12.11 with HTTP; Mon, 5 Sep 2005 20:15:15 -0700 (PDT)
Message-ID: <3feb1c060509052015771393e7@mail.gmail.com>
Date: Tue, 6 Sep 2005 11:15:15 +0800
From: Hacking Bear <hackingbear@gmail.com>
To: java-user@lucene.apache.org
Subject: Multi-lang analyzer? Re: Multiple Language Indexing and Searching
In-Reply-To: <431C0570.3020504@jalios.com>
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_1506_19547133.1125976515171"
References: <431C0570.3020504@jalios.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_1506_19547133.1125976515171
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi,
 I have the similar problem to deal with. In fact, a lot of times, the=20
documents do not have any lanugage information or it may contain text in=20
multiple languages. Further, the user would not like to always supply this=
=20
information. Also the user may very well be interested in documents in=20
multiple language.
 I think Google and other search engines allow indexing multi-lanugage=20
documents. For example, if you google "Java", there will many matched=20
documents in lanugages other than English.
 The only assumption we can make is that the document text are converted to=
=20
Unicode before feeding to Lucene.

So I think the solution should be (1) create one index for all lanugage (2)=
=20
add an advisory attribute like "lang" to specify the language of the=20
document; if the language is unknown, just leave it empty or set to "ANY";=
=20
(3) based on the code pages of the upcoming Unicode character, we=20
automatically switch among different analyzers to index the fragments of th=
e=20
text; (4) during search, unless the user explicitly requesting documents in=
=20
certain language, we return all matches regardless of lanugage.
 I have browsed through the Lucene and contributed source codes, but I=20
cannot tell which analyzer is suitable for use (in (3).) While the logic fo=
r=20
such an analyzer is probably not too complicate, it seems to demand quite=
=20
some Unicode knowledge to create one.
 Is my approach the right one? Is there an analyzer suitable to use?
 Thanks.
- HB

 On 9/5/05, Olivier Jaquemet <olivier.jaquemet@jalios.com> wrote:=20
>=20
> Hi,
>=20
> I'd like to go in details regarding issues that occurs when you want to
> index and search contents in multiple languages.
>=20
> I have read Lucene in Action book, and many thread on this mailing list,
> the most interesting so far being this one:
>=20
> http://mail-archives.apache.org/mod_mbox/lucene-java-user/200505.mbox/%3c=
19ADCC0B9D4CAD4582BB9900BBCE35740194503C@tayexc13.americas.cpqcorp.net%3e
>=20
> The solution choosen/recommended by Doug Cutting in this message:
>=20
> http://mail-archives.apache.org/mod_mbox/lucene-java-user/200506.mbox/%3c=
42A0841C.2090202@apache.org%3e
> is the number '2/':
> Having one index for all languages one Document per content's language
> with a field specify its language, and using a query filter when=20
> searching.
>=20
> While I think it is a good solution:
> - If you have N languages, if you search for something in 1 language,
> you are going to search an index N times too large.
> Wouldn't it be better to have N indices for N languages? That way, each
> index could benefit of its specialized analyser, and if you need to
> search in multiple languages, you just need to merge result of those
> differents analyzer.
> - If you have contents in multiple language like we do, and by that I
> don't mean multiple contents each one having its own language, but
> multiple content, each one being in many languages. You are going to
> have a N to 1, Document/content relation in the index.
> As far as update, delete, and search in multiple language are concerned,
> wouldn't it be simpler to alway keep a 1 to 1 Document/content relation
> in an index?
>=20
> As you may have guess, my original thought, even before I read those
> thread, was that the solution number 3. might be more flexible/modular
> than the others, of course it also has its drawbacks:
> - performance issue when doing multiple language search, specially when
> merging results of different index.
> - more complex to code
> - other?
>=20
> Can you clarify on this?
> What solutions all of you have choosen til now regarding indexing and
> searching of multiple content in multiple language ?
>=20
> Thanks!
>=20
> Olivier
>=20
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>

------=_Part_1506_19547133.1125976515171--

From java-user-return-16229-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 06 05:53:59 2005
Return-Path: <java-user-return-16229-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 80714 invoked from network); 6 Sep 2005 05:53:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Sep 2005 05:53:58 -0000
Received: (qmail 970 invoked by uid 500); 6 Sep 2005 05:53:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99972 invoked by uid 500); 6 Sep 2005 05:53:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99959 invoked by uid 99); 6 Sep 2005 05:53:54 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Sep 2005 22:53:54 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of nilshoeller@arcor.de designates 151.189.21.45 as permitted sender)
Received: from [151.189.21.45] (HELO mail-in-05.arcor-online.net) (151.189.21.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Sep 2005 22:54:06 -0700
Received: from mail-in-05-z2.arcor-online.net (mail-in-05-z2.arcor-online.net [151.189.8.17])
	by mail-in-05.arcor-online.net (Postfix) with ESMTP id 89AF8781F4
	for <java-user@lucene.apache.org>; Tue,  6 Sep 2005 07:53:51 +0200 (CEST)
Received: from mail-in-05.arcor-online.net (mail-in-05.arcor-online.net [151.189.21.45])
	by mail-in-05-z2.arcor-online.net (Postfix) with ESMTP id 7B303113094
	for <java-user@lucene.apache.org>; Tue,  6 Sep 2005 07:53:51 +0200 (CEST)
Received: from linux.site (p548CC636.dip.t-dialin.net [84.140.198.54])
	(Authenticated sender: nilshoeller@arcor.de)
	by mail-in-05.arcor-online.net (Postfix) with ESMTP id 1400C781F4
	for <java-user@lucene.apache.org>; Tue,  6 Sep 2005 07:53:50 +0200 (CEST)
Subject: use of Luke s getHighFreqTerms
From: Nils Hoeller <nilshoeller@arcor.de>
To: java-user@lucene.apache.org
Content-Type: text/plain
Date: Tue, 06 Sep 2005 07:53:52 +0200
Message-Id: <1125986033.7204.7.camel@linux.site>
Mime-Version: 1.0
X-Mailer: Evolution 2.2.1 
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

i ve got only one little question:


I m using the class HighFreqTerms of the Luke Project to
find those terms in my index ( made by Nutch) 

Now I wanted to filter the Terms with a 
stopwordlist (junkwords).

The method getHighFreqTerms gives me the ability 
to define a Hashtable junkwords , which I suppose 
to be the filtering part. 

But how do I have to use it, since 
my first tries failed:

I ve tried something like:

Hashtable junk = new Hashtable();
String word = new String();
word = "the";
junk.put(new Integer(word.hashCode()),word);
TermInfo[] terms = getHighFreqTerms(dir, junk, new String[]{"content"});

But this did not work, which means did not filter the word "the".

What am I doing wrong?

Thanks for your help.

Nils


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16230-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 06 06:21:19 2005
Return-Path: <java-user-return-16230-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 86993 invoked from network); 6 Sep 2005 06:21:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Sep 2005 06:21:19 -0000
Received: (qmail 24223 invoked by uid 500); 6 Sep 2005 06:21:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 23305 invoked by uid 500); 6 Sep 2005 06:21:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 23292 invoked by uid 99); 6 Sep 2005 06:21:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Sep 2005 23:21:14 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of sean@oconeco.com designates 216.239.128.26 as permitted sender)
Received: from [216.239.128.26] (HELO smtp.omnis.com) (216.239.128.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Sep 2005 23:21:27 -0700
Received: from [127.0.0.1] (va-71-48-139-67.dhcp.sprint-hsd.net [71.48.139.67])
	by smtp-relay.omnis.com (Postfix) with ESMTP id B3CA0200688C
	for <java-user@lucene.apache.org>; Mon,  5 Sep 2005 23:21:11 -0700 (PDT)
Message-ID: <431D3580.3080303@oconeco.com>
Date: Tue, 06 Sep 2005 02:21:52 -0400
From: Sean O'Connor <sean@oconeco.com>
User-Agent: Mozilla Thunderbird 1.0.2 (Windows/20050317)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Hits document offset information? Span query or Surround?
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I believe I have heard that Span queries provide some way to access 
document offset information for their hits somehow. Does anyone know if 
this is true, and if so, how I would go about it?

Alternatively (preferably actually) does the surround code from the SVN 
development area have a way of returning offsets for the matching hits?

I believe the current highlighter code matches all query terms in a hit 
document, not just those satisfying a query criteria. I need a more 
precise way to access the hit term offsets. I am working on hit 
highlighting, hit excepts and summaries, and compound queries  (is this 
called search vectors?). I am still working through the surround code in 
dev. to see if that gives me the compound queries I need.

I am willing to spend a few days to work on implementing adding offsets 
to the returned hits (or something similar) if this is not currently 
available. It is something I need, even at the cost of search efficiency.
Thanks

Sean



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16231-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 06 06:37:30 2005
Return-Path: <java-user-return-16231-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90424 invoked from network); 6 Sep 2005 06:37:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Sep 2005 06:37:30 -0000
Received: (qmail 32173 invoked by uid 500); 6 Sep 2005 06:37:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31967 invoked by uid 500); 6 Sep 2005 06:37:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31953 invoked by uid 99); 6 Sep 2005 06:37:24 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Sep 2005 23:37:24 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.12.11.34] (HELO smtp003.mail.ukl.yahoo.com) (217.12.11.34)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 05 Sep 2005 23:37:37 -0700
Received: (qmail 85881 invoked from network); 6 Sep 2005 06:37:21 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Received:Message-ID:Date:From:User-Agent:X-Accept-Language:MIME-Version:To:Subject:References:In-Reply-To:Content-Type:Content-Transfer-Encoding;
  b=d/QGh5umDn2zkUx3yYCSISM+PaJ3+/SnyohJ/4GmstoI63K3QmtJA4T75x6tYzClD3KXDehoOW9ShqeXeYHLcP5vWTmsj7XfAeBCbnnZBt/0naZ98mWw7sHgek+4q4somVej1FInV6lByDxmcSnCbjJNFkR3V3wL2uxHS/UQ2Vs=  ;
Received: from unknown (HELO ?127.0.0.1?) (markharw00d@194.106.34.5 with plain)
  by smtp003.mail.ukl.yahoo.com with SMTP; 6 Sep 2005 06:37:21 -0000
Message-ID: <431D391E.2030806@yahoo.co.uk>
Date: Tue, 06 Sep 2005 07:37:18 +0100
From: markharw00d <markharw00d@yahoo.co.uk>
User-Agent: Mozilla Thunderbird 1.0.5 (Windows/20050711)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Highlighter apply to Japanese
References: <000001c5b289$c96db100$0300a8c0@koji>
In-Reply-To: <000001c5b289$c96db100$0300a8c0@koji>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I don't know the behaviour of the Japanese Analyzer you are using.
Can you add to your example diagnosis the Token.getPositionIncrement, 
Token.startOffset and Token.endOffset for each of the tokens?

The highlighter groups tokens with overlapping start and end offsets 
into a single TokenGroup for the purposes of highlighting. This allows 
TokenStreams which produce multiple synonyms for the same source token 
to work. This behaviour was also required to get the CJKAnalyzer to 
work. It could be that the Analyzer you are using is producing a stream 
of tokens which *all* overlap?

Cheers
Mark


		
___________________________________________________________ 
To help you stay safe and secure online, we've developed the all new Yahoo! Security Centre. http://uk.security.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16232-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 06 06:52:14 2005
Return-Path: <java-user-return-16232-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92763 invoked from network); 6 Sep 2005 06:52:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Sep 2005 06:52:14 -0000
Received: (qmail 43693 invoked by uid 500); 6 Sep 2005 06:52:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42779 invoked by uid 500); 6 Sep 2005 06:52:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42766 invoked by uid 99); 6 Sep 2005 06:52:10 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Sep 2005 23:52:10 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.12.11.33] (HELO smtp002.mail.ukl.yahoo.com) (217.12.11.33)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 05 Sep 2005 23:52:23 -0700
Received: (qmail 41637 invoked from network); 6 Sep 2005 06:52:06 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Received:Message-ID:Date:From:User-Agent:X-Accept-Language:MIME-Version:To:Subject:References:In-Reply-To:Content-Type:Content-Transfer-Encoding;
  b=wll0IwwkbuvKh1tSp/HOEkwYgGkAsa0i3RtciFhs9FkfMRg9k74whULRkTJ+sOIGL9Fu4/YYumUJgsECPFNnJDfsdkpPpIFqGSaLOzVf16uEyx8c4E8zTjLY2PPL5BPvy0iei1BJf6BIPBMy74/scw8eZZ72iDztVecFKtIxBjY=  ;
Received: from unknown (HELO ?127.0.0.1?) (markharw00d@194.106.34.5 with plain)
  by smtp002.mail.ukl.yahoo.com with SMTP; 6 Sep 2005 06:52:06 -0000
Message-ID: <431D3C94.3090101@yahoo.co.uk>
Date: Tue, 06 Sep 2005 07:52:04 +0100
From: markharw00d <markharw00d@yahoo.co.uk>
User-Agent: Mozilla Thunderbird 1.0.5 (Windows/20050711)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Hits document offset information? Span query or Surround?
References: <431D3580.3080303@oconeco.com>
In-Reply-To: <431D3580.3080303@oconeco.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

 >>I believe I have heard that Span queries provide some way to access 
document offset information for their hits somehow.

See http://marc.theaimsgroup.com/?l=lucene-user&m=112496111224218&w=2

Faithfully selecting extracts based *exactly* on query criteria will be 
hard given complex queries eg with nested Boolean logic.

The current highlighter matches based on ANY query terms found in the 
provided doc text
The proposal above matches based on any spans/phrases/terms

Both options still fail to take into account any boolean logic and show 
the real basis for the match eg the query
    (author:"Doug Cutting"AND title:"Lucene in Action") OR (author:Erik 
AND author:Otis)
would still highlight references to "Doug Cutting" and "Lucene In 
Action" for the LIA book, despite the fact that the match was actually 
for Erik and Otis (the true authors).
For most people this is a problem they can live with.

Cheers
Mark


		
___________________________________________________________ 
To help you stay safe and secure online, we've developed the all new Yahoo! Security Centre. http://uk.security.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16233-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 06 06:52:42 2005
Return-Path: <java-user-return-16233-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92843 invoked from network); 6 Sep 2005 06:52:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Sep 2005 06:52:42 -0000
Received: (qmail 44641 invoked by uid 500); 6 Sep 2005 06:52:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43909 invoked by uid 500); 6 Sep 2005 06:52:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43896 invoked by uid 99); 6 Sep 2005 06:52:37 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Sep 2005 23:52:37 -0700
X-ASF-Spam-Status: No, hits=1.9 required=10.0
	tests=RCVD_BY_IP,RCVD_IN_BL_SPAMCOP_NET,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of chris.lu@gmail.com designates 66.249.82.207 as permitted sender)
Received: from [66.249.82.207] (HELO xproxy.gmail.com) (66.249.82.207)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 05 Sep 2005 23:52:49 -0700
Received: by xproxy.gmail.com with SMTP id h28so1455288wxd
        for <java-user@lucene.apache.org>; Mon, 05 Sep 2005 23:52:34 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=HM3X3XhhqYHfRFMUoeM8s1mSKA2AmuhW4TiYzLx642Ewwyhm0hHhDbM0mf3xDi5hKaDdfJ6lkDDl3CJlpi9ZafyiEUCOXnchmHPnSGcmYqk/mPrAAcXbYQcNfK4jTocDImaD0+v8ghD+HfkB3is466D2juasEVCDijpbCRITtTc=
Received: by 10.70.35.2 with SMTP id i2mr112753wxi;
        Mon, 05 Sep 2005 23:52:34 -0700 (PDT)
Received: by 10.70.23.8 with HTTP; Mon, 5 Sep 2005 23:52:34 -0700 (PDT)
Message-ID: <6e3ae6310509052352249c233b@mail.gmail.com>
Date: Mon, 5 Sep 2005 23:52:34 -0700
From: Chris Lu <chris.lu@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Highlighter apply to Japanese
In-Reply-To: <000001c5b289$c96db100$0300a8c0@koji>
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <000001c5b289$c96db100$0300a8c0@koji>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi, Koji,

I had the same problem as you. This is because CJK's n-gram analysis
is different from single character's.

My get around is to use CJKHighlighter and CJKHighlightAnalyzer in sandbox.

--=20
Chris Lu
------------
Lucene Search RAD on Any Database
http://www.dbsight.net


On 9/5/05, Koji Sekiguchi <koji.sekiguchi@m4.dion.ne.jp> wrote:
> Hi again,
>=20
> I'm using highlighter to highlight terms in Japanese text,
> but I cannot get preferable output.
>=20
> If I use StandardAnalyzer or SnowballAnalyzer w/ English,
> getBestFragment() returns preferable outputs:
>=20
> Sample: (SnowballAnalyzer)
> Text: A meeting will be held in the City Hall
> TokenStream:
> [a][meet][will][be][held][in][the][citi][hall]
> Query Text: meet
> Output: A <B>meeting</B> will be held in the City Hall
>=20
> But if I use JapaneseAnalyzer, which is most popular Analyzer
> in Japan to get TokenStream from Japanese text, to highlight
> Japanese text with Highlighter, whole text is highlighted:
>=20
> Sample: (JapaneseAnalyzer)
> Text: AMeetingWillBeHeldInTheCityHall
> TokenStream:
> [A][Meeting][Will][Be][Held][In][The][City][Hall]
> Query Text: Meeting
> Output: <B>AMeetingWillBeHeldInTheCityHall</B>
>=20
> Please note that I use alphabet to show the Text at second sample
> because most users in this mailing list can read it, but in reality,
> I used Japanese characters for the Text. And you'll see that
> JapaneseAnalyzer,
> which uses Japanese dictionary on background to extract tokens
> from text stream, can recognize tokens and produce TokenStream.
> But highlighter.getBestFragment() highlighted whole text.
>=20
> Do I need to implement Fragmenter to highlight tokens correctly
> for Japanese text?
>=20
> Thanks in advance,
>=20
> Koji
>=20
>=20
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16234-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 06 07:11:45 2005
Return-Path: <java-user-return-16234-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98189 invoked from network); 6 Sep 2005 07:11:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Sep 2005 07:11:41 -0000
Received: (qmail 74006 invoked by uid 500); 6 Sep 2005 07:11:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73720 invoked by uid 500); 6 Sep 2005 07:11:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73578 invoked by uid 99); 6 Sep 2005 07:11:21 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Sep 2005 00:11:21 -0700
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.109.24.25] (HELO smtp-vbr5.xs4all.nl) (194.109.24.25)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Sep 2005 00:11:17 -0700
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr5.xs4all.nl (8.13.3/8.13.3) with ESMTP id j867B1Q6071045;
	Tue, 6 Sep 2005 09:11:01 +0200 (CEST)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org, "Sean O'Connor" <sean@oconeco.com>
Subject: Re: Hits document offset information? Span query or Surround?
Date: Tue, 6 Sep 2005 09:11:01 +0200
User-Agent: KMail/1.5.4
References: <431D3580.3080303@oconeco.com>
In-Reply-To: <431D3580.3080303@oconeco.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200509060911.01102.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Tuesday 06 September 2005 08:21, Sean O'Connor wrote:
> I believe I have heard that Span queries provide some way to access 
> document offset information for their hits somehow. Does anyone know if 
> this is true, and if so, how I would go about it?
> 
> Alternatively (preferably actually) does the surround code from the SVN 
> development area have a way of returning offsets for the matching hits?

Using getSpans(reader) on the span query will provide the Spans that
match the query. A Spans iterates through begin/end offset pairs within 
the matching docs. This is provided by Lucene.

> 
> I believe the current highlighter code matches all query terms in a hit 
> document, not just those satisfying a query criteria. I need a more 
> precise way to access the hit term offsets. I am working on hit 
> highlighting, hit excepts and summaries, and compound queries  (is this 
> called search vectors?). I am still working through the surround code in 
> dev. to see if that gives me the compound queries I need.
> 
> I am willing to spend a few days to work on implementing adding offsets 
> to the returned hits (or something similar) if this is not currently 
> available. It is something I need, even at the cost of search efficiency.

See also the thread on better highlighting that started on 25 August
and this:
http://issues.apache.org/bugzilla/show_bug.cgi?id=35518

Regards,
Paul Elschot


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16235-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 06 07:15:38 2005
Return-Path: <java-user-return-16235-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 99245 invoked from network); 6 Sep 2005 07:15:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Sep 2005 07:15:38 -0000
Received: (qmail 77796 invoked by uid 500); 6 Sep 2005 07:15:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 77772 invoked by uid 500); 6 Sep 2005 07:15:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 77759 invoked by uid 99); 6 Sep 2005 07:15:31 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Sep 2005 00:15:31 -0700
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.109.24.23] (HELO smtp-vbr3.xs4all.nl) (194.109.24.23)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Sep 2005 00:15:44 -0700
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr3.xs4all.nl (8.13.3/8.13.3) with ESMTP id j867FTFs086707
	for <java-user@lucene.apache.org>; Tue, 6 Sep 2005 09:15:29 +0200 (CEST)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: Hits document offset information? Span query or Surround?
Date: Tue, 6 Sep 2005 09:15:28 +0200
User-Agent: KMail/1.5.4
References: <431D3580.3080303@oconeco.com> <431D3C94.3090101@yahoo.co.uk>
In-Reply-To: <431D3C94.3090101@yahoo.co.uk>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200509060915.28623.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Tuesday 06 September 2005 08:52, markharw00d wrote:
>  >>I believe I have heard that Span queries provide some way to access 
> document offset information for their hits somehow.
> 
> See http://marc.theaimsgroup.com/?l=lucene-user&m=112496111224218&w=2
> 
> Faithfully selecting extracts based *exactly* on query criteria will be 
> hard given complex queries eg with nested Boolean logic.
> 
> The current highlighter matches based on ANY query terms found in the 
> provided doc text
> The proposal above matches based on any spans/phrases/terms
> 
> Both options still fail to take into account any boolean logic and show 
> the real basis for the match eg the query
>     (author:"Doug Cutting"AND title:"Lucene in Action") OR (author:Erik 
> AND author:Otis)
> would still highlight references to "Doug Cutting" and "Lucene In 
> Action" for the LIA book, despite the fact that the match was actually 
> for Erik and Otis (the true authors).
> For most people this is a problem they can live with.

The person who solves that might also write a SpanAndQuery :)

Regards,
Paul Elschot


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16236-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 06 07:30:16 2005
Return-Path: <java-user-return-16236-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 9779 invoked from network); 6 Sep 2005 07:30:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Sep 2005 07:30:15 -0000
Received: (qmail 99241 invoked by uid 500); 6 Sep 2005 07:30:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 98379 invoked by uid 500); 6 Sep 2005 07:30:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 98364 invoked by uid 99); 6 Sep 2005 07:30:10 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Sep 2005 00:30:10 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [193.252.22.21] (HELO smtp10.wanadoo.fr) (193.252.22.21)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Sep 2005 00:30:23 -0700
Received: from me-wanadoo.net (localhost [127.0.0.1])
	by mwinf1003.wanadoo.fr (SMTP Server) with ESMTP id C1E7C2000351
	for <java-user@lucene.apache.org>; Tue,  6 Sep 2005 09:30:05 +0200 (CEST)
Received: from [127.0.0.1] (AVelizy-115-2-1-38.w81-48.abo.wanadoo.fr [81.48.163.38])
	by mwinf1003.wanadoo.fr (SMTP Server) with ESMTP id 7B293200034E
	for <java-user@lucene.apache.org>; Tue,  6 Sep 2005 09:30:05 +0200 (CEST)
X-ME-UUID: 20050906073005504.7B293200034E@mwinf1003.wanadoo.fr
Message-ID: <431D4577.4060901@jalios.com>
Date: Tue, 06 Sep 2005 09:29:59 +0200
From: Olivier Jaquemet <olivier.jaquemet@jalios.com>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Multiple Language Indexing and Searching
References: <431C0570.3020504@jalios.com> <3feb1c060509052015771393e7@mail.gmail.com>
In-Reply-To: <3feb1c060509052015771393e7@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

As far as your usage is concerned, it seems to be the right approach, 
and I think the StandardAnalyzer does the job pretty right when it has 
to deal with whatever language you want.
Though, note that it won't deal with all languages' stop words but the 
English ones, unless specified at index time  But then if you change the 
stop words at index time, what should you use at query time, some query 
it won't work well.

But as far as I am concerned, each content (content in the sense of a 
CMS) is known to have multiple language, and each of these language 
*can* be indexed separately with no problem at all, and therefore a 
dedicated analyser could be use. So I was wondering whether my approach 
could be the right one of if it was over complex, and could introduce 
some problem I could not see... (My approach being: one index per language)
Advantages are:
- you always have the same analyzer for one index, so if want to benefit 
from some indexing capabilities in one language (stemmer, filter.. 
whatever), you can!
- Should you need to search in all the language, you just need to do the 
query on every single index and you still benefit from each analyzer.
Inconvenients are
- You have to deal with as much indices as you have languages, but then 
again, if you do a search in only one language, it becomes an 
performance advantage I think.
- You have to merge results from different index, this is a probleme 
when dealing with score, any suggestions?
- Unless i'm wrong, you cannot use a MultipleSeacher, because only one 
analyzer can be specified, and not one analyzer per searcher (if someone 
could correct me if I'm wrong..)
 - others ??

I don't know if the developpers of lucene would agree, but from what 
I've been browsing on the ML archives, those multiple language issues 
seems to arrise quite often in the mailing list, and maybe some articles 
like "best practices", "do's and don'ts" or "Lucene Architecture in 
multiple language environement",  might be really nice to see :) If some 
of you have the time and the experience to write them I'll be really 
thankful! :)

Olivier

Hacking Bear wrote:

>Hi,
> I have the similar problem to deal with. In fact, a lot of times, the 
>documents do not have any lanugage information or it may contain text in 
>multiple languages. Further, the user would not like to always supply this 
>information. Also the user may very well be interested in documents in 
>multiple language.
> I think Google and other search engines allow indexing multi-lanugage 
>documents. For example, if you google "Java", there will many matched 
>documents in lanugages other than English.
> The only assumption we can make is that the document text are converted to 
>Unicode before feeding to Lucene.
>
>So I think the solution should be (1) create one index for all lanugage (2) 
>add an advisory attribute like "lang" to specify the language of the 
>document; if the language is unknown, just leave it empty or set to "ANY"; 
>(3) based on the code pages of the upcoming Unicode character, we 
>automatically switch among different analyzers to index the fragments of the 
>text; (4) during search, unless the user explicitly requesting documents in 
>certain language, we return all matches regardless of lanugage.
> I have browsed through the Lucene and contributed source codes, but I 
>cannot tell which analyzer is suitable for use (in (3).) While the logic for 
>such an analyzer is probably not too complicate, it seems to demand quite 
>some Unicode knowledge to create one.
> Is my approach the right one? Is there an analyzer suitable to use?
> Thanks.
>- HB
>
> On 9/5/05, Olivier Jaquemet <olivier.jaquemet@jalios.com> wrote: 
>  
>
>>Hi,
>>
>>I'd like to go in details regarding issues that occurs when you want to
>>index and search contents in multiple languages.
>>
>>I have read Lucene in Action book, and many thread on this mailing list,
>>the most interesting so far being this one:
>>
>>http://mail-archives.apache.org/mod_mbox/lucene-java-user/200505.mbox/%3c19ADCC0B9D4CAD4582BB9900BBCE35740194503C@tayexc13.americas.cpqcorp.net%3e
>>
>>The solution choosen/recommended by Doug Cutting in this message:
>>
>>http://mail-archives.apache.org/mod_mbox/lucene-java-user/200506.mbox/%3c42A0841C.2090202@apache.org%3e
>>is the number '2/':
>>Having one index for all languages one Document per content's language
>>with a field specify its language, and using a query filter when 
>>searching.
>>
>>While I think it is a good solution:
>>- If you have N languages, if you search for something in 1 language,
>>you are going to search an index N times too large.
>>Wouldn't it be better to have N indices for N languages? That way, each
>>index could benefit of its specialized analyser, and if you need to
>>search in multiple languages, you just need to merge result of those
>>differents analyzer.
>>- If you have contents in multiple language like we do, and by that I
>>don't mean multiple contents each one having its own language, but
>>multiple content, each one being in many languages. You are going to
>>have a N to 1, Document/content relation in the index.
>>As far as update, delete, and search in multiple language are concerned,
>>wouldn't it be simpler to alway keep a 1 to 1 Document/content relation
>>in an index?
>>
>>As you may have guess, my original thought, even before I read those
>>thread, was that the solution number 3. might be more flexible/modular
>>than the others, of course it also has its drawbacks:
>>- performance issue when doing multiple language search, specially when
>>merging results of different index.
>>- more complex to code
>>- other?
>>
>>Can you clarify on this?
>>What solutions all of you have choosen til now regarding indexing and
>>searching of multiple content in multiple language ?
>>
>>Thanks!
>>
>>Olivier
>>
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>>    
>>
>
>  
>


-- 
Olivier Jaquemet <olivier.jaquemet@jalios.com>
Ingénieur R&D Jalios S.A.
Tel: 01.39.23.92.83
http://www.jalios.com/
http://support.jalios.com/




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16237-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 06 08:50:06 2005
Return-Path: <java-user-return-16237-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 42088 invoked from network); 6 Sep 2005 08:50:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Sep 2005 08:50:06 -0000
Received: (qmail 7630 invoked by uid 500); 6 Sep 2005 08:50:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7600 invoked by uid 500); 6 Sep 2005 08:50:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7587 invoked by uid 99); 6 Sep 2005 08:50:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Sep 2005 01:50:01 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [203.181.105.70] (HELO hfep04.dion.ne.jp) (203.181.105.70)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Sep 2005 01:50:14 -0700
Received: from koji ([59.135.86.147]) by hfep04.dion.ne.jp with ESMTP
          id <20050906084958932.NIHQ@hfep04.dion.ne.jp>
          for <java-user@lucene.apache.org>; Tue, 6 Sep 2005 17:49:58 +0900
From: "Koji Sekiguchi" <koji.sekiguchi@m4.dion.ne.jp>
To: <java-user@lucene.apache.org>
Subject: RE: Highlighter apply to Japanese
Date: Tue, 6 Sep 2005 17:45:07 +0900
Message-ID: <000001c5b2bf$4c039cd0$0300a8c0@koji>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2627
Importance: Normal
In-Reply-To: <431D391E.2030806@yahoo.co.uk>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I added some code you advised and the result is as follows:

Text: AaaBCcDdEFGgHhIiJKkLMmN

	Pos	start	end
	Inc	Ofst	Ofst
[Aaa]	1	0	3
[B]	1	3	4
[Cc]	1	4	6
[Dd]	1	6	8
[E]	1	8	9
[F]	1	9	10
[Gg]	1	10	12
[Hh]	1	12	14
[Ii]	1	14	16
[J]	1	16	17
[Kk]	1	17	19
[L]	1	19	20
[Mm]	1	20	22
[N]	1	22	23

Output:
<B>AaaBCcDdEFGgHhIiJKkLMmN</B>

It seems JapaneseAnalyzer produces correct tokens
to me.

Any thoughts?

Koji

> -----Original Message-----
> From: markharw00d [mailto:markharw00d@yahoo.co.uk] 
> Sent: Tuesday, September 06, 2005 3:37 PM
> To: java-user@lucene.apache.org
> Subject: Re: Highlighter apply to Japanese
> 
> 
> I don't know the behaviour of the Japanese Analyzer you are using.
> Can you add to your example diagnosis the Token.getPositionIncrement, 
> Token.startOffset and Token.endOffset for each of the tokens?
> 
> The highlighter groups tokens with overlapping start and end offsets 
> into a single TokenGroup for the purposes of highlighting. 
> This allows 
> TokenStreams which produce multiple synonyms for the same 
> source token 
> to work. This behaviour was also required to get the CJKAnalyzer to 
> work. It could be that the Analyzer you are using is 
> producing a stream 
> of tokens which *all* overlap?
> 
> Cheers
> Mark
> 
> 
> 		
> ___________________________________________________________ 
> To help you stay safe and secure online, we've developed the 
> all new Yahoo! Security Centre. http://uk.security.yahoo.com
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16238-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 06 09:21:28 2005
Return-Path: <java-user-return-16238-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53036 invoked from network); 6 Sep 2005 09:21:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Sep 2005 09:21:28 -0000
Received: (qmail 53796 invoked by uid 500); 6 Sep 2005 09:21:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53761 invoked by uid 500); 6 Sep 2005 09:21:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53748 invoked by uid 99); 6 Sep 2005 09:21:22 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Sep 2005 02:21:22 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [203.181.105.69] (HELO hfep03.dion.ne.jp) (203.181.105.69)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Sep 2005 02:21:32 -0700
Received: from koji ([59.135.81.37]) by hfep03.dion.ne.jp with ESMTP
          id <20050906092116574.KWZN@hfep03.dion.ne.jp>
          for <java-user@lucene.apache.org>; Tue, 6 Sep 2005 18:21:16 +0900
From: "Koji Sekiguchi" <koji.sekiguchi@m4.dion.ne.jp>
To: <java-user@lucene.apache.org>
Subject: RE: Highlighter apply to Japanese
Date: Tue, 6 Sep 2005 18:16:26 +0900
Message-ID: <000001c5b2c3$ab5db860$0300a8c0@koji>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2627
Importance: Normal
In-Reply-To: <6e3ae6310509052352249c233b@mail.gmail.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Chris,

Thank you for your info.
With CJKAnalyzer, the diagnosis are as follows:

	pos	start	end
	Inc	Ofst	Ofst
[Aa]	1	0	2
[aa]	1	1	3
[aB]	1	2	4
[BC]	1	3	5
[Cc]	1	4	6
[cD]	1	5	7
[Dd]	1	6	8
[dE]	1	7	9
[EF]	1	8	10
[FG]	1	9	11
[Gg]	1	10	12
[gH]	1	11	13
[Hh]	1	12	14
[hI]	1	13	15
[Ii]	1	14	16
[iJ]	1	15	17
[JK]	1	16	18
[Kk]	1	17	19
[kL]	1	18	20
[LM]	1	19	21
[Mm]	1	20	22
[mN]	1	21	23

<B>AaaBCcDdEFGgHhIiJKkLMmN</B>

CJKAnalyzer is producing TokenStream which is all overlap
Mark was pointed out.
But JapaneseAnalyzer is producing a stream of tokens
are not overlapped as I showed in my previous mail.

BTW, I couldn't find CJKHighlighter and CJKHighlighterAnalyzer in
sandbox...

Koji

> -----Original Message-----
> From: Chris Lu [mailto:chris.lu@gmail.com] 
> Sent: Tuesday, September 06, 2005 3:53 PM
> To: java-user@lucene.apache.org
> Subject: Re: Highlighter apply to Japanese
> 
> 
> Hi, Koji,
> 
> I had the same problem as you. This is because CJK's n-gram analysis
> is different from single character's.
> 
> My get around is to use CJKHighlighter and 
> CJKHighlightAnalyzer in sandbox.
> 
> -- 
> Chris Lu
> ------------
> Lucene Search RAD on Any Database
> http://www.dbsight.net
> 
> 
> On 9/5/05, Koji Sekiguchi <koji.sekiguchi@m4.dion.ne.jp> wrote:
> > Hi again,
> > 
> > I'm using highlighter to highlight terms in Japanese text,
> > but I cannot get preferable output.
> > 
> > If I use StandardAnalyzer or SnowballAnalyzer w/ English,
> > getBestFragment() returns preferable outputs:
> > 
> > Sample: (SnowballAnalyzer)
> > Text: A meeting will be held in the City Hall
> > TokenStream:
> > [a][meet][will][be][held][in][the][citi][hall]
> > Query Text: meet
> > Output: A <B>meeting</B> will be held in the City Hall
> > 
> > But if I use JapaneseAnalyzer, which is most popular Analyzer
> > in Japan to get TokenStream from Japanese text, to highlight
> > Japanese text with Highlighter, whole text is highlighted:
> > 
> > Sample: (JapaneseAnalyzer)
> > Text: AMeetingWillBeHeldInTheCityHall
> > TokenStream:
> > [A][Meeting][Will][Be][Held][In][The][City][Hall]
> > Query Text: Meeting
> > Output: <B>AMeetingWillBeHeldInTheCityHall</B>
> > 
> > Please note that I use alphabet to show the Text at second sample
> > because most users in this mailing list can read it, but in reality,
> > I used Japanese characters for the Text. And you'll see that
> > JapaneseAnalyzer,
> > which uses Japanese dictionary on background to extract tokens
> > from text stream, can recognize tokens and produce TokenStream.
> > But highlighter.getBestFragment() highlighted whole text.
> > 
> > Do I need to implement Fragmenter to highlight tokens correctly
> > for Japanese text?
> > 
> > Thanks in advance,
> > 
> > Koji
> > 
> > 
> > 
> > 
> > 
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> > 
> >
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16239-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 06 10:21:52 2005
Return-Path: <java-user-return-16239-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70524 invoked from network); 6 Sep 2005 10:21:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Sep 2005 10:21:51 -0000
Received: (qmail 20041 invoked by uid 500); 6 Sep 2005 10:21:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 20017 invoked by uid 500); 6 Sep 2005 10:21:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19997 invoked by uid 99); 6 Sep 2005 10:21:45 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Sep 2005 03:21:45 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.10.212] (HELO web26001.mail.ukl.yahoo.com) (217.12.10.212)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 06 Sep 2005 03:21:58 -0700
Received: (qmail 75707 invoked by uid 60001); 6 Sep 2005 10:21:42 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=ZwoNXQPTcf1m5UZ6hogd7GFdYrVf2nUUwvcBKI5h4hn+VY/gl3/Thu9h44AE3CoZkJHjZ4LGMKsLQvcr0sz5zvzBjYqgc9xGxySzGeKELU1vXb09IYEGy5Z2xdKT/f+dI7mBlEStbMmIXsS0avvv7CYiND1gVix8E5DWW11SMvI=  ;
Message-ID: <20050906102142.75705.qmail@web26001.mail.ukl.yahoo.com>
Received: from [193.36.230.96] by web26001.mail.ukl.yahoo.com via HTTP; Tue, 06 Sep 2005 11:21:41 BST
Date: Tue, 6 Sep 2005 11:21:41 +0100 (BST)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: RE: Highlighter apply to Japanese
To: java-user@lucene.apache.org
In-Reply-To: <000001c5b2bf$4c039cd0$0300a8c0@koji>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Try change TokenGroup.isDistinct();

Maybe the offset test code should be >= rather than >
ie

	boolean isDistinct(Token token)
	{
		return token.startOffset()>=endOffset;
	}

I've just tried the change with the Junit test and all
seems well still with the non CJK tests.



		
___________________________________________________________ 
To help you stay safe and secure online, we've developed the all new Yahoo! Security Centre. http://uk.security.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16240-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 06 11:01:24 2005
Return-Path: <java-user-return-16240-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 81730 invoked from network); 6 Sep 2005 11:01:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Sep 2005 11:01:24 -0000
Received: (qmail 50935 invoked by uid 500); 6 Sep 2005 11:01:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50469 invoked by uid 500); 6 Sep 2005 11:01:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50456 invoked by uid 99); 6 Sep 2005 11:01:18 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Sep 2005 04:01:18 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [212.240.81.84] (HELO mail.intronet.com) (212.240.81.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Sep 2005 04:01:31 -0700
Received: from exchange.office.intronet.com (exchange.office.intronet.com [192.168.2.25])
	by mail.intronet.com (8.12.3/8.12.3/Debian-7.1) with ESMTP id j86B10Fn027957
	for <java-user@lucene.apache.org>; Tue, 6 Sep 2005 12:01:00 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: indexing/searching on C++
Date: Tue, 6 Sep 2005 12:01:00 +0100
Message-ID: <FB842C6EAD7F07418E6ADA50F85236AF01EA12BA@exchange.office.intronet.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: indexing/searching on C++
Thread-Index: AcWy0kP4cWwhiAo0QBm6N5DUlbf1cg==
From: "Daniel Massie" <daniel.massie@intronet.com>
To: <java-user@lucene.apache.org>
X-MailScanner-Information: In case of any problems, please contact the Networking Team for more information
X-MailScanner: Not scanned: please contact the Networking Team for details
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi

I would like to be able to index and search on technical terms such as =
C++ and C#, but I am finding that both are being reduced to just C. =
These terms can be enterred from a free text box on the search =
interface. Is there a recommended way of doing this?

Thanks
Daniel

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16241-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 06 11:15:17 2005
Return-Path: <java-user-return-16241-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89887 invoked from network); 6 Sep 2005 11:15:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Sep 2005 11:15:17 -0000
Received: (qmail 70610 invoked by uid 500); 6 Sep 2005 11:15:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70577 invoked by uid 500); 6 Sep 2005 11:15:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 70563 invoked by uid 99); 6 Sep 2005 11:15:12 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Sep 2005 04:15:12 -0700
X-ASF-Spam-Status: No, hits=2.4 required=10.0
	tests=HTML_20_30,HTML_MESSAGE,RCVD_BY_IP,RCVD_IN_BL_SPAMCOP_NET,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of hackingbear@gmail.com designates 66.249.82.207 as permitted sender)
Received: from [66.249.82.207] (HELO xproxy.gmail.com) (66.249.82.207)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Sep 2005 04:15:26 -0700
Received: by xproxy.gmail.com with SMTP id h28so1499269wxd
        for <java-user@lucene.apache.org>; Tue, 06 Sep 2005 04:15:11 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=lLbM3GgMpocXQde30dfMqAeo1rXJ9CMXRg5+EILHdHZyepc6yrA8Qd8ukUUdgl/LS7dNKZVawKrEGpYzUEgvYcMU+QxNVpip2Ie7nR/MbZKvfHxdWAzRvXxV9RIm8Hs9ZEGkcHXL6HtR/a+EToFdL98aMKnCNcUBV6DR7z7zVDA=
Received: by 10.70.52.8 with SMTP id z8mr2120wxz;
        Tue, 06 Sep 2005 04:15:11 -0700 (PDT)
Received: by 10.70.12.11 with HTTP; Tue, 6 Sep 2005 04:15:11 -0700 (PDT)
Message-ID: <3feb1c0605090604152340bedf@mail.gmail.com>
Date: Tue, 6 Sep 2005 19:15:11 +0800
From: Hacking Bear <hackingbear@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Multiple Language Indexing and Searching
In-Reply-To: <431D4577.4060901@jalios.com>
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_2054_11846025.1126005311058"
References: <431C0570.3020504@jalios.com>
	 <3feb1c060509052015771393e7@mail.gmail.com>
	 <431D4577.4060901@jalios.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_2054_11846025.1126005311058
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

On 9/6/05, Olivier Jaquemet <olivier.jaquemet@jalios.com> wrote:=20
>=20
> As far as your usage is concerned, it seems to be the right approach,
> and I think the StandardAnalyzer does the job pretty right when it has
> to deal with whatever language you want.

 I should look into exactly what it does. Does this StandardAnalyzer handle=
=20
non-European languages like Chinese?

Though, note that it won't deal with all languages' stop words but the
> English ones, unless specified at index time But then if you change the
> stop words at index time, what should you use at query time, some query
> it won't work well.

 I think we can easily create our own super stop-word lists by copying from=
=20
whatever other language's stop word lists we can find.

But as far as I am concerned, each content (content in the sense of a
> CMS) is known to have multiple language, and each of these language
> *can* be indexed separately with no problem at all, and therefore a
> dedicated analyser could be use. So I was wondering whether my approach
> could be the right one of if it was over complex, and could introduce
> some problem I could not see... (My approach being: one index per=20
> language)

 My suggestion would be to create one index for all languages with each=20
document having a 'lang' attribute. Lucene is quite scalable right? So this=
=20
should not be an issue.
 During search, you can either default to turn on the 'lang' attribute=20
condition or default to off, depending on what your users want most often.=
=20
But it will be very easy to search multiple language documents.
=20
> I don't know if the developpers of lucene would agree, but from what
> I've been browsing on the ML archives, those multiple language issues
> seems to arrise quite often in the mailing list, and maybe some articles
> like "best practices", "do's and don'ts" or "Lucene Architecture in
> multiple language environement", might be really nice to see :) If some
> of you have the time and the experience to write them I'll be really
> thankful! :)

 What keywords do you use to search? Somehow, I cannot find any discussion=
=20
about multiple language on the ML archive. I even did Google! :-) Or maybe =
I=20
was giving the keywords in the wrong language? :-)

------=_Part_2054_11846025.1126005311058--

From java-user-return-16242-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 06 11:23:38 2005
Return-Path: <java-user-return-16242-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92031 invoked from network); 6 Sep 2005 11:23:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Sep 2005 11:23:37 -0000
Received: (qmail 76614 invoked by uid 500); 6 Sep 2005 11:23:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76580 invoked by uid 500); 6 Sep 2005 11:23:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76567 invoked by uid 99); 6 Sep 2005 11:23:28 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Sep 2005 04:23:28 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [203.181.105.74] (HELO hfep08.dion.ne.jp) (203.181.105.74)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Sep 2005 04:23:41 -0700
Received: from koji ([59.135.81.37]) by hfep08.dion.ne.jp with ESMTP
          id <20050906112324885.MFG@hfep08.dion.ne.jp>
          for <java-user@lucene.apache.org>; Tue, 6 Sep 2005 20:23:24 +0900
From: "Koji Sekiguchi" <koji.sekiguchi@m4.dion.ne.jp>
To: <java-user@lucene.apache.org>
Subject: RE: Highlighter apply to Japanese
Date: Tue, 6 Sep 2005 20:18:33 +0900
Message-ID: <000301c5b2d4$bb176290$0300a8c0@koji>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2627
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1441
In-Reply-To: <20050906102142.75705.qmail@web26001.mail.ukl.yahoo.com>
Importance: Normal
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Mark,

With the change, the problem was completely solved!

Sample: (JapaneseAnalyzer)
Text: AMeetingWillBeHeldInTheCityHall

TokenStream:
[A][Meeting][Will][Be][Held][In][The][City][Hall]

Query Text: Meeting
Output: A<B>Meeting</B>WillBeHeldInTheCityHall

Query Text: CityHall
Output: AMeetingWillBeHeldInThe<B>City</B><B>Hall</B>

Although if I use CJKAnalyzer, which is producing a stream
of tokens which all overlap, the problem sill occurs,
but with JapaneseAnalyzer, the highlighter works fine. 

Thank you very much,

Koji


> -----Original Message-----
> From: mark harwood [mailto:markharw00d@yahoo.co.uk] 
> Sent: Tuesday, September 06, 2005 7:22 PM
> To: java-user@lucene.apache.org
> Subject: RE: Highlighter apply to Japanese
> 
> 
> Try change TokenGroup.isDistinct();
> 
> Maybe the offset test code should be >= rather than >
> ie
> 
> 	boolean isDistinct(Token token)
> 	{
> 		return token.startOffset()>=endOffset;
> 	}
> 
> I've just tried the change with the Junit test and all
> seems well still with the non CJK tests.
> 
> 
> 
> 		
> ___________________________________________________________ 
> To help you stay safe and secure online, we've developed the 
> all new Yahoo! Security Centre. http://uk.security.yahoo.com
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16243-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 06 11:56:49 2005
Return-Path: <java-user-return-16243-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1441 invoked from network); 6 Sep 2005 11:56:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Sep 2005 11:56:48 -0000
Received: (qmail 14318 invoked by uid 500); 6 Sep 2005 11:56:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14288 invoked by uid 500); 6 Sep 2005 11:56:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14275 invoked by uid 99); 6 Sep 2005 11:56:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Sep 2005 04:56:44 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.73.2.150] (HELO mx-1.framfab.com) (217.73.2.150)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Sep 2005 04:56:56 -0700
Received: from seex01.framfab.com (seex01.framfab.com [157.125.1.161])
	by mx-1.framfab.com (Postfix) with ESMTP id 28C9B3481BE
	for <java-user@lucene.apache.org>; Tue,  6 Sep 2005 14:00:44 +0200 (CEST)
Received: from UKEX01.framfab.com ([157.125.65.14]) by seex01.framfab.com with Microsoft SMTPSVC(6.0.3790.211);
	 Tue, 6 Sep 2005 13:56:40 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Multiple Language Indexing and Searching
Date: Tue, 6 Sep 2005 12:39:50 +0100
Message-ID: <22F9729A33EBA2458807A2EDE0EE3075E138E9@UKEX01.framfab.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Multiple Language Indexing and Searching
Thread-Index: AcWy1EgAxlzHq+oeSnKMOZh4eztSXAAAzFkQ
From: "James Adams" <James.Adams@framfab.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 06 Sep 2005 11:56:40.0162 (UTC) FILETIME=[0AAC8420:01C5B2DA]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Does anyone know what approach does Nutch uses?


-----Original Message-----
From: Hacking Bear [mailto:hackingbear@gmail.com]=20
Sent: 06 September 2005 12:15
To: java-user@lucene.apache.org
Subject: Re: Multiple Language Indexing and Searching

On 9/6/05, Olivier Jaquemet <olivier.jaquemet@jalios.com> wrote:=20
>=20
> As far as your usage is concerned, it seems to be the right approach,
> and I think the StandardAnalyzer does the job pretty right when it has
> to deal with whatever language you want.

 I should look into exactly what it does. Does this StandardAnalyzer
handle=20
non-European languages like Chinese?

Though, note that it won't deal with all languages' stop words but the
> English ones, unless specified at index time But then if you change
the
> stop words at index time, what should you use at query time, some
query
> it won't work well.

 I think we can easily create our own super stop-word lists by copying
from=20
whatever other language's stop word lists we can find.

But as far as I am concerned, each content (content in the sense of a
> CMS) is known to have multiple language, and each of these language
> *can* be indexed separately with no problem at all, and therefore a
> dedicated analyser could be use. So I was wondering whether my
approach
> could be the right one of if it was over complex, and could introduce
> some problem I could not see... (My approach being: one index per=20
> language)

 My suggestion would be to create one index for all languages with each=20
document having a 'lang' attribute. Lucene is quite scalable right? So
this=20
should not be an issue.
 During search, you can either default to turn on the 'lang' attribute=20
condition or default to off, depending on what your users want most
often.=20
But it will be very easy to search multiple language documents.
=20
> I don't know if the developpers of lucene would agree, but from what
> I've been browsing on the ML archives, those multiple language issues
> seems to arrise quite often in the mailing list, and maybe some
articles
> like "best practices", "do's and don'ts" or "Lucene Architecture in
> multiple language environement", might be really nice to see :) If
some
> of you have the time and the experience to write them I'll be really
> thankful! :)

 What keywords do you use to search? Somehow, I cannot find any
discussion=20
about multiple language on the ML archive. I even did Google! :-) Or
maybe I=20
was giving the keywords in the wrong language? :-)

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16244-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 06 12:14:27 2005
Return-Path: <java-user-return-16244-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7368 invoked from network); 6 Sep 2005 12:14:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Sep 2005 12:14:27 -0000
Received: (qmail 37078 invoked by uid 500); 6 Sep 2005 12:14:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36952 invoked by uid 500); 6 Sep 2005 12:14:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 36898 invoked by uid 99); 6 Sep 2005 12:14:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Sep 2005 05:14:20 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [213.133.100.46] (HELO black-sheep.coolwool.net) (213.133.100.46)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Sep 2005 05:14:31 -0700
Received: from [192.168.0.5] (cm66-207.liwest.at [212.241.66.207])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by black-sheep.coolwool.net (Postfix) with ESMTP id 599AC4042D8
	for <java-user@lucene.apache.org>; Tue,  6 Sep 2005 14:14:12 +0200 (CEST)
Message-ID: <431D880D.1010603@eduhi.at>
Date: Tue, 06 Sep 2005 14:14:05 +0200
From: Gusenbauer Stefan <gusenbauer@eduhi.at>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Multiple Language Indexing and Searching
References: <22F9729A33EBA2458807A2EDE0EE3075E138E9@UKEX01.framfab.com>
In-Reply-To: <22F9729A33EBA2458807A2EDE0EE3075E138E9@UKEX01.framfab.com>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

James Adams wrote:

>Does anyone know what approach does Nutch uses?
>
>
>-----Original Message-----
>From: Hacking Bear [mailto:hackingbear@gmail.com] 
>Sent: 06 September 2005 12:15
>To: java-user@lucene.apache.org
>Subject: Re: Multiple Language Indexing and Searching
>
>On 9/6/05, Olivier Jaquemet <olivier.jaquemet@jalios.com> wrote: 
>  
>
>>As far as your usage is concerned, it seems to be the right approach,
>>and I think the StandardAnalyzer does the job pretty right when it has
>>to deal with whatever language you want.
>>    
>>
>
> I should look into exactly what it does. Does this StandardAnalyzer
>handle 
>non-European languages like Chinese?
>
>Though, note that it won't deal with all languages' stop words but the
>  
>
>>English ones, unless specified at index time But then if you change
>>    
>>
>the
>  
>
>>stop words at index time, what should you use at query time, some
>>    
>>
>query
>  
>
>>it won't work well.
>>    
>>
>
> I think we can easily create our own super stop-word lists by copying
>from 
>whatever other language's stop word lists we can find.
>
>But as far as I am concerned, each content (content in the sense of a
>  
>
>>CMS) is known to have multiple language, and each of these language
>>*can* be indexed separately with no problem at all, and therefore a
>>dedicated analyser could be use. So I was wondering whether my
>>    
>>
>approach
>  
>
>>could be the right one of if it was over complex, and could introduce
>>some problem I could not see... (My approach being: one index per 
>>language)
>>    
>>
>
> My suggestion would be to create one index for all languages with each 
>document having a 'lang' attribute. Lucene is quite scalable right? So
>this 
>should not be an issue.
> During search, you can either default to turn on the 'lang' attribute 
>condition or default to off, depending on what your users want most
>often. 
>But it will be very easy to search multiple language documents.
> 
>  
>
>>I don't know if the developpers of lucene would agree, but from what
>>I've been browsing on the ML archives, those multiple language issues
>>seems to arrise quite often in the mailing list, and maybe some
>>    
>>
>articles
>  
>
>>like "best practices", "do's and don'ts" or "Lucene Architecture in
>>multiple language environement", might be really nice to see :) If
>>    
>>
>some
>  
>
>>of you have the time and the experience to write them I'll be really
>>thankful! :)
>>    
>>
>
> What keywords do you use to search? Somehow, I cannot find any
>discussion 
>about multiple language on the ML archive. I even did Google! :-) Or
>maybe I 
>was giving the keywords in the wrong language? :-)
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>  
>
I think nutch uses ngramj for language classification but i don't know
what type of saving language information they use. In our application
for example i save the language in an extra field in the document
because lucene is supporting multiple fields with the same names we
would be able to handle different languages. but for now we don't need it

greets
stefan


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16245-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 06 12:21:20 2005
Return-Path: <java-user-return-16245-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10459 invoked from network); 6 Sep 2005 12:21:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Sep 2005 12:21:20 -0000
Received: (qmail 49403 invoked by uid 500); 6 Sep 2005 12:21:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49382 invoked by uid 500); 6 Sep 2005 12:21:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 49369 invoked by uid 99); 6 Sep 2005 12:21:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Sep 2005 05:21:14 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [193.252.22.20] (HELO smtp12.wanadoo.fr) (193.252.22.20)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Sep 2005 05:21:26 -0700
Received: from me-wanadoo.net (localhost [127.0.0.1])
	by mwinf1209.wanadoo.fr (SMTP Server) with ESMTP id A63DF1C000B0
	for <java-user@lucene.apache.org>; Tue,  6 Sep 2005 14:21:09 +0200 (CEST)
Received: from [127.0.0.1] (AVelizy-115-2-1-38.w81-48.abo.wanadoo.fr [81.48.163.38])
	by mwinf1209.wanadoo.fr (SMTP Server) with ESMTP id 794FC1C000AD
	for <java-user@lucene.apache.org>; Tue,  6 Sep 2005 14:21:09 +0200 (CEST)
X-ME-UUID: 20050906122109496.794FC1C000AD@mwinf1209.wanadoo.fr
Message-ID: <431D89AF.2070706@jalios.com>
Date: Tue, 06 Sep 2005 14:21:03 +0200
From: Olivier Jaquemet <olivier.jaquemet@jalios.com>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Multiple Language Indexing and Searching
References: <22F9729A33EBA2458807A2EDE0EE3075E138E9@UKEX01.framfab.com> <431D880D.1010603@eduhi.at>
In-Reply-To: <431D880D.1010603@eduhi.at>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Gusenbauer Stefan wrote:

>I think nutch uses ngramj for language classification but i don't know
>what type of saving language information they use. In our application
>for example i save the language in an extra field in the document
>because lucene is supporting multiple fields with the same names we
>would be able to handle different languages. but for now we don't need it
>  
>
But then, if you do so, you do not benefit from any specialized Analyzer 
you could use for each language, do you?
Then again, maybe it's not that interesting to use specialized analyzers 
for each language?.



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16246-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 06 12:25:49 2005
Return-Path: <java-user-return-16246-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11967 invoked from network); 6 Sep 2005 12:25:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Sep 2005 12:25:49 -0000
Received: (qmail 54894 invoked by uid 500); 6 Sep 2005 12:25:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54866 invoked by uid 500); 6 Sep 2005 12:25:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54850 invoked by uid 99); 6 Sep 2005 12:25:42 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Sep 2005 05:25:42 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [193.123.241.50] (HELO rivette.int.mediasurface.com) (193.123.241.50)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Sep 2005 05:25:54 -0700
Received: from rivette.int.mediasurface.com (localhost [127.0.0.1])
	by rivette.int.mediasurface.com (8.11.6+Sun/8.11.6) with ESMTP id j86CPbA06386
	for <java-user@lucene.apache.org>; Tue, 6 Sep 2005 13:25:37 +0100 (BST)
Received: from neptune.int.mediasurface.com (neptune.int.mediasurface.com [10.0.5.71])
	by rivette.int.mediasurface.com (8.11.6+Sun/8.11.6) with ESMTP id j86CPbI06382
	for <java-user@lucene.apache.org>; Tue, 6 Sep 2005 13:25:37 +0100 (BST)
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: Switching from FSDirectory to RAMDirectory
Date: Tue, 6 Sep 2005 13:25:37 +0100
Message-ID: <BE3E7BC7F7553B4A9362D4192ECD308AE911C5@neptune.int.mediasurface.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Switching from FSDirectory to RAMDirectory
Thread-Index: AcWy3IXY0Uy5W0FqR0mPTmH/kAAJnwAAKhmQ
From: "Peter Gelderbloem" <Peter.Gelderbloem@mediasurface.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Hi,
I find that unit tests that modify an existing record in the Lucene
index by removing it , modifying it and re-adding it, fails if I switch
from an FSDirectory to a RAMDirectory.
This code gives me a Directory that works:

FSDirectory fsDirectory =3D
FSDirectory.getDirectory(physicalDirectoryName,=20
=09
!IndexReader.indexExists(physicalDirectoryName));
returnValue =3D /*new RAMDirectory(*/fsDirectory/*)*/;

This code gives me a non-working Directory:

FSDirectory fsDirectory =3D
FSDirectory.getDirectory(physicalDirectoryName,=20
=09
!IndexReader.indexExists(physicalDirectoryName));
returnValue =3D new RAMDirectory(fsDirectory);

Please help!
The only solution I can think of involves pulling out my hair...
:(


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16247-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 06 12:32:50 2005
Return-Path: <java-user-return-16247-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14376 invoked from network); 6 Sep 2005 12:32:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Sep 2005 12:32:50 -0000
Received: (qmail 68562 invoked by uid 500); 6 Sep 2005 12:32:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68534 invoked by uid 500); 6 Sep 2005 12:32:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68521 invoked by uid 99); 6 Sep 2005 12:32:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Sep 2005 05:32:44 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.73.2.150] (HELO mx-1.framfab.com) (217.73.2.150)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Sep 2005 05:32:57 -0700
Received: from seex01.framfab.com (seex01.framfab.com [157.125.1.161])
	by mx-1.framfab.com (Postfix) with ESMTP id 0106C3481BC
	for <java-user@lucene.apache.org>; Tue,  6 Sep 2005 14:36:45 +0200 (CEST)
Received: from UKEX01.framfab.com ([157.125.65.14]) by seex01.framfab.com with Microsoft SMTPSVC(6.0.3790.211);
	 Tue, 6 Sep 2005 14:32:41 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Multiple Language Indexing and Searching
Date: Tue, 6 Sep 2005 13:32:37 +0100
Message-ID: <22F9729A33EBA2458807A2EDE0EE3075E13930@UKEX01.framfab.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Multiple Language Indexing and Searching
Thread-Index: AcWy3YGWkKPGzZX7SqiJvZfYXuwJOQAAJU8g
From: "James Adams" <James.Adams@framfab.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 06 Sep 2005 12:32:41.0383 (UTC) FILETIME=[12DCAB70:01C5B2DF]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Surely it's best to have a specific analyzer for each language?

Would support for multiple Analyzers with a single index require a
different IndexWriter for each Analzser/language?  Would you then need
to manage the disk access of these regarding locking etc, so two
IndexWriter's can not do so at the same time?




-----Original Message-----
From: Olivier Jaquemet [mailto:olivier.jaquemet@jalios.com]=20
Sent: 06 September 2005 13:21
To: java-user@lucene.apache.org
Subject: Re: Multiple Language Indexing and Searching

Gusenbauer Stefan wrote:

>I think nutch uses ngramj for language classification but i don't know
>what type of saving language information they use. In our application
>for example i save the language in an extra field in the document
>because lucene is supporting multiple fields with the same names we
>would be able to handle different languages. but for now we don't need
it
> =20
>
But then, if you do so, you do not benefit from any specialized Analyzer

you could use for each language, do you?
Then again, maybe it's not that interesting to use specialized analyzers

for each language?.



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16248-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 06 12:35:30 2005
Return-Path: <java-user-return-16248-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15294 invoked from network); 6 Sep 2005 12:35:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Sep 2005 12:35:30 -0000
Received: (qmail 72040 invoked by uid 500); 6 Sep 2005 12:35:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71136 invoked by uid 500); 6 Sep 2005 12:35:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 71122 invoked by uid 99); 6 Sep 2005 12:35:26 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Sep 2005 05:35:26 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [213.133.100.46] (HELO black-sheep.coolwool.net) (213.133.100.46)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Sep 2005 05:35:37 -0700
Received: from [192.168.0.5] (cm66-207.liwest.at [212.241.66.207])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by black-sheep.coolwool.net (Postfix) with ESMTP id 0CA764042D8
	for <java-user@lucene.apache.org>; Tue,  6 Sep 2005 14:35:19 +0200 (CEST)
Message-ID: <431D8D06.2030703@eduhi.at>
Date: Tue, 06 Sep 2005 14:35:18 +0200
From: Gusenbauer Stefan <gusenbauer@eduhi.at>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Multiple Language Indexing and Searching
References: <22F9729A33EBA2458807A2EDE0EE3075E138E9@UKEX01.framfab.com> <431D880D.1010603@eduhi.at> <431D89AF.2070706@jalios.com>
In-Reply-To: <431D89AF.2070706@jalios.com>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Olivier Jaquemet wrote:

> Gusenbauer Stefan wrote:
>
>> I think nutch uses ngramj for language classification but i don't know
>> what type of saving language information they use. In our application
>> for example i save the language in an extra field in the document
>> because lucene is supporting multiple fields with the same names we
>> would be able to handle different languages. but for now we don't
>> need it
>>  
>>
> But then, if you do so, you do not benefit from any specialized
> Analyzer you could use for each language, do you?
> Then again, maybe it's not that interesting to use specialized
> analyzers for each language?.
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
sorry this was my fault we handle different languages with different
analyzers at this time but not documents with multiple languages this
was a typing and thinking mistake by myself.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16249-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 06 12:51:41 2005
Return-Path: <java-user-return-16249-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22860 invoked from network); 6 Sep 2005 12:51:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Sep 2005 12:51:40 -0000
Received: (qmail 93731 invoked by uid 500); 6 Sep 2005 12:51:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 93703 invoked by uid 500); 6 Sep 2005 12:51:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 93690 invoked by uid 99); 6 Sep 2005 12:51:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Sep 2005 05:51:35 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Sep 2005 05:51:48 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 40FE313E2006; Tue,  6 Sep 2005 08:51:29 -0400 (EDT)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 8851413E2006
	for <java-user@lucene.apache.org>; Tue,  6 Sep 2005 08:51:00 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <3feb1c0605090604152340bedf@mail.gmail.com>
References: <431C0570.3020504@jalios.com> <3feb1c060509052015771393e7@mail.gmail.com> <431D4577.4060901@jalios.com> <3feb1c0605090604152340bedf@mail.gmail.com>
Content-Type: text/plain; charset=UTF-8; delsp=yes; format=flowed
Message-Id: <A75ED777-0D9C-4A24-8318-4E6158E69C42@ehatchersolutions.com>
Content-Transfer-Encoding: quoted-printable
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Multiple Language Indexing and Searching
Date: Tue, 6 Sep 2005 08:51:02 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-3.8 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Sep 6, 2005, at 7:15 AM, Hacking Bear wrote:

> On 9/6/05, Olivier Jaquemet <olivier.jaquemet@jalios.com> wrote:
>
>>
>> As far as your usage is concerned, it seems to be the right approach,
>> and I think the StandardAnalyzer does the job pretty right when it =20=

>> has
>> to deal with whatever language you want.
>>
>
>  I should look into exactly what it does. Does this =20
> StandardAnalyzer handle
> non-European languages like Chinese?

StandardAnalyzer recognizes the CJK range of characters and emits =20
them each as individual tokens.  This is not an ideal way to deal =20
with Chinese (=E4=B8=8D=E5=A5=BD :) - but it does at least maintain the =
characters =20
rather than throwing them away or blurring consecutive characters =20
together.

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16250-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 06 12:55:07 2005
Return-Path: <java-user-return-16250-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24051 invoked from network); 6 Sep 2005 12:55:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Sep 2005 12:55:06 -0000
Received: (qmail 1575 invoked by uid 500); 6 Sep 2005 12:55:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 1549 invoked by uid 500); 6 Sep 2005 12:55:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 1536 invoked by uid 99); 6 Sep 2005 12:55:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Sep 2005 05:55:01 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Sep 2005 05:55:14 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 889A513E2006; Tue,  6 Sep 2005 08:54:58 -0400 (EDT)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id E0F0C13E2033
	for <java-user@lucene.apache.org>; Tue,  6 Sep 2005 08:54:30 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <FB842C6EAD7F07418E6ADA50F85236AF01EA12BA@exchange.office.intronet.com>
References: <FB842C6EAD7F07418E6ADA50F85236AF01EA12BA@exchange.office.intronet.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <9126E683-E99A-4265-9BCB-1A3AE3172C2B@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: indexing/searching on C++
Date: Tue, 6 Sep 2005 08:54:31 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-3.7 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Have a look at your analyzer (check out my java.net article for  
starters), and the "Analysis Paralysis" section of the Lucene wiki.   
You will need to adjust your analyzer (and query parser perhaps) to  
tokenize things as you'd like.  For a quick fix, try using the  
WhitespaceAnalyzer, though you'll soon want to upgrade that most likely.

     Erik


On Sep 6, 2005, at 7:01 AM, Daniel Massie wrote:

> Hi
>
> I would like to be able to index and search on technical terms such  
> as C++ and C#, but I am finding that both are being reduced to just  
> C. These terms can be enterred from a free text box on the search  
> interface. Is there a recommended way of doing this?
>
> Thanks
> Daniel
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16251-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 06 14:09:12 2005
Return-Path: <java-user-return-16251-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62096 invoked from network); 6 Sep 2005 14:09:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Sep 2005 14:09:12 -0000
Received: (qmail 47626 invoked by uid 500); 6 Sep 2005 14:09:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47472 invoked by uid 500); 6 Sep 2005 14:09:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47457 invoked by uid 99); 6 Sep 2005 14:09:05 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Sep 2005 07:09:05 -0700
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_40_50,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of legolas.w@gmail.com designates 64.233.184.198 as permitted sender)
Received: from [64.233.184.198] (HELO wproxy.gmail.com) (64.233.184.198)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Sep 2005 07:09:17 -0700
Received: by wproxy.gmail.com with SMTP id i32so840196wra
        for <java-user@lucene.apache.org>; Tue, 06 Sep 2005 07:09:02 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type;
        b=YHaa+6dGSlnFQzqRHPHIhojMMXqXZN2EjneSC6ofS693LISstuTSLbnEee3/94iWy0MTN74GEw5uDIRNKyjsDP2PvJlS4sgujMFiUssl0UadA9DpVGyTtDNT1Go3gIBJz4IlXM8/rLfa4ScAbqxfK1nhM7BaGp+0ZdirdT9u4uw=
Received: by 10.54.37.11 with SMTP id k11mr4396602wrk;
        Tue, 06 Sep 2005 07:09:02 -0700 (PDT)
Received: by 10.54.100.8 with HTTP; Tue, 6 Sep 2005 07:09:02 -0700 (PDT)
Message-ID: <87ee9b1705090607093f954a52@mail.gmail.com>
Date: Tue, 6 Sep 2005 18:39:02 +0430
From: Legolas Woodland <legolas.w@gmail.com>
Reply-To: legolas.w@gmail.com
To: java-user@lucene.apache.org
Subject: how to Find more than one spell check alternative?
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_12881_32247013.1126015742621"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_12881_32247013.1126015742621
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi
Thank you for reading mu post.
how i can have more than one spell check suggestion ?
for example if some one entered puore
it return :
pore
pour
pure
poor
poer
pire
 or something similar ?
I really need to implement this feature
Thank you

------=_Part_12881_32247013.1126015742621--

From java-user-return-16252-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 06 14:12:18 2005
Return-Path: <java-user-return-16252-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 63532 invoked from network); 6 Sep 2005 14:12:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Sep 2005 14:12:18 -0000
Received: (qmail 53835 invoked by uid 500); 6 Sep 2005 14:12:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53811 invoked by uid 500); 6 Sep 2005 14:12:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53798 invoked by uid 99); 6 Sep 2005 14:12:11 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Sep 2005 07:12:11 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Sep 2005 07:12:24 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 4B4CC13E2006; Tue,  6 Sep 2005 10:12:07 -0400 (EDT)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 3530713E2033
	for <java-user@lucene.apache.org>; Tue,  6 Sep 2005 10:11:52 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <87ee9b1705090607093f954a52@mail.gmail.com>
References: <87ee9b1705090607093f954a52@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <C17CB78A-4993-4087-B060-3CDC9EE3076D@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: how to Find more than one spell check alternative?
Date: Tue, 6 Sep 2005 10:11:55 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-3.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

See the contrib/spellchecker area of Lucene's Subversion repository.

     Erik

On Sep 6, 2005, at 10:09 AM, Legolas Woodland wrote:

> Hi
> Thank you for reading mu post.
> how i can have more than one spell check suggestion ?
> for example if some one entered puore
> it return :
> pore
> pour
> pure
> poor
> poer
> pire
>  or something similar ?
> I really need to implement this feature
> Thank you
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16253-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 06 14:12:24 2005
Return-Path: <java-user-return-16253-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 63590 invoked from network); 6 Sep 2005 14:12:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Sep 2005 14:12:24 -0000
Received: (qmail 54839 invoked by uid 500); 6 Sep 2005 14:12:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54784 invoked by uid 500); 6 Sep 2005 14:12:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54725 invoked by uid 99); 6 Sep 2005 14:12:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Sep 2005 07:12:17 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [193.252.22.22] (HELO smtp9.wanadoo.fr) (193.252.22.22)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Sep 2005 07:12:28 -0700
Received: from me-wanadoo.net (localhost [127.0.0.1])
	by mwinf0904.wanadoo.fr (SMTP Server) with ESMTP id 8B3BE2400198
	for <java-user@lucene.apache.org>; Tue,  6 Sep 2005 16:12:12 +0200 (CEST)
Received: from [127.0.0.1] (AVelizy-115-2-1-38.w81-48.abo.wanadoo.fr [81.48.163.38])
	by mwinf0904.wanadoo.fr (SMTP Server) with ESMTP id 5B5A5240018C
	for <java-user@lucene.apache.org>; Tue,  6 Sep 2005 16:12:12 +0200 (CEST)
X-ME-UUID: 20050906141212374.5B5A5240018C@mwinf0904.wanadoo.fr
Message-ID: <431DA3B6.5000500@jalios.com>
Date: Tue, 06 Sep 2005 16:12:06 +0200
From: Olivier Jaquemet <olivier.jaquemet@jalios.com>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: how to Find more than one spell check alternative?
References: <87ee9b1705090607093f954a52@mail.gmail.com>
In-Reply-To: <87ee9b1705090607093f954a52@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Legolas Woodland wrote:

>Hi
>Thank you for reading mu post.
>how i can have more than one spell check suggestion ?
>for example if some one entered puore
>it return :
>pore
>pour
>pure
>poor
>poer
>pire
> or something similar ?
>I really need to implement this feature
>Thank you
>
Have a look here:
http://today.java.net/pub/a/today/2005/08/09/didyoumean.html

Good start point, you should be able to modify the code quickly to have 
more than one suggestion.



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16254-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 06 14:15:23 2005
Return-Path: <java-user-return-16254-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65661 invoked from network); 6 Sep 2005 14:15:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Sep 2005 14:15:22 -0000
Received: (qmail 58191 invoked by uid 500); 6 Sep 2005 14:15:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58171 invoked by uid 500); 6 Sep 2005 14:15:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58158 invoked by uid 99); 6 Sep 2005 14:15:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Sep 2005 07:15:16 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [199.4.160.64] (HELO pb-exchcon2.scansoft.com) (199.4.160.64)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Sep 2005 07:15:29 -0700
Received: by pb-exchcon2.pb.scansoft.com with Internet Mail Service (5.5.2658.27)
	id <RTK5F7H6>; Tue, 6 Sep 2005 10:15:12 -0400
Message-ID: <FBA9F803D33470489B9B4676A6B09F0B0177538E@mt-exch1.montreal.speechworks.com>
From: "Robichaud, Jean-Philippe" <Jean-Philippe.Robichaud@scansoft.com>
To: java-user@lucene.apache.org
Subject: Optimizing insertion of duplicate documents
Date: Tue, 6 Sep 2005 10:08:46 -0400 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2658.27)
Content-Type: text/plain
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Everyone, 

I have a special scenario where I frequently want to insert duplicates
documents in the index.  For example, I know that I want 400 copies of the
same document. (I use the docboost of something else so I can't just add one
document and set the docboost to 400).  

I would like to hack the addDocument to be able to specify a number of time
to duplicate the document, to avoid the analysis process to happen more than
once.  

I'm not sure how I should modify the DocumentWriter.addDocument method, any
thoughts?  Or perhaps there is already that functionality somewhere?

Thanks, 

Jp

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16255-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 06 17:46:19 2005
Return-Path: <java-user-return-16255-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 43808 invoked from network); 6 Sep 2005 17:46:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Sep 2005 17:46:19 -0000
Received: (qmail 23855 invoked by uid 500); 6 Sep 2005 17:46:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 23829 invoked by uid 500); 6 Sep 2005 17:46:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 23816 invoked by uid 99); 6 Sep 2005 17:46:13 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Sep 2005 10:46:13 -0700
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Sep 2005 10:46:25 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 724F05B820; Tue,  6 Sep 2005 10:46:08 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 6F44F7F477
	for <java-user@lucene.apache.org>; Tue,  6 Sep 2005 10:46:08 -0700 (PDT)
Date: Tue, 6 Sep 2005 10:46:08 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: Multiple Language Indexing and Searching
In-Reply-To: <431D4577.4060901@jalios.com>
Message-ID: <Pine.LNX.4.58.0509061040530.25776@hal.rescomp.berkeley.edu>
References: <431C0570.3020504@jalios.com> <3feb1c060509052015771393e7@mail.gmail.com>
 <431D4577.4060901@jalios.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: I don't know if the developpers of lucene would agree, but from what
: I've been browsing on the ML archives, those multiple language issues
: seems to arrise quite often in the mailing list, and maybe some articles
: like "best practices", "do's and don'ts" or "Lucene Architecture in
: multiple language environement",  might be really nice to see :) If some
: of you have the time and the experience to write them I'll be really
: thankful! :)


There is already a document in the HowTo section of the wiki called
"IndexingOtherLanguages"  if the topic of Multiple Languages interests
you, and if you've allready familiarized yourself with some of hte
suggestions from this thread (and other threads you've researched from the
archives) then perhaps you could compile a list in the wiki yourself?

Don't worry about making a master document that describes a single perfect
soluation -- or even describing a solution that you know will work, if
nothing else just compiling a collection of ideas people have suggested
into a single document will be helpful.  Over time, other people can/will
revise it based on which ideas work well and which ideas don't.

You don't have to have time and experience to write documentation -- time
is good enough to start with, experience can come along later :)

http://wiki.apache.org/jakarta-lucene/HowTo
http://wiki.apache.org/jakarta-lucene/IndexingOtherLanguages


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16256-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 06 17:53:09 2005
Return-Path: <java-user-return-16256-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49748 invoked from network); 6 Sep 2005 17:53:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 6 Sep 2005 17:53:09 -0000
Received: (qmail 37725 invoked by uid 500); 6 Sep 2005 17:53:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37662 invoked by uid 500); 6 Sep 2005 17:53:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37611 invoked by uid 99); 6 Sep 2005 17:53:02 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Sep 2005 10:53:02 -0700
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Sep 2005 10:53:15 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 5E4555B810; Tue,  6 Sep 2005 10:53:00 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 543897F477
	for <java-user@lucene.apache.org>; Tue,  6 Sep 2005 10:53:00 -0700 (PDT)
Date: Tue, 6 Sep 2005 10:53:00 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: Switching from FSDirectory to RAMDirectory
In-Reply-To: <BE3E7BC7F7553B4A9362D4192ECD308AE911C5@neptune.int.mediasurface.com>
Message-ID: <Pine.LNX.4.58.0509061049270.25776@hal.rescomp.berkeley.edu>
References: <BE3E7BC7F7553B4A9362D4192ECD308AE911C5@neptune.int.mediasurface.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: Hi,
: I find that unit tests that modify an existing record in the Lucene
: index by removing it , modifying it and re-adding it, fails if I switch
: from an FSDirectory to a RAMDirectory.

Could you please post a full and complete unit test that demonstrates the
problem.  Based on your description of the problem, it seems like a test
of about 20 lines should demonstrate the problem.


Off the top of my head, i'm guessing that at some point in your tests, you
close your reader and reopen it (possibly while constructing an
IndexSearcher) to see your modifications, and at that point maybe you are
accessing the orriginal FSDirectory.




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16257-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 07 03:28:32 2005
Return-Path: <java-user-return-16257-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 39527 invoked from network); 7 Sep 2005 03:28:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Sep 2005 03:28:32 -0000
Received: (qmail 23626 invoked by uid 500); 7 Sep 2005 03:28:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 23597 invoked by uid 500); 7 Sep 2005 03:28:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 23580 invoked by uid 99); 7 Sep 2005 03:28:27 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Sep 2005 20:28:27 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.200.230] (HELO web31111.mail.mud.yahoo.com) (68.142.200.230)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 06 Sep 2005 20:28:40 -0700
Received: (qmail 77182 invoked by uid 60001); 7 Sep 2005 03:28:26 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:Cc:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=VVW3kTcYbsOqe9szIHHlw+P1KeF4DDosArNzI2xQX9P6z38ZiVE37P6RrlM9SHhui6wYlPGrt1Z/Y7hYmeDs3J3JSYkYZ79TC9R91EZ5HK3naMTYYfuyEV84EXDrJG57R6/gth1PujGxB2aQXhADNPFDz/yt8wDIsLo/px4nomY=  ;
Message-ID: <20050907032826.77180.qmail@web31111.mail.mud.yahoo.com>
Received: from [69.201.142.21] by web31111.mail.mud.yahoo.com via HTTP; Tue, 06 Sep 2005 20:28:25 PDT
Date: Tue, 6 Sep 2005 20:28:25 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: limit return results
To: java-user@lucene.apache.org
Cc: Murray Altheim <m.altheim@open.ac.uk>
In-Reply-To: <431E54BE.2060207@open.ac.uk>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello (redirecting to java-user@),

If you want to have more control over scoring and dealing with hits,
use HitCollector.  Then you can break out when you accumulate enough
results.  Note that scores in HitCollector are not normalized as are
the one coming from IndexSearcher's search(...) methods.

Otis

--- Murray Altheim <m.altheim@open.ac.uk> wrote:

> Erik Hatcher wrote:
> > Just access the first 100 Hits - simple as that.
> > 
> >      Erik
> 
> Erik,
> 
> This question has come up before. For high traffic sites that
> can't afford to have the search engine accumulating thousands
> of hits, only to deliver 100, or perhaps just a few, the
> current approach *seems* like quite a lot of extra processing.
> Is there some way to have the engine simply stop generating
> the hit list after it reaches the specified threshold?
> 
> Thanks,
> 
> Murray
> 
> > On Sep 6, 2005, at 7:07 PM, haipeng du wrote:
> > 
> > 
> >>How could I limit returned results. There may huge number of  
> >>documents that
> >>match my query, but I just want to get the first 100, for example.
> >>Thanks a lot.
> >>
> >>-- 
> >>Haipeng Du
> >>Software Engineer
> >>Comphealth,
> >>Salt Lake City
> 
>
......................................................................
> Murray Altheim                         
> http://www.altheim.com/murray/
> Strategic and Services Development
> The Open University Library
> The Open University, Milton Keynes, Bucks, MK7 6AA, UK              
> .
> 
>         believe that everything is for
>         you until you discover
>         that you are for it
>                                "The Robin and the Worm" by Don
> Marquis.
>                               
> http://www.altheim.com/lit/robnworm.html
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-dev-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-dev-help@lucene.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16258-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 07 05:33:44 2005
Return-Path: <java-user-return-16258-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 80036 invoked from network); 7 Sep 2005 05:33:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Sep 2005 05:33:44 -0000
Received: (qmail 5027 invoked by uid 500); 7 Sep 2005 05:33:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4768 invoked by uid 500); 7 Sep 2005 05:33:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4740 invoked by uid 99); 7 Sep 2005 05:33:38 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Sep 2005 22:33:38 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of sean@oconeco.com designates 216.239.128.26 as permitted sender)
Received: from [216.239.128.26] (HELO smtp.omnis.com) (216.239.128.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 06 Sep 2005 22:33:50 -0700
Received: from [127.0.0.1] (va-71-48-139-67.dhcp.sprint-hsd.net [71.48.139.67])
	by smtp-relay.omnis.com (Postfix) with ESMTP id 8E905881BC4
	for <java-user@lucene.apache.org>; Tue,  6 Sep 2005 22:33:35 -0700 (PDT)
Message-ID: <431E7BDA.7060106@oconeco.com>
Date: Wed, 07 Sep 2005 01:34:18 -0400
From: Sean O'Connor <sean@oconeco.com>
User-Agent: Mozilla Thunderbird 1.0.2 (Windows/20050317)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Hits document offset information? Span query or Surround? - thanks
References: <431D3580.3080303@oconeco.com> <431D3C94.3090101@yahoo.co.uk> <200509060915.28623.paul.elschot@xs4all.nl>
In-Reply-To: <200509060915.28623.paul.elschot@xs4all.nl>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks for the input. I am looking at the suggested links now. If I make 
any progress I will return to see if any of my work would be appropriate 
to contribute back.

Sean


Paul Elschot wrote:

>On Tuesday 06 September 2005 08:52, markharw00d wrote:
>  
>
>> >>I believe I have heard that Span queries provide some way to access 
>>document offset information for their hits somehow.
>>
>>See http://marc.theaimsgroup.com/?l=lucene-user&m=112496111224218&w=2
>>
>>Faithfully selecting extracts based *exactly* on query criteria will be 
>>hard given complex queries eg with nested Boolean logic.
>>
>>The current highlighter matches based on ANY query terms found in the 
>>provided doc text
>>The proposal above matches based on any spans/phrases/terms
>>
>>Both options still fail to take into account any boolean logic and show 
>>the real basis for the match eg the query
>>    (author:"Doug Cutting"AND title:"Lucene in Action") OR (author:Erik 
>>AND author:Otis)
>>would still highlight references to "Doug Cutting" and "Lucene In 
>>Action" for the LIA book, despite the fact that the match was actually 
>>for Erik and Otis (the true authors).
>>For most people this is a problem they can live with.
>>    
>>
>
>The person who solves that might also write a SpanAndQuery :)
>
>Regards,
>Paul Elschot
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>  
>



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16259-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 07 08:41:21 2005
Return-Path: <java-user-return-16259-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45089 invoked from network); 7 Sep 2005 08:41:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Sep 2005 08:41:21 -0000
Received: (qmail 91824 invoked by uid 500); 7 Sep 2005 08:41:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91809 invoked by uid 500); 7 Sep 2005 08:41:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91796 invoked by uid 99); 7 Sep 2005 08:41:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Sep 2005 01:41:14 -0700
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.75.234.2] (HELO smtpgate.saa-cons.co.uk) (194.75.234.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Sep 2005 01:41:27 -0700
Received: (from uucp@localhost)
	by smtpgate.saa-cons.co.uk (8.8.8/8.8.8) id JAA29208
	for <java-user@lucene.apache.org>; Wed, 7 Sep 2005 09:44:23 +0100 (BST)
	(envelope-from Paul.Illingworth@saaconsultants.com)
Received: from domino-mail.saa-cons.co.uk(10.10.10.4) by smtpgate.saa-cons.co.uk via smap (V2.1)
	id xma029184; Wed, 7 Sep 05 09:43:52 +0100
Subject: Updating the index and searching
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 6.5.1 January 21, 2004
Message-ID: <OF3093B8FC.D5CA633D-ON80257075.002B5B4D-80257075.002FB73C@SAAConsultants.com>
From: Paul.Illingworth@saaconsultants.com
Date: Wed, 7 Sep 2005 09:44:05 +0100
X-MIMETrack: Serialize by Router on domino-mail/Saa(Release 6.5.1|January 21, 2004) at
 07/09/2005 09:44:07
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N





Hello,

I have an index into which documents get added and updated (by deleting and
adding). When I run queries on the index these have to take into account
all changes on the index so I open a new IndexReader. What I am finding is
that when the index is large the opening of the index takes a considerable
time with the effect that queries appear to take a long time to run. If a
new document is added or an existing document is updated then I need make
the changes and then open a new IndexReader so that I am able to see the
changes.

Does anybody else have a similar problem? Any solutions?

One idea I have been thinking about that may get around the problem is to
have two indexes, one which is only ever open for reading, the other used
for reading/writing. The idea is that new documents only get added to the
read/write index whilst queries and deletes would operate on both indexes.
Periodically (overnight or when the read/write index reaches a certain
size) then the read/write index will be merged into the read only index and
a new empty read/write index created. The thinking behind this is the
read/write index will be kept small and so constantly opening and closing
will be relatively quick whilst the read only index will be able to be kept
open.

One worry I have is that keeping the read only index open for long periods
without closing it means that the list of deleted documents will be kept in
memory until the index is closed. If something happens to the server
hosting the index then these deletes will be lost. Is there any way to
force the deletes to be flushed to the disk without closing and reopening
the index?

Any help/ideas would be greatly appreciated.

Regards

Paul I.

P.S. I know this subject has been touched upon before and I have had a look
through the mailing lists but couldn't find anything. It would be nice if
the mailing lists had a search facility...


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16260-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 07 09:27:26 2005
Return-Path: <java-user-return-16260-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 63311 invoked from network); 7 Sep 2005 09:27:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Sep 2005 09:27:26 -0000
Received: (qmail 35465 invoked by uid 500); 7 Sep 2005 09:27:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35421 invoked by uid 500); 7 Sep 2005 09:27:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35408 invoked by uid 99); 7 Sep 2005 09:27:21 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Sep 2005 02:27:21 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [213.133.100.46] (HELO black-sheep.coolwool.net) (213.133.100.46)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Sep 2005 02:27:33 -0700
Received: from [192.168.0.5] (cm66-207.liwest.at [212.241.66.207])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by black-sheep.coolwool.net (Postfix) with ESMTP id D9FCC320406
	for <java-user@lucene.apache.org>; Wed,  7 Sep 2005 11:27:16 +0200 (CEST)
Message-ID: <431EB270.10608@eduhi.at>
Date: Wed, 07 Sep 2005 11:27:12 +0200
From: Gusenbauer Stefan <gusenbauer@eduhi.at>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: aslib cranfield test collection
References: <OF3093B8FC.D5CA633D-ON80257075.002B5B4D-80257075.002FB73C@SAAConsultants.com>
In-Reply-To: <OF3093B8FC.D5CA633D-ON80257075.002B5B4D-80257075.002FB73C@SAAConsultants.com>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Sorry for that offtopic message but does anyone has experiences with the
aslib cranfield test collection or does anyone know where i can get it?
thanks in advance
stefan

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16261-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 07 10:11:28 2005
Return-Path: <java-user-return-16261-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79078 invoked from network); 7 Sep 2005 10:11:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Sep 2005 10:11:28 -0000
Received: (qmail 91138 invoked by uid 500); 7 Sep 2005 10:11:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91022 invoked by uid 500); 7 Sep 2005 10:11:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 90954 invoked by uid 99); 7 Sep 2005 10:11:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Sep 2005 03:11:20 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lucenelist@danielnaber.de designates 80.67.18.15 as permitted sender)
Received: from [80.67.18.15] (HELO smtprelay03.ispgateway.de) (80.67.18.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Sep 2005 03:11:32 -0700
Received: (qmail 15913 invoked from network); 7 Sep 2005 10:11:16 -0000
Received: from unknown (HELO p5496BC4A.dip.t-dialin.net) ([pbs]695637@[84.150.188.74])
          (envelope-sender <lucenelist@danielnaber.de>)
          by smtprelay03.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 7 Sep 2005 10:11:16 -0000
From: Daniel Naber <lucenelist@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: Updating the index and searching
Date: Wed, 7 Sep 2005 12:12:45 +0200
User-Agent: KMail/1.8
References: <OF3093B8FC.D5CA633D-ON80257075.002B5B4D-80257075.002FB73C@SAAConsultants.com>
In-Reply-To: <OF3093B8FC.D5CA633D-ON80257075.002B5B4D-80257075.002FB73C@SAAConsultants.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200509071212.45871@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Wednesday 07 September 2005 10:44, Paul.Illingworth@saaconsultants.com 
wrote:

> account all changes on the index so I open a new IndexReader. What I am
> finding is that when the index is large the opening of the index takes a
> considerable time with the effect that queries appear to take a long
> time to run. 

You could try Lucene from subversion. Opening indexes should be faster 
there.

> P.S. I know this subject has been touched upon before and I have had a
> look through the mailing lists but couldn't find anything. It would be
> nice if the mailing lists had a search facility...

Here's an archive with a search feature:
http://www.gossamer-threads.com/lists/lucene/

Regards
 Daniel

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16262-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 07 11:02:39 2005
Return-Path: <java-user-return-16262-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 96338 invoked from network); 7 Sep 2005 11:02:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Sep 2005 11:02:38 -0000
Received: (qmail 71995 invoked by uid 500); 7 Sep 2005 11:02:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71020 invoked by uid 500); 7 Sep 2005 11:02:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 70994 invoked by uid 99); 7 Sep 2005 11:02:23 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Sep 2005 04:02:23 -0700
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=HTML_10_20,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.220.6.229] (HELO mail.roomity.com) (66.220.6.229)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Sep 2005 04:02:35 -0700
Received: from slave1.roomity.com (slave1.roomity.com [66.220.6.229])
	by mail.roomity.com (Postfix) with ESMTP id E58DCA7AF3
	for <java-user@lucene.apache.org>; Wed,  7 Sep 2005 04:03:24 -0700 (PDT)
Message-ID: <31247283.101126091004926.JavaMail.tomcat5@slave1.roomity.com>
From: netsql <maillist@roomity.com>
To: java-user@lucene.apache.org
Subject: Lucene in 1 week in Dallas
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_10_20687137.1126091004923"
Date: Wed,  7 Sep 2005 04:03:24 -0700 (PDT)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_10_20687137.1126091004923
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

http://www.javamug.org has a Lucene seminar.
So if you are in Dallas....

Unrelated: Here is yet another example of using (free) roomity (that uses lucene) to do a search for "JSF", click
http://roomity.com/launch.jsp?search=jsf 


.V


----------------------------------------------------------------------------------------------------------------
Broadband interface (RIA) + mail box saftey = <a href="http://Lucene_Java_User_List.roomity.com">Roomity.com</a>
*Your* clubs, no sign up to read, ad supported; try broadband internet. ~~1126091004923~~
----------------------------------------------------------------------------------------------------------------

------=_Part_10_20687137.1126091004923--


From java-user-return-16263-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 07 12:38:58 2005
Return-Path: <java-user-return-16263-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32672 invoked from network); 7 Sep 2005 12:38:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Sep 2005 12:38:58 -0000
Received: (qmail 79729 invoked by uid 500); 7 Sep 2005 12:38:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 79668 invoked by uid 500); 7 Sep 2005 12:38:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 79648 invoked by uid 99); 7 Sep 2005 12:38:48 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Sep 2005 05:38:48 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Sep 2005 05:38:59 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id E67B013E2008; Wed,  7 Sep 2005 08:38:41 -0400 (EDT)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 1AFA413E2006
	for <java-user@lucene.apache.org>; Wed,  7 Sep 2005 08:38:14 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <31247283.101126091004926.JavaMail.tomcat5@slave1.roomity.com>
References: <31247283.101126091004926.JavaMail.tomcat5@slave1.roomity.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed
Message-Id: <5BD0850E-18B2-45E2-B052-BA1F876E6288@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Lucene in 1 week in Dallas
Date: Wed, 7 Sep 2005 08:38:12 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Sep 7, 2005, at 7:03 AM, netsql wrote:
> http://www.javamug.org has a Lucene seminar.
> So if you are in Dallas....

Thanks for the announcement :)   See ya there!

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16264-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 07 12:52:23 2005
Return-Path: <java-user-return-16264-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 37955 invoked from network); 7 Sep 2005 12:52:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Sep 2005 12:52:22 -0000
Received: (qmail 4031 invoked by uid 500); 7 Sep 2005 12:52:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4009 invoked by uid 500); 7 Sep 2005 12:52:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3996 invoked by uid 99); 7 Sep 2005 12:52:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Sep 2005 05:52:17 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [194.25.134.17] (HELO mailout02.sul.t-online.com) (194.25.134.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Sep 2005 05:52:29 -0700
Received: from fwd25.aul.t-online.de 
	by mailout02.sul.t-online.com with smtp 
	id 1ECzPQ-0006BJ-01; Wed, 07 Sep 2005 14:52:12 +0200
Received: from EXCH.innosystec.de (GQcBJsZEgentyd5c-fg7eDI5t1e+Nv-qaTBCbc4GprOTQLp1hG0K8U@[84.154.205.240]) by fwd25.sul.t-online.de
	with esmtp id 1ECzPH-0otyJE0; Wed, 7 Sep 2005 14:52:03 +0200
Subject: AW: limit return results
MIME-Version: 1.0
Date: Wed, 7 Sep 2005 14:52:02 +0200
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Message-ID: <FAF7E39D1CED524D8553BB1C969F3EF8303B35@exchange.innosystec.site>
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
Content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: limit return results
thread-index: AcWzXcqNnfq5SeTeTc+Bh4EcF33NGQATIQZQ
From: "Kunemann Frank" <frank.kunemann@innosystec.de>
To: <java-user@lucene.apache.org>
X-ID: GQcBJsZEgentyd5c-fg7eDI5t1e+Nv-qaTBCbc4GprOTQLp1hG0K8U@t-dialin.net
X-TOI-MSGID: c7745e3f-ba97-4f35-844e-d2ec714b6c99
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

HitCollector sounds very interesting - do you have an example for how to =
use it?

Frank

-----Urspr=FCngliche Nachricht-----
Von: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com]=20
Gesendet: Mittwoch, 7. September 2005 05:28
An: java-user@lucene.apache.org
Cc: Murray Altheim
Betreff: Re: limit return results

Hello (redirecting to java-user@),

If you want to have more control over scoring and dealing with hits,
use HitCollector.  Then you can break out when you accumulate enough
results.  Note that scores in HitCollector are not normalized as are
the one coming from IndexSearcher's search(...) methods.

Otis

--- Murray Altheim <m.altheim@open.ac.uk> wrote:

> Erik Hatcher wrote:
> > Just access the first 100 Hits - simple as that.
> >=20
> >      Erik
>=20
> Erik,
>=20
> This question has come up before. For high traffic sites that
> can't afford to have the search engine accumulating thousands
> of hits, only to deliver 100, or perhaps just a few, the
> current approach *seems* like quite a lot of extra processing.
> Is there some way to have the engine simply stop generating
> the hit list after it reaches the specified threshold?
>=20
> Thanks,
>=20
> Murray
>=20
> > On Sep 6, 2005, at 7:07 PM, haipeng du wrote:
> >=20
> >=20
> >>How could I limit returned results. There may huge number of =20
> >>documents that
> >>match my query, but I just want to get the first 100, for example.
> >>Thanks a lot.
> >>
> >>--=20
> >>Haipeng Du
> >>Software Engineer
> >>Comphealth,
> >>Salt Lake City
>=20
>
......................................................................
> Murray Altheim                        =20
> http://www.altheim.com/murray/
> Strategic and Services Development
> The Open University Library
> The Open University, Milton Keynes, Bucks, MK7 6AA, UK             =20
> .
>=20
>         believe that everything is for
>         you until you discover
>         that you are for it
>                                "The Robin and the Worm" by Don
> Marquis.
>                              =20
> http://www.altheim.com/lit/robnworm.html
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-dev-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-dev-help@lucene.apache.org
>=20
>=20


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16265-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 07 13:56:29 2005
Return-Path: <java-user-return-16265-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 77517 invoked from network); 7 Sep 2005 13:56:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Sep 2005 13:56:29 -0000
Received: (qmail 96005 invoked by uid 500); 7 Sep 2005 13:56:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95734 invoked by uid 500); 7 Sep 2005 13:56:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95720 invoked by uid 99); 7 Sep 2005 13:56:23 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Sep 2005 06:56:23 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.200.36] (HELO web31103.mail.mud.yahoo.com) (68.142.200.36)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 07 Sep 2005 06:56:34 -0700
Received: (qmail 86858 invoked by uid 60001); 7 Sep 2005 13:56:19 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=f/joOANjIavyBjmgLgEdyLVtckG3vQix4oZbjHq+dVKIjwBlDUVAGNtkibLv5a01NsqzvV7VeGbNRDqL4nugIKX+MfCDPQXC4cz/VNNcW7JHZbP03nYosCLNYDQrH3JVStYHisG0WsnaR5Uf5+56rM/7FWxGC4aTGjiAI8HtjE4=  ;
Message-ID: <20050907135619.86856.qmail@web31103.mail.mud.yahoo.com>
Received: from [216.194.55.187] by web31103.mail.mud.yahoo.com via HTTP; Wed, 07 Sep 2005 06:56:19 PDT
Date: Wed, 7 Sep 2005 06:56:19 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: AW: limit return results
To: java-user@lucene.apache.org
In-Reply-To: <FAF7E39D1CED524D8553BB1C969F3EF8303B35@exchange.innosystec.site>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Look at the code that comes with Lucene in Action.  Here are
references, page numbers, etc.:

  http://www.lucenebook.com/search?query=hitcollector

Otis

--- Kunemann Frank <frank.kunemann@innosystec.de> wrote:

> Hi,
> 
> HitCollector sounds very interesting - do you have an example for how
> to use it?
> 
> Frank
> 
> -----Ursprüngliche Nachricht-----
> Von: Otis Gospodnetic [mailto:otis_gospodnetic@yahoo.com] 
> Gesendet: Mittwoch, 7. September 2005 05:28
> An: java-user@lucene.apache.org
> Cc: Murray Altheim
> Betreff: Re: limit return results
> 
> Hello (redirecting to java-user@),
> 
> If you want to have more control over scoring and dealing with hits,
> use HitCollector.  Then you can break out when you accumulate enough
> results.  Note that scores in HitCollector are not normalized as are
> the one coming from IndexSearcher's search(...) methods.
> 
> Otis
> 
> --- Murray Altheim <m.altheim@open.ac.uk> wrote:
> 
> > Erik Hatcher wrote:
> > > Just access the first 100 Hits - simple as that.
> > > 
> > >      Erik
> > 
> > Erik,
> > 
> > This question has come up before. For high traffic sites that
> > can't afford to have the search engine accumulating thousands
> > of hits, only to deliver 100, or perhaps just a few, the
> > current approach *seems* like quite a lot of extra processing.
> > Is there some way to have the engine simply stop generating
> > the hit list after it reaches the specified threshold?
> > 
> > Thanks,
> > 
> > Murray
> > 
> > > On Sep 6, 2005, at 7:07 PM, haipeng du wrote:
> > > 
> > > 
> > >>How could I limit returned results. There may huge number of  
> > >>documents that
> > >>match my query, but I just want to get the first 100, for
> example.
> > >>Thanks a lot.
> > >>
> > >>-- 
> > >>Haipeng Du
> > >>Software Engineer
> > >>Comphealth,
> > >>Salt Lake City
> > 
> >
>
......................................................................
> > Murray Altheim                         
> > http://www.altheim.com/murray/
> > Strategic and Services Development
> > The Open University Library
> > The Open University, Milton Keynes, Bucks, MK7 6AA, UK             
> 
> > .
> > 
> >         believe that everything is for
> >         you until you discover
> >         that you are for it
> >                                "The Robin and the Worm" by Don
> > Marquis.
> >                               
> > http://www.altheim.com/lit/robnworm.html
> > 
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-dev-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-dev-help@lucene.apache.org
> > 
> > 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16266-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 07 14:24:22 2005
Return-Path: <java-user-return-16266-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91149 invoked from network); 7 Sep 2005 14:24:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Sep 2005 14:24:22 -0000
Received: (qmail 38429 invoked by uid 500); 7 Sep 2005 14:24:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 38411 invoked by uid 500); 7 Sep 2005 14:24:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 38397 invoked by uid 99); 7 Sep 2005 14:24:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Sep 2005 07:24:16 -0700
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_30_40,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.170.193 as permitted sender)
Received: from [64.233.170.193] (HELO rproxy.gmail.com) (64.233.170.193)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Sep 2005 07:24:28 -0700
Received: by rproxy.gmail.com with SMTP id g11so1223863rne
        for <java-user@lucene.apache.org>; Wed, 07 Sep 2005 07:24:13 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:references;
        b=ORcf1TEIrhaAi+/PeT3XRYM+5ZnsIBcd2pystMEtLBG45zsYMNW3JomqslWje2TKfLLTzjgL0f14+GfphcO3AU5gq3WnT1bu4rbNxJy8Bn+2j1rD4/OajoptBJxTJ0vSy2/IZJ79n613Qo14l68e7ZjoEd6sIRhzsYHP2SXLACk=
Received: by 10.38.12.55 with SMTP id 55mr1109403rnl;
        Wed, 07 Sep 2005 07:24:13 -0700 (PDT)
Received: by 10.38.12.41 with HTTP; Wed, 7 Sep 2005 07:24:13 -0700 (PDT)
Message-ID: <c68e39170509070724f25e71b@mail.gmail.com>
Date: Wed, 7 Sep 2005 10:24:13 -0400
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: limit return results
Cc: Murray Altheim <m.altheim@open.ac.uk>
In-Reply-To: <20050907032826.77180.qmail@web31111.mail.mud.yahoo.com>
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_9063_19665118.1126103053258"
References: <431E54BE.2060207@open.ac.uk>
	 <20050907032826.77180.qmail@web31111.mail.mud.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_9063_19665118.1126103053258
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

You normally just can't break out of the HitCollector and get meaningful=20
results. The problem is that you get unordered (or rather index order)=20
results from a HitCollector, not ordered by score or any sort. To get the=
=20
highest 100 docs by score, you normally need to see *all* the hits.

On 9/6/05, Otis Gospodnetic <otis_gospodnetic@yahoo.com> wrote:
>=20
> Hello (redirecting to java-user@),
>=20
> If you want to have more control over scoring and dealing with hits,
> use HitCollector. Then you can break out when you accumulate enough
> results. Note that scores in HitCollector are not normalized as are
> the one coming from IndexSearcher's search(...) methods.
>=20
> Otis
>=20
> --- Murray Altheim <m.altheim@open.ac.uk> wrote:
>=20
> > Erik Hatcher wrote:
> > > Just access the first 100 Hits - simple as that.
> > >
> > > Erik
> >
> > Erik,
> >
> > This question has come up before. For high traffic sites that
> > can't afford to have the search engine accumulating thousands
> > of hits, only to deliver 100, or perhaps just a few, the
> > current approach *seems* like quite a lot of extra processing.
> > Is there some way to have the engine simply stop generating
> > the hit list after it reaches the specified threshold?
> >
> > Thanks,
> >
> > Murray
> >
> > > On Sep 6, 2005, at 7:07 PM, haipeng du wrote:
> > >
> > >
> > >>How could I limit returned results. There may huge number of
> > >>documents that
> > >>match my query, but I just want to get the first 100, for example.
> > >>Thanks a lot.
> > >>
> > >>--
> > >>Haipeng Du
> > >>Software Engineer
> > >>Comphealth,
> > >>Salt Lake City
> >
> >
> ......................................................................
> > Murray Altheim
> > http://www.altheim.com/murray/
> > Strategic and Services Development
> > The Open University Library
> > The Open University, Milton Keynes, Bucks, MK7 6AA, UK
> > .
> >
> > believe that everything is for
> > you until you discover
> > that you are for it
> > "The Robin and the Worm" by Don
> > Marquis.
> >
> > http://www.altheim.com/lit/robnworm.html
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-dev-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-dev-help@lucene.apache.org
> >
> >
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>=20


--=20
-Yonik
Now hiring -- http://tinyurl.com/7m67g

------=_Part_9063_19665118.1126103053258--

From java-user-return-16267-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 07 16:04:52 2005
Return-Path: <java-user-return-16267-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 41374 invoked from network); 7 Sep 2005 16:04:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Sep 2005 16:04:52 -0000
Received: (qmail 52105 invoked by uid 500); 7 Sep 2005 16:04:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 52078 invoked by uid 500); 7 Sep 2005 16:04:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 52059 invoked by uid 99); 7 Sep 2005 16:04:46 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Sep 2005 09:04:46 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [193.123.241.50] (HELO rivette.int.mediasurface.com) (193.123.241.50)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Sep 2005 09:04:58 -0700
Received: from rivette.int.mediasurface.com (localhost [127.0.0.1])
	by rivette.int.mediasurface.com (8.11.6+Sun/8.11.6) with ESMTP id j87G4fA12566
	for <java-user@lucene.apache.org>; Wed, 7 Sep 2005 17:04:41 +0100 (BST)
Received: from neptune.int.mediasurface.com (neptune.int.mediasurface.com [10.0.5.71])
	by rivette.int.mediasurface.com (8.11.6+Sun/8.11.6) with ESMTP id j87G4eI12562
	for <java-user@lucene.apache.org>; Wed, 7 Sep 2005 17:04:41 +0100 (BST)
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Switching from FSDirectory to RAMDirectory
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Date: Wed, 7 Sep 2005 17:04:39 +0100
Message-ID: <BE3E7BC7F7553B4A9362D4192ECD308AE913B1@neptune.int.mediasurface.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Switching from FSDirectory to RAMDirectory
Thread-Index: AcWzC9bq/V4FzUa1QvaKRfS4HDMwNwAudh3A
From: "Peter Gelderbloem" <Peter.Gelderbloem@mediasurface.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N



I got it working,=20
and the off-the-top-of-your-head answer was the right one.

Thanks
Peter Gelderbloem=20
-----Original Message-----
From: hossman@hal.rescomp.berkeley.edu
[mailto:hossman@hal.rescomp.berkeley.edu] On Behalf Of Chris Hostetter
Sent: 06 September 2005 18:53
To: java-user@lucene.apache.org
Subject: Re: Switching from FSDirectory to RAMDirectory


: Hi,
: I find that unit tests that modify an existing record in the Lucene
: index by removing it , modifying it and re-adding it, fails if I
switch
: from an FSDirectory to a RAMDirectory.

Could you please post a full and complete unit test that demonstrates
the
problem.  Based on your description of the problem, it seems like a test
of about 20 lines should demonstrate the problem.


Off the top of my head, i'm guessing that at some point in your tests,
you
close your reader and reopen it (possibly while constructing an
IndexSearcher) to see your modifications, and at that point maybe you
are
accessing the orriginal FSDirectory.




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16268-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 07 16:10:06 2005
Return-Path: <java-user-return-16268-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44055 invoked from network); 7 Sep 2005 16:10:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Sep 2005 16:10:05 -0000
Received: (qmail 60437 invoked by uid 500); 7 Sep 2005 16:09:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60418 invoked by uid 500); 7 Sep 2005 16:09:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 34755 invoked by uid 99); 7 Sep 2005 15:57:47 -0000
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of haipengdu@gmail.com designates 64.233.162.200 as permitted sender)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=lF9JrgMvyRmZge8h1FAYLDJCkDOjJDraw08uAd7kXBq27Eggx9gmpRF+qUQCfZocYvKtBiZeBm7VlWiuxkvaGpObyVy+fOtWQu3T0f1qa96Dk4raj88ifFwXdRi1jwnDMAUW26W2JlFuPlU+FdLoOBJ3AOqm6pSIs8K7TqVLXz4=
Message-ID: <cb1a94005090708571affa90a@mail.gmail.com>
Date: Wed, 7 Sep 2005 09:57:45 -0600
From: haipeng du <haipengdu@gmail.com>
To: java-user@lucene.apache.org
Subject: limit lucene result
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_692_20283251.1126108665299"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_692_20283251.1126108665299
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

The reason that I want to limit returned result is that I do not want
to get out of memory problem. I index lucene with 3 million documents.
Sometimes, searching will return millions of fields back to me. I just
want to get the first 100, for example , to show them to user. Even, I
use search(query,filter,topDocs), I believe it still return all results
back. So how could I limit the lucene returning?

--=20
Haipeng Du
Software Engineer
Comphealth,=20
Salt Lake City

------=_Part_692_20283251.1126108665299--

From java-user-return-16269-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 07 16:39:20 2005
Return-Path: <java-user-return-16269-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 54988 invoked from network); 7 Sep 2005 16:39:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Sep 2005 16:39:18 -0000
Received: (qmail 12926 invoked by uid 500); 7 Sep 2005 16:39:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 12808 invoked by uid 500); 7 Sep 2005 16:39:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 12644 invoked by uid 99); 7 Sep 2005 16:39:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Sep 2005 09:39:13 -0700
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_30_40,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.170.204 as permitted sender)
Received: from [64.233.170.204] (HELO rproxy.gmail.com) (64.233.170.204)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Sep 2005 09:39:26 -0700
Received: by rproxy.gmail.com with SMTP id g11so1246788rne
        for <java-user@lucene.apache.org>; Wed, 07 Sep 2005 09:39:09 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=JYYxQQ+KWlV+rkfKk52dKTbmTeY09OnEyRbGtAabRXNrdYvj3ho6vLc2WboOUWpooJpP+yw+fVF2QNB29MPgi2HvtdN45dMnZ7EF41imUzEiI/jl0fx3PENCABK4BoDlRocLKo84TE9Fml4Ws4ZJ7iUa7VhCjRBuKceWH3M4rwE=
Received: by 10.38.76.30 with SMTP id y30mr1525160rna;
        Wed, 07 Sep 2005 09:39:09 -0700 (PDT)
Received: by 10.38.12.41 with HTTP; Wed, 7 Sep 2005 09:39:09 -0700 (PDT)
Message-ID: <c68e3917050907093914be8585@mail.gmail.com>
Date: Wed, 7 Sep 2005 12:39:09 -0400
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: limit lucene result
In-Reply-To: <cb1a94005090708571affa90a@mail.gmail.com>
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_9327_30881892.1126111149230"
References: <cb1a94005090708571affa90a@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_9327_30881892.1126111149230
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

The Hits object retrieves the documents lazily, so just ask it for the firs=
t=20
100.

-Yonik

On 9/7/05, haipeng du <haipengdu@gmail.com> wrote:
>=20
> The reason that I want to limit returned result is that I do not want
> to get out of memory problem. I index lucene with 3 million documents.
> Sometimes, searching will return millions of fields back to me. I just
> want to get the first 100, for example , to show them to user. Even, I
> use search(query,filter,topDocs), I believe it still return all results
> back. So how could I limit the lucene returning?
>=20
> --
> Haipeng Du
> Software Engineer
> Comphealth,
> Salt Lake City
>=20
>=20


--=20
-Yonik
Now hiring -- http://tinyurl.com/7m67g

------=_Part_9327_30881892.1126111149230--

From java-user-return-16270-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 07 18:52:33 2005
Return-Path: <java-user-return-16270-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5499 invoked from network); 7 Sep 2005 18:52:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Sep 2005 18:52:33 -0000
Received: (qmail 13878 invoked by uid 500); 7 Sep 2005 18:52:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13854 invoked by uid 500); 7 Sep 2005 18:52:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13841 invoked by uid 99); 7 Sep 2005 18:52:27 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Sep 2005 11:52:27 -0700
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Sep 2005 11:52:39 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 8522C5B7D5; Wed,  7 Sep 2005 11:52:21 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 820B57F471
	for <java-user@lucene.apache.org>; Wed,  7 Sep 2005 11:52:21 -0700 (PDT)
Date: Wed, 7 Sep 2005 11:52:21 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: Updating the index and searching
In-Reply-To: <OF3093B8FC.D5CA633D-ON80257075.002B5B4D-80257075.002FB73C@SAAConsultants.com>
Message-ID: <Pine.LNX.4.58.0509071144250.28624@hal.rescomp.berkeley.edu>
References: <OF3093B8FC.D5CA633D-ON80257075.002B5B4D-80257075.002FB73C@SAAConsultants.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


The best advice I can give on this topic is don't open a new IndexReader
for every search.  There is a lot of caching that goes on under the
covers (particularly when you sort by things other then SCORE) which is
completely wasted if you open a new IndexReader everytime.  If you use
Filters, then you should almost allways use the CachingWrapperFilter,
which is also wasted if you open a new IndexReader everytime.

At a minimum, use a singleton IndexReader for your whol applicaiton, and
don't replace it with a new IndexReader unless
IndexReader.getCurrentVersion says it has changed since the last time you
opened it.

Ideally, don't check IndexReader.getCurrentVersion on every search, check
it only if the last time it was checked was more then N seconds ago --
where N can be defined by your needs, but make it as large as possible.
Even if N is very small, and you are making constant updates to your
index, at least this way concurrent searches can take advantage of
eachother.


: Date: Wed, 7 Sep 2005 09:44:05 +0100
: From: Paul.Illingworth@saaconsultants.com
: Reply-To: java-user@lucene.apache.org
: To: java-user@lucene.apache.org
: Subject: Updating the index and searching
:
:
:
:
:
: Hello,
:
: I have an index into which documents get added and updated (by deleting and
: adding). When I run queries on the index these have to take into account
: all changes on the index so I open a new IndexReader. What I am finding is
: that when the index is large the opening of the index takes a considerable
: time with the effect that queries appear to take a long time to run. If a
: new document is added or an existing document is updated then I need make
: the changes and then open a new IndexReader so that I am able to see the
: changes.
:
: Does anybody else have a similar problem? Any solutions?
:
: One idea I have been thinking about that may get around the problem is to
: have two indexes, one which is only ever open for reading, the other used
: for reading/writing. The idea is that new documents only get added to the
: read/write index whilst queries and deletes would operate on both indexes.
: Periodically (overnight or when the read/write index reaches a certain
: size) then the read/write index will be merged into the read only index and
: a new empty read/write index created. The thinking behind this is the
: read/write index will be kept small and so constantly opening and closing
: will be relatively quick whilst the read only index will be able to be kept
: open.
:
: One worry I have is that keeping the read only index open for long periods
: without closing it means that the list of deleted documents will be kept in
: memory until the index is closed. If something happens to the server
: hosting the index then these deletes will be lost. Is there any way to
: force the deletes to be flushed to the disk without closing and reopening
: the index?
:
: Any help/ideas would be greatly appreciated.
:
: Regards
:
: Paul I.
:
: P.S. I know this subject has been touched upon before and I have had a look
: through the mailing lists but couldn't find anything. It would be nice if
: the mailing lists had a search facility...
:
:
: ---------------------------------------------------------------------
: To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: For additional commands, e-mail: java-user-help@lucene.apache.org
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16271-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 07 20:02:44 2005
Return-Path: <java-user-return-16271-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35319 invoked from network); 7 Sep 2005 20:02:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Sep 2005 20:02:44 -0000
Received: (qmail 38231 invoked by uid 500); 7 Sep 2005 20:02:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 38116 invoked by uid 500); 7 Sep 2005 20:02:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37974 invoked by uid 99); 7 Sep 2005 20:02:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Sep 2005 13:02:29 -0700
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=HTML_00_10,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of rouhi.ali@gmail.com designates 64.233.184.193 as permitted sender)
Received: from [64.233.184.193] (HELO wproxy.gmail.com) (64.233.184.193)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Sep 2005 13:02:41 -0700
Received: by wproxy.gmail.com with SMTP id i5so1561531wra
        for <java-user@lucene.apache.org>; Wed, 07 Sep 2005 13:02:26 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=Ed5QVLvxel6spBeJcYpqhVQHyUdArYdGorIlrT5SwuseH5JqLxjmAVPqOuxb06bya7FS5iX+mCxAVnm2VylOW1TeWu26BmH2bQu3Kg2idGuUWslb6TkEB6NGgVZmCLwNYe+SDS87/ldoTgKi85kb7N28Fz/WpAyflAcyCIWEhM8=
Received: by 10.54.3.57 with SMTP id 57mr5755230wrc;
        Wed, 07 Sep 2005 13:02:26 -0700 (PDT)
Received: by 10.54.104.13 with HTTP; Wed, 7 Sep 2005 13:02:26 -0700 (PDT)
Message-ID: <2c7935ba05090713022c4094b6@mail.gmail.com>
Date: Wed, 7 Sep 2005 13:02:26 -0700
From: Ali Rouhi <rouhi.ali@gmail.com>
To: java-user@lucene.apache.org
Subject: MultiSearcher "refresh" when underlying searchers need to be recreated?
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_6481_21601126.1126123346623"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_6481_21601126.1126123346623
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi

I have a general question about the cost of creating MultiSearchers. Suppos=
e=20
you have created a MultiSearcher using a large number of IndexSearchers,=20
let's exaggerate to highlight the issue and assume we put an array of 100=
=20
IndexSearchers over large indexes in the MultiSearcher constructor. Suppose=
=20
either 1 of the 100 indexes changes (maybe because we optimized it), or tha=
t=20
a 101'st index gets added which needs to be included in future searches.

Is it best just to throw away the MultiSearcher and create a new one with=
=20
the updated indexes or is it better to modify the MultiSearcher code to=20
allow adding/removing/updating of underlying indexes. What I'm concerned=20
with is the cost of recalculating the information which has not changed for=
=20
the other 99 IndexSearchers.

Looking at the MultiSearcher code, it doesn't seem like the constructor doe=
s=20
a lot of work. So maybe it's just best to close it and create a new one. I=
=20
am not sure though, and any advice/insight would be greatly appreciated.

Thanks
Ali

------=_Part_6481_21601126.1126123346623--

From java-user-return-16272-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 07 23:27:08 2005
Return-Path: <java-user-return-16272-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2176 invoked from network); 7 Sep 2005 23:27:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Sep 2005 23:27:08 -0000
Received: (qmail 78848 invoked by uid 500); 7 Sep 2005 23:27:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78821 invoked by uid 500); 7 Sep 2005 23:27:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 78808 invoked by uid 99); 7 Sep 2005 23:27:02 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Sep 2005 16:27:02 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_60_70,HTML_MESSAGE,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [212.227.126.183] (HELO moutng.kundenserver.de) (212.227.126.183)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Sep 2005 16:27:14 -0700
Received: from Be7b0.b.pppool.de [213.7.231.176] (helo=gasi)
	by mrelayeu.kundenserver.de with ESMTP (Nemesis),
	id 0ML21M-1ED9Jh3CbI-0007pm; Thu, 08 Sep 2005 01:26:57 +0200
Message-ID: <001801c5b403$a42755b0$b0e707d5@gasi>
From: "Gasi" <gasi@artentis.com>
To: <java-user@lucene.apache.org>
Subject: lia demos without ant
Date: Thu, 8 Sep 2005 01:26:56 +0200
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0015_01C5B414.66AC4A40"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Provags-ID: kundenserver.de abuse@kundenserver.de login:e856510009f74cf6d851f8e7132753ec
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0015_01C5B414.66AC4A40
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hallo,


IBecause of less or better say no experience in Ant I try to run some =
demo applications out of the LuceneInAction Examples folder. For example =
I wanted to test AnalyzerDemo.java. I set the -classpath =
c:/LuceneInAction/lia/analysis because there is AnalyzerDemo.java on my =
system. I tried to compile it with :
 java -classpath lucene-1.4.3.jar lia.analysis.AnalyzerDemo but it =
failed. The error is NoClassDefError.
Has somebody a hint why it fails


Thanks in advance



Greetings



Gaston
------=_NextPart_000_0015_01C5B414.66AC4A40--


From java-user-return-16273-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 07 23:57:55 2005
Return-Path: <java-user-return-16273-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11716 invoked from network); 7 Sep 2005 23:57:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 7 Sep 2005 23:57:55 -0000
Received: (qmail 5065 invoked by uid 500); 7 Sep 2005 23:57:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4156 invoked by uid 500); 7 Sep 2005 23:57:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4138 invoked by uid 99); 7 Sep 2005 23:57:51 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Sep 2005 16:57:50 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.200.40] (HELO web31107.mail.mud.yahoo.com) (68.142.200.40)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 07 Sep 2005 16:58:03 -0700
Received: (qmail 12101 invoked by uid 60001); 7 Sep 2005 23:57:48 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=visYQmV6Ji5Wu/u5SlWrXiTMbsVzetju3IBz04WDxbPKA2U+ljnHe8i50x4MfDy2fP1p0rkDkk75xlmtWQ3yOTdNpJ8kfKK1cI1v45998reL3CpGR6EEzF7LbJAPP8PEBZoj0ZyisOFp1U6Q7RLdF/3Fsvg6bWBKndBRbKKvQdk=  ;
Message-ID: <20050907235748.12099.qmail@web31107.mail.mud.yahoo.com>
Received: from [69.201.142.21] by web31107.mail.mud.yahoo.com via HTTP; Wed, 07 Sep 2005 16:57:48 PDT
Date: Wed, 7 Sep 2005 16:57:48 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: lia demos without ant
To: java-user@lucene.apache.org
In-Reply-To: <001801c5b403$a42755b0$b0e707d5@gasi>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Gasi,

Please see page xxxii in LIA, section Author Online, and use that for
LIA questions, so we don't bother others with LIA-specific stuff.

However, your problem doesn't have to do so much with LIA, either. 
It's a basic Java question, and it looks like the part that you have
been misunderstanding is about what CLASSPATH is or how it is used.

When you run "java -classpath lucene-1.4.3.jar
lia.analysis.AnalyzerDemo", you are not compiling anything, you are
trying to run AnalyzerDemo class, in the lia.analysis java package.

Also, thar particular command assumes that file lucene-1.4.3.jar is in
your current directory, and based on your error, it looks like that's
not the case.

Here are some links that may be worth checking out:
  http://www.google.com/search?q=java%20classpath%20tutorial

Otis


--- Gasi <gasi@artentis.com> wrote:

> Hallo,
> 
> 
> IBecause of less or better say no experience in Ant I try to run some
> demo applications out of the LuceneInAction Examples folder. For
> example I wanted to test AnalyzerDemo.java. I set the -classpath
> c:/LuceneInAction/lia/analysis because there is AnalyzerDemo.java on
> my system. I tried to compile it with :
>  java -classpath lucene-1.4.3.jar lia.analysis.AnalyzerDemo but it
> failed. The error is NoClassDefError.
> Has somebody a hint why it fails
> 
> 
> Thanks in advance
> 
> 
> 
> Greetings
> 
> 
> 
> Gaston


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16274-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 08 03:16:14 2005
Return-Path: <java-user-return-16274-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 76398 invoked from network); 8 Sep 2005 03:16:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Sep 2005 03:16:13 -0000
Received: (qmail 58566 invoked by uid 500); 8 Sep 2005 03:16:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58536 invoked by uid 500); 8 Sep 2005 03:16:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58522 invoked by uid 99); 8 Sep 2005 03:16:08 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Sep 2005 20:16:08 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of sean@oconeco.com designates 216.239.128.26 as permitted sender)
Received: from [216.239.128.26] (HELO smtp.omnis.com) (216.239.128.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 07 Sep 2005 20:16:20 -0700
Received: from [127.0.0.1] (68-235-161-43.chvlva.adelphia.net [68.235.161.43])
	by smtp-relay.omnis.com (Postfix) with ESMTP id B16A614077E9
	for <java-user@lucene.apache.org>; Wed,  7 Sep 2005 20:16:04 -0700 (PDT)
Message-ID: <431FAD20.9010207@oconeco.com>
Date: Wed, 07 Sep 2005 23:16:48 -0400
From: Sean O'Connor <sean@oconeco.com>
User-Agent: Mozilla Thunderbird 1.0.2 (Windows/20050317)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Location of code which determines a Hit for PhraseQuery
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,
    I am trying to work through the Hit collection process for a 
PhraseQuery (using an exact phrase). For an example search, say I'm 
looking for:
"lucene action"  (quotes indicating exact phrase)

in a one doc, one field index consisting of:
wow, lucene rocks, lucene action items are cool, very action packed


So my questions are:
- What does (Default)Similarity.idf() do?
    Just create a base frequency for a term in the query?
    i.e. it creates something of a raw score, based on term (not phrase) 
frequency in a doc

- Does (Phrase)Weight do the work of finding a phrase match?
    I don't think so, but get confused in the weight/scorer functionality

-Does ExactPhraseScorer do the work of finding a phrase match?
    I think so, but seem to keep missing where
    i.e. where does the first instance of "lucene" (lucene rocks) get 
skipped but the second one (lucene action) become a hit?

- What does SegmentTermPositions do?
    I think this is critical to the PhrasePositions process, which 
PhraseScorer uses
    I think it hold pointers to the positions in the index file streams 
(ability to read the indexes?)

- Where does the code identify a 'proper' hit for something like an 
exact phrase?

    Apologies in advance for the poor sample text above, and the 
repetition in question matter. Hopefully I am getting closer to getting 
my head wrapped around the query/hit process (and then work on extending 
the hits to include offset position).
Thanks

Sean



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16275-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 08 07:23:53 2005
Return-Path: <java-user-return-16275-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52267 invoked from network); 8 Sep 2005 07:23:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Sep 2005 07:23:53 -0000
Received: (qmail 31428 invoked by uid 500); 8 Sep 2005 07:23:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31406 invoked by uid 500); 8 Sep 2005 07:23:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31393 invoked by uid 99); 8 Sep 2005 07:23:47 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Sep 2005 00:23:47 -0700
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.109.24.28] (HELO smtp-vbr8.xs4all.nl) (194.109.24.28)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Sep 2005 00:23:59 -0700
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr8.xs4all.nl (8.13.3/8.13.3) with ESMTP id j887NiEk076009
	for <java-user@lucene.apache.org>; Thu, 8 Sep 2005 09:23:44 +0200 (CEST)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: Location of code which determines a Hit for PhraseQuery
Date: Thu, 8 Sep 2005 09:23:43 +0200
User-Agent: KMail/1.5.4
References: <431FAD20.9010207@oconeco.com>
In-Reply-To: <431FAD20.9010207@oconeco.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200509080923.43644.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Sean,

On Thursday 08 September 2005 05:16, Sean O'Connor wrote:
> Hi,
>     I am trying to work through the Hit collection process for a 
> PhraseQuery (using an exact phrase). For an example search, say I'm 
> looking for:
> "lucene action"  (quotes indicating exact phrase)
> 
> in a one doc, one field index consisting of:
> wow, lucene rocks, lucene action items are cool, very action packed
> 
> 
> So my questions are:
> - What does (Default)Similarity.idf() do?
>     Just create a base frequency for a term in the query?
>     i.e. it creates something of a raw score, based on term (not phrase) 
> frequency in a doc

It defines a basic weight for a term in a query. It uses the number of
documents containing the term and the total number of documents
in the index. This value does not vary over different documents 
in the same query.
 
> - Does (Phrase)Weight do the work of finding a phrase match?
>     I don't think so, but get confused in the weight/scorer functionality

A Weight determines the weights to be used for scoring a query
for a particular query search. It collects various weights from
parts of the query and then normalizes these. For nested
queries this can involve some of recursion.
The javadoc of Weight in the svn trunk is more detailed than in 1.4.3.
 
> -Does ExactPhraseScorer do the work of finding a phrase match?

Yes, but it does a bit more: it also counts the number of phrase matches
in the document. The score of a phrase in a document only depends
on this count.

>     I think so, but seem to keep missing where
>     i.e. where does the first instance of "lucene" (lucene rocks) get 
> skipped but the second one (lucene action) become a hit?

In ExactPhraseScorer.phraseFreq() the freq variable
is not incremented for the first instance, but it is incremented
for the second one.

Non exact phrases can have more hits in a document, so they
need another implementation of phraseFreq().

> - What does SegmentTermPositions do?
>     I think this is critical to the PhrasePositions process, which 
> PhraseScorer uses
>     I think it hold pointers to the positions in the index file streams 
> (ability to read the indexes?)

Correct. This is one of the things that make Lucene fast. It is
package private because it is not normally used directly
in a Lucene application.
Optimizing an index merges all the segments into one.
 
Regards,
Paul Elschot


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16276-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 08 09:01:14 2005
Return-Path: <java-user-return-16276-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82986 invoked from network); 8 Sep 2005 09:01:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Sep 2005 09:01:14 -0000
Received: (qmail 27757 invoked by uid 500); 8 Sep 2005 09:01:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27720 invoked by uid 500); 8 Sep 2005 09:01:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27707 invoked by uid 99); 8 Sep 2005 09:01:08 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Sep 2005 02:01:08 -0700
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.75.234.2] (HELO smtpgate.saa-cons.co.uk) (194.75.234.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Sep 2005 02:01:21 -0700
Received: (from uucp@localhost)
	by smtpgate.saa-cons.co.uk (8.8.8/8.8.8) id KAA15160;
	Thu, 8 Sep 2005 10:04:18 +0100 (BST)
	(envelope-from Paul.Illingworth@saaconsultants.com)
Received: from domino-mail.saa-cons.co.uk(10.10.10.4) by smtpgate.saa-cons.co.uk via smap (V2.1)
	id xma015156; Thu, 8 Sep 05 10:04:02 +0100
In-Reply-To: <20050907191126.94144.qmail@web32209.mail.mud.yahoo.com>
Subject: Re: Updating the index and searching
To: java-user@lucene.apache.org
Cc: Brian <okmred@yahoo.com>
X-Mailer: Lotus Notes Release 6.5.1 January 21, 2004
Message-ID: <OF3C32AAF4.9647DEC6-ON80257076.002CE69D-80257076.00318F20@SAAConsultants.com>
From: Paul.Illingworth@saaconsultants.com
Date: Thu, 8 Sep 2005 10:04:15 +0100
X-MIMETrack: Serialize by Router on domino-mail/Saa(Release 6.5.1|January 21, 2004) at
 08/09/2005 10:04:16
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N






Hello Brian,

Updating an index is very straightforward. Simply open the index writer for
your existing index and add the new documents. The issue is that if you
need to search on the updated index you need to open a new index reader in
order to see the new documents. This is the timeconsuming bit - it also
seems that there's a lot caching going on in the index reader that would be
lost by opening a new index reader. Ideally, if you can, you need to batch
up your documents that need to be added to the index and do it in one hit.
If you can't batch up the documents then you're likely to suffer the same
problem as me.

Currently I have a single index writer and a single index reader per index.
When I add a document I open the index writer and then add the document. I
now leave the index writer open in case any other documents come along that
need to be added. I have a timeout on this to close the index writer if
nothing happens for a while to flush data to disk. If a query request comes
along I close any index writers and open an index reader and perform the
query. I now leave this open in case any more queries come along. I only
close this index reader if I need to add documents to the index in which
case I close the reader and open the writer. The idea is to keep either the
index writer or reader open as long as possible to minimise the hit of
opening a new index reader/writer.

Some ideas :-
1) Like I said in the previous mail an idea I have had is to have two
indexes, one for todays documents that has the constant swapping of index
reader/writers and another bigger index that holds all the documents prior
to todays that only ever gets open for reading. At the end of the day the
indexes would be merged ready for tomorrow. This means only the small index
ever gets opened/closed repeatedly.
2) Something else I found out about  yesterday that looks useful (to me at
least) is the ParallelReader that allows fields for a particular document
to be split across indexes. This isn't in Lucene 1.4.3 but I think is in
the source repository. This allows, for example, updates to be carried out
on a meta data fields (held in one  index) avoiding re-analysing and
re-indexing the text of a document held in another index.

Unless anything else crops up I'll probably give the two index approach a
go in a week or two.

Regards

Paul I.

Brian <okmred@yahoo.com> wrote on 07/09/2005 20:11:26:

>
> Paul,
>      Is there a way just to update an existing index?
> Meaning I have ~20,000 documents a day that I need to
> append to my index. I don't need to delete anything,
> just add the new documents. Is there an easy way to
> get that done?
>
> Thanks for any thought's.
> Brian
>
> __________________________________________________
> Do You Yahoo!?
> Tired of spam?  Yahoo! Mail has the best spam protection around
> http://mail.yahoo.com


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16277-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 08 09:39:45 2005
Return-Path: <java-user-return-16277-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 96016 invoked from network); 8 Sep 2005 09:39:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Sep 2005 09:39:45 -0000
Received: (qmail 78283 invoked by uid 500); 8 Sep 2005 09:39:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78268 invoked by uid 500); 8 Sep 2005 09:39:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 66167 invoked by uid 99); 8 Sep 2005 09:29:12 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Mime-Version: 1.0 (Apple Message framework v622)
Content-Transfer-Encoding: 7bit
Message-Id: <b12000abd86c500ce70905a7f09b882a@activemath.org>
Content-Type: text/plain; charset=US-ASCII; format=flowed
To: java-user@lucene.apache.org
From: Paul Libbrecht <paul.libbrecht@activemath.org>
Subject: Updating a Document without re-analyzing
Date: Thu, 8 Sep 2005 11:29:00 +0200
X-Mailer: Apple Mail (2.622)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Hi,

some times ago I posted a comment which asking this question (which is 
by no means new) about updating a Lucene document without re-analyzing, 
that is, where we expect the token-streams to be copied into the new 
document and where I intend to change only a few keyword values.

I cannot find this answer anymore, sadly... It was something like "look 
in Nutch" but I didn't find it there, at least.

Could someone repoint me to this bit ? Updating a document this way 
would be a very important optimization for us as we could unload most 
of the content into lucene's document and modify, later, the document 
with results which need to have swallowed the whole repository first.

thank you much.

paul


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16278-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 08 09:53:22 2005
Return-Path: <java-user-return-16278-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 99513 invoked from network); 8 Sep 2005 09:53:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Sep 2005 09:53:22 -0000
Received: (qmail 87475 invoked by uid 500); 8 Sep 2005 09:53:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87453 invoked by uid 500); 8 Sep 2005 09:53:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87439 invoked by uid 99); 8 Sep 2005 09:53:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Sep 2005 02:53:16 -0700
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.75.234.2] (HELO smtpgate.saa-cons.co.uk) (194.75.234.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Sep 2005 02:53:28 -0700
Received: (from uucp@localhost)
	by smtpgate.saa-cons.co.uk (8.8.8/8.8.8) id KAA15846
	for <java-user@lucene.apache.org>; Thu, 8 Sep 2005 10:56:27 +0100 (BST)
	(envelope-from Paul.Illingworth@saaconsultants.com)
Received: from domino-mail.saa-cons.co.uk(10.10.10.4) by smtpgate.saa-cons.co.uk via smap (V2.1)
	id xma015843; Thu, 8 Sep 05 10:56:10 +0100
In-Reply-To: <b12000abd86c500ce70905a7f09b882a@activemath.org>
Subject: Re: Updating a Document without re-analyzing
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 6.5.1 January 21, 2004
Message-ID: <OF86F5D6A9.033A20DB-ON80257076.0035F268-80257076.00365584@SAAConsultants.com>
From: Paul.Illingworth@saaconsultants.com
Date: Thu, 8 Sep 2005 10:56:24 +0100
X-MIMETrack: Serialize by Router on domino-mail/Saa(Release 6.5.1|January 21, 2004) at
 08/09/2005 10:56:24
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N






Hello Paul,

I came across this yesterday.

http://mail-archives.apache.org/mod_mbox/lucene-java-dev/200504.mbox/%3c42715364.70804@apache.org%3e

My understanding is that by splitting your fields into two indexes and
putting your keyword fields into one and your complicated stuff into the
other then you can update your keyword index in the usual way delete/re-add
without having to update your other index avoiding the re-analyzing.

Regards

Paul I.

Paul Libbrecht <paul.libbrecht@activemath.org> wrote on 08/09/2005
10:29:00:

>
> Hi,
>
> some times ago I posted a comment which asking this question (which is
> by no means new) about updating a Lucene document without re-analyzing,
> that is, where we expect the token-streams to be copied into the new
> document and where I intend to change only a few keyword values.
>
> I cannot find this answer anymore, sadly... It was something like "look
> in Nutch" but I didn't find it there, at least.
>
> Could someone repoint me to this bit ? Updating a document this way
> would be a very important optimization for us as we could unload most
> of the content into lucene's document and modify, later, the document
> with results which need to have swallowed the whole repository first.
>
> thank you much.
>
> paul
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16279-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 08 10:29:15 2005
Return-Path: <java-user-return-16279-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8365 invoked from network); 8 Sep 2005 10:29:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Sep 2005 10:29:15 -0000
Received: (qmail 28689 invoked by uid 500); 8 Sep 2005 10:29:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27797 invoked by uid 500); 8 Sep 2005 10:29:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27784 invoked by uid 99); 8 Sep 2005 10:29:10 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Sep 2005 03:29:10 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [194.25.134.80] (HELO mailout01.sul.t-online.com) (194.25.134.80)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Sep 2005 03:29:22 -0700
Received: from fwd24.aul.t-online.de 
	by mailout01.sul.t-online.com with smtp 
	id 1EDJeU-0005pW-06; Thu, 08 Sep 2005 12:29:06 +0200
Received: from EXCH.innosystec.de (bHqu1sZ6QeBHA6r2icAS1t2bKBUqdBKEZhEC4RH2GQLXE8nncoGu8X@[84.154.202.20]) by fwd24.sul.t-online.de
	with esmtp id 1EDJeL-0adLyS0; Thu, 8 Sep 2005 12:28:57 +0200
Subject: cancel search
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Date: Thu, 8 Sep 2005 12:28:56 +0200
Message-ID: <FAF7E39D1CED524D8553BB1C969F3EF8303B37@exchange.innosystec.site>
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
Content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: cancel search
thread-index: AcWzt+PJ2CkCEfsDQ+uvINoFcfKMtwApt7xQ
From: "Kunemann Frank" <frank.kunemann@innosystec.de>
To: <java-user@lucene.apache.org>
X-ID: bHqu1sZ6QeBHA6r2icAS1t2bKBUqdBKEZhEC4RH2GQLXE8nncoGu8X@t-dialin.net
X-TOI-MSGID: eeb3644a-797c-453d-a1c0-722d9b0d2a67
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Is there a good way to cancel a search? I mean e.g. after 10 seconds or =
if the user changed his mind and wants to start another query.
Till now I didn't have a query that took longer than 10 secs, but this =
can happen easily when the network connection is very slow or something =
like that.

I thought about starting the search in a thread and stop it if needed. =
But this will result in an undefined state and doesn't seem to be a good =
approach.

Frank

-----Urspr=FCngliche Nachricht-----
Von: Yonik Seeley [mailto:yseeley@gmail.com]=20
Gesendet: Mittwoch, 7. September 2005 16:24
An: java-user@lucene.apache.org
Cc: Murray Altheim
Betreff: Re: limit return results

You normally just can't break out of the HitCollector and get meaningful =

results. The problem is that you get unordered (or rather index order)=20
results from a HitCollector, not ordered by score or any sort. To get =
the=20
highest 100 docs by score, you normally need to see *all* the hits.

On 9/6/05, Otis Gospodnetic <otis_gospodnetic@yahoo.com> wrote:
>=20
> Hello (redirecting to java-user@),
>=20
> If you want to have more control over scoring and dealing with hits,
> use HitCollector. Then you can break out when you accumulate enough
> results. Note that scores in HitCollector are not normalized as are
> the one coming from IndexSearcher's search(...) methods.
>=20
> Otis
>=20
> --- Murray Altheim <m.altheim@open.ac.uk> wrote:
>=20
> > Erik Hatcher wrote:
> > > Just access the first 100 Hits - simple as that.
> > >
> > > Erik
> >
> > Erik,
> >
> > This question has come up before. For high traffic sites that
> > can't afford to have the search engine accumulating thousands
> > of hits, only to deliver 100, or perhaps just a few, the
> > current approach *seems* like quite a lot of extra processing.
> > Is there some way to have the engine simply stop generating
> > the hit list after it reaches the specified threshold?
> >
> > Thanks,
> >
> > Murray
> >
> > > On Sep 6, 2005, at 7:07 PM, haipeng du wrote:
> > >
> > >
> > >>How could I limit returned results. There may huge number of
> > >>documents that
> > >>match my query, but I just want to get the first 100, for example.
> > >>Thanks a lot.
> > >>
> > >>--
> > >>Haipeng Du
> > >>Software Engineer
> > >>Comphealth,
> > >>Salt Lake City
> >
> >
> ......................................................................
> > Murray Altheim
> > http://www.altheim.com/murray/
> > Strategic and Services Development
> > The Open University Library
> > The Open University, Milton Keynes, Bucks, MK7 6AA, UK
> > .
> >
> > believe that everything is for
> > you until you discover
> > that you are for it
> > "The Robin and the Worm" by Don
> > Marquis.
> >
> > http://www.altheim.com/lit/robnworm.html
> >
> >
> > =
---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-dev-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-dev-help@lucene.apache.org
> >
> >
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>=20


--=20
-Yonik
Now hiring -- http://tinyurl.com/7m67g


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16280-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 08 10:46:48 2005
Return-Path: <java-user-return-16280-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15633 invoked from network); 8 Sep 2005 10:46:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Sep 2005 10:46:47 -0000
Received: (qmail 52813 invoked by uid 500); 8 Sep 2005 10:46:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 52792 invoked by uid 500); 8 Sep 2005 10:46:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 52779 invoked by uid 99); 8 Sep 2005 10:46:41 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Sep 2005 03:46:41 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [212.33.55.24] (HELO lilzmailso02.liwest.at) (212.33.55.24)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Sep 2005 03:46:54 -0700
Received: from cm66-207.liwest.at ([212.241.66.207] helo=[192.168.0.5])
	by lilzmailso02.liwest.at with esmtp (Exim 4.24)
	id 1EDJvQ-0008Vj-WD
	for java-user@lucene.apache.org; Thu, 08 Sep 2005 12:46:37 +0200
Message-ID: <43201689.9090701@eduhi.at>
Date: Thu, 08 Sep 2005 12:46:33 +0200
From: Gusenbauer Stefan <gusenbauer@eduhi.at>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: cancel search
References: <FAF7E39D1CED524D8553BB1C969F3EF8303B37@exchange.innosystec.site>
In-Reply-To: <FAF7E39D1CED524D8553BB1C969F3EF8303B37@exchange.innosystec.site>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Kunemann Frank wrote:

>Is there a good way to cancel a search? I mean e.g. after 10 seconds or if the user changed his mind and wants to start another query.
>Till now I didn't have a query that took longer than 10 secs, but this can happen easily when the network connection is very slow or something like that.
>
>I thought about starting the search in a thread and stop it if needed. But this will result in an undefined state and doesn't seem to be a good approach.
>
>Frank
>
>-----Ursprüngliche Nachricht-----
>Von: Yonik Seeley [mailto:yseeley@gmail.com] 
>Gesendet: Mittwoch, 7. September 2005 16:24
>An: java-user@lucene.apache.org
>Cc: Murray Altheim
>Betreff: Re: limit return results
>
>You normally just can't break out of the HitCollector and get meaningful 
>results. The problem is that you get unordered (or rather index order) 
>results from a HitCollector, not ordered by score or any sort. To get the 
>highest 100 docs by score, you normally need to see *all* the hits.
>
>On 9/6/05, Otis Gospodnetic <otis_gospodnetic@yahoo.com> wrote:
>  
>
>>Hello (redirecting to java-user@),
>>
>>If you want to have more control over scoring and dealing with hits,
>>use HitCollector. Then you can break out when you accumulate enough
>>results. Note that scores in HitCollector are not normalized as are
>>the one coming from IndexSearcher's search(...) methods.
>>
>>Otis
>>
>>--- Murray Altheim <m.altheim@open.ac.uk> wrote:
>>
>>    
>>
>>>Erik Hatcher wrote:
>>>      
>>>
>>>>Just access the first 100 Hits - simple as that.
>>>>
>>>>Erik
>>>>        
>>>>
>>>Erik,
>>>
>>>This question has come up before. For high traffic sites that
>>>can't afford to have the search engine accumulating thousands
>>>of hits, only to deliver 100, or perhaps just a few, the
>>>current approach *seems* like quite a lot of extra processing.
>>>Is there some way to have the engine simply stop generating
>>>the hit list after it reaches the specified threshold?
>>>
>>>Thanks,
>>>
>>>Murray
>>>
>>>      
>>>
>>>>On Sep 6, 2005, at 7:07 PM, haipeng du wrote:
>>>>
>>>>
>>>>        
>>>>
>>>>>How could I limit returned results. There may huge number of
>>>>>documents that
>>>>>match my query, but I just want to get the first 100, for example.
>>>>>Thanks a lot.
>>>>>
>>>>>--
>>>>>Haipeng Du
>>>>>Software Engineer
>>>>>Comphealth,
>>>>>Salt Lake City
>>>>>          
>>>>>
>>>      
>>>
>>......................................................................
>>    
>>
>>>Murray Altheim
>>>http://www.altheim.com/murray/
>>>Strategic and Services Development
>>>The Open University Library
>>>The Open University, Milton Keynes, Bucks, MK7 6AA, UK
>>>.
>>>
>>>believe that everything is for
>>>you until you discover
>>>that you are for it
>>>"The Robin and the Worm" by Don
>>>Marquis.
>>>
>>>http://www.altheim.com/lit/robnworm.html
>>>
>>>
>>>---------------------------------------------------------------------
>>>To unsubscribe, e-mail: java-dev-unsubscribe@lucene.apache.org
>>>For additional commands, e-mail: java-dev-help@lucene.apache.org
>>>
>>>
>>>      
>>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>>    
>>
>
>
>  
>
I've had such a long lasting search too. I sounds good to start the
search in another thread. I've done this for the indexing procedure.
This is started in another thread and the gui will be informed when
indexing is performed. If the user will stop it he has to click on a
button stop and then an event is send to the indexerthread. The
indexerthread stops if he reaches a safe point. Surely this is for
indexing but I think this would work for searching also.
stefan


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16281-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 08 11:15:28 2005
Return-Path: <java-user-return-16281-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 27693 invoked from network); 8 Sep 2005 11:15:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Sep 2005 11:15:28 -0000
Received: (qmail 79252 invoked by uid 500); 8 Sep 2005 11:15:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 79233 invoked by uid 500); 8 Sep 2005 11:15:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 79220 invoked by uid 99); 8 Sep 2005 11:15:21 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Sep 2005 04:15:21 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [134.96.188.26] (HELO mail.dfki.de) (134.96.188.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Sep 2005 04:15:33 -0700
Received: from mail.dfki.de (localhost.dfki.uni-sb.de [127.0.0.1])
	by localhost (Postfix) with ESMTP id 22031E47D2
	for <java-user@lucene.apache.org>; Thu,  8 Sep 2005 13:15:14 +0200 (CEST)
Received: from [IPv6:::1] (dave.dfki.uni-sb.de [134.96.184.220])
	by mail.dfki.de (Postfix) with ESMTP id 0FE11E47C6
	for <java-user@lucene.apache.org>; Thu,  8 Sep 2005 13:15:14 +0200 (CEST)
Mime-Version: 1.0 (Apple Message framework v622)
In-Reply-To: <OF86F5D6A9.033A20DB-ON80257076.0035F268-80257076.00365584@SAAConsultants.com>
References: <OF86F5D6A9.033A20DB-ON80257076.0035F268-80257076.00365584@SAAConsultants.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Message-Id: <09c8773732278ec713e1e4b2149976c3@activemath.org>
Content-Transfer-Encoding: quoted-printable
From: Paul Libbrecht <paul@activemath.org>
Subject: Re: Updating a Document without re-analyzing
Date: Thu, 8 Sep 2005 13:15:10 +0200
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.622)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


That could be, indeed, a good way for today.

I'm still dreaming to find a
   ((DocumentOfSomeSort) document).getTokenStream(fieldName)
for stored and non-stored fields!

paul


Le 8 sept. 05, =E0 11:56, Paul.Illingworth@saaconsultants.com a =E9crit =
:

> My understanding is that by splitting your fields into two indexes and
> putting your keyword fields into one and your complicated stuff into=20=

> the
> other then you can update your keyword index in the usual way=20
> delete/re-add
> without having to update your other index avoiding the re-analyzing.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16282-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 08 11:26:26 2005
Return-Path: <java-user-return-16282-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30612 invoked from network); 8 Sep 2005 11:26:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Sep 2005 11:26:26 -0000
Received: (qmail 88646 invoked by uid 500); 8 Sep 2005 11:26:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88073 invoked by uid 500); 8 Sep 2005 11:26:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88059 invoked by uid 99); 8 Sep 2005 11:26:21 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Sep 2005 04:26:21 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [194.25.134.20] (HELO mailout08.sul.t-online.com) (194.25.134.20)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Sep 2005 04:26:33 -0700
Received: from fwd27.aul.t-online.de 
	by mailout08.sul.t-online.com with smtp 
	id 1EDKXo-0005SZ-01; Thu, 08 Sep 2005 13:26:16 +0200
Received: from EXCH.innosystec.de (SsYpVsZLYeiGkxg7Gh9E3Lh1Immadj6O0IOPB84aiZWLIX42CEmIgY@[84.154.202.20]) by fwd27.sul.t-online.de
	with esmtp id 1EDKXh-1CK9aa0; Thu, 8 Sep 2005 13:26:09 +0200
Subject: AW: cancel search
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Date: Thu, 8 Sep 2005 13:26:08 +0200
Message-ID: <FAF7E39D1CED524D8553BB1C969F3EF8303B38@exchange.innosystec.site>
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
Content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: cancel search
thread-index: AcW0Y7aPc2NRoQsXTT+kosDnPAl/nQAAwuJw
From: "Kunemann Frank" <frank.kunemann@innosystec.de>
To: <java-user@lucene.apache.org>
X-ID: SsYpVsZLYeiGkxg7Gh9E3Lh1Immadj6O0IOPB84aiZWLIX42CEmIgY@t-dialin.net
X-TOI-MSGID: 1e873163-728b-43d5-93b0-868283d7c8e2
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


The problem is that when searching there is no real save point to stop
the thread. The only line that takes time is this one:

Hits hits =3D searcher.search(query);


Frank

>I've had such a long lasting search too. I sounds good to start the
>search in another thread. I've done this for the indexing procedure.
>This is started in another thread and the gui will be informed when
>indexing is performed. If the user will stop it he has to click on a
>button stop and then an event is send to the indexerthread. The
>indexerthread stops if he reaches a safe point. Surely this is for
>indexing but I think this would work for searching also.
>stefan


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16283-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 08 13:10:39 2005
Return-Path: <java-user-return-16283-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62863 invoked from network); 8 Sep 2005 13:10:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Sep 2005 13:10:39 -0000
Received: (qmail 6762 invoked by uid 500); 8 Sep 2005 13:10:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6735 invoked by uid 500); 8 Sep 2005 13:10:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6715 invoked by uid 99); 8 Sep 2005 13:10:33 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Sep 2005 06:10:33 -0700
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_30_40,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.170.202 as permitted sender)
Received: from [64.233.170.202] (HELO rproxy.gmail.com) (64.233.170.202)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Sep 2005 06:10:44 -0700
Received: by rproxy.gmail.com with SMTP id g11so81611rne
        for <java-user@lucene.apache.org>; Thu, 08 Sep 2005 06:10:23 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=pxvTq1DUJXttqCTsL870n879/0MbXadMjN7K95FD4qpUwzOZ5e7XtwgsYLgcvzgd5Q5YQdfwK/vV1wXX8vT504lWLWh0tWa8UQaIkG999emt/tZADSsEMZymhM2xcFLMn5FmeU6PojIF3kpajRcZSFHkijGvPpADeodWVgAEr6Y=
Received: by 10.38.90.67 with SMTP id n67mr40034rnb;
        Thu, 08 Sep 2005 06:10:23 -0700 (PDT)
Received: by 10.38.12.41 with HTTP; Thu, 8 Sep 2005 06:08:38 -0700 (PDT)
Message-ID: <c68e3917050908060911b4736e@mail.gmail.com>
Date: Thu, 8 Sep 2005 09:08:58 -0400
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: cancel search
In-Reply-To: <FAF7E39D1CED524D8553BB1C969F3EF8303B38@exchange.innosystec.site>
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_10783_9022557.1126184938342"
References: <FAF7E39D1CED524D8553BB1C969F3EF8303B38@exchange.innosystec.site>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_10783_9022557.1126184938342
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

You could create your own HitCollector that checked a flag on each hit, and=
=20
throw an exception if it was set.
In a separate thread, you could set the flag to cancel the search.

-Yonik
Now hiring -- http://tinyurl.com/7m67g

On 9/8/05, Kunemann Frank <frank.kunemann@innosystec.de> wrote:
>=20
>=20
> The problem is that when searching there is no real save point to stop
> the thread. The only line that takes time is this one:
>=20
> Hits hits =3D searcher.search(query);
>=20
>=20
> Frank
>=20
> >I've had such a long lasting search too. I sounds good to start the
> >search in another thread. I've done this for the indexing procedure.
> >This is started in another thread and the gui will be informed when
> >indexing is performed. If the user will stop it he has to click on a
> >button stop and then an event is send to the indexerthread. The
> >indexerthread stops if he reaches a safe point. Surely this is for
> >indexing but I think this would work for searching also.
> >stefan
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>

------=_Part_10783_9022557.1126184938342--

From java-user-return-16284-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 08 13:42:03 2005
Return-Path: <java-user-return-16284-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78468 invoked from network); 8 Sep 2005 13:42:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Sep 2005 13:42:03 -0000
Received: (qmail 54885 invoked by uid 500); 8 Sep 2005 13:41:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54668 invoked by uid 500); 8 Sep 2005 13:41:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54644 invoked by uid 99); 8 Sep 2005 13:41:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Sep 2005 06:41:56 -0700
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_30_40,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.170.196 as permitted sender)
Received: from [64.233.170.196] (HELO rproxy.gmail.com) (64.233.170.196)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Sep 2005 06:42:08 -0700
Received: by rproxy.gmail.com with SMTP id g11so87531rne
        for <java-user@lucene.apache.org>; Thu, 08 Sep 2005 06:41:13 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=WkKfZ2hVksNI81vGyF7QaFQ2tS7wDm7PcYTD8RxTCXK1V491Iy/f4LZsCp0fsPvjgWda0pVnK0Nf5b190VrKxUoNYrLVL9ct2H+kcNomoHKkx49vH3WG8tCEu3A9dYsPiah/QsembbdQB+R8RJ4kwWh1sZlQQ01Tmph7XJYIkGs=
Received: by 10.38.90.67 with SMTP id n67mr55895rnb;
        Thu, 08 Sep 2005 06:41:13 -0700 (PDT)
Received: by 10.38.12.41 with HTTP; Thu, 8 Sep 2005 06:41:00 -0700 (PDT)
Message-ID: <c68e3917050908064148cca49f@mail.gmail.com>
Date: Thu, 8 Sep 2005 09:41:00 -0400
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: cancel search
In-Reply-To: <FAF7E39D1CED524D8553BB1C969F3EF8303B38@exchange.innosystec.site>
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_10831_33301193.1126186860562"
References: <FAF7E39D1CED524D8553BB1C969F3EF8303B38@exchange.innosystec.site>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_10831_33301193.1126186860562
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

You could create your own HitCollector that checked a flag on each hit, and=
=20
throw an exception if it was set.
In a separate thread, you could set the flag to cancel the search.

-Yonik
Now hiring -- http://tinyurl.com/7m67g

On 9/8/05, Kunemann Frank <frank.kunemann@innosystec.de> wrote:
>=20
>=20
> The problem is that when searching there is no real save point to stop
> the thread. The only line that takes time is this one:
>=20
> Hits hits =3D searcher.search(query);
>=20
>=20
> Frank
>=20
> >I've had such a long lasting search too. I sounds good to start the
> >search in another thread. I've done this for the indexing procedure.
> >This is started in another thread and the gui will be informed when
> >indexing is performed. If the user will stop it he has to click on a
> >button stop and then an event is send to the indexerthread. The
> >indexerthread stops if he reaches a safe point. Surely this is for
> >indexing but I think this would work for searching also.
> >stefan
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>

------=_Part_10831_33301193.1126186860562--

From java-user-return-16285-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 08 14:01:19 2005
Return-Path: <java-user-return-16285-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84727 invoked from network); 8 Sep 2005 14:01:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Sep 2005 14:01:18 -0000
Received: (qmail 96061 invoked by uid 500); 8 Sep 2005 14:01:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96041 invoked by uid 500); 8 Sep 2005 14:01:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96028 invoked by uid 99); 8 Sep 2005 14:01:13 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Sep 2005 07:01:13 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [194.25.134.21] (HELO mailout10.sul.t-online.com) (194.25.134.21)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Sep 2005 07:01:25 -0700
Received: from fwd19.aul.t-online.de 
	by mailout10.sul.t-online.com with smtp 
	id 1EDMxh-0007XW-05; Thu, 08 Sep 2005 16:01:09 +0200
Received: from EXCH.innosystec.de (TQJVd2Zb8ePR+ylHzRM2rFC2Q9n9PvdAoQ74Fn-OFkUC9wyH9kdErg@[84.154.202.20]) by fwd19.sul.t-online.de
	with esmtp id 1EDMxY-0lw0ae0; Thu, 8 Sep 2005 16:01:00 +0200
Subject: AW: cancel search
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Date: Thu, 8 Sep 2005 16:00:59 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
Message-ID: <FAF7E39D1CED524D8553BB1C969F3EF8303B39@exchange.innosystec.site>
Content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: cancel search
thread-index: AcW0eKuKXoOWusGQRNaCcZxylZ1nngABNVsg
From: "Kunemann Frank" <frank.kunemann@innosystec.de>
To: <java-user@lucene.apache.org>
X-ID: TQJVd2Zb8ePR+ylHzRM2rFC2Q9n9PvdAoQ74Fn-OFkUC9wyH9kdErg@t-dialin.net
X-TOI-MSGID: 6c7dc02f-225e-4d4f-9b61-379566741ffa
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

That's smart, I really like this idea. :)
Thank you!

Frank

-----Urspr=FCngliche Nachricht-----
Von: Yonik Seeley [mailto:yseeley@gmail.com]=20
Gesendet: Donnerstag, 8. September 2005 15:09
An: java-user@lucene.apache.org
Betreff: Re: cancel search

You could create your own HitCollector that checked a flag on each hit, =
and=20
throw an exception if it was set.
In a separate thread, you could set the flag to cancel the search.

-Yonik
Now hiring -- http://tinyurl.com/7m67g

On 9/8/05, Kunemann Frank <frank.kunemann@innosystec.de> wrote:
>=20
>=20
> The problem is that when searching there is no real save point to stop
> the thread. The only line that takes time is this one:
>=20
> Hits hits =3D searcher.search(query);
>=20
>=20
> Frank
>=20
> >I've had such a long lasting search too. I sounds good to start the
> >search in another thread. I've done this for the indexing procedure.
> >This is started in another thread and the gui will be informed when
> >indexing is performed. If the user will stop it he has to click on a
> >button stop and then an event is send to the indexerthread. The
> >indexerthread stops if he reaches a safe point. Surely this is for
> >indexing but I think this would work for searching also.
> >stefan
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16286-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 08 14:24:12 2005
Return-Path: <java-user-return-16286-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91671 invoked from network); 8 Sep 2005 14:24:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Sep 2005 14:24:11 -0000
Received: (qmail 35810 invoked by uid 500); 8 Sep 2005 14:24:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35790 invoked by uid 500); 8 Sep 2005 14:24:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35777 invoked by uid 99); 8 Sep 2005 14:24:04 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Sep 2005 07:24:04 -0700
X-ASF-Spam-Status: No, hits=3.6 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,MSGID_FROM_MTA_HEADER,RCVD_IN_BL_SPAMCOP_NET,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of fersher@hotmail.com designates 65.54.224.41 as permitted sender)
Received: from [65.54.224.41] (HELO hotmail.com) (65.54.224.41)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Sep 2005 07:24:15 -0700
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Thu, 8 Sep 2005 07:22:34 -0700
Message-ID: <BAY105-F31313B354D61BE3316F0C9B2990@phx.gbl>
Received: from 65.54.224.200 by by105fd.bay105.hotmail.msn.com with HTTP;
	Thu, 08 Sep 2005 14:22:34 GMT
X-Originating-IP: [65.54.224.200]
X-Originating-Email: [fersher@hotmail.com]
X-Sender: fersher@hotmail.com
From: "christopher may" <fersher@hotmail.com>
To: java-user@lucene.apache.org
Subject: Re: Excel Spreadsheet
Date: Thu, 08 Sep 2005 10:22:34 -0400
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
X-OriginalArrivalTime: 08 Sep 2005 14:22:34.0693 (UTC) FILETIME=[C19B6F50:01C5B480]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Would you be able to point in the direction of how I can load the lucene 
code into a JDE environment. Im working with the Blackberry jde. I am new to 
this so any help would be appreciated. Thanks

>From: Erik Hatcher <erik@ehatchersolutions.com>
>Reply-To: java-user@lucene.apache.org
>To: java-user@lucene.apache.org
>Subject: Re: Excel Spreadsheet
>Date: Mon, 8 Aug 2005 10:58:55 -0400
>
>On Aug 8, 2005, at 10:30 AM, christopher may wrote:
>>I have a spreadsheet with the first cell being the term and the  next 
>>cells hold the description. Is there a way I can build this  into the 
>>index easily or is this going to take a custom analyzer ?  Any help or 
>>ideas would be greatly appreciated. Thanks
>
>What are your searching needs?  That is the first question to ask  yourself 
>when deciding on an analyzer.  You will probably want to  extract the cells 
>separately and index them into separate fields, and  you could start by 
>trying the StandardAnalyzer to see if it meets  your needs.  It is 
>impossible to say for sure without seeing some  details of what text you're 
>dealing with and knowing how you want to  search it.
>
>     Erik
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16287-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 08 14:37:00 2005
Return-Path: <java-user-return-16287-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95860 invoked from network); 8 Sep 2005 14:37:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Sep 2005 14:37:00 -0000
Received: (qmail 60988 invoked by uid 500); 8 Sep 2005 14:36:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60582 invoked by uid 500); 8 Sep 2005 14:36:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60556 invoked by uid 99); 8 Sep 2005 14:36:52 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Sep 2005 07:36:52 -0700
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: error (asf.osuosl.org: encountered temporary error during SPF processing of domain of Mark.Horan@xplana.com)
Received: from [209.61.175.228] (HELO server1.takeexit33.com) (209.61.175.228)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 08 Sep 2005 07:37:05 -0700
Received: (qmail 471 invoked from network); 8 Sep 2005 14:36:45 -0000
Received: from w184.z064221044.bos-ma.dsl.cnc.net (HELO xplana.com) (64.221.44.184)
  by trinityframework.com with SMTP; 8 Sep 2005 14:36:45 -0000
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: Matching Search Terms Per Document
Date: Thu, 8 Sep 2005 10:36:33 -0400
Message-ID: <666F5DC00A92964896146F60A828D32B5E875C@ms.xplana.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Matching Search Terms Per Document
Thread-Index: AcW0eKuKXoOWusGQRNaCcZxylZ1nngABNVsgAACu2FA=
From: "Mark Horan" <Mark.Horan@xplana.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

Can anybody tell me how to match up query terms with appropriate
documents returned from a search? For example, in the code below I can
extract document objects from the Hits. With the Document object I can
find out, via the path field, which document filenames are implicated in
the search results. But how can I find out which search terms apply, or
matched on these documents. I've indexed a small subset of pages from
Moby Dick. If I do a single term query like "whale", I can assume this
word can be found in every document returned by Hits. But what if I do
"whale OR men"? How can I discover which term matched, or if both
matched against a document fetched from Hits? This is for the purpose of
highlighting the search terms found in the document. It seems there must
be a method supplied by Lucene for returning an array of matched terms
per document. Any suggestions?

    IndexSearcher searcher =3D new IndexSearcher(dir);
    Hits hits =3D searcher.search(query);
    System.out.println("Number of hits: " + hits.length());
    for(int i=3D0; i<hits.length(); i++) {
  =20
        Document doc =3D hits.doc(i);


Thanks,
Mark

Mark Horan
Web Application Developer
Xplana(TM) Learning
323 Newbury Street
Boston, MA 02115
=20

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16288-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 08 22:03:30 2005
Return-Path: <java-user-return-16288-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 85785 invoked from network); 8 Sep 2005 22:03:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Sep 2005 22:03:29 -0000
Received: (qmail 38098 invoked by uid 500); 8 Sep 2005 22:03:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37211 invoked by uid 500); 8 Sep 2005 22:03:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37198 invoked by uid 99); 8 Sep 2005 22:03:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Sep 2005 15:03:25 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=HTML_20_30,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of richard.krenek@gmail.com designates 64.233.162.192 as permitted sender)
Received: from [64.233.162.192] (HELO zproxy.gmail.com) (64.233.162.192)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Sep 2005 15:03:37 -0700
Received: by zproxy.gmail.com with SMTP id i28so1085797nzi
        for <java-user@lucene.apache.org>; Thu, 08 Sep 2005 15:03:23 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=FuZDlWAfXiiMm5LfDXT0LUAE2lRLnprjjtK0X+SmujtI4wryyT/qdfrvR/C7ez6x0vWMKk6PK3r6AVtkGK0ouG+vwduLN5ezLAzMMqo1A5qITw+/zyOGVPZjP4QTSN4rdRzrxGGaLcMm4YyQvXWdJ0oGTuiwtHwZWW0seQ6C/po=
Received: by 10.36.220.75 with SMTP id s75mr2719546nzg;
        Thu, 08 Sep 2005 15:03:23 -0700 (PDT)
Received: by 10.37.2.30 with HTTP; Thu, 8 Sep 2005 15:03:23 -0700 (PDT)
Message-ID: <4ef6647e050908150330714c16@mail.gmail.com>
Date: Thu, 8 Sep 2005 16:03:23 -0600
From: Richard Krenek <richard.krenek@gmail.com>
To: java-user@lucene.apache.org
Subject: Weird time results doing wildcard queries
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_26809_7640169.1126217003257"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_26809_7640169.1126217003257
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hello All,
I am getting some weird time results when retrieving documents back from a=
=20
hits object. I am just timing this bit of code:
Hits hits =3D searcher.search(query);
long startTime =3D System.currentTimeMillis();
for (int i =3D 0; i < hits.length(); i++) {
Document doc =3D hits.doc(i);
String field =3D doc.get(defaultField);
}
System.out.println("Cycle Time: "+(System.currentTimeMillis()-startTime));

It seems when I have a wilcard query like *abcd* vs weqrew*, the *abcd*=20
query will always take longer to retrieve the documents even if they are of=
=20
simular result sizes. We are talking a big difference 1 second vs 16. It is=
=20
consistent no matter what order I run the queries in, terms with multiple=
=20
wildcards always take longer to retrieve the documents. I am not counting=
=20
the time of the query.

The index is 2.18 GB, 9 fields per document, 10,694,190 documents,=20
25,538,793 terms and has been optimized.

I am not sure if this is a real or just a percieved issue. We cannot figure=
=20
out why the type of query would affect the speed it takes to retrieve each=
=20
document. We have run this on both Windows XP and Linux. With the same=20
results. Also to note we did watch GC and this did not have any significant=
=20
impact that we could se.

We are trying to figure out what could cause this and how we can work aroun=
d=20
it.


Thanks,
Richard

------=_Part_26809_7640169.1126217003257--

From java-user-return-16289-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 08 22:25:39 2005
Return-Path: <java-user-return-16289-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93654 invoked from network); 8 Sep 2005 22:25:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Sep 2005 22:25:38 -0000
Received: (qmail 73524 invoked by uid 500); 8 Sep 2005 22:25:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73400 invoked by uid 500); 8 Sep 2005 22:25:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 59043 invoked by uid 99); 8 Sep 2005 22:15:42 -0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=HTML_00_10,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jakmcbane@gmail.com designates 64.233.184.194 as permitted sender)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:mime-version:content-type;
        b=FqobceZnlG7s8r+41c2rTPs0w7ynlfzNox3StksGRGum6UKxiFOCPE+noS4d8iwRnxlqS+i/EmQP2tNlsm0bzj1+76z6ZS0vN/0NHzaQ5irkxSE6ne3Mwb2OLm92QHMufKUesqy13PFJjyrK78kusQqxP1ZXdtqLq7OZR8bs13Y=
Message-ID: <c21b69d1050908151539e07eef@mail.gmail.com>
Date: Thu, 8 Sep 2005 16:15:40 -0600
From: Jeremy Meyer <jakmcbane@gmail.com>
To: richard.krenek@gmail.com, java-user@lucene.apache.org
Subject: Re: Weird time results doing wildcard queries
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_14071_24763615.1126217740793"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_14071_24763615.1126217740793
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

The issue isn't with multiple wildcards exactly. Specifically, the problem=
=20
is if the query starts with a wildcard. In the case where it starts with a=
=20
wildcard, lucene has no option but to linearly go over every term in the=20
index to see if it matches your pattern. It must visit every singe term in=
=20
the index. If it doesn't start with a wildcard, lucene can skip to the=20
relevant part of the index and only visit the relevant terms. For this=20
reason, many people that use Lucene choose to disable having wildcard at th=
e=20
start of a search term. This is discussed in the "Lucene in Action" book.

~Jack~

>>Hello All,
>>I am getting some weird time results when retrieving documents back from =
a=20
hits object. I am just timing this bit of code:
>>Hits hits =3D searcher.search(query);
>>long startTime =3D System.currentTimeMillis(); for (int i =3D 0; i <=20
hits.length(); i++) { Document doc =3D hits.doc(i); String field =3D
doc.get(defaultField);
} System.out.println("Cycle Time: "+(System.currentTimeMillis()-startTime))=
;
>>
>>It seems when I have a wilcard query like *abcd* vs weqrew*, the *abcd*=
=20
query will always take longer to retrieve the documents even if they are of=
=20
simular result sizes. We are talking a big difference 1 second vs 16. It is=
=20
consistent no matter >>what order I run the queries in, terms with multiple=
=20
wildcards always take longer to retrieve the documents. I am not counting=
=20
the time of the query.
>>
>>The index is 2.18 GB, 9 fields per document, 10,694,190 documents,
>>25,538,793 terms and has been optimized.
>>
>>I am not sure if this is a real or just a percieved issue. We cannot=20
figure out why the type of query would affect the speed it takes to retriev=
e=20
each document. We have run this on both Windows XP and Linux. With the same=
=20
results. Also to >>note we did watch GC and this did not have any=20
significant impact that we could se.
>>
>>We are trying to figure out what could cause this and how we can work=20
around it.
>>
>>
>>Thanks,
>>Richard

------=_Part_14071_24763615.1126217740793--

From java-user-return-16290-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 08 22:31:53 2005
Return-Path: <java-user-return-16290-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94926 invoked from network); 8 Sep 2005 22:31:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Sep 2005 22:31:52 -0000
Received: (qmail 80393 invoked by uid 500); 8 Sep 2005 22:31:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80358 invoked by uid 500); 8 Sep 2005 22:31:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80345 invoked by uid 99); 8 Sep 2005 22:31:48 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Sep 2005 15:31:48 -0700
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of richard.krenek@gmail.com designates 64.233.162.193 as permitted sender)
Received: from [64.233.162.193] (HELO zproxy.gmail.com) (64.233.162.193)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Sep 2005 15:32:01 -0700
Received: by zproxy.gmail.com with SMTP id i28so1088463nzi
        for <java-user@lucene.apache.org>; Thu, 08 Sep 2005 15:31:47 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:references;
        b=JhNIwrqCio3zfLUcyEwUfCdt9VtutakUXcaFjKzIgCukSUb7eUP6SfR+K+yBJA9UlAH/FMbr8a0NReVhpwLbvG1N3r/o40fnTQR6mLNc+HE2o/uVPliGyxk2nVfU5GroiAchyk3/24ERS03PLHZiAHYTPkryeH6lFatEO4et180=
Received: by 10.36.67.10 with SMTP id p10mr4569484nza;
        Thu, 08 Sep 2005 15:31:47 -0700 (PDT)
Received: by 10.37.2.30 with HTTP; Thu, 8 Sep 2005 15:31:47 -0700 (PDT)
Message-ID: <4ef6647e050908153173ce07c9@mail.gmail.com>
Date: Thu, 8 Sep 2005 16:31:47 -0600
From: Richard Krenek <richard.krenek@gmail.com>
To: Jeremy Meyer <jakmcbane@gmail.com>
Subject: Re: Weird time results doing wildcard queries
Cc: java-user@lucene.apache.org
In-Reply-To: <c21b69d1050908151539e07eef@mail.gmail.com>
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_26869_21004084.1126218707378"
References: <c21b69d1050908151539e07eef@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_26869_21004084.1126218707378
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I understand that for the query, but why does it matter once you have the=
=20
Hits object? That is the part I'm baffled on. The query with the wildcard i=
n=20
the front takes a lot longer, but we expected that.

On 9/8/05, Jeremy Meyer <jakmcbane@gmail.com> wrote:
>=20
> The issue isn't with multiple wildcards exactly. Specifically, the proble=
m=20
> is if the query starts with a wildcard. In the case where it starts with =
a=20
> wildcard, lucene has no option but to linearly go over every term in the=
=20
> index to see if it matches your pattern. It must visit every singe term i=
n=20
> the index. If it doesn't start with a wildcard, lucene can skip to the=20
> relevant part of the index and only visit the relevant terms. For this=20
> reason, many people that use Lucene choose to disable having wildcard at =
the=20
> start of a search term. This is discussed in the "Lucene in Action" book.
>=20
> ~Jack~
>=20
> >>Hello All,
> >>I am getting some weird time results when retrieving documents back fro=
m=20
> a hits object. I am just timing this bit of code:
> >>Hits hits =3D searcher.search(query);
> >>long startTime =3D System.currentTimeMillis(); for (int i =3D 0; i <=20
> hits.length(); i++) { Document doc =3D hits.doc(i); String field =3D doc.=
get(defaultField);=20
> } System.out.println("Cycle Time: "+(System.currentTimeMillis
> ()-startTime));
> >>
> >>It seems when I have a wilcard query like *abcd* vs weqrew*, the *abcd*=
=20
> query will always take longer to retrieve the documents even if they are =
of=20
> simular result sizes. We are talking a big difference 1 second vs 16. It =
is=20
> consistent no matter >>what order I run the queries in, terms with multip=
le=20
> wildcards always take longer to retrieve the documents. I am not counting=
=20
> the time of the query.
> >>
> >>The index is 2.18 GB, 9 fields per document, 10,694,190 documents,
> >>25,538,793 terms and has been optimized.
> >>
> >>I am not sure if this is a real or just a percieved issue. We cannot=20
> figure out why the type of query would affect the speed it takes to retri=
eve=20
> each document. We have run this on both Windows XP and Linux. With the sa=
me=20
> results. Also to >>note we did watch GC and this did not have any=20
> significant impact that we could se.
> >>
> >>We are trying to figure out what could cause this and how we can work=
=20
> around it.
> >>
> >>
> >>Thanks,
> >>Richard=20
>

------=_Part_26869_21004084.1126218707378--

From java-user-return-16291-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 08 22:40:27 2005
Return-Path: <java-user-return-16291-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 96825 invoked from network); 8 Sep 2005 22:40:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Sep 2005 22:40:27 -0000
Received: (qmail 88888 invoked by uid 500); 8 Sep 2005 22:40:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88863 invoked by uid 500); 8 Sep 2005 22:40:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88850 invoked by uid 99); 8 Sep 2005 22:40:22 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Sep 2005 15:40:22 -0700
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Sep 2005 15:40:34 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 2A6E85B7B3; Thu,  8 Sep 2005 15:40:17 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 27B337F45E
	for <java-user@lucene.apache.org>; Thu,  8 Sep 2005 15:40:17 -0700 (PDT)
Date: Thu, 8 Sep 2005 15:40:17 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: Weird time results doing wildcard queries
In-Reply-To: <c21b69d1050908151539e07eef@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0509081527350.833@hal.rescomp.berkeley.edu>
References: <c21b69d1050908151539e07eef@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

: is if the query starts with a wildcard. In the case where it starts with a
: wildcard, lucene has no option but to linearly go over every term in the
: index to see if it matches your pattern. It must visit every singe term in

That would explain why the search itself takes a while, but not why
accessing the hits after the call to search would take a while.  note
where the timing code is in his example.

There are two possible explanations i can think of...

: >>It seems when I have a wilcard query like *abcd* vs weqrew*, the *abcd*
: query will always take longer to retrieve the documents even if they are of
: simular result sizes. We are talking a big difference 1 second vs 16. It is

1) How similar, and how many? ... If i remember correctly, the Hits
constructor does some work to pre-fetch the first 100 results.  So if you
are iterating over all of the results, the first 100 are free.  On the
101st iteration the prefetching method is called again to fetch N more (i
don't remember what N is off the top of my head.

what this means is that if you are only timing the method calls on Hits,
then the first 100 documents are free -- if one wildcard search returns 99
results, and the other returns 105 results, those numbers may not seemthat
different, but in the first case the code you are timing is accessing
nothing but memory, and in the second case it has to read from disk.

2) The second idea also requires you to answer a question" the number of
results returned for each query might be identicle, but are the
results themselves identical?

I'm guessing that either the documents from the "slow" case are either
much bigger (ie: larger stored fields) or the results from the fast case
are all documents that are "near" eachother on disk, so fetching back all
of hte stored fields would require less IO then if the results are stored
farther apart.  If i remember correctly, the stored fields of documents
are kept in order that the documents are added, so hypothetically, the
query you did was on a "name" field, and the documents were added to the
index in alphabetical order by "name" then by definition the results for
"weqrew*' will all be close together, while the results for "*abcd*" will
be spread out throughout the index.

an easy way to disprove that 2nd theory would be to change your timing
code to this and see what happens...


  Hits hits = searcher.search(query);
  long startTime = System.currentTimeMillis();
  for (int i = 0; i < hits.length(); i++) {
     int id = hits.id(i);
  }



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16292-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 08 22:58:02 2005
Return-Path: <java-user-return-16292-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1168 invoked from network); 8 Sep 2005 22:58:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Sep 2005 22:58:02 -0000
Received: (qmail 8226 invoked by uid 500); 8 Sep 2005 22:57:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8205 invoked by uid 500); 8 Sep 2005 22:57:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8191 invoked by uid 99); 8 Sep 2005 22:57:57 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Sep 2005 15:57:57 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=HTML_20_30,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.170.196 as permitted sender)
Received: from [64.233.170.196] (HELO rproxy.gmail.com) (64.233.170.196)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Sep 2005 15:58:08 -0700
Received: by rproxy.gmail.com with SMTP id g11so22876rne
        for <java-user@lucene.apache.org>; Thu, 08 Sep 2005 15:57:54 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=Pc056t24gxCN+cP347LWs7pvMh1NCnbjRIT+TI3Thii4QSl6E+idPKRZdykAgx4t2zVbYDvIRCBKz2I8YwMgqkHdC4sNgAjolZ20e8jlw8gr5j4zJDGK5cEU0IWBHMI1oe3qZbcyJhWdd2GgxP1EK2nTDEPZ5uGp0GnphIXLc6M=
Received: by 10.38.151.68 with SMTP id y68mr3763rnd;
        Thu, 08 Sep 2005 15:57:54 -0700 (PDT)
Received: by 10.38.12.25 with HTTP; Thu, 8 Sep 2005 15:57:54 -0700 (PDT)
Message-ID: <c68e3917050908155758e25a05@mail.gmail.com>
Date: Thu, 8 Sep 2005 18:57:54 -0400
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Weird time results doing wildcard queries
In-Reply-To: <4ef6647e050908153173ce07c9@mail.gmail.com>
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_626_13424093.1126220274584"
References: <c21b69d1050908151539e07eef@mail.gmail.com>
	 <4ef6647e050908153173ce07c9@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_626_13424093.1126220274584
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

The Hits class collects the document ids from the query in batches. If you=
=20
iterate beyond what was collected, the query is re-executed to collect more=
=20
ids.

You can use the expert level search methods on IndexSearcher if this isn't=
=20
what you want.

-Yonik

On 9/8/05, Richard Krenek <richard.krenek@gmail.com> wrote:
>=20
> I understand that for the query, but why does it matter once you have the
> Hits object? That is the part I'm baffled on. The query with the wildcard=
=20
> in
> the front takes a lot longer, but we expected that.
>=20
> On 9/8/05, Jeremy Meyer <jakmcbane@gmail.com> wrote:
> >
> > The issue isn't with multiple wildcards exactly. Specifically, the=20
> problem
> > is if the query starts with a wildcard. In the case where it starts wit=
h=20
> a
> > wildcard, lucene has no option but to linearly go over every term in th=
e
> > index to see if it matches your pattern. It must visit every singe term=
=20
> in
> > the index. If it doesn't start with a wildcard, lucene can skip to the
> > relevant part of the index and only visit the relevant terms. For this
> > reason, many people that use Lucene choose to disable having wildcard a=
t=20
> the
> > start of a search term. This is discussed in the "Lucene in Action"=20
> book.
> >
> > ~Jack~
> >
> > >>Hello All,
> > >>I am getting some weird time results when retrieving documents back=
=20
> from
> > a hits object. I am just timing this bit of code:
> > >>Hits hits =3D searcher.search(query);
> > >>long startTime =3D System.currentTimeMillis(); for (int i =3D 0; i <
> > hits.length(); i++) { Document doc =3D hits.doc(i); String field =3D do=
c.get
> (defaultField);
> > } System.out.println("Cycle Time: "+(System.currentTimeMillis
> > ()-startTime));
> > >>
> > >>It seems when I have a wilcard query like *abcd* vs weqrew*, the=20
> *abcd*
> > query will always take longer to retrieve the documents even if they ar=
e=20
> of
> > simular result sizes. We are talking a big difference 1 second vs 16. I=
t=20
> is
> > consistent no matter >>what order I run the queries in, terms with=20
> multiple
> > wildcards always take longer to retrieve the documents. I am not=20
> counting
> > the time of the query.
> > >>
> > >>The index is 2.18 GB, 9 fields per document, 10,694,190 documents,
> > >>25,538,793 terms and has been optimized.
> > >>
> > >>I am not sure if this is a real or just a percieved issue. We cannot
> > figure out why the type of query would affect the speed it takes to=20
> retrieve
> > each document. We have run this on both Windows XP and Linux. With the=
=20
> same
> > results. Also to >>note we did watch GC and this did not have any
> > significant impact that we could se.
> > >>
> > >>We are trying to figure out what could cause this and how we can work
> > around it.
> > >>
> > >>
> > >>Thanks,
> > >>Richard
> >
>=20
>=20


--=20
-Yonik
Now hiring -- http://tinyurl.com/7m67g

------=_Part_626_13424093.1126220274584--

From java-user-return-16293-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 08 23:05:25 2005
Return-Path: <java-user-return-16293-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2471 invoked from network); 8 Sep 2005 23:05:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Sep 2005 23:05:25 -0000
Received: (qmail 15819 invoked by uid 500); 8 Sep 2005 23:05:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 15795 invoked by uid 500); 8 Sep 2005 23:05:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 15782 invoked by uid 99); 8 Sep 2005 23:05:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Sep 2005 16:05:20 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=HTML_20_30,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of richard.krenek@gmail.com designates 64.233.162.206 as permitted sender)
Received: from [64.233.162.206] (HELO zproxy.gmail.com) (64.233.162.206)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Sep 2005 16:05:32 -0700
Received: by zproxy.gmail.com with SMTP id i28so1091710nzi
        for <java-user@lucene.apache.org>; Thu, 08 Sep 2005 16:05:18 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=sUkjO3Y/LqshK8gFTdxiavVyLLmMXEsVpYIs8H1U0KQ5UEf4AgTz/uUfViLK7rwmCH+XP30ANDfc8idvvIaPeetnKC5i1FkdYpzPtsAtONMVDv+gvJrue3klVtI10XQFrUe7z4pInxmCKVvyvOeONedYqh+7wNqtXbJLGOGS9I8=
Received: by 10.36.24.6 with SMTP id 6mr21935nzx;
        Thu, 08 Sep 2005 16:05:18 -0700 (PDT)
Received: by 10.37.2.30 with HTTP; Thu, 8 Sep 2005 16:05:18 -0700 (PDT)
Message-ID: <4ef6647e050908160570dd6270@mail.gmail.com>
Date: Thu, 8 Sep 2005 17:05:18 -0600
From: Richard Krenek <richard.krenek@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Weird time results doing wildcard queries
In-Reply-To: <Pine.LNX.4.58.0509081527350.833@hal.rescomp.berkeley.edu>
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_26933_27531016.1126220718523"
References: <c21b69d1050908151539e07eef@mail.gmail.com>
	 <Pine.LNX.4.58.0509081527350.833@hal.rescomp.berkeley.edu>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_26933_27531016.1126220718523
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I did the change and here are the results:

Query (default field is COMP_PART_NUMBER): 2444*
Query: COMP_PART_NUMBER:2444*
Query Time: 328 ms - time for query to run.
383 total matching documents.
Cycle Time: 141 ms - time to run through hits.


Query (default field is COMP_PART_NUMBER): *91822*
Query: COMP_PART_NUMBER:*91822*
Query Time: 9375 ms
251 total matching documents.
Cycle Time: 20094 ms

On 9/8/05, Chris Hostetter <hossman_lucene@fucit.org> wrote:
>=20
> : is if the query starts with a wildcard. In the case where it starts wit=
h=20
> a
> : wildcard, lucene has no option but to linearly go over every term in th=
e
> : index to see if it matches your pattern. It must visit every singe term=
=20
> in
>=20
> That would explain why the search itself takes a while, but not why
> accessing the hits after the call to search would take a while. note
> where the timing code is in his example.
>=20
> There are two possible explanations i can think of...
>=20
> : >>It seems when I have a wilcard query like *abcd* vs weqrew*, the=20
> *abcd*
> : query will always take longer to retrieve the documents even if they ar=
e=20
> of
> : simular result sizes. We are talking a big difference 1 second vs 16. I=
t=20
> is
>=20
> 1) How similar, and how many? ... If i remember correctly, the Hits
> constructor does some work to pre-fetch the first 100 results. So if you
> are iterating over all of the results, the first 100 are free. On the
> 101st iteration the prefetching method is called again to fetch N more (i
> don't remember what N is off the top of my head.
>=20
> what this means is that if you are only timing the method calls on Hits,
> then the first 100 documents are free -- if one wildcard search returns 9=
9
> results, and the other returns 105 results, those numbers may not seemtha=
t
> different, but in the first case the code you are timing is accessing
> nothing but memory, and in the second case it has to read from disk.
>=20
> 2) The second idea also requires you to answer a question" the number of
> results returned for each query might be identicle, but are the
> results themselves identical?
>=20
> I'm guessing that either the documents from the "slow" case are either
> much bigger (ie: larger stored fields) or the results from the fast case
> are all documents that are "near" eachother on disk, so fetching back all
> of hte stored fields would require less IO then if the results are stored
> farther apart. If i remember correctly, the stored fields of documents
> are kept in order that the documents are added, so hypothetically, the
> query you did was on a "name" field, and the documents were added to the
> index in alphabetical order by "name" then by definition the results for
> "weqrew*' will all be close together, while the results for "*abcd*" will
> be spread out throughout the index.
>=20
> an easy way to disprove that 2nd theory would be to change your timing
> code to this and see what happens...
>=20
>=20
> Hits hits =3D searcher.search(query);
> long startTime =3D System.currentTimeMillis();
> for (int i =3D 0; i < hits.length(); i++) {
> int id =3D hits.id(i);
> }
>=20
>=20
>=20
> -Hoss
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>

------=_Part_26933_27531016.1126220718523--

From java-user-return-16294-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 08 23:10:11 2005
Return-Path: <java-user-return-16294-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4045 invoked from network); 8 Sep 2005 23:10:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Sep 2005 23:10:11 -0000
Received: (qmail 22338 invoked by uid 500); 8 Sep 2005 23:10:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22318 invoked by uid 500); 8 Sep 2005 23:10:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22304 invoked by uid 99); 8 Sep 2005 23:10:04 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Sep 2005 16:10:03 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lucenelist@danielnaber.de designates 80.67.18.15 as permitted sender)
Received: from [80.67.18.15] (HELO smtprelay03.ispgateway.de) (80.67.18.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Sep 2005 16:10:14 -0700
Received: (qmail 24197 invoked from network); 8 Sep 2005 23:09:57 -0000
Received: from unknown (HELO p5496D6BE.dip.t-dialin.net) ([pbs]695637@[84.150.214.190])
          (envelope-sender <lucenelist@danielnaber.de>)
          by smtprelay03.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 8 Sep 2005 23:09:57 -0000
From: Daniel Naber <lucenelist@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: Weird time results doing wildcard queries
Date: Fri, 9 Sep 2005 01:11:30 +0200
User-Agent: KMail/1.8
References: <c21b69d1050908151539e07eef@mail.gmail.com> <Pine.LNX.4.58.0509081527350.833@hal.rescomp.berkeley.edu>
In-Reply-To: <Pine.LNX.4.58.0509081527350.833@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200509090111.30945@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Friday 09 September 2005 00:40, Chris Hostetter wrote:

> 1) How similar, and how many? ... If i remember correctly, the Hits
> constructor does some work to pre-fetch the first 100 results.

What's really expensive in fetching documents is the disk access (often one 
disk seek per matching document), but that is not pre-cached.

Regards
 Daniel

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16295-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 08 23:20:01 2005
Return-Path: <java-user-return-16295-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5987 invoked from network); 8 Sep 2005 23:20:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Sep 2005 23:20:01 -0000
Received: (qmail 30182 invoked by uid 500); 8 Sep 2005 23:19:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30157 invoked by uid 500); 8 Sep 2005 23:19:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30144 invoked by uid 99); 8 Sep 2005 23:19:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Sep 2005 16:19:55 -0700
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Sep 2005 16:20:06 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id A6E535B7E9; Thu,  8 Sep 2005 16:19:50 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id A5A397F45E
	for <java-user@lucene.apache.org>; Thu,  8 Sep 2005 16:19:50 -0700 (PDT)
Date: Thu, 8 Sep 2005 16:19:50 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: Weird time results doing wildcard queries
In-Reply-To: <4ef6647e050908160570dd6270@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0509081609560.833@hal.rescomp.berkeley.edu>
References: <c21b69d1050908151539e07eef@mail.gmail.com> 
 <Pine.LNX.4.58.0509081527350.833@hal.rescomp.berkeley.edu>
 <4ef6647e050908160570dd6270@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


As Yonik pointed out in his reply, the batching/caching done by Hits is
worse then i remembered.  It's not just batching up the retrieval of
stored fields -- it's re-executing the underlying search to pull back the
id,score pairs for docs 0->N*2 anytime you ask for any information about
result N if N is not already in it's cache.

Compare the timing info you have now with this...

  int start = ...
  Hits hits = searcher.search(query);
  int queryTime = ...
  int trash = hits.id(hits.length());
  int prefetchTime = ...
  for (int i = 0; i < hits.length(); i++) {
     int id = hits.id(i);
  }
  int loopTime = ...

...and i think you'll see what i mean.

Yonik is probably right: if you really need to loop over allthe results, I
would use one of hte more expert methods (a HitCollector would probably be
best)






: Date: Thu, 8 Sep 2005 17:05:18 -0600
: From: Richard Krenek <richard.krenek@gmail.com>
: Reply-To: java-user@lucene.apache.org
: To: java-user@lucene.apache.org
: Subject: Re: Weird time results doing wildcard queries
:
: I did the change and here are the results:
:
: Query (default field is COMP_PART_NUMBER): 2444*
: Query: COMP_PART_NUMBER:2444*
: Query Time: 328 ms - time for query to run.
: 383 total matching documents.
: Cycle Time: 141 ms - time to run through hits.
:
:
: Query (default field is COMP_PART_NUMBER): *91822*
: Query: COMP_PART_NUMBER:*91822*
: Query Time: 9375 ms
: 251 total matching documents.
: Cycle Time: 20094 ms
:
: On 9/8/05, Chris Hostetter <hossman_lucene@fucit.org> wrote:
: >
: > : is if the query starts with a wildcard. In the case where it starts with
: > a
: > : wildcard, lucene has no option but to linearly go over every term in the
: > : index to see if it matches your pattern. It must visit every singe term
: > in
: >
: > That would explain why the search itself takes a while, but not why
: > accessing the hits after the call to search would take a while. note
: > where the timing code is in his example.
: >
: > There are two possible explanations i can think of...
: >
: > : >>It seems when I have a wilcard query like *abcd* vs weqrew*, the
: > *abcd*
: > : query will always take longer to retrieve the documents even if they are
: > of
: > : simular result sizes. We are talking a big difference 1 second vs 16. It
: > is
: >
: > 1) How similar, and how many? ... If i remember correctly, the Hits
: > constructor does some work to pre-fetch the first 100 results. So if you
: > are iterating over all of the results, the first 100 are free. On the
: > 101st iteration the prefetching method is called again to fetch N more (i
: > don't remember what N is off the top of my head.
: >
: > what this means is that if you are only timing the method calls on Hits,
: > then the first 100 documents are free -- if one wildcard search returns 99
: > results, and the other returns 105 results, those numbers may not seemthat
: > different, but in the first case the code you are timing is accessing
: > nothing but memory, and in the second case it has to read from disk.
: >
: > 2) The second idea also requires you to answer a question" the number of
: > results returned for each query might be identicle, but are the
: > results themselves identical?
: >
: > I'm guessing that either the documents from the "slow" case are either
: > much bigger (ie: larger stored fields) or the results from the fast case
: > are all documents that are "near" eachother on disk, so fetching back all
: > of hte stored fields would require less IO then if the results are stored
: > farther apart. If i remember correctly, the stored fields of documents
: > are kept in order that the documents are added, so hypothetically, the
: > query you did was on a "name" field, and the documents were added to the
: > index in alphabetical order by "name" then by definition the results for
: > "weqrew*' will all be close together, while the results for "*abcd*" will
: > be spread out throughout the index.
: >
: > an easy way to disprove that 2nd theory would be to change your timing
: > code to this and see what happens...
: >
: >
: > Hits hits = searcher.search(query);
: > long startTime = System.currentTimeMillis();
: > for (int i = 0; i < hits.length(); i++) {
: > int id = hits.id(i);
: > }
: >
: >
: >
: > -Hoss
: >
: >
: > ---------------------------------------------------------------------
: > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: > For additional commands, e-mail: java-user-help@lucene.apache.org
: >
: >
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16296-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 08 23:33:48 2005
Return-Path: <java-user-return-16296-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8980 invoked from network); 8 Sep 2005 23:33:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Sep 2005 23:33:48 -0000
Received: (qmail 47658 invoked by uid 500); 8 Sep 2005 23:33:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47633 invoked by uid 500); 8 Sep 2005 23:33:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47620 invoked by uid 99); 8 Sep 2005 23:33:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Sep 2005 16:33:44 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [212.227.126.188] (HELO moutng.kundenserver.de) (212.227.126.188)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Sep 2005 16:33:55 -0700
Received: from Be7b0.b.pppool.de [213.7.231.176] (helo=gasi)
	by mrelayeu.kundenserver.de with ESMTP (Nemesis),
	id 0ML21M-1EDVtj0UYn-0003Zo; Fri, 09 Sep 2005 01:33:39 +0200
Message-ID: <000401c5b4cd$bd05daa0$b0e707d5@gasi>
From: "Gasi" <gasi@artentis.com>
To: <java-user@lucene.apache.org>
References: <20050907235748.12099.qmail@web31107.mail.mud.yahoo.com>
Subject: Re: lia demos without ant
Date: Fri, 9 Sep 2005 01:33:36 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Provags-ID: kundenserver.de abuse@kundenserver.de login:e856510009f74cf6d851f8e7132753ec
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Otis,

you was right. I solved the problem. Now I am able to try the examples.


Greetings

Gaston
----- Original Message ----- 
From: "Otis Gospodnetic" <otis_gospodnetic@yahoo.com>
To: <java-user@lucene.apache.org>
Sent: Thursday, September 08, 2005 1:57 AM
Subject: Re: lia demos without ant


> Hi Gasi,
> 
> Please see page xxxii in LIA, section Author Online, and use that for
> LIA questions, so we don't bother others with LIA-specific stuff.
> 
> However, your problem doesn't have to do so much with LIA, either. 
> It's a basic Java question, and it looks like the part that you have
> been misunderstanding is about what CLASSPATH is or how it is used.
> 
> When you run "java -classpath lucene-1.4.3.jar
> lia.analysis.AnalyzerDemo", you are not compiling anything, you are
> trying to run AnalyzerDemo class, in the lia.analysis java package.
> 
> Also, thar particular command assumes that file lucene-1.4.3.jar is in
> your current directory, and based on your error, it looks like that's
> not the case.
> 
> Here are some links that may be worth checking out:
>  http://www.google.com/search?q=java%20classpath%20tutorial
> 
> Otis
> 
> 
> --- Gasi <gasi@artentis.com> wrote:
> 
>> Hallo,
>> 
>> 
>> IBecause of less or better say no experience in Ant I try to run some
>> demo applications out of the LuceneInAction Examples folder. For
>> example I wanted to test AnalyzerDemo.java. I set the -classpath
>> c:/LuceneInAction/lia/analysis because there is AnalyzerDemo.java on
>> my system. I tried to compile it with :
>>  java -classpath lucene-1.4.3.jar lia.analysis.AnalyzerDemo but it
>> failed. The error is NoClassDefError.
>> Has somebody a hint why it fails
>> 
>> 
>> Thanks in advance
>> 
>> 
>> 
>> Greetings
>> 
>> 
>> 
>> Gaston
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16297-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 08 23:55:44 2005
Return-Path: <java-user-return-16297-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 12740 invoked from network); 8 Sep 2005 23:55:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 8 Sep 2005 23:55:44 -0000
Received: (qmail 71754 invoked by uid 500); 8 Sep 2005 23:55:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71734 invoked by uid 500); 8 Sep 2005 23:55:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 71721 invoked by uid 99); 8 Sep 2005 23:55:38 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Sep 2005 16:55:38 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=HTML_20_30,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of richard.krenek@gmail.com designates 64.233.162.198 as permitted sender)
Received: from [64.233.162.198] (HELO zproxy.gmail.com) (64.233.162.198)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Sep 2005 16:55:51 -0700
Received: by zproxy.gmail.com with SMTP id i28so1096421nzi
        for <java-user@lucene.apache.org>; Thu, 08 Sep 2005 16:55:37 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=nV6Uhl3HUx1/1LTPBs/xp6u1wCcoWe74cGe5o+xOTKxmhodeWSWGNK2ETpTEhW1w4if8kSBlR8i2vyPksqsJqdFhu0fLAGqpCSoav3LF9xIKiBOc4xUWP0kq+utVH9Thn9xNU8bWRYmB5HDNFMu8ADbyjfQFW+25kvIDVMJgFB0=
Received: by 10.36.215.13 with SMTP id n13mr52642nzg;
        Thu, 08 Sep 2005 16:55:36 -0700 (PDT)
Received: by 10.37.2.30 with HTTP; Thu, 8 Sep 2005 16:55:36 -0700 (PDT)
Message-ID: <4ef6647e050908165561e44def@mail.gmail.com>
Date: Thu, 8 Sep 2005 17:55:36 -0600
From: Richard Krenek <richard.krenek@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Weird time results doing wildcard queries
In-Reply-To: <c68e3917050908155758e25a05@mail.gmail.com>
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_26989_15675034.1126223736937"
References: <c21b69d1050908151539e07eef@mail.gmail.com>
	 <4ef6647e050908153173ce07c9@mail.gmail.com>
	 <c68e3917050908155758e25a05@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_26989_15675034.1126223736937
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

This answers a lot of questions and observations. We looked in the source=
=20
code of the Hits object and found the getMoreDocs(int min) method which doe=
s=20
what you stated below.

We are assuming you meant for us to use a HitCollector instead. This brings=
=20
up a new question does the Searcher call the collect method in order that=
=20
the docs are in the index or highest score first. We will look in LIA and d=
o=20
some testing to find this answer, but if you know it, feel free to answer.

Thanks, this has helped our understanding of Lucene a lot.

On 9/8/05, Yonik Seeley <yseeley@gmail.com> wrote:
>=20
> The Hits class collects the document ids from the query in batches. If yo=
u
> iterate beyond what was collected, the query is re-executed to collect=20
> more
> ids.
>=20
> You can use the expert level search methods on IndexSearcher if this isn'=
t
> what you want.
>=20
> -Yonik
>=20
> On 9/8/05, Richard Krenek <richard.krenek@gmail.com> wrote:
> >
> > I understand that for the query, but why does it matter once you have=
=20
> the
> > Hits object? That is the part I'm baffled on. The query with the=20
> wildcard
> > in
> > the front takes a lot longer, but we expected that.
> >
> > On 9/8/05, Jeremy Meyer <jakmcbane@gmail.com> wrote:
> > >
> > > The issue isn't with multiple wildcards exactly. Specifically, the
> > problem
> > > is if the query starts with a wildcard. In the case where it starts=
=20
> with
> > a
> > > wildcard, lucene has no option but to linearly go over every term in=
=20
> the
> > > index to see if it matches your pattern. It must visit every singe=20
> term
> > in
> > > the index. If it doesn't start with a wildcard, lucene can skip to th=
e
> > > relevant part of the index and only visit the relevant terms. For thi=
s
> > > reason, many people that use Lucene choose to disable having wildcard=
=20
> at
> > the
> > > start of a search term. This is discussed in the "Lucene in Action"
> > book.
> > >
> > > ~Jack~
> > >
> > > >>Hello All,
> > > >>I am getting some weird time results when retrieving documents back
> > from
> > > a hits object. I am just timing this bit of code:
> > > >>Hits hits =3D searcher.search(query);
> > > >>long startTime =3D System.currentTimeMillis(); for (int i =3D 0; i =
<
> > > hits.length(); i++) { Document doc =3D hits.doc(i); String field =3D=
=20
> doc.get
> > (defaultField);
> > > } System.out.println("Cycle Time: "+(System.currentTimeMillis
> > > ()-startTime));
> > > >>
> > > >>It seems when I have a wilcard query like *abcd* vs weqrew*, the
> > *abcd*
> > > query will always take longer to retrieve the documents even if they=
=20
> are
> > of
> > > simular result sizes. We are talking a big difference 1 second vs 16.=
=20
> It
> > is
> > > consistent no matter >>what order I run the queries in, terms with
> > multiple
> > > wildcards always take longer to retrieve the documents. I am not
> > counting
> > > the time of the query.
> > > >>
> > > >>The index is 2.18 GB, 9 fields per document, 10,694,190 documents,
> > > >>25,538,793 terms and has been optimized.
> > > >>
> > > >>I am not sure if this is a real or just a percieved issue. We canno=
t
> > > figure out why the type of query would affect the speed it takes to
> > retrieve
> > > each document. We have run this on both Windows XP and Linux. With th=
e
> > same
> > > results. Also to >>note we did watch GC and this did not have any
> > > significant impact that we could se.
> > > >>
> > > >>We are trying to figure out what could cause this and how we can=20
> work
> > > around it.
> > > >>
> > > >>
> > > >>Thanks,
> > > >>Richard
> > >
> >
> >
>=20
>=20
> --
> -Yonik
> Now hiring -- http://tinyurl.com/7m67g
>=20
>

------=_Part_26989_15675034.1126223736937--

From java-user-return-16298-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 09 00:07:59 2005
Return-Path: <java-user-return-16298-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15223 invoked from network); 9 Sep 2005 00:07:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Sep 2005 00:07:58 -0000
Received: (qmail 81541 invoked by uid 500); 9 Sep 2005 00:07:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81516 invoked by uid 500); 9 Sep 2005 00:07:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81503 invoked by uid 99); 9 Sep 2005 00:07:54 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Sep 2005 17:07:54 -0700
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Sep 2005 17:08:06 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id EB15B5B80C; Thu,  8 Sep 2005 17:07:51 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id E35227F460
	for <java-user@lucene.apache.org>; Thu,  8 Sep 2005 17:07:51 -0700 (PDT)
Date: Thu, 8 Sep 2005 17:07:51 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Reducing number of poor results from large BooleanQueries
Message-ID: <Pine.LNX.4.58.0509081647160.6102@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


One of the things I'm currently looking into is different ways to approach
the more general problem of "filtering by score" in the specific case of
BoolenQueries that have a large number of optional terms.

Below is a description of the problem I'm considering (with two
examples of how it can arrise), a description of the ideal solution
(filtering by score), and two possible alternatives.  I'm curious if folks
on this list:

  a) Have any ideas about completley different ways to approach the Problem.
  b) Concur with the Ideal solution
  c) Have any suggestions on how to appraoch Alternate Solution #1
  d) Have any opinions on the usefulness/correctness of Alternate Solution #2

                             ----------


Problem:

When a user gives us a simple sequence of characters to search on, we have
no way of knowing exactly what those characters are -- we have to try lots
of different things.  If a user searches for "FOO BAR", that might be an
authors name, it might be two words that appeared in sequence in the body
of a product review, it might be two words that the user remembers seeing
on the page they want, but they don't appear near each other, it might be
the name of a product, FOO-BAR might be the product SKU, FOO might be the
product name, BAR might be the manufacturer name....  etc.

Having a "catch all" field that is searched for any terms is helpful, but
we still want to also search more specific fields and give them higher
boost so that a product named "FOO BAR" or a review written by "FOO BAR"
is at the top of the list ... you can very easily generate a BooleanQuery
with dozens of optional clauses from a simple two word search, which means
it's very easy to wind up in a situation where queries produce a huge
number of results that only peripherally match.  When sorting by score
this is not a big problem -- just list them all and don't worry about the
user skipping to the end (ala google).   But if the user sorts by
something other then score (popularity perhaps) you don't want a very
popular article that just happens to match 1 small part of the query to
appear at the top.

Consider the extreme case of tokenizing text using both whitespace as a
token separator as well as generating 1, 2 and 3 character ngrams.  (So a
string such as "FOO BAR" would product a token stream something like "FOO
F FO FOO  O OO OOB  O OB OBA BAR B BA BAR A AR R R").  As helpful as the
ngrams may be for finding partial word matches and correcting for spelling
mistakes, you don't want your results to include matches on a single ngram
token only a few times -- even if those matches score very low, they might
be at the top of the list when sorting by a specific field.  Even worse:
because scores are normalized against the highest scoring result, if there
are no "good" matches you might get lots of equally bad matches (ie:
contain the character "F" one time) with equally high scores of "1.0".


Ideal Situation:

In a perfect world, Lucene scores would be normalized in such a way that a
score of "1.0" would mean "no document from the past present or future
could ever match this query as well as this one".  In that case,
applications could be configured with a score threshold of N, such that
any document that matched a query with a score less then N would be
ignored.  The value of N could be varied depending on whether or not you
wanted very strict matching or very loose matching -- but generally
speaking it could remain fixed in the application, regardless of what the
query is or what documents are added/removed from the index.

Unfortunately the world is not perfect.


Alternate Solutions:

1) What if we created a new variant of BooleanQuery that had a
minThreshold argument and let BooleanQuery make the decision when
aggregating the *raw* scores.  It's been suggested by a coworker that it
may actually be possible to to determine a "max possible" *raw* score from
the various query types.  For example...

  > Among other things, the score for a TermQuery is based on
  > 1) the number of documents containing that term   (Similarity.idf())
  > 2) the number of terms in that specific document  (Similarity.tf())
  >
  > The max for (1) is Similarity.idf(1,IndexReader.maxDoc())
  > (2) is more open-ended, but it too has a max...
  > Similarity.tf(maxFieldLength)

...but other query types are more complex, and who knows what new Query
types might be added in the future (either added to Lucene core, or
application specific query types)


2) Even if there is no feasible way to know what the max possible score is
from a BooleanQuery, it is easy to determine the number of "optional"
clauses -- which would make it very easy to write a sub-class of
BooleanQuery that could be configured with a integer "minClauseThreshold"
that would ignore any results that did not satisfy at least that many of
the optional clauses.

Even better then that, the boost value for each clause could be taken into
consideration: A float "minThresholdPercentage" could be used to indicate
that documents are only "valid" if the sum of the boosts for the clauses
they match divided by the sum of all the boosts for all Clauses is greater
then minThresholdPercentage.  For example, if the we have a query like...

         f:a^3 g:b^1 g:c^1 g:d^1

...and we specify a threshold of 30%, then at a minimum either the
sub-query on "f" must match, or at least two of the three sub-queries on
"g" must match.

The most obvious way in which this differs from the "Ideal Situation"
described above, is in cases where some documents match a sub-query with a
high boost but just barely (so they get a low raw score) while other
documents match low boost fields very well and get a high raw score -- but
they are thrown away because of the low boost to the clauses they did
match.  This seems like it would be most noticeable when there is a
relatively small number of clauses and a relatively high discrepancy in
boosts -- but in cases where the boosts are all in the same order of
magnitude, and the number of clauses is very high it seems like this would
be a very good solution.



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16299-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 09 00:08:44 2005
Return-Path: <java-user-return-16299-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15359 invoked from network); 9 Sep 2005 00:08:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Sep 2005 00:08:44 -0000
Received: (qmail 82777 invoked by uid 500); 9 Sep 2005 00:08:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82749 invoked by uid 500); 9 Sep 2005 00:08:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 82733 invoked by uid 99); 9 Sep 2005 00:08:39 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Sep 2005 17:08:39 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=HTML_20_30,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.170.198 as permitted sender)
Received: from [64.233.170.198] (HELO rproxy.gmail.com) (64.233.170.198)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Sep 2005 17:08:52 -0700
Received: by rproxy.gmail.com with SMTP id g11so33857rne
        for <java-user@lucene.apache.org>; Thu, 08 Sep 2005 17:08:38 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references;
        b=FdG+BvXX5X7JgL3VKEp4Aswnl5g1OUlOmSMhdMrGxJ+pJv731n7KPZE7kX8oOXIqCvG55LcTFUH5zw44PGRY3okKUuChcUtNd6Ca0g3ATNjTjPtPlyX8GBoYXeqx+8lxIFZdSDkO5FX7HCEXU0JYyOkCA1HLmjImPDeZlr38vYY=
Received: by 10.38.13.74 with SMTP id 74mr26398rnm;
        Thu, 08 Sep 2005 17:08:37 -0700 (PDT)
Received: by 10.38.12.25 with HTTP; Thu, 8 Sep 2005 17:08:37 -0700 (PDT)
Message-ID: <c68e3917050908170867e4259d@mail.gmail.com>
Date: Thu, 8 Sep 2005 20:08:37 -0400
From: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Weird time results doing wildcard queries
In-Reply-To: <4ef6647e050908165561e44def@mail.gmail.com>
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_658_386972.1126224517948"
References: <c21b69d1050908151539e07eef@mail.gmail.com>
	 <4ef6647e050908153173ce07c9@mail.gmail.com>
	 <c68e3917050908155758e25a05@mail.gmail.com>
	 <4ef6647e050908165561e44def@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_658_386972.1126224517948
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

A HitCollector returns docs by the order they are found (in the index, not=
=20
by relevance). Use a search method that returns TopDocs if you want the=20
first n documents without executing the query more than once (Hits uses thi=
s=20
internally).

-Yonik
Now hiring -- http://tinyurl.com/7m67g


On 9/8/05, Richard Krenek <richard.krenek@gmail.com> wrote:
>=20
> This answers a lot of questions and observations. We looked in the source
> code of the Hits object and found the getMoreDocs(int min) method which=
=20
> does
> what you stated below.
>=20
> We are assuming you meant for us to use a HitCollector instead. This=20
> brings
> up a new question does the Searcher call the collect method in order that
> the docs are in the index or highest score first. We will look in LIA and=
=20
> do
> some testing to find this answer, but if you know it, feel free to answer=
.
>=20
> Thanks, this has helped our understanding of Lucene a lot.
>=20
> On 9/8/05, Yonik Seeley <yseeley@gmail.com> wrote:
> >
> > The Hits class collects the document ids from the query in batches. If=
=20
> you
> > iterate beyond what was collected, the query is re-executed to collect
> > more
> > ids.
> >
> > You can use the expert level search methods on IndexSearcher if this=20
> isn't
> > what you want.
> >
> > -Yonik
> >
> > On 9/8/05, Richard Krenek <richard.krenek@gmail.com> wrote:
> > >
> > > I understand that for the query, but why does it matter once you have
> > the
> > > Hits object? That is the part I'm baffled on. The query with the
> > wildcard
> > > in
> > > the front takes a lot longer, but we expected that.
> > >
> > > On 9/8/05, Jeremy Meyer <jakmcbane@gmail.com> wrote:
> > > >
> > > > The issue isn't with multiple wildcards exactly. Specifically, the
> > > problem
> > > > is if the query starts with a wildcard. In the case where it starts
> > with
> > > a
> > > > wildcard, lucene has no option but to linearly go over every term i=
n
> > the
> > > > index to see if it matches your pattern. It must visit every singe
> > term
> > > in
> > > > the index. If it doesn't start with a wildcard, lucene can skip to=
=20
> the
> > > > relevant part of the index and only visit the relevant terms. For=
=20
> this
> > > > reason, many people that use Lucene choose to disable having=20
> wildcard
> > at
> > > the
> > > > start of a search term. This is discussed in the "Lucene in Action"
> > > book.
> > > >
> > > > ~Jack~
> > > >
> > > > >>Hello All,
> > > > >>I am getting some weird time results when retrieving documents=20
> back
> > > from
> > > > a hits object. I am just timing this bit of code:
> > > > >>Hits hits =3D searcher.search(query);
> > > > >>long startTime =3D System.currentTimeMillis(); for (int i =3D 0; =
i <
> > > > hits.length(); i++) { Document doc =3D hits.doc(i); String field =
=3D
> > doc.get
> > > (defaultField);
> > > > } System.out.println("Cycle Time: "+(System.currentTimeMillis
> > > > ()-startTime));
> > > > >>
> > > > >>It seems when I have a wilcard query like *abcd* vs weqrew*, the
> > > *abcd*
> > > > query will always take longer to retrieve the documents even if the=
y
> > are
> > > of
> > > > simular result sizes. We are talking a big difference 1 second vs=
=20
> 16.
> > It
> > > is
> > > > consistent no matter >>what order I run the queries in, terms with
> > > multiple
> > > > wildcards always take longer to retrieve the documents. I am not
> > > counting
> > > > the time of the query.
> > > > >>
> > > > >>The index is 2.18 GB, 9 fields per document, 10,694,190 documents=
,
> > > > >>25,538,793 terms and has been optimized.
> > > > >>
> > > > >>I am not sure if this is a real or just a percieved issue. We=20
> cannot
> > > > figure out why the type of query would affect the speed it takes to
> > > retrieve
> > > > each document. We have run this on both Windows XP and Linux. With=
=20
> the
> > > same
> > > > results. Also to >>note we did watch GC and this did not have any
> > > > significant impact that we could se.
> > > > >>
> > > > >>We are trying to figure out what could cause this and how we can
> > work
> > > > around it.
> > > > >>
> > > > >>
> > > > >>Thanks,
> > > > >>Richard
> > > >
> > >
> > >
> >
> >
> > --
> > -Yonik
> > Now hiring -- http://tinyurl.com/7m67g
> >
> >
>=20
>

------=_Part_658_386972.1126224517948--

From java-user-return-16300-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 09 00:17:03 2005
Return-Path: <java-user-return-16300-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16696 invoked from network); 9 Sep 2005 00:17:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Sep 2005 00:17:02 -0000
Received: (qmail 88675 invoked by uid 500); 9 Sep 2005 00:16:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88642 invoked by uid 500); 9 Sep 2005 00:16:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88627 invoked by uid 99); 9 Sep 2005 00:16:58 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Sep 2005 17:16:58 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=HTML_20_30,HTML_MESSAGE,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Sep 2005 17:17:08 -0700
Received: from localhost ([127.0.0.1] helo=talk.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1EDWZa-0008MY-Hk
	for java-user@lucene.apache.org; Thu, 08 Sep 2005 17:16:54 -0700
Message-ID: <818124.post@talk.nabble.com>
Date: Thu, 8 Sep 2005 17:16:54 -0700 (PDT)
From: "raymondcreel (sent by Nabble.com)" <lists@nabble.com>
Reply-To: raymondcreel <raymondcreel@yahoo.com>
To: java-user@lucene.apache.org
Subject: Re: custom sort
In-Reply-To: <Pine.LNX.4.58.0508311346560.3669@hal.rescomp.berkeley.edu>
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_157_25946496.1126225014542"
X-Nabble-Sender: Nabble Forums <lists@nabble.com>
X-Nabble-From: raymondcreel <raymondcreel@yahoo.com>
References: <737222.post@talk.nabble.com> <6e3ae6310508292135fc5dd96@mail.gmail.com> <Pine.LNX.4.58.0508301414560.23529@hal.rescomp.berkeley.edu> <750675.post@talk.nabble.com> <Pine.LNX.4.58.0508311346560.3669@hal.rescomp.berkeley.edu>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_157_25946496.1126225014542
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit


Hi thanks for the reply. Yes that sounds like it would work with the two searches.  Perhaps a custom sort might be less overhead since it would just be one search, but I think your solution will work for my purposes.  Thanks much.

raymond
--
Sent from the Lucene - Java Users forum at Nabble.com:
http://www.nabble.com/custom-sort-t262833.html#a818124

------=_Part_157_25946496.1126225014542--


From java-user-return-16301-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 09 01:27:20 2005
Return-Path: <java-user-return-16301-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35580 invoked from network); 9 Sep 2005 01:27:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Sep 2005 01:27:19 -0000
Received: (qmail 40060 invoked by uid 500); 9 Sep 2005 01:27:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 39925 invoked by uid 500); 9 Sep 2005 01:27:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 39882 invoked by uid 99); 9 Sep 2005 01:27:10 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Sep 2005 18:27:10 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jjl@panix.com designates 166.84.1.72 as permitted sender)
Received: from [166.84.1.72] (HELO mail1.panix.com) (166.84.1.72)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Sep 2005 18:27:22 -0700
Received: from mailspool3.panix.com (mailspool3.panix.com [166.84.1.78])
	by mail1.panix.com (Postfix) with ESMTP id 1A7E7599B5
	for <java-user@lucene.apache.org>; Thu,  8 Sep 2005 21:27:06 -0400 (EDT)
Received: from [192.168.1.4] (pool-64-223-56-133.prov.east.verizon.net [64.223.56.133])
	by mailspool3.panix.com (Postfix) with ESMTP id 942EF3DFF67
	for <java-user@lucene.apache.org>; Thu,  8 Sep 2005 21:27:05 -0400 (EDT)
Mime-Version: 1.0
Message-Id: <p06210213bf46904ccc5b@[192.168.1.4]>
In-Reply-To: <Pine.LNX.4.58.0509081609560.833@hal.rescomp.berkeley.edu>
References: <c21b69d1050908151539e07eef@mail.gmail.com> 
 <Pine.LNX.4.58.0509081527350.833@hal.rescomp.berkeley.edu>
 <4ef6647e050908160570dd6270@mail.gmail.com>
 <Pine.LNX.4.58.0509081609560.833@hal.rescomp.berkeley.edu>
Date: Thu, 8 Sep 2005 21:26:59 -0400
To: java-user@lucene.apache.org
From: "J.J. Larrea" <jjl@panix.com>
Subject: Re: Weird time results doing wildcard queries
Content-Type: text/plain; charset="us-ascii"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I've verified that for a large pull from Hits, the logic as described makes it *significantly* faster to request the last desired hit [which could still be far fewer than hits.length()] before iterating through the hits, e.g. the hits.id line in the quoted snippet below.  Here are relative timings from two runs of asking for 1000 Documents:

Ready to roll with query: Abstract:infant Abstract:learning
Scenario 1: hits.length()=131629, numhits=1000, time=2058ms
Scenario 2: hits.length()=131629, numhits=1000, time=588ms

Ready to roll with query: Abstract:infant Abstract:learning
Scenario 1: hits.length()=131629, numhits=1000, time=2134ms
Scenario 2: hits.length()=131629, numhits=1000, time=623ms

(These timings do not include anything but Document retrieval from Hits)

Conclusion: It would make sense for ANY application which is going to iterate more than 100 Documents from Hits to do this.  Either that or utilize the non-Hits API such as TopDocs (next on my own agenda).

Which makes me wonder whether the caching logic of Hits, optimized for random- rather than linear-access, and not tuneable or controllable in 1.4.3, should be reviewed for a subsequent release, at least the API-breaking 2.0.  I'll wager that a majority of applications do nothing other than a one-time linear retrieval of Documents from Hits, with the potential for a lot of wasted cycles for those that retrieve more than a small number.

- J.J. Larrea


At 4:19 PM -0700 9/8/05, Chris Hostetter wrote:
>As Yonik pointed out in his reply, the batching/caching done by Hits is
>worse then i remembered.  It's not just batching up the retrieval of
>stored fields -- it's re-executing the underlying search to pull back the
>id,score pairs for docs 0->N*2 anytime you ask for any information about
>result N if N is not already in it's cache.
>
>Compare the timing info you have now with this...
>
>  int start = ...
>  Hits hits = searcher.search(query);
>  int queryTime = ...
>  int trash = hits.id(hits.length());
>  int prefetchTime = ...
>  for (int i = 0; i < hits.length(); i++) {
>     int id = hits.id(i);
>  }
>  int loopTime = ...
>
>...and i think you'll see what i mean.
>
>Yonik is probably right: if you really need to loop over allthe results, I
>would use one of hte more expert methods (a HitCollector would probably be
>best)
>
>
>
>
>
>
>: Date: Thu, 8 Sep 2005 17:05:18 -0600
>: From: Richard Krenek <richard.krenek@gmail.com>
>: Reply-To: java-user@lucene.apache.org
>: To: java-user@lucene.apache.org
>: Subject: Re: Weird time results doing wildcard queries
>:
>: I did the change and here are the results:
>:
>: Query (default field is COMP_PART_NUMBER): 2444*
>: Query: COMP_PART_NUMBER:2444*
>: Query Time: 328 ms - time for query to run.
>: 383 total matching documents.
>: Cycle Time: 141 ms - time to run through hits.
>:
>:
>: Query (default field is COMP_PART_NUMBER): *91822*
>: Query: COMP_PART_NUMBER:*91822*
>: Query Time: 9375 ms
>: 251 total matching documents.
>: Cycle Time: 20094 ms
>:
>: On 9/8/05, Chris Hostetter <hossman_lucene@fucit.org> wrote:
>: >
>: > : is if the query starts with a wildcard. In the case where it starts with
>: > a
>: > : wildcard, lucene has no option but to linearly go over every term in the
>: > : index to see if it matches your pattern. It must visit every singe term
>: > in
>: >
>: > That would explain why the search itself takes a while, but not why
>: > accessing the hits after the call to search would take a while. note
>: > where the timing code is in his example.
>: >
>: > There are two possible explanations i can think of...
>: >
>: > : >>It seems when I have a wilcard query like *abcd* vs weqrew*, the
>: > *abcd*
>: > : query will always take longer to retrieve the documents even if they are
>: > of
>: > : simular result sizes. We are talking a big difference 1 second vs 16. It
>: > is
>: >
>: > 1) How similar, and how many? ... If i remember correctly, the Hits
>: > constructor does some work to pre-fetch the first 100 results. So if you
>: > are iterating over all of the results, the first 100 are free. On the
>: > 101st iteration the prefetching method is called again to fetch N more (i
>: > don't remember what N is off the top of my head.
>: >
>: > what this means is that if you are only timing the method calls on Hits,
>: > then the first 100 documents are free -- if one wildcard search returns 99
>: > results, and the other returns 105 results, those numbers may not seemthat
>: > different, but in the first case the code you are timing is accessing
>: > nothing but memory, and in the second case it has to read from disk.
>: >
>: > 2) The second idea also requires you to answer a question" the number of
>: > results returned for each query might be identicle, but are the
>: > results themselves identical?
>: >
>: > I'm guessing that either the documents from the "slow" case are either
>: > much bigger (ie: larger stored fields) or the results from the fast case
>: > are all documents that are "near" eachother on disk, so fetching back all
>: > of hte stored fields would require less IO then if the results are stored
>: > farther apart. If i remember correctly, the stored fields of documents
>: > are kept in order that the documents are added, so hypothetically, the
>: > query you did was on a "name" field, and the documents were added to the
>: > index in alphabetical order by "name" then by definition the results for
>: > "weqrew*' will all be close together, while the results for "*abcd*" will
>: > be spread out throughout the index.
>: >
>: > an easy way to disprove that 2nd theory would be to change your timing
>: > code to this and see what happens...
>: >
>: >
>: > Hits hits = searcher.search(query);
>: > long startTime = System.currentTimeMillis();
>: > for (int i = 0; i < hits.length(); i++) {
>: > int id = hits.id(i);
>: > }
>: >
>: >
>: >
>: > -Hoss
>: >
>: >
>: > ---------------------------------------------------------------------
>: > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>: > For additional commands, e-mail: java-user-help@lucene.apache.org
>: >
>: >
>:
>
>
>
>-Hoss
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16302-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 09 03:01:37 2005
Return-Path: <java-user-return-16302-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50049 invoked from network); 9 Sep 2005 03:01:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Sep 2005 03:01:37 -0000
Received: (qmail 10256 invoked by uid 500); 9 Sep 2005 03:01:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10211 invoked by uid 500); 9 Sep 2005 03:01:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10196 invoked by uid 99); 9 Sep 2005 03:01:31 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Sep 2005 20:01:31 -0700
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Sep 2005 20:01:40 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 602475B7ED; Thu,  8 Sep 2005 20:01:24 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 507777F460
	for <java-user@lucene.apache.org>; Thu,  8 Sep 2005 20:01:24 -0700 (PDT)
Date: Thu, 8 Sep 2005 20:01:24 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: Weird time results doing wildcard queries
In-Reply-To: <p06210213bf46904ccc5b@[192.168.1.4]>
Message-ID: <Pine.LNX.4.58.0509081925310.15672@hal.rescomp.berkeley.edu>
References: <c21b69d1050908151539e07eef@mail.gmail.com> 
 <Pine.LNX.4.58.0509081527350.833@hal.rescomp.berkeley.edu>
 <4ef6647e050908160570dd6270@mail.gmail.com> <Pine.LNX.4.58.0509081609560.833@hal.rescomp.berkeley.edu>
 <p06210213bf46904ccc5b@[192.168.1.4]>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: Which makes me wonder whether the caching logic of Hits, optimized for
: random- rather than linear-access, and not tuneable or controllable in
: 1.4.3, should be reviewed for a subsequent release, at least the
: API-breaking 2.0.  I'll wager that a majority of applications do nothing
: other than a one-time linear retrieval of Documents from Hits, with the
: potential for a lot of wasted cycles for those that retrieve more than a
: small number.

I agree it should be more tunable, but I disagree with your wager.  I
suspect that there are a lot of stateless applications out there that
support "paginated results".  For those that only every access one or two
pages and have small page size, the current Hits works well (and i suspect
that is what it was optimized for)

What doesn't make sense to me is that the constructor allways fetches the
first 100 -- which is a waste if the application is currently intersted in
results 101 and up.

Off the top of my head, I would imagine that a usefull set of API changes
would be...

 * add Hits.setRetrievalFactor(float); // replace "2" in getMoreDocs
 * add Hits.setDocCacheSize(int); // modify Hits.maxDocs
 * make Hits.getMoreDocs(int) package protected
 * add Searcher.makeHits(Query,Filter,Sort); // use in search, override in subclasses
 * move the call to getMoreDocs(int) from Hits to Searcher.search

...that way the behavior stays the same, there are no major API changes,
and applications that want to customize the amount of caching/prefecthing
can do so my subclassing (Index)Searcher with some very simple method
overrides.


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16303-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 09 06:37:25 2005
Return-Path: <java-user-return-16303-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13831 invoked from network); 9 Sep 2005 06:37:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Sep 2005 06:37:25 -0000
Received: (qmail 59684 invoked by uid 500); 9 Sep 2005 06:37:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 59446 invoked by uid 500); 9 Sep 2005 06:37:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 59425 invoked by uid 99); 9 Sep 2005 06:37:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Sep 2005 23:37:17 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jjl@panix.com designates 166.84.1.72 as permitted sender)
Received: from [166.84.1.72] (HELO mail1.panix.com) (166.84.1.72)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Sep 2005 23:37:29 -0700
Received: from mailspool2.panix.com (mailspool2.panix.com [166.84.1.79])
	by mail1.panix.com (Postfix) with ESMTP id 289C35887B
	for <java-user@lucene.apache.org>; Fri,  9 Sep 2005 02:37:13 -0400 (EDT)
Received: from [192.168.1.4] (pool-64-223-56-133.prov.east.verizon.net [64.223.56.133])
	by mailspool2.panix.com (Postfix) with ESMTP id 1351C40A0CE
	for <java-user@lucene.apache.org>; Fri,  9 Sep 2005 02:37:13 -0400 (EDT)
Mime-Version: 1.0
Message-Id: <p06210215bf46c9402593@[192.168.1.4]>
In-Reply-To: <Pine.LNX.4.58.0509081925310.15672@hal.rescomp.berkeley.edu>
References: <c21b69d1050908151539e07eef@mail.gmail.com> 
 <Pine.LNX.4.58.0509081527350.833@hal.rescomp.berkeley.edu>
 <4ef6647e050908160570dd6270@mail.gmail.com>
 <Pine.LNX.4.58.0509081609560.833@hal.rescomp.berkeley.edu>
 <p06210213bf46904ccc5b@[192.168.1.4]>
 <Pine.LNX.4.58.0509081925310.15672@hal.rescomp.berkeley.edu>
Date: Fri, 9 Sep 2005 02:37:04 -0400
To: java-user@lucene.apache.org
From: "J.J. Larrea" <jjl@panix.com>
Subject: Re: Weird time results doing wildcard queries
Content-Type: text/plain; charset="us-ascii"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

At 8:01 PM -0700 9/8/05, Chris Hostetter wrote:
>: Which makes me wonder whether the caching logic of Hits, optimized for
>: random- rather than linear-access, and not tuneable or controllable in
>: 1.4.3, should be reviewed for a subsequent release, at least the
>: API-breaking 2.0.  I'll wager that a majority of applications do nothing
>: other than a one-time linear retrieval of Documents from Hits, with the
>: potential for a lot of wasted cycles for those that retrieve more than a
>: small number.
>
>I agree it should be more tunable, but I disagree with your wager.  I
>suspect that there are a lot of stateless applications out there that
>support "paginated results".  For those that only every access one or two
>pages and have small page size, the current Hits works well (and i suspect
>that is what it was optimized for)

Well, perhaps you're right... after looking at the source more closely, I take back my critique of Hits, which arose within a context in which my problem is not perfectly matched to the problems Hits tries to solve, which is probably the more common.

That is, I've integrated Lucene searching into an existing app with its own pagination caching mechanism.  So to essentially defeat Hits' caching, I pull a large chunk of hits into the external cache.  On reviewing the source I see that this has a negative impact on efficiency:  Either the caching mechanism of Hits should be utilized for small chunks of Documents as it was intended, or else Hits should be bypassed entirely in favor of the external caching mechanism, which could then use TopDocs in much the same way Hits does.  Calling Hits.id( maxresult ) as I suggested in my prior email is a bandaid which, while improving performance, certainly doesn't optimize it.

I suspect this also applies to the situation of Richard Krenek (who started this illuminating thread) as well.

Of course that doesn't mean Hits is perfect as now implemented:

>What doesn't make sense to me is that the constructor allways fetches the
>first 100 -- which is a waste if the application is currently intersted in
>results 101 and up.

Very much agreed.

>Off the top of my head, I would imagine that a usefull set of API changes
>would be...
>
> * add Hits.setRetrievalFactor(float); // replace "2" in getMoreDocs
> * add Hits.setDocCacheSize(int); // modify Hits.maxDocs

These two certainly make a lot of sense.  And perhaps setDocCache(0) can defeat Document caching for applications that don't need (or want) Hits to hold hard references to large Documents, or to waste time maintaining LRU state.

> * make Hits.getMoreDocs(int) package protected
> * add Searcher.makeHits(Query,Filter,Sort); // use in search, override in subclasses

Interesting thought.  Hits is now final, which I assume is for efficiency.  And getMoreDocs has a lot of fundamental logic in it, not a target for a simple subclass override.  On the other hand, while the tuning parameters would probably be sufficient to address many concerns with Hits, this would probably address those for which they don't.

> * move the call to getMoreDocs(int) from Hits to Searcher.search

Hmm... Hits is passed to the caller and works as a standalone cache.  While it maintains a reference to the Searcher, it only uses that to resolve Documents upon misses.  Perhaps the current separation of concerns is actually more appropriate?

However, top-score normalization is left to the caller (Hits or external client of IndexSearcher), rather than a concern of TopDocs, where it would IMO be more appropriate, and greatly simplify the use of the TopDocs-returning IndexSearcher methods.  A TopDocs consumer shouldn't have to copy normalization code from Hits.

>...that way the behavior stays the same, there are no major API changes,
>and applications that want to customize the amount of caching/prefecthing
>can do so my subclassing (Index)Searcher with some very simple method
>overrides.
>
>-Hoss

Yes, makes sense not to throw the baby out with the bathwater.

Thanks for your insights (and also to Yonick Seeley).

- J.J.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16304-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 09 06:47:40 2005
Return-Path: <java-user-return-16304-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16522 invoked from network); 9 Sep 2005 06:47:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Sep 2005 06:47:40 -0000
Received: (qmail 70302 invoked by uid 500); 9 Sep 2005 06:47:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70277 invoked by uid 500); 9 Sep 2005 06:47:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 70264 invoked by uid 99); 9 Sep 2005 06:47:36 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Sep 2005 23:47:36 -0700
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 08 Sep 2005 23:47:48 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id C417F5B793; Thu,  8 Sep 2005 23:47:33 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id BFC9F7F460
	for <java-user@lucene.apache.org>; Thu,  8 Sep 2005 23:47:33 -0700 (PDT)
Date: Thu, 8 Sep 2005 23:47:33 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: Weird time results doing wildcard queries
In-Reply-To: <p06210215bf46c9402593@[192.168.1.4]>
Message-ID: <Pine.LNX.4.58.0509082344160.24889@hal.rescomp.berkeley.edu>
References: <c21b69d1050908151539e07eef@mail.gmail.com> 
 <Pine.LNX.4.58.0509081527350.833@hal.rescomp.berkeley.edu>
 <4ef6647e050908160570dd6270@mail.gmail.com> <Pine.LNX.4.58.0509081609560.833@hal.rescomp.berkeley.edu>
 <p06210213bf46904ccc5b@[192.168.1.4]> <Pine.LNX.4.58.0509081925310.15672@hal.rescomp.berkeley.edu>
 <p06210215bf46c9402593@[192.168.1.4]>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N



: > * move the call to getMoreDocs(int) from Hits to Searcher.search
:
: Hmm... Hits is passed to the caller and works as a standalone cache.
: While it maintains a reference to the Searcher, it only uses that to
: resolve Documents upon misses.  Perhaps the current separation of
: concerns is actually more appropriate?

just to clarify, i ment take the call to getMoreDocs(50) which is
currently in the Hits constructor, and refactor it out and into the
"Searcher.search" methods.  that way the behavior is hte same as before
for all existing clients, but new subclasses cna change the behavior so
that hte "search" method just generates the Hits object, without fetching
any initial results (so a search executed purely to retrieved
paginated results above 101 don't do an unneccesary initial search up to
100)




-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16305-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 09 08:47:07 2005
Return-Path: <java-user-return-16305-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 56612 invoked from network); 9 Sep 2005 08:47:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Sep 2005 08:47:07 -0000
Received: (qmail 2196 invoked by uid 500); 9 Sep 2005 08:47:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2176 invoked by uid 500); 9 Sep 2005 08:47:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2162 invoked by uid 99); 9 Sep 2005 08:47:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Sep 2005 01:47:01 -0700
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=MIME_BASE64_BLANKS,MIME_BASE64_TEXT
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [221.146.159.218] (HELO mail.nannet.co.kr) (221.146.159.218)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Sep 2005 01:46:56 -0700
Received: from win98 ([192.168.1.2])
	by mail.nannet.co.kr (8.13.1/8.13.1) with SMTP id j898k60I011933
	for <java-user@lucene.apache.org>; Fri, 9 Sep 2005 17:46:07 +0900
Message-ID: <019f01c5b51b$bf28e540$0201a8c0@local>
Reply-To: "Youngho Cho" <youngho@nannet.co.kr>
From: "Youngho Cho" <youngho@nannet.co.kr>
To: <java-user@lucene.apache.org>
References: <Pine.LNX.4.58.0509081647160.6102@hal.rescomp.berkeley.edu>
Subject: RAMDirectory and Serializable
Date: Fri, 9 Sep 2005 17:52:00 +0900
Organization: Nannet
MIME-Version: 1.0
Content-Type: text/plain;
	charset="ISO-8859-1"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

SGVsbG8sDQoNCkkgd291bGQgbGlrZSB0byBhZGQgUkFNRGlyZWN0b3J5IHRvIGFub3RoZXIgbWFj
aGluZXMnIEZTRGlyZWN0b3J5DQpDYW4gSSB0cmVhdCBhIFJBTURpcmVjdG9yeSBhcyBTZXJpYWxp
emFibGUgPw0KDQpJIGZvdW5kIFJBTURpcmVjdG9yeSBhbmQgU2VyaWFsaXphYmxlIGRpc2N1c3Np
b24gYSBsb25nIHRpbWUgYWdvIGluIHRoZSBkZXYgbGlzdC4NCkJ1dCBJIGNvdW5kIGZpbmQgdGhl
IGFuc3dlci4NCg0KVGhhbmtzLg0KDQpZb3VuZ2hv




From java-user-return-16306-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 09 09:02:13 2005
Return-Path: <java-user-return-16306-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 61136 invoked from network); 9 Sep 2005 09:02:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Sep 2005 09:02:12 -0000
Received: (qmail 16745 invoked by uid 500); 9 Sep 2005 09:02:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 15853 invoked by uid 500); 9 Sep 2005 09:02:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 15840 invoked by uid 99); 9 Sep 2005 09:02:06 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Sep 2005 02:02:06 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [194.25.134.20] (HELO mailout08.sul.t-online.com) (194.25.134.20)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Sep 2005 02:02:18 -0700
Received: from fwd18.aul.t-online.de 
	by mailout08.sul.t-online.com with smtp 
	id 1EDeln-0007gb-07; Fri, 09 Sep 2005 11:02:03 +0200
Received: from EXCH.innosystec.de (XNxp6MZAreFrW-mvTTKmKVJVebqsRNK643QrvHZNLRdpDmB5zng8kX@[84.154.240.54]) by fwd18.sul.t-online.de
	with esmtp id 1EDeli-09qSZc0; Fri, 9 Sep 2005 11:01:58 +0200
Subject: AW: cancel search
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Date: Fri, 9 Sep 2005 11:01:56 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
Content-class: urn:content-classes:message
Message-ID: <FAF7E39D1CED524D8553BB1C969F3EF8303B3D@exchange.innosystec.site>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: cancel search
thread-index: AcW0eKuKXoOWusGQRNaCcZxylZ1nngABNVsgACeID8A=
From: "Kunemann Frank" <frank.kunemann@innosystec.de>
To: <java-user@lucene.apache.org>
X-ID: XNxp6MZAreFrW-mvTTKmKVJVebqsRNK643QrvHZNLRdpDmB5zng8kX@t-dialin.net
X-TOI-MSGID: 35cf0f58-c8f8-44b5-8f42-da5993d74ab3
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Exceptions didn't work as you need to implement the HitCollector class. =
Its method "collect" doesn't throw any exceptions and I don't want to =
rewrite anything of Lucene, so I'm using "searcher.close()" instead:


public class TimedHitCollector extends HitCollector
{
    private Searcher searcher;
    private ArrayList ids =3D new ArrayList();
    private long startTime;
    private long maxTime;
    private long endTime;
    private int maxDocs =3D 10;

    public TimedHitCollector(Searcher searcher, ArrayList list, long =
maxTime)
    {
        startTime =3D System.currentTimeMillis();
        this.searcher =3D searcher;
        this.ids =3D list;
        this.maxTime =3D maxTime;
    }

    public void collect(int id, float score)
    {
        long diff =3D System.currentTimeMillis() - startTime;

        if((diff > maxTime) || (ids.size() >=3D maxDocs)) {
           =20
            endTime =3D System.currentTimeMillis();
            System.out.println("canceling search...");

            try {
                searcher.close();
            }
            catch(IOException e) {
                e.printStackTrace();
            }
        }
        else {
            ids.add(new Integer(id));
            endTime =3D System.currentTimeMillis();
        }
    }
}

Be sure to catch IOException when calling searcher.search from your =
application, otherwise your program will exit sometimes. In this case no =
results will be returned.
That's why I can't use it to cancel the search after a given time or =
amount of documents found. But it's good enough for a cancel-button.

Hope this will help everyone having the same problem.


Frank

-----Urspr=FCngliche Nachricht-----
Von: Yonik Seeley [mailto:yseeley@gmail.com]=20
Gesendet: Donnerstag, 8. September 2005 15:09
An: java-user@lucene.apache.org
Betreff: Re: cancel search

You could create your own HitCollector that checked a flag on each hit, =
and=20
throw an exception if it was set.
In a separate thread, you could set the flag to cancel the search.

-Yonik
Now hiring -- http://tinyurl.com/7m67g

On 9/8/05, Kunemann Frank <frank.kunemann@innosystec.de> wrote:
>=20
>=20
> The problem is that when searching there is no real save point to stop
> the thread. The only line that takes time is this one:
>=20
> Hits hits =3D searcher.search(query);
>=20
>=20
> Frank
>=20
> >I've had such a long lasting search too. I sounds good to start the
> >search in another thread. I've done this for the indexing procedure.
> >This is started in another thread and the gui will be informed when
> >indexing is performed. If the user will stop it he has to click on a
> >button stop and then an event is send to the indexerthread. The
> >indexerthread stops if he reaches a safe point. Surely this is for
> >indexing but I think this would work for searching also.
> >stefan
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16307-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 09 09:08:54 2005
Return-Path: <java-user-return-16307-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62540 invoked from network); 9 Sep 2005 09:08:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Sep 2005 09:08:54 -0000
Received: (qmail 25277 invoked by uid 500); 9 Sep 2005 09:08:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25259 invoked by uid 500); 9 Sep 2005 09:08:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25245 invoked by uid 99); 9 Sep 2005 09:08:48 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Sep 2005 02:08:48 -0700
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.75.234.2] (HELO smtpgate.saa-cons.co.uk) (194.75.234.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Sep 2005 02:09:00 -0700
Received: (from uucp@localhost)
	by smtpgate.saa-cons.co.uk (8.8.8/8.8.8) id KAA03615
	for <java-user@lucene.apache.org>; Fri, 9 Sep 2005 10:12:02 +0100 (BST)
	(envelope-from Paul.Illingworth@saaconsultants.com)
Received: from domino-mail.saa-cons.co.uk(10.10.10.4) by smtpgate.saa-cons.co.uk via smap (V2.1)
	id xma003611; Fri, 9 Sep 05 10:11:57 +0100
In-Reply-To: <FAF7E39D1CED524D8553BB1C969F3EF8303B3D@exchange.innosystec.site>
Subject: Re: AW: cancel search
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 6.5.1 January 21, 2004
Message-ID: <OF61728064.022BA6C0-ON80257077.00322D73-80257077.00324877@SAAConsultants.com>
From: Paul.Illingworth@saaconsultants.com
Date: Fri, 9 Sep 2005 10:12:10 +0100
X-MIMETrack: Serialize by Router on domino-mail/Saa(Release 6.5.1|January 21, 2004) at
 09/09/2005 10:12:11
MIME-Version: 1.0
Content-type: text/plain; charset=ISO-8859-1
Content-transfer-encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N






You could always create a subclass of RuntimeException and throw and ca=
tch
this instead.

"Kunemann Frank" <frank.kunemann@innosystec.de> wrote on 09/09/2005
10:01:56:

> Exceptions didn't work as you need to implement the HitCollector
> class. Its method "collect" doesn't throw any exceptions and I don't
> want to rewrite anything of Lucene, so I'm using "searcher.close()"
instead:
>
>
> public class TimedHitCollector extends HitCollector
> {
>     private Searcher searcher;
>     private ArrayList ids =3D new ArrayList();
>     private long startTime;
>     private long maxTime;
>     private long endTime;
>     private int maxDocs =3D 10;
>
>     public TimedHitCollector(Searcher searcher, ArrayList list, long
maxTime)
>     {
>         startTime =3D System.currentTimeMillis();
>         this.searcher =3D searcher;
>         this.ids =3D list;
>         this.maxTime =3D maxTime;
>     }
>
>     public void collect(int id, float score)
>     {
>         long diff =3D System.currentTimeMillis() - startTime;
>
>         if((diff > maxTime) || (ids.size() >=3D maxDocs)) {
>
>             endTime =3D System.currentTimeMillis();
>             System.out.println("canceling search...");
>
>             try {
>                 searcher.close();
>             }
>             catch(IOException e) {
>                 e.printStackTrace();
>             }
>         }
>         else {
>             ids.add(new Integer(id));
>             endTime =3D System.currentTimeMillis();
>         }
>     }
> }
>
> Be sure to catch IOException when calling searcher.search from your
> application, otherwise your program will exit sometimes. In this
> case no results will be returned.
> That's why I can't use it to cancel the search after a given time or
> amount of documents found. But it's good enough for a cancel-button.
>
> Hope this will help everyone having the same problem.
>
>
> Frank
>
> -----Urspr=FCngliche Nachricht-----
> Von: Yonik Seeley [mailto:yseeley@gmail.com]
> Gesendet: Donnerstag, 8. September 2005 15:09
> An: java-user@lucene.apache.org
> Betreff: Re: cancel search
>
> You could create your own HitCollector that checked a flag on each hi=
t,
and
> throw an exception if it was set.
> In a separate thread, you could set the flag to cancel the search.
>
> -Yonik
> Now hiring -- http://tinyurl.com/7m67g
>
> On 9/8/05, Kunemann Frank <frank.kunemann@innosystec.de> wrote:
> >
> >
> > The problem is that when searching there is no real save point to s=
top
> > the thread. The only line that takes time is this one:
> >
> > Hits hits =3D searcher.search(query);
> >
> >
> > Frank
> >
> > >I've had such a long lasting search too. I sounds good to start th=
e
> > >search in another thread. I've done this for the indexing procedur=
e.
> > >This is started in another thread and the gui will be informed whe=
n
> > >indexing is performed. If the user will stop it he has to click on=
 a
> > >button stop and then an event is send to the indexerthread. The
> > >indexerthread stops if he reaches a safe point. Surely this is for=

> > >indexing but I think this would work for searching also.
> > >stefan
> >
> >
> > -------------------------------------------------------------------=
--
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>
>
> ---------------------------------------------------------------------=

> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
> ---------------------------------------------------------------------=

> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16308-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 09 09:27:50 2005
Return-Path: <java-user-return-16308-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 69341 invoked from network); 9 Sep 2005 09:27:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Sep 2005 09:27:50 -0000
Received: (qmail 45023 invoked by uid 500); 9 Sep 2005 09:27:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45002 invoked by uid 500); 9 Sep 2005 09:27:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44989 invoked by uid 99); 9 Sep 2005 09:27:42 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Sep 2005 02:27:42 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [194.25.134.21] (HELO mailout10.sul.t-online.com) (194.25.134.21)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Sep 2005 02:27:55 -0700
Received: from fwd18.aul.t-online.de 
	by mailout10.sul.t-online.com with smtp 
	id 1EDfAa-000708-04; Fri, 09 Sep 2005 11:27:40 +0200
Received: from EXCH.innosystec.de (ZwxkcMZSgehydQ09up09wH+VjzJ9IfND42l2JXlUgM4MsmUVMd81Z3@[84.154.240.54]) by fwd18.sul.t-online.de
	with esmtp id 1EDfAY-0kJumu0; Fri, 9 Sep 2005 11:27:38 +0200
Subject: AW: AW: cancel search
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Date: Fri, 9 Sep 2005 11:27:36 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
Content-class: urn:content-classes:message
Message-ID: <FAF7E39D1CED524D8553BB1C969F3EF8303B3E@exchange.innosystec.site>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: AW: cancel search
thread-index: AcW1Hjv7IAh1w5s/Tbm4NSPyqfTOKwAAH/SQ
From: "Kunemann Frank" <frank.kunemann@innosystec.de>
To: <java-user@lucene.apache.org>
X-ID: ZwxkcMZSgehydQ09up09wH+VjzJ9IfND42l2JXlUgM4MsmUVMd81Z3@t-dialin.net
X-TOI-MSGID: e956483a-ab0e-456a-85da-890f7d6a8397
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

You live and learn. :)
Thanks! This really solves the problem.


-----Urspr=FCngliche Nachricht-----
Von: Paul.Illingworth@saaconsultants.com =
[mailto:Paul.Illingworth@saaconsultants.com]=20
Gesendet: Freitag, 9. September 2005 11:12
An: java-user@lucene.apache.org
Betreff: Re: AW: cancel search






You could always create a subclass of RuntimeException and throw and =
catch
this instead.

"Kunemann Frank" <frank.kunemann@innosystec.de> wrote on 09/09/2005
10:01:56:

> Exceptions didn't work as you need to implement the HitCollector
> class. Its method "collect" doesn't throw any exceptions and I don't
> want to rewrite anything of Lucene, so I'm using "searcher.close()"
instead:
>
>
> public class TimedHitCollector extends HitCollector
> {
>     private Searcher searcher;
>     private ArrayList ids =3D new ArrayList();
>     private long startTime;
>     private long maxTime;
>     private long endTime;
>     private int maxDocs =3D 10;
>
>     public TimedHitCollector(Searcher searcher, ArrayList list, long
maxTime)
>     {
>         startTime =3D System.currentTimeMillis();
>         this.searcher =3D searcher;
>         this.ids =3D list;
>         this.maxTime =3D maxTime;
>     }
>
>     public void collect(int id, float score)
>     {
>         long diff =3D System.currentTimeMillis() - startTime;
>
>         if((diff > maxTime) || (ids.size() >=3D maxDocs)) {
>
>             endTime =3D System.currentTimeMillis();
>             System.out.println("canceling search...");
>
>             try {
>                 searcher.close();
>             }
>             catch(IOException e) {
>                 e.printStackTrace();
>             }
>         }
>         else {
>             ids.add(new Integer(id));
>             endTime =3D System.currentTimeMillis();
>         }
>     }
> }
>
> Be sure to catch IOException when calling searcher.search from your
> application, otherwise your program will exit sometimes. In this
> case no results will be returned.
> That's why I can't use it to cancel the search after a given time or
> amount of documents found. But it's good enough for a cancel-button.
>
> Hope this will help everyone having the same problem.
>
>
> Frank
>
> -----Urspr=FCngliche Nachricht-----
> Von: Yonik Seeley [mailto:yseeley@gmail.com]
> Gesendet: Donnerstag, 8. September 2005 15:09
> An: java-user@lucene.apache.org
> Betreff: Re: cancel search
>
> You could create your own HitCollector that checked a flag on each =
hit,
and
> throw an exception if it was set.
> In a separate thread, you could set the flag to cancel the search.
>
> -Yonik
> Now hiring -- http://tinyurl.com/7m67g
>
> On 9/8/05, Kunemann Frank <frank.kunemann@innosystec.de> wrote:
> >
> >
> > The problem is that when searching there is no real save point to =
stop
> > the thread. The only line that takes time is this one:
> >
> > Hits hits =3D searcher.search(query);
> >
> >
> > Frank
> >
> > >I've had such a long lasting search too. I sounds good to start the
> > >search in another thread. I've done this for the indexing =
procedure.
> > >This is started in another thread and the gui will be informed when
> > >indexing is performed. If the user will stop it he has to click on =
a
> > >button stop and then an event is send to the indexerthread. The
> > >indexerthread stops if he reaches a safe point. Surely this is for
> > >indexing but I think this would work for searching also.
> > >stefan
> >
> >
> > =
---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16309-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 09 09:28:05 2005
Return-Path: <java-user-return-16309-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 69513 invoked from network); 9 Sep 2005 09:28:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Sep 2005 09:28:04 -0000
Received: (qmail 46346 invoked by uid 500); 9 Sep 2005 09:27:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46326 invoked by uid 500); 9 Sep 2005 09:27:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 46313 invoked by uid 99); 9 Sep 2005 09:27:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Sep 2005 02:27:59 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.10.217] (HELO web26006.mail.ukl.yahoo.com) (217.12.10.217)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 09 Sep 2005 02:28:10 -0700
Received: (qmail 14080 invoked by uid 60001); 9 Sep 2005 09:27:55 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=Gsgw2K9JWVeoxI9BkZ2rlYKzkHx0kZn+Jd4Rg8CFWmhmXVO3VZZsmF+PzLTVAiNg3llV7X85oFPSAxSv0hPovwRNvKfKzpyRWvZ5yj+krkU+cWwsjGgdMCCNW8Yy54zxZOvHLMk3NXq9th2fHJX+zHhUf50TnHbh7XzxqW/4EUA=  ;
Message-ID: <20050909092755.14078.qmail@web26006.mail.ukl.yahoo.com>
Received: from [193.36.230.96] by web26006.mail.ukl.yahoo.com via HTTP; Fri, 09 Sep 2005 10:27:54 BST
Date: Fri, 9 Sep 2005 10:27:54 +0100 (BST)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: Re: Reducing number of poor results from large BooleanQueries
To: java-user@lucene.apache.org
In-Reply-To: <Pine.LNX.4.58.0509081647160.6102@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Chris,
Here is an approach which works based on the quantity
of matching terms in an adapted BooleanQuery:

http://issues.apache.org/bugzilla/show_bug.cgi?id=35284

Paul makes an interesting obversation at the end which
shows how this functionality can be added to the
existing BooleanQuery without too much effort. I'd
personally like to see this added to BooleanQuery. As
an example application, I currently use this
functionality in my custom
CoordConstrainedBooleanQuery to prevent "More Like
This" queries returning long lists of dissimilar
documents by insisting on 30% of generated query terms
matching.

This approach of course is based purely on the
quantity of matching terms, not the quality-based
measures in your example. As you suggest, quality is a
combination of user-derived measures (boosts) and
data-derived measures (tf,idf, docBoost). It sounds
like a more informed  approach in principle but I'm
not currently sure how it would be implemented
efficiently in practice. Here's one possible approach
I can think of:
I have previously optimized large BooleanQueries
generated by nGrams before now by taking only the top
idf-ranked terms - purely to reduce query times. A
similar approach could be used to automatically
rewrite a BooleanQuery consisting of entirely optional
terms into the equivalent of:
+( my high idf terms) (low idf terms)
Basically this produces a query that MUST match the
decent terms and scores extra points for the "optional
extras". Query term boosts could be factored into the
decision for selecting the "Must have" terms and "nice
to haves".
This would help maintain a minimum level of relevance
when relevance isn't the primary sort field.

Cheers,
Mark


	
	
		
___________________________________________________________ 
Yahoo! Messenger - NEW crystal clear PC to PC calling worldwide with voicemail http://uk.messenger.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16310-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 09 10:24:51 2005
Return-Path: <java-user-return-16310-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84449 invoked from network); 9 Sep 2005 10:24:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Sep 2005 10:24:51 -0000
Received: (qmail 8321 invoked by uid 500); 9 Sep 2005 10:24:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7842 invoked by uid 500); 9 Sep 2005 10:24:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7829 invoked by uid 99); 9 Sep 2005 10:24:46 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Sep 2005 03:24:46 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of appler@gmail.com designates 64.233.170.206 as permitted sender)
Received: from [64.233.170.206] (HELO rproxy.gmail.com) (64.233.170.206)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Sep 2005 03:24:57 -0700
Received: by rproxy.gmail.com with SMTP id c51so128278rne
        for <java-user@lucene.apache.org>; Fri, 09 Sep 2005 03:24:43 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=BRJ+OHlcu7RNGSyzKPPY+vOq63uS301H8s9qQP+vtYdUt4lqSoksxnZgPnYF2cwtzSZ+faZQhbLjNAOMpDBTxggnjI5P8HzgzYgNa8nqvQulYXh3IKCwNrRjRFIKR+49ecFAgYIZ8gzkHJg7flc9zz+N3IPHXEgtBH+CXljA43A=
Received: by 10.38.101.51 with SMTP id y51mr17669rnb;
        Fri, 09 Sep 2005 03:24:43 -0700 (PDT)
Received: by 10.38.101.35 with HTTP; Fri, 9 Sep 2005 03:24:43 -0700 (PDT)
Message-ID: <48b70849050909032429820adf@mail.gmail.com>
Date: Fri, 9 Sep 2005 19:24:43 +0900
From: Cheolgoo Kang <appler@gmail.com>
Reply-To: appler@gmail.com
To: java-user@lucene.apache.org
Subject: howto pronounce Plucene?
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

How do you pronounce Plucene, a Perl port of Lucene?

I think we can pronounce it as [p-lucene] or [plucene].

--=20
Cheolgoo

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16311-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 09 12:08:06 2005
Return-Path: <java-user-return-16311-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17992 invoked from network); 9 Sep 2005 12:08:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Sep 2005 12:08:06 -0000
Received: (qmail 3367 invoked by uid 500); 9 Sep 2005 12:08:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3324 invoked by uid 500); 9 Sep 2005 12:08:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3310 invoked by uid 99); 9 Sep 2005 12:08:00 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Sep 2005 05:08:00 -0700
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=NO_REAL_NAME,PLING_QUERY,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of dozean@gmx.de designates 213.165.64.20 as permitted sender)
Received: from [213.165.64.20] (HELO mail.gmx.net) (213.165.64.20)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 09 Sep 2005 05:08:12 -0700
Received: (qmail 535 invoked by uid 0); 9 Sep 2005 12:07:57 -0000
Received: from 80.136.175.142 by www50.gmx.net with HTTP;
	Fri, 9 Sep 2005 14:07:57 +0200 (MEST)
Date: Fri, 9 Sep 2005 14:07:57 +0200 (MEST)
From: dozean@gmx.de
To: java-user@lucene.apache.org
MIME-Version: 1.0
References: <20050909092755.14078.qmail@web26006.mail.ukl.yahoo.com>
Subject: IndexReader delete doc! delete terms?
X-Priority: 3 (Normal)
X-Authenticated: #9227561
Message-ID: <25695.1126267677@www50.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

i want to ask, if i delete documents from index with delete(int i)
does the IndexReader delete the terms of this document from index??

thanks in forward
Bye 

-- 
5 GB Mailbox, 50 FreeSMS http://www.gmx.net/de/go/promail
+++ GMX - die erste Adresse für Mail, Message, More +++

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16312-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 09 12:12:56 2005
Return-Path: <java-user-return-16312-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20265 invoked from network); 9 Sep 2005 12:12:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Sep 2005 12:12:55 -0000
Received: (qmail 8019 invoked by uid 500); 9 Sep 2005 12:12:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7992 invoked by uid 500); 9 Sep 2005 12:12:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7979 invoked by uid 99); 9 Sep 2005 12:12:50 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Sep 2005 05:12:50 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [193.123.241.50] (HELO rivette.int.mediasurface.com) (193.123.241.50)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Sep 2005 05:13:01 -0700
Received: from rivette.int.mediasurface.com (localhost [127.0.0.1])
	by rivette.int.mediasurface.com (8.11.6+Sun/8.11.6) with ESMTP id j89CCjA09753
	for <java-user@lucene.apache.org>; Fri, 9 Sep 2005 13:12:45 +0100 (BST)
Received: from neptune.int.mediasurface.com (neptune.int.mediasurface.com [10.0.5.71])
	by rivette.int.mediasurface.com (8.11.6+Sun/8.11.6) with ESMTP id j89CCiI09744
	for <java-user@lucene.apache.org>; Fri, 9 Sep 2005 13:12:44 +0100 (BST)
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RAMDirectory and Hibernate
Date: Fri, 9 Sep 2005 13:12:43 +0100
Message-ID: <BE3E7BC7F7553B4A9362D4192ECD308AE9162B@neptune.int.mediasurface.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: RAMDirectory and Hibernate
Thread-Index: AcW1Gxa9qSIDJnRhRMSlZHjIMfkg8QAHFpGQ
From: "Peter Gelderbloem" <Peter.Gelderbloem@mediasurface.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Hi,
I want to map RAMDirectory to a database via Hibernate.
Any ideas on how to do this properly?
I thought of using JDBCDirectory for this, but I need to support more
databases than MySQL and PostgreSQL.
Many thanks,
Peter=20

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16313-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 09 13:33:48 2005
Return-Path: <java-user-return-16313-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52666 invoked from network); 9 Sep 2005 13:33:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Sep 2005 13:33:48 -0000
Received: (qmail 9829 invoked by uid 500); 9 Sep 2005 13:33:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9644 invoked by uid 500); 9 Sep 2005 13:33:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 9627 invoked by uid 99); 9 Sep 2005 13:33:41 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Sep 2005 06:33:41 -0700
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=HTML_40_50,HTML_MESSAGE,PLING_QUERY,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.170.206 as permitted sender)
Received: from [64.233.170.206] (HELO rproxy.gmail.com) (64.233.170.206)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Sep 2005 06:33:52 -0700
Received: by rproxy.gmail.com with SMTP id g11so111197rne
        for <java-user@lucene.apache.org>; Fri, 09 Sep 2005 06:33:39 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=APODyKDcXYMyrbtHsgn0iWdYTULKDxgWeulEesAhitTjbvkccql3GrgI7zp/jU3kV0UOpbc2wesLyRVRG5GSggzNlJA33shDulpTTsiKzaRfrbETrcBBgLahe8o3tVAICdfwtioQ2+pL7LzdhGq6wPk37GVHWjVC0i9p6+oM1nE=
Received: by 10.38.73.6 with SMTP id v6mr27298rna;
        Fri, 09 Sep 2005 06:33:39 -0700 (PDT)
Received: by 10.38.12.25 with HTTP; Fri, 9 Sep 2005 06:33:38 -0700 (PDT)
Message-ID: <c68e3917050909063350b7fe9@mail.gmail.com>
Date: Fri, 9 Sep 2005 09:33:38 -0400
From: Yonik Seeley <yseeley@gmail.com>
Reply-To: yseeley@gmail.com
To: java-user@lucene.apache.org
Subject: Re: IndexReader delete doc! delete terms?
In-Reply-To: <25695.1126267677@www50.gmx.net>
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_567_6434084.1126272818988"
References: <20050909092755.14078.qmail@web26006.mail.ukl.yahoo.com>
	 <25695.1126267677@www50.gmx.net>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_567_6434084.1126272818988
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Nope. The IndexReader simply sets a bit in a separate bitvector that marks=
=20
the doc as deleted. All info associated with the document are removed after=
=20
an IndexWriter merges the segment containing that doc with another (optimiz=
e=20
will merge all segments and hence remove remnants of all deleted docs).

-Yonik
Now hiring -- http://tinyurl.com/7m67g

On 9/9/05, dozean@gmx.de <dozean@gmx.de> wrote:
>=20
> Hi,
>=20
> i want to ask, if i delete documents from index with delete(int i)
> does the IndexReader delete the terms of this document from index??
>=20
> thanks in forward
> Bye
>=20
> --
> 5 GB Mailbox, 50 FreeSMS http://www.gmx.net/de/go/promail
> +++ GMX - die erste Adresse f=FCr Mail, Message, More +++
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>

------=_Part_567_6434084.1126272818988--

From java-user-return-16314-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 09 13:41:11 2005
Return-Path: <java-user-return-16314-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55155 invoked from network); 9 Sep 2005 13:41:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Sep 2005 13:41:10 -0000
Received: (qmail 15870 invoked by uid 500); 9 Sep 2005 13:41:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 15843 invoked by uid 500); 9 Sep 2005 13:41:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 15823 invoked by uid 99); 9 Sep 2005 13:41:05 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Sep 2005 06:41:05 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jjl@panix.com designates 166.84.1.72 as permitted sender)
Received: from [166.84.1.72] (HELO mail1.panix.com) (166.84.1.72)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Sep 2005 06:41:14 -0700
Received: from mailspool3.panix.com (mailspool3.panix.com [166.84.1.78])
	by mail1.panix.com (Postfix) with ESMTP id C9C7B5993E
	for <java-user@lucene.apache.org>; Fri,  9 Sep 2005 09:41:00 -0400 (EDT)
Received: from [192.168.1.4] (pool-64-223-56-133.prov.east.verizon.net [64.223.56.133])
	by mailspool3.panix.com (Postfix) with ESMTP id AC72A3DFF68
	for <java-user@lucene.apache.org>; Fri,  9 Sep 2005 09:41:00 -0400 (EDT)
Mime-Version: 1.0
Message-Id: <p06210217bf474026036d@[192.168.1.4]>
In-Reply-To: <Pine.LNX.4.58.0509082344160.24889@hal.rescomp.berkeley.edu>
References: <c21b69d1050908151539e07eef@mail.gmail.com> 
 <Pine.LNX.4.58.0509081527350.833@hal.rescomp.berkeley.edu>
 <4ef6647e050908160570dd6270@mail.gmail.com>
 <Pine.LNX.4.58.0509081609560.833@hal.rescomp.berkeley.edu>
 <p06210213bf46904ccc5b@[192.168.1.4]>
 <Pine.LNX.4.58.0509081925310.15672@hal.rescomp.berkeley.edu>
 <p06210215bf46c9402593@[192.168.1.4]>
 <Pine.LNX.4.58.0509082344160.24889@hal.rescomp.berkeley.edu>
Date: Fri, 9 Sep 2005 09:40:54 -0400
To: java-user@lucene.apache.org
From: "J.J. Larrea" <jjl@panix.com>
Subject: Re: Weird time results doing wildcard queries
Content-Type: text/plain; charset="us-ascii"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

>just to clarify, i ment take the call to getMoreDocs(50) which is
>currently in the Hits constructor, and refactor it out and into the
>"Searcher.search" methods.  that way the behavior is hte same as before
>for all existing clients, but new subclasses cna change the behavior so
>that hte "search" method just generates the Hits object, without fetching
>any initial results (so a search executed purely to retrieved
>paginated results above 101 don't do an unneccesary initial search up to
>100)

Oops, of course you meant that! Sorry, I was up too late to parse it properly.

- J.J.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16315-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 09 15:30:01 2005
Return-Path: <java-user-return-16315-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2041 invoked from network); 9 Sep 2005 15:30:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Sep 2005 15:30:01 -0000
Received: (qmail 98129 invoked by uid 500); 9 Sep 2005 15:29:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 98105 invoked by uid 500); 9 Sep 2005 15:29:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 98092 invoked by uid 99); 9 Sep 2005 15:29:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Sep 2005 08:29:55 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.200.37] (HELO web31104.mail.mud.yahoo.com) (68.142.200.37)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 09 Sep 2005 08:30:05 -0700
Received: (qmail 60948 invoked by uid 60001); 9 Sep 2005 15:29:51 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=5worvISHAHeK7Pe8szbyjtwCvgPsaOMOObatx4vQmD8UXgBjTaB2Hz559wsdhcwIgijl5U1VmqKBgEpBEA5vLJW4U2+i0bXiWB4Yz31QVfeVI0rQDSEwAsHOaam+5WBJKyU1YjjLDuSURmUJwbbEIKibsKajzqUg9990I8QTF00=  ;
Message-ID: <20050909152951.60946.qmail@web31104.mail.mud.yahoo.com>
Received: from [216.194.55.187] by web31104.mail.mud.yahoo.com via HTTP; Fri, 09 Sep 2005 08:29:51 PDT
Date: Fri, 9 Sep 2005 08:29:51 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: howto pronounce Plucene?
To: java-user@lucene.apache.org
In-Reply-To: <48b70849050909032429820adf@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello Cheolgoo,

I always pronounce the "plu" part as "plu" in the word "plus", and
"cene" as the word "seen".  Something like pluseen.  But you could also
ask on the Plucene mailing list, maybe they pronounce it differently.

Otis


--- Cheolgoo Kang <appler@gmail.com> wrote:

> How do you pronounce Plucene, a Perl port of Lucene?
> 
> I think we can pronounce it as [p-lucene] or [plucene].
> 
> -- 
> Cheolgoo
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16316-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 09 15:33:48 2005
Return-Path: <java-user-return-16316-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4175 invoked from network); 9 Sep 2005 15:33:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Sep 2005 15:33:48 -0000
Received: (qmail 3547 invoked by uid 500); 9 Sep 2005 15:33:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3526 invoked by uid 500); 9 Sep 2005 15:33:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3511 invoked by uid 99); 9 Sep 2005 15:33:42 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Sep 2005 08:33:42 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.200.35] (HELO web31102.mail.mud.yahoo.com) (68.142.200.35)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 09 Sep 2005 08:33:53 -0700
Received: (qmail 63232 invoked by uid 60001); 9 Sep 2005 15:33:39 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=nW20XXMjMXJMqzXmBWkUattVU+mMnU+z6VXtcxopxCxDOQvXt7/ndZC0cJbonq6n88dXksG+YJSZ3UChH2ViLwOLhiHlG9IQDEs2OpXpd5UAK4/w9jT4bzGGpYE5moaNOK8d9cE4Sw+OpHVnJtah7zDd/j4nijeH/uDvoeipTeg=  ;
Message-ID: <20050909153339.63230.qmail@web31102.mail.mud.yahoo.com>
Received: from [216.194.55.187] by web31102.mail.mud.yahoo.com via HTTP; Fri, 09 Sep 2005 08:33:39 PDT
Date: Fri, 9 Sep 2005 08:33:39 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: RAMDirectory and Serializable
To: java-user@lucene.apache.org, Youngho Cho <youngho@nannet.co.kr>
In-Reply-To: <019f01c5b51b$bf28e540$0201a8c0@local>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Youngho,

--- Youngho Cho <youngho@nannet.co.kr> wrote:

> I would like to add RAMDirectory to another machines' FSDirectory
> Can I treat a RAMDirectory as Serializable ?
> 
> I found RAMDirectory and Serializable discussion a long time ago in
> the dev list. But I cound find the answer.

I recall the discussion, but not the conclusion. :(  However,
RAMDirectory is not Serializable currently, so the answer is probably
negative.

Otis

. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
Simpy -- http://www.simpy.com/ -- Find it. Tag it. Share it.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16317-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 09 15:45:25 2005
Return-Path: <java-user-return-16317-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 9533 invoked from network); 9 Sep 2005 15:45:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Sep 2005 15:45:25 -0000
Received: (qmail 17804 invoked by uid 500); 9 Sep 2005 15:45:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17541 invoked by uid 500); 9 Sep 2005 15:45:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17528 invoked by uid 99); 9 Sep 2005 15:45:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Sep 2005 08:45:20 -0700
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=HTML_00_10,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jeff.rodenburg@gmail.com designates 64.233.184.194 as permitted sender)
Received: from [64.233.184.194] (HELO wproxy.gmail.com) (64.233.184.194)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Sep 2005 08:45:31 -0700
Received: by wproxy.gmail.com with SMTP id 70so1452367wra
        for <java-user@lucene.apache.org>; Fri, 09 Sep 2005 08:45:17 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type;
        b=Pi8a50rx0ffCel7XU5fltx/pnFIcLUUyToMpz3INtWq7hmNktYv2WdSgGLlFuG37fODEqCPAPinKGkPjkZ52Cghp1GUEvTKj9u1aeVx3UhFuHV9fTuwqJG3QhGKFkKv5XTEX2CUGdm9T1aEbMrTC86bCA7QR1TG5vpZgONNTeuk=
Received: by 10.54.100.11 with SMTP id x11mr403076wrb;
        Fri, 09 Sep 2005 08:45:17 -0700 (PDT)
Received: by 10.54.13.32 with HTTP; Fri, 9 Sep 2005 08:45:17 -0700 (PDT)
Message-ID: <50f43336050909084519aa7865@mail.gmail.com>
Date: Fri, 9 Sep 2005 08:45:17 -0700
From: Jeff Rodenburg <jeff.rodenburg@gmail.com>
Reply-To: jeff.rodenburg@gmail.com
To: java-user@lucene.apache.org
Subject: BooleanQuery or QueryFilter?
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_861_12222074.1126280717100"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_861_12222074.1126280717100
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I know this question has been asked before, but I'm not certain of what=20
would work best for my scenario. So here goes...

I have an index with documents that carry a broad number of keyword fields,=
=20
usually containing numeric Ids (no sorting, so no leading zeros). From a se=
t=20
of search results, I need counts of the results filtered by any one of thes=
e=20
keyword Id fields. So, for a search yielding 10000 matches, I need to filte=
r=20
the search results by Field1 containing the Ids 1,2,3....... and so on. The=
=20
keyword field filter list can be substantial, running into the thousands of=
=20
Ids.

Should I be looking at BooleanQuery, QueryFilter or a custom filter?=20
QueryFilter (or customfilter, as I may pull the id values from a db) seem=
=20
like the *best* approach for my scenario. I'm just looking for feedback fro=
m=20
others who have gone this route and what their experiences yielded.

Thanks,
jeff

------=_Part_861_12222074.1126280717100--

From java-user-return-16318-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 09 16:27:36 2005
Return-Path: <java-user-return-16318-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 26820 invoked from network); 9 Sep 2005 16:27:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Sep 2005 16:27:36 -0000
Received: (qmail 1987 invoked by uid 500); 9 Sep 2005 16:27:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 1958 invoked by uid 500); 9 Sep 2005 16:27:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 57915 invoked by uid 99); 9 Sep 2005 15:05:51 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of mopster@gmail.com designates 64.233.182.203 as permitted sender)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=GEdFIte5ebtrdtuxp5XbDPQwRP+xSFYvsQc90kK2O1iQPseTw6l7TaoxRF5wHzzlE3wLfsKU6RJuEJXb4O6y5m2nfQ6zcm5A3TwAQ6eyTNxUmrqkbLwuFGLRXDS1nxPkK0ok2Fu6c2aPpN7kHzAvuRetu7C6qMkjjGRLpIgI+Rw=
Message-ID: <10b641cd0509090805219da66b@mail.gmail.com>
Date: Fri, 9 Sep 2005 16:05:45 +0100
From: mopster <mopster@gmail.com>
Reply-To: mopster@gmail.com
To: java-user@lucene.apache.org
Subject: Speed of complex boolean searches on large indexes
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,=20

I am testing the speed of searching Lucene indexes. The index is of
the larger size! It has about 500,000 documents, about 60 fields with
1 field (Field1) containing  the body of the document. Total index
size is currently about 20Gb

Testing the search i get this behaviour

(Field2:1) AND (Field10:50000) AND ( Field10010:null OR Field10010:14
OR Field10010:G2 NOT Field10009:14  AND (Field10000:0 OR Field10000:1
OR Field10000:2 OR Field10000:3) AND ((Field10005:null AND
Field10006:null AND Field10007:null   Field10008:null ) OR
(Field10005:2 OR Field10006:2 OR  Field10007:14 OR Field10008:14)))

took 13 secs (don't worry about the high field values. Started at
10,000. Null is just  a search tag entered if nothing is in the field)

so took out the NOT

(Field2:1) AND (Field10:50000) AND ( Field10010:1 OR Field10010:14 OR
Field10010:G2 AND Field10009:14  AND (Field10000:0 OR Field10000:1 OR
Field10000:2 OR Field10000:3) AND ((Field10005:1 AND Field10006:1 AND
Field10007:1   Field10008:1 ) OR (Field10005:2 OR Field10006:2 OR=20
Field10007:14 OR Field10008:14)))

took 9 secs

so took out the OR

(Field2:1) AND (Field10:50000) AND ( Field10010:1 AND Field10010:14
AND Field10010:G2 AND Field10009:14  AND (Field10000:0 AND
Field10000:1 AND Field10000:2 AND Field10000:3) AND ((Field10005:1 AND
Field10006:1 AND Field10007:1   Field10008:1 ) AND (Field10005:2 AND
Field10006:2 AND  Field10007:14 AND Field10008:14)))

took 4 secs=20

so took out the extra ()

Field2:1 AND Field10:50000 AND  Field10010:1 AND Field10010:14 AND
Field10010:G2 AND Field10009:14  AND Field10000:0 AND Field10000:1 AND
Field10000:2 AND Field10000:3 AND Field10005:1 AND Field10006:1 AND
Field10007:1   Field10008:1  AND Field10005:2 AND Field10006:2 AND=20
Field10007:14 AND Field10008:14

took 1 second

Has anyone got any thoughts on this? Do i need to the search
differently? Should I not have indexes this large. Maybe smaller ones
and combine the results?

Has anyone else had this type of issue?

Regards,

Paul

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16319-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 09 16:42:33 2005
Return-Path: <java-user-return-16319-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30043 invoked from network); 9 Sep 2005 16:42:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Sep 2005 16:42:33 -0000
Received: (qmail 21776 invoked by uid 500); 9 Sep 2005 16:42:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 21759 invoked by uid 500); 9 Sep 2005 16:42:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 21746 invoked by uid 99); 9 Sep 2005 16:42:27 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Sep 2005 09:42:27 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.201.74] (HELO web31112.mail.mud.yahoo.com) (68.142.201.74)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 09 Sep 2005 09:42:37 -0700
Received: (qmail 625 invoked by uid 60001); 9 Sep 2005 16:42:23 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=KgaWsEBo6kqoG/1VdRmj8OSKlJa7IDC5XBnuxDKyhHk4dEfsr0atWm7fecmCkKaSbT+B7FpoXCI8ztUSFSYBpOdcgvFdh/iTe823AVlxsovgK6hyddPX+1+Y/iNiIIkji/Ej1XmOvU8AKx1BweKHmQddhVVevz/jCyk90Lv5U0Q=  ;
Message-ID: <20050909164223.623.qmail@web31112.mail.mud.yahoo.com>
Received: from [216.194.55.187] by web31112.mail.mud.yahoo.com via HTTP; Fri, 09 Sep 2005 09:42:23 PDT
Date: Fri, 9 Sep 2005 09:42:23 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Speed of complex boolean searches on large indexes
To: java-user@lucene.apache.org
In-Reply-To: <10b641cd0509090805219da66b@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Well, by changing your query, you are changing your criteria, so I
assume you also got different (less) results.  That's one reason why
your query got faster.
If index size is the issue, and that Field1 consumes most of it, and
you are not using it in search (I don't see it in your sample query),
experiment with splitting the index and searching only the smaller
index, perhaps making use of ParallelReader.

Otis

--- mopster <mopster@gmail.com> wrote:

> Hi, 
> 
> I am testing the speed of searching Lucene indexes. The index is of
> the larger size! It has about 500,000 documents, about 60 fields with
> 1 field (Field1) containing  the body of the document. Total index
> size is currently about 20Gb
> 
> Testing the search i get this behaviour
> 
> (Field2:1) AND (Field10:50000) AND ( Field10010:null OR Field10010:14
> OR Field10010:G2 NOT Field10009:14  AND (Field10000:0 OR Field10000:1
> OR Field10000:2 OR Field10000:3) AND ((Field10005:null AND
> Field10006:null AND Field10007:null   Field10008:null ) OR
> (Field10005:2 OR Field10006:2 OR  Field10007:14 OR Field10008:14)))
> 
> took 13 secs (don't worry about the high field values. Started at
> 10,000. Null is just  a search tag entered if nothing is in the
> field)
> 
> so took out the NOT
> 
> (Field2:1) AND (Field10:50000) AND ( Field10010:1 OR Field10010:14 OR
> Field10010:G2 AND Field10009:14  AND (Field10000:0 OR Field10000:1 OR
> Field10000:2 OR Field10000:3) AND ((Field10005:1 AND Field10006:1 AND
> Field10007:1   Field10008:1 ) OR (Field10005:2 OR Field10006:2 OR 
> Field10007:14 OR Field10008:14)))
> 
> took 9 secs
> 
> so took out the OR
> 
> (Field2:1) AND (Field10:50000) AND ( Field10010:1 AND Field10010:14
> AND Field10010:G2 AND Field10009:14  AND (Field10000:0 AND
> Field10000:1 AND Field10000:2 AND Field10000:3) AND ((Field10005:1
> AND
> Field10006:1 AND Field10007:1   Field10008:1 ) AND (Field10005:2 AND
> Field10006:2 AND  Field10007:14 AND Field10008:14)))
> 
> took 4 secs 
> 
> so took out the extra ()
> 
> Field2:1 AND Field10:50000 AND  Field10010:1 AND Field10010:14 AND
> Field10010:G2 AND Field10009:14  AND Field10000:0 AND Field10000:1
> AND
> Field10000:2 AND Field10000:3 AND Field10005:1 AND Field10006:1 AND
> Field10007:1   Field10008:1  AND Field10005:2 AND Field10006:2 AND 
> Field10007:14 AND Field10008:14
> 
> took 1 second
> 
> Has anyone got any thoughts on this? Do i need to the search
> differently? Should I not have indexes this large. Maybe smaller ones
> and combine the results?
> 
> Has anyone else had this type of issue?
> 
> Regards,
> 
> Paul
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16320-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 09 16:46:04 2005
Return-Path: <java-user-return-16320-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32260 invoked from network); 9 Sep 2005 16:46:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Sep 2005 16:46:04 -0000
Received: (qmail 28900 invoked by uid 500); 9 Sep 2005 16:45:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 28880 invoked by uid 500); 9 Sep 2005 16:45:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 28866 invoked by uid 99); 9 Sep 2005 16:45:58 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Sep 2005 09:45:58 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.201.76] (HELO web31114.mail.mud.yahoo.com) (68.142.201.76)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 09 Sep 2005 09:46:10 -0700
Received: (qmail 74300 invoked by uid 60001); 9 Sep 2005 16:45:25 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=AwRKdPo2HHw9z261EkeXaK0Jg4g4PDEgRdkM1BZCdB026xGjueC/RcpxPQKs7nep28Krc3PPNSUYY5xz7BBgEZuq9NyWesIOq5ao3eyYJLPYyHbTtArYzI1y++/nq5N25QoNrtaUu1Pq8mb9gMPUyYn3RxWOBjHXCcPDnuAQyhM=  ;
Message-ID: <20050909164525.74298.qmail@web31114.mail.mud.yahoo.com>
Received: from [216.194.55.187] by web31114.mail.mud.yahoo.com via HTTP; Fri, 09 Sep 2005 09:45:24 PDT
Date: Fri, 9 Sep 2005 09:45:24 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: BooleanQuery or QueryFilter?
To: java-user@lucene.apache.org
In-Reply-To: <50f43336050909084519aa7865@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Sounds like a job for a Filter and CachingWrapperFilter (see
http://www.lucenebook.com/search?query=caching+filter ).  Chris
Hostetter wrote a nice email about how he did this for C|Net maybe 1-2
weeks ago.  Should be in the mailing list archives.

Otis

--- Jeff Rodenburg <jeff.rodenburg@gmail.com> wrote:

> I know this question has been asked before, but I'm not certain of
> what 
> would work best for my scenario. So here goes...
> 
> I have an index with documents that carry a broad number of keyword
> fields, 
> usually containing numeric Ids (no sorting, so no leading zeros).
> From a set 
> of search results, I need counts of the results filtered by any one
> of these 
> keyword Id fields. So, for a search yielding 10000 matches, I need to
> filter 
> the search results by Field1 containing the Ids 1,2,3....... and so
> on. The 
> keyword field filter list can be substantial, running into the
> thousands of 
> Ids.
> 
> Should I be looking at BooleanQuery, QueryFilter or a custom filter? 
> QueryFilter (or customfilter, as I may pull the id values from a db)
> seem 
> like the *best* approach for my scenario. I'm just looking for
> feedback from 
> others who have gone this route and what their experiences yielded.
> 
> Thanks,
> jeff
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16321-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 09 16:55:04 2005
Return-Path: <java-user-return-16321-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 38378 invoked from network); 9 Sep 2005 16:55:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Sep 2005 16:55:04 -0000
Received: (qmail 41912 invoked by uid 500); 9 Sep 2005 16:54:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 41893 invoked by uid 500); 9 Sep 2005 16:54:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 41880 invoked by uid 99); 9 Sep 2005 16:54:58 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Sep 2005 09:54:58 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of thomlep@gmail.com designates 64.233.162.204 as permitted sender)
Received: from [64.233.162.204] (HELO zproxy.gmail.com) (64.233.162.204)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Sep 2005 09:55:11 -0700
Received: by zproxy.gmail.com with SMTP id i28so1213017nzi
        for <java-user@lucene.apache.org>; Fri, 09 Sep 2005 09:54:57 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=jmiJLljKpUD1eBFnl0SNROHMs0mZyGxRa1y/IvV4TNLQ++VMIV/UPcdtNu7jWwYZb5eRqP4OVCoZ6vu440wv+/49EUvDflmXGxeQo1GCd5EndT9Gy+3hdpGHPx+YvebaAO9ZrHTzh7mkCtI0+7nzj5oUfd+Ec7vtEafpr+KlQ2U=
Received: by 10.36.71.17 with SMTP id t17mr517512nza;
        Fri, 09 Sep 2005 09:54:57 -0700 (PDT)
Received: by 10.36.25.4 with HTTP; Fri, 9 Sep 2005 09:54:57 -0700 (PDT)
Message-ID: <d76e85360509090954730951d8@mail.gmail.com>
Date: Fri, 9 Sep 2005 12:54:57 -0400
From: Thomas Lepkowski <thomlep@gmail.com>
Reply-To: thomlep@gmail.com
To: java-user@lucene.apache.org
Subject: Re: howto pronounce Plucene?
In-Reply-To: <20050909152951.60946.qmail@web31104.mail.mud.yahoo.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <48b70849050909032429820adf@mail.gmail.com>
	 <20050909152951.60946.qmail@web31104.mail.mud.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I would say 'plu' as in Pluto because Lucene sounds like LouSeen,
unless I've been saying it wrong and Lucene should sound like LusSeen,
it which case it would be 'plu' like 'plus'.


On 9/9/05, Otis Gospodnetic <otis_gospodnetic@yahoo.com> wrote:
> Hello Cheolgoo,
>=20
> I always pronounce the "plu" part as "plu" in the word "plus", and
> "cene" as the word "seen".  Something like pluseen.  But you could also
> ask on the Plucene mailing list, maybe they pronounce it differently.
>=20
> Otis
>=20
>=20
> --- Cheolgoo Kang <appler@gmail.com> wrote:
>=20
> > How do you pronounce Plucene, a Perl port of Lucene?
> >
> > I think we can pronounce it as [p-lucene] or [plucene].
> >
> > --
> > Cheolgoo
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16322-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 09 17:41:17 2005
Return-Path: <java-user-return-16322-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49778 invoked from network); 9 Sep 2005 17:41:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Sep 2005 17:41:17 -0000
Received: (qmail 96924 invoked by uid 500); 9 Sep 2005 17:41:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96780 invoked by uid 500); 9 Sep 2005 17:41:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96766 invoked by uid 99); 9 Sep 2005 17:41:10 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Sep 2005 10:41:10 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.200.230] (HELO web31111.mail.mud.yahoo.com) (68.142.200.230)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 09 Sep 2005 10:41:23 -0700
Received: (qmail 53042 invoked by uid 60001); 9 Sep 2005 17:41:09 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=JZje9z0obSSfC8j9cE8CjAWwG6AhPNmgt2GE+yU6g75QjtqyX68Rsz04G1PAkoB+PXqxvlnrMdgxbSMMFAJia1+CK8wkUhD/jPtDZgoMMkTP1IjgHFY0U9gjnJcvXOlQahfrIEi26yXUmuyUM7+IMZ+yolIwMuj7MN2SWabM6Mo=  ;
Message-ID: <20050909174109.53040.qmail@web31111.mail.mud.yahoo.com>
Received: from [216.194.55.187] by web31111.mail.mud.yahoo.com via HTTP; Fri, 09 Sep 2005 10:41:09 PDT
Date: Fri, 9 Sep 2005 10:41:09 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: howto pronounce Plucene?
To: java-user@lucene.apache.org
In-Reply-To: <d76e85360509090954730951d8@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Ah, sorry, I was thinking of "plus" in the wrong language.  Weird.
Yes, that's "plu" as in "Pluto".

Otis

--- Thomas Lepkowski <thomlep@gmail.com> wrote:

> I would say 'plu' as in Pluto because Lucene sounds like LouSeen,
> unless I've been saying it wrong and Lucene should sound like
> LusSeen,
> it which case it would be 'plu' like 'plus'.
> 
> 
> On 9/9/05, Otis Gospodnetic <otis_gospodnetic@yahoo.com> wrote:
> > Hello Cheolgoo,
> > 
> > I always pronounce the "plu" part as "plu" in the word "plus", and
> > "cene" as the word "seen".  Something like pluseen.  But you could
> also
> > ask on the Plucene mailing list, maybe they pronounce it
> differently.
> > 
> > Otis
> > 
> > 
> > --- Cheolgoo Kang <appler@gmail.com> wrote:
> > 
> > > How do you pronounce Plucene, a Perl port of Lucene?
> > >
> > > I think we can pronounce it as [p-lucene] or [plucene].
> > >
> > > --
> > > Cheolgoo
> > >
> > >
> ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > For additional commands, e-mail: java-user-help@lucene.apache.org
> > >
> > >
> > 
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> > 
> >
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16323-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 09 18:26:27 2005
Return-Path: <java-user-return-16323-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 61591 invoked from network); 9 Sep 2005 18:26:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Sep 2005 18:26:27 -0000
Received: (qmail 58585 invoked by uid 500); 9 Sep 2005 18:26:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58536 invoked by uid 500); 9 Sep 2005 18:26:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58523 invoked by uid 99); 9 Sep 2005 18:26:22 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Sep 2005 11:26:22 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [67.109.105.227] (HELO mail.aveo.aveopharma.com) (67.109.105.227)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 09 Sep 2005 11:26:35 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: Hardware recommendation
Date: Fri, 9 Sep 2005 14:28:52 -0400
Message-ID: <F18A6F7CF1661F46920F2CF713122FED46CC9E@mail.aveo.aveopharma.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Hardware recommendation
Thread-Index: AcW1bFQE9Iofo6pNQ8a81OcEpHRklw==
From: "Dmitri Bichko" <dbichko@aveopharma.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

I'm putting together a cheap indexing server for an "explorative" lucene
project and had a few questions about which route to go.

I am going with a Socket 939 platform - does it make sense to get the
dual core Athlon 64 X2, or is it better to stick with a faster clocked
"plain" Athlon 64?

Also, would Lucene benefit from running in 64 bit mode, or does it
prefer "compatibility" 32 bit?

I figure most indexing apps will be heavily IO bound, so I am stressing
that, while staying with commodity components, so:

WD SATA disks (250GB, 16MB cache, SATAII 3Gb/s)
starting out with 4 of these (plus system disks), on the onboard
controller (RAID0)

If need be I can add two disk cages, 5 disks each with two decent SATA
RAID controllers (64/128MB cache, NCQ, that sort of thing); the nForce4
PCI-Express should stand up to this, I'm hoping.

And of course I am limited to 4GB RAM.

I have three main applications in mind:

Indexing PubMed/Medline article abstracts, this would we an index of
about 15 million records with a couple of identifier fields, a title and
a 1-3 paragraph abstract.  Mostly the searches will be keyword searches
on the text fields.  Potentially I could add full-length papers to this
as well (a lot fewer records though).

Second one is indexing a couple hundred thousand MS Office documents and
PDF files (Google Appliance sort of thing).

And finally a genetic database repository a la LuceGene, or SRS.  This
would have more complex records (ie many fields, but little data with
each), which are mostly retrieved on unique identifiers (very little
text searching).  This would probably run to a few tens of millions of
records, maybe around 100 million eventually.

Given these applications, what else should I be thinking about,
hardware-wise?

Thanks,
Dmitri
The information transmitted is intended only for the person or entity to =
which it is addressed and may contain confidential and/or privileged mate=
rial. Any review, retransmission, dissemination or other use of, or takin=
g of any action in reliance upon, this information by persons or entities=
 other than the intended recipient is prohibited. If you received this in=
 error, please contact the sender and delete the material from any comput=
er

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16324-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 09 22:51:28 2005
Return-Path: <java-user-return-16324-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 63644 invoked from network); 9 Sep 2005 22:51:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Sep 2005 22:51:27 -0000
Received: (qmail 32132 invoked by uid 500); 9 Sep 2005 22:51:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 32104 invoked by uid 500); 9 Sep 2005 22:51:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 32091 invoked by uid 99); 9 Sep 2005 22:51:23 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Sep 2005 15:51:23 -0700
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Sep 2005 15:51:34 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id BD1935B7F1; Fri,  9 Sep 2005 15:51:17 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id B92A97F45C
	for <java-user@lucene.apache.org>; Fri,  9 Sep 2005 15:51:17 -0700 (PDT)
Date: Fri, 9 Sep 2005 15:51:17 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: Reducing number of poor results from large BooleanQueries
In-Reply-To: <20050909092755.14078.qmail@web26006.mail.ukl.yahoo.com>
Message-ID: <Pine.LNX.4.58.0509091501020.7525@hal.rescomp.berkeley.edu>
References: <20050909092755.14078.qmail@web26006.mail.ukl.yahoo.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: Here is an approach which works based on the quantity
: of matching terms in an adapted BooleanQuery:
:
: http://issues.apache.org/bugzilla/show_bug.cgi?id=35284

Doh! ... I should really start paying attention to the stuff in SVN, I
didn't even know there was a DisjunctionSumScorer -- this is exactly what
i was had in mind when i first started thinking about "Alternative #2",

But...

: This approach of course is based purely on the
: quantity of matching terms, not the quality-based

...this is what I'm worried about.

: measures in your example. As you suggest, quality is a
: combination of user-derived measures (boosts) and
: data-derived measures (tf,idf, docBoost). It sounds
: like a more informed  approach in principle but I'm
: not currently sure how it would be implemented
: efficiently in practice. Here's one possible approach

that's the thing, i'm thinking that if there was a subclass of
DisjunctionSumScorer (say "DisjunctionBoostSumScorer") that totaled the
sum of hte boosts of the sub-queries, and compared the sum of the boosts
of the queries that match ech doc against a percentage of the total, that
would be a very simple, inexpensive, calculaiotion that would at least
allow us to leverage the user-derived measures of the score -- if not the
data-derived measures.

Does that make sense?  Does it seem like taking advantage of the Boosts
instead of just the coord would be worthwhile?

: I have previously optimized large BooleanQueries
: generated by nGrams before now by taking only the top
: idf-ranked terms - purely to reduce query times. A
: similar approach could be used to automatically
: rewrite a BooleanQuery consisting of entirely optional
: terms into the equivalent of:
: +( my high idf terms) (low idf terms)

Alas, i don't know if that is a practical solution for my situation:

1) There is no guarantee that all possible sub-Queries can be decnstructed
into Terms, so you can't rank exclusively by idf (Consider for example the
Queries Yonik submited in bug#35796)

2) Even if we confine ourselfs to simple queries consisting purely of Term
queries, your suggested approach may over emphasise Terms that aren't
particularly important to the user -- or worse, terms that the user
misspelled or miss-remembered.

imagine a user is trying to search for the digital camera "Canon EOS 5D"
.. but when they saw the name of the camera in a magazine, they didn't
realize that the "EOS" is "ee oh es" they thought it was "ee zero es" so
they search for "Canon E0S 5D"

"E0S" may not even be in the index  giving it a really high idf -- which
based on your suggestion would make it a mandatory term so the results
would be empty.  Even if we had an explicit check to ignore terms with a
docFreq of 0, there might be one product that acctually contained "E0S" in
it's name, giving the user results that contain only that product --
ignoring all Canon products or products with "5D" in their names.


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16325-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 09 23:13:00 2005
Return-Path: <java-user-return-16325-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 69770 invoked from network); 9 Sep 2005 23:13:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Sep 2005 23:13:00 -0000
Received: (qmail 50401 invoked by uid 500); 9 Sep 2005 23:12:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50366 invoked by uid 500); 9 Sep 2005 23:12:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50325 invoked by uid 99); 9 Sep 2005 23:12:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Sep 2005 16:12:53 -0700
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=MIME_BASE64_BLANKS,MIME_BASE64_TEXT
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [221.146.159.218] (HELO dev.nannet.co.kr) (221.146.159.218)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Sep 2005 16:13:03 -0700
Received: from win98 ([192.168.1.2])
	by dev.nannet.co.kr (8.12.8/8.12.8) with SMTP id j89NCFKA013885
	for <java-user@lucene.apache.org>; Sat, 10 Sep 2005 08:12:15 +0900
Message-ID: <009201c5b594$d0b901e0$0201a8c0@local>
Reply-To: "Youngho Cho" <youngho@nannet.co.kr>
From: "Youngho Cho" <youngho@nannet.co.kr>
To: <java-user@lucene.apache.org>
References: <20050909153339.63230.qmail@web31102.mail.mud.yahoo.com>
Subject: Re: RAMDirectory and Serializable
Date: Sat, 10 Sep 2005 08:18:40 +0900
Organization: Nannet
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

SGkgT3RpcywNCg0KVGhhbmtzIGZvciB5b3VyIHJlcGx5Lg0KDQoNCllvdW5naG8uDQoNCi0tLS0t
IE9yaWdpbmFsIE1lc3NhZ2UgLS0tLS0gDQpGcm9tOiAiT3RpcyBHb3Nwb2RuZXRpYyIgPG90aXNf
Z29zcG9kbmV0aWNAeWFob28uY29tPg0KVG86IDxqYXZhLXVzZXJAbHVjZW5lLmFwYWNoZS5vcmc+
OyAiWW91bmdobyBDaG8iIDx5b3VuZ2hvQG5hbm5ldC5jby5rcj4NClNlbnQ6IFNhdHVyZGF5LCBT
ZXB0ZW1iZXIgMTAsIDIwMDUgMTI6MzMgQU0NClN1YmplY3Q6IFJlOiBSQU1EaXJlY3RvcnkgYW5k
IFNlcmlhbGl6YWJsZQ0KDQoNCj4gSGkgWW91bmdobywNCj4gDQo+IC0tLSBZb3VuZ2hvIENobyA8
eW91bmdob0BuYW5uZXQuY28ua3I+IHdyb3RlOg0KPiANCj4gPiBJIHdvdWxkIGxpa2UgdG8gYWRk
IFJBTURpcmVjdG9yeSB0byBhbm90aGVyIG1hY2hpbmVzJyBGU0RpcmVjdG9yeQ0KPiA+IENhbiBJ
IHRyZWF0IGEgUkFNRGlyZWN0b3J5IGFzIFNlcmlhbGl6YWJsZSA/DQo+ID4gDQo+ID4gSSBmb3Vu
ZCBSQU1EaXJlY3RvcnkgYW5kIFNlcmlhbGl6YWJsZSBkaXNjdXNzaW9uIGEgbG9uZyB0aW1lIGFn
byBpbg0KPiA+IHRoZSBkZXYgbGlzdC4gQnV0IEkgY291bmQgZmluZCB0aGUgYW5zd2VyLg0KPiAN
Cj4gSSByZWNhbGwgdGhlIGRpc2N1c3Npb24sIGJ1dCBub3QgdGhlIGNvbmNsdXNpb24uIDooICBI
b3dldmVyLA0KPiBSQU1EaXJlY3RvcnkgaXMgbm90IFNlcmlhbGl6YWJsZSBjdXJyZW50bHksIHNv
IHRoZSBhbnN3ZXIgaXMgcHJvYmFibHkNCj4gbmVnYXRpdmUuDQo+IA0KPiBPdGlzDQo+IA0KPiAu
IC4gLiAuIC4gLiAuIC4gLiAuIC4gLiAuIC4gLiAuIC4gLiAuIC4gLiAuIC4gLiAuIC4gLiAuIC4g
Lg0KPiBTaW1weSAtLSBodHRwOi8vd3d3LnNpbXB5LmNvbS8gLS0gRmluZCBpdC4gVGFnIGl0LiBT
aGFyZSBpdC4NCj4gDQo+IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KPiBUbyB1bnN1YnNjcmliZSwgZS1tYWlsOiBq
YXZhLXVzZXItdW5zdWJzY3JpYmVAbHVjZW5lLmFwYWNoZS5vcmcNCj4gRm9yIGFkZGl0aW9uYWwg
Y29tbWFuZHMsIGUtbWFpbDogamF2YS11c2VyLWhlbHBAbHVjZW5lLmFwYWNoZS5vcmc=




From java-user-return-16326-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 09 23:28:17 2005
Return-Path: <java-user-return-16326-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 75685 invoked from network); 9 Sep 2005 23:28:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 9 Sep 2005 23:28:16 -0000
Received: (qmail 67312 invoked by uid 500); 9 Sep 2005 23:28:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 67287 invoked by uid 500); 9 Sep 2005 23:28:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 67274 invoked by uid 99); 9 Sep 2005 23:28:12 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Sep 2005 16:28:12 -0700
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=MIME_BASE64_BLANKS,MIME_BASE64_TEXT
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [221.146.159.218] (HELO dev.nannet.co.kr) (221.146.159.218)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Sep 2005 16:28:24 -0700
Received: from win98 ([192.168.1.2])
	by dev.nannet.co.kr (8.12.8/8.12.8) with SMTP id j89NRcKA013940
	for <java-user@lucene.apache.org>; Sat, 10 Sep 2005 08:27:38 +0900
Message-ID: <001001c5b596$f6a111c0$0201a8c0@local>
Reply-To: "Youngho Cho" <youngho@nannet.co.kr>
From: "Youngho Cho" <youngho@nannet.co.kr>
To: <java-user@lucene.apache.org>
References: <20050909153339.63230.qmail@web31102.mail.mud.yahoo.com> <009201c5b594$d0b901e0$0201a8c0@local>
Subject: RAMDirectory add index with other machine FSDirectory
Date: Sat, 10 Sep 2005 08:34:03 +0900
Organization: Nannet
MIME-Version: 1.0
Content-Type: text/plain;
	charset="ISO-8859-1"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

SGVsbG8sDQoNCkkgd291bGQgbGlrZSB0byBhZGQgUkFNRGlyZWN0b3J5IHRvIGFub3RoZXIgbWFj
aGluZXMnIEZTRGlyZWN0b3J5DQpJcyB0aGVyZSBhbnkgZ29vZCB3YXkgPw0KDQoNClRoYW5rcywN
Cg0KWW91bmdobw==




From java-user-return-16327-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 10 00:45:25 2005
Return-Path: <java-user-return-16327-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98630 invoked from network); 10 Sep 2005 00:45:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Sep 2005 00:45:25 -0000
Received: (qmail 12375 invoked by uid 500); 10 Sep 2005 00:45:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 12280 invoked by uid 500); 10 Sep 2005 00:45:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 12251 invoked by uid 99); 10 Sep 2005 00:45:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Sep 2005 17:45:16 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.12.11.32] (HELO smtp001.mail.ukl.yahoo.com) (217.12.11.32)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 09 Sep 2005 17:45:27 -0700
Received: (qmail 64227 invoked from network); 10 Sep 2005 00:45:12 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Received:Message-ID:Date:From:User-Agent:X-Accept-Language:MIME-Version:To:Subject:References:In-Reply-To:Content-Type:Content-Transfer-Encoding;
  b=wKS2V05BgmAmDrnNg9/AI6SGhjOscostPyrrHvF1wiNqc96JDkciB4pIt79MQ9O1Jn4C70vbuuxv2aRid3pYUv9YdJS+/QjNMXVjWoyBAqPSjDxiQG8K4QfIL1JUJOKmK7kWuMhXfhwUmCqPCJJseFt+ZN40a6r3f6+yZA1MC+w=  ;
Received: from unknown (HELO ?127.0.0.1?) (markharw00d@194.106.34.5 with plain)
  by smtp001.mail.ukl.yahoo.com with SMTP; 10 Sep 2005 00:45:12 -0000
Message-ID: <43222C98.60505@yahoo.co.uk>
Date: Sat, 10 Sep 2005 01:45:12 +0100
From: markharw00d <markharw00d@yahoo.co.uk>
User-Agent: Mozilla Thunderbird 1.0.5 (Windows/20050711)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Reducing number of poor results from large BooleanQueries
References: <20050909092755.14078.qmail@web26006.mail.ukl.yahoo.com> <Pine.LNX.4.58.0509091501020.7525@hal.rescomp.berkeley.edu>
In-Reply-To: <Pine.LNX.4.58.0509091501020.7525@hal.rescomp.berkeley.edu>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Isn't the trouble with introducing a scoring threshold based on raw 
scores that the Similarity scoring mechanism is considering each 
document in isolation? At this stage we don't know if the query is 
generally a good one or not (ie spelt correctly, and not a Googlewhack 
combination of rarely colocated terms).  For example, we dont know if, 
in general, the coord factor was very poor for all docs and so our score 
threshold used by each doc should be relaxed as a consequence.

A simple solution may be to delay thresholding until all results are in 
and to consider the top result as the "best you can get" for the given 
query ie "100%" and setting the threshold for accepting other results at 
something like 70% of the top score.

This too has its faults: I've found it useful to consider examples of 
different queries and the distribution of their (normalized) scores.

* GoogleWhack query (rare or misspelt terms -  hi idf, low coord- only 
one result with ALL terms)
[octupus jacuzzi tango]
1, 0.30, 0.30, 0.25, 0.25

* Very rare query (rare or misspelt terms -  hi idf, very low coord- NO 
result with ALL terms)
[octupus jacuzzi unicycle]
1, 0.90, 0.88, 0.88, 0.88

* Good query  (some rarer terms maybe some common - but several docs 
contain > 1 of the rarer terms)
[installing a jacuzzi in the home]
1, 90, 80, 78, 30, 20

* Too-common query (many common terms - results have hi coord but low idf):
[home page of the web site]
1, 0.99, 0.99, 0,98, 0.93

Looking at these normalized scores I suspect this "70% of top" rule 
doesn't work well in all cases. Maybe a better solution lies in mixing 
the "% of top" rule with the raw-scores thresholds somehow.


		
___________________________________________________________ 
How much free photo storage do you get? Store your holiday 
snaps for FREE with Yahoo! Photos http://uk.photos.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16328-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 10 01:59:43 2005
Return-Path: <java-user-return-16328-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20705 invoked from network); 10 Sep 2005 01:59:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Sep 2005 01:59:43 -0000
Received: (qmail 50059 invoked by uid 500); 10 Sep 2005 01:59:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50034 invoked by uid 500); 10 Sep 2005 01:59:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50019 invoked by uid 99); 10 Sep 2005 01:59:38 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Sep 2005 18:59:38 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.200.43] (HELO web31110.mail.mud.yahoo.com) (68.142.200.43)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 09 Sep 2005 18:59:49 -0700
Received: (qmail 57274 invoked by uid 60001); 10 Sep 2005 01:59:35 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=ioiEDxteUywGEmR3fJDVDsgFZvTEnY39nydxfOYmajQ/PmgK5bckUXIrmRnF859rjAGqktFZ7dIZSuqUfESkspFCf+j1JKWONS4a9Dz+wMfowj9kT6aLHGP4OuMoxMqBdz6htRaiKtLvG2sCJzfn6zw8+Huq5m4lSSBIzIXbquk=  ;
Message-ID: <20050910015935.57272.qmail@web31110.mail.mud.yahoo.com>
Received: from [69.201.142.21] by web31110.mail.mud.yahoo.com via HTTP; Fri, 09 Sep 2005 18:59:35 PDT
Date: Fri, 9 Sep 2005 18:59:35 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: RAMDirectory add index with other machine FSDirectory
To: java-user@lucene.apache.org, Youngho Cho <youngho@nannet.co.kr>
In-Reply-To: <001001c5b596$f6a111c0$0201a8c0@local>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Save it to disk using FSDirectory, zip the index directory, and copy it
to the remote host over the socket.  There is no built-in Lucene-way of
doing this.  You can also simply scp the index directory or use
whatever other file transfer protocol suits you.

Otis

--- Youngho Cho <youngho@nannet.co.kr> wrote:

> Hello,
> 
> I would like to add RAMDirectory to another machines' FSDirectory
> Is there any good way ?
> 
> 
> Thanks,
> 
> Youngho


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16329-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 10 02:07:57 2005
Return-Path: <java-user-return-16329-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 21850 invoked from network); 10 Sep 2005 02:07:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Sep 2005 02:07:57 -0000
Received: (qmail 53616 invoked by uid 500); 10 Sep 2005 02:07:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53584 invoked by uid 500); 10 Sep 2005 02:07:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53571 invoked by uid 99); 10 Sep 2005 02:07:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Sep 2005 19:07:53 -0700
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=MIME_BASE64_BLANKS,MIME_BASE64_TEXT
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [221.146.159.218] (HELO dev.nannet.co.kr) (221.146.159.218)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Sep 2005 19:08:05 -0700
Received: from win98 ([192.168.1.2])
	by dev.nannet.co.kr (8.12.8/8.12.8) with SMTP id j8A27HKA015118;
	Sat, 10 Sep 2005 11:07:17 +0900
Message-ID: <000e01c5b5ad$44e11ae0$0201a8c0@local>
Reply-To: "Youngho Cho" <youngho@nannet.co.kr>
From: "Youngho Cho" <youngho@nannet.co.kr>
To: "Otis Gospodnetic" <otis_gospodnetic@yahoo.com>,
   <java-user@lucene.apache.org>
References: <20050910015935.57272.qmail@web31110.mail.mud.yahoo.com>
Subject: Re: RAMDirectory add index with other machine FSDirectory
Date: Sat, 10 Sep 2005 11:13:43 +0900
Organization: Nannet
MIME-Version: 1.0
Content-Type: text/plain;
	charset="ISO-8859-1"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

SGVsbG8gT3RpcywNCg0KVGhhbmtzIGFsb3QgIS4NCg0KSSB3aWxsIHRyeS4NCg0KVGhhbmtzIGFn
YWluLA0KDQpZb3VuZ2hvDQoNCi0tLS0tIE9yaWdpbmFsIE1lc3NhZ2UgLS0tLS0gDQpGcm9tOiAi
T3RpcyBHb3Nwb2RuZXRpYyIgPG90aXNfZ29zcG9kbmV0aWNAeWFob28uY29tPg0KVG86IDxqYXZh
LXVzZXJAbHVjZW5lLmFwYWNoZS5vcmc+OyAiWW91bmdobyBDaG8iIDx5b3VuZ2hvQG5hbm5ldC5j
by5rcj4NClNlbnQ6IFNhdHVyZGF5LCBTZXB0ZW1iZXIgMTAsIDIwMDUgMTA6NTkgQU0NClN1Ympl
Y3Q6IFJlOiBSQU1EaXJlY3RvcnkgYWRkIGluZGV4IHdpdGggb3RoZXIgbWFjaGluZSBGU0RpcmVj
dG9yeQ0KDQoNCj4gU2F2ZSBpdCB0byBkaXNrIHVzaW5nIEZTRGlyZWN0b3J5LCB6aXAgdGhlIGlu
ZGV4IGRpcmVjdG9yeSwgYW5kIGNvcHkgaXQNCj4gdG8gdGhlIHJlbW90ZSBob3N0IG92ZXIgdGhl
IHNvY2tldC4gIFRoZXJlIGlzIG5vIGJ1aWx0LWluIEx1Y2VuZS13YXkgb2YNCj4gZG9pbmcgdGhp
cy4gIFlvdSBjYW4gYWxzbyBzaW1wbHkgc2NwIHRoZSBpbmRleCBkaXJlY3Rvcnkgb3IgdXNlDQo+
IHdoYXRldmVyIG90aGVyIGZpbGUgdHJhbnNmZXIgcHJvdG9jb2wgc3VpdHMgeW91Lg0KPiANCj4g
T3Rpcw0KPiANCj4gLS0tIFlvdW5naG8gQ2hvIDx5b3VuZ2hvQG5hbm5ldC5jby5rcj4gd3JvdGU6
DQo+IA0KPiA+IEhlbGxvLA0KPiA+IA0KPiA+IEkgd291bGQgbGlrZSB0byBhZGQgUkFNRGlyZWN0
b3J5IHRvIGFub3RoZXIgbWFjaGluZXMnIEZTRGlyZWN0b3J5DQo+ID4gSXMgdGhlcmUgYW55IGdv
b2Qgd2F5ID8NCj4gPiANCj4gPiANCj4gPiBUaGFua3MsDQo+ID4gDQo+ID4gWW91bmdobw==




From java-user-return-16330-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 10 02:11:21 2005
Return-Path: <java-user-return-16330-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22279 invoked from network); 10 Sep 2005 02:11:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Sep 2005 02:11:21 -0000
Received: (qmail 56210 invoked by uid 500); 10 Sep 2005 02:11:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 56177 invoked by uid 500); 10 Sep 2005 02:11:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 56162 invoked by uid 99); 10 Sep 2005 02:11:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Sep 2005 19:11:17 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of appler@gmail.com designates 64.233.170.193 as permitted sender)
Received: from [64.233.170.193] (HELO rproxy.gmail.com) (64.233.170.193)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Sep 2005 19:11:29 -0700
Received: by rproxy.gmail.com with SMTP id c51so216866rne
        for <java-user@lucene.apache.org>; Fri, 09 Sep 2005 19:11:15 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=jTywGP+UPHDkT1uqccGmtpANgXDUkzDnEDtOAsgbU+KTgnq4mGAjrexFDEwCXWGPfP4XF1Tc3DL2+HpA5aDNJZ3vY9iUr2et39u7fQJYrZ7LT4i+z9gyazZw/ilNcLsxxN8ha/x0meYW5aH5mKbJYqNqC+d4JlGlAlloL9YZoe8=
Received: by 10.38.11.30 with SMTP id 30mr84313rnk;
        Fri, 09 Sep 2005 19:11:15 -0700 (PDT)
Received: by 10.38.101.35 with HTTP; Fri, 9 Sep 2005 19:11:15 -0700 (PDT)
Message-ID: <48b708490509091911956ab10@mail.gmail.com>
Date: Sat, 10 Sep 2005 11:11:15 +0900
From: Cheolgoo Kang <appler@gmail.com>
Reply-To: appler@gmail.com
To: java-user@lucene.apache.org, Youngho Cho <youngho@nannet.co.kr>
Subject: Re: RAMDirectory add index with other machine FSDirectory
In-Reply-To: <001001c5b596$f6a111c0$0201a8c0@local>
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <20050909153339.63230.qmail@web31102.mail.mud.yahoo.com>
	 <009201c5b594$d0b901e0$0201a8c0@local>
	 <001001c5b596$f6a111c0$0201a8c0@local>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Cause the RAMDirectory is not serializable, it's hard to send a index
to a remote computer. I think it's kind of tricky, but it would work.

1. Create a fresh new IndexWriter(let's name it toTransfer) with
temporary FSDirectory, /usr/tmp/some/directory for example.
2. Invoke the toTransfer.addIndexes(Directory[]) method with your
current RAMDirectory, it'll copy your index resides in RAMDirectory to
the temporary directory mentioned above.
3. Close the toTransfer index to flush all those modifications.
4. Zip all the files on the temporary directory, and send the zipped
file to the remote server. (FTP, HTTP, WevDAV or anything.)
5. As you expected, unzip the received zip file to a temporary
directory, like /tmp/indexFromClientA for example.
6. Load the index of the directory /tmp/indexFromClientA and, and you
finally got the client's index. You could addIndexes() to your remote
machine's FSDirectory based one.

As you know, it's NOT a good method, but I think it's the only way to do th=
at.


On 9/10/05, Youngho Cho <youngho@nannet.co.kr> wrote:
> Hello,
>=20
> I would like to add RAMDirectory to another machines' FSDirectory
> Is there any good way ?
>=20
>=20
> Thanks,
>=20
> Youngho


--=20
Cheolgoo

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16331-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 10 02:14:01 2005
Return-Path: <java-user-return-16331-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22585 invoked from network); 10 Sep 2005 02:14:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Sep 2005 02:14:01 -0000
Received: (qmail 58229 invoked by uid 500); 10 Sep 2005 02:13:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58194 invoked by uid 500); 10 Sep 2005 02:13:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58180 invoked by uid 99); 10 Sep 2005 02:13:57 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Sep 2005 19:13:57 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of appler@gmail.com designates 64.233.170.206 as permitted sender)
Received: from [64.233.170.206] (HELO rproxy.gmail.com) (64.233.170.206)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 09 Sep 2005 19:14:08 -0700
Received: by rproxy.gmail.com with SMTP id c51so216995rne
        for <java-user@lucene.apache.org>; Fri, 09 Sep 2005 19:13:54 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=W3dMj1cDDHx/yIHyHj4zCJLeIA37Iopee2CQ8FyTz/znc9ASOYoICOBhKg73olvQs4Q9mTvi/fecgMuJJOiAi8caF6F1GheUDZz8M0N6x4V14Kxq1gifXay4gnDG8f6iL3ubpe7WQdx9TiqGMOM5V2d4lZNG8RiU+sujedIcWkU=
Received: by 10.38.92.80 with SMTP id p80mr84955rnb;
        Fri, 09 Sep 2005 19:13:54 -0700 (PDT)
Received: by 10.38.101.35 with HTTP; Fri, 9 Sep 2005 19:13:54 -0700 (PDT)
Message-ID: <48b708490509091913642cd292@mail.gmail.com>
Date: Sat, 10 Sep 2005 11:13:54 +0900
From: Cheolgoo Kang <appler@gmail.com>
Reply-To: appler@gmail.com
To: java-user@lucene.apache.org
Subject: Re: howto pronounce Plucene?
In-Reply-To: <20050909174109.53040.qmail@web31111.mail.mud.yahoo.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <d76e85360509090954730951d8@mail.gmail.com>
	 <20050909174109.53040.qmail@web31111.mail.mud.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thank you! Otis and Thomas.

On 9/10/05, Otis Gospodnetic <otis_gospodnetic@yahoo.com> wrote:
> Ah, sorry, I was thinking of "plus" in the wrong language.  Weird.
> Yes, that's "plu" as in "Pluto".
>=20
> Otis
>=20
> --- Thomas Lepkowski <thomlep@gmail.com> wrote:
>=20
> > I would say 'plu' as in Pluto because Lucene sounds like LouSeen,
> > unless I've been saying it wrong and Lucene should sound like
> > LusSeen,
> > it which case it would be 'plu' like 'plus'.
> >
> >
> > On 9/9/05, Otis Gospodnetic <otis_gospodnetic@yahoo.com> wrote:
> > > Hello Cheolgoo,
> > >
> > > I always pronounce the "plu" part as "plu" in the word "plus", and
> > > "cene" as the word "seen".  Something like pluseen.  But you could
> > also
> > > ask on the Plucene mailing list, maybe they pronounce it
> > differently.
> > >
> > > Otis
> > >
> > >
> > > --- Cheolgoo Kang <appler@gmail.com> wrote:
> > >
> > > > How do you pronounce Plucene, a Perl port of Lucene?
> > > >
> > > > I think we can pronounce it as [p-lucene] or [plucene].
> > > >
> > > > --
> > > > Cheolgoo
> > > >
> > > >
> > ---------------------------------------------------------------------
> > > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > > For additional commands, e-mail: java-user-help@lucene.apache.org
> > > >
> > > >
> > >
> > >
> > >
> > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > For additional commands, e-mail: java-user-help@lucene.apache.org
> > >
> > >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>=20


--=20
Cheolgoo

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16332-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 10 16:44:58 2005
Return-Path: <java-user-return-16332-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24134 invoked from network); 10 Sep 2005 16:44:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Sep 2005 16:44:58 -0000
Received: (qmail 70646 invoked by uid 500); 10 Sep 2005 16:44:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70614 invoked by uid 500); 10 Sep 2005 16:44:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 70601 invoked by uid 99); 10 Sep 2005 16:44:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 10 Sep 2005 09:44:53 -0700
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of rdaviddi@gmail.com designates 64.233.184.202 as permitted sender)
Received: from [64.233.184.202] (HELO wproxy.gmail.com) (64.233.184.202)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 10 Sep 2005 09:45:04 -0700
Received: by wproxy.gmail.com with SMTP id 37so1868453wra
        for <java-user@lucene.apache.org>; Sat, 10 Sep 2005 09:44:50 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type;
        b=lwZSSvSMsEbP9E+iSoZrbwChxsFnodwbjhol5LICSp3P44xh4kz708giBHb1xr9wX3nImO0+pzGkMs7H3wC/HQ7Wo5FjIktQjjYNPgbLq9e4OXaz9cRtTe6CZf48IC8AxxXYGy/uFsHD2mMlUAWCjU4m32QDSbIwriElwy995qs=
Received: by 10.54.65.15 with SMTP id n15mr1310318wra;
        Sat, 10 Sep 2005 09:44:50 -0700 (PDT)
Received: by 10.54.94.10 with HTTP; Sat, 10 Sep 2005 09:44:50 -0700 (PDT)
Message-ID: <8a484a78050910094414559ab2@mail.gmail.com>
Date: Sat, 10 Sep 2005 18:44:50 +0200
From: Riccardo Daviddi <rdaviddi@gmail.com>
Reply-To: rdaviddi@gmail.com
To: Lucene Mailing List <java-user@lucene.apache.org>
Subject: How to get a list of field names of one doc?
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_9762_26419846.1126370690933"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_9762_26419846.1126370690933
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hy all,

I need to get a list of pair names-values (in two vector) of each fields a=
=20
doc has, without knowing the names of the fields (an user can call fields a=
s=20
he wants).
Once I get the document by hits.doc(), Document has only a method fields()=
=20
to get an enumeration, but it's not what I want (it's not only the names of=
=20
the fields, it's names and values of the fields all together).
By now I am getting all the fields of an index by the=20
IndexReader.getFieldNames() method and then manually testing if the documen=
t=20
has each field. There is another way to know directly from a document all=
=20
the field names the doc has?

thx
--=20
Riccardo Daviddi
University of Siena - Information Engeneering
rdaviddi@gmail.com

------=_Part_9762_26419846.1126370690933--

From java-user-return-16333-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 10 17:05:03 2005
Return-Path: <java-user-return-16333-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28323 invoked from network); 10 Sep 2005 17:05:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Sep 2005 17:05:02 -0000
Received: (qmail 84228 invoked by uid 500); 10 Sep 2005 17:04:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84201 invoked by uid 500); 10 Sep 2005 17:04:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84188 invoked by uid 99); 10 Sep 2005 17:04:58 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 10 Sep 2005 10:04:58 -0700
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=NO_REAL_NAME,PLING_QUERY,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of dozean@gmx.de designates 213.165.64.20 as permitted sender)
Received: from [213.165.64.20] (HELO mail.gmx.net) (213.165.64.20)
    by apache.org (qpsmtpd/0.29) with SMTP; Sat, 10 Sep 2005 10:05:09 -0700
Received: (qmail 17333 invoked by uid 0); 10 Sep 2005 17:04:54 -0000
Received: from 80.136.195.66 by www28.gmx.net with HTTP;
	Sat, 10 Sep 2005 19:04:54 +0200 (MEST)
Date: Sat, 10 Sep 2005 19:04:54 +0200 (MEST)
From: dozean@gmx.de
To: java-user@lucene.apache.org
MIME-Version: 1.0
References: <c68e3917050909063350b7fe9@mail.gmail.com>
Subject: Re: IndexReader delete doc! delete terms?
X-Priority: 3 (Normal)
X-Authenticated: #9227561
Message-ID: <26533.1126371894@www28.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Ok... 
but can i search in documents which are marked for deletion?

Bye 

> --- Ursprüngliche Nachricht ---
> Von: Yonik Seeley <yseeley@gmail.com>
> An: java-user@lucene.apache.org
> Betreff: Re: IndexReader delete doc! delete terms?
> Datum: Fri, 9 Sep 2005 09:33:38 -0400
> 
> Nope. The IndexReader simply sets a bit in a separate bitvector that marks
> the doc as deleted. All info associated with the document are removed
> after 
> an IndexWriter merges the segment containing that doc with another
> (optimize 
> will merge all segments and hence remove remnants of all deleted docs).
> 
> -Yonik
> Now hiring -- http://tinyurl.com/7m67g
> 
> On 9/9/05, dozean@gmx.de <dozean@gmx.de> wrote:
> > 
> > Hi,
> > 
> > i want to ask, if i delete documents from index with delete(int i)
> > does the IndexReader delete the terms of this document from index??
> > 
> > thanks in forward
> > Bye
> > 
> > --
> > 5 GB Mailbox, 50 FreeSMS http://www.gmx.net/de/go/promail
> > +++ GMX - die erste Adresse für Mail, Message, More +++
> > 
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> > 
> >
> 

-- 
5 GB Mailbox, 50 FreeSMS http://www.gmx.net/de/go/promail
+++ GMX - die erste Adresse für Mail, Message, More +++

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16334-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 10 17:34:20 2005
Return-Path: <java-user-return-16334-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 34272 invoked from network); 10 Sep 2005 17:34:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Sep 2005 17:34:19 -0000
Received: (qmail 3194 invoked by uid 500); 10 Sep 2005 17:34:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3164 invoked by uid 500); 10 Sep 2005 17:34:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3151 invoked by uid 99); 10 Sep 2005 17:34:15 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 10 Sep 2005 10:34:15 -0700
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,HTML_SHORT_LENGTH,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of magawake@gmail.com designates 64.233.184.197 as permitted sender)
Received: from [64.233.184.197] (HELO wproxy.gmail.com) (64.233.184.197)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 10 Sep 2005 10:34:26 -0700
Received: by wproxy.gmail.com with SMTP id 37so1872898wra
        for <java-user@lucene.apache.org>; Sat, 10 Sep 2005 10:34:12 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type;
        b=dzTsCCK/95x77ysRaB/LiBPwyaWTscu+8d0MSXg/fPz8Q7bMci/APk2pmjJYQ6Q+zQGJPGL5pNRcDXhcpEKDoBuzfG/uOZo3NpzNcy/kMSbVjjgy9Kd3mdXI8LrtTUL4z03qrbSRKCMNZosHt/XhHWuXH+cdvcFr6/bE1Ibm+o0=
Received: by 10.54.25.77 with SMTP id 77mr1310680wry;
        Sat, 10 Sep 2005 10:34:12 -0700 (PDT)
Received: by 10.54.132.10 with HTTP; Sat, 10 Sep 2005 10:34:12 -0700 (PDT)
Message-ID: <1cbd6f8305091010344b45841b@mail.gmail.com>
Date: Sat, 10 Sep 2005 13:34:12 -0400
From: Mag Gam <magawake@gmail.com>
Reply-To: magawake@gmail.com
To: java-user@lucene.apache.org
Subject: Lucene and Derby
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_10119_25044098.1126373652680"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_10119_25044098.1126373652680
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Has anyone been able to integrate Lucene with Apache Derby?
I am in need of Full text indexing for my database.

------=_Part_10119_25044098.1126373652680--

From java-user-return-16335-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 10 22:47:51 2005
Return-Path: <java-user-return-16335-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88378 invoked from network); 10 Sep 2005 22:47:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Sep 2005 22:47:51 -0000
Received: (qmail 76038 invoked by uid 500); 10 Sep 2005 22:47:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76003 invoked by uid 500); 10 Sep 2005 22:47:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75989 invoked by uid 99); 10 Sep 2005 22:47:46 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 10 Sep 2005 15:47:46 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [195.41.46.236] (HELO pfepb.post.tele.dk) (195.41.46.236)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 10 Sep 2005 15:47:58 -0700
Received: from [127.0.0.1] (0x503e38ce.ronxx2.adsl-dhcp.tele.dk [80.62.56.206])
	by pfepb.post.tele.dk (Postfix) with ESMTP id 5EAA55EE047
	for <java-user@lucene.apache.org>; Sun, 11 Sep 2005 00:47:43 +0200 (CEST)
Message-ID: <43236289.9060107@nable.dk>
Date: Sun, 11 Sep 2005 00:47:37 +0200
From: Filip Anselm <filip@nable.dk>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Mailing list <java-user@lucene.apache.org>
Subject: How do I avoid reindexing?
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

...well the title says it all

I index some documents - all with the same fields... One of the fields,
"id" is unique for the indexed documents. If i try to index a document
with an id, that is already indexed - the old document should be updated
or replaced with the new document, so that I avoid indexed documents
with the same id. How is the best way to do this?

thanks

- Filip


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16336-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 10 23:24:38 2005
Return-Path: <java-user-return-16336-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91824 invoked from network); 10 Sep 2005 23:24:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Sep 2005 23:24:37 -0000
Received: (qmail 89433 invoked by uid 500); 10 Sep 2005 23:24:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89402 invoked by uid 500); 10 Sep 2005 23:24:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89388 invoked by uid 99); 10 Sep 2005 23:24:33 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 10 Sep 2005 16:24:33 -0700
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=FROM_ENDS_IN_NUMS,HTML_30_40,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of chenjian1227@gmail.com designates 72.14.204.197 as permitted sender)
Received: from [72.14.204.197] (HELO qproxy.gmail.com) (72.14.204.197)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 10 Sep 2005 16:24:44 -0700
Received: by qproxy.gmail.com with SMTP id f9so78076qba
        for <java-user@lucene.apache.org>; Sat, 10 Sep 2005 16:24:30 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=QugDVNbyFy3t3z7OASXK/xioFT1T+WVItMT5ttFjUYxMDN3ndZ9vIr9GqDC23Oe/YuJKglNI+Mhr/CyO0WAqdlGrlf/MpGkmsitvdTuBBNxSdjK2Ra67Qj4Bc+r4SR7+yVKMHEF8JFhipdsgEhXLkoVFF8xx95RruVvDnMYGbhM=
Received: by 10.65.116.14 with SMTP id t14mr8199qbm;
        Sat, 10 Sep 2005 16:24:30 -0700 (PDT)
Received: by 10.65.145.3 with HTTP; Sat, 10 Sep 2005 16:24:30 -0700 (PDT)
Message-ID: <7ca1239105091016247391b6bf@mail.gmail.com>
Date: Sat, 10 Sep 2005 16:24:30 -0700
From: jian chen <chenjian1227@gmail.com>
Reply-To: chenjian1227@gmail.com
To: java-user@lucene.apache.org
Subject: Re: How do I avoid reindexing?
In-Reply-To: <43236289.9060107@nable.dk>
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_2406_3467974.1126394670913"
References: <43236289.9060107@nable.dk>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_2406_3467974.1126394670913
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

delete document with this id and then add document with the same id.

Jian

On 9/10/05, Filip Anselm <filip@nable.dk> wrote:
>=20
> ...well the title says it all
>=20
> I index some documents - all with the same fields... One of the fields,
> "id" is unique for the indexed documents. If i try to index a document
> with an id, that is already indexed - the old document should be updated
> or replaced with the new document, so that I avoid indexed documents
> with the same id. How is the best way to do this?
>=20
> thanks
>=20
> - Filip
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>

------=_Part_2406_3467974.1126394670913--

From java-user-return-16337-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 10 23:45:24 2005
Return-Path: <java-user-return-16337-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93719 invoked from network); 10 Sep 2005 23:45:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 10 Sep 2005 23:45:23 -0000
Received: (qmail 97330 invoked by uid 500); 10 Sep 2005 23:45:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 97302 invoked by uid 500); 10 Sep 2005 23:45:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 97289 invoked by uid 99); 10 Sep 2005 23:45:19 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 10 Sep 2005 16:45:19 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 10 Sep 2005 16:45:30 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 5FC4913E2006; Sat, 10 Sep 2005 19:45:14 -0400 (EDT)
Received: from [172.16.1.101] (va-71-48-138-146.dhcp.sprint-hsd.net [71.48.138.146])
	by ehatchersolutions.com (Postfix) with ESMTP id E7E5313E2005
	for <java-user@lucene.apache.org>; Sat, 10 Sep 2005 19:45:01 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <8a484a78050910094414559ab2@mail.gmail.com>
References: <8a484a78050910094414559ab2@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <F312A40A-C201-43DE-812F-6DB0109504BD@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: How to get a list of field names of one doc?
Date: Sat, 10 Sep 2005 19:45:02 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,AWL,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Riccardo,

I'm not quite understanding the issue with using Document.fields().   
It returns an Enumeration of Field objects, which contain the name  
and the value.  If you only want the name, then only use the name and  
ignore the value.  That seems simple enough, so I must be missing  
what you're asking for.  Please clarify a bit more.

Thanks,
     Erik


On Sep 10, 2005, at 12:44 PM, Riccardo Daviddi wrote:

> Hy all,
>
> I need to get a list of pair names-values (in two vector) of each  
> fields a
> doc has, without knowing the names of the fields (an user can call  
> fields as
> he wants).
> Once I get the document by hits.doc(), Document has only a method  
> fields()
> to get an enumeration, but it's not what I want (it's not only the  
> names of
> the fields, it's names and values of the fields all together).
> By now I am getting all the fields of an index by the
> IndexReader.getFieldNames() method and then manually testing if the  
> document
> has each field. There is another way to know directly from a  
> document all
> the field names the doc has?
>
> thx
> -- 
> Riccardo Daviddi
> University of Siena - Information Engeneering
> rdaviddi@gmail.com
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16338-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Sep 11 09:07:35 2005
Return-Path: <java-user-return-16338-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 96189 invoked from network); 11 Sep 2005 09:07:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Sep 2005 09:07:35 -0000
Received: (qmail 14114 invoked by uid 500); 11 Sep 2005 09:07:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14085 invoked by uid 500); 11 Sep 2005 09:07:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14071 invoked by uid 99); 11 Sep 2005 09:07:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Sep 2005 02:07:30 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [193.229.0.57] (HELO fep06-app.kolumbus.fi) (193.229.0.57)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Sep 2005 02:07:41 -0700
Received: from mikkon4 ([84.230.183.156]) by fep06-app.kolumbus.fi
          with ESMTP
          id <20050911090725.BRJZ27547.fep06-app.kolumbus.fi@mikkon4>
          for <java-user@lucene.apache.org>;
          Sun, 11 Sep 2005 12:07:25 +0300
From: "Mikko Noromaa" <mikko@noromaa.fi>
To: <java-user@lucene.apache.org>
Subject: RE: How do I avoid reindexing?
Date: Sun, 11 Sep 2005 12:07:30 +0300
Message-ID: <182501c5b6b0$3d245de0$162ca8c0@mikkon4>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.6626
In-Reply-To: <7ca1239105091016247391b6bf@mail.gmail.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Importance: Normal
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

> delete document with this id and then add document with the same id.

Yes, this is clearly the way to go. I implemented a similar application
myself. However, earlier I stored my ID as a binary field to save space,
because I only ever needed to read the value from a found document. With =
the
update logic added, I had to store the ID as text so that Lucene can =
search
for the document to delete.

This was annoying because in my application updates are very rare, but =
the
possibility must be there. Storing numbers as text doesn't sound like
something a modern application does.

So, if it hasn't been asked for before, here comes: It would be nice if
Lucene could search by binary fields.

--

Mikko Noromaa (mikko@noromaa.fi) - tel. +358 40 7348034
Noromaa Solutions - see http://www.nm-sol.com/
=20

> -----Original Message-----
> From: jian chen [mailto:chenjian1227@gmail.com]=20
> Sent: Sunday, September 11, 2005 2:24 AM
> To: java-user@lucene.apache.org
> Subject: Re: How do I avoid reindexing?
>=20
>=20
> delete document with this id and then add document with the same id.
>=20
> Jian
>=20
> On 9/10/05, Filip Anselm <filip@nable.dk> wrote:
> >=20
> > ...well the title says it all
> >=20
> > I index some documents - all with the same fields... One of=20
> the fields,
> > "id" is unique for the indexed documents. If i try to index=20
> a document
> > with an id, that is already indexed - the old document=20
> should be updated
> > or replaced with the new document, so that I avoid indexed documents
> > with the same id. How is the best way to do this?
> >=20
> > thanks
> >=20
> > - Filip
> >=20
> >=20
> >=20
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >=20
> >
>=20


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16339-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Sep 11 10:03:54 2005
Return-Path: <java-user-return-16339-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2971 invoked from network); 11 Sep 2005 10:03:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Sep 2005 10:03:54 -0000
Received: (qmail 33655 invoked by uid 500); 11 Sep 2005 10:03:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 33629 invoked by uid 500); 11 Sep 2005 10:03:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 33616 invoked by uid 99); 11 Sep 2005 10:03:48 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Sep 2005 03:03:48 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [195.41.46.237] (HELO pfepc.post.tele.dk) (195.41.46.237)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Sep 2005 03:03:59 -0700
Received: from [127.0.0.1] (0x503e38ce.ronxx2.adsl-dhcp.tele.dk [80.62.56.206])
	by pfepc.post.tele.dk (Postfix) with ESMTP id BE983262837
	for <java-user@lucene.apache.org>; Sun, 11 Sep 2005 12:03:44 +0200 (CEST)
Message-ID: <432400F9.7030609@nable.dk>
Date: Sun, 11 Sep 2005 12:03:37 +0200
From: Filip Anselm <filip@nable.dk>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: How do I avoid reindexing?
References: <182501c5b6b0$3d245de0$162ca8c0@mikkon4>
In-Reply-To: <182501c5b6b0$3d245de0$162ca8c0@mikkon4>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I'm completely new to lucene, but could figure out myself that I need to
delete the old doc and add the new... But as I see it, the only way to
delete a document is to create an implementation of the abstract
IndexReader and use its delete(Term term) method. In my case this sounds
like overkill... - Is there an other way?


Mikko Noromaa wrote:

>Hi,
>
>  
>
>>delete document with this id and then add document with the same id.
>>    
>>
>
>Yes, this is clearly the way to go. I implemented a similar application
>myself. However, earlier I stored my ID as a binary field to save space,
>because I only ever needed to read the value from a found document. With the
>update logic added, I had to store the ID as text so that Lucene can search
>for the document to delete.
>
>This was annoying because in my application updates are very rare, but the
>possibility must be there. Storing numbers as text doesn't sound like
>something a modern application does.
>
>So, if it hasn't been asked for before, here comes: It would be nice if
>Lucene could search by binary fields.
>
>--
>
>Mikko Noromaa (mikko@noromaa.fi) - tel. +358 40 7348034
>Noromaa Solutions - see http://www.nm-sol.com/
> 
>
>  
>
>>-----Original Message-----
>>From: jian chen [mailto:chenjian1227@gmail.com] 
>>Sent: Sunday, September 11, 2005 2:24 AM
>>To: java-user@lucene.apache.org
>>Subject: Re: How do I avoid reindexing?
>>
>>
>>delete document with this id and then add document with the same id.
>>
>>Jian
>>
>>On 9/10/05, Filip Anselm <filip@nable.dk> wrote:
>>    
>>
>>>...well the title says it all
>>>
>>>I index some documents - all with the same fields... One of 
>>>      
>>>
>>the fields,
>>    
>>
>>>"id" is unique for the indexed documents. If i try to index 
>>>      
>>>
>>a document
>>    
>>
>>>with an id, that is already indexed - the old document 
>>>      
>>>
>>should be updated
>>    
>>
>>>or replaced with the new document, so that I avoid indexed documents
>>>with the same id. How is the best way to do this?
>>>
>>>thanks
>>>
>>>- Filip
>>>
>>>
>>>
>>>      
>>>
>>---------------------------------------------------------------------
>>    
>>
>>>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>>For additional commands, e-mail: java-user-help@lucene.apache.org
>>>
>>>
>>>      
>>>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>  
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16340-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Sep 11 10:18:38 2005
Return-Path: <java-user-return-16340-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5199 invoked from network); 11 Sep 2005 10:18:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Sep 2005 10:18:37 -0000
Received: (qmail 48765 invoked by uid 500); 11 Sep 2005 10:18:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47854 invoked by uid 500); 11 Sep 2005 10:18:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47837 invoked by uid 99); 11 Sep 2005 10:18:32 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Sep 2005 03:18:32 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Sep 2005 03:18:43 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id AA7B213E2006; Sun, 11 Sep 2005 06:18:27 -0400 (EDT)
Received: from [172.16.1.101] (va-71-48-138-146.dhcp.sprint-hsd.net [71.48.138.146])
	by ehatchersolutions.com (Postfix) with ESMTP id BAF3613E2005
	for <java-user@lucene.apache.org>; Sun, 11 Sep 2005 06:17:55 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <432400F9.7030609@nable.dk>
References: <182501c5b6b0$3d245de0$162ca8c0@mikkon4> <432400F9.7030609@nable.dk>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <20B926E8-9277-438A-8D32-5394EDDD8A1B@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: How do I avoid reindexing?
Date: Sun, 11 Sep 2005 06:17:54 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Sep 11, 2005, at 6:03 AM, Filip Anselm wrote:

> I'm completely new to lucene, but could figure out myself that I  
> need to
> delete the old doc and add the new... But as I see it, the only way to
> delete a document is to create an implementation of the abstract
> IndexReader and use its delete(Term term) method. In my case this  
> sounds
> like overkill... - Is there an other way?

IndexReader is abstract, but there are some concrete subclasses under  
the covers.  To get an instance, use one of the .open() static  
methods on that class.

     Erik


>
>
> Mikko Noromaa wrote:
>
>
>> Hi,
>>
>>
>>
>>
>>> delete document with this id and then add document with the same id.
>>>
>>>
>>>
>>
>> Yes, this is clearly the way to go. I implemented a similar  
>> application
>> myself. However, earlier I stored my ID as a binary field to save  
>> space,
>> because I only ever needed to read the value from a found  
>> document. With the
>> update logic added, I had to store the ID as text so that Lucene  
>> can search
>> for the document to delete.
>>
>> This was annoying because in my application updates are very rare,  
>> but the
>> possibility must be there. Storing numbers as text doesn't sound like
>> something a modern application does.
>>
>> So, if it hasn't been asked for before, here comes: It would be  
>> nice if
>> Lucene could search by binary fields.
>>
>> --
>>
>> Mikko Noromaa (mikko@noromaa.fi) - tel. +358 40 7348034
>> Noromaa Solutions - see http://www.nm-sol.com/
>>
>>
>>
>>
>>
>>> -----Original Message-----
>>> From: jian chen [mailto:chenjian1227@gmail.com]
>>> Sent: Sunday, September 11, 2005 2:24 AM
>>> To: java-user@lucene.apache.org
>>> Subject: Re: How do I avoid reindexing?
>>>
>>>
>>> delete document with this id and then add document with the same id.
>>>
>>> Jian
>>>
>>> On 9/10/05, Filip Anselm <filip@nable.dk> wrote:
>>>
>>>
>>>
>>>> ...well the title says it all
>>>>
>>>> I index some documents - all with the same fields... One of
>>>>
>>>>
>>>>
>>> the fields,
>>>
>>>
>>>
>>>> "id" is unique for the indexed documents. If i try to index
>>>>
>>>>
>>>>
>>> a document
>>>
>>>
>>>
>>>> with an id, that is already indexed - the old document
>>>>
>>>>
>>>>
>>> should be updated
>>>
>>>
>>>
>>>> or replaced with the new document, so that I avoid indexed  
>>>> documents
>>>> with the same id. How is the best way to do this?
>>>>
>>>> thanks
>>>>
>>>> - Filip
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>
>>> -------------------------------------------------------------------- 
>>> -
>>>
>>>
>>>
>>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>>
>>>>
>>>>
>>>>
>>>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>>
>>
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16341-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Sep 11 15:25:04 2005
Return-Path: <java-user-return-16341-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 61736 invoked from network); 11 Sep 2005 15:25:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Sep 2005 15:25:04 -0000
Received: (qmail 88042 invoked by uid 500); 11 Sep 2005 15:25:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87634 invoked by uid 500); 11 Sep 2005 15:24:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87610 invoked by uid 99); 11 Sep 2005 15:24:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Sep 2005 08:24:58 -0700
X-ASF-Spam-Status: No, hits=3.6 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,MSGID_FROM_MTA_HEADER,RCVD_IN_BL_SPAMCOP_NET,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of fersher@hotmail.com designates 65.54.224.34 as permitted sender)
Received: from [65.54.224.34] (HELO hotmail.com) (65.54.224.34)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Sep 2005 08:25:10 -0700
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Sun, 11 Sep 2005 08:24:56 -0700
Message-ID: <BAY105-F24D7018DD564653FB34F78B29A0@phx.gbl>
Received: from 65.54.224.200 by by105fd.bay105.hotmail.msn.com with HTTP;
	Sun, 11 Sep 2005 15:24:56 GMT
X-Originating-IP: [65.54.224.200]
X-Originating-Email: [fersher@hotmail.com]
X-Sender: fersher@hotmail.com
From: "christopher may" <fersher@hotmail.com>
To: general-help@lucene.apache.org, java-user@lucene.apache.org
Subject: JDE 
Date: Sun, 11 Sep 2005 11:24:56 -0400
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
X-OriginalArrivalTime: 11 Sep 2005 15:24:56.0943 (UTC) FILETIME=[F766B7F0:01C5B6E4]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hey all I am new to this so bear with me. I am looking to put the open 
source app Lucene onto a Blackberry. How can I load the code into 
Blackberry's jde so I can run it on there simulator. As many steps as 
someone could provide would be greatly appreciated. Thanks all



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16342-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Sep 11 18:44:18 2005
Return-Path: <java-user-return-16342-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95420 invoked from network); 11 Sep 2005 18:44:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Sep 2005 18:44:18 -0000
Received: (qmail 96282 invoked by uid 500); 11 Sep 2005 18:44:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96253 invoked by uid 500); 11 Sep 2005 18:44:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96234 invoked by uid 99); 11 Sep 2005 18:44:13 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Sep 2005 11:44:13 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [212.247.154.193] (HELO swip.net) (212.247.154.193)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Sep 2005 11:44:24 -0700
X-T2-Posting-ID: BjP/VPIhrta35NvfgpYBhA==
Received: from [83.72.128.240] (HELO [127.0.0.1])
  by mailfe07.swip.net (CommuniGate Pro SMTP 4.3.4)
  with ESMTP id 257681474 for java-user@lucene.apache.org; Sun, 11 Sep 2005 20:44:08 +0200
Message-ID: <43247AF0.70504@nable.dk>
Date: Sun, 11 Sep 2005 20:44:00 +0200
From: Filip Anselm <filip@nable.dk>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: How do I avoid reindexing?
References: <182501c5b6b0$3d245de0$162ca8c0@mikkon4> <432400F9.7030609@nable.dk> <20B926E8-9277-438A-8D32-5394EDDD8A1B@ehatchersolutions.com>
In-Reply-To: <20B926E8-9277-438A-8D32-5394EDDD8A1B@ehatchersolutions.com>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I haven't had much time to look through the lucene documentation - but
still: How could I miss that! DOH - hehe
Much easier than starting from scratch... ;)

Thanks to all of you!


Erik Hatcher wrote:

>
> On Sep 11, 2005, at 6:03 AM, Filip Anselm wrote:
>
>> I'm completely new to lucene, but could figure out myself that I 
>> need to
>> delete the old doc and add the new... But as I see it, the only way to
>> delete a document is to create an implementation of the abstract
>> IndexReader and use its delete(Term term) method. In my case this 
>> sounds
>> like overkill... - Is there an other way?
>
>
> IndexReader is abstract, but there are some concrete subclasses under 
> the covers.  To get an instance, use one of the .open() static 
> methods on that class.
>
>     Erik
>
>
>>
>>
>> Mikko Noromaa wrote:
>>
>>
>>> Hi,
>>>
>>>
>>>
>>>
>>>> delete document with this id and then add document with the same id.
>>>>
>>>>
>>>>
>>>
>>> Yes, this is clearly the way to go. I implemented a similar 
>>> application
>>> myself. However, earlier I stored my ID as a binary field to save 
>>> space,
>>> because I only ever needed to read the value from a found  document.
>>> With the
>>> update logic added, I had to store the ID as text so that Lucene 
>>> can search
>>> for the document to delete.
>>>
>>> This was annoying because in my application updates are very rare, 
>>> but the
>>> possibility must be there. Storing numbers as text doesn't sound like
>>> something a modern application does.
>>>
>>> So, if it hasn't been asked for before, here comes: It would be 
>>> nice if
>>> Lucene could search by binary fields.
>>>
>>> -- 
>>>
>>> Mikko Noromaa (mikko@noromaa.fi) - tel. +358 40 7348034
>>> Noromaa Solutions - see http://www.nm-sol.com/
>>>
>>>
>>>
>>>
>>>
>>>> -----Original Message-----
>>>> From: jian chen [mailto:chenjian1227@gmail.com]
>>>> Sent: Sunday, September 11, 2005 2:24 AM
>>>> To: java-user@lucene.apache.org
>>>> Subject: Re: How do I avoid reindexing?
>>>>
>>>>
>>>> delete document with this id and then add document with the same id.
>>>>
>>>> Jian
>>>>
>>>> On 9/10/05, Filip Anselm <filip@nable.dk> wrote:
>>>>
>>>>
>>>>
>>>>> ...well the title says it all
>>>>>
>>>>> I index some documents - all with the same fields... One of
>>>>>
>>>>>
>>>>>
>>>> the fields,
>>>>
>>>>
>>>>
>>>>> "id" is unique for the indexed documents. If i try to index
>>>>>
>>>>>
>>>>>
>>>> a document
>>>>
>>>>
>>>>
>>>>> with an id, that is already indexed - the old document
>>>>>
>>>>>
>>>>>
>>>> should be updated
>>>>
>>>>
>>>>
>>>>> or replaced with the new document, so that I avoid indexed  documents
>>>>> with the same id. How is the best way to do this?
>>>>>
>>>>> thanks
>>>>>
>>>>> - Filip
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>> -------------------------------------------------------------------- -
>>>>
>>>>
>>>>
>>>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>
>>>
>>>
>>>
>>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16343-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Sep 11 19:52:58 2005
Return-Path: <java-user-return-16343-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15493 invoked from network); 11 Sep 2005 19:52:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Sep 2005 19:52:58 -0000
Received: (qmail 33451 invoked by uid 500); 11 Sep 2005 19:52:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 33153 invoked by uid 500); 11 Sep 2005 19:52:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 33140 invoked by uid 99); 11 Sep 2005 19:52:52 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Sep 2005 12:52:52 -0700
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=HTML_00_10,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jeff.rodenburg@gmail.com designates 64.233.184.200 as permitted sender)
Received: from [64.233.184.200] (HELO wproxy.gmail.com) (64.233.184.200)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Sep 2005 12:53:04 -0700
Received: by wproxy.gmail.com with SMTP id 71so247498wri
        for <java-user@lucene.apache.org>; Sun, 11 Sep 2005 12:52:50 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type;
        b=tDrz25aC1r+cDhupHzxhQ+QfnlTr/+pBeWDMdf5eoHEHRGKRDAou4VkgXEVloumbe4JZ1HotylcXrTGxtgRgcVYTX4CRiEs+v0r0gn+5T3ik03WeEncSPiap97RYl1coq1F4DhzbzpZ0cezhccW/tr9YmDTBayW68hIWeA6SHss=
Received: by 10.54.51.36 with SMTP id y36mr1171168wry;
        Sun, 11 Sep 2005 12:52:50 -0700 (PDT)
Received: by 10.54.13.32 with HTTP; Sun, 11 Sep 2005 12:52:50 -0700 (PDT)
Message-ID: <50f43336050911125252c72a7f@mail.gmail.com>
Date: Sun, 11 Sep 2005 12:52:50 -0700
From: Jeff Rodenburg <jeff.rodenburg@gmail.com>
Reply-To: jeff.rodenburg@gmail.com
To: java-user@lucene.apache.org
Subject: Version 1.9
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_2629_1196508.1126468370409"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_2629_1196508.1126468370409
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Is there a consensus or estimate on when v1.9 will be considered a stable=
=20
release? I'm prepping a deployment on v1.4.3 but would like an idea of when=
=20
1.9 might be considered stable in the eyes of the community.

-- Jeff Rodenburg

------=_Part_2629_1196508.1126468370409--

From java-user-return-16344-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Sep 11 23:11:27 2005
Return-Path: <java-user-return-16344-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 54149 invoked from network); 11 Sep 2005 23:11:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 11 Sep 2005 23:11:27 -0000
Received: (qmail 56651 invoked by uid 500); 11 Sep 2005 23:11:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 56370 invoked by uid 500); 11 Sep 2005 23:11:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 56357 invoked by uid 99); 11 Sep 2005 23:11:21 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Sep 2005 16:11:21 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 11 Sep 2005 16:11:32 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 7093B13E2007; Sun, 11 Sep 2005 19:11:15 -0400 (EDT)
Received: from [172.16.1.101] (va-71-48-138-146.dhcp.sprint-hsd.net [71.48.138.146])
	by ehatchersolutions.com (Postfix) with ESMTP id AC92113E2006
	for <java-user@lucene.apache.org>; Sun, 11 Sep 2005 19:10:38 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <50f43336050911125252c72a7f@mail.gmail.com>
References: <50f43336050911125252c72a7f@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <65A2C75D-7F14-4800-8A2C-757320024E5F@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Version 1.9
Date: Sun, 11 Sep 2005 19:10:23 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I'm using the trunk of Subversion (pretty much what 1.9 will be) on  
all my projects and it is quite stable.  I defer to the others on  
when we release it as 1.9 officially, though.

I recommend to you, and others that can, to use the trunk codebase in  
your projects.  It will ensure that it gets hammered more and any  
issues ironed out (though it is unlikely you'll encounter any, no  
more so than you would with 1.4.3).

     Erik




On Sep 11, 2005, at 3:52 PM, Jeff Rodenburg wrote:

> Is there a consensus or estimate on when v1.9 will be considered a  
> stable
> release? I'm prepping a deployment on v1.4.3 but would like an idea  
> of when
> 1.9 might be considered stable in the eyes of the community.
>
> -- Jeff Rodenburg
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16345-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 12 08:12:42 2005
Return-Path: <java-user-return-16345-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79796 invoked from network); 12 Sep 2005 08:12:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Sep 2005 08:12:41 -0000
Received: (qmail 72317 invoked by uid 500); 12 Sep 2005 08:12:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 72144 invoked by uid 500); 12 Sep 2005 08:12:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 72131 invoked by uid 99); 12 Sep 2005 08:12:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Sep 2005 01:12:35 -0700
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=NO_REAL_NAME,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of dozean@gmx.de designates 213.165.64.20 as permitted sender)
Received: from [213.165.64.20] (HELO mail.gmx.net) (213.165.64.20)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 12 Sep 2005 01:12:46 -0700
Received: (qmail 5920 invoked by uid 0); 12 Sep 2005 08:12:32 -0000
Received: from 80.136.178.69 by www64.gmx.net with HTTP;
	Mon, 12 Sep 2005 10:12:32 +0200 (MEST)
Date: Mon, 12 Sep 2005 10:12:32 +0200 (MEST)
From: dozean@gmx.de
To: java-user@lucene.apache.org
MIME-Version: 1.0
Subject: Can i search for deleted documents?
X-Priority: 3 (Normal)
X-Authenticated: #9227561
Message-ID: <2539.1126512752@www64.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

can i search for documents which are marked for deletion?
And if a document is marked for deletion, are the terms 
which are only in this document (and indexed) marked for
deletion too?


Bye Derya

-- 
Lust, ein paar Euro nebenbei zu verdienen? Ohne Kosten, ohne Risiko!
Satte Provisionen für GMX Partner: http://www.gmx.net/de/go/partner

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16346-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 12 12:03:59 2005
Return-Path: <java-user-return-16346-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 66356 invoked from network); 12 Sep 2005 12:03:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Sep 2005 12:03:59 -0000
Received: (qmail 91113 invoked by uid 500); 12 Sep 2005 12:03:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91004 invoked by uid 500); 12 Sep 2005 12:03:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 90962 invoked by uid 99); 12 Sep 2005 12:03:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Sep 2005 05:03:48 -0700
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_30_40,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of rdaviddi@gmail.com designates 64.233.184.199 as permitted sender)
Received: from [64.233.184.199] (HELO wproxy.gmail.com) (64.233.184.199)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Sep 2005 05:03:59 -0700
Received: by wproxy.gmail.com with SMTP id 37so2101498wra
        for <java-user@lucene.apache.org>; Mon, 12 Sep 2005 05:03:46 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=jUQjBxdiV+Z4ckw/Nhscl+DHaA2C0thoULjedQcTH3WZptNRd09MpnNAtSUc8nOoRp5wQSKwuMvTqDvcu+QjfMjIXTWbWvZmEBxdT19aB2wUV39crh/ffGyWDoG2wO/O2jLeetFev3nDjK9yeGgbYZy6fabVj+DhFcfsb7jMUlU=
Received: by 10.54.65.15 with SMTP id n15mr2559859wra;
        Mon, 12 Sep 2005 05:03:46 -0700 (PDT)
Received: by 10.54.94.10 with HTTP; Mon, 12 Sep 2005 05:03:45 -0700 (PDT)
Message-ID: <8a484a7805091205035a6fb4cc@mail.gmail.com>
Date: Mon, 12 Sep 2005 14:03:45 +0200
From: Riccardo Daviddi <rdaviddi@gmail.com>
Reply-To: rdaviddi@gmail.com
To: java-user@lucene.apache.org
Subject: Re: How to get a list of field names of one doc?
In-Reply-To: <F312A40A-C201-43DE-812F-6DB0109504BD@ehatchersolutions.com>
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_16513_28412796.1126526625683"
References: <8a484a78050910094414559ab2@mail.gmail.com>
	 <F312A40A-C201-43DE-812F-6DB0109504BD@ehatchersolutions.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_16513_28412796.1126526625683
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

No Erik, thx to you!

I am sorry, I didn't understand that the enumeration was od Field type.
Now all it works.

Thank you again!

On 9/11/05, Erik Hatcher <erik@ehatchersolutions.com> wrote:
>=20
> Riccardo,
>=20
> I'm not quite understanding the issue with using Document.fields().
> It returns an Enumeration of Field objects, which contain the name
> and the value. If you only want the name, then only use the name and
> ignore the value. That seems simple enough, so I must be missing
> what you're asking for. Please clarify a bit more.
>=20
> Thanks,
> Erik
>=20
>=20
> On Sep 10, 2005, at 12:44 PM, Riccardo Daviddi wrote:
>=20
> > Hy all,
> >
> > I need to get a list of pair names-values (in two vector) of each
> > fields a
> > doc has, without knowing the names of the fields (an user can call
> > fields as
> > he wants).
> > Once I get the document by hits.doc(), Document has only a method
> > fields()
> > to get an enumeration, but it's not what I want (it's not only the
> > names of
> > the fields, it's names and values of the fields all together).
> > By now I am getting all the fields of an index by the
> > IndexReader.getFieldNames() method and then manually testing if the
> > document
> > has each field. There is another way to know directly from a
> > document all
> > the field names the doc has?
> >
> > thx
> > --
> > Riccardo Daviddi
> > University of Siena - Information Engeneering
> > rdaviddi@gmail.com
> >
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>=20


--=20
Riccardo Daviddi
University of Siena - Information Engeneering
rdaviddi@gmail.com

------=_Part_16513_28412796.1126526625683--

From java-user-return-16347-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 12 15:51:12 2005
Return-Path: <java-user-return-16347-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60702 invoked from network); 12 Sep 2005 15:51:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Sep 2005 15:51:12 -0000
Received: (qmail 48074 invoked by uid 500); 12 Sep 2005 15:51:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 48023 invoked by uid 500); 12 Sep 2005 15:51:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 48009 invoked by uid 99); 12 Sep 2005 15:51:06 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Sep 2005 08:51:06 -0700
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=HTML_MESSAGE,NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [65.207.58.136] (HELO mail2.mailrooter.com) (65.207.58.136)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 12 Sep 2005 08:51:17 -0700
Received: from FEI0018M030.hq.ferg.com ([172.16.105.19])
 by mail2.mailrooter.com (SMSSMTP 4.1.9.35) with SMTP id M2005091211503403503
 for <java-user@lucene.apache.org>; Mon, 12 Sep 2005 11:50:34 -0400
Received: from fei0018m001.hq.ferg.com ([172.16.105.14]) by FEI0018M030.hq.ferg.com with Microsoft SMTPSVC(6.0.3790.211);
	 Mon, 12 Sep 2005 11:51:19 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C5B7B1.ABD52354"
Subject: PDFBox PDFExtractor
Date: Mon, 12 Sep 2005 11:50:16 -0400
Message-ID: <8C60F95D154DD34AA3AD319A5A093D8402718244@fei0018m001.hq.ferg.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: PDFBox PDFExtractor
Thread-Index: AcW3sczCtuEsb8lnRlSs/+YImW0mFQ==
From: <Rod.Madden@ferguson.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 12 Sep 2005 15:51:19.0721 (UTC) FILETIME=[D1393990:01C5B7B1]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C5B7B1.ABD52354
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi,

=20

I am new to Lucene and looking at some existing Lucene code....

=20

I am confused about the relationship ( if any ) between=20

org.apache.slide.extractor.PDFExtractor methods and org.PDFBox.cos
methods

for the purposes of working with PDF files.

=20

I have found info on the web regarding PDFBox, however, I have found
little

regarding .PDFExtractor.

=20

I am curious since we are having some issues with indexing PDF files and

I am wondering if PDFExtractor implements PDFBox or if it is a separate=20

utility set.

=20

Rod.

=20


------_=_NextPart_001_01C5B7B1.ABD52354--

From java-user-return-16348-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 12 15:58:09 2005
Return-Path: <java-user-return-16348-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 63189 invoked from network); 12 Sep 2005 15:58:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Sep 2005 15:58:09 -0000
Received: (qmail 70109 invoked by uid 500); 12 Sep 2005 15:58:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70091 invoked by uid 500); 12 Sep 2005 15:58:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 70077 invoked by uid 99); 12 Sep 2005 15:58:03 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Sep 2005 08:58:02 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [213.133.33.30] (HELO mailrelay.is.nl) (213.133.33.30)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Sep 2005 08:58:14 -0700
Received: from [213.133.51.241] (HELO hai01.hippo.local)
  by mailrelay.is.nl (CommuniGate Pro SMTP 4.3.5)
  with ESMTP id 5369630 for java-user@lucene.apache.org; Mon, 12 Sep 2005 17:59:07 +0200
Received: from [10.10.100.205] ([10.10.100.205]) by hai01.hippo.local with Microsoft SMTPSVC(5.0.2195.6713);
	 Mon, 12 Sep 2005 17:58:00 +0200
Message-ID: <4325A588.8000900@hippo.nl>
Date: Mon, 12 Sep 2005 17:58:00 +0200
From: Jeroen Reijn <j.reijn@hippo.nl>
Reply-To:  j.reijn@hippo.nl
Organization: Hippo
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: PDFBox PDFExtractor
References: <8C60F95D154DD34AA3AD319A5A093D8402718244@fei0018m001.hq.ferg.com>
In-Reply-To: <8C60F95D154DD34AA3AD319A5A093D8402718244@fei0018m001.hq.ferg.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 12 Sep 2005 15:58:00.0760 (UTC) FILETIME=[C042EB80:01C5B7B2]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Rod,

PDFBox is a seperate project. The PDFExtractor in Jakarta Slide uses PDFBox's 
functionality to extract the information from the .pdf file.

Hope this answers your question.

Jeroen


Rod.Madden@ferguson.com wrote:
> Hi,
> 
>  
> 
> I am new to Lucene and looking at some existing Lucene code....
> 
>  
> 
> I am confused about the relationship ( if any ) between 
> 
> org.apache.slide.extractor.PDFExtractor methods and org.PDFBox.cos
> methods
> 
> for the purposes of working with PDF files.
> 
>  
> 
> I have found info on the web regarding PDFBox, however, I have found
> little
> 
> regarding .PDFExtractor.
> 
>  
> 
> I am curious since we are having some issues with indexing PDF files and
> 
> I am wondering if PDFExtractor implements PDFBox or if it is a separate 
> 
> utility set.
> 
>  
> 
> Rod.
> 
>  
> 
> 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16349-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 12 16:07:47 2005
Return-Path: <java-user-return-16349-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 66664 invoked from network); 12 Sep 2005 16:07:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Sep 2005 16:07:46 -0000
Received: (qmail 94992 invoked by uid 500); 12 Sep 2005 16:07:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 94971 invoked by uid 500); 12 Sep 2005 16:07:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 94958 invoked by uid 99); 12 Sep 2005 16:07:38 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Sep 2005 09:07:38 -0700
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [65.207.58.136] (HELO mail2.mailrooter.com) (65.207.58.136)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 12 Sep 2005 09:07:50 -0700
Received: from FEI0018M030.hq.ferg.com ([172.16.105.19])
 by mail2.mailrooter.com (SMSSMTP 4.1.9.35) with SMTP id M2005091212070805576
 for <java-user@lucene.apache.org>; Mon, 12 Sep 2005 12:07:08 -0400
Received: from fei0018m001.hq.ferg.com ([172.16.105.14]) by FEI0018M030.hq.ferg.com with Microsoft SMTPSVC(6.0.3790.211);
	 Mon, 12 Sep 2005 12:07:54 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: PDFBox PDFExtractor
Date: Mon, 12 Sep 2005 12:06:50 -0400
Message-ID: <8C60F95D154DD34AA3AD319A5A093D8402718245@fei0018m001.hq.ferg.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: PDFBox PDFExtractor
Thread-Index: AcW3sqksbrPHzEhpR+qGRnilPp6zqwAAQ9OA
From: <Rod.Madden@ferguson.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 12 Sep 2005 16:07:54.0485 (UTC) FILETIME=[22262A50:01C5B7B4]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks for reply Jeroen ...does anyone have any
experience / comments regarding the use of PDFTextStream
versus PDFExtractor for working with PDF files ...the
issue for us is that there appears to be very high
memory usage when we work with PDF's using PDFExtractor.

I have heard that PDFTextStream may be a better solution.

Rod

-----Original Message-----
From: Jeroen Reijn [mailto:j.reijn@hippo.nl]=20
Sent: Monday, September 12, 2005 11:58 AM
To: java-user@lucene.apache.org
Subject: Re: PDFBox PDFExtractor

Hi Rod,

PDFBox is a seperate project. The PDFExtractor in Jakarta Slide uses
PDFBox's=20
functionality to extract the information from the .pdf file.

Hope this answers your question.

Jeroen


Rod.Madden@ferguson.com wrote:
> Hi,
>=20
> =20
>=20
> I am new to Lucene and looking at some existing Lucene code....
>=20
> =20
>=20
> I am confused about the relationship ( if any ) between=20
>=20
> org.apache.slide.extractor.PDFExtractor methods and org.PDFBox.cos
> methods
>=20
> for the purposes of working with PDF files.
>=20
> =20
>=20
> I have found info on the web regarding PDFBox, however, I have found
> little
>=20
> regarding .PDFExtractor.
>=20
> =20
>=20
> I am curious since we are having some issues with indexing PDF files
and
>=20
> I am wondering if PDFExtractor implements PDFBox or if it is a
separate=20
>=20
> utility set.
>=20
> =20
>=20
> Rod.
>=20
> =20
>=20
>=20

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16350-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 12 16:34:10 2005
Return-Path: <java-user-return-16350-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 76175 invoked from network); 12 Sep 2005 16:34:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Sep 2005 16:34:10 -0000
Received: (qmail 76340 invoked by uid 500); 12 Sep 2005 16:33:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76281 invoked by uid 500); 12 Sep 2005 16:33:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76236 invoked by uid 99); 12 Sep 2005 16:33:51 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Sep 2005 09:33:51 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of ben@csh.rit.edu designates 129.21.60.6 as permitted sender)
Received: from [129.21.60.6] (HELO blacksheep.csh.rit.edu) (129.21.60.6)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Sep 2005 09:34:01 -0700
Received: from fury.csh.rit.edu (fury.csh.rit.edu [IPv6:2001:470:1f00:135:a00:20ff:fe8d:5399])
	by blacksheep.csh.rit.edu (Postfix) with ESMTP id 475C924AA
	for <java-user@lucene.apache.org>; Mon, 12 Sep 2005 12:33:48 -0400 (EDT)
Received: by fury.csh.rit.edu (Postfix, from userid 38448)
	id 01A6F1554; Mon, 12 Sep 2005 12:33:47 -0400 (EDT)
Received: from localhost (localhost [127.0.0.1])
	by fury.csh.rit.edu (Postfix) with ESMTP id D227B1542
	for <java-user@lucene.apache.org>; Mon, 12 Sep 2005 12:33:47 -0400 (EDT)
Date: Mon, 12 Sep 2005 12:33:47 -0400 (EDT)
From: Ben Litchfield <ben@csh.rit.edu>
To: java-user@lucene.apache.org
Subject: RE: PDFBox PDFExtractor
In-Reply-To: <8C60F95D154DD34AA3AD319A5A093D8402718245@fei0018m001.hq.ferg.com>
Message-ID: <Pine.GSO.4.53.0509121217280.28379@fury.csh.rit.edu>
References: <8C60F95D154DD34AA3AD319A5A093D8402718245@fei0018m001.hq.ferg.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Text extraction from PDF documents is a fairly complex problem and is a
delicate balance between speed/memory/accuracy/...

How are you measuring your memory usage?

In my opinion your two viable options are PDFBox(directly or via slides
PDFExtractor) and PDFTextStream.  They both integrate with lucene fairly
easily.

I highly suggest you do some tests against your own set of PDF documents.
A new version of PDFBox was released this weekend and does have some
improvements in terms of speed and memory.

Ben Litchfield
PDFBox
http://www.pdfbox.org/


On Mon, 12 Sep 2005 Rod.Madden@ferguson.com wrote:

> Thanks for reply Jeroen ...does anyone have any
> experience / comments regarding the use of PDFTextStream
> versus PDFExtractor for working with PDF files ...the
> issue for us is that there appears to be very high
> memory usage when we work with PDF's using PDFExtractor.
>
> I have heard that PDFTextStream may be a better solution.
>
> Rod
>
> -----Original Message-----
> From: Jeroen Reijn [mailto:j.reijn@hippo.nl]
> Sent: Monday, September 12, 2005 11:58 AM
> To: java-user@lucene.apache.org
> Subject: Re: PDFBox PDFExtractor
>
> Hi Rod,
>
> PDFBox is a seperate project. The PDFExtractor in Jakarta Slide uses
> PDFBox's
> functionality to extract the information from the .pdf file.
>
> Hope this answers your question.
>
> Jeroen
>
>
> Rod.Madden@ferguson.com wrote:
> > Hi,
> >
> >
> >
> > I am new to Lucene and looking at some existing Lucene code....
> >
> >
> >
> > I am confused about the relationship ( if any ) between
> >
> > org.apache.slide.extractor.PDFExtractor methods and org.PDFBox.cos
> > methods
> >
> > for the purposes of working with PDF files.
> >
> >
> >
> > I have found info on the web regarding PDFBox, however, I have found
> > little
> >
> > regarding .PDFExtractor.
> >
> >
> >
> > I am curious since we are having some issues with indexing PDF files
> and
> >
> > I am wondering if PDFExtractor implements PDFBox or if it is a
> separate
> >
> > utility set.
> >
> >
> >
> > Rod.
> >
> >
> >
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16351-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 12 18:04:50 2005
Return-Path: <java-user-return-16351-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22161 invoked from network); 12 Sep 2005 18:04:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Sep 2005 18:04:49 -0000
Received: (qmail 6709 invoked by uid 500); 12 Sep 2005 18:04:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6629 invoked by uid 500); 12 Sep 2005 18:04:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6616 invoked by uid 99); 12 Sep 2005 18:04:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Sep 2005 11:04:44 -0700
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FROM_ENDS_IN_NUMS,FROM_HAS_ULINE_NUMS,HTML_30_40,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.163.178.111] (HELO web34113.mail.mud.yahoo.com) (66.163.178.111)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 12 Sep 2005 11:04:54 -0700
Received: (qmail 9278 invoked by uid 60001); 12 Sep 2005 18:04:41 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=iGdwSgpe56cT9KFFljuusx2aIUdW8C2oOsSHqbSZCecOR2IrstYrjqFXNaulvBRmhwi4C75Bjs1yfx5Q5YuT+y8PRKzxxEAeXd34DqrmrvVWjmQUIKqYfxW6cDpFkky0Ye03N00mQhGTya0VV31c9h6ejy+xNzAwDKaHYDzdIUI=  ;
Message-ID: <20050912180441.9276.qmail@web34113.mail.mud.yahoo.com>
Received: from [65.205.199.122] by web34113.mail.mud.yahoo.com via HTTP; Mon, 12 Sep 2005 11:04:41 PDT
Date: Mon, 12 Sep 2005 11:04:41 -0700 (PDT)
From: John Smith <john_smith9910@yahoo.com>
Subject: ParallelReader and Date Filter
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-432959543-1126548281=:8156"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-432959543-1126548281=:8156
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Hi, 
 
I have Lucene 1.4.3 codebase and I got Parallel Reader from the trunk along with a few changes that need to go on top of it to make it compile.
 
II have 2 indexes, against which I am querying using the Parallel Reader. Most of my queries work great. Thanks for the great work on this feature.
 
One index has only content and the other index has dates and basically all the information related to the document.
 
 I have two questions.  
Question 1: 

========
When I use a date filter (using the DateFilter.java) in my query, then it seems to hang. Has anyone faced an issue with using DateFilter  and Parallel Reader. 
 
On further debugging, I found it seems to continously go through this piece of code in FSDirectory: FSInputStream.clone method continously.
  public Object clone() {
      FSInputStream clone = (FSInputStream)super.clone();
      clone.isClone = true;
    return clone;
  }

This seems to be the code path taken...

        at org.apache.lucene.store.FSInputStream.clone(FSDirectory.java)
        at org.apache.lucene.index.SegmentTermEnum.clone(SegmentTermEnum.java)
        at org.apache.lucene.index.TermInfosReader.terms(TermInfosReader.java)
        at org.apache.lucene.index.SegmentReader.terms(SegmentReader.java)
        at org.apache.lucene.index.ParallelReader$ParallelTermEnum.next(ParallelReader.java)
        at org.apache.lucene.search.DateFilter.bitsForField(DateFilter.java:)
        at org.apache.lucene.search.DateFilter.bits(DateFilter.java)
                
First of all, is it a good idea to get all the code from the trunk, instead of just pieces to make ParallelReader work or is there a bug which I can just fix and move on with the existing code ?
 
Question 2:
==========
My index 2 is expected to be dynamic, meaning will be deleted and reindexed often. Will this not change the Doc ids? My understanding is, Parallel reader expects doc id (Lucene internal) to be the same for it to query against these 2 indexes and return results appropriately. Is my understanding wrong?
 
Appreciate any help in this respect.
 
Thank you
JS


		
---------------------------------
Yahoo! for Good
 Click here to donate to the Hurricane Katrina relief effort. 
--0-432959543-1126548281=:8156--

From java-user-return-16352-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 12 18:07:34 2005
Return-Path: <java-user-return-16352-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25816 invoked from network); 12 Sep 2005 18:07:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Sep 2005 18:07:34 -0000
Received: (qmail 10745 invoked by uid 500); 12 Sep 2005 18:07:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10503 invoked by uid 500); 12 Sep 2005 18:07:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10490 invoked by uid 99); 12 Sep 2005 18:07:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Sep 2005 11:07:28 -0700
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=HTML_30_40,HTML_MESSAGE,PLING_QUERY,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.170.206 as permitted sender)
Received: from [64.233.170.206] (HELO rproxy.gmail.com) (64.233.170.206)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Sep 2005 11:07:39 -0700
Received: by rproxy.gmail.com with SMTP id g11so384542rne
        for <java-user@lucene.apache.org>; Mon, 12 Sep 2005 11:07:26 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=Kc2y20F25bM92b0aw/95Q2K4XLPIoHPvF+X15Hc8a+p3rBedJNUv1anpXZkdOjJpctIjyd5WtDfY3N3952BobP42cw5vz2/6kRHshwwIMFeUw5DNGpcBA1rMdFMw7xbkM4nS+Is6olwzz5bA+jYcbc1qrEr492KLtihJ4HoDKJE=
Received: by 10.38.24.69 with SMTP id 69mr361684rnx;
        Mon, 12 Sep 2005 11:07:26 -0700 (PDT)
Received: by 10.38.12.25 with HTTP; Mon, 12 Sep 2005 11:07:26 -0700 (PDT)
Message-ID: <c68e391705091211075dd4f9dc@mail.gmail.com>
Date: Mon, 12 Sep 2005 14:07:26 -0400
From: Yonik Seeley <yseeley@gmail.com>
Reply-To: yseeley@gmail.com
To: java-user@lucene.apache.org
Subject: Re: IndexReader delete doc! delete terms?
In-Reply-To: <26533.1126371894@www28.gmx.net>
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_4011_15045851.1126548446220"
References: <c68e3917050909063350b7fe9@mail.gmail.com>
	 <26533.1126371894@www28.gmx.net>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_4011_15045851.1126548446220
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

In general, no.

AFAIK, You can still find terms for documents that have been deleted, but=
=20
the lowest level API for getting documents for that term (TermDocs) checks=
=20
for deletions.

Maybe you can get what you want by keeping your own deleted-docs bit vector=
.

-Yonik
Now hiring -- http://tinyurl.com/7m67g


On 9/10/05, dozean@gmx.de <dozean@gmx.de> wrote:
>=20
> Ok...
> but can i search in documents which are marked for deletion?
>=20
> Bye
>=20
> > --- Urspr=FCngliche Nachricht ---
> > Von: Yonik Seeley <yseeley@gmail.com>
> > An: java-user@lucene.apache.org
> > Betreff: Re: IndexReader delete doc! delete terms?
> > Datum: Fri, 9 Sep 2005 09:33:38 -0400
> >
> > Nope. The IndexReader simply sets a bit in a separate bitvector that=20
> marks
> > the doc as deleted. All info associated with the document are removed
> > after
> > an IndexWriter merges the segment containing that doc with another
> > (optimize
> > will merge all segments and hence remove remnants of all deleted docs).
> >
> > -Yonik
> > Now hiring -- http://tinyurl.com/7m67g
> >
> > On 9/9/05, dozean@gmx.de <dozean@gmx.de> wrote:
> > >
> > > Hi,
> > >
> > > i want to ask, if i delete documents from index with delete(int i)
> > > does the IndexReader delete the terms of this document from index??
> > >
> > > thanks in forward
> > > Bye
> > >
> > > --
> > > 5 GB Mailbox, 50 FreeSMS http://www.gmx.net/de/go/promail
> > > +++ GMX - die erste Adresse f=FCr Mail, Message, More +++
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > For additional commands, e-mail: java-user-help@lucene.apache.org
> > >
> > >
> >
>=20
> --
> 5 GB Mailbox, 50 FreeSMS http://www.gmx.net/de/go/promail
> +++ GMX - die erste Adresse f=FCr Mail, Message, More +++
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>

------=_Part_4011_15045851.1126548446220--

From java-user-return-16353-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 12 20:46:17 2005
Return-Path: <java-user-return-16353-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17045 invoked from network); 12 Sep 2005 20:46:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Sep 2005 20:46:17 -0000
Received: (qmail 15364 invoked by uid 500); 12 Sep 2005 20:46:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 15059 invoked by uid 500); 12 Sep 2005 20:46:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 15046 invoked by uid 99); 12 Sep 2005 20:46:10 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Sep 2005 13:46:10 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Sep 2005 13:46:21 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 6863613E2006; Mon, 12 Sep 2005 16:46:06 -0400 (EDT)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 80C2913E2005
	for <java-user@lucene.apache.org>; Mon, 12 Sep 2005 16:45:48 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <20050912180441.9276.qmail@web34113.mail.mud.yahoo.com>
References: <20050912180441.9276.qmail@web34113.mail.mud.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <440B8EB6-EFD5-4802-93B1-81F60FDA817A@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: ParallelReader and Date Filter
Date: Mon, 12 Sep 2005 16:45:44 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-3.1 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Sep 12, 2005, at 2:04 PM, John Smith wrote:
> I have Lucene 1.4.3 codebase and I got Parallel Reader from the  
> trunk along with a few changes that need to go on top of it to make  
> it compile.

I highly recommend you simply compile the trunk and use it instead of  
trying to patch these classes onto 1.4.3.  There have been numerous  
core changes and you may very well have something out of sync even if  
things do compile successfully.

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16354-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 12 20:46:42 2005
Return-Path: <java-user-return-16354-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17397 invoked from network); 12 Sep 2005 20:46:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Sep 2005 20:46:42 -0000
Received: (qmail 16455 invoked by uid 500); 12 Sep 2005 20:46:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16428 invoked by uid 500); 12 Sep 2005 20:46:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 16415 invoked by uid 99); 12 Sep 2005 20:46:37 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Sep 2005 13:46:37 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.160.230.40] (HELO mout.perfora.net) (217.160.230.40)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Sep 2005 13:46:48 -0700
Received: from [59.93.66.181] (helo=[59.93.66.181])
	by mrelay.perfora.net with ESMTP (Nemesis),
	id 0MKp2t-1EEvCC3AtH-0002mZ; Mon, 12 Sep 2005 16:46:32 -0400
Message-ID: <4325E92E.4040707@insideview.com>
Date: Tue, 13 Sep 2005 02:16:38 +0530
From: Harini Raghavan <harini.raghavan@insideview.com>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Stale NFS file handle Exception
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Provags-ID: perfora.net abuse@perfora.net login:9759476ad67fa08aca5d9352c82c69ea
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi All,
I have 2 servers in the production environment, one running some Quartz 
jobs and the other one running the application. There is a common NFS 
mount which has the lucene index directory. The jobs fetch the latest 
data and update the lucene index. And the user can search on the index 
to retrieve documents. When I search on the index on nfs while the jobs 
are being run, I get the following exception :
 
 java.io.IOException: Stale NFS file handle
  at java.io.RandomAccessFile.readBytes(Native Method)
  at java.io.RandomAccessFile.read(RandomAccessFile.java:315)
  at 
org.apache.lucene.store.FSInputStream.readInternal(FSDirectory.java:420)
  at org.apache.lucene.store.InputStream.readBytes(InputStream.java:61)
  at 
org.apache.lucene.index.CompoundFileReader$CSInputStream.readInternal(CompoundFileReader.java:220)
  at org.apache.lucene.store.InputStream.refill(InputStream.java:158)
  at org.apache.lucene.store.InputStream.readByte(InputStream.java:43)
  at org.apache.lucene.store.InputStream.readVInt(InputStream.java:83)
  at 
org.apache.lucene.index.SegmentTermEnum.readTerm(SegmentTermEnum.java:142)
  at org.apache.lucene.index.SegmentTermEnum.next(SegmentTermEnum.java:115)
  at 
org.apache.lucene.index.TermInfosReader.scanEnum(TermInfosReader.java:143)
  at org.apache.lucene.index.TermInfosReader.get(TermInfosReader.java:137)
  at org.apache.lucene.index.SegmentTermDocs.seek(SegmentTermDocs.java:51)
  at org.apache.lucene.index.MultiTermDocs.termDocs(MultiReader.java:409)
  at org.apache.lucene.index.MultiTermDocs.read(MultiReader.java:377)

Can I have the index directory on a common nfs mount? Does lucene 
support this?
Any help would be greatly appreciated.
Thank you,
Harini


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16355-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 12 20:47:20 2005
Return-Path: <java-user-return-16355-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17591 invoked from network); 12 Sep 2005 20:47:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Sep 2005 20:47:20 -0000
Received: (qmail 17712 invoked by uid 500); 12 Sep 2005 20:47:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17687 invoked by uid 500); 12 Sep 2005 20:47:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17674 invoked by uid 99); 12 Sep 2005 20:47:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Sep 2005 13:47:14 -0700
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_30_40,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of legolas.w@gmail.com designates 64.233.184.196 as permitted sender)
Received: from [64.233.184.196] (HELO wproxy.gmail.com) (64.233.184.196)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Sep 2005 13:47:24 -0700
Received: by wproxy.gmail.com with SMTP id 70so1919410wra
        for <java-user@lucene.apache.org>; Mon, 12 Sep 2005 13:47:10 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type;
        b=qyRJ3VAI8BkgXC/fwaWjejd7BYNNrj8/pDz+CCivExgvNh9Y8ilhQp4ggQQhIhUs1PY5ujpFrSwIT7kYfkbpr5cEwHGJ4V96pnEVLtZPRrWVhfNuwqNt9cz0nAyMjuX64hdnHZdHYjbMF1AfArqj1mI59JhkwACjg7tJ3I/eP4o=
Received: by 10.54.76.11 with SMTP id y11mr2921585wra;
        Mon, 12 Sep 2005 13:47:10 -0700 (PDT)
Received: by 10.54.98.11 with HTTP; Mon, 12 Sep 2005 13:47:10 -0700 (PDT)
Message-ID: <87ee9b170509121347788a6863@mail.gmail.com>
Date: Tue, 13 Sep 2005 01:17:10 +0430
From: Legolas Woodland <legolas.w@gmail.com>
Reply-To: legolas.w@gmail.com
To: java-user@lucene.apache.org
Subject: where i can find architectural documents about Lucene and Nutch
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_10026_7108021.1126558030223"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_10026_7108021.1126558030223
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi
Thank you in advance
Can some one help me about finding some documents about lucene and Nutch=20
architecture and "how it works"
also what are the algorithms used in Lucene indexing and everything about=
=20
under laying system of lucene and Nutch
 Thank you

------=_Part_10026_7108021.1126558030223--

From java-user-return-16356-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 12 20:58:36 2005
Return-Path: <java-user-return-16356-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 21511 invoked from network); 12 Sep 2005 20:58:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Sep 2005 20:58:36 -0000
Received: (qmail 31609 invoked by uid 500); 12 Sep 2005 20:58:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31589 invoked by uid 500); 12 Sep 2005 20:58:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31576 invoked by uid 99); 12 Sep 2005 20:58:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Sep 2005 13:58:30 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [216.176.57.91] (HELO mail.bayt.net) (216.176.57.91)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Sep 2005 13:58:36 -0700
Received: from [192.168.0.2] [217.165.31.234] by mail.bayt.net with ESMTP
  (SMTPD32-8.15) id AEDF258400E2; Mon, 12 Sep 2005 17:10:55 -0400
Message-ID: <4325EBE2.1080402@bayt.net>
Date: Tue, 13 Sep 2005 00:58:10 +0400
From: Nader Henein <nsh@bayt.net>
Reply-To:  nsh@bayt.net
Organization: Bayt.com
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: where i can find architectural documents about Lucene and Nutch
References: <87ee9b170509121347788a6863@mail.gmail.com>
In-Reply-To: <87ee9b170509121347788a6863@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Declude-Sender: nsh@bayt.net [192.168.0.2]
X-Declude-Spoolname: Deede258400e2f311.SMD
X-Declude-Note: Scanned by Declude 1.82 (http://www.declude.com/x-note.htm) for spam.
X-Declude-Scan: Score [0] at 17:10:56 on 12 Sep 2005
X-Declude-Tests: Whitelisted
X-Country-Chain: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

The Lucene wiki should be a good kick-off

http://wiki.apache.org/jakarta-lucene/FrontPage?action=show&redirect=FrontPageEN

Nader Henein

Legolas Woodland wrote:

>Hi
>Thank you in advance
>Can some one help me about finding some documents about lucene and Nutch 
>architecture and "how it works"
>also what are the algorithms used in Lucene indexing and everything about 
>under laying system of lucene and Nutch
> Thank you
>
>  
>

-- 
Nader S. Henein
Senior Applications Developer

Bayt.com


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16357-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 12 21:11:47 2005
Return-Path: <java-user-return-16357-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25442 invoked from network); 12 Sep 2005 21:11:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 12 Sep 2005 21:11:46 -0000
Received: (qmail 46000 invoked by uid 500); 12 Sep 2005 21:11:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45980 invoked by uid 500); 12 Sep 2005 21:11:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45965 invoked by uid 99); 12 Sep 2005 21:11:40 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 12 Sep 2005 14:11:40 -0700
X-ASF-Spam-Status: No, hits=1.8 required=10.0
	tests=DNS_FROM_RFC_ABUSE,FROM_ENDS_IN_NUMS,FROM_HAS_ULINE_NUMS,HTML_20_30,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.163.178.109] (HELO web34111.mail.mud.yahoo.com) (66.163.178.109)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 12 Sep 2005 14:11:51 -0700
Received: (qmail 60711 invoked by uid 60001); 12 Sep 2005 21:11:33 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=YBzkZ0NBaaS07H/9Pedj67onzRC3xY+V8HLmmPT2nA0Kyx731RTGCi9QCxSggAsndnq1zvq507B2oTbG16FTP2XnCDfgI0FQQ1PA2pT90a6OceEv/kNblZHVP9nL/kfs/QOqh8etLcNa5KSEoaDhgcDlSsRPzRBY+M8Bcy3+vh8=  ;
Message-ID: <20050912211133.60709.qmail@web34111.mail.mud.yahoo.com>
Received: from [65.205.199.122] by web34111.mail.mud.yahoo.com via HTTP; Mon, 12 Sep 2005 14:11:32 PDT
Date: Mon, 12 Sep 2005 14:11:32 -0700 (PDT)
From: John Smith <john_smith9910@yahoo.com>
Subject: Re: ParallelReader and Date Filter
To: java-user@lucene.apache.org
In-Reply-To: <440B8EB6-EFD5-4802-93B1-81F60FDA817A@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-851606432-1126559492=:57692"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-851606432-1126559492=:57692
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Thank you.
I will try that
 
JS

Erik Hatcher <erik@ehatchersolutions.com> wrote:

On Sep 12, 2005, at 2:04 PM, John Smith wrote:
> I have Lucene 1.4.3 codebase and I got Parallel Reader from the 
> trunk along with a few changes that need to go on top of it to make 
> it compile.

I highly recommend you simply compile the trunk and use it instead of 
trying to patch these classes onto 1.4.3. There have been numerous 
core changes and you may very well have something out of sync even if 
things do compile successfully.

Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


		
---------------------------------
Yahoo! for Good
 Click here to donate to the Hurricane Katrina relief effort. 
--0-851606432-1126559492=:57692--

From java-user-return-16358-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 13 10:01:45 2005
Return-Path: <java-user-return-16358-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55198 invoked from network); 13 Sep 2005 10:01:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Sep 2005 10:01:44 -0000
Received: (qmail 99290 invoked by uid 500); 13 Sep 2005 09:53:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99252 invoked by uid 500); 13 Sep 2005 09:53:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99239 invoked by uid 99); 13 Sep 2005 09:53:39 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Sep 2005 02:53:39 -0700
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=HTML_90_100,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.162.111.57] (HELO mhub3.pass-consulting.com) (194.162.111.57)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 13 Sep 2005 02:53:48 -0700
Received: (qmail 13212 invoked from network); 13 Sep 2005 09:58:15 -0000
Received: from abmx.pass-consulting.com (10.0.0.208)
  by mhub3.pass.intern with SMTP; 13 Sep 2005 09:58:15 -0000
Received: from ws310024 ([202.9.121.178]) by abmx.pass-consulting.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Tue, 13 Sep 2005 11:53:33 +0200
From: "Madhu Satyanarayana Panitini" <Madhu.Panitini@pass-consulting.com>
To: <java-user@lucene.apache.org>
Subject: Spliting of words
Date: Tue, 13 Sep 2005 15:15:42 +0530
Message-ID: <000501c5b847$ea7a9ca0$7c00320a@passindien.com>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0006_01C5B876.0432D8A0"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2627
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-OriginalArrivalTime: 13 Sep 2005 09:53:33.0735 (UTC) FILETIME=[00E97370:01C5B849]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0006_01C5B876.0432D8A0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

Hai all
 
I want know the split pattern of text before indexing in Lucene, its
splits where ever there is space in between the words Or is there any
pattern in splitting the words of text document. In which program I can
find the code on the splitting of the word.
 
Madhu
 
Madhu Satyanarayana. Panitini
PASS GCA Solution Centre Pvt Ltd.
601 Aditya Trade Centre, Ameerpet, 
Hyderabad, India. 
www.pass-consulting.com 


 

------=_NextPart_000_0006_01C5B876.0432D8A0--


From java-user-return-16359-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 13 10:05:50 2005
Return-Path: <java-user-return-16359-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 56335 invoked from network); 13 Sep 2005 10:05:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Sep 2005 10:05:50 -0000
Received: (qmail 15884 invoked by uid 500); 13 Sep 2005 10:05:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 15833 invoked by uid 500); 13 Sep 2005 10:05:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 15820 invoked by uid 99); 13 Sep 2005 10:05:43 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Sep 2005 03:05:43 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [194.25.134.17] (HELO mailout02.sul.t-online.com) (194.25.134.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Sep 2005 03:05:53 -0700
Received: from fwd18.aul.t-online.de 
	by mailout02.sul.t-online.com with smtp 
	id 1EF7fX-0007iW-02; Tue, 13 Sep 2005 12:05:39 +0200
Received: from EXCH.innosystec.de (rAiVP2ZCQehensGVEpc89BNher+9+1wyARzN1k6pm7xmuiAXWsWh4u@[84.154.232.109]) by fwd18.sul.t-online.de
	with esmtp id 1EF7fG-1Rt4Cm0; Tue, 13 Sep 2005 12:05:22 +0200
Content-class: urn:content-classes:message
Subject: RE: Spliting of words
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
Date: Tue, 13 Sep 2005 12:05:20 +0200
Message-ID: <FAF7E39D1CED524D8553BB1C969F3EF8303B51@exchange.innosystec.site>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Spliting of words
thread-index: AcW4SSATGQZpDkpySpaVAGOPgLlkBwAAMMKA
From: "Kunemann Frank" <frank.kunemann@innosystec.de>
To: <java-user@lucene.apache.org>
X-ID: rAiVP2ZCQehensGVEpc89BNher+9+1wyARzN1k6pm7xmuiAXWsWh4u@t-dialin.net
X-TOI-MSGID: 11ed772b-23f6-4733-8eb6-24cd654cfb12
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

This depends on the analyzer you are using. You can find the standard
analyzers in org.apache.lucene.analysis. To find out what they do, I
recommend the example in Lucene in action in 4.2.3 called
"AnalyzerDemo". If you don't have the book, you can also download the
examples from http://www.manning.com/books/hatcher2 (look for source
code).

Frank

-----Original Message-----
From: Madhu Satyanarayana Panitini
[mailto:Madhu.Panitini@pass-consulting.com]=20
Sent: Tuesday, September 13, 2005 11:46 AM
To: java-user@lucene.apache.org
Subject: Spliting of words

Hai all
=20
I want know the split pattern of text before indexing in Lucene, its
splits where ever there is space in between the words Or is there any
pattern in splitting the words of text document. In which program I can
find the code on the splitting of the word.
=20
Madhu
=20
Madhu Satyanarayana. Panitini
PASS GCA Solution Centre Pvt Ltd.
601 Aditya Trade Centre, Ameerpet,=20
Hyderabad, India.=20
www.pass-consulting.com=20


=20


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16360-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 13 10:10:11 2005
Return-Path: <java-user-return-16360-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57702 invoked from network); 13 Sep 2005 10:10:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Sep 2005 10:10:11 -0000
Received: (qmail 22158 invoked by uid 500); 13 Sep 2005 10:10:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22124 invoked by uid 500); 13 Sep 2005 10:10:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22111 invoked by uid 99); 13 Sep 2005 10:10:05 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Sep 2005 03:10:05 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [134.96.188.26] (HELO mail.dfki.de) (134.96.188.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Sep 2005 03:10:14 -0700
Received: from mail.dfki.de (localhost.dfki.uni-sb.de [127.0.0.1])
	by localhost (Postfix) with ESMTP id CA7C6E48BF
	for <java-user@lucene.apache.org>; Tue, 13 Sep 2005 12:09:54 +0200 (CEST)
Received: from [IPv6:::1] (dave.dfki.uni-sb.de [134.96.184.220])
	by mail.dfki.de (Postfix) with ESMTP id B9C3BE48BD
	for <java-user@lucene.apache.org>; Tue, 13 Sep 2005 12:09:54 +0200 (CEST)
Mime-Version: 1.0 (Apple Message framework v622)
In-Reply-To: <000501c5b847$ea7a9ca0$7c00320a@passindien.com>
References: <000501c5b847$ea7a9ca0$7c00320a@passindien.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Message-Id: <e8d369645d59d275bbb2078bf1633b5d@activemath.org>
Content-Transfer-Encoding: quoted-printable
From: Paul Libbrecht <paul@activemath.org>
Subject: Re: Spliting of words
Date: Tue, 13 Sep 2005 12:09:47 +0200
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.622)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Madhu,

Analyzer is the magic word here.

Lucene's StandardAnalyzer has a whole grammar to split words into=20
tokens. There are many more analyzers, most of which are language=20
specific (e.g. based the Snowball or Porter-stemmers, see contribs or=20
javadoc of core).

For which language do wish to use that ?

paul


Le 13 sept. 05, =E0 11:45, Madhu Satyanarayana Panitini a =E9crit :

> Hai all
>
> I want know the split pattern of text before indexing in Lucene, its
> splits where ever there is space in between the words Or is there any
> pattern in splitting the words of text document. In which program I =
can
> find the code on the splitting of the word.
>
> Madhu
>
> Madhu Satyanarayana. Panitini
> PASS GCA Solution Centre Pvt Ltd.
> 601 Aditya Trade Centre, Ameerpet,
> Hyderabad, India.
> www.pass-consulting.com
>
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16361-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 13 11:33:01 2005
Return-Path: <java-user-return-16361-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88402 invoked from network); 13 Sep 2005 11:33:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Sep 2005 11:33:00 -0000
Received: (qmail 17873 invoked by uid 500); 13 Sep 2005 11:32:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17522 invoked by uid 500); 13 Sep 2005 11:32:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17509 invoked by uid 99); 13 Sep 2005 11:32:54 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Sep 2005 04:32:54 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.162.111.57] (HELO mhub3.pass-consulting.com) (194.162.111.57)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 13 Sep 2005 04:33:04 -0700
Received: (qmail 30044 invoked from network); 13 Sep 2005 11:37:31 -0000
Received: from abmx.pass-consulting.com (10.0.0.208)
  by mhub3.pass.intern with SMTP; 13 Sep 2005 11:37:31 -0000
Received: from ws310024 ([202.9.121.178]) by abmx.pass-consulting.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Tue, 13 Sep 2005 13:32:48 +0200
From: "Madhu Satyanarayana Panitini" <Madhu.Panitini@pass-consulting.com>
To: <java-user@lucene.apache.org>
Subject: RE: Splitting of words
Date: Tue, 13 Sep 2005 16:54:55 +0530
Message-ID: <000001c5b855$c8473d10$7c00320a@passindien.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2627
Importance: Normal
In-Reply-To: <e8d369645d59d275bbb2078bf1633b5d@activemath.org>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-OriginalArrivalTime: 13 Sep 2005 11:32:49.0549 (UTC) FILETIME=[DEDA8BD0:01C5B856]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Paul,

I agree with u "Analyzer is the magic word"
Lets look it in depth and clear, I would consider three parts in the
analyzer=20

1. Tokenization (splitting of words)
2. Stopwords removal (depends up on the language)
3. stemming of the words (depends up on the language)=20

First to start analyze we have split the text, for example I like split
the text wherever I find the following non alphabets=20
"\s+|;|:|<|>|\^|~|=3D|--+|\+|\?|!|&|\$|@|\#|\'|`|"|_|\%|\*|,|\."=20
That means I would like to split the text wherever I find
space,:,;,",',<,>,?,  etc....

And then we remove the stopwords and then stemming goes on.

Coming my question is clear now how Lucene splits the text? only when
ever it encounter the space between the words or it consider the non
alphabetic characters as well.

What is the whole grammar Standard analyzer has to split the words ?

Madhu






Madhu Satyanarayana. Panitini
PASS GCA Solution Centre Pvt Ltd.
601 Aditya Trade Centre, Ameerpet,=20
Hyderabad, India.=20
www.pass-consulting.com=20



-----Original Message-----
From: Paul Libbrecht [mailto:paul@activemath.org]=20
Sent: Tuesday, September 13, 2005 3:40 PM
To: java-user@lucene.apache.org
Subject: Re: Spliting of words

Madhu,

Analyzer is the magic word here.

Lucene's StandardAnalyzer has a whole grammar to split words into=20
tokens. There are many more analyzers, most of which are language=20
specific (e.g. based the Snowball or Porter-stemmers, see contribs or=20
javadoc of core).

For which language do wish to use that ?

paul


Le 13 sept. 05, =E0 11:45, Madhu Satyanarayana Panitini a =E9crit :

> Hai all
>
> I want know the split pattern of text before indexing in Lucene, its
> splits where ever there is space in between the words Or is there any
> pattern in splitting the words of text document. In which program I
can
> find the code on the splitting of the word.
>
> Madhu
>
> Madhu Satyanarayana. Panitini
> PASS GCA Solution Centre Pvt Ltd.
> 601 Aditya Trade Centre, Ameerpet,
> Hyderabad, India.
> www.pass-consulting.com
>
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16362-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 13 12:49:15 2005
Return-Path: <java-user-return-16362-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19603 invoked from network); 13 Sep 2005 12:49:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Sep 2005 12:49:15 -0000
Received: (qmail 44413 invoked by uid 500); 13 Sep 2005 12:49:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44151 invoked by uid 500); 13 Sep 2005 12:49:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44079 invoked by uid 99); 13 Sep 2005 12:49:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Sep 2005 05:49:01 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Sep 2005 05:49:11 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id F0FCE13E2006; Tue, 13 Sep 2005 08:48:56 -0400 (EDT)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP
	id 7ADA113E2005; Tue, 13 Sep 2005 08:45:47 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
Content-Transfer-Encoding: 7bit
Message-Id: <D9FE5C58-7025-48D5-9EBE-5BBE791F0EE7@apache.org>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
To: java-dev@lucene.apache.org, java-user@lucene.apache.org,
	general@lucene.apache.org, ruby-dev@lucene.apache.org,
	pmc@lucene.apache.org
From: Erik Hatcher <ehatcher@apache.org>
Subject: Lucene issue tracker moved to JIRA
Date: Tue, 13 Sep 2005 08:45:46 -0400
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-4.2 required=5.0 tests=AWL,BAYES_00 
	autolearn=unavailable version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

cross-posting to all the Lucene e-mail lists

The Lucene issue tracking system has migrated from Bugzilla to JIRA.   
Please use the new system for all issue tracking activities from this  
point forward:

     http://issues.apache.org/jira/browse/LUCENE

If a Lucene committer has the time to switch our docs to point to  
JIRA, that would be most appreciated.  I'll try to do this little if  
no one beats me to it in the next few days.  It's trickier than just  
switching one link - we have links directly into issues in many places.

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16363-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 13 13:01:32 2005
Return-Path: <java-user-return-16363-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25711 invoked from network); 13 Sep 2005 13:01:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Sep 2005 13:01:30 -0000
Received: (qmail 69022 invoked by uid 500); 13 Sep 2005 13:01:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68992 invoked by uid 500); 13 Sep 2005 13:01:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68979 invoked by uid 99); 13 Sep 2005 13:01:23 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Sep 2005 06:01:23 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Sep 2005 06:01:34 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id C073A13E2006; Tue, 13 Sep 2005 09:01:20 -0400 (EDT)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 6779E13E2005
	for <java-user@lucene.apache.org>; Tue, 13 Sep 2005 09:00:52 -0400 (EDT)
In-Reply-To: <000001c5b855$c8473d10$7c00320a@passindien.com>
References: <000001c5b855$c8473d10$7c00320a@passindien.com>
Mime-Version: 1.0 (Apple Message framework v734)
X-Priority: 3 (Normal)
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <E663A057-E178-44B9-B1EB-799FC34F4CD3@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Splitting of words
Date: Tue, 13 Sep 2005 09:00:49 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Sep 13, 2005, at 7:24 AM, Madhu Satyanarayana Panitini wrote:

> Hi Paul,
>
> I agree with u "Analyzer is the magic word"
> Lets look it in depth and clear, I would consider three parts in the
> analyzer
>
> 1. Tokenization (splitting of words)
> 2. Stopwords removal (depends up on the language)
> 3. stemming of the words (depends up on the language)
>
> First to start analyze we have split the text, for example I like  
> split
> the text wherever I find the following non alphabets
> "\s+|;|:|<|>|\^|~|=|--+|\+|\?|!|&|\$|@|\#|\'|`|"|_|\%|\*|,|\."
> That means I would like to split the text wherever I find
> space,:,;,",',<,>,?,  etc....
>
> And then we remove the stopwords and then stemming goes on.
>
> Coming my question is clear now how Lucene splits the text? only when
> ever it encounter the space between the words or it consider the non
> alphabetic characters as well.
>
> What is the whole grammar Standard analyzer has to split the words ?

Madhu - you'd do well to try out the AnalyzerDemo that comes with the  
"Lucene in Action" code.  You can download it from http:// 
www.lucenebook.com - here's an example run:

$ ant AnalyzerDemo

     ...

AnalyzerDemo:
      [echo]
      [echo]       Demonstrates analysis of sample text.
      [echo]
      [echo]       Refer to the "Analysis" chapter for much more on this
      [echo]       extremely crucial topic.
      [echo]
     [input] Press return to continue...

     [input] String to analyze: [This string will be analyzed.]

      [echo] Running lia.analysis.AnalyzerDemo...
      [java] Analyzing "This string will be analyzed."
      [java]   WhitespaceAnalyzer:
      [java]     [This] [string] [will] [be] [analyzed.]

      [java]   SimpleAnalyzer:
      [java]     [this] [string] [will] [be] [analyzed]

      [java]   StopAnalyzer:
      [java]     [string] [analyzed]

      [java]   StandardAnalyzer:
      [java]     [this] [string] [will] [be] [analyzed]

      [java]   SnowballAnalyzer:
      [java]     [this] [string] [will] [be] [analyz]

      [java]   SnowballAnalyzer:
      [java]     [this] [string] [wil] [be] [analyzed]

      [java]   SnowballAnalyzer:
      [java]     [thi] [string] [will] [be] [analyz]


BUILD SUCCESSFUL
Total time: 13 seconds

The StandardTokenizer is the most sophisticated one built into  
Lucene.  You can see the types of tokens it emits by looking at the  
javadoc here:
     <http://lucene.apache.org/java/docs/api/org/apache/lucene/ 
analysis/standard/StandardTokenizer.html>

It recognizes e-mail addresses, interior apostrophe words (like  
o'clock), hostnames/IP addresses (like lucene.apache.org), acronyms,  
and CJK characters.

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16364-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 13 13:46:52 2005
Return-Path: <java-user-return-16364-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49842 invoked from network); 13 Sep 2005 13:46:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Sep 2005 13:46:52 -0000
Received: (qmail 83264 invoked by uid 500); 13 Sep 2005 13:46:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83244 invoked by uid 500); 13 Sep 2005 13:46:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 83229 invoked by uid 99); 13 Sep 2005 13:46:45 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Sep 2005 06:46:45 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [193.252.22.28] (HELO smtp3.wanadoo.fr) (193.252.22.28)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Sep 2005 06:46:55 -0700
Received: from me-wanadoo.net (localhost [127.0.0.1])
	by mwinf0303.wanadoo.fr (SMTP Server) with ESMTP id 706F01C00384
	for <java-user@lucene.apache.org>; Tue, 13 Sep 2005 15:46:39 +0200 (CEST)
Received: from [127.0.0.1] (AVelizy-115-2-1-38.w81-48.abo.wanadoo.fr [81.48.163.38])
	by mwinf0303.wanadoo.fr (SMTP Server) with ESMTP id 37C7B1C00382
	for <java-user@lucene.apache.org>; Tue, 13 Sep 2005 15:46:39 +0200 (CEST)
X-ME-UUID: 20050913134639228.37C7B1C00382@mwinf0303.wanadoo.fr
Message-ID: <4326D8B4.5060200@jalios.com>
Date: Tue, 13 Sep 2005 15:48:36 +0200
From: Olivier Jaquemet <olivier.jaquemet@jalios.com>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Java User ML <java-user@lucene.apache.org>
Subject: MultiSearcher... Multiple Analyzer
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

I have many indices, one for each language, each one has been indexed 
using a specific analyzer.
I want to search in all my indices, but I still want/need to use the 
same analyzer that has been used for indexing.
MultiSearch only accept one query, and if I use for example QueryParser, 
I can only specify one analyzer.
Is there a (nice) way to do a multi search using as much analyzer as 
there are indices we are searching in?

Olivier



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16365-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 13 16:47:38 2005
Return-Path: <java-user-return-16365-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 26854 invoked from network); 13 Sep 2005 16:47:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Sep 2005 16:47:38 -0000
Received: (qmail 70094 invoked by uid 500); 13 Sep 2005 16:47:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70056 invoked by uid 500); 13 Sep 2005 16:47:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 70039 invoked by uid 99); 13 Sep 2005 16:47:33 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Sep 2005 09:47:33 -0700
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jeff.rodenburg@gmail.com designates 64.233.184.203 as permitted sender)
Received: from [64.233.184.203] (HELO wproxy.gmail.com) (64.233.184.203)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Sep 2005 09:47:44 -0700
Received: by wproxy.gmail.com with SMTP id 71so606590wri
        for <java-user@lucene.apache.org>; Tue, 13 Sep 2005 09:47:31 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type;
        b=iPm7puoamS38STbav603qN/ED8M8gxCPZSR+GnciMWvGiKjnLMVxgP7Rq18yqsNMLlG06OmUnR5Z3ZDidmRpRwmoPXoYUQtr7lC21qjid9hT3w12fQTOAc03bStrkt7aOevKulUNxyEwpYjaptOLwB0ay+v4I1KdT1+fIyfPNtM=
Received: by 10.54.33.29 with SMTP id g29mr609494wrg;
        Tue, 13 Sep 2005 09:47:30 -0700 (PDT)
Received: by 10.54.13.32 with HTTP; Tue, 13 Sep 2005 09:47:30 -0700 (PDT)
Message-ID: <50f433360509130947732f7306@mail.gmail.com>
Date: Tue, 13 Sep 2005 09:47:30 -0700
From: Jeff Rodenburg <jeff.rodenburg@gmail.com>
Reply-To: jeff.rodenburg@gmail.com
To: java-user@lucene.apache.org
Subject: Is George Aroush still around?
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_5095_22499097.1126630050241"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_5095_22499097.1126630050241
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Mayday, mayday....

Has anyone had recent contact with George Aroush? He's presently managing=
=20
the C# port of Lucene.

Thanks,
Jeff Rodenburg

------=_Part_5095_22499097.1126630050241--

From java-user-return-16366-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 13 19:09:58 2005
Return-Path: <java-user-return-16366-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92560 invoked from network); 13 Sep 2005 19:09:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Sep 2005 19:09:58 -0000
Received: (qmail 56943 invoked by uid 500); 13 Sep 2005 19:09:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 56828 invoked by uid 500); 13 Sep 2005 19:09:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 56765 invoked by uid 99); 13 Sep 2005 19:09:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Sep 2005 12:09:43 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.200.230] (HELO web31111.mail.mud.yahoo.com) (68.142.200.230)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 13 Sep 2005 12:09:54 -0700
Received: (qmail 20593 invoked by uid 60001); 13 Sep 2005 19:09:40 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=QcsKXFWGWNuam6EBVPoW6QaWUmHfU7yAa+vXggyrx/DmSBGn5uyp752KekP2LGopGH27rPiGvKipRBsYLVwBCJNm056avkKFkFB496iIcAOS1rJo73F+wopArPE57/Dx3w0FEDemKzJZhZIAH4pKPy6gN+G0ttqvU0LyuzqUGDo=  ;
Message-ID: <20050913190940.20591.qmail@web31111.mail.mud.yahoo.com>
Received: from [216.194.55.187] by web31111.mail.mud.yahoo.com via HTTP; Tue, 13 Sep 2005 12:09:40 PDT
Date: Tue, 13 Sep 2005 12:09:40 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: too many files open
To: java-user@lucene.apache.org, haipengdu@gmail.com
In-Reply-To: <cb1a940050913113542a7bb6b@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello, (replying to java-user list, as that's the place to ask)

Your mergeFactor is waaaaaay to high.  Leave it at the default (10).
Also look at IndexWriter javadocs, where mergeFactor and friends are
described.  If you have Lucene in Action, mergeFactor is described in
detail in chapter 2 (see
http://www.lucenebook.com/search?query=mergeFactor ) and there is code
that shows you how you can change various indexing parameters to tune
indexing performance.

Otis


--- haipeng du <haipengdu@gmail.com> wrote:

> First time, My index maxMergeDocument is 1,000, and mergeFactor is
> 10,000. I 
> got "too many files open" error when I index documents with 1,000,000
> 
> documents. Then, My index maxMergeDocument is 10,000, and mergeFactor
> is 
> 10,000. I can index that succefully. But when I search that, I got
> "too many 
> files open" error again.
> How could I select these parameters for index and searching?
> 
> -- 
> Haipeng Du
> Software Engineer
> Comphealth, 
> Salt Lake City
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16367-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 13 21:39:35 2005
Return-Path: <java-user-return-16367-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 48704 invoked from network); 13 Sep 2005 21:39:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Sep 2005 21:39:35 -0000
Received: (qmail 57188 invoked by uid 500); 13 Sep 2005 21:39:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 57129 invoked by uid 500); 13 Sep 2005 21:39:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 57116 invoked by uid 99); 13 Sep 2005 21:39:28 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Sep 2005 14:39:28 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [134.96.188.26] (HELO mail.dfki.de) (134.96.188.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Sep 2005 14:39:40 -0700
Received: from mail.dfki.de (localhost.dfki.uni-sb.de [127.0.0.1])
	by localhost (Postfix) with ESMTP id 16BF2E47D2
	for <java-user@lucene.apache.org>; Tue, 13 Sep 2005 23:39:26 +0200 (CEST)
Received: from [IPv6:::1] (dave.dfki.uni-sb.de [134.96.184.220])
	by mail.dfki.de (Postfix) with ESMTP id 26170E4751
	for <java-user@lucene.apache.org>; Tue, 13 Sep 2005 23:39:23 +0200 (CEST)
Mime-Version: 1.0 (Apple Message framework v622)
Content-Transfer-Encoding: 7bit
Message-Id: <739d8386b25b10ac192dc6f4c1fd1ac2@activemath.org>
Content-Type: text/plain; charset=US-ASCII; format=flowed
To: java-user@lucene.apache.org
From: Paul Libbrecht <paul@activemath.org>
Subject: lock directory system property is read too early!
Date: Tue, 13 Sep 2005 23:39:14 +0200
X-Mailer: Apple Mail (2.622)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Hi,

I am facing the problem that the system property LOCK_DIR in 
FSDirectory seems to be loaded too early, that is, at classloading 
time, whereas I am setting this property myself later...

Dare I request that its initialization is done lazily ?

thanks

paul


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16368-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 13 21:45:28 2005
Return-Path: <java-user-return-16368-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50469 invoked from network); 13 Sep 2005 21:45:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Sep 2005 21:45:28 -0000
Received: (qmail 63743 invoked by uid 500); 13 Sep 2005 21:45:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 63717 invoked by uid 500); 13 Sep 2005 21:45:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63704 invoked by uid 99); 13 Sep 2005 21:45:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Sep 2005 14:45:20 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.201.74] (HELO web31112.mail.mud.yahoo.com) (68.142.201.74)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 13 Sep 2005 14:45:30 -0700
Received: (qmail 87752 invoked by uid 60001); 13 Sep 2005 21:45:17 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=XA+buwyjEMhpWS8SDxMGLFRmciJrNZnd1sel2gqgs64Z0DK32n/58GafY+MPE6qve6vrivFlI98Ewdd33h8tHHkn+5EfD5Q03vsKzfK4A/ApAeW4XUC3E+IP+kkx3VfhpbsKQ1wghbWxDX7ZRqLxrOs458hj2Dk5zKF03mQN7p8=  ;
Message-ID: <20050913214517.87750.qmail@web31112.mail.mud.yahoo.com>
Received: from [216.194.55.187] by web31112.mail.mud.yahoo.com via HTTP; Tue, 13 Sep 2005 14:45:16 PDT
Date: Tue, 13 Sep 2005 14:45:16 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: lock directory system property is read too early!
To: java-user@lucene.apache.org
In-Reply-To: <739d8386b25b10ac192dc6f4c1fd1ac2@activemath.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,

The code in SVN has already been changed and the use of system
properties has been deprecated.

Otis


--- Paul Libbrecht <paul@activemath.org> wrote:

> 
> Hi,
> 
> I am facing the problem that the system property LOCK_DIR in 
> FSDirectory seems to be loaded too early, that is, at classloading 
> time, whereas I am setting this property myself later...
> 
> Dare I request that its initialization is done lazily ?
> 
> thanks
> 
> paul
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16369-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 13 23:23:33 2005
Return-Path: <java-user-return-16369-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 80116 invoked from network); 13 Sep 2005 23:23:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Sep 2005 23:23:32 -0000
Received: (qmail 80061 invoked by uid 500); 13 Sep 2005 23:23:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 79539 invoked by uid 500); 13 Sep 2005 23:23:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 79526 invoked by uid 99); 13 Sep 2005 23:23:26 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Sep 2005 16:23:26 -0700
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jeff.rodenburg@gmail.com designates 64.233.184.194 as permitted sender)
Received: from [64.233.184.194] (HELO wproxy.gmail.com) (64.233.184.194)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Sep 2005 16:23:36 -0700
Received: by wproxy.gmail.com with SMTP id 71so49928wri
        for <java-user@lucene.apache.org>; Tue, 13 Sep 2005 16:23:23 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type;
        b=paWBnoebuwuVJA+MS9A7Wdfs/d7AGF9MTXQa1nzQtNK9JYdw744IOpTvQNX05AiLtgoc3lf8FvmePy9G1XHxeOXnoTbpZ0cLhbTP86yiol0d0HpjSf1CgHEQd/mIFfNEyBUAEznsjT3hPqGqnHeccadJNrqnzZk3NoBNnCtQobU=
Received: by 10.54.40.64 with SMTP id n64mr846799wrn;
        Tue, 13 Sep 2005 16:23:23 -0700 (PDT)
Received: by 10.54.13.32 with HTTP; Tue, 13 Sep 2005 16:23:23 -0700 (PDT)
Message-ID: <50f43336050913162359cf6377@mail.gmail.com>
Date: Tue, 13 Sep 2005 16:23:23 -0700
From: Jeff Rodenburg <jeff.rodenburg@gmail.com>
Reply-To: jeff.rodenburg@gmail.com
To: java-user@lucene.apache.org
Subject: Hits issue or custom filter issue?
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_6039_29922737.1126653803547"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_6039_29922737.1126653803547
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I'm encountering some unexpected behavior teeing up multiple Hits objects=
=20
from a searcher, and I think I'm missing something obvious. Hoping a second=
=20
pair of eyes might see what I'm missing.

Here's my code sequence:
// Some liberties taken in the code regarding names, etc.
// v1.4.3 codebase

BooleanQuery combinedQuery =3D new BooleanQuery();
Query query =3D MultiFieldQueryParser.Parse(searchstring, arraySearchFields=
,=20
new StandardAnalyzer());
combinedQuery.add(query);
combinedQuery.add(anotherQualifyingQuery);

Hits h1 =3D oMultiSearcher.Search(new FilteredQuery(combinedQuery, new=20
myCustomFilter(1)));
Hits h2 =3D oMultiSearcher.Search(new FilteredQuery(combinedQuery, new=20
myCustomFilter(2)));
Hits h3 =3D oMultiSearcher.Search(new FilteredQuery(combinedQuery, new=20
myCustomFilter(3)));
Hits h4 =3D oMultiSearcher.Search(new FilteredQuery(combinedQuery, new=20
myCustomFilter(4)));
Hits h5 =3D oMultiSearcher.Search(new FilteredQuery(combinedQuery, new=20
myCustomFilter(5)));
Hits h6 =3D oMultiSearcher.Search(new FilteredQuery(combinedQuery, new=20
myCustomFilter(6)));

int i1 =3D h1.length(); //yields some number x
int i2 =3D h2.length(); //always yields x
int i3 =3D h3.length(); //always yields x
int i4 =3D h4.length(); //always yields x
int i5 =3D h5.length(); //always yields x
int i6 =3D h6.length(); //always yields x

// End of code

My problem: the values for i1 through i6 should be different. I've verified=
=20
this by manually interrogating a small index I've created. My initial=20
thought is the problem lies in the custom filter I've created.=20
myCustomFilter extends Filter, and I'm following the BitSet comparitive=20
example as found in the LIA book. I've done nothing in myCustomFilter=20
regarding caching.

I'm doubting this is a bug, but rather something I've overlooked.

thanks,
jeff r.

------=_Part_6039_29922737.1126653803547--

From java-user-return-16370-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 13 23:50:29 2005
Return-Path: <java-user-return-16370-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88409 invoked from network); 13 Sep 2005 23:50:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 13 Sep 2005 23:50:28 -0000
Received: (qmail 10106 invoked by uid 500); 13 Sep 2005 23:50:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9611 invoked by uid 500); 13 Sep 2005 23:50:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 9598 invoked by uid 99); 13 Sep 2005 23:50:23 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Sep 2005 16:50:23 -0700
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Sep 2005 16:50:34 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id B21115B76E; Tue, 13 Sep 2005 16:50:19 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP
	id AF36B7F466; Tue, 13 Sep 2005 16:50:19 -0700 (PDT)
Date: Tue, 13 Sep 2005 16:50:19 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org, jeff.rodenburg@gmail.com
Subject: Re: Hits issue or custom filter issue?
In-Reply-To: <50f43336050913162359cf6377@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0509131643360.32691@hal.rescomp.berkeley.edu>
References: <50f43336050913162359cf6377@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: Hits h1 = oMultiSearcher.Search(new FilteredQuery(combinedQuery, new
: myCustomFilter(1)));
: Hits h2 = oMultiSearcher.Search(new FilteredQuery(combinedQuery, new
: myCustomFilter(2)));

...do you get the same results if you use...

   Hits h1 = oMultiSearcher.search(combinedQuery, myCustomFilter(1));
   Hits h2 = oMultiSearcher.search(combinedQuery, myCustomFilter(2));

...I'm not sure why you wouldn't use that method call instead anyway.

This may be another sympton of a bug that worked in the trunk when i
reported it...

http://issues.apache.org/jira/secure/ViewIssue.jspa?key=LUCENE-366



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16371-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 14 00:23:01 2005
Return-Path: <java-user-return-16371-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95815 invoked from network); 14 Sep 2005 00:23:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Sep 2005 00:23:00 -0000
Received: (qmail 31854 invoked by uid 500); 14 Sep 2005 00:22:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31829 invoked by uid 500); 14 Sep 2005 00:22:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31813 invoked by uid 99); 14 Sep 2005 00:22:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Sep 2005 17:22:55 -0700
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_30_40,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jeff.rodenburg@gmail.com designates 64.233.184.200 as permitted sender)
Received: from [64.233.184.200] (HELO wproxy.gmail.com) (64.233.184.200)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Sep 2005 17:23:05 -0700
Received: by wproxy.gmail.com with SMTP id 71so59390wri
        for <java-user@lucene.apache.org>; Tue, 13 Sep 2005 17:22:49 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:cc:in-reply-to:mime-version:content-type:references;
        b=uqFvNzLKEq+jE8q7WzMP3rurtP2+ZQF5y0t9pE7HZ/qzLiOwFzvWxbFf/cQXwuCa4yRnpsN053ER93hftximAF188P3h7gEfjKQjq7L6mIQ/x0rnWDD528Afjq2sY4wqT4noTrHvVgVEfAUK4XE9xOL7+CMrbP5u7XAIjQhr2Zo=
Received: by 10.54.77.12 with SMTP id z12mr900909wra;
        Tue, 13 Sep 2005 17:22:49 -0700 (PDT)
Received: by 10.54.13.32 with HTTP; Tue, 13 Sep 2005 17:22:49 -0700 (PDT)
Message-ID: <50f43336050913172248872b55@mail.gmail.com>
Date: Tue, 13 Sep 2005 17:22:49 -0700
From: Jeff Rodenburg <jeff.rodenburg@gmail.com>
Reply-To: jeff.rodenburg@gmail.com
To: Chris Hostetter <hossman_lucene@fucit.org>
Subject: Re: Hits issue or custom filter issue?
Cc: java-user@lucene.apache.org
In-Reply-To: <Pine.LNX.4.58.0509131643360.32691@hal.rescomp.berkeley.edu>
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_6143_5165059.1126657369810"
References: <50f43336050913162359cf6377@mail.gmail.com>
	 <Pine.LNX.4.58.0509131643360.32691@hal.rescomp.berkeley.edu>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_6143_5165059.1126657369810
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Might be the same issue, haven't been able to determine during a=20
step-through on the code exec.
You're right, no need to add a new FilteredQuery to the statement, just a=
=20
search on combinedQuery with a new myCustomFilter.
Unfortunately, no joy; same response.

-- j

On 9/13/05, Chris Hostetter <hossman_lucene@fucit.org> wrote:
>=20
>=20
> : Hits h1 =3D oMultiSearcher.Search(new FilteredQuery(combinedQuery, new
> : myCustomFilter(1)));
> : Hits h2 =3D oMultiSearcher.Search(new FilteredQuery(combinedQuery, new
> : myCustomFilter(2)));
>=20
> ...do you get the same results if you use...
>=20
> Hits h1 =3D oMultiSearcher.search(combinedQuery, myCustomFilter(1));
> Hits h2 =3D oMultiSearcher.search(combinedQuery, myCustomFilter(2));
>=20
> ...I'm not sure why you wouldn't use that method call instead anyway.
>=20
> This may be another sympton of a bug that worked in the trunk when i
> reported it...
>=20
> http://issues.apache.org/jira/secure/ViewIssue.jspa?key=3DLUCENE-366
>=20
>=20
>=20
> -Hoss
>=20
>

------=_Part_6143_5165059.1126657369810--

From java-user-return-16372-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 14 00:28:01 2005
Return-Path: <java-user-return-16372-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97777 invoked from network); 14 Sep 2005 00:27:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Sep 2005 00:27:59 -0000
Received: (qmail 39366 invoked by uid 500); 14 Sep 2005 00:27:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 39341 invoked by uid 500); 14 Sep 2005 00:27:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 39328 invoked by uid 99); 14 Sep 2005 00:27:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Sep 2005 17:27:53 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of James.Reynolds@ihc.com designates 159.212.70.8 as permitted sender)
Received: from [159.212.70.8] (HELO dali.ihc.com) (159.212.70.8)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Sep 2005 17:28:03 -0700
Received: from twemf1.co.ihc.com ([159.212.71.180] helo=twemf1)
	by dali.ihc.com with esmtp (Exim 4.14)
	id 1EFL7u-0005d9-JL
	for java-user@lucene.apache.org; Tue, 13 Sep 2005 18:27:50 -0600
Received: from 159.212.71.188 by twemf1 with ESMTP (Email Firewall SMTP
 Relay (Email Firewall v6.1.0)); Tue, 13 Sep 2005 18:27:50 -0600
X-Server-Uuid: 8A92B3C8-5DCF-4162-AC6E-55A460F8A0DB
Received: from [10.50.128.46] (helo=lp-exchfe02.CO.IHC.COM) by
 gimail2.co.ihc.com with esmtp (Exim 4.14) id 1EFL7l-0007k0-Ln for
 java-user@lucene.apache.org; Tue, 13 Sep 2005 18:27:41 -0600
Received: from CO.IHC.COM ([10.50.128.21]) by lp-exchfe02.CO.IHC.COM
 with Microsoft SMTPSVC(6.0.3790.1830); Tue, 13 Sep 2005 18:27:41 -0600
x-mimeole: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Subject: Is Lucene for Me?
Date: Tue, 13 Sep 2005 18:27:40 -0600
Message-ID: <78FF9B960DCEA0478F873F9989FD3CCD8F3076@LP-EXCHVS01.CO.IHC.COM>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Is Lucene for Me?
Thread-Index: AcW4ve2Aia7vl6wiTk+Atm3fpuP7DwAAxzjg
From: "James Reynolds" <James.Reynolds@ihc.com>
To: java-user@lucene.apache.org
X-OriginalArrivalTime: 14 Sep 2005 00:27:41.0134 (UTC)
 FILETIME=[1DFF6EE0:01C5B8C3]
X-WSS-ID: 6F39B10C228956474-01-01
Content-Type: text/plain;
 charset=us-ascii
Content-Transfer-Encoding: quoted-printable
X-Scanner: exiscan for exim4 (http://duncanthrax.net/exiscan/) *1EFL7u-0005d9-JL*7oX8Xs/c1B.*
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Please forgive this low tech question, but I'm wondering if Lucene is an
appropriate solution for a challenge I'm facing.  I need a quick look up
method for a growing list of customers in a database (the alphabetical
select list has become too cumbersome).

Lucene seems to be an excellent option for a key word search, but I
wonder if it's overkill for my relatively simple need.  Have other users
leveraged Lucene in this manner?

Thanks for your advice,

JR


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16373-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 14 00:33:59 2005
Return-Path: <java-user-return-16373-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 99710 invoked from network); 14 Sep 2005 00:33:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Sep 2005 00:33:59 -0000
Received: (qmail 45967 invoked by uid 500); 14 Sep 2005 00:33:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45941 invoked by uid 500); 14 Sep 2005 00:33:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45927 invoked by uid 99); 14 Sep 2005 00:33:52 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Sep 2005 17:33:52 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Sep 2005 17:34:03 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 77EE513E2006; Tue, 13 Sep 2005 20:33:49 -0400 (EDT)
Received: from [172.16.1.101] (va-71-48-138-146.dhcp.sprint-hsd.net [71.48.138.146])
	by ehatchersolutions.com (Postfix) with ESMTP id 5C28A13E2005
	for <java-user@lucene.apache.org>; Tue, 13 Sep 2005 20:32:56 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <78FF9B960DCEA0478F873F9989FD3CCD8F3076@LP-EXCHVS01.CO.IHC.COM>
References: <78FF9B960DCEA0478F873F9989FD3CCD8F3076@LP-EXCHVS01.CO.IHC.COM>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <B6CDED05-64DB-44D7-AC1E-3FAE987993A1@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Is Lucene for Me?
Date: Tue, 13 Sep 2005 20:32:55 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Sep 13, 2005, at 8:27 PM, James Reynolds wrote:
> Please forgive this low tech question, but I'm wondering if Lucene  
> is an
> appropriate solution for a challenge I'm facing.  I need a quick  
> look up
> method for a growing list of customers in a database (the alphabetical
> select list has become too cumbersome).

> Lucene seems to be an excellent option for a key word search, but I
> wonder if it's overkill for my relatively simple need.  Have other  
> users
> leveraged Lucene in this manner?

Certainly Lucene could do this quite easily, but since you're already  
using a database it would be worth it to explore whether LIKE queries  
or full-text capabilities of your database will achieve what you're  
after without adding another dependency and related code to your  
project.

It wouldn't be overkill to use Lucene for this scenario at all if you  
can't achieve what you're after within your database as-is.

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16374-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 14 00:38:14 2005
Return-Path: <java-user-return-16374-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 509 invoked from network); 14 Sep 2005 00:38:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Sep 2005 00:38:14 -0000
Received: (qmail 47753 invoked by uid 500); 14 Sep 2005 00:38:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47728 invoked by uid 500); 14 Sep 2005 00:38:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47715 invoked by uid 99); 14 Sep 2005 00:38:10 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Sep 2005 17:38:10 -0700
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Sep 2005 17:38:21 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id BAA0B5B778; Tue, 13 Sep 2005 17:38:08 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP
	id B79C27F466; Tue, 13 Sep 2005 17:38:08 -0700 (PDT)
Date: Tue, 13 Sep 2005 17:38:08 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org, jeff.rodenburg@gmail.com
Subject: Re: Hits issue or custom filter issue?
In-Reply-To: <50f43336050913172248872b55@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0509131731400.4677@hal.rescomp.berkeley.edu>
References: <50f43336050913162359cf6377@mail.gmail.com> 
 <Pine.LNX.4.58.0509131643360.32691@hal.rescomp.berkeley.edu>
 <50f43336050913172248872b55@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


if you can post a short unit test demonstrating the problem, that would
help us understand the problem you are having.  At this point, i would
guess the problem relates to your custon filter.

if you look at the attachment to the bug i mentioned, you can see that the
"testFilters" method domonstrates something similar to what you
describe, with a very simple query and two very simple custom filters.
(it works, it's the testBooleanFilteredQuery method that will fail in 1.4)

Perhaps you can make minor, iterative, modifications to that test untill
you reproduce your problem.  Once that happens, people on this list might
be able to help you determine if it's a problem with your filter or a
problem with in the lucene library.



: Date: Tue, 13 Sep 2005 17:22:49 -0700
: From: Jeff Rodenburg <jeff.rodenburg@gmail.com>
: Reply-To: java-user@lucene.apache.org, jeff.rodenburg@gmail.com
: To: Chris Hostetter <hossman_lucene@fucit.org>
: Cc: java-user@lucene.apache.org
: Subject: Re: Hits issue or custom filter issue?
:
: Might be the same issue, haven't been able to determine during a
: step-through on the code exec.
: You're right, no need to add a new FilteredQuery to the statement, just a
: search on combinedQuery with a new myCustomFilter.
: Unfortunately, no joy; same response.
:
: -- j
:
: On 9/13/05, Chris Hostetter <hossman_lucene@fucit.org> wrote:
: >
: >
: > : Hits h1 = oMultiSearcher.Search(new FilteredQuery(combinedQuery, new
: > : myCustomFilter(1)));
: > : Hits h2 = oMultiSearcher.Search(new FilteredQuery(combinedQuery, new
: > : myCustomFilter(2)));
: >
: > ...do you get the same results if you use...
: >
: > Hits h1 = oMultiSearcher.search(combinedQuery, myCustomFilter(1));
: > Hits h2 = oMultiSearcher.search(combinedQuery, myCustomFilter(2));
: >
: > ...I'm not sure why you wouldn't use that method call instead anyway.
: >
: > This may be another sympton of a bug that worked in the trunk when i
: > reported it...
: >
: > http://issues.apache.org/jira/secure/ViewIssue.jspa?key=LUCENE-366
: >
: >
: >
: > -Hoss
: >
: >
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16375-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 14 00:45:26 2005
Return-Path: <java-user-return-16375-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1907 invoked from network); 14 Sep 2005 00:45:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Sep 2005 00:45:26 -0000
Received: (qmail 51941 invoked by uid 500); 14 Sep 2005 00:45:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 51796 invoked by uid 500); 14 Sep 2005 00:45:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 51783 invoked by uid 99); 14 Sep 2005 00:45:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Sep 2005 17:45:20 -0700
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Sep 2005 17:45:31 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 5C7895B79B; Tue, 13 Sep 2005 17:45:19 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP
	id 52C507F466; Tue, 13 Sep 2005 17:45:19 -0700 (PDT)
Date: Tue, 13 Sep 2005 17:45:19 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org, jeff.rodenburg@gmail.com
Subject: Re: Hits issue or custom filter issue?
In-Reply-To: <50f43336050913172248872b55@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0509131738530.4677@hal.rescomp.berkeley.edu>
References: <50f43336050913162359cf6377@mail.gmail.com> 
 <Pine.LNX.4.58.0509131643360.32691@hal.rescomp.berkeley.edu>
 <50f43336050913172248872b55@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


I just had another thought:  is the number of results you get back from
each of the filters the same as the number you get back if you apply no
filter?

If so, then:

a) Perhaps you don't realize this, but a Filter can never be used to
increase the number of results returned by a query.  Filter's can only
limit the number of items returned.  No matter how many bits are set to
true in the BitSet you return, the Searcher won't even check the bits for
documents with a score of zero.

b) Is it possible that your filter isn't doing anything all, ie: is there
any execution path that may return a BitSet in which every bit is set?


...also, an easy way to sanity test your CustomFilter is to skip the Query
object alltogether, and just call the Filter.bits(IndexReader) directly
on each filter, and compare the BitSets you get back.  if they are
.equals() then there's your problem.




: Date: Tue, 13 Sep 2005 17:22:49 -0700
: From: Jeff Rodenburg <jeff.rodenburg@gmail.com>
: Reply-To: java-user@lucene.apache.org, jeff.rodenburg@gmail.com
: To: Chris Hostetter <hossman_lucene@fucit.org>
: Cc: java-user@lucene.apache.org
: Subject: Re: Hits issue or custom filter issue?
:
: Might be the same issue, haven't been able to determine during a
: step-through on the code exec.
: You're right, no need to add a new FilteredQuery to the statement, just a
: search on combinedQuery with a new myCustomFilter.
: Unfortunately, no joy; same response.
:
: -- j
:
: On 9/13/05, Chris Hostetter <hossman_lucene@fucit.org> wrote:
: >
: >
: > : Hits h1 = oMultiSearcher.Search(new FilteredQuery(combinedQuery, new
: > : myCustomFilter(1)));
: > : Hits h2 = oMultiSearcher.Search(new FilteredQuery(combinedQuery, new
: > : myCustomFilter(2)));
: >
: > ...do you get the same results if you use...
: >
: > Hits h1 = oMultiSearcher.search(combinedQuery, myCustomFilter(1));
: > Hits h2 = oMultiSearcher.search(combinedQuery, myCustomFilter(2));
: >
: > ...I'm not sure why you wouldn't use that method call instead anyway.
: >
: > This may be another sympton of a bug that worked in the trunk when i
: > reported it...
: >
: > http://issues.apache.org/jira/secure/ViewIssue.jspa?key=LUCENE-366
: >
: >
: >
: > -Hoss
: >
: >
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16376-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 14 00:53:48 2005
Return-Path: <java-user-return-16376-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 3669 invoked from network); 14 Sep 2005 00:53:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Sep 2005 00:53:48 -0000
Received: (qmail 55711 invoked by uid 500); 14 Sep 2005 00:53:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 55529 invoked by uid 500); 14 Sep 2005 00:53:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 55516 invoked by uid 99); 14 Sep 2005 00:53:42 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Sep 2005 17:53:42 -0700
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_30_40,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jeff.rodenburg@gmail.com designates 64.233.184.198 as permitted sender)
Received: from [64.233.184.198] (HELO wproxy.gmail.com) (64.233.184.198)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Sep 2005 17:53:53 -0700
Received: by wproxy.gmail.com with SMTP id 71so64230wri
        for <java-user@lucene.apache.org>; Tue, 13 Sep 2005 17:53:40 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:cc:in-reply-to:mime-version:content-type:references;
        b=XU2l8CBpnCLKIpln3l2472ZyZzALxhxKq0JAYgxUGMJX3Zt4j5aBA6omqn96Z/p7siAdPv0COQ6jbg1kkUg5yP4HUU31r2AW+VZhvdDxlibzP6jyG/jJtlr5H5UV0q/oZoMgBb3LHtxLxZ9A1keZpmg2ekqMLRyYcGpHHDmSr8Y=
Received: by 10.54.110.17 with SMTP id i17mr894633wrc;
        Tue, 13 Sep 2005 17:53:39 -0700 (PDT)
Received: by 10.54.13.32 with HTTP; Tue, 13 Sep 2005 17:53:39 -0700 (PDT)
Message-ID: <50f43336050913175362b1d2ce@mail.gmail.com>
Date: Tue, 13 Sep 2005 17:53:39 -0700
From: Jeff Rodenburg <jeff.rodenburg@gmail.com>
Reply-To: jeff.rodenburg@gmail.com
To: Chris Hostetter <hossman_lucene@fucit.org>
Subject: Re: Hits issue or custom filter issue?
Cc: java-user@lucene.apache.org
In-Reply-To: <Pine.LNX.4.58.0509131738530.4677@hal.rescomp.berkeley.edu>
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_6187_18227639.1126659219934"
References: <50f43336050913162359cf6377@mail.gmail.com>
	 <Pine.LNX.4.58.0509131643360.32691@hal.rescomp.berkeley.edu>
	 <50f43336050913172248872b55@mail.gmail.com>
	 <Pine.LNX.4.58.0509131738530.4677@hal.rescomp.berkeley.edu>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_6187_18227639.1126659219934
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

On 9/13/05, Chris Hostetter <hossman_lucene@fucit.org> wrote:
>=20
>=20
> I just had another thought: is the number of results you get back from
> each of the filters the same as the number you get back if you apply no
> filter?


In one case yes, in another case no. I've been able to test to either some=
=20
results, or zero results. Very strange.
I'll post some test code in a while.

If so, then:
>=20
> a) Perhaps you don't realize this, but a Filter can never be used to
> increase the number of results returned by a query. Filter's can only
> limit the number of items returned. No matter how many bits are set to
> true in the BitSet you return, the Searcher won't even check the bits for
> documents with a score of zero.


Haven't checked the scores of the returning documents in the aggregated=20
result set, but believe (on appearance) that they have greater-than-zero=20
scores.


b) Is it possible that your filter isn't doing anything all, ie: is there
> any execution path that may return a BitSet in which every bit is set?


It's either doing nothing or not working at all. This seems to be the likel=
y=20
culprit. Strangely enough, the custom filter is used previously and works=
=20
fine.

...also, an easy way to sanity test your CustomFilter is to skip the Query
> object alltogether, and just call the Filter.bits(IndexReader) directly
> on each filter, and compare the BitSets you get back. if they are
> .equals() then there's your problem.


Will do the step-through following this manner and post the results.

-- j

: Date: Tue, 13 Sep 2005 17:22:49 -0700
> : From: Jeff Rodenburg <jeff.rodenburg@gmail.com>
> : Reply-To: java-user@lucene.apache.org, jeff.rodenburg@gmail.com
> : To: Chris Hostetter <hossman_lucene@fucit.org>
> : Cc: java-user@lucene.apache.org
> : Subject: Re: Hits issue or custom filter issue?
> :
> : Might be the same issue, haven't been able to determine during a
> : step-through on the code exec.
> : You're right, no need to add a new FilteredQuery to the statement, just=
=20
> a
> : search on combinedQuery with a new myCustomFilter.
> : Unfortunately, no joy; same response.
> :
> : -- j
> :
> : On 9/13/05, Chris Hostetter <hossman_lucene@fucit.org> wrote:
> : >
> : >
> : > : Hits h1 =3D oMultiSearcher.Search(new FilteredQuery(combinedQuery, =
new
> : > : myCustomFilter(1)));
> : > : Hits h2 =3D oMultiSearcher.Search(new FilteredQuery(combinedQuery, =
new
> : > : myCustomFilter(2)));
> : >
> : > ...do you get the same results if you use...
> : >
> : > Hits h1 =3D oMultiSearcher.search(combinedQuery, myCustomFilter(1));
> : > Hits h2 =3D oMultiSearcher.search(combinedQuery, myCustomFilter(2));
> : >
> : > ...I'm not sure why you wouldn't use that method call instead anyway.
> : >
> : > This may be another sympton of a bug that worked in the trunk when i
> : > reported it...
> : >
> : > http://issues.apache.org/jira/secure/ViewIssue.jspa?key=3DLUCENE-366
> : >
> : >
> : >
> : > -Hoss
> : >
> : >
> :
>=20
>=20
>=20
> -Hoss
>=20
>

------=_Part_6187_18227639.1126659219934--

From java-user-return-16377-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 14 04:03:05 2005
Return-Path: <java-user-return-16377-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 63131 invoked from network); 14 Sep 2005 04:03:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Sep 2005 04:03:05 -0000
Received: (qmail 207 invoked by uid 500); 14 Sep 2005 04:03:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99814 invoked by uid 500); 14 Sep 2005 04:03:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99801 invoked by uid 99); 14 Sep 2005 04:02:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Sep 2005 21:02:59 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [216.222.192.2] (HELO skipper.frogspace.net) (216.222.192.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 13 Sep 2005 21:03:11 -0700
Received: from dialup-69-87-197-104.bfd.gis.net ([69.87.197.104] helo=aroushlt)
	by skipper.frogspace.net with esmtp (Exim 4.44)
	id 1EFOU6-0004ko-9P; Tue, 13 Sep 2005 21:02:59 -0700
From: "George Aroush" <george@aroush.net>
To: <java-user@lucene.apache.org>,
	<jeff.rodenburg@gmail.com>
Subject: RE: Is George Aroush still around?
Date: Wed, 14 Sep 2005 00:02:54 -0400
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1506
Thread-Index: AcW4gtuhCzOFaKc4T0WWbloi9FsiYAAXaguA
In-Reply-To: <50f433360509130947732f7306@mail.gmail.com>
X-SA-Exim-Connect-IP: 69.87.197.104
X-SA-Exim-Mail-From: george@aroush.net
X-Virus-Checked: Checked by ClamAV on apache.org
Message-Id: <20050914040311.6403D10FB2B5@asf.osuosl.org>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Jeff,

Yes, I am here but *very* busy -- I expect things to cool off in a week or
so at which time I intend to pickup the 1.9 port as well as the moving of
DotLucene from SourceForg.Net to it's incubated home at Apache.

If you have cycles and you can help, let me know as I am currently the only
one who is doing all the work.

Regards,

-- George


-----Original Message-----
From: Jeff Rodenburg [mailto:jeff.rodenburg@gmail.com] 
Sent: Tuesday, September 13, 2005 12:47 PM
To: java-user@lucene.apache.org
Subject: Is George Aroush still around?

Mayday, mayday....

Has anyone had recent contact with George Aroush? He's presently managing
the C# port of Lucene.

Thanks,
Jeff Rodenburg


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16378-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 14 07:03:15 2005
Return-Path: <java-user-return-16378-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14656 invoked from network); 14 Sep 2005 07:03:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Sep 2005 07:03:15 -0000
Received: (qmail 39081 invoked by uid 500); 14 Sep 2005 07:03:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 39057 invoked by uid 500); 14 Sep 2005 07:03:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 39029 invoked by uid 99); 14 Sep 2005 07:03:09 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Sep 2005 00:03:09 -0700
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_40_50,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jeff.rodenburg@gmail.com designates 64.233.184.198 as permitted sender)
Received: from [64.233.184.198] (HELO wproxy.gmail.com) (64.233.184.198)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Sep 2005 00:03:19 -0700
Received: by wproxy.gmail.com with SMTP id 71so122568wri
        for <java-user@lucene.apache.org>; Wed, 14 Sep 2005 00:03:07 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:cc:in-reply-to:mime-version:content-type:references;
        b=jof8bihOjTF0eAypLE8wueBpryeFro01/xGzZSgyphil1fPeVWPVHKRsYhBshy8Y+MiOc01IOgjSetvGY7E8y64Zx+P/cfJ1pC5cJV7pq0bj8c6eKMRa4KamO/LJPYivFyhVa3nuU/POP3HlOJF/pELAX7dDXRsRfPl7dTcEc44=
Received: by 10.54.77.12 with SMTP id z12mr1074675wra;
        Wed, 14 Sep 2005 00:03:07 -0700 (PDT)
Received: by 10.54.13.32 with HTTP; Wed, 14 Sep 2005 00:03:06 -0700 (PDT)
Message-ID: <50f43336050914000330c1a2dd@mail.gmail.com>
Date: Wed, 14 Sep 2005 00:03:07 -0700
From: Jeff Rodenburg <jeff.rodenburg@gmail.com>
Reply-To: jeff.rodenburg@gmail.com
To: Chris Hostetter <hossman_lucene@fucit.org>
Subject: Re: Hits issue or custom filter issue?
Cc: java-user@lucene.apache.org
In-Reply-To: <50f43336050913175362b1d2ce@mail.gmail.com>
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_6539_10878498.1126681387017"
References: <50f43336050913162359cf6377@mail.gmail.com>
	 <Pine.LNX.4.58.0509131643360.32691@hal.rescomp.berkeley.edu>
	 <50f43336050913172248872b55@mail.gmail.com>
	 <Pine.LNX.4.58.0509131738530.4677@hal.rescomp.berkeley.edu>
	 <50f43336050913175362b1d2ce@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_6539_10878498.1126681387017
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Good call, Chris.....I followed the BitSet comparison route and found that=
=20
the custom filter was working exactly as it should, but *I* wasn't passing=
=20
it correct data. Rookie mistake.

Doh! I hate it when that happens.

-- j


On 9/13/05, Jeff Rodenburg <jeff.rodenburg@gmail.com> wrote:
>=20
>=20
> On 9/13/05, Chris Hostetter <hossman_lucene@fucit.org> wrote:
> >=20
> >=20
> > I just had another thought: is the number of results you get back from
> > each of the filters the same as the number you get back if you apply no
> > filter?
>=20
>=20
> In one case yes, in another case no. I've been able to test to either som=
e=20
> results, or zero results. Very strange.
> I'll post some test code in a while.
>=20
> If so, then:
> >=20
> > a) Perhaps you don't realize this, but a Filter can never be used to=20
> > increase the number of results returned by a query. Filter's can only
> > limit the number of items returned. No matter how many bits are set to
> > true in the BitSet you return, the Searcher won't even check the bits=
=20
> > for=20
> > documents with a score of zero.
>=20
>=20
> Haven't checked the scores of the returning documents in the aggregated=
=20
> result set, but believe (on appearance) that they have greater-than-zero=
=20
> scores.
>=20
>=20
> b) Is it possible that your filter isn't doing anything all, ie: is there
> > any execution path that may return a BitSet in which every bit is set?=
=20
>=20
>=20
> It's either doing nothing or not working at all. This seems to be the=20
> likely culprit. Strangely enough, the custom filter is used previously an=
d=20
> works fine.
>=20
> ...also, an easy way to sanity test your CustomFilter is to skip the Quer=
y
> > object alltogether, and just call the Filter.bits(IndexReader) directly
> > on each filter, and compare the BitSets you get back. if they are
> > .equals() then there's your problem.
>=20
>=20
> Will do the step-through following this manner and post the results.
>=20
> -- j
>=20
> : Date: Tue, 13 Sep 2005 17:22:49 -0700
> > : From: Jeff Rodenburg < jeff.rodenburg@gmail.com>
> > : Reply-To: java-user@lucene.apache.org, jeff.rodenburg@gmail.com
> > : To: Chris Hostetter < hossman_lucene@fucit.org>
> > : Cc: java-user@lucene.apache.org
> > : Subject: Re: Hits issue or custom filter issue?
> > :
> > : Might be the same issue, haven't been able to determine during a
> > : step-through on the code exec.
> > : You're right, no need to add a new FilteredQuery to the statement,=20
> > just a
> > : search on combinedQuery with a new myCustomFilter.=20
> > : Unfortunately, no joy; same response.
> > :
> > : -- j
> > :
> > : On 9/13/05, Chris Hostetter <hossman_lucene@fucit.org> wrote:
> > : >
> > : >
> > : > : Hits h1 =3D oMultiSearcher.Search(new FilteredQuery(combinedQuery=
,=20
> > new
> > : > : myCustomFilter(1)));
> > : > : Hits h2 =3D oMultiSearcher.Search(new FilteredQuery(combinedQuery=
,=20
> > new
> > : > : myCustomFilter(2)));
> > : >
> > : > ...do you get the same results if you use...=20
> > : >
> > : > Hits h1 =3D oMultiSearcher.search(combinedQuery, myCustomFilter(1))=
;
> > : > Hits h2 =3D oMultiSearcher.search(combinedQuery, myCustomFilter(2))=
;
> > : >
> > : > ...I'm not sure why you wouldn't use that method call instead=20
> > anyway.=20
> > : >
> > : > This may be another sympton of a bug that worked in the trunk when =
i
> > : > reported it...
> > : >
> > : > http://issues.apache.org/jira/secure/ViewIssue.jspa?key=3DLUCENE-36=
6=20
> > : >
> > : >
> > : >
> > : > -Hoss
> > : >
> > : >
> > :
> >=20
> >=20
> >=20
> > -Hoss
> >=20
> >=20
>

------=_Part_6539_10878498.1126681387017--

From java-user-return-16379-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 14 07:16:11 2005
Return-Path: <java-user-return-16379-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20877 invoked from network); 14 Sep 2005 07:16:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Sep 2005 07:16:11 -0000
Received: (qmail 62143 invoked by uid 500); 14 Sep 2005 07:16:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 61921 invoked by uid 500); 14 Sep 2005 07:16:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 61901 invoked by uid 99); 14 Sep 2005 07:16:04 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Sep 2005 00:16:04 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=HTML_90_100,HTML_MESSAGE,MIME_HTML_MOSTLY
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [202.144.61.68] (HELO delmail1.sapient.com) (202.144.61.68)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Sep 2005 00:16:14 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C5B8FC.272EB276"
Subject: please unsubscribe me
Date: Wed, 14 Sep 2005 12:45:57 +0530
Message-ID: <88B56FBAEB84EC448511C30CD63D3F8A07C5C086@delmail1.sapient.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: please unsubscribe me
Thread-Index: AcW4/Cb80LXmmR4oQTuGbYTeEmLzSQ==
From: "Neelam Bhatnagar" <nbhatnagar@sapient.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C5B8FC.272EB276
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable

=20
=20
Thanks and regards
Neelam Bhatnagar
=20

------_=_NextPart_001_01C5B8FC.272EB276--

From java-user-return-16380-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 14 07:22:31 2005
Return-Path: <java-user-return-16380-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23260 invoked from network); 14 Sep 2005 07:22:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Sep 2005 07:22:29 -0000
Received: (qmail 73851 invoked by uid 500); 14 Sep 2005 07:22:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73831 invoked by uid 500); 14 Sep 2005 07:22:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73818 invoked by uid 99); 14 Sep 2005 07:22:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Sep 2005 00:22:17 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [134.96.188.26] (HELO mail.dfki.de) (134.96.188.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Sep 2005 00:22:28 -0700
Received: from mail.dfki.de (localhost.dfki.uni-sb.de [127.0.0.1])
	by localhost (Postfix) with ESMTP id 8CEA2E484F
	for <java-user@lucene.apache.org>; Wed, 14 Sep 2005 09:22:14 +0200 (CEST)
Received: from [IPv6:::1] (dave.dfki.uni-sb.de [134.96.184.220])
	by mail.dfki.de (Postfix) with ESMTP id 505BFE4753
	for <java-user@lucene.apache.org>; Wed, 14 Sep 2005 09:22:14 +0200 (CEST)
Mime-Version: 1.0 (Apple Message framework v622)
In-Reply-To: <D9FE5C58-7025-48D5-9EBE-5BBE791F0EE7@apache.org>
References: <D9FE5C58-7025-48D5-9EBE-5BBE791F0EE7@apache.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Message-Id: <d28ddccc1a0ba4d89389326283d479f8@activemath.org>
Content-Transfer-Encoding: quoted-printable
From: Paul Libbrecht <paul@activemath.org>
Subject: Re: Lucene issue tracker moved to JIRA
Date: Wed, 14 Sep 2005 09:22:06 +0200
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.622)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I always had issues with some browser of mine with this URL which has a=20=

tendency to be mistaken with the bugzilla URL (they only differ in=20
path) and hence lets browsers provide wrong passwords...

Are others experiencing the same ? I'll request a virtual host then...

paul


Le 13 sept. 05, =E0 14:45, Erik Hatcher a =E9crit :

> cross-posting to all the Lucene e-mail lists
>
> The Lucene issue tracking system has migrated from Bugzilla to JIRA. =20=

> Please use the new system for all issue tracking activities from this=20=

> point forward:
>
>     http://issues.apache.org/jira/browse/LUCENE
>
> If a Lucene committer has the time to switch our docs to point to=20
> JIRA, that would be most appreciated.  I'll try to do this little if=20=

> no one beats me to it in the next few days.  It's trickier than just=20=

> switching one link - we have links directly into issues in many=20
> places.
>
>     Erik
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16381-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 14 08:07:50 2005
Return-Path: <java-user-return-16381-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53516 invoked from network); 14 Sep 2005 08:07:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Sep 2005 08:07:49 -0000
Received: (qmail 26124 invoked by uid 500); 14 Sep 2005 08:07:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25280 invoked by uid 500); 14 Sep 2005 08:07:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25267 invoked by uid 99); 14 Sep 2005 08:07:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Sep 2005 01:07:44 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [193.252.22.29] (HELO smtp2.wanadoo.fr) (193.252.22.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Sep 2005 01:07:54 -0700
Received: from me-wanadoo.net (localhost [127.0.0.1])
	by mwinf0204.wanadoo.fr (SMTP Server) with ESMTP id C658E1C001CA
	for <java-user@lucene.apache.org>; Wed, 14 Sep 2005 10:07:39 +0200 (CEST)
Received: from [127.0.0.1] (AVelizy-115-2-1-38.w81-48.abo.wanadoo.fr [81.48.163.38])
	by mwinf0204.wanadoo.fr (SMTP Server) with ESMTP id 4483B1C00232
	for <java-user@lucene.apache.org>; Wed, 14 Sep 2005 10:07:39 +0200 (CEST)
X-ME-UUID: 20050914080739281.4483B1C00232@mwinf0204.wanadoo.fr
Message-ID: <4327DA3F.8050504@jalios.com>
Date: Wed, 14 Sep 2005 10:07:27 +0200
From: Olivier Jaquemet <olivier.jaquemet@jalios.com>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: MultiSearcher... Multiple Analyzer
References: <4326D8B4.5060200@jalios.com>
In-Reply-To: <4326D8B4.5060200@jalios.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Olivier Jaquemet wrote:

> I have many indices, one for each language, each one has been indexed 
> using a specific analyzer.
> I want to search in all my indices, but I still want/need to use the 
> same analyzer that has been used for indexing.
> MultiSearch only accept one query, and if I use for example 
> QueryParser, I can only specify one analyzer.
> Is there a (nice) way to do a multi search using as much analyzer as 
> there are indices we are searching in?

Sorry to insist but I really could not find any information on the 
subject either on the FAQ or on the Mailing List, so if you've got some 
more information or suggestion about that, that would be really nice :)



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16382-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 14 10:13:11 2005
Return-Path: <java-user-return-16382-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5859 invoked from network); 14 Sep 2005 10:13:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Sep 2005 10:13:11 -0000
Received: (qmail 71727 invoked by uid 500); 14 Sep 2005 10:13:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71700 invoked by uid 500); 14 Sep 2005 10:13:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 71687 invoked by uid 99); 14 Sep 2005 10:13:03 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Sep 2005 03:13:03 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [212.83.242.16] (HELO mail.anchormen.nl) (212.83.242.16)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Sep 2005 03:13:13 -0700
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Is Lucene for Me?
X-MIMEOLE: Produced By Microsoft Exchange V6.5.7226.0
Date: Wed, 14 Sep 2005 12:12:49 +0200
Message-ID: <24CFCE44DCB015489FB96D38BDF4FCAA07122F@gerard.anchormen.nl>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Is Lucene for Me?
Thread-index: AcW4w/k8C5pxWyGJTdSKs1tDA1y2KQAUJDdQ
From: "Peter Veentjer - Anchor Men" <p.veentjer@anchormen.nl>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

We have replaced the MS SQL-server textsearch functionality=20
by Lucene, and the responses are a lot quicker now. =20

(we have 8.000.000 records).

-----Oorspronkelijk bericht-----
Van: Erik Hatcher [mailto:erik@ehatchersolutions.com]=20
Verzonden: woensdag 14 september 2005 2:33
Aan: java-user@lucene.apache.org
Onderwerp: Re: Is Lucene for Me?


On Sep 13, 2005, at 8:27 PM, James Reynolds wrote:
> Please forgive this low tech question, but I'm wondering if Lucene is=20
> an appropriate solution for a challenge I'm facing.  I need a quick=20
> look up method for a growing list of customers in a database (the=20
> alphabetical select list has become too cumbersome).

> Lucene seems to be an excellent option for a key word search, but I=20
> wonder if it's overkill for my relatively simple need.  Have other=20
> users leveraged Lucene in this manner?

Certainly Lucene could do this quite easily, but since you're already
using a database it would be worth it to explore whether LIKE queries or
full-text capabilities of your database will achieve what you're after
without adding another dependency and related code to your project.

It wouldn't be overkill to use Lucene for this scenario at all if you
can't achieve what you're after within your database as-is.

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16383-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 14 12:05:35 2005
Return-Path: <java-user-return-16383-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45563 invoked from network); 14 Sep 2005 12:05:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Sep 2005 12:05:34 -0000
Received: (qmail 28909 invoked by uid 500); 14 Sep 2005 12:05:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 28886 invoked by uid 500); 14 Sep 2005 12:05:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 28873 invoked by uid 99); 14 Sep 2005 12:05:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Sep 2005 05:05:29 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [128.230.248.25] (HELO gwia201.syr.edu) (128.230.248.25)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Sep 2005 05:05:39 -0700
Received: from MTA2-MTA by gwia201.syr.edu
	with Novell_GroupWise; Wed, 14 Sep 2005 08:05:26 -0400
Message-Id: <s327d9c6.069@gwia201.syr.edu>
X-Mailer: Novell GroupWise Internet Agent 6.5.1 
Date: Wed, 14 Sep 2005 08:04:49 -0400
From: "Grant Ingersoll" <GSIngers@syr.edu>
To: <java-user@lucene.apache.org>
Subject: Re: MultiSearcher... Multiple Analyzer
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I store an Index (not part of Lucene) object w/ the Lucene index that
contains a bunch of metadata about the index, one being the name of the
Analyzer used (other things include the language of the Index, which
field contains a unique document identifier (not the internal Lucene
id), etc.  Then at search time, I just get an new instance of that
Analyzer and pass it to the query parser and do my searches.  Then you
just need a mechanism for managing your Index, which is pretty
straightforward (hash by location or something like that)

>>> olivier.jaquemet@jalios.com 09/14/05 4:07 AM >>>
Olivier Jaquemet wrote:

> I have many indices, one for each language, each one has been indexed

> using a specific analyzer.
> I want to search in all my indices, but I still want/need to use the

> same analyzer that has been used for indexing.
> MultiSearch only accept one query, and if I use for example 
> QueryParser, I can only specify one analyzer.
> Is there a (nice) way to do a multi search using as much analyzer as

> there are indices we are searching in?

Sorry to insist but I really could not find any information on the 
subject either on the FAQ or on the Mailing List, so if you've got some

more information or suggestion about that, that would be really nice
:)



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org 
For additional commands, e-mail: java-user-help@lucene.apache.org 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16384-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 14 12:30:29 2005
Return-Path: <java-user-return-16384-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53869 invoked from network); 14 Sep 2005 12:30:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Sep 2005 12:30:28 -0000
Received: (qmail 79709 invoked by uid 500); 14 Sep 2005 12:30:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 79578 invoked by uid 500); 14 Sep 2005 12:30:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 79565 invoked by uid 99); 14 Sep 2005 12:30:23 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Sep 2005 05:30:23 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [193.252.22.25] (HELO smtp6.wanadoo.fr) (193.252.22.25)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Sep 2005 05:30:34 -0700
Received: from me-wanadoo.net (localhost [127.0.0.1])
	by mwinf0602.wanadoo.fr (SMTP Server) with ESMTP id 80C3D1C000F1
	for <java-user@lucene.apache.org>; Wed, 14 Sep 2005 14:30:17 +0200 (CEST)
Received: from [127.0.0.1] (AVelizy-115-2-1-38.w81-48.abo.wanadoo.fr [81.48.163.38])
	by mwinf0602.wanadoo.fr (SMTP Server) with ESMTP id D9A271C000EC
	for <java-user@lucene.apache.org>; Wed, 14 Sep 2005 14:30:16 +0200 (CEST)
X-ME-UUID: 20050914123016891.D9A271C000EC@mwinf0602.wanadoo.fr
Message-ID: <432817A7.6040409@jalios.com>
Date: Wed, 14 Sep 2005 14:29:27 +0200
From: Olivier Jaquemet <olivier.jaquemet@jalios.com>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: MultiSearcher... Multiple Analyzer
References: <s327d9c6.069@gwia201.syr.edu>
In-Reply-To: <s327d9c6.069@gwia201.syr.edu>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thank you for your answer Grant.
I already have a similar architecture than yours, allowing me do 
retrieve the analyzer used for a specific index.
But how does it solve the problem of doing one search on multiple 
indices using multiple analyzer ?

I'm not sure I was enough clear when asking my question.

Currently here is what can be done using the MultiSearcher;
  // let's pretend for the example that we deal with two languages index,
  // Directory indexDirEn, Directory indexDirEn;
  Searcher[] searchers = { new IndexSearcher(indexDirEN), new 
IndexSearcher(indexDirFR) };
  MultiSearcher searcher = new MultiSearcher(searchers);
  Query query = QueryParser.parse(queryStr, "defaultfield", theAnalyzer));
  Hits hits = searcher.search(query);
As you can see, we user the same analyzer "theAnalyzer" for all indices, 
this is of course a bad idea because each of the indices have been fill 
using a dedicated analyzer.

What I'd like to do is more something like this:
  Searcher[] searchers = { new IndexSearcher(indexDirEN), new 
IndexSearcher(indexDirFR) };
  Analyzer[] analyzers = { enAnalyzer, frAnalyzer };
  MultiSearcher searcher = new MultiSearcher(searchers);
  Query query = QueryParser.parse(queryStr, "defaultfield", analyzers));
  Hits hits = searcher.search(query);
(I undesrstand this code makes no sense, it's just to show that I want 
to specify as many analyzer as there are indices).

Any suggestions?

Olivier

Grant Ingersoll wrote:

>I store an Index (not part of Lucene) object w/ the Lucene index that
>contains a bunch of metadata about the index, one being the name of the
>Analyzer used (other things include the language of the Index, which
>field contains a unique document identifier (not the internal Lucene
>id), etc.  Then at search time, I just get an new instance of that
>Analyzer and pass it to the query parser and do my searches.  Then you
>just need a mechanism for managing your Index, which is pretty
>straightforward (hash by location or something like that)
>




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16385-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 14 13:33:43 2005
Return-Path: <java-user-return-16385-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 83409 invoked from network); 14 Sep 2005 13:33:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Sep 2005 13:33:42 -0000
Received: (qmail 7129 invoked by uid 500); 14 Sep 2005 13:33:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7092 invoked by uid 500); 14 Sep 2005 13:33:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7058 invoked by uid 99); 14 Sep 2005 13:33:33 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Sep 2005 06:33:33 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [195.127.150.126] (HELO mail.jcatalog.de) (195.127.150.126)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Sep 2005 06:33:43 -0700
Received: by mail.jcatalog.de (Postfix, from userid 1079)
	id 3B1597940D8; Wed, 14 Sep 2005 15:32:03 +0200 (CEST)
Received: from localhost.localdomain (localhost.localdomain [127.0.0.1])
	by mail.jcatalog.de (Postfix) with ESMTP id CB5F87940D7
	for <java-user@lucene.apache.org>; Wed, 14 Sep 2005 15:32:01 +0200 (CEST)
Received: from mail.jcatalog.de (localhost.localdomain [127.0.0.1])
	by localhost.localdomain (AvMailGate-2.0.2-9) id 03395-3BBB8821;
	Wed, 14 Sep 2005 15:32:01 +0200
Received: from jCatalog.com (unknown [172.16.154.166])
	by mail.jcatalog.de (Postfix) with ESMTP id A7D387940D7
	for <java-user@lucene.apache.org>; Wed, 14 Sep 2005 15:32:01 +0200 (CEST)
Message-ID: <432825C9.2000507@jCatalog.com>
Date: Wed, 14 Sep 2005 15:29:45 +0200
From: Jochen Franke <Jochen.Franke@jCatalog.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Optimize: java.lang.IndexOutOfBoundsException
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-AntiVirus: checked by AntiVir MailGate (version: 2.0.2-9; AVE: 6.32.0.2; VDF: 6.32.0.8; host: jcatalog.de)
X-Spam-Checker-Version: SpamAssassin 2.60 (1.212-2003-09-23-exp) on 
	mail.jcatalog.de
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, hits=-4.9 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=2.60
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,
   when creating indexes I get exeptions like this one:

java.lang.IndexOutOfBoundsException: Index: 107, Size: 44
	at java.util.ArrayList.RangeCheck(ArrayList.java:507)
	at java.util.ArrayList.get(ArrayList.java:324)
	at org.apache.lucene.index.FieldInfos.fieldInfo(FieldInfos.java:155)
	at org.apache.lucene.index.FieldInfos.fieldName(FieldInfos.java:151)
	at 
org.apache.lucene.index.SegmentTermEnum.readTerm(SegmentTermEnum.java:149)
	at org.apache.lucene.index.SegmentTermEnum.next(SegmentTermEnum.java:115)
	at org.apache.lucene.index.SegmentMergeInfo.next(SegmentMergeInfo.java:52)
	at 
org.apache.lucene.index.SegmentMerger.mergeTermInfos(SegmentMerger.java:294)
	at org.apache.lucene.index.SegmentMerger.mergeTerms(SegmentMerger.java:254)
	at org.apache.lucene.index.SegmentMerger.merge(SegmentMerger.java:93)
	at org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.java:487)
	at org.apache.lucene.index.IndexWriter.optimize(IndexWriter.java:366)


This happens in the IndexWriter.optimize() call after all documents have 
been added and before closing the IndexWriter. The index is created from 
scratch in this process.

The exception seems to occur only when the number of document exceeds a 
certain limit (30000 documents work, 100000 documents do not work).

The problem only occurs on a Linux server! On a Windows server the same
build of the indexing application indexes the same data without any 
problems.

Here some details on the environment:

- Lucene-1.4.3

- Linux server:
   - Redhat Enterprise Linux 3AS
     Linux MedusaApp 2.4.21-20.EL #1 SMP Wed Aug 18 20:34:58 EDT 2004
     x86_64 x86_64 x86_64 GNU/Linux
   - Dual Xeon 3Ghz (8GB)
   - Java(TM) 2 Runtime Environment, Standard Edition
     (build 1.4.2_09-b05)
     Java HotSpot(TM) Client VM (build 1.4.2_09-b05, mixed mode)
   - java -Xmx1024M

- Windows server:
   - Microsoft Windows Server 2003
   - Dual Xeon 3Ghz (3,75GB)
   - java version "1.4.2_03"
     Java(TM) 2 Runtime Environment, Standard Edition
     (build 1.4.2_03-b02)
     Java HotSpot(TM) Client VM (build 1.4.2_03-b02, mixed mode)
   - java Xmx512M


Has anybody an idea what causes this problem or experienced something 
similar?

Thanks in advance,
   Jochen


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16386-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 14 14:41:59 2005
Return-Path: <java-user-return-16386-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 12834 invoked from network); 14 Sep 2005 14:41:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Sep 2005 14:41:59 -0000
Received: (qmail 34067 invoked by uid 500); 14 Sep 2005 14:41:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34036 invoked by uid 500); 14 Sep 2005 14:41:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34022 invoked by uid 99); 14 Sep 2005 14:41:52 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Sep 2005 07:41:52 -0700
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.75.234.2] (HELO smtpgate.saa-cons.co.uk) (194.75.234.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Sep 2005 07:42:02 -0700
Received: (from uucp@localhost)
	by smtpgate.saa-cons.co.uk (8.8.8/8.8.8) id PAA24160
	for <java-user@lucene.apache.org>; Wed, 14 Sep 2005 15:45:20 +0100 (BST)
	(envelope-from Paul.Illingworth@saaconsultants.com)
Received: from domino-mail.saa-cons.co.uk(10.10.10.4) by smtpgate.saa-cons.co.uk via smap (V2.1)
	id xma024151; Wed, 14 Sep 05 15:45:12 +0100
In-Reply-To: <432817A7.6040409@jalios.com>
Subject: Re: MultiSearcher... Multiple Analyzer
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 6.5.1 January 21, 2004
Message-ID: <OF703DF83D.27D0F901-ON8025707C.0050AA57-8025707C.0050C790@SAAConsultants.com>
From: Paul.Illingworth@saaconsultants.com
Date: Wed, 14 Sep 2005 15:45:24 +0100
X-MIMETrack: Serialize by Router on domino-mail/Saa(Release 6.5.1|January 21, 2004) at
 14/09/2005 15:45:24
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N






Just some thoughts - no answers.

As the analyser for each index is different then the query produced by the
query parser will be different.

It may be that you will have to create a query per index then run the
multiple queries on each index separately. You would then need to somehow
combine the results. It may be that you can create a specialised
HitCollector that will merge the results for you.

Regards

Paul I.

Olivier Jaquemet <olivier.jaquemet@jalios.com> wrote on 14/09/2005
13:29:27:

> Thank you for your answer Grant.
> I already have a similar architecture than yours, allowing me do
> retrieve the analyzer used for a specific index.
> But how does it solve the problem of doing one search on multiple
> indices using multiple analyzer ?
>
> I'm not sure I was enough clear when asking my question.
>
> Currently here is what can be done using the MultiSearcher;
>   // let's pretend for the example that we deal with two languages index,
>   // Directory indexDirEn, Directory indexDirEn;
>   Searcher[] searchers = { new IndexSearcher(indexDirEN), new
> IndexSearcher(indexDirFR) };
>   MultiSearcher searcher = new MultiSearcher(searchers);
>   Query query = QueryParser.parse(queryStr, "defaultfield",
theAnalyzer));
>   Hits hits = searcher.search(query);
> As you can see, we user the same analyzer "theAnalyzer" for all indices,
> this is of course a bad idea because each of the indices have been fill
> using a dedicated analyzer.
>
> What I'd like to do is more something like this:
>   Searcher[] searchers = { new IndexSearcher(indexDirEN), new
> IndexSearcher(indexDirFR) };
>   Analyzer[] analyzers = { enAnalyzer, frAnalyzer };
>   MultiSearcher searcher = new MultiSearcher(searchers);
>   Query query = QueryParser.parse(queryStr, "defaultfield", analyzers));
>   Hits hits = searcher.search(query);
> (I undesrstand this code makes no sense, it's just to show that I want
> to specify as many analyzer as there are indices).
>
> Any suggestions?
>
> Olivier
>
> Grant Ingersoll wrote:
>
> >I store an Index (not part of Lucene) object w/ the Lucene index that
> >contains a bunch of metadata about the index, one being the name of the
> >Analyzer used (other things include the language of the Index, which
> >field contains a unique document identifier (not the internal Lucene
> >id), etc.  Then at search time, I just get an new instance of that
> >Analyzer and pass it to the query parser and do my searches.  Then you
> >just need a mechanism for managing your Index, which is pretty
> >straightforward (hash by location or something like that)
> >
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16387-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 14 14:42:49 2005
Return-Path: <java-user-return-16387-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13378 invoked from network); 14 Sep 2005 14:42:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Sep 2005 14:42:49 -0000
Received: (qmail 36078 invoked by uid 500); 14 Sep 2005 14:42:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36050 invoked by uid 500); 14 Sep 2005 14:42:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 36037 invoked by uid 99); 14 Sep 2005 14:42:38 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Sep 2005 07:42:38 -0700
X-ASF-Spam-Status: No, hits=3.6 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,MSGID_FROM_MTA_HEADER,RCVD_IN_BL_SPAMCOP_NET,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of fersher@hotmail.com designates 65.54.224.35 as permitted sender)
Received: from [65.54.224.35] (HELO hotmail.com) (65.54.224.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Sep 2005 07:42:48 -0700
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Wed, 14 Sep 2005 07:42:03 -0700
Message-ID: <BAY105-F25A79A9BE7EB03CEBAEEE6B29F0@phx.gbl>
Received: from 65.54.224.200 by by105fd.bay105.hotmail.msn.com with HTTP;
	Wed, 14 Sep 2005 14:42:03 GMT
X-Originating-IP: [65.54.224.200]
X-Originating-Email: [fersher@hotmail.com]
X-Sender: fersher@hotmail.com
From: "christopher may" <fersher@hotmail.com>
To: java-user@lucene.apache.org
Subject: Blackberry
Date: Wed, 14 Sep 2005 10:42:03 -0400
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
X-OriginalArrivalTime: 14 Sep 2005 14:42:03.0594 (UTC) FILETIME=[78CE12A0:01C5B93A]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Can anyone tell me how I can load lucene on to a blackberry. I would really 
like to load it into there JDE and run it on the simulator so as much help 
you can provide would be greatly appreciated. Thanks



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16388-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 14 14:45:26 2005
Return-Path: <java-user-return-16388-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14921 invoked from network); 14 Sep 2005 14:45:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Sep 2005 14:45:26 -0000
Received: (qmail 42203 invoked by uid 500); 14 Sep 2005 14:45:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42182 invoked by uid 500); 14 Sep 2005 14:45:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42169 invoked by uid 99); 14 Sep 2005 14:45:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Sep 2005 07:45:20 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.44.16.11] (HELO getopt.org) (69.44.16.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Sep 2005 07:45:30 -0700
Received: from [192.168.101.96] ([213.80.34.34])
	(authenticated)
	by getopt.org (8.11.6/8.11.6) with ESMTP id j8EEjPH07542
	for <java-user@lucene.apache.org>; Wed, 14 Sep 2005 09:45:26 -0500
Message-ID: <43283779.1020806@getopt.org>
Date: Wed, 14 Sep 2005 16:45:13 +0200
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Blackberry
References: <BAY105-F25A79A9BE7EB03CEBAEEE6B29F0@phx.gbl>
In-Reply-To: <BAY105-F25A79A9BE7EB03CEBAEEE6B29F0@phx.gbl>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

christopher may wrote:
> 
> Can anyone tell me how I can load lucene on to a blackberry. I would 
> really like to load it into there JDE and run it on the simulator so as 
> much help you can provide would be greatly appreciated. Thanks

I don't think it's at all possible. Lucene requires at least JDK 1.3.x 
compatibility, and recent release I think requires even 1.4.x ...


-- 
Best regards,
Andrzej Bialecki     <><
  ___. ___ ___ ___ _ _   __________________________________
[__ || __|__/|__||\/|  Information Retrieval, Semantic Web
___|||__||  \|  ||  |  Embedded Unix, System Integration
http://www.sigram.com  Contact: info at sigram dot com


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16389-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 14 14:50:39 2005
Return-Path: <java-user-return-16389-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17661 invoked from network); 14 Sep 2005 14:50:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Sep 2005 14:50:38 -0000
Received: (qmail 54781 invoked by uid 500); 14 Sep 2005 14:50:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54758 invoked by uid 500); 14 Sep 2005 14:50:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54745 invoked by uid 99); 14 Sep 2005 14:50:33 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Sep 2005 07:50:33 -0700
X-ASF-Spam-Status: No, hits=3.6 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,MSGID_FROM_MTA_HEADER,RCVD_IN_BL_SPAMCOP_NET,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of fersher@hotmail.com designates 65.54.224.40 as permitted sender)
Received: from [65.54.224.40] (HELO hotmail.com) (65.54.224.40)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Sep 2005 07:50:41 -0700
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Wed, 14 Sep 2005 07:50:28 -0700
Message-ID: <BAY105-F30FA24C343E9C288B124F4B29F0@phx.gbl>
Received: from 65.54.224.200 by by105fd.bay105.hotmail.msn.com with HTTP;
	Wed, 14 Sep 2005 14:50:28 GMT
X-Originating-IP: [65.54.224.200]
X-Originating-Email: [fersher@hotmail.com]
X-Sender: fersher@hotmail.com
In-Reply-To: <43283779.1020806@getopt.org>
From: "christopher may" <fersher@hotmail.com>
To: java-user@lucene.apache.org
Subject: Re: Blackberry
Date: Wed, 14 Sep 2005 10:50:28 -0400
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
X-OriginalArrivalTime: 14 Sep 2005 14:50:28.0748 (UTC) FILETIME=[A5E674C0:01C5B93B]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

MOBIC has a article listing as follows " Finally a search engine is 
available, thanks to the Apache Lucene team." so I am to assume that this 
does include blackberry devices. If your not familar with mobic check out 
there site at
http://www.mobic.com/news/publisher/view.do?id=2913

>From: Andrzej Bialecki <ab@getopt.org>
>Reply-To: java-user@lucene.apache.org
>To: java-user@lucene.apache.org
>Subject: Re: Blackberry
>Date: Wed, 14 Sep 2005 16:45:13 +0200
>
>christopher may wrote:
>>
>>Can anyone tell me how I can load lucene on to a blackberry. I would 
>>really like to load it into there JDE and run it on the simulator so as 
>>much help you can provide would be greatly appreciated. Thanks
>
>I don't think it's at all possible. Lucene requires at least JDK 1.3.x 
>compatibility, and recent release I think requires even 1.4.x ...
>
>
>--
>Best regards,
>Andrzej Bialecki     <><
>  ___. ___ ___ ___ _ _   __________________________________
>[__ || __|__/|__||\/|  Information Retrieval, Semantic Web
>___|||__||  \|  ||  |  Embedded Unix, System Integration
>http://www.sigram.com  Contact: info at sigram dot com
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16390-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 14 14:59:39 2005
Return-Path: <java-user-return-16390-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23160 invoked from network); 14 Sep 2005 14:59:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Sep 2005 14:59:39 -0000
Received: (qmail 80382 invoked by uid 500); 14 Sep 2005 14:59:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80350 invoked by uid 500); 14 Sep 2005 14:59:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80336 invoked by uid 99); 14 Sep 2005 14:59:27 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Sep 2005 07:59:27 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.44.16.11] (HELO getopt.org) (69.44.16.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Sep 2005 07:59:37 -0700
Received: from [192.168.101.96] ([213.80.34.34])
	(authenticated)
	by getopt.org (8.11.6/8.11.6) with ESMTP id j8EExXV09636
	for <java-user@lucene.apache.org>; Wed, 14 Sep 2005 09:59:34 -0500
Message-ID: <43283AC9.7010404@getopt.org>
Date: Wed, 14 Sep 2005 16:59:21 +0200
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Blackberry
References: <BAY105-F30FA24C343E9C288B124F4B29F0@phx.gbl>
In-Reply-To: <BAY105-F30FA24C343E9C288B124F4B29F0@phx.gbl>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

christopher may wrote:
> MOBIC has a article listing as follows " Finally a search engine is 
> available, thanks to the Apache Lucene team." so I am to assume that 
> this does include blackberry devices. If your not familar with mobic 
> check out there site at
> http://www.mobic.com/news/publisher/view.do?id=2913

Hmm, you missed their point - their WEBSITE grew a search engine powered 
by Lucene.

Again, until mobile devices can run JDK 1.4.x (not likely to happen 
anytime), Lucene is not going to run on them without significant changes.

-- 
Best regards,
Andrzej Bialecki     <><
  ___. ___ ___ ___ _ _   __________________________________
[__ || __|__/|__||\/|  Information Retrieval, Semantic Web
___|||__||  \|  ||  |  Embedded Unix, System Integration
http://www.sigram.com  Contact: info at sigram dot com


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16391-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 14 15:04:37 2005
Return-Path: <java-user-return-16391-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24826 invoked from network); 14 Sep 2005 15:04:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Sep 2005 15:04:36 -0000
Received: (qmail 88192 invoked by uid 500); 14 Sep 2005 15:04:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88160 invoked by uid 500); 14 Sep 2005 15:04:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88144 invoked by uid 99); 14 Sep 2005 15:04:31 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Sep 2005 08:04:31 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [193.252.22.30] (HELO smtp1.wanadoo.fr) (193.252.22.30)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Sep 2005 08:04:42 -0700
Received: from me-wanadoo.net (localhost [127.0.0.1])
	by mwinf0104.wanadoo.fr (SMTP Server) with ESMTP id D1A771FFFFB5
	for <java-user@lucene.apache.org>; Wed, 14 Sep 2005 17:04:26 +0200 (CEST)
Received: from [127.0.0.1] (AVelizy-115-2-1-38.w81-48.abo.wanadoo.fr [81.48.163.38])
	by mwinf0104.wanadoo.fr (SMTP Server) with ESMTP id 9CC301FFFFAF
	for <java-user@lucene.apache.org>; Wed, 14 Sep 2005 17:04:26 +0200 (CEST)
X-ME-UUID: 20050914150426642.9CC301FFFFAF@mwinf0104.wanadoo.fr
Message-ID: <43283BB1.40900@jalios.com>
Date: Wed, 14 Sep 2005 17:03:13 +0200
From: Olivier Jaquemet <olivier.jaquemet@jalios.com>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: MultiSearcher... Multiple Analyzer
References: <OF703DF83D.27D0F901-ON8025707C.0050AA57-8025707C.0050C790@SAAConsultants.com>
In-Reply-To: <OF703DF83D.27D0F901-ON8025707C.0050AA57-8025707C.0050C790@SAAConsultants.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Paul.Illingworth@saaconsultants.com wrote:

>Just some thoughts - no answers.
>
>As the analyser for each index is different then the query produced by the
>query parser will be different.
>  
>
I had understand it this way, thank you for confirming it.

>It may be that you will have to create a query per index then run the
>multiple queries on each index separately. You would then need to somehow
>combine the results. It may be that you can create a specialised
>HitCollector that will merge the results for you.
>  
>
This is what I was afraid of... I'll try to look a bit more at HitCollector.

>Regards
>
>Paul I.
>  
>
Thanks for your "thoughts" on this problem! :)

Regards,
Olivier



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16392-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 14 15:12:51 2005
Return-Path: <java-user-return-16392-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 27662 invoked from network); 14 Sep 2005 15:12:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Sep 2005 15:12:50 -0000
Received: (qmail 2963 invoked by uid 500); 14 Sep 2005 15:12:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2788 invoked by uid 500); 14 Sep 2005 15:12:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2774 invoked by uid 99); 14 Sep 2005 15:12:43 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Sep 2005 08:12:43 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.162.111.57] (HELO mhub3.pass-consulting.com) (194.162.111.57)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 14 Sep 2005 08:12:53 -0700
Received: (qmail 6274 invoked from network); 14 Sep 2005 15:17:26 -0000
Received: from abmx.pass-consulting.com (10.0.0.208)
  by mhub3.pass.intern with SMTP; 14 Sep 2005 15:17:26 -0000
Received: from ws310024 ([202.9.121.178]) by abmx.pass-consulting.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Wed, 14 Sep 2005 17:12:38 +0200
From: "Madhu Satyanarayana Panitini" <Madhu.Panitini@pass-consulting.com>
To: <java-user@lucene.apache.org>
Subject: preserving document attributes
Date: Wed, 14 Sep 2005 20:34:44 +0530
Message-ID: <000001c5b93d$a6559f60$7c00320a@passindien.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2627
Importance: Normal
In-Reply-To: <BAY105-F25A79A9BE7EB03CEBAEEE6B29F0@phx.gbl>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-OriginalArrivalTime: 14 Sep 2005 15:12:38.0798 (UTC) FILETIME=[BEABFAE0:01C5B93E]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Hi all

I have text docs similar to the TREC format some think like this

<file>
<author>xxxxxxxx</author>
<publischer>yyyyyyyy</publischer>
<text>
Full text search with one or more keywords with advanced search
operators to enhance search has to be implemented. Advanced search with
document attributes like author, title, type and Meta keyword in
addition to the search term should be implemented.
</text>
</file>

with this type of doc I can index text between "<text>" tags, but I want
to preserve the data in the other tags as well like
<author>xxxxxxxx</author>
<publischer>yyyyyyyy</publischer>.

Because the user when searching for docs he will use author as atribute
for searching Doc,

Is there any possibility to index the author and publischer data and use
in the search.  please tell me how can I index and use in search.

And also please guide me with methods or references in IR  that use
attributes of DOC for search purpose.

Thanks in advance
Madhu


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16393-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 14 15:20:40 2005
Return-Path: <java-user-return-16393-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30165 invoked from network); 14 Sep 2005 15:20:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Sep 2005 15:20:40 -0000
Received: (qmail 12821 invoked by uid 500); 14 Sep 2005 15:20:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 12468 invoked by uid 500); 14 Sep 2005 15:20:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 12450 invoked by uid 99); 14 Sep 2005 15:20:34 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Sep 2005 08:20:34 -0700
X-ASF-Spam-Status: No, hits=3.6 required=10.0
	tests=DNS_FROM_RFC_ABUSE,DNS_FROM_RFC_POST,MSGID_FROM_MTA_HEADER,RCVD_IN_BL_SPAMCOP_NET,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of fersher@hotmail.com designates 65.54.224.48 as permitted sender)
Received: from [65.54.224.48] (HELO hotmail.com) (65.54.224.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Sep 2005 08:20:43 -0700
Received: from mail pickup service by hotmail.com with Microsoft SMTPSVC;
	 Wed, 14 Sep 2005 08:13:41 -0700
Message-ID: <BAY105-F388F93095E0CF37635B376B29F0@phx.gbl>
Received: from 65.54.224.200 by by105fd.bay105.hotmail.msn.com with HTTP;
	Wed, 14 Sep 2005 15:13:41 GMT
X-Originating-IP: [65.54.224.200]
X-Originating-Email: [fersher@hotmail.com]
X-Sender: fersher@hotmail.com
In-Reply-To: <43283AC9.7010404@getopt.org>
From: "christopher may" <fersher@hotmail.com>
To: java-user@lucene.apache.org
Subject: Re: Blackberry
Date: Wed, 14 Sep 2005 11:13:41 -0400
Mime-Version: 1.0
Content-Type: text/plain; format=flowed
X-OriginalArrivalTime: 14 Sep 2005 15:13:41.0634 (UTC) FILETIME=[E41FFE20:01C5B93E]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Well it is being run on the Sharp Zarus PDA's which are running a embedded 
Linux so not sure why the mobile J2me would'nt work on a Blackberry.


>From: Andrzej Bialecki <ab@getopt.org>
>Reply-To: java-user@lucene.apache.org
>To: java-user@lucene.apache.org
>Subject: Re: Blackberry
>Date: Wed, 14 Sep 2005 16:59:21 +0200
>
>christopher may wrote:
>>MOBIC has a article listing as follows " Finally a search engine is 
>>available, thanks to the Apache Lucene team." so I am to assume that this 
>>does include blackberry devices. If your not familar with mobic check out 
>>there site at
>>http://www.mobic.com/news/publisher/view.do?id=2913
>
>Hmm, you missed their point - their WEBSITE grew a search engine powered by 
>Lucene.
>
>Again, until mobile devices can run JDK 1.4.x (not likely to happen 
>anytime), Lucene is not going to run on them without significant changes.
>
>--
>Best regards,
>Andrzej Bialecki     <><
>  ___. ___ ___ ___ _ _   __________________________________
>[__ || __|__/|__||\/|  Information Retrieval, Semantic Web
>___|||__||  \|  ||  |  Embedded Unix, System Integration
>http://www.sigram.com  Contact: info at sigram dot com
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16394-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 14 15:39:39 2005
Return-Path: <java-user-return-16394-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 36724 invoked from network); 14 Sep 2005 15:39:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Sep 2005 15:39:38 -0000
Received: (qmail 33866 invoked by uid 500); 14 Sep 2005 15:39:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 33836 invoked by uid 500); 14 Sep 2005 15:39:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 33817 invoked by uid 99); 14 Sep 2005 15:39:34 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Sep 2005 08:39:34 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [131.167.253.61] (HELO ws-bco-smtp1.IM.BATTELLE.ORG) (131.167.253.61)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Sep 2005 08:39:43 -0700
Received: from [131.167.170.26] by smtp.BATTELLE.ORG (PMDF V6.2-X26 #30874)
 with ESMTP id <OL8W08Q8URT4DI01L4@smtp.BATTELLE.ORG> for
 java-user@lucene.apache.org; Wed,
 14 Sep 2005 11:39:22 -0400 (Eastern Daylight Time)
Date: Wed, 14 Sep 2005 11:38:58 -0400
From: Dan Funk <funkd@BATTELLE.ORG>
Subject: Re: Blackberry
In-reply-to: <BAY105-F388F93095E0CF37635B376B29F0@phx.gbl>
To: java-user@lucene.apache.org
Message-id: <43284412.9050803@battelle.org>
MIME-version: 1.0
Content-type: text/plain; format=flowed; charset=ISO-8859-1
Content-transfer-encoding: 7bit
X-Accept-Language: en-us, en
User-Agent: Mozilla Thunderbird 1.0.2 (X11/20050317)
References: <BAY105-F388F93095E0CF37635B376B29F0@phx.gbl>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Yep, runs great on the zaurus and we got lucene running on an Ipaq 3970 
as well (we used  the Creme JVM).  Not sure what you would need to do 
for the Blackberry, PDAs are so different, but I'd love to hear if you 
get it working.



christopher may wrote:

> Well it is being run on the Sharp Zarus PDA's which are running a 
> embedded Linux so not sure why the mobile J2me would'nt work on a 
> Blackberry.
>
>
>> From: Andrzej Bialecki <ab@getopt.org>
>> Reply-To: java-user@lucene.apache.org
>> To: java-user@lucene.apache.org
>> Subject: Re: Blackberry
>> Date: Wed, 14 Sep 2005 16:59:21 +0200
>>
>> christopher may wrote:
>>
>>> MOBIC has a article listing as follows " Finally a search engine is 
>>> available, thanks to the Apache Lucene team." so I am to assume that 
>>> this does include blackberry devices. If your not familar with mobic 
>>> check out there site at
>>> http://www.mobic.com/news/publisher/view.do?id=2913
>>
>>
>> Hmm, you missed their point - their WEBSITE grew a search engine 
>> powered by Lucene.
>>
>> Again, until mobile devices can run JDK 1.4.x (not likely to happen 
>> anytime), Lucene is not going to run on them without significant 
>> changes.
>>
>> -- 
>> Best regards,
>> Andrzej Bialecki     <><
>>  ___. ___ ___ ___ _ _   __________________________________
>> [__ || __|__/|__||\/|  Information Retrieval, Semantic Web
>> ___|||__||  \|  ||  |  Embedded Unix, System Integration
>> http://www.sigram.com  Contact: info at sigram dot com
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16395-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 14 16:06:01 2005
Return-Path: <java-user-return-16395-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45841 invoked from network); 14 Sep 2005 16:06:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Sep 2005 16:06:00 -0000
Received: (qmail 82410 invoked by uid 500); 14 Sep 2005 16:05:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82374 invoked by uid 500); 14 Sep 2005 16:05:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 82348 invoked by uid 99); 14 Sep 2005 16:05:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Sep 2005 09:05:49 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [128.230.248.25] (HELO gwia201.syr.edu) (128.230.248.25)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Sep 2005 09:05:58 -0700
Received: from MTA2-MTA by gwia201.syr.edu
	with Novell_GroupWise; Wed, 14 Sep 2005 12:05:45 -0400
Message-Id: <s3281219.013@gwia201.syr.edu>
X-Mailer: Novell GroupWise Internet Agent 6.5.1 
Date: Wed, 14 Sep 2005 12:05:35 -0400
From: "Grant Ingersoll" <GSIngers@syr.edu>
To: <java-user@lucene.apache.org>
Subject: Re: MultiSearcher... Multiple Analyzer
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Right, we get a different query for each index .  You can merge the
results, but, from what I understand, the scores are relative to an
index, so comparing scores may not be meaningful. 

>>> Paul.Illingworth@saaconsultants.com 09/14/05 10:45 AM >>>





Just some thoughts - no answers.

As the analyser for each index is different then the query produced by
the
query parser will be different.

It may be that you will have to create a query per index then run the
multiple queries on each index separately. You would then need to
somehow
combine the results. It may be that you can create a specialised
HitCollector that will merge the results for you.

Regards

Paul I.

Olivier Jaquemet <olivier.jaquemet@jalios.com> wrote on 14/09/2005
13:29:27:

> Thank you for your answer Grant.
> I already have a similar architecture than yours, allowing me do
> retrieve the analyzer used for a specific index.
> But how does it solve the problem of doing one search on multiple
> indices using multiple analyzer ?
>
> I'm not sure I was enough clear when asking my question.
>
> Currently here is what can be done using the MultiSearcher;
>   // let's pretend for the example that we deal with two languages
index,
>   // Directory indexDirEn, Directory indexDirEn;
>   Searcher[] searchers = { new IndexSearcher(indexDirEN), new
> IndexSearcher(indexDirFR) };
>   MultiSearcher searcher = new MultiSearcher(searchers);
>   Query query = QueryParser.parse(queryStr, "defaultfield",
theAnalyzer));
>   Hits hits = searcher.search(query);
> As you can see, we user the same analyzer "theAnalyzer" for all
indices,
> this is of course a bad idea because each of the indices have been
fill
> using a dedicated analyzer.
>
> What I'd like to do is more something like this:
>   Searcher[] searchers = { new IndexSearcher(indexDirEN), new
> IndexSearcher(indexDirFR) };
>   Analyzer[] analyzers = { enAnalyzer, frAnalyzer };
>   MultiSearcher searcher = new MultiSearcher(searchers);
>   Query query = QueryParser.parse(queryStr, "defaultfield",
analyzers));
>   Hits hits = searcher.search(query);
> (I undesrstand this code makes no sense, it's just to show that I
want
> to specify as many analyzer as there are indices).
>
> Any suggestions?
>
> Olivier
>
> Grant Ingersoll wrote:
>
> >I store an Index (not part of Lucene) object w/ the Lucene index
that
> >contains a bunch of metadata about the index, one being the name of
the
> >Analyzer used (other things include the language of the Index,
which
> >field contains a unique document identifier (not the internal
Lucene
> >id), etc.  Then at search time, I just get an new instance of that
> >Analyzer and pass it to the query parser and do my searches.  Then
you
> >just need a mechanism for managing your Index, which is pretty
> >straightforward (hash by location or something like that)
> >
>
>
>
>
>
---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org 
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org 
For additional commands, e-mail: java-user-help@lucene.apache.org 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16396-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 14 18:33:38 2005
Return-Path: <java-user-return-16396-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13001 invoked from network); 14 Sep 2005 18:33:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Sep 2005 18:33:38 -0000
Received: (qmail 37980 invoked by uid 500); 14 Sep 2005 18:33:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37960 invoked by uid 500); 14 Sep 2005 18:33:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37944 invoked by uid 99); 14 Sep 2005 18:33:32 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Sep 2005 11:33:32 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of TheRanger@gmx.net designates 213.165.64.20 as permitted sender)
Received: from [213.165.64.20] (HELO mail.gmx.net) (213.165.64.20)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 14 Sep 2005 11:33:41 -0700
Received: (qmail 20876 invoked by uid 0); 14 Sep 2005 18:33:28 -0000
Received: from 193.63.235.44 by www42.gmx.net with HTTP;
	Wed, 14 Sep 2005 20:33:28 +0200 (MEST)
Date: Wed, 14 Sep 2005 20:33:28 +0200 (MEST)
From: "Karl Koch" <TheRanger@gmx.net>
To: java-user@lucene.apache.org
MIME-Version: 1.0
References: <43283779.1020806@getopt.org>
Subject: Re: Blackberry
X-Priority: 3 (Normal)
X-Authenticated: #21808356
Message-ID: <25250.1126722808@www42.gmx.net>
X-Mailer: WWW-Mail 1.6 (Global Message Exchange)
X-Flags: 0001
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I have to disagree. I run Lucene 1.2 on a Sharp Zaurus PDA with Java 1.1
successfully. It is not the latest version, but basic search is no problem
like this. I am not sure if it compiles with Java 1.1 (maybe not) but it
certainly runs with it...

I am completely sure what you mean with loading. I guess you meant running.
>From this perspective, the only thing you need to find out is what virtual
machine you can get for Blackberry, and how you need to write your scripts
and access the Blackberry filesystem so that you can start and run your
application which accesses the Lucene 1.2 library.

Good luck!

Karl

> --- Ursprüngliche Nachricht ---
> Von: Andrzej Bialecki <ab@getopt.org>
> An: java-user@lucene.apache.org
> Betreff: Re: Blackberry
> Datum: Wed, 14 Sep 2005 16:45:13 +0200
> 
> christopher may wrote:
> > 
> > Can anyone tell me how I can load lucene on to a blackberry. I would 
> > really like to load it into there JDE and run it on the simulator so as 
> > much help you can provide would be greatly appreciated. Thanks
> 
> I don't think it's at all possible. Lucene requires at least JDK 1.3.x 
> compatibility, and recent release I think requires even 1.4.x ...
> 
> 
> -- 
> Best regards,
> Andrzej Bialecki     <><
>   ___. ___ ___ ___ _ _   __________________________________
> [__ || __|__/|__||\/|  Information Retrieval, Semantic Web
> ___|||__||  \|  ||  |  Embedded Unix, System Integration
> http://www.sigram.com  Contact: info at sigram dot com
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 

-- 
GMX DSL = Maximale Leistung zum minimalen Preis!
2000 MB nur 2,99, Flatrate ab 4,99 Euro/Monat: http://www.gmx.net/de/go/dsl

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16397-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 14 22:01:23 2005
Return-Path: <java-user-return-16397-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89865 invoked from network); 14 Sep 2005 22:01:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 14 Sep 2005 22:01:23 -0000
Received: (qmail 31286 invoked by uid 500); 14 Sep 2005 22:01:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31268 invoked by uid 500); 14 Sep 2005 22:01:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31255 invoked by uid 99); 14 Sep 2005 22:01:16 -0000
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=HTML_20_30,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (hermes.apache.org: domain of magawake@gmail.com designates 64.233.184.194 as permitted sender)
Received: from [64.233.184.194] (HELO wproxy.gmail.com) (64.233.184.194)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Sep 2005 15:01:16 -0700
Received: by wproxy.gmail.com with SMTP id i13so71384wra
        for <java-user@lucene.apache.org>; Wed, 14 Sep 2005 15:00:15 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=e6pNig1K3c1T857MigWwGNi/sZQkDyeqqtoTKxOwoL4r3bLkIpEz6RgEbfTiVpeR+gjxee9cI8E7vMqAopCfRvrM9rQB4bClfHpTQ/qSO5MM6WBtGDrYY1rulXhclJ628EqRVNHIxdRmFvjt54ddULZOTgo68hGargzAqqqgbfI=
Received: by 10.54.128.3 with SMTP id a3mr1260364wrd;
        Wed, 14 Sep 2005 14:58:04 -0700 (PDT)
Received: by 10.54.132.10 with HTTP; Wed, 14 Sep 2005 14:58:04 -0700 (PDT)
Message-ID: <1cbd6f8305091414586a8c1ac0@mail.gmail.com>
Date: Wed, 14 Sep 2005 17:58:04 -0400
From: Mag Gam <magawake@gmail.com>
Reply-To: magawake@gmail.com
To: java-user@lucene.apache.org
Subject: Re: Is Lucene for Me?
In-Reply-To: <24CFCE44DCB015489FB96D38BDF4FCAA07122F@gerard.anchormen.nl>
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_1576_22290747.1126735084046"
References: <24CFCE44DCB015489FB96D38BDF4FCAA07122F@gerard.anchormen.nl>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_1576_22290747.1126735084046
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

How did you integrate Lucene into MS-SQL server?Are there any plans to=20
integrate Lucene into databases like Apache Derby? Has anyone been able to=
=20
integrate them together? Are there any docs we should look at to get this=
=20
done?




On 9/14/05, Peter Veentjer - Anchor Men <p.veentjer@anchormen.nl> wrote:
>=20
> We have replaced the MS SQL-server textsearch functionality
> by Lucene, and the responses are a lot quicker now.
>=20
> (we have 8.000.000 records).
>=20
> -----Oorspronkelijk bericht-----
> Van: Erik Hatcher [mailto:erik@ehatchersolutions.com]
> Verzonden: woensdag 14 september 2005 2:33
> Aan: java-user@lucene.apache.org
> Onderwerp: Re: Is Lucene for Me?
>=20
>=20
> On Sep 13, 2005, at 8:27 PM, James Reynolds wrote:
> > Please forgive this low tech question, but I'm wondering if Lucene is
> > an appropriate solution for a challenge I'm facing. I need a quick
> > look up method for a growing list of customers in a database (the
> > alphabetical select list has become too cumbersome).
>=20
> > Lucene seems to be an excellent option for a key word search, but I
> > wonder if it's overkill for my relatively simple need. Have other
> > users leveraged Lucene in this manner?
>=20
> Certainly Lucene could do this quite easily, but since you're already
> using a database it would be worth it to explore whether LIKE queries or
> full-text capabilities of your database will achieve what you're after
> without adding another dependency and related code to your project.
>=20
> It wouldn't be overkill to use Lucene for this scenario at all if you
> can't achieve what you're after within your database as-is.
>=20
> Erik
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>

------=_Part_1576_22290747.1126735084046--

From java-user-return-16398-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 15 03:29:41 2005
Return-Path: <java-user-return-16398-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2604 invoked from network); 15 Sep 2005 03:29:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Sep 2005 03:29:40 -0000
Received: (qmail 14947 invoked by uid 500); 15 Sep 2005 03:29:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14933 invoked by uid 500); 15 Sep 2005 03:29:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 83938 invoked by uid 99); 15 Sep 2005 00:30:23 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_30_40,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of beadygeraghty@gmail.com designates 66.249.82.198 as permitted sender)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type;
        b=lel5xSHRsOJKZLh/lgDUqOZAgTym38WxAe020g6LxIMV6kw430DDSOYqNbw5FW36PmL2SSfYMJLKIAhZdEhRXJTP+CuQzhiI9JxXAgi/MiF3nhvnoD6fa015ih/LaU3Yl/xSkbicYMerqz2Xhij8wbxflEEBaW67nTh2QlEo1tc=
Message-ID: <b487c13705091417304bfbfba8@mail.gmail.com>
Date: Wed, 14 Sep 2005 20:30:21 -0400
From: Beady Geraghty <beadygeraghty@gmail.com>
Reply-To: beadygeraghty@gmail.com
To: java-user@lucene.apache.org
Subject: input reader closed after IndexWriter.addDocument(doc)
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_12077_13352071.1126744221418"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_12077_13352071.1126744221418
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

 am new to Lucene. I don't seem to be able to find the answer to my questio=
n
from the archive. I hope to get some help with my problem.
 I have :
 Document doc =3D new Document();
 doc.add( Field.Text( "contents", rdr );
 myIndexWriter.addDocument( doc );
 After this point, it appears that rdr is closed.
 What happens is that I want to subsequently=20
use the rdr again by positioning back to the beginning
of the file, and since I opened the rdr (input stream),
I wasn't expect addDocument to close it.
 I am wondering if there is a reason that rdr should be
closed after addDocument, and if there is a way to leave it open ?
 Thank you.

------=_Part_12077_13352071.1126744221418--

From java-user-return-16399-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 15 06:25:38 2005
Return-Path: <java-user-return-16399-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52380 invoked from network); 15 Sep 2005 06:25:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Sep 2005 06:25:37 -0000
Received: (qmail 35745 invoked by uid 500); 15 Sep 2005 06:25:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35707 invoked by uid 500); 15 Sep 2005 06:25:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35694 invoked by uid 99); 15 Sep 2005 06:25:32 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Sep 2005 23:25:32 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [194.25.134.17] (HELO mailout02.sul.t-online.com) (194.25.134.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Sep 2005 23:25:42 -0700
Received: from fwd34.aul.t-online.de 
	by mailout02.sul.t-online.com with smtp 
	id 1EFnBY-0005WB-01; Thu, 15 Sep 2005 08:25:28 +0200
Received: from EXCH.innosystec.de (ZSVz92ZYreI5gHpofzLrngg1U8LcwG+6y0TMUHjNiEPd67hV12YLcs@[84.154.239.144]) by fwd34.sul.t-online.de
	with esmtp id 1EFnBT-168YMa0; Thu, 15 Sep 2005 08:25:23 +0200
Content-class: urn:content-classes:message
Subject: RE: input reader closed after IndexWriter.addDocument(doc)
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
Date: Thu, 15 Sep 2005 08:25:21 +0200
Message-ID: <FAF7E39D1CED524D8553BB1C969F3EF8303B55@exchange.innosystec.site>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: input reader closed after IndexWriter.addDocument(doc)
thread-index: AcW5pxAKctrk/sarTwGxlKQOqsYsCgAFqDwg
From: "Kunemann Frank" <frank.kunemann@innosystec.de>
To: <java-user@lucene.apache.org>,
	<beadygeraghty@gmail.com>
X-ID: ZSVz92ZYreI5gHpofzLrngg1U8LcwG+6y0TMUHjNiEPd67hV12YLcs@t-dialin.net
X-TOI-MSGID: 8b02d2e7-572a-40b6-ab21-ee28dba1aaf2
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

What stops you from using the reader before you add the document to the
index?

Frank

-----Original Message-----
From: Beady Geraghty [mailto:beadygeraghty@gmail.com]=20
Sent: Thursday, September 15, 2005 2:30 AM
To: java-user@lucene.apache.org
Subject: input reader closed after IndexWriter.addDocument(doc)

 am new to Lucene. I don't seem to be able to find the answer to my
question
from the archive. I hope to get some help with my problem.
 I have :
 Document doc =3D new Document();
 doc.add( Field.Text( "contents", rdr );
 myIndexWriter.addDocument( doc );
 After this point, it appears that rdr is closed.
 What happens is that I want to subsequently=20
use the rdr again by positioning back to the beginning
of the file, and since I opened the rdr (input stream),
I wasn't expect addDocument to close it.
 I am wondering if there is a reason that rdr should be
closed after addDocument, and if there is a way to leave it open ?
 Thank you.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16400-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 15 06:51:10 2005
Return-Path: <java-user-return-16400-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65213 invoked from network); 15 Sep 2005 06:51:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Sep 2005 06:51:09 -0000
Received: (qmail 71454 invoked by uid 500); 15 Sep 2005 06:51:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71359 invoked by uid 500); 15 Sep 2005 06:51:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 71315 invoked by uid 99); 15 Sep 2005 06:51:00 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Sep 2005 23:51:00 -0700
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 14 Sep 2005 23:51:09 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id BE5B65B7B8; Wed, 14 Sep 2005 23:50:52 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP
	id BB75F7F471; Wed, 14 Sep 2005 23:50:52 -0700 (PDT)
Date: Wed, 14 Sep 2005 23:50:52 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Cc: beadygeraghty@gmail.com
Subject: RE: input reader closed after IndexWriter.addDocument(doc)
In-Reply-To: <FAF7E39D1CED524D8553BB1C969F3EF8303B55@exchange.innosystec.site>
Message-ID: <Pine.LNX.4.58.0509142331450.23566@hal.rescomp.berkeley.edu>
References: <FAF7E39D1CED524D8553BB1C969F3EF8303B55@exchange.innosystec.site>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: : I wasn't expect addDocument to close it.
: :  I am wondering if there is a reason that rdr should be
: : closed after addDocument, and if there is a way to leave it open ?

: What stops you from using the reader before you add the document to the
: index?

That doesn't really help people who want to use the same reader for two
different fields (ie: with different analyzers)


I've never accutally used a Field based on a Reader, so it's never occured
to me to wonder who is responsible for closeing the reader -- I agree,
it's strange, and not what i would have expected either.


Looking at the code, it seems really hairy.  I can't see any actual
garuntee that any Reader (including the StringReaders opened under the
cover when you make a Field using a string) will/won't be closed -- if you
use an Analyzer that comes with Lucene, they all seem to use the Tokenizer
class (in one way or another) and *it* is what closes the Reader when it
gets .close()ed -- but there is no reason to believe that any existing of
future third party analyzer will use that class, the API just requires
that they provide a TokenStream (the superclass).  TokenStream's .close()
is abstract, so people are free to write Analyzers that don't close the
Reader's they get.

I can't think of any clean way to change this without causing lots of
backwards compatibility problems for lots of people.


: -----Original Message-----
: From: Beady Geraghty [mailto:beadygeraghty@gmail.com]
: Sent: Thursday, September 15, 2005 2:30 AM
: To: java-user@lucene.apache.org
: Subject: input reader closed after IndexWriter.addDocument(doc)
:
:  am new to Lucene. I don't seem to be able to find the answer to my
: question
: from the archive. I hope to get some help with my problem.
:  I have :
:  Document doc = new Document();
:  doc.add( Field.Text( "contents", rdr );
:  myIndexWriter.addDocument( doc );
:  After this point, it appears that rdr is closed.
:  What happens is that I want to subsequently
: use the rdr again by positioning back to the beginning
: of the file, and since I opened the rdr (input stream),
:  Thank you.
:
:
: ---------------------------------------------------------------------
: To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: For additional commands, e-mail: java-user-help@lucene.apache.org
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16401-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 15 08:08:02 2005
Return-Path: <java-user-return-16401-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 96752 invoked from network); 15 Sep 2005 08:08:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Sep 2005 08:08:01 -0000
Received: (qmail 53012 invoked by uid 500); 15 Sep 2005 08:07:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 52987 invoked by uid 500); 15 Sep 2005 08:07:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 52974 invoked by uid 99); 15 Sep 2005 08:07:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Sep 2005 01:07:53 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [212.83.242.16] (HELO mail.anchormen.nl) (212.83.242.16)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Sep 2005 01:08:03 -0700
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Is Lucene for Me?
X-MIMEOLE: Produced By Microsoft Exchange V6.5.7226.0
Date: Thu, 15 Sep 2005 10:07:40 +0200
Message-ID: <24CFCE44DCB015489FB96D38BDF4FCAA071231@gerard.anchormen.nl>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Is Lucene for Me?
Thread-index: AcW5d9OBZ8/T8iBWSXacOMzMYT/IqwAVDs+A
From: "Peter Veentjer - Anchor Men" <p.veentjer@anchormen.nl>
To: <java-user@lucene.apache.org>,
	<magawake@gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

It is something you have to do yourself and it depends on the
requirements.

One of our db-searcheengines scans the database for updates periodically
(all records have a 'last-modified' field).=20

Another of our solutions doesn`t scan the db, but is activated
by a server application to update the index because something has
changed.

So it depends on the requirements how the integration has to take place
and therefore you can`t make a 'one fits all' solution.
=20

-----Oorspronkelijk bericht-----
Van: Mag Gam [mailto:magawake@gmail.com]=20
Verzonden: woensdag 14 september 2005 23:58
Aan: java-user@lucene.apache.org
Onderwerp: Re: Is Lucene for Me?

How did you integrate Lucene into MS-SQL server?Are there any plans to
integrate Lucene into databases like Apache Derby? Has anyone been able
to integrate them together? Are there any docs we should look at to get
this done?




On 9/14/05, Peter Veentjer - Anchor Men <p.veentjer@anchormen.nl> wrote:
>=20
> We have replaced the MS SQL-server textsearch functionality by Lucene,

> and the responses are a lot quicker now.
>=20
> (we have 8.000.000 records).
>=20
> -----Oorspronkelijk bericht-----
> Van: Erik Hatcher [mailto:erik@ehatchersolutions.com]
> Verzonden: woensdag 14 september 2005 2:33
> Aan: java-user@lucene.apache.org
> Onderwerp: Re: Is Lucene for Me?
>=20
>=20
> On Sep 13, 2005, at 8:27 PM, James Reynolds wrote:
> > Please forgive this low tech question, but I'm wondering if Lucene=20
> > is an appropriate solution for a challenge I'm facing. I need a=20
> > quick look up method for a growing list of customers in a database=20
> > (the alphabetical select list has become too cumbersome).
>=20
> > Lucene seems to be an excellent option for a key word search, but I=20
> > wonder if it's overkill for my relatively simple need. Have other=20
> > users leveraged Lucene in this manner?
>=20
> Certainly Lucene could do this quite easily, but since you're already=20
> using a database it would be worth it to explore whether LIKE queries=20
> or full-text capabilities of your database will achieve what you're=20
> after without adding another dependency and related code to your
project.
>=20
> It wouldn't be overkill to use Lucene for this scenario at all if you=20
> can't achieve what you're after within your database as-is.
>=20
> Erik
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16402-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 15 08:57:19 2005
Return-Path: <java-user-return-16402-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14514 invoked from network); 15 Sep 2005 08:57:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Sep 2005 08:57:19 -0000
Received: (qmail 5810 invoked by uid 500); 15 Sep 2005 08:57:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4916 invoked by uid 500); 15 Sep 2005 08:57:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4903 invoked by uid 99); 15 Sep 2005 08:57:10 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Sep 2005 01:57:10 -0700
X-ASF-Spam-Status: No, hits=1.9 required=10.0
	tests=DNS_FROM_RFC_POST,DNS_FROM_RFC_WHOIS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [216.148.227.89] (HELO rwcrmhc12.comcast.net) (216.148.227.89)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Sep 2005 01:57:20 -0700
Received: from jma (c-67-165-8-214.hsd1.ct.comcast.net[67.165.8.214])
          by comcast.net (rwcrmhc14) with SMTP
          id <2005091508570701400a8k4ke>; Thu, 15 Sep 2005 08:57:08 +0000
From: "JMA" <mrjama@comcast.net>
To: <java-user@lucene.apache.org>
Subject: Terms given a filter?
Date: Thu, 15 Sep 2005 05:00:14 -0400
Message-ID: <005801c5b9d3$e3590ff0$0201a8c0@jma>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
In-Reply-To: <50f43336050913162359cf6377@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Greetings -

I know I can get all the fields in an index: reader.getFieldNames()
and also all the terms:  reader.terms()

However, I need to be able to get all the terms and fields given a search
filter. For example, say I have an index that has crawled 5000 pdf files
(books) and I have the following fields:

content, author (not tokenized), and publish_date

I can easily find all the *distinct* authors in the index using
'reader.terms()'.  But say I want to list all the *distinct* authors that
have published books in 2002?  I can do a simple search to get all the books
filtered by publish_date:2002.  But then I have to do my own scan of the
results and pull out the author, removing duplicates.

Is there an easier way to do this?

Thanks in advance!

JMA





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16403-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 15 09:40:06 2005
Return-Path: <java-user-return-16403-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28500 invoked from network); 15 Sep 2005 09:40:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Sep 2005 09:40:06 -0000
Received: (qmail 42331 invoked by uid 500); 15 Sep 2005 09:40:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42054 invoked by uid 500); 15 Sep 2005 09:39:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42041 invoked by uid 99); 15 Sep 2005 09:39:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Sep 2005 02:39:59 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.10.218] (HELO web26007.mail.ukl.yahoo.com) (217.12.10.218)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 15 Sep 2005 02:40:08 -0700
Received: (qmail 25817 invoked by uid 60001); 15 Sep 2005 09:39:55 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=q69aXg37c9pDPotC9ebkXiKnD7EdrSsCCFeLJhg/q5eWQqwGpylp/s4aC703wKx+k1I/Jr7kqg35RVjo1XiYNIwcXfJ7oef+iyTuGzjI46OvYdKEOa+wCArQ5yImZfVPr6bBCGsnTUPv4LWwh9PkHTKUwCyB54RLcmmWJzABugE=  ;
Message-ID: <20050915093955.25815.qmail@web26007.mail.ukl.yahoo.com>
Received: from [193.36.230.96] by web26007.mail.ukl.yahoo.com via HTTP; Thu, 15 Sep 2005 10:39:55 BST
Date: Thu, 15 Sep 2005 10:39:55 +0100 (BST)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: Re: Terms given a filter?
To: java-user@lucene.apache.org
In-Reply-To: <005801c5b9d3$e3590ff0$0201a8c0@jma>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

This sounds like another "group by" totalling
question.

See the generic "group by" totalling code I posted
here:
http://marc.theaimsgroup.com/?l=lucene-dev&m=111044178212335&w=2

In your example there is no quality threshold (just a
filter bitset of "books in 2002") so you can replace
the "scores" array in the code with a simple bitset
lookup. Also, you do not need the GroupKeyFactory
which can be used to adjust term values (eg truncate
20050101 date field into 2005 for grouping by year).

The code works best when your group field (in your
case "author") doesn't have large volumes of unique
values. It is fast because it uses TermDocs rather
than trying to read any stored doc values - reading
stored fields by calling reader.document() is often
slow because ALL doc fields are read from disk, even
if you only want one of them. Not something to do in a
tight loop.

Cheers,
Mark


		
___________________________________________________________ 
To help you stay safe and secure online, we've developed the all new Yahoo! Security Centre. http://uk.security.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16404-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 15 13:35:12 2005
Return-Path: <java-user-return-16404-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 18835 invoked from network); 15 Sep 2005 13:35:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Sep 2005 13:35:12 -0000
Received: (qmail 17104 invoked by uid 500); 15 Sep 2005 13:35:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17074 invoked by uid 500); 15 Sep 2005 13:35:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17061 invoked by uid 99); 15 Sep 2005 13:35:04 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Sep 2005 06:35:04 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=HTML_20_30,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of beadygeraghty@gmail.com designates 66.249.82.192 as permitted sender)
Received: from [66.249.82.192] (HELO xproxy.gmail.com) (66.249.82.192)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Sep 2005 06:35:15 -0700
Received: by xproxy.gmail.com with SMTP id h29so3972wxd
        for <java-user@lucene.apache.org>; Thu, 15 Sep 2005 06:35:02 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:cc:in-reply-to:mime-version:content-type:references;
        b=I6/qzemqNsnZ8BJEMXNyvGR4+SNFi+TXJaI/UUIeR5+LBnuy9tlq1VZequLfas5h43gklT8NaJFULZ7XYFhfdFzShcVSg6Y7LQxVTeWQFMn5khLFGoP9c1eynktQiFlHs0w3GrI7501JeTVUvYKTrL7aa2QEEDXh5v/hARVZ/YQ=
Received: by 10.70.108.3 with SMTP id g3mr390392wxc;
        Thu, 15 Sep 2005 06:35:02 -0700 (PDT)
Received: by 10.70.31.14 with HTTP; Thu, 15 Sep 2005 06:35:02 -0700 (PDT)
Message-ID: <b487c13705091506356c940393@mail.gmail.com>
Date: Thu, 15 Sep 2005 09:35:02 -0400
From: Beady Geraghty <beadygeraghty@gmail.com>
Reply-To: beadygeraghty@gmail.com
To: Chris Hostetter <hossman_lucene@fucit.org>
Subject: Re: input reader closed after IndexWriter.addDocument(doc)
Cc: java-user@lucene.apache.org
In-Reply-To: <Pine.LNX.4.58.0509142331450.23566@hal.rescomp.berkeley.edu>
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_14060_11544209.1126791302404"
References: <FAF7E39D1CED524D8553BB1C969F3EF8303B55@exchange.innosystec.site>
	 <Pine.LNX.4.58.0509142331450.23566@hal.rescomp.berkeley.edu>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_14060_11544209.1126791302404
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Thank you all for the responses.
 I'll try to work around this.=20


 On 9/15/05, Chris Hostetter <hossman_lucene@fucit.org> wrote:=20
>=20
>=20
> : : I wasn't expect addDocument to close it.
> : : I am wondering if there is a reason that rdr should be
> : : closed after addDocument, and if there is a way to leave it open ?
>=20
> : What stops you from using the reader before you add the document to the
> : index?
>=20
> That doesn't really help people who want to use the same reader for two
> different fields (ie: with different analyzers)
>=20
>=20
> I've never accutally used a Field based on a Reader, so it's never occure=
d
> to me to wonder who is responsible for closeing the reader -- I agree,
> it's strange, and not what i would have expected either.
>=20
>=20
> Looking at the code, it seems really hairy. I can't see any actual
> garuntee that any Reader (including the StringReaders opened under the
> cover when you make a Field using a string) will/won't be closed -- if yo=
u
> use an Analyzer that comes with Lucene, they all seem to use the Tokenize=
r
> class (in one way or another) and *it* is what closes the Reader when it
> gets .close()ed -- but there is no reason to believe that any existing of
> future third party analyzer will use that class, the API just requires
> that they provide a TokenStream (the superclass). TokenStream's .close()
> is abstract, so people are free to write Analyzers that don't close the
> Reader's they get.
>=20
> I can't think of any clean way to change this without causing lots of
> backwards compatibility problems for lots of people.
>=20
>=20
> : -----Original Message-----
> : From: Beady Geraghty [mailto:beadygeraghty@gmail.com]
> : Sent: Thursday, September 15, 2005 2:30 AM
> : To: java-user@lucene.apache.org
> : Subject: input reader closed after IndexWriter.addDocument(doc)
> :
> : am new to Lucene. I don't seem to be able to find the answer to my
> : question
> : from the archive. I hope to get some help with my problem.
> : I have :
> : Document doc =3D new Document();
> : doc.add( Field.Text( "contents", rdr );
> : myIndexWriter.addDocument( doc );
> : After this point, it appears that rdr is closed.
> : What happens is that I want to subsequently
> : use the rdr again by positioning back to the beginning
> : of the file, and since I opened the rdr (input stream),
> : Thank you.
> :
> :
> : ---------------------------------------------------------------------
> : To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> : For additional commands, e-mail: java-user-help@lucene.apache.org
> :
>=20
>=20
>=20
> -Hoss
>=20
>

------=_Part_14060_11544209.1126791302404--

From java-user-return-16405-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 15 16:11:18 2005
Return-Path: <java-user-return-16405-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 81011 invoked from network); 15 Sep 2005 16:11:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Sep 2005 16:11:18 -0000
Received: (qmail 35215 invoked by uid 500); 15 Sep 2005 16:11:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35137 invoked by uid 500); 15 Sep 2005 16:11:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35124 invoked by uid 99); 15 Sep 2005 16:11:12 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Sep 2005 09:11:12 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_30_40,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.49.124] (HELO web54314.mail.yahoo.com) (206.190.49.124)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 15 Sep 2005 09:11:22 -0700
Received: (qmail 30825 invoked by uid 60001); 15 Sep 2005 16:11:10 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=YXNvUwzhOfYuK3P2JQx5Lm3BWsceyl4VS2txToWO4BGkRbgQHkUdP3MwRQ5pa4Dq07GW2v+I07qi1ZGjrokFrJ4P0blBSUkIPvx/Hl/enXLWx7TNnniNtjNwJWrWqXdIbWrtxNvM30gZP9tnaemeDhDuHijMeVbbKYS5tigzQBc=  ;
Message-ID: <20050915161110.30823.qmail@web54314.mail.yahoo.com>
Received: from [141.70.115.175] by web54314.mail.yahoo.com via HTTP; Thu, 15 Sep 2005 09:11:09 PDT
Date: Thu, 15 Sep 2005 09:11:09 -0700 (PDT)
From: tirupathi reddy <tirupathireddy_m@yahoo.com>
Subject: Small problem in searching
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1074111345-1126800669=:30343"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-1074111345-1126800669=:30343
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Hi guys,
 
    I have some problem while searching using Lucene. Say I have some thing like "tirupathireddy"  or "venkatreddy" in the index. When i search for string "reddy" I have to get those things (i.e. "tirupathireddy"   and  "venkatreddy"). I have read in Query syntax of Lucene  that * will not be given at the starting of the search string. SO how can I achiev that. I am in very much need of that. So please help me out.
 
 
  WIth Regards,
TirupatiReddy Manyam.


Tirupati Reddy Manyam 
24-06-08, 
Sundugaullee-24, 
79110 Freiburg 
GERMANY. 

Phone: 00497618811257 
cell : 004917624649007

		
---------------------------------
Yahoo! for Good
 Click here to donate to the Hurricane Katrina relief effort. 
--0-1074111345-1126800669=:30343--

From java-user-return-16406-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 15 16:12:52 2005
Return-Path: <java-user-return-16406-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 81793 invoked from network); 15 Sep 2005 16:12:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Sep 2005 16:12:52 -0000
Received: (qmail 40766 invoked by uid 500); 15 Sep 2005 16:12:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40749 invoked by uid 500); 15 Sep 2005 16:12:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40736 invoked by uid 99); 15 Sep 2005 16:12:46 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Sep 2005 09:12:46 -0700
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_10_20,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.233] (HELO web51802.mail.yahoo.com) (206.190.38.233)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 15 Sep 2005 09:12:56 -0700
Received: (qmail 82094 invoked by uid 60001); 15 Sep 2005 16:12:43 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=hHAr4e8gYj7oPoO480S1lvw2mw8yyo1LugyNyxgLJksFFzth11QHXASR2zjVGKISzg5pBlyKL15gRnymFCAuDhHEyzRmYwqqhLeulJ1do//udAOdAVumv/h0mtptP8iLMyfU8c9tFI2Viy97dImhk0J3dVJ/wulTlaJrZ2huTok=  ;
Message-ID: <20050915161243.82092.qmail@web51802.mail.yahoo.com>
Received: from [66.127.61.92] by web51802.mail.yahoo.com via HTTP; Thu, 15 Sep 2005 09:12:43 PDT
Date: Thu, 15 Sep 2005 09:12:43 -0700 (PDT)
From: James Huang <metaprgmr@yahoo.com>
Subject: Question: force a field must be matched?
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-125781014-1126800763=:80794"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-125781014-1126800763=:80794
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Suppose I have a book index with field="publisher", field="title", etc.
I want to search for books only from "Manning", do I have to do anything special? how?
 
Thanks,
-James

__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 
--0-125781014-1126800763=:80794--

From java-user-return-16407-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 15 16:16:42 2005
Return-Path: <java-user-return-16407-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 83721 invoked from network); 15 Sep 2005 16:16:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Sep 2005 16:16:42 -0000
Received: (qmail 44436 invoked by uid 500); 15 Sep 2005 16:16:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44297 invoked by uid 500); 15 Sep 2005 16:16:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44140 invoked by uid 99); 15 Sep 2005 16:16:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Sep 2005 09:16:35 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_30_40,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.239] (HELO web51808.mail.yahoo.com) (206.190.38.239)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 15 Sep 2005 09:16:43 -0700
Received: (qmail 13338 invoked by uid 60001); 15 Sep 2005 16:16:31 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=cptzjksEBUk9seLY+JjfQMMLsIqwz8luIjwm4qYVEsXaQ41v6egy8l2MIj6mp+r5BCXa82zNEV1t0RAqWu7K+9SeRaITaLk7fG5eYzVayaayGNtF9GaoX8cBWkNb87iK1PLnnq3zVQRMPwT+dsb+BhV0DrTF5UaJ5peikBql6tM=  ;
Message-ID: <20050915161631.13336.qmail@web51808.mail.yahoo.com>
Received: from [66.127.61.92] by web51808.mail.yahoo.com via HTTP; Thu, 15 Sep 2005 09:16:30 PDT
Date: Thu, 15 Sep 2005 09:16:30 -0700 (PDT)
From: James Huang <metaprgmr@yahoo.com>
Subject: Question: dynamic sorting
To: java-user@lucene.apache.org
In-Reply-To: <20050915161243.82092.qmail@web51802.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-979452811-1126800990=:11721"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-979452811-1126800990=:11721
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Suppose I have a book index with field="publisher", field="title", etc.
If a user has bought Manning books, then I like to sort the result with Manning books listed first.
 
In essence, I'm asking for a parameterized custom sorting. Is there a way to do this?
 
Thanks,
-James


		
---------------------------------
Yahoo! for Good
 Click here to donate to the Hurricane Katrina relief effort. 
--0-979452811-1126800990=:11721--

From java-user-return-16408-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 15 16:22:14 2005
Return-Path: <java-user-return-16408-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 87016 invoked from network); 15 Sep 2005 16:22:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Sep 2005 16:22:13 -0000
Received: (qmail 55220 invoked by uid 500); 15 Sep 2005 16:22:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 55203 invoked by uid 500); 15 Sep 2005 16:22:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 55189 invoked by uid 99); 15 Sep 2005 16:22:07 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Sep 2005 09:22:07 -0700
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=FROM_ENDS_IN_NUMS,HTML_20_30,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of chenjian1227@gmail.com designates 72.14.204.205 as permitted sender)
Received: from [72.14.204.205] (HELO qproxy.gmail.com) (72.14.204.205)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Sep 2005 09:22:14 -0700
Received: by qproxy.gmail.com with SMTP id b14so22275qbc
        for <java-user@lucene.apache.org>; Thu, 15 Sep 2005 09:22:02 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=KdHTYd97oHkJc82+B6KrpdSVWD6E4dkL5s/uEFs4HLBF6IXZ9yolu3UAQQ6zBNDHocAu1uRwOSrsaCs8Nk0La9KmqvPA1Rpvs9eo+L9D5qQUx/CaFdnxbZEe4Bx6nV7J0BJBl/tVC2DOogA9cJtzVfAN32kL9CnCR2pLDPof4s4=
Received: by 10.65.110.20 with SMTP id n20mr37487qbm;
        Thu, 15 Sep 2005 09:22:02 -0700 (PDT)
Received: by 10.65.145.3 with HTTP; Thu, 15 Sep 2005 09:22:02 -0700 (PDT)
Message-ID: <7ca12391050915092236e83527@mail.gmail.com>
Date: Thu, 15 Sep 2005 09:22:02 -0700
From: jian chen <chenjian1227@gmail.com>
Reply-To: chenjian1227@gmail.com
To: java-user@lucene.apache.org
Subject: Re: Small problem in searching
In-Reply-To: <20050915161110.30823.qmail@web54314.mail.yahoo.com>
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_18079_2769490.1126801322178"
References: <20050915161110.30823.qmail@web54314.mail.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_18079_2769490.1126801322178
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi,

I think Lucene transforms the prefix match query into all sub queries where=
=20
the searching for a prefix could result into search for all terms that begi=
n=20
with that prefix.

For "postfix" match, I think you need to do more work than relying on=20
Lucene's query parser.=20

You can iterate over the terms and do an "endsWith()" call, and if there is=
=20
a match, then, perform a normal Lucene search for that term.=20

So, effectively, you do the same thing as prefix match, conceptually loop=
=20
over all available terms in your dictionary and find all the terms to be=20
prepared for actual searching.

This might be slow. What you might want to speed up the performance is, you=
=20
can store all the available terms in-memory, and looping through all unique=
=20
terms is a breeze. This is what google used for their prototype search=20
engine when they were way back in the 1998s. (I guess :-)

Cheers,

Jian

On 9/15/05, tirupathi reddy <tirupathireddy_m@yahoo.com> wrote:
>=20
> Hi guys,
>=20
> I have some problem while searching using Lucene. Say I have some thing=
=20
> like "tirupathireddy" or "venkatreddy" in the index. When i search for=20
> string "reddy" I have to get those things (i.e. "tirupathireddy" and=20
> "venkatreddy"). I have read in Query syntax of Lucene that * will not be=
=20
> given at the starting of the search string. SO how can I achiev that. I a=
m=20
> in very much need of that. So please help me out.
>=20
>=20
> WIth Regards,
> TirupatiReddy Manyam.
>=20
>=20
> Tirupati Reddy Manyam
> 24-06-08,
> Sundugaullee-24,
> 79110 Freiburg
> GERMANY.
>=20
> Phone: 00497618811257
> cell : 004917624649007
>=20
>=20
> ---------------------------------
> Yahoo! for Good
> Click here to donate to the Hurricane Katrina relief effort.
>

------=_Part_18079_2769490.1126801322178--

From java-user-return-16409-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 15 16:36:44 2005
Return-Path: <java-user-return-16409-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93985 invoked from network); 15 Sep 2005 16:36:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Sep 2005 16:36:44 -0000
Received: (qmail 79254 invoked by uid 500); 15 Sep 2005 16:36:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 79227 invoked by uid 500); 15 Sep 2005 16:36:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 79213 invoked by uid 99); 15 Sep 2005 16:36:37 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Sep 2005 09:36:37 -0700
X-ASF-Spam-Status: No, hits=1.9 required=10.0
	tests=HTML_50_60,HTML_MESSAGE,RCVD_BY_IP,RCVD_IN_BL_SPAMCOP_NET,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jharuska@gmail.com designates 66.249.82.196 as permitted sender)
Received: from [66.249.82.196] (HELO xproxy.gmail.com) (66.249.82.196)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Sep 2005 09:36:46 -0700
Received: by xproxy.gmail.com with SMTP id h33so125875wxd
        for <java-user@lucene.apache.org>; Thu, 15 Sep 2005 09:36:33 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:sender:to:subject:in-reply-to:mime-version:content-type:references;
        b=KHJMwePFJsy3Vuzym654lynM/Z/+FKCn98w5e16/ZoYZc/JFMp76YOBAxz328TP2RSWp1vuWkCp4oBbnHmdOxlJtJk5usRw1i9fcpOBgXBe9jvBpATiSzSlclAuR6wGg/gX/KtZ9xwhSefhUUmIxdRK9jxyIbRu1kUcoqas0Szw=
Received: by 10.70.55.5 with SMTP id d5mr43690wxa;
        Thu, 15 Sep 2005 09:36:33 -0700 (PDT)
Received: by 10.70.55.8 with HTTP; Thu, 15 Sep 2005 09:36:33 -0700 (PDT)
Message-ID: <5fbbcd1405091509362b20ee06@mail.gmail.com>
Date: Thu, 15 Sep 2005 12:36:33 -0400
From: Jason Haruska <jason@haruska.com>
Reply-To: Jason Haruska <jason@haruska.com>
Sender: jharuska@gmail.com
To: java-user@lucene.apache.org
Subject: Re: Question: force a field must be matched?
In-Reply-To: <20050915161243.82092.qmail@web51802.mail.yahoo.com>
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_7893_31905033.1126802193037"
References: <20050915161243.82092.qmail@web51802.mail.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_7893_31905033.1126802193037
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

On 9/15/05, James Huang <metaprgmr@yahoo.com> wrote:
>=20
> Suppose I have a book index with field=3D"publisher", field=3D"title", et=
c.
> I want to search for books only from "Manning", do I have to do anything=
=20
> special? how?
>=20

add new BooleanClause(new TermQuery(new Term("publisher","Manning")), true,=
=20
false) to your BooleanQuery

------=_Part_7893_31905033.1126802193037--

From java-user-return-16410-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 15 16:55:37 2005
Return-Path: <java-user-return-16410-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2787 invoked from network); 15 Sep 2005 16:55:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Sep 2005 16:55:37 -0000
Received: (qmail 10882 invoked by uid 500); 15 Sep 2005 16:55:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10850 invoked by uid 500); 15 Sep 2005 16:55:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10837 invoked by uid 99); 15 Sep 2005 16:55:31 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Sep 2005 09:55:31 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.232] (HELO web51801.mail.yahoo.com) (206.190.38.232)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 15 Sep 2005 09:55:40 -0700
Received: (qmail 21511 invoked by uid 60001); 15 Sep 2005 16:55:27 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=OAZtz/aIa2meE3Ora2Lp1K2EsBqwx8e31aHTYkPveEyebyvBwQXSwSZMkGbOCNvMn0KQc8CgPvhmu73RTBGlM6HwSja5avomoxMUuGi/ugnDqItoc3YTEGE6DeZUtOAb29g6GE19D2FjVW8x9m0X6Hg10bkDj2YxJLsBrui24pI=  ;
Message-ID: <20050915165527.21509.qmail@web51801.mail.yahoo.com>
Received: from [198.87.131.194] by web51801.mail.yahoo.com via HTTP; Thu, 15 Sep 2005 09:55:27 PDT
Date: Thu, 15 Sep 2005 09:55:27 -0700 (PDT)
From: James Huang <metaprgmr@yahoo.com>
Subject: Re: Question: force a field must be matched?
To: java-user@lucene.apache.org, Jason Haruska <jason@haruska.com>
In-Reply-To: <5fbbcd1405091509362b20ee06@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thanks Jason.

I wonder if that's the same as

  queryString + " publisher:Manning"

and pass on to the query parser?

-James

--- Jason Haruska <jason@haruska.com> wrote:

> On 9/15/05, James Huang <metaprgmr@yahoo.com> wrote:
> > 
> > Suppose I have a book index with
> field="publisher", field="title", etc.
> > I want to search for books only from "Manning", do
> I have to do anything 
> > special? how?
> > 
> 
> add new BooleanClause(new TermQuery(new
> Term("publisher","Manning")), true, 
> false) to your BooleanQuery
> 


__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16411-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 15 17:19:21 2005
Return-Path: <java-user-return-16411-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11761 invoked from network); 15 Sep 2005 17:19:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Sep 2005 17:19:21 -0000
Received: (qmail 48559 invoked by uid 500); 15 Sep 2005 17:19:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 48537 invoked by uid 500); 15 Sep 2005 17:19:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 48524 invoked by uid 99); 15 Sep 2005 17:19:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Sep 2005 10:19:14 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.200.230] (HELO web31111.mail.mud.yahoo.com) (68.142.200.230)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 15 Sep 2005 10:19:22 -0700
Received: (qmail 70183 invoked by uid 60001); 15 Sep 2005 17:19:10 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=cF2XYTXxWIiU/TFNbjIuFuj+0lUwzl8L23lTdG4wW+zxOlJklDyiuJ75oSbikMqRVAojb7yrh9F2BNgKmgCal9seUexF4phIaaeSZyZIQiJqbVmiLghYV9sSIvd39KTngH+qNyy8pIS0X5eFiHiJTCR4COc9twOyJJhU61Po7OU=  ;
Message-ID: <20050915171910.70181.qmail@web31111.mail.mud.yahoo.com>
Received: from [216.194.55.187] by web31111.mail.mud.yahoo.com via HTTP; Thu, 15 Sep 2005 10:19:10 PDT
Date: Thu, 15 Sep 2005 10:19:10 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: document attributes
To: java-user@lucene.apache.org
In-Reply-To: <000001c5b9c9$9d48dbd0$7c00320a@passindien.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

This should get you started:
  http://www-128.ibm.com/developerworks/java/library/j-lucene/

Also check Chapter 7 (3rd hit) here for working code:
  http://www.lucenebook.com/search?query=indexing+xml

Otis

--- Madhu Satyanarayana Panitini <Madhu.Panitini@pass-consulting.com>
wrote:

>  
> Hi all
> I have already posted same message to java-user group yesterday, no
> response yet, please help me out of problem
> I have text docs similar to the TREC format some think like this
>  
> <file>
> <author>xxxxxxxx</author>
> <publisher>yyyyyyyy</publisher>
> <text>
> Full text search with one or more keywords with advanced search
> operators to enhance search has to be implemented. Advanced search
> with
> document attributes like author, title, type and Meta keyword in
> addition to the search term should be implemented. </text> </file>
>  
> with this type of doc I can index text between "<text>" tags, but I
> want
> to preserve the data in the other tags as well like
> <author>xxxxxxxx</author> <publisher>yyyyyyyy</publisher>.
>  
> Because the user when searching for docs he will use author as
> attribute
> for searching Doc,
>  
> Is there any possibility to index the author and publisher data and
> use
> in the search.  please tell me how can I index and use in search.
>  
> And also please guide me with methods or references in IR  that use
> attributes of DOC for search purpose.
>  
> Thanks in advance
> Madhu
>  
>  
>  
>  
> Madhu Satyanarayana. Panitini
> PASS GCA Solution Centre Pvt Ltd.
> 601 Aditya Trade Centre, Ameerpet, 
> Hyderabad, India. 
> www.pass-consulting.com 
> 
> 
>  
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16412-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 15 17:27:03 2005
Return-Path: <java-user-return-16412-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14128 invoked from network); 15 Sep 2005 17:27:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Sep 2005 17:27:03 -0000
Received: (qmail 59901 invoked by uid 500); 15 Sep 2005 17:26:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 59880 invoked by uid 500); 15 Sep 2005 17:26:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 59867 invoked by uid 99); 15 Sep 2005 17:26:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Sep 2005 10:26:56 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.200.43] (HELO web31110.mail.mud.yahoo.com) (68.142.200.43)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 15 Sep 2005 10:27:05 -0700
Received: (qmail 78453 invoked by uid 60001); 15 Sep 2005 17:26:53 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=OA1oWOauyg7QtomzMEmH8c+hvXsrlA1HQ0VJPQp5cyHhUbMRq3ys9/s3M9NTLvIhkniwNnxqVj2WeHN3btsyjsITpiFDH6YInZrOGXTFTMbT0dVogpe6hr29TFhjSsO0epZ4qNmwRMEib0DdHefUsEcP2mUsWhMwckmSFvF4CGk=  ;
Message-ID: <20050915172653.78451.qmail@web31110.mail.mud.yahoo.com>
Received: from [216.194.55.187] by web31110.mail.mud.yahoo.com via HTTP; Thu, 15 Sep 2005 10:26:53 PDT
Date: Thu, 15 Sep 2005 10:26:53 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Question: dynamic sorting
To: java-user@lucene.apache.org
In-Reply-To: <20050915161631.13336.qmail@web51808.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi James,

Check out the org.apache.lucene.search.package, there are several sort
classes that will let you write  a custom sorter.  If you have a copy
of LIA, look at chapter 6 for an example (
http://www.lucenebook.com/search?query=custom+sort+section%3A6* )

Otis

--- James Huang <metaprgmr@yahoo.com> wrote:

> Suppose I have a book index with field="publisher", field="title",
> etc.
> If a user has bought Manning books, then I like to sort the result
> with Manning books listed first.
>  
> In essence, I'm asking for a parameterized custom sorting. Is there a
> way to do this?
>  
> Thanks,
> -James
> 
> 
> 		
> ---------------------------------
> Yahoo! for Good
>  Click here to donate to the Hurricane Katrina relief effort. 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16413-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 15 18:43:52 2005
Return-Path: <java-user-return-16413-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 42593 invoked from network); 15 Sep 2005 18:43:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Sep 2005 18:43:52 -0000
Received: (qmail 74385 invoked by uid 500); 15 Sep 2005 18:43:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73510 invoked by uid 500); 15 Sep 2005 18:43:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73497 invoked by uid 99); 15 Sep 2005 18:43:46 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Sep 2005 11:43:46 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.240] (HELO web51809.mail.yahoo.com) (206.190.38.240)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 15 Sep 2005 11:43:57 -0700
Received: (qmail 66404 invoked by uid 60001); 15 Sep 2005 18:43:41 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=LwtpH4lvKaWH+NUbQdsarY1hRSrjknWUbaWNyxMEaVjDyVuzNd+9TdNXE4J35GSR4vGyPX3H+BilhJOyA34XCsP+mYDy45jEx/QJxsbHUBX2jdZbmIFN5ZCemHkDk4ieuehj5Yf+awr+E+9kvDcrFcXuoYBrvh05S7U89nxln7g=  ;
Message-ID: <20050915184341.66402.qmail@web51809.mail.yahoo.com>
Received: from [198.87.131.194] by web51809.mail.yahoo.com via HTTP; Thu, 15 Sep 2005 11:43:41 PDT
Date: Thu, 15 Sep 2005 11:43:41 -0700 (PDT)
From: James Huang <metaprgmr@yahoo.com>
Subject: Re: Question: dynamic sorting
To: java-user@lucene.apache.org
In-Reply-To: <20050915172653.78451.qmail@web31110.mail.mud.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Otis,

Thanks for your answer. I do have LIA (but not with me
now physically), and have the impression that the
search ordering is predetermined (at index time); what
I want is search-time ordering, e.g.,

"I'm at (x,y) now and low on gas; find me the closest
airports that can land 747, the closest first,
please".

I'll re-read the book/chapter tonight, but look
forward to any expert advises.

Thanks,
-James

--- Otis Gospodnetic <otis_gospodnetic@yahoo.com>
wrote:

> Hi James,
> 
> Check out the org.apache.lucene.search.package,
> there are several sort
> classes that will let you write  a custom sorter. 
> If you have a copy
> of LIA, look at chapter 6 for an example (
>
http://www.lucenebook.com/search?query=custom+sort+section%3A6*
> )
> 
> Otis
> 
> --- James Huang <metaprgmr@yahoo.com> wrote:
> 
> > Suppose I have a book index with
> field="publisher", field="title",
> > etc.
> > If a user has bought Manning books, then I like to
> sort the result
> > with Manning books listed first.
> >  
> > In essence, I'm asking for a parameterized custom
> sorting. Is there a
> > way to do this?
> >  
> > Thanks,
> > -James
> > 
> > 
> > 		
> > ---------------------------------
> > Yahoo! for Good
> >  Click here to donate to the Hurricane Katrina
> relief effort. 
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail:
> java-user-help@lucene.apache.org
> 
> 



		
__________________________________ 
Yahoo! Mail - PC Magazine Editors' Choice 2005 
http://mail.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16414-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 15 18:45:28 2005
Return-Path: <java-user-return-16414-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 43326 invoked from network); 15 Sep 2005 18:45:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Sep 2005 18:45:28 -0000
Received: (qmail 75162 invoked by uid 500); 15 Sep 2005 18:45:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75131 invoked by uid 500); 15 Sep 2005 18:45:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75118 invoked by uid 99); 15 Sep 2005 18:45:23 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Sep 2005 11:45:23 -0700
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Sep 2005 11:45:32 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 687325B7AB; Thu, 15 Sep 2005 11:45:19 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP
	id 653647F474; Thu, 15 Sep 2005 11:45:19 -0700 (PDT)
Date: Thu, 15 Sep 2005 11:45:19 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Cc: Jason Haruska <jason@haruska.com>
Subject: Re: Question: force a field must be matched?
In-Reply-To: <20050915165527.21509.qmail@web51801.mail.yahoo.com>
Message-ID: <Pine.LNX.4.58.0509151140220.882@hal.rescomp.berkeley.edu>
References: <20050915165527.21509.qmail@web51801.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

: I wonder if that's the same as
:
:   queryString + " publisher:Manning"
:
: and pass on to the query parser?

assuming queryString is a java variable containing your initial query,
then you are close, but not quite.  If you want to tell QueryParser to
make a clause "required" then you have to prefice it with a "+".

something like...

  String userQueryString = ...;
  String queryString = userQueryString + " +publisher:Manning";

...is probably what you want.

Alternately, instead of giving QueryParser a string you have built up
from little pieces, I would recommend that you let QueryParser build a
Query just off of the user input, and then either:

  a) Filter that query at search time (take a look at the Filter class and
     it's subclasses)
  b) Modify the Query object returned by the QueryParser -- either adding
     a mandatory clause to it if it's a BooleanQuery, or wrapping it in a
     new BooleanQuery that already contains your required clause.


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16415-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 15 18:56:27 2005
Return-Path: <java-user-return-16415-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 47834 invoked from network); 15 Sep 2005 18:56:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Sep 2005 18:56:27 -0000
Received: (qmail 96052 invoked by uid 500); 15 Sep 2005 18:56:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96033 invoked by uid 500); 15 Sep 2005 18:56:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96014 invoked by uid 99); 15 Sep 2005 18:56:21 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Sep 2005 11:56:21 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.241] (HELO web51810.mail.yahoo.com) (206.190.38.241)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 15 Sep 2005 11:56:31 -0700
Received: (qmail 80509 invoked by uid 60001); 15 Sep 2005 18:56:18 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=F+C2Bk/CHpeL6w+d6gqF9UeKCM4AUpZXmxs9HtEcmZKWhHs2hQ/fQu7QiXBHDw9QE5v/6msrd6/x0jzCOkXXvKmQ3OieqoapBv3FzZFyADXibHzRZSpv/03t5t6tI43XpItlKDrF3/7e3CC9iq9sqQp0eNgGcsCFM9MZya/WkZc=  ;
Message-ID: <20050915185618.80507.qmail@web51810.mail.yahoo.com>
Received: from [198.87.131.194] by web51810.mail.yahoo.com via HTTP; Thu, 15 Sep 2005 11:56:18 PDT
Date: Thu, 15 Sep 2005 11:56:18 -0700 (PDT)
From: James Huang <metaprgmr@yahoo.com>
Subject: Re: Question: force a field must be matched?
To: java-user@lucene.apache.org
In-Reply-To: <Pine.LNX.4.58.0509151140220.882@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Yes, "+" is what I missed! Thanks.

Suppose there is a book published by 3 publishers (I
don't know how that works in real world):

// At index time:
  doc.add( Field.Keyword("publisher", "Manning") );
  doc.add( Field.Keyword("publisher", "SAMS") );
  doc.add( Field.Keyword("publisher", "O'Reilly") );

// At search time:
  queryString += " +publisher:SAMS";
  ...

should find me that Document.


--- Chris Hostetter <hossman_lucene@fucit.org> wrote:

> : I wonder if that's the same as
> :
> :   queryString + " publisher:Manning"
> :
> : and pass on to the query parser?
> 
> assuming queryString is a java variable containing
> your initial query,
> then you are close, but not quite.  If you want to
> tell QueryParser to
> make a clause "required" then you have to prefice it
> with a "+".
> 
> something like...
> 
>   String userQueryString = ...;
>   String queryString = userQueryString + "
> +publisher:Manning";
> 
> ...is probably what you want.
> 
> Alternately, instead of giving QueryParser a string
> you have built up
> from little pieces, I would recommend that you let
> QueryParser build a
> Query just off of the user input, and then either:
> 
>   a) Filter that query at search time (take a look
> at the Filter class and
>      it's subclasses)
>   b) Modify the Query object returned by the
> QueryParser -- either adding
>      a mandatory clause to it if it's a
> BooleanQuery, or wrapping it in a
>      new BooleanQuery that already contains your
> required clause.
> 
> 
> -Hoss
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail:
> java-user-help@lucene.apache.org
> 
> 



		
__________________________________ 
Yahoo! Mail - PC Magazine Editors' Choice 2005 
http://mail.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16416-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 15 20:27:25 2005
Return-Path: <java-user-return-16416-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10989 invoked from network); 15 Sep 2005 20:27:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Sep 2005 20:27:25 -0000
Received: (qmail 66372 invoked by uid 500); 15 Sep 2005 20:27:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66341 invoked by uid 500); 15 Sep 2005 20:27:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66328 invoked by uid 99); 15 Sep 2005 20:27:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Sep 2005 13:27:20 -0700
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.170.201 as permitted sender)
Received: from [64.233.170.201] (HELO rproxy.gmail.com) (64.233.170.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Sep 2005 13:27:30 -0700
Received: by rproxy.gmail.com with SMTP id g11so103971rne
        for <java-user@lucene.apache.org>; Thu, 15 Sep 2005 13:27:18 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type;
        b=Ab4G8PLrG2AEfwFijP4O4N0ClOLfLvu+R1wWBMCc0TC8Ad1TErarVxnTblGcd1ZBDYYVsswohJ0NFnevgxwIbNKePimOXAlYM4pXumMRK9GmFE9Ojf9ZXEanQMVwjXXDEVU7wpYDe8VZlCamJUgChE1Q5Uk0mXqXErg4unoMAUQ=
Received: by 10.38.98.52 with SMTP id v52mr333679rnb;
        Thu, 15 Sep 2005 13:27:18 -0700 (PDT)
Received: by 10.38.12.25 with HTTP; Thu, 15 Sep 2005 13:27:18 -0700 (PDT)
Message-ID: <c68e391705091513277e038569@mail.gmail.com>
Date: Thu, 15 Sep 2005 16:27:18 -0400
From: Yonik Seeley <yseeley@gmail.com>
Reply-To: yseeley@gmail.com
To: java-user@lucene.apache.org
Subject: term scoring (idf) question
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_12372_26022890.1126816038121"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_12372_26022890.1126816038121
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I'm trying to figure out why idf is multiplied twice into the score of a=20
term query.
It sort of makes sense if you have just one term... the original weight is=
=20
idf*boost, and
the normalization factor is 1/(idf*boost), so you multiply in the idf again=
=20
if you want the final score to contain an idf factor (instead of being=20
normalized to 1.0).

But when you have a boolean query of two term queries, the amount of score=
=20
each term contributes will vary with the square of their idfs, not their=20
idfs. Is this what's intended? If so, the scoring formula one normally sees=
=20
(tf*idf*boost*lengthNorm), doesn't seem to convey this fact.

-Yonik
Now hiring -- http://tinyurl.com/7m67g

------=_Part_12372_26022890.1126816038121--

From java-user-return-16417-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 15 21:14:53 2005
Return-Path: <java-user-return-16417-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28348 invoked from network); 15 Sep 2005 21:14:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Sep 2005 21:14:52 -0000
Received: (qmail 21503 invoked by uid 500); 15 Sep 2005 21:14:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 21473 invoked by uid 500); 15 Sep 2005 21:14:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 21459 invoked by uid 99); 15 Sep 2005 21:14:48 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Sep 2005 14:14:48 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.200.36] (HELO web31103.mail.mud.yahoo.com) (68.142.200.36)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 15 Sep 2005 14:14:57 -0700
Received: (qmail 10770 invoked by uid 60001); 15 Sep 2005 21:14:44 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=Gf+32G9NvSW1R91rfS3d/PWeN0GxNvGH8XL04pSIH7UIiUSJfBe3WcwZ0MNatbuOGkINb4vFBYam9J9biFE9oR6m0QKqvFbiQn4/ZGq1kjGVpWknHvZE5xy2uzKusgWeUIsV/2Gxx/Ho1D5066v4lKFmEP7qEzy3VEcTUCPO7ww=  ;
Message-ID: <20050915211444.10768.qmail@web31103.mail.mud.yahoo.com>
Received: from [216.194.55.187] by web31103.mail.mud.yahoo.com via HTTP; Thu, 15 Sep 2005 14:14:44 PDT
Date: Thu, 15 Sep 2005 14:14:44 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: term scoring (idf) question
To: java-user@lucene.apache.org, yseeley@gmail.com
In-Reply-To: <c68e391705091513277e038569@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I think you are asking about this stuff:

http://www.google.com/search?q=chuck%20idf%20lucene%20square

Otis

--- Yonik Seeley <yseeley@gmail.com> wrote:

> I'm trying to figure out why idf is multiplied twice into the score
> of a 
> term query.
> It sort of makes sense if you have just one term... the original
> weight is 
> idf*boost, and
> the normalization factor is 1/(idf*boost), so you multiply in the idf
> again 
> if you want the final score to contain an idf factor (instead of
> being 
> normalized to 1.0).
> 
> But when you have a boolean query of two term queries, the amount of
> score 
> each term contributes will vary with the square of their idfs, not
> their 
> idfs. Is this what's intended? If so, the scoring formula one
> normally sees 
> (tf*idf*boost*lengthNorm), doesn't seem to convey this fact.
> 
> -Yonik
> Now hiring -- http://tinyurl.com/7m67g
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16418-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 15 23:42:19 2005
Return-Path: <java-user-return-16418-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 76055 invoked from network); 15 Sep 2005 23:42:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 15 Sep 2005 23:42:19 -0000
Received: (qmail 66604 invoked by uid 500); 15 Sep 2005 23:42:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66572 invoked by uid 500); 15 Sep 2005 23:42:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66559 invoked by uid 99); 15 Sep 2005 23:42:13 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Sep 2005 16:42:13 -0700
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=DATE_IN_PAST_06_12
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Sep 2005 16:42:22 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id E8C0413E2036; Thu, 15 Sep 2005 19:42:10 -0400 (EDT)
Received: from [172.16.1.101] (va-71-48-138-146.dhcp.sprint-hsd.net [71.48.138.146])
	by ehatchersolutions.com (Postfix) with ESMTP id 2567C13E2006
	for <java-user@lucene.apache.org>; Thu, 15 Sep 2005 19:41:16 -0400 (EDT)
In-Reply-To: <005801c5b9d3$e3590ff0$0201a8c0@jma>
References: <005801c5b9d3$e3590ff0$0201a8c0@jma>
Mime-Version: 1.0 (Apple Message framework v734)
X-Priority: 3 (Normal)
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <069FC14B-7C5B-49FE-AD7D-2274B240A484@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Terms given a filter?
Date: Thu, 15 Sep 2005 09:19:34 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,BAYES_00 
	autolearn=unavailable version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Sep 15, 2005, at 5:00 AM, JMA wrote:
> I know I can get all the fields in an index: reader.getFieldNames()
> and also all the terms:  reader.terms()
>
> However, I need to be able to get all the terms and fields given a  
> search
> filter. For example, say I have an index that has crawled 5000 pdf  
> files
> (books) and I have the following fields:
>
> content, author (not tokenized), and publish_date
>
> I can easily find all the *distinct* authors in the index using
> 'reader.terms()'.  But say I want to list all the *distinct*  
> authors that
> have published books in 2002?  I can do a simple search to get all  
> the books
> filtered by publish_date:2002.  But then I have to do my own scan  
> of the
> results and pull out the author, removing duplicates.
>
> Is there an easier way to do this?

I'm currently building a faceted navigation system (think Google for  
Nineteenth century literature, except with browsing navigation by  
author, date range, genre, and probably some others as it evolves.   
This is very much like the CNET implementation that Chris detailed  
here: http://www.lucenebook.com/blog/announcements/2005/08/31/cnet.html

My index is pretty static after it is built, so I cache a lot.  The  
first thing I do is walk all the unique terms (using reader.terms())  
for the faceted fields, and for each one I create a BitSet that has  
set bits corresponding to each document that has that term.  I allow  
the user to build up constraints while navigating with any number of  
these facets, and simply AND the BitSets together to find the  
matching documents.  I also allow for full-text search to occur  
within those constraints, and leverage QueryFilter.bits() in that  
case.  The BitSet's allow me to display how many documents, based on  
the constraints, are in each of the "buckets".

So more to your question - using the scheme I just described, you  
could build up a BitSet for each of the authors.  Then a BitSet for  
2002 (this could be a simple QueryFilter with a TermQuery 
("publish_date", "2002") for example).  AND the BitSet of 2002 to all  
of the author BitSets, and any BitSet with a cardinality > 0 has  
documents for that author.

Make sense?

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16419-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 16 00:06:59 2005
Return-Path: <java-user-return-16419-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 83434 invoked from network); 16 Sep 2005 00:06:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Sep 2005 00:06:58 -0000
Received: (qmail 89933 invoked by uid 500); 16 Sep 2005 00:06:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89920 invoked by uid 500); 16 Sep 2005 00:06:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 69758 invoked by uid 99); 15 Sep 2005 15:27:36 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Date: Thu, 15 Sep 2005 11:40:08 -0400
Message-Id: <200509151140.AA713032002@mail.bayt.net>
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
From: "Nader Henein" <nader.henein@bayt.net>
Reply-To: <nader.henein@bayt.net>
X-Sender: <nader.henein@bayt.net>
To: <java-user@lucene.apache.org>
Subject: Re: Blackberry
X-Mailer: <IMail v8.15>
X-Declude-Sender: nader.henein@bayt.net [127.0.0.1]
X-Declude-Spoolname: D95d8000005f84dd0.GSC
X-Declude-Note: Scanned by Declude 1.82 (http://www.declude.com/x-note.htm) for spam.
X-Declude-Scan: Score [0] at 11:40:08 on 15 Sep 2005
X-Declude-Tests: Whitelisted
X-Country-Chain: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Can you provide some stats on the Zarus implementation you=B4re using, I=
=B4m curious about indexing and searching speeds, also memory and index spa=
ce consumption, J2ME functions on a whole different level then J2SE or J2EE=
 for that matter.

Nader Henein


---------- Original Message ----------------------------------
From: "Karl Koch" <TheRanger@gmx.net>
Reply-To: java-user@lucene.apache.org
Date:  Wed, 14 Sep 2005 20:33:28 +0200 (MEST)

>I have to disagree. I run Lucene 1.2 on a Sharp Zaurus PDA with Java 1.1
>successfully. It is not the latest version, but basic search is no problem=

>like this. I am not sure if it compiles with Java 1.1 (maybe not) but it
>certainly runs with it...
>
>I am completely sure what you mean with loading. I guess you meant running=
.
>>>From this perspective, the only thing you need to find out is what virtua=
l
>machine you can get for Blackberry, and how you need to write your scripts=

>and access the Blackberry filesystem so that you can start and run your
>application which accesses the Lucene 1.2 library.
>
>Good luck!
>
>Karl
>
>> --- Urspr=FCngliche Nachricht ---
>> Von: Andrzej Bialecki <ab@getopt.org>
>> An: java-user@lucene.apache.org
>> Betreff: Re: Blackberry
>> Datum: Wed, 14 Sep 2005 16:45:13 +0200
>> 
>> christopher may wrote:
>> > 
>> > Can anyone tell me how I can load lucene on to a blackberry. I would 
>> > really like to load it into there JDE and run it on the simulator so a=
s 
>> > much help you can provide would be greatly appreciated. Thanks
>> 
>> I don't think it's at all possible. Lucene requires at least JDK 1.3.x 
>> compatibility, and recent release I think requires even 1.4.x ...
>> 
>> 
>> -- 
>> Best regards,
>> Andrzej Bialecki     <><
>>   ___. ___ ___ ___ _ _   __________________________________
>> [__ || __|__/|__||\/|  Information Retrieval, Semantic Web
>> ___|||__||  \|  ||  |  Embedded Unix, System Integration
>> http://www.sigram.com  Contact: info at sigram dot com
>> 
>> 
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>> 
>
>-- 
>GMX DSL =3D Maximale Leistung zum minimalen Preis!
>2000 MB nur 2,99, Flatrate ab 4,99 Euro/Monat: http://www.gmx.net/de/go/ds=
l
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
 




________________________________________________________________
Sent via the WebMail system at mail.bayt.net


 
                   


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16420-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 16 00:29:14 2005
Return-Path: <java-user-return-16420-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88754 invoked from network); 16 Sep 2005 00:29:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Sep 2005 00:29:14 -0000
Received: (qmail 4694 invoked by uid 500); 16 Sep 2005 00:29:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4493 invoked by uid 500); 16 Sep 2005 00:29:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4480 invoked by uid 99); 16 Sep 2005 00:29:09 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Sep 2005 17:29:09 -0700
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=MIME_BASE64_BLANKS,MIME_BASE64_TEXT
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [221.146.159.218] (HELO dev.nannet.co.kr) (221.146.159.218)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 15 Sep 2005 17:29:18 -0700
Received: from win98 ([192.168.1.2])
	by dev.nannet.co.kr (8.12.8/8.12.8) with SMTP id j8G0SxaE002532
	for <java-user@lucene.apache.org>; Fri, 16 Sep 2005 09:29:00 +0900
Message-ID: <00dc01c5ba56$7a8334a0$0201a8c0@local>
Reply-To: "Youngho Cho" <youngho@nannet.co.kr>
From: "Youngho Cho" <youngho@nannet.co.kr>
To: <java-user@lucene.apache.org>
References: <005801c5b9d3$e3590ff0$0201a8c0@jma>
Subject: HitCollector with RemoteSearchable
Date: Fri, 16 Sep 2005 09:35:03 +0900
Organization: Nannet
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: base64
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1158
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1165
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

SGVsbG8sDQoNCkNhbiBJIHVzZSBIaXRDb2xsZWN0b3Igd2l0aCBSZW1vdGVTZWFyY2hhYmxlID8N
Cg0KSSBhbSB0cmluZyB0byB1c2UgaXQuIEJ1dCBJIGdvdCB0aGUgZm9sbG93aW5nIGVycm9yLg0K
DQpqYXZhLnJtaS5NYXJzaGFsRXhjZXB0aW9uOiBlcnJvciBtYXJzaGFsbGluZyBhcmd1bWVudHM7
IG5lc3RlZCBleGNlcHRpb24gaXM6IA0KICAgICAgICBqYXZhLmlvLk5vdFNlcmlhbGl6YWJsZUV4
Y2VwdGlvbjogb3JnLmFwYWNoZS5sdWNlbmUuc2VhcmNoLk11bHRpU2VhcmNoZXIkMQ0KICAgICAg
ICBhdCBzdW4ucm1pLnNlcnZlci5VbmljYXN0UmVmLmludm9rZShVbmljYXN0UmVmLmphdmE6MTI5
KQ0KICAgICAgICBhdCBjb20ubmFubmV0LmZ1bGNydW0ubHVjZW5lLnV0aWwuUmVmaW5lZFJlbW90
ZVNlYXJjaGFibGVfU3R1Yi5zZWFyY2goVW5rbm93biBTb3VyY2UpDQogICAgICAgIGF0IG9yZy5h
cGFjaGUubHVjZW5lLnNlYXJjaC5NdWx0aVNlYXJjaGVyLnNlYXJjaChNdWx0aVNlYXJjaGVyLmph
dmE6MTY4KQ0KICAgICAgICBhdCBvcmcuYXBhY2hlLmx1Y2VuZS5zZWFyY2guTXVsdGlTZWFyY2hl
ci5zZWFyY2goTXVsdGlTZWFyY2hlci5qYXZhOjE2OCkNCiAgICAgICAgYXQgb3JnLmFwYWNoZS5s
dWNlbmUuc2VhcmNoLlNlYXJjaGVyLnNlYXJjaChTZWFyY2hlci5qYXZhOjY3KQ0KLi4uLg0KLi4u
Lg0KQ2F1c2VkIGJ5OiBqYXZhLmlvLk5vdFNlcmlhbGl6YWJsZUV4Y2VwdGlvbjogb3JnLmFwYWNo
ZS5sdWNlbmUuc2VhcmNoLk11bHRpU2VhcmNoZXIkMQ0KICAgICAgICBhdCBqYXZhLmlvLk9iamVj
dE91dHB1dFN0cmVhbS53cml0ZU9iamVjdDAoT2JqZWN0T3V0cHV0U3RyZWFtLmphdmE6MTA1NCkN
CiAgICAgICAgYXQgamF2YS5pby5PYmplY3RPdXRwdXRTdHJlYW0ud3JpdGVPYmplY3QoT2JqZWN0
T3V0cHV0U3RyZWFtLmphdmE6Mjc4KQ0KICAgICAgICBhdCBzdW4ucm1pLnNlcnZlci5VbmljYXN0
UmVmLm1hcnNoYWxWYWx1ZShVbmljYXN0UmVmLmphdmE6MjY1KQ0KICAgICAgICBhdCBzdW4ucm1p
LnNlcnZlci5VbmljYXN0UmVmLmludm9rZShVbmljYXN0UmVmLmphdmE6MTI0KQ0KICAgICAgICAu
Li4gMTYwIG1vcmUNCg0KVGhhbmtzLA0KDQpZb3VuZ2hv




From java-user-return-16421-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 16 08:08:52 2005
Return-Path: <java-user-return-16421-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 41745 invoked from network); 16 Sep 2005 08:08:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Sep 2005 08:08:52 -0000
Received: (qmail 96261 invoked by uid 500); 16 Sep 2005 08:08:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95369 invoked by uid 500); 16 Sep 2005 08:08:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95340 invoked by uid 99); 16 Sep 2005 08:08:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Sep 2005 01:08:44 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.10.213] (HELO web26002.mail.ukl.yahoo.com) (217.12.10.213)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 16 Sep 2005 01:08:53 -0700
Received: (qmail 64101 invoked by uid 60001); 16 Sep 2005 08:08:37 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=6Jjuvh3CDg4suevBqyLy+S0u/wTUnCKxL76hMGdHhXx9bme0hhpWf+MU7gSIOJXsRnbUZ80QGuMI+VVnZfpLnblqrOQC5P6iwJNIktViET/lEyyKb4VHBzkZw5DZMyYYHsyJBV8ULtBB7Alstgc+7veC9pCKQjP8sfrgtC7x6Vg=  ;
Message-ID: <20050916080837.64099.qmail@web26002.mail.ukl.yahoo.com>
Received: from [193.36.230.96] by web26002.mail.ukl.yahoo.com via HTTP; Fri, 16 Sep 2005 09:08:37 BST
Date: Fri, 16 Sep 2005 09:08:37 +0100 (BST)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: Re: Terms given a filter?
To: java-user@lucene.apache.org
In-Reply-To: <069FC14B-7C5B-49FE-AD7D-2274B240A484@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Erik,
It may be worth looking at the code here:

http://issues.apache.org/jira/browse/LUCENE-328

The Bitsets in your example are likely to be very
sparse (I imagine you know only too well how long it
takes to write a book and therefore how many books
there are likely to be per author! :))With such a
sparse set per author BitSets could use a lot of
memory. In this example I imagine a SortedVIntList per
author would be a much more compact format.
The code in the link contains a standard interface for
a sorted list of ints with bitset,int array and VInt
encoded implementations. The AndDocNrSkipper and
OrDocNrSkipper classes can be used to perform set
intersections on any combination of these int sets.




Cheers,
Mark



		
___________________________________________________________ 
To help you stay safe and secure online, we've developed the all new Yahoo! Security Centre. http://uk.security.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16422-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 16 09:23:04 2005
Return-Path: <java-user-return-16422-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70348 invoked from network); 16 Sep 2005 09:23:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Sep 2005 09:23:04 -0000
Received: (qmail 88546 invoked by uid 500); 16 Sep 2005 09:22:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88517 invoked by uid 500); 16 Sep 2005 09:22:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88504 invoked by uid 99); 16 Sep 2005 09:22:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Sep 2005 02:22:59 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [212.42.171.82] (HELO mail.runtime-collective.com) (212.42.171.82)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Sep 2005 02:23:08 -0700
Received: from [81.168.89.246] (helo=[192.168.1.132])
	by mail.runtime-collective.com with smtp (Exim 3.35 #1 (Debian))
	id 1EGCQl-0004bt-00
	for <java-user@lucene.apache.org>; Fri, 16 Sep 2005 10:22:51 +0100
Subject: Re: Question: force a field must be matched?
From: Miles Barr <miles@runtime-collective.com>
To: java-user@lucene.apache.org
In-Reply-To: <20050915185618.80507.qmail@web51810.mail.yahoo.com>
References: <20050915185618.80507.qmail@web51810.mail.yahoo.com>
Content-Type: text/plain
Organization: Runtime Collective Ltd.
Date: Fri, 16 Sep 2005 10:22:32 +0100
Message-Id: <1126862552.998.124.camel@localhost.localdomain>
Mime-Version: 1.0
X-Mailer: Evolution 2.2.2 
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Thu, 2005-09-15 at 11:56 -0700, James Huang wrote:
> Yes, "+" is what I missed! Thanks.
> 
> Suppose there is a book published by 3 publishers (I
> don't know how that works in real world):
> 
> // At index time:
>   doc.add( Field.Keyword("publisher", "Manning") );
>   doc.add( Field.Keyword("publisher", "SAMS") );
>   doc.add( Field.Keyword("publisher", "O'Reilly") );
> 
> // At search time:
>   queryString += " +publisher:SAMS";
>   ...
> 
> should find me that Document.

That may or may not work depending on your analyzer. 

If you're using the query parser with the standard analyzer it will
search the 'publisher' field for 'sams' not 'SAMS', and hence get no
matches back.

If you want to use the query parser instead of building the query by
hand you can use the PerFieldAnalyzerWrapper class and write a
KeywordAnalyzer, i.e.:

package org.apache.lucene.analysis;

import java.io.IOException;
import java.io.Reader;

/** "Tokenizes" the entire stream as a single token. */
public class KeywordAnalyzer extends Analyzer {
    public TokenStream tokenStream(String fieldName, final Reader reader) {
        
        return new TokenStream() {
                private boolean done;
                private final char[] buffer = new char[1024];
                
                public Token next() throws IOException {
                    if (!done) {
                        done = true;
                        StringBuffer sb = new StringBuffer();
                        int length;
                        while (true) {
                            length = reader.read(this.buffer);
                            if (length == -1) break;
                            
                            sb.append(this.buffer, 0, length);
                        }
                        String text = sb.toString();
                        return new Token(text, 0, text.length());
                    }
                    return null;
                }
            };
    }
}

--------------------

PerFieldAnalyzerWrapper result =
    new PerFieldAnalyzerWrapper(new StandardAnalyzer());

result.addAnalyzer("publisher", new KeywordAnalyzer());

QueryParser parser = new QueryParser(<your regular field>, result);




-- 
Miles Barr <miles@runtime-collective.com>
Runtime Collective Ltd.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16423-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 16 10:24:06 2005
Return-Path: <java-user-return-16423-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94974 invoked from network); 16 Sep 2005 10:24:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Sep 2005 10:24:06 -0000
Received: (qmail 56092 invoked by uid 500); 16 Sep 2005 10:24:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 56061 invoked by uid 500); 16 Sep 2005 10:23:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 56048 invoked by uid 99); 16 Sep 2005 10:23:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Sep 2005 03:23:59 -0700
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=HTML_00_10,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of legolas.w@gmail.com designates 64.233.162.203 as permitted sender)
Received: from [64.233.162.203] (HELO zproxy.gmail.com) (64.233.162.203)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Sep 2005 03:24:09 -0700
Received: by zproxy.gmail.com with SMTP id q3so471876nzb
        for <java-user@lucene.apache.org>; Fri, 16 Sep 2005 03:23:57 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type;
        b=W3875rhMmYZDU6hnE14kTKsurLCwVMoIZglmrUyVMSApFqpOx/87I9kxKt/UTnschK/CV0/T3/8jED7BnfE2Zl1lcjsMtNhU4c1YrhjAvRHRg9gq+yrE6BkQhwlLcj9mXTbXmZ8rJwQQSDt7H0EiMeydHvN3WuL/qVlpJFhsrFE=
Received: by 10.54.52.68 with SMTP id z68mr207100wrz;
        Fri, 16 Sep 2005 03:23:57 -0700 (PDT)
Received: by 10.54.98.11 with HTTP; Fri, 16 Sep 2005 03:23:57 -0700 (PDT)
Message-ID: <87ee9b17050916032370e189b0@mail.gmail.com>
Date: Fri, 16 Sep 2005 14:53:57 +0430
From: Legolas Woodland <legolas.w@gmail.com>
Reply-To: legolas.w@gmail.com
To: java-user@lucene.apache.org
Subject: some general question about Nutch Search engine.
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_24924_12436531.1126866237287"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_24924_12436531.1126866237287
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi
Thank you for reading my post
I have some general question :
1-does Nutch support multilanguage indexing and searching ?
2-does it has capability to index and search more than 500,000 site in a=20
timely manner?
3-does it have capabilities to add ADs System , sponsored result first and=
=20
other features that for example google search engine has?
4-does licensing allow me to use/modefy it for my own purpose without=20
sharing the source ?
5-does its robot support site list / domainextension list (for example=20
searching and indexing all UK extension)

Thank you.

------=_Part_24924_12436531.1126866237287--

From java-user-return-16424-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 16 10:37:07 2005
Return-Path: <java-user-return-16424-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 99508 invoked from network); 16 Sep 2005 10:37:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Sep 2005 10:37:06 -0000
Received: (qmail 79484 invoked by uid 500); 16 Sep 2005 10:37:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 79458 invoked by uid 500); 16 Sep 2005 10:36:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 79445 invoked by uid 99); 16 Sep 2005 10:36:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Sep 2005 03:36:59 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.44.16.11] (HELO getopt.org) (69.44.16.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Sep 2005 03:37:08 -0700
Received: from [192.168.101.96] ([213.80.34.34])
	(authenticated)
	by getopt.org (8.11.6/8.11.6) with ESMTP id j8GAb1L31870
	for <java-user@lucene.apache.org>; Fri, 16 Sep 2005 05:37:01 -0500
Message-ID: <432AA046.9020504@getopt.org>
Date: Fri, 16 Sep 2005 12:36:54 +0200
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: some general question about Nutch Search engine.
References: <87ee9b17050916032370e189b0@mail.gmail.com>
In-Reply-To: <87ee9b17050916032370e189b0@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Legolas Woodland wrote:
> Hi
> Thank you for reading my post
> I have some general question :

Please see http://nutch.org for information about Nutch.

> 1-does Nutch support multilanguage indexing and searching ?

Yes, to large degree (there are always issues when making assumptions 
about the query language).

> 2-does it has capability to index and search more than 500,000 site in a 
> timely manner?

Sure, no problem. I typically work with instances that collect data from 
5 mln pages, others run installations that have ~100 mln pages.

> 3-does it have capabilities to add ADs System , sponsored result first and 
> other features that for example google search engine has?

Requires coding, but not so complicated.

> 4-does licensing allow me to use/modefy it for my own purpose without 
> sharing the source ?

Yes, ASL-2.0 license, same as Lucene.

> 5-does its robot support site list / domainextension list (for example 
> searching and indexing all UK extension)

Yes.

-- 
Best regards,
Andrzej Bialecki     <><
  ___. ___ ___ ___ _ _   __________________________________
[__ || __|__/|__||\/|  Information Retrieval, Semantic Web
___|||__||  \|  ||  |  Embedded Unix, System Integration
http://www.sigram.com  Contact: info at sigram dot com


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16425-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 16 12:08:21 2005
Return-Path: <java-user-return-16425-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 37189 invoked from network); 16 Sep 2005 12:08:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Sep 2005 12:08:21 -0000
Received: (qmail 11106 invoked by uid 500); 16 Sep 2005 12:08:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11081 invoked by uid 500); 16 Sep 2005 12:08:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 11068 invoked by uid 99); 16 Sep 2005 12:08:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Sep 2005 05:08:14 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [193.194.158.19] (HELO exchange.bvdep.com) (193.194.158.19)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Sep 2005 05:08:24 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Content-Class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Small problem in searching
Date: Fri, 16 Sep 2005 14:08:11 +0200
Message-ID: <950FF7DE40C2B64CAF80B564732927E104A661CF@exchange.be.bvd>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Small problem in searching
thread-index: AcW6EaJPYd4xu2wDRV+nwDenInsBRQApPZCQ
From: "Vanlerberghe, Luc" <Luc.Vanlerberghe@bvdep.com>
To: <java-user@lucene.apache.org>,
	<chenjian1227@gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

You could also add a field with all the terms reversed during the
indexation.

So documents containing "tirupathireddy" or "venkatreddy" would have
"ydderihtapurit" and "yddertaknev" in the reversed field.
If you detect that the user entered a suffix query like "*reddy",
transform it into a prefix query like "ydder*" on the reversed field.

Luc


-----Original Message-----
From: jian chen [mailto:chenjian1227@gmail.com]=20
Sent: donderdag 15 september 2005 18:22
To: java-user@lucene.apache.org
Subject: Re: Small problem in searching

Hi,

I think Lucene transforms the prefix match query into all sub queries
where=20
the searching for a prefix could result into search for all terms that
begin=20
with that prefix.

For "postfix" match, I think you need to do more work than relying on=20
Lucene's query parser.=20

You can iterate over the terms and do an "endsWith()" call, and if there
is=20
a match, then, perform a normal Lucene search for that term.=20

So, effectively, you do the same thing as prefix match, conceptually
loop=20
over all available terms in your dictionary and find all the terms to be

prepared for actual searching.

This might be slow. What you might want to speed up the performance is,
you=20
can store all the available terms in-memory, and looping through all
unique=20
terms is a breeze. This is what google used for their prototype search=20
engine when they were way back in the 1998s. (I guess :-)

Cheers,

Jian

On 9/15/05, tirupathi reddy <tirupathireddy_m@yahoo.com> wrote:
>=20
> Hi guys,
>=20
> I have some problem while searching using Lucene. Say I have some
thing=20
> like "tirupathireddy" or "venkatreddy" in the index. When i search for

> string "reddy" I have to get those things (i.e. "tirupathireddy" and=20
> "venkatreddy"). I have read in Query syntax of Lucene that * will not
be=20
> given at the starting of the search string. SO how can I achiev that.
I am=20
> in very much need of that. So please help me out.
>=20
>=20
> WIth Regards,
> TirupatiReddy Manyam.
>=20
>=20
> Tirupati Reddy Manyam
> 24-06-08,
> Sundugaullee-24,
> 79110 Freiburg
> GERMANY.
>=20
> Phone: 00497618811257
> cell : 004917624649007
>=20
>=20
> ---------------------------------
> Yahoo! for Good
> Click here to donate to the Hurricane Katrina relief effort.
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16426-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 16 13:43:42 2005
Return-Path: <java-user-return-16426-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78350 invoked from network); 16 Sep 2005 13:43:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Sep 2005 13:43:42 -0000
Received: (qmail 81157 invoked by uid 500); 16 Sep 2005 13:43:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80934 invoked by uid 500); 16 Sep 2005 13:43:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80921 invoked by uid 99); 16 Sep 2005 13:43:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Sep 2005 06:43:35 -0700
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [213.212.68.130] (HELO uksmtp3.uk.informa.com) (213.212.68.130)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Sep 2005 06:43:45 -0700
Received: from ukexfe02.UK.CorpLAN.net (unverified) by uksmtp3.uk.informa.com 
    (Content Technologies SMTPRS 4.3.19) with ESMTP id 
    <T736bcc9937c0a82d14fe0@uksmtp3.uk.informa.com> for 
    <java-user@lucene.apache.org>; Fri, 16 Sep 2005 14:43:29 +0100
Received: from UKEXBE01.UK.CorpLAN.net ([10.10.4.122]) by 
    ukexfe02.UK.CorpLAN.net with Microsoft SMTPSVC (6.0.3790.211); Fri, 16 
    Sep 2005 14:43:29 +0100
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Subject: Sorting results by both score and date
Date: Fri, 16 Sep 2005 14:43:29 +0100
Message-ID: <9239D85FA271BB4FBC6AE3D2AE8D685A1B3045@UKEXBE01.UK.CorpLAN.net>
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Thread-Topic: Sorting results by both score and date
Thread-Index: AcW6xJ70zN/YbNzkTb2P/iQS4C0gOA==
From: <Tim.Wright@informa.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 16 Sep 2005 13:43:29.0525 (UTC) 
    FILETIME=[9F153250:01C5BAC4]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

I'm working in an industry which is fairly time sensitive, and older
documents are inherently less valuable. I'd like to be able to "weight"
the score of search results, so that older documents score lower. I
don't just want to sort by date, though - I'd still like results to be
ordered by score, just an "adjusted" score.=20

I've read the excellent LIA, including the chapter on custom sort
methods, but from what I can tell that still only implements a sort on
one field - I really want to be able to sort on a "blend" of fields (one
of this is the actual document score).=20

Could anyone suggest how I could implement this? I considered explicitly
weighting the documents with a function of their date at index time, but
this would mean the "weight" of the new documents would have to increase
exponentially over time, and I suspect things would get messy! (Our
dataset is around 250k documents, growing by a few thousand a month.)

Cheers,

Tim.



***************************************************************************=
*****
The information contained in this email message may be confidential. If you=
 are not the intended recipient, any use, interference with, disclosure or =
copying of this material is unauthorised and prohibited. Although this mess=
age and any attachments are believed to be free of viruses, no responsibili=
ty is accepted by T&F Informa for any loss or damage arising in any way fro=
m receipt or use thereof.  Messages to and from the company are monitored f=
or operational reasons and in accordance with lawful business practices.=20
If you have received this message in error, please notify us by return and =
delete the message and any attachments.  Further enquiries/returns can be s=
ent to postmaster@tfinforma.com


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16427-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 16 13:52:53 2005
Return-Path: <java-user-return-16427-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84454 invoked from network); 16 Sep 2005 13:52:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Sep 2005 13:52:52 -0000
Received: (qmail 265 invoked by uid 500); 16 Sep 2005 13:52:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 163 invoked by uid 500); 16 Sep 2005 13:52:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 139 invoked by uid 99); 16 Sep 2005 13:52:38 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Sep 2005 06:52:38 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.35.35.7] (HELO mailgw3a.lmco.com) (192.35.35.7)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Sep 2005 06:52:45 -0700
Received: from emss04g01.ems.lmco.com (relay4.ems.lmco.com [166.17.13.122])
	by mailgw3a.lmco.com (8.12.10/8.12.10) with ESMTP id j8GDqXUW022140
	for <java-user@lucene.apache.org>; Fri, 16 Sep 2005 09:52:33 -0400 (EDT)
Received: from CONVERSION-DAEMON.lmco.com by lmco.com (PMDF V6.1-1X6 #30884)
 id <0IMW00501X7JCZ@lmco.com> for java-user@lucene.apache.org; Fri, 16 Sep 2005 09:52:32 -0400 (EDT)
Received: from EMSS10M01.us.lmco.com ([158.187.0.150]) by lmco.com (PMDF V6.1-1X6 #30884)
 with ESMTP id <0IMW0057WX7HAS@lmco.com> for java-user@lucene.apache.org; Fri, 16 Sep 2005 09:52:30 -0400 (EDT)
Received: from EMSS10M03.us.lmco.com ([158.187.0.148]) by EMSS10M01.us.lmco.com with Microsoft SMTPSVC(5.0.2195.6713); Fri,
 16 Sep 2005 09:52:29 -0400
Date: Fri, 16 Sep 2005 09:52:28 -0400
From: "Mordo, Aviran (EXP N-NANNATEK)" <aviran.mordo@lmco.com>
Subject: RE: Sorting results by both score and date
To: java-user@lucene.apache.org
Message-id: <92A278501EF50444AD3EE1FFB51219550BCE3966@emss10m03.us.lmco.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6603.0
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT
Thread-Topic: Sorting results by both score and date
Thread-Index: AcW6xJ70zN/YbNzkTb2P/iQS4C0gOAAAG6WQ
content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-OriginalArrivalTime: 16 Sep 2005 13:52:29.0216 (UTC) FILETIME=[E0C38200:01C5BAC5]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

You can write a query and add a date range to it giving the date field a
boost.

For instance you can do "+content:foo date:[{Today's date} TO null]^5
date:[{Yesterday's Date} TO {Today's Date}]^4 date:[{Last Week's Date}
TO Yesterday's Date}]^3 and so on

Aviran
http://www.aviransplace.com

-----Original Message-----
From: Tim.Wright@informa.com [mailto:Tim.Wright@informa.com] 
Sent: Friday, September 16, 2005 9:43 AM
To: java-user@lucene.apache.org
Subject: Sorting results by both score and date

Hi,

I'm working in an industry which is fairly time sensitive, and older
documents are inherently less valuable. I'd like to be able to "weight"
the score of search results, so that older documents score lower. I
don't just want to sort by date, though - I'd still like results to be
ordered by score, just an "adjusted" score. 

I've read the excellent LIA, including the chapter on custom sort
methods, but from what I can tell that still only implements a sort on
one field - I really want to be able to sort on a "blend" of fields (one
of this is the actual document score). 

Could anyone suggest how I could implement this? I considered explicitly
weighting the documents with a function of their date at index time, but
this would mean the "weight" of the new documents would have to increase
exponentially over time, and I suspect things would get messy! (Our
dataset is around 250k documents, growing by a few thousand a month.)

Cheers,

Tim.



************************************************************************
********
The information contained in this email message may be confidential. If
you are not the intended recipient, any use, interference with,
disclosure or copying of this material is unauthorised and prohibited.
Although this message and any attachments are believed to be free of
viruses, no responsibility is accepted by T&F Informa for any loss or
damage arising in any way from receipt or use thereof.  Messages to and
from the company are monitored for operational reasons and in accordance
with lawful business practices. 
If you have received this message in error, please notify us by return
and delete the message and any attachments.  Further enquiries/returns
can be sent to postmaster@tfinforma.com


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16428-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 16 13:54:28 2005
Return-Path: <java-user-return-16428-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 85844 invoked from network); 16 Sep 2005 13:54:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Sep 2005 13:54:28 -0000
Received: (qmail 6731 invoked by uid 500); 16 Sep 2005 13:54:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6711 invoked by uid 500); 16 Sep 2005 13:54:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6698 invoked by uid 99); 16 Sep 2005 13:54:21 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Sep 2005 06:54:21 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Sep 2005 06:54:30 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 1C27913E2006; Fri, 16 Sep 2005 09:54:15 -0400 (EDT)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id D23D513E2005
	for <java-user@lucene.apache.org>; Fri, 16 Sep 2005 09:54:05 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <9239D85FA271BB4FBC6AE3D2AE8D685A1B3045@UKEXBE01.UK.CorpLAN.net>
References: <9239D85FA271BB4FBC6AE3D2AE8D685A1B3045@UKEXBE01.UK.CorpLAN.net>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <EEB34E59-1FC9-4173-8A8F-B1C4D992E31F@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Sorting results by both score and date
Date: Fri, 16 Sep 2005 09:54:08 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-3.7 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Tim, check out p. 155 in LIA where we discuss "Sorting by multiple  
fields".

However, what you're really after it seems is boosting documents.   
Check out TheServerSide's case study (online or in LIA) - Dion  
discusses how he implemented boosting for more recent documents.  If  
you're indexing documents in ascending date order, perhaps you could  
leverage the document id in such a boosting factor?

     Erik


On Sep 16, 2005, at 9:43 AM, <Tim.Wright@informa.com>  
<Tim.Wright@informa.com> wrote:

> Hi,
>
> I'm working in an industry which is fairly time sensitive, and older
> documents are inherently less valuable. I'd like to be able to  
> "weight"
> the score of search results, so that older documents score lower. I
> don't just want to sort by date, though - I'd still like results to be
> ordered by score, just an "adjusted" score.
>
> I've read the excellent LIA, including the chapter on custom sort
> methods, but from what I can tell that still only implements a sort on
> one field - I really want to be able to sort on a "blend" of fields  
> (one
> of this is the actual document score).
>
> Could anyone suggest how I could implement this? I considered  
> explicitly
> weighting the documents with a function of their date at index  
> time, but
> this would mean the "weight" of the new documents would have to  
> increase
> exponentially over time, and I suspect things would get messy! (Our
> dataset is around 250k documents, growing by a few thousand a month.)
>
> Cheers,
>
> Tim.
>
>
>
> ********************************************************************** 
> **********
> The information contained in this email message may be  
> confidential. If you are not the intended recipient, any use,  
> interference with, disclosure or copying of this material is  
> unauthorised and prohibited. Although this message and any  
> attachments are believed to be free of viruses, no responsibility  
> is accepted by T&F Informa for any loss or damage arising in any  
> way from receipt or use thereof.  Messages to and from the company  
> are monitored for operational reasons and in accordance with lawful  
> business practices.
> If you have received this message in error, please notify us by  
> return and delete the message and any attachments.  Further  
> enquiries/returns can be sent to postmaster@tfinforma.com
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16429-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 16 14:14:21 2005
Return-Path: <java-user-return-16429-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95933 invoked from network); 16 Sep 2005 14:14:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Sep 2005 14:14:21 -0000
Received: (qmail 43616 invoked by uid 500); 16 Sep 2005 14:14:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43597 invoked by uid 500); 16 Sep 2005 14:14:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43584 invoked by uid 99); 16 Sep 2005 14:14:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Sep 2005 07:14:14 -0700
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [213.212.68.131] (HELO uksmtp4.uk.informa.com) (213.212.68.131)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Sep 2005 07:14:24 -0700
Received: from ukexfe02.UK.CorpLAN.net (unverified) by uksmtp4.uk.informa.com 
    (Content Technologies SMTPRS 4.3.19) with ESMTP id 
    <T736be8b100c0a82d15148@uksmtp4.uk.informa.com> for 
    <java-user@lucene.apache.org>; Fri, 16 Sep 2005 15:14:10 +0100
Received: from UKEXBE01.UK.CorpLAN.net ([10.10.4.122]) by 
    ukexfe02.UK.CorpLAN.net with Microsoft SMTPSVC (6.0.3790.211); Fri, 16 
    Sep 2005 15:14:10 +0100
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Subject: RE: Sorting results by both score and date
Date: Fri, 16 Sep 2005 15:14:09 +0100
Message-ID: <9239D85FA271BB4FBC6AE3D2AE8D685A1B3046@UKEXBE01.UK.CorpLAN.net>
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Thread-Topic: Sorting results by both score and date
Thread-Index: AcW6xltY2H4v4gDBRwmYCgKC1K8qFAAAhcvQ
From: <Tim.Wright@informa.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 16 Sep 2005 14:14:10.0389 (UTC) 
    FILETIME=[E852C050:01C5BAC8]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Ah - the one bit of LIA I haven't read yet is the case studies section!
Many thanks, I'll check it out. Sorting by multiple fields isn't quite
what I want - that sorts entirely by field A, then uses field B for
records where A is identical, correct?=20

What I really want to do is sort by "A * (1-(B/700))", where A is the
score, and B is the age (in days) of the document. IE - the score is
basically "scaled down" with date.=20

Cheers,

Tim.

-----Original Message-----
From: Erik Hatcher [mailto:erik@ehatchersolutions.com]=20
Sent: 16 September 2005 14:54
To: java-user@lucene.apache.org
Subject: Re: Sorting results by both score and date


Tim, check out p. 155 in LIA where we discuss "Sorting by multiple =20
fields".

However, what you're really after it seems is boosting documents.  =20
Check out TheServerSide's case study (online or in LIA) - Dion =20
discusses how he implemented boosting for more recent documents.  If =20
you're indexing documents in ascending date order, perhaps you could =20
leverage the document id in such a boosting factor?

     Erik





***************************************************************************=
*****
The information contained in this email message may be confidential. If you=
 are not the intended recipient, any use, interference with, disclosure or =
copying of this material is unauthorised and prohibited. Although this mess=
age and any attachments are believed to be free of viruses, no responsibili=
ty is accepted by T&F Informa for any loss or damage arising in any way fro=
m receipt or use thereof.  Messages to and from the company are monitored f=
or operational reasons and in accordance with lawful business practices.=20
If you have received this message in error, please notify us by return and =
delete the message and any attachments.  Further enquiries/returns can be s=
ent to postmaster@tfinforma.com


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16430-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 16 14:31:58 2005
Return-Path: <java-user-return-16430-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 3346 invoked from network); 16 Sep 2005 14:31:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Sep 2005 14:31:58 -0000
Received: (qmail 75356 invoked by uid 500); 16 Sep 2005 14:31:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75333 invoked by uid 500); 16 Sep 2005 14:31:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75319 invoked by uid 99); 16 Sep 2005 14:31:51 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Sep 2005 07:31:51 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Sep 2005 07:32:01 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id CDC4613E2007; Fri, 16 Sep 2005 10:31:47 -0400 (EDT)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 4178613E2005
	for <java-user@lucene.apache.org>; Fri, 16 Sep 2005 10:31:23 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <9239D85FA271BB4FBC6AE3D2AE8D685A1B3046@UKEXBE01.UK.CorpLAN.net>
References: <9239D85FA271BB4FBC6AE3D2AE8D685A1B3046@UKEXBE01.UK.CorpLAN.net>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <4BE0360C-9A2C-4B7D-B8F6-68BE275F8DD0@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Sorting results by both score and date
Date: Fri, 16 Sep 2005 10:31:26 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-3.4 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Sep 16, 2005, at 10:14 AM, <Tim.Wright@informa.com>  
<Tim.Wright@informa.com> wrote:
> Ah - the one bit of LIA I haven't read yet is the case studies  
> section!
> Many thanks, I'll check it out. Sorting by multiple fields isn't quite
> what I want - that sorts entirely by field A, then uses field B for
> records where A is identical, correct?

Correct.

> What I really want to do is sort by "A * (1-(B/700))", where A is the
> score, and B is the age (in days) of the document. IE - the score is
> basically "scaled down" with date.

Maybe the TSS case study will help, though they rebuild their index  
nightly and can adjust the boost based on the current day.

I've not come across a really clean way to do this sort of age-based  
boosting other than how TSS does it.

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16431-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 16 14:46:41 2005
Return-Path: <java-user-return-16431-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11927 invoked from network); 16 Sep 2005 14:46:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Sep 2005 14:46:41 -0000
Received: (qmail 7653 invoked by uid 500); 16 Sep 2005 14:46:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7641 invoked by uid 500); 16 Sep 2005 14:46:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 94163 invoked by uid 99); 16 Sep 2005 14:40:04 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_30_40,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of bogdan.munteanu@gmail.com designates 64.233.162.195 as permitted sender)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type;
        b=OJA/YSw5ZGy9zugoZN+UNkRlQnxIKFCGbO49JVk8ZDKNTSFQqulHfBB4+YvZJUQ+oAxQwXZJe67L9Op4rNjoMAvNa08yHB8JXdH04odVKCVU0579wogequLBpYtW0cuuYnDNAS0k0/QTzmmMXWCW6HnhXclxjhJsfxpjuOG3YIM=
Message-ID: <4b895a3905091607403ea99868@mail.gmail.com>
Date: Fri, 16 Sep 2005 17:40:00 +0300
From: Bogdan Munteanu <bogdan.munteanu@gmail.com>
Reply-To: bogdan.munteanu@gmail.com
To: java-user@lucene.apache.org
Subject: Deleting documents
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_4886_30101016.1126881600885"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_4886_30101016.1126881600885
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I have a problem when deleting documents.
Lets say I have a Document object doc.
doc.add(Field.Text("id","index1,DML"));
doc.add(Field.Text("contents","some records"));
IndexWriter.addDocument(doc);
 Now if I want to delete the document with id:index1,DML I do something lik=
e=20
this:
IndexReader.delete(new Term("id", "index1,DML"));
 And it is not deleted.
 I have debuged it and noticed that lucene compares my "index1,DML"=20
parameter with it's internal value "index1,dml".
 So when I do:
 IndexReader.delete(new Term("id", "index1,dml"));
the document is deleted.
 Now please explain me why is there a lower case value for my "id"?
And excuse my poor english!

------=_Part_4886_30101016.1126881600885--

From java-user-return-16432-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 16 14:50:54 2005
Return-Path: <java-user-return-16432-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13662 invoked from network); 16 Sep 2005 14:50:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Sep 2005 14:50:53 -0000
Received: (qmail 16934 invoked by uid 500); 16 Sep 2005 14:50:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16884 invoked by uid 500); 16 Sep 2005 14:50:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 16851 invoked by uid 99); 16 Sep 2005 14:50:42 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Sep 2005 07:50:42 -0700
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [213.212.68.131] (HELO uksmtp4.uk.informa.com) (213.212.68.131)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Sep 2005 07:50:51 -0700
Received: from ukexfe02.UK.CorpLAN.net (unverified) by uksmtp4.uk.informa.com 
    (Content Technologies SMTPRS 4.3.19) with ESMTP id 
    <T736c0856ddc0a82d15148@uksmtp4.uk.informa.com> for 
    <java-user@lucene.apache.org>; Fri, 16 Sep 2005 15:48:44 +0100
Received: from UKEXBE01.UK.CorpLAN.net ([10.10.4.122]) by 
    ukexfe02.UK.CorpLAN.net with Microsoft SMTPSVC (6.0.3790.211); Fri, 16 
    Sep 2005 15:48:44 +0100
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Subject: RE: Sorting results by both score and date
Date: Fri, 16 Sep 2005 15:48:44 +0100
Message-ID: <9239D85FA271BB4FBC6AE3D2AE8D685A1B3047@UKEXBE01.UK.CorpLAN.net>
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Thread-Topic: Sorting results by both score and date
Thread-Index: AcW6y2Vtu0QGVUosS2ujIf2tg5TougAAfgNQ
From: <Tim.Wright@informa.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 16 Sep 2005 14:48:44.0521 (UTC) 
    FILETIME=[BC9A2D90:01C5BACD]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

>> What I really want to do is sort by "A * (1-(B/700))", where A is the
>> score, and B is the age (in days) of the document. IE - the score is
>> basically "scaled down" with date.

> Maybe the TSS case study will help, though they rebuild their index =20
> nightly and can adjust the boost based on the current day.

Just read this - it looks like the best option for us. I think we could=20
get away with only periodically reindexing by just inflating the boost
marginally over time. Are there limits to boost? Any reason we can't=20
use a boost of, say, 0.0001 or 10,000?=20

Cheers,

Tim.



***************************************************************************=
*****
The information contained in this email message may be confidential. If you=
 are not the intended recipient, any use, interference with, disclosure or =
copying of this material is unauthorised and prohibited. Although this mess=
age and any attachments are believed to be free of viruses, no responsibili=
ty is accepted by T&F Informa for any loss or damage arising in any way fro=
m receipt or use thereof.  Messages to and from the company are monitored f=
or operational reasons and in accordance with lawful business practices.=20
If you have received this message in error, please notify us by return and =
delete the message and any attachments.  Further enquiries/returns can be s=
ent to postmaster@tfinforma.com


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16433-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 16 15:02:32 2005
Return-Path: <java-user-return-16433-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22382 invoked from network); 16 Sep 2005 15:02:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Sep 2005 15:02:32 -0000
Received: (qmail 52092 invoked by uid 500); 16 Sep 2005 15:02:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 52050 invoked by uid 500); 16 Sep 2005 15:02:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 52022 invoked by uid 99); 16 Sep 2005 15:02:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Sep 2005 08:02:29 -0700
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [213.212.68.130] (HELO uksmtp3.uk.informa.com) (213.212.68.130)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Sep 2005 08:02:37 -0700
Received: from ukexfe02.UK.CorpLAN.net (unverified) by uksmtp3.uk.informa.com 
    (Content Technologies SMTPRS 4.3.19) with ESMTP id 
    <T736c14d2a1c0a82d14fe0@uksmtp3.uk.informa.com>; Fri, 16 Sep 2005 
    16:02:23 +0100
Received: from UKEXBE01.UK.CorpLAN.net ([10.10.4.122]) by 
    ukexfe02.UK.CorpLAN.net with Microsoft SMTPSVC (6.0.3790.211); Fri, 16 
    Sep 2005 16:02:22 +0100
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Subject: RE: Deleting documents
Date: Fri, 16 Sep 2005 16:02:22 +0100
Message-ID: <9239D85FA271BB4FBC6AE3D2AE8D685A1B3048@UKEXBE01.UK.CorpLAN.net>
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
Thread-Topic: Deleting documents
Thread-Index: AcW6zbz8BC03479dSSWEHrugjqN/GAAAYazA
From: <Tim.Wright@informa.com>
To: <java-user@lucene.apache.org>, <bogdan.munteanu@gmail.com>
X-OriginalArrivalTime: 16 Sep 2005 15:02:22.0740 (UTC) 
    FILETIME=[A44C7D40:01C5BACF]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

If you're indexing a field like this in order to be able to use it as a
reference later, you should normally index it using Field.Keyword
instead of Field.Text - if you use Text, it will go through your
Analyzer, which is probably what's changing the case. (I think this is
right - I'm sure someone will correct me if I'm wrong!)

Cheers,

Tim.

-----Original Message-----
From: Bogdan Munteanu [mailto:bogdan.munteanu@gmail.com]=20
Sent: 16 September 2005 15:40
To: java-user@lucene.apache.org
Subject: Deleting documents


I have a problem when deleting documents.
Lets say I have a Document object doc.
doc.add(Field.Text("id","index1,DML"));
doc.add(Field.Text("contents","some records"));
IndexWriter.addDocument(doc);
 Now if I want to delete the document with id:index1,DML I do something
like=20
this:
IndexReader.delete(new Term("id", "index1,DML"));
 And it is not deleted.
 I have debuged it and noticed that lucene compares my "index1,DML"=20
parameter with it's internal value "index1,dml".
 So when I do:
 IndexReader.delete(new Term("id", "index1,dml"));
the document is deleted.
 Now please explain me why is there a lower case value for my "id"?
And excuse my poor english!



***************************************************************************=
*****
The information contained in this email message may be confidential. If you=
 are not the intended recipient, any use, interference with, disclosure or =
copying of this material is unauthorised and prohibited. Although this mess=
age and any attachments are believed to be free of viruses, no responsibili=
ty is accepted by T&F Informa for any loss or damage arising in any way fro=
m receipt or use thereof.  Messages to and from the company are monitored f=
or operational reasons and in accordance with lawful business practices.=20
If you have received this message in error, please notify us by return and =
delete the message and any attachments.  Further enquiries/returns can be s=
ent to postmaster@tfinforma.com


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16434-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 16 16:14:59 2005
Return-Path: <java-user-return-16434-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57445 invoked from network); 16 Sep 2005 16:14:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Sep 2005 16:14:59 -0000
Received: (qmail 96842 invoked by uid 500); 16 Sep 2005 16:14:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96736 invoked by uid 500); 16 Sep 2005 16:14:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96671 invoked by uid 99); 16 Sep 2005 16:14:47 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Sep 2005 09:14:47 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.35.35.7] (HELO mailgw3a.lmco.com) (192.35.35.7)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Sep 2005 09:14:54 -0700
Received: from emss04g01.ems.lmco.com (relay4.ems.lmco.com [166.17.13.122])
	by mailgw3a.lmco.com (8.12.10/8.12.10) with ESMTP id j8GGE1Xk021729;
	Fri, 16 Sep 2005 12:14:40 -0400 (EDT)
Received: from CONVERSION-DAEMON.lmco.com by lmco.com (PMDF V6.1-1X6 #30884) id <0IMX00M0102J1X@lmco.com>; Fri,
 16 Sep 2005 10:54:19 -0400 (EDT)
Received: from EMSS10M01.us.lmco.com ([158.187.0.150]) by lmco.com (PMDF V6.1-1X6 #30884)
 with ESMTP id <0IMX00K3X02J4X@lmco.com>; Fri, 16 Sep 2005 10:54:19 -0400 (EDT)
Received: from EMSS10M03.us.lmco.com ([158.187.0.148]) by EMSS10M01.us.lmco.com with Microsoft SMTPSVC(5.0.2195.6713); Fri,
 16 Sep 2005 10:54:19 -0400
Date: Fri, 16 Sep 2005 10:54:19 -0400
From: "Mordo, Aviran (EXP N-NANNATEK)" <aviran.mordo@lmco.com>
Subject: RE: Deleting documents
To: java-user@lucene.apache.org, bogdan.munteanu@gmail.com
Message-id: <92A278501EF50444AD3EE1FFB51219550BCE3967@emss10m03.us.lmco.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6603.0
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT
Thread-Topic: Deleting documents
Thread-Index: AcW6zXNlIh2G/j/iQV2Y8FRQGgeL6QAAKZbA
content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-OriginalArrivalTime: 16 Sep 2005 14:54:19.0480 (UTC) FILETIME=[8440DD80:01C5BACE]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Because when you add a document, the id is going thru an Analyzer, which
in your case uses a low case filter, but when you create a Term object
the term is not lower cased by an Analyzer.

If instead of using Field.Text for your ID, you'll use Keyword, then the
Analyzer will not lower case the ID

HTH

Aviran
http://www.aviransplace.com

-----Original Message-----
From: Bogdan Munteanu [mailto:bogdan.munteanu@gmail.com] 
Sent: Friday, September 16, 2005 10:40 AM
To: java-user@lucene.apache.org
Subject: Deleting documents

I have a problem when deleting documents.
Lets say I have a Document object doc.
doc.add(Field.Text("id","index1,DML"));
doc.add(Field.Text("contents","some records"));
IndexWriter.addDocument(doc);  Now if I want to delete the document with
id:index1,DML I do something like
this:
IndexReader.delete(new Term("id", "index1,DML"));  And it is not
deleted.
 I have debuged it and noticed that lucene compares my "index1,DML" 
parameter with it's internal value "index1,dml".
 So when I do:
 IndexReader.delete(new Term("id", "index1,dml")); the document is
deleted.
 Now please explain me why is there a lower case value for my "id"?
And excuse my poor english!


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16435-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 16 16:43:28 2005
Return-Path: <java-user-return-16435-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71216 invoked from network); 16 Sep 2005 16:43:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Sep 2005 16:43:28 -0000
Received: (qmail 61941 invoked by uid 500); 16 Sep 2005 16:43:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 61911 invoked by uid 500); 16 Sep 2005 16:43:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 61898 invoked by uid 99); 16 Sep 2005 16:43:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Sep 2005 09:43:20 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Sep 2005 09:43:29 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 573C813E2006; Fri, 16 Sep 2005 12:43:14 -0400 (EDT)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 49FC813E2005
	for <java-user@lucene.apache.org>; Fri, 16 Sep 2005 12:43:01 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <20050915165527.21509.qmail@web51801.mail.yahoo.com>
References: <20050915165527.21509.qmail@web51801.mail.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <E9DC053B-1E06-46FB-A808-1C9BD4992587@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Question: force a field must be matched?
Date: Fri, 16 Sep 2005 12:42:57 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-3.2 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Sep 15, 2005, at 12:55 PM, James Huang wrote:
> Thanks Jason.
>
> I wonder if that's the same as
>
>   queryString + " publisher:Manning"
>
> and pass on to the query parser?

I will emphasize the other comments made on this regarding the  
Analyzer.  I recommend against programatically adding to the string  
passed to QueryParser because of these types of issues.  You can  
aggregate a parsed expression Query into a BooleanQuery with other  
programmatically created Query objects (such as TermQuery in this case).

     Erik



>
> -James
>
> --- Jason Haruska <jason@haruska.com> wrote:
>
>
>> On 9/15/05, James Huang <metaprgmr@yahoo.com> wrote:
>>
>>>
>>> Suppose I have a book index with
>>>
>> field="publisher", field="title", etc.
>>
>>> I want to search for books only from "Manning", do
>>>
>> I have to do anything
>>
>>> special? how?
>>>
>>>
>>
>> add new BooleanClause(new TermQuery(new
>> Term("publisher","Manning")), true,
>> false) to your BooleanQuery
>>
>>
>
>
> __________________________________________________
> Do You Yahoo!?
> Tired of spam?  Yahoo! Mail has the best spam protection around
> http://mail.yahoo.com
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16436-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 16 16:47:24 2005
Return-Path: <java-user-return-16436-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72361 invoked from network); 16 Sep 2005 16:47:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Sep 2005 16:47:24 -0000
Received: (qmail 67653 invoked by uid 500); 16 Sep 2005 16:47:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 67632 invoked by uid 500); 16 Sep 2005 16:47:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 67619 invoked by uid 99); 16 Sep 2005 16:47:18 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Sep 2005 09:47:18 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Sep 2005 09:47:28 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id D846813E2007; Fri, 16 Sep 2005 12:47:13 -0400 (EDT)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 8EC9813E2005
	for <java-user@lucene.apache.org>; Fri, 16 Sep 2005 12:46:36 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <7ca12391050915092236e83527@mail.gmail.com>
References: <20050915161110.30823.qmail@web54314.mail.yahoo.com> <7ca12391050915092236e83527@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <4358975B-DD2D-4BA4-B86F-DA6F005D28F5@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Small problem in searching
Date: Fri, 16 Sep 2005 12:46:37 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-3.2 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Lucene's WildcardQuery *does* support "postfix" queries - however  
QueryParser does not allow such an expression to pass through.  You  
can create a WildcardQuery with a Term("field", "*whatever") and  
search with that.  All caveats about WildcardQuery, performance, and  
maximum number of boolean clauses apply.

     Erik


On Sep 15, 2005, at 12:22 PM, jian chen wrote:

> Hi,
>
> I think Lucene transforms the prefix match query into all sub  
> queries where
> the searching for a prefix could result into search for all terms  
> that begin
> with that prefix.
>
> For "postfix" match, I think you need to do more work than relying on
> Lucene's query parser.
>
> You can iterate over the terms and do an "endsWith()" call, and if  
> there is
> a match, then, perform a normal Lucene search for that term.
>
> So, effectively, you do the same thing as prefix match,  
> conceptually loop
> over all available terms in your dictionary and find all the terms  
> to be
> prepared for actual searching.
>
> This might be slow. What you might want to speed up the performance  
> is, you
> can store all the available terms in-memory, and looping through  
> all unique
> terms is a breeze. This is what google used for their prototype search
> engine when they were way back in the 1998s. (I guess :-)
>
> Cheers,
>
> Jian
>
> On 9/15/05, tirupathi reddy <tirupathireddy_m@yahoo.com> wrote:
>
>>
>> Hi guys,
>>
>> I have some problem while searching using Lucene. Say I have some  
>> thing
>> like "tirupathireddy" or "venkatreddy" in the index. When i search  
>> for
>> string "reddy" I have to get those things (i.e. "tirupathireddy" and
>> "venkatreddy"). I have read in Query syntax of Lucene that * will  
>> not be
>> given at the starting of the search string. SO how can I achiev  
>> that. I am
>> in very much need of that. So please help me out.
>>
>>
>> WIth Regards,
>> TirupatiReddy Manyam.
>>
>>
>> Tirupati Reddy Manyam
>> 24-06-08,
>> Sundugaullee-24,
>> 79110 Freiburg
>> GERMANY.
>>
>> Phone: 00497618811257
>> cell : 004917624649007
>>
>>
>> ---------------------------------
>> Yahoo! for Good
>> Click here to donate to the Hurricane Katrina relief effort.
>>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16437-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 16 19:51:46 2005
Return-Path: <java-user-return-16437-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 80221 invoked from network); 16 Sep 2005 19:51:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Sep 2005 19:51:46 -0000
Received: (qmail 14332 invoked by uid 500); 16 Sep 2005 19:51:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14298 invoked by uid 500); 16 Sep 2005 19:51:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14285 invoked by uid 99); 16 Sep 2005 19:51:39 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Sep 2005 12:51:39 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [212.227.126.186] (HELO moutng.kundenserver.de) (212.227.126.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Sep 2005 12:51:48 -0700
Received: from 59-113-68-233.dynamic.hinet.net [59.113.68.233] (helo=[127.0.0.1])
	by mrelayeu.kundenserver.de with ESMTP (Nemesis),
	id 0ML2Dk-1EGMFB1CH0-0004E4; Fri, 16 Sep 2005 21:51:33 +0200
Message-ID: <432B2240.9030309@matrix-web.de>
Date: Sat, 17 Sep 2005 03:51:28 +0800
From: =?ISO-8859-15?Q?Matthias_Br=E4uer?= <newsletter@matrix-web.de>
Reply-To:  matthew@matrix-web.de
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: de-DE, de, en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Text is not indexed when passed as a StringReader
Content-Type: text/plain; charset=ISO-8859-15; format=flowed
Content-Transfer-Encoding: 7bit
X-Provags-ID: kundenserver.de abuse@kundenserver.de login:db97d52989a6103bdc81fbf3f8dc5f8f
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,

this question seems to have occured in the mailing list before but I 
wasn't able to find a satisfying answer. So please excuse if I'm asking 
something that has already been discussed.

My problem is as follows:
If I use the Field.Text(String,Reader) method to create an indexed, but 
unstored field and the passed in Reader happens to be a StringReader 
(e.g. when extracting Word documents using the Textmining library) the 
field is not indexed at all. That means Luke shows no terms for this 
field and, consequently, searches do not yield any result. For 
FileReaders, however, everything seems to work fine.

Of course, I could just convert the reader back into a string (e.g. with 
Jakarta Commons IO - IOTools.toString()) and use the 
Unstored(String,String) method but then again it wouldn't make sense to 
use a StringReader in the first place.

Thanks for your help,
Matthias



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16438-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 16 20:29:47 2005
Return-Path: <java-user-return-16438-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89648 invoked from network); 16 Sep 2005 20:29:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Sep 2005 20:29:47 -0000
Received: (qmail 52199 invoked by uid 500); 16 Sep 2005 20:29:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 51711 invoked by uid 500); 16 Sep 2005 20:29:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 51697 invoked by uid 99); 16 Sep 2005 20:29:42 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Sep 2005 13:29:42 -0700
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Sep 2005 13:29:51 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 92F795B799; Fri, 16 Sep 2005 13:29:34 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP
	id 7C14C7F476; Fri, 16 Sep 2005 13:29:34 -0700 (PDT)
Date: Fri, 16 Sep 2005 13:29:34 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org, matthew@matrix-web.de
Subject: Re: Text is not indexed when passed as a StringReader
In-Reply-To: <432B2240.9030309@matrix-web.de>
Message-ID: <Pine.LNX.4.58.0509161327230.9184@hal.rescomp.berkeley.edu>
References: <432B2240.9030309@matrix-web.de>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=iso-8859-1
Content-Transfer-Encoding: QUOTED-PRINTABLE
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


I think you may be having another problem somewhere, usinga StringReader
works just fine for me (in fact: when you create a field with
a plain String, it is wrapped in a StringReader to pass to
your analyzer.

Note the following demo works just fine...

    public static void main(String[] args) throws Exception {
        RAMDirectory index =3D new RAMDirectory();
        IndexWriter writer =3D new IndexWriter(index,
                                             new WhitespaceAnalyzer(),
                                             true);
        Document doc =3D new Document();
        doc.add(Field.Text("foo", new StringReader("a b c d")));
        writer.addDocument(doc);
        writer.close();
        IndexSearcher s =3D new IndexSearcher(IndexReader.open(index));
        Hits h =3D s.search(new TermQuery(new Term("foo","a")));
        System.out.println(h.length() =3D=3D 1 ? "FOUND" : "ERROR");
    }






: Date: Sat, 17 Sep 2005 03:51:28 +0800
: From: "[ISO-8859-15] Matthias Br=E4uer" <newsletter@matrix-web.de>
: Reply-To: java-user@lucene.apache.org, matthew@matrix-web.de
: To: java-user@lucene.apache.org
: Subject: Text is not indexed when passed as a StringReader
:
: Hello,
:
: this question seems to have occured in the mailing list before but I
: wasn't able to find a satisfying answer. So please excuse if I'm asking
: something that has already been discussed.
:
: My problem is as follows:
: If I use the Field.Text(String,Reader) method to create an indexed, but
: unstored field and the passed in Reader happens to be a StringReader
: (e.g. when extracting Word documents using the Textmining library) the
: field is not indexed at all. That means Luke shows no terms for this
: field and, consequently, searches do not yield any result. For
: FileReaders, however, everything seems to work fine.
:
: Of course, I could just convert the reader back into a string (e.g. with
: Jakarta Commons IO - IOTools.toString()) and use the
: Unstored(String,String) method but then again it wouldn't make sense to
: use a StringReader in the first place.
:
: Thanks for your help,
: Matthias
:
:
:
: ---------------------------------------------------------------------
: To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: For additional commands, e-mail: java-user-help@lucene.apache.org
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16439-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 16 21:31:14 2005
Return-Path: <java-user-return-16439-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 3256 invoked from network); 16 Sep 2005 21:31:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Sep 2005 21:31:14 -0000
Received: (qmail 4795 invoked by uid 500); 16 Sep 2005 21:31:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4625 invoked by uid 500); 16 Sep 2005 21:31:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4589 invoked by uid 99); 16 Sep 2005 21:31:02 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Sep 2005 14:31:02 -0700
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_30_40,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 64.233.170.203 as permitted sender)
Received: from [64.233.170.203] (HELO rproxy.gmail.com) (64.233.170.203)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Sep 2005 14:31:10 -0700
Received: by rproxy.gmail.com with SMTP id g11so178119rne
        for <java-user@lucene.apache.org>; Fri, 16 Sep 2005 14:30:57 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type;
        b=R5lHyxz1uzvtlnjhWXcoz2gnyoSfGLXFhGZrSydt67WJHCdyr/TDRkox+7zzOv7ch6N3H9MYPz8HMiUrNcrt85m0Br/Q29rBtYYPUG7SpkOFG3R/k6RP3RU7HH5w1JZfi76btmoJlJi+Xudz5I8J2xIGP7wV0Ek3VYCGEOckRTY=
Received: by 10.38.24.11 with SMTP id 11mr1583rnx;
        Fri, 16 Sep 2005 14:30:57 -0700 (PDT)
Received: by 10.38.12.25 with HTTP; Fri, 16 Sep 2005 14:30:57 -0700 (PDT)
Message-ID: <c68e391705091614304ea73ab@mail.gmail.com>
Date: Fri, 16 Sep 2005 17:30:57 -0400
From: Yonik Seeley <yseeley@gmail.com>
Reply-To: yseeley@gmail.com
To: java-user@lucene.apache.org
Subject: JIRA bug messages
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_13877_14945380.1126906257827"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_13877_14945380.1126906257827
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I just updated a bug via JIRA,
http://issues.apache.org/jira/browse/LUCENE-383
and I didn't see it come to any mailing list like it used to with bugzilla.=
=20
Should it have? Is there a new mailing list to sign up for?

-Yonik
Now hiring -- http://tinyurl.com/7m67g

------=_Part_13877_14945380.1126906257827--

From java-user-return-16440-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 16 22:00:15 2005
Return-Path: <java-user-return-16440-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8716 invoked from network); 16 Sep 2005 22:00:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Sep 2005 22:00:15 -0000
Received: (qmail 25829 invoked by uid 500); 16 Sep 2005 22:00:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25530 invoked by uid 500); 16 Sep 2005 22:00:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25517 invoked by uid 99); 16 Sep 2005 22:00:10 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Sep 2005 15:00:10 -0700
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_50_60,HTML_MESSAGE,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [212.227.126.171] (HELO moutng.kundenserver.de) (212.227.126.171)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Sep 2005 15:00:19 -0700
Received: from D3be1.d.pppool.de [80.184.59.225] (helo=gasi)
	by mrelayeu.kundenserver.de with ESMTP (Nemesis),
	id 0ML2ov-1EGOFX1qF6-0000cC; Sat, 17 Sep 2005 00:00:03 +0200
Message-ID: <000a01c5bb06$190086f0$e13bb850@gasi>
From: "Gasi" <gasi@artentis.com>
To: <java-user@lucene.apache.org>
Subject: problems with lucene on a webhost account
Date: Fri, 16 Sep 2005 23:32:09 +0200
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0007_01C5BB16.DB6DADC0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Provags-ID: kundenserver.de abuse@kundenserver.de login:e856510009f74cf6d851f8e7132753ec
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0007_01C5BB16.DB6DADC0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hallo everybody,

 I had a problem with lucene demo on my webhosting account. Because I =
think more people have the same problem,and perhaps somebody will get =
the same problem in the futurek, so now I want describe how I solved it!

Well in my case I used a lucene webdemo on my homepc with windows xp and =
tomcat 3.3.2. the lucene webdemo worked perfectly on my homepc. After =
uploading these on a real webserver , it didn't work because for every =
search I had null results. So I found a solution-not a good one-but it =
works: I indexed my data on the webhostingaccount. Of course it is a bad =
solution, because for big amounts of data it is complicated to upload =
all documents you need.
But for test cases it works. Here are my scripts:

The one for index:

<%@ page import=3D" =
org.apache.lucene.analysis.Analyzer,org.apache.lucene.analysis.standard.S=
tandardAnalyzer,org.apache.lucene.document.Document,org.apache.lucene.doc=
ument.Field,org.apache.lucene.index.IndexWriter" %>
<%

=20
  String[] text =3D { "index", "lucene","ramon","gasi" };
  String indexDir =3D "path/onthe/webserver";
  Analyzer analyzer =3D new StandardAnalyzer();
  boolean create =3D true;
  IndexWriter writer =3D new IndexWriter(indexDir, analyzer, create);
  for (int i =3D 0; i < text.length; i++)
  {
   Document document =3D new Document();
   document.add(Field.Text("textfeld", text[i]));
   writer.addDocument(document);
  }
  writer.close();
=20
%>


The another one for searching:


<%@ page import =3D "  javax.servlet.*, javax.servlet.http.*, java.io.*, =
org.apache.lucene.analysis.*, org.apache.lucene.document.*, =
org.apache.lucene.index.*, org.apache.lucene.search.*, =
org.apache.lucene.queryParser.*,java.net.URLEncoder" %>
<%

    String indexName =3D"path/onthe/webserver";       //local copy of =
the configuration variable
        IndexSearcher searcher =3D null;          //the searcher used to =
open/search the index
        Query query =3D null;
        String myQuery=3D"lucene";
        Hits hits =3D null;  =20
       =20
        searcher =3D new IndexSearcher(IndexReader.open(indexName));
        Analyzer analyzer =3D new StopAnalyzer();=20
        query =3D QueryParser.parse(myQuery,"textfeld",analyzer);
        hits =3D searcher.search(query);
      =20
        if (hits.length() =3D=3D 0) {=20
       =20
%>
<p> Nothing found </p>
<%
   }
   else
   {
%>
<p>Some results found</p>
<%
    for(int i=3D0;i<hits.length();i++)
    {
     Document doc =3D hits.doc(i);
     String textfeld =3D doc.get("textfeld");
     out.println(textfeld);
    }
   }
%>


This is a very simple example for newbies in lucene, I hope this will be =
a little helpful for somebody.


Greetings



Gaston
------=_NextPart_000_0007_01C5BB16.DB6DADC0--


From java-user-return-16441-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 16 22:02:19 2005
Return-Path: <java-user-return-16441-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 9029 invoked from network); 16 Sep 2005 22:02:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Sep 2005 22:02:19 -0000
Received: (qmail 27670 invoked by uid 500); 16 Sep 2005 22:02:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27645 invoked by uid 500); 16 Sep 2005 22:02:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27632 invoked by uid 99); 16 Sep 2005 22:02:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Sep 2005 15:02:14 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_30_40,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.49.117] (HELO web54307.mail.yahoo.com) (206.190.49.117)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 16 Sep 2005 15:02:24 -0700
Received: (qmail 73584 invoked by uid 60001); 16 Sep 2005 22:02:11 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=P4uloF62H0snvWB9yqsBshII9IlfQ0UJ1Qf3L8xGTdSNV3wtXXOxyERph1nfuWhnhYyOG0xxhGg7o9ghB8iBeGIGzEU09AjzduuPE6TMsFFHyOH5J7G7K4cfNVJKUFTCT9Xn+tnuJoHc7woZ4wDEDgZbN+ojpOuFTxNCwyQ6RAI=  ;
Message-ID: <20050916220211.73582.qmail@web54307.mail.yahoo.com>
Received: from [141.70.115.175] by web54307.mail.yahoo.com via HTTP; Fri, 16 Sep 2005 15:02:11 PDT
Date: Fri, 16 Sep 2005 15:02:11 -0700 (PDT)
From: tirupathi reddy <tirupathireddy_m@yahoo.com>
Subject: Re: Small problem in searching
To: java-user@lucene.apache.org
In-Reply-To: <4358975B-DD2D-4BA4-B86F-DA6F005D28F5@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-407205161-1126908131=:70500"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-407205161-1126908131=:70500
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Hello,
 
     I read the following statement :
Note: You cannot use a * or ? symbol as the first character of a search.

in this page:  http://lucene.apache.org/java/docs/queryparsersyntax.html

So that's why I thought of that. And at present I am using QueryParser. So it is giving error for *reddy*. I am very new to this. And I have to submit my application by next week. So please help me how can I use WildcardQuery method instead of QueryParser.
 
At this time I have query like:  id:manyam* AND author:*reddy* OR title:"measurement procedure".
 
and I am passing it to QueryParser as follows
 
query = QueryParser.parse(query1,"ALL",analyzer);
 
and calling the search method of Searcher class as follows
 
Hits hits = searcher.search(query);
 
So can u please help me to modify this code to use WildcardQuery so that I can use *reddy*.
 
  Thanx,
MTREDDY


Tirupati Reddy Manyam 
24-06-08, 
Sundugaullee-24, 
79110 Freiburg 
GERMANY. 

Phone: 00497618811257 
cell : 004917624649007

__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 
--0-407205161-1126908131=:70500--

From java-user-return-16442-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 16 22:05:58 2005
Return-Path: <java-user-return-16442-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10178 invoked from network); 16 Sep 2005 22:05:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Sep 2005 22:05:58 -0000
Received: (qmail 33608 invoked by uid 500); 16 Sep 2005 22:05:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 32721 invoked by uid 500); 16 Sep 2005 22:05:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 32700 invoked by uid 99); 16 Sep 2005 22:05:54 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Sep 2005 15:05:54 -0700
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_20_30,HTML_MESSAGE,HTML_OBFUSCATE_05_10
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.49.121] (HELO web54311.mail.yahoo.com) (206.190.49.121)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 16 Sep 2005 15:06:03 -0700
Received: (qmail 56635 invoked by uid 60001); 16 Sep 2005 22:05:50 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=lDqJJXFlFCR591kct6zk8heR1wo9bkErQ13rJhV1skc93V+oSMgZdGV1SsnBrEYL2/tyWHL0PwXKVHKkh13R35DcTNIQSwtjpbgfXoqQQGZqkvV5sMqG5PjANdwyL4vfdW8M9ZZwfoDCPcKlUQLrDOmL+oRU7xLVdzzLJZsJExs=  ;
Message-ID: <20050916220550.56633.qmail@web54311.mail.yahoo.com>
Received: from [141.70.115.175] by web54311.mail.yahoo.com via HTTP; Fri, 16 Sep 2005 15:05:50 PDT
Date: Fri, 16 Sep 2005 15:05:50 -0700 (PDT)
From: tirupathi reddy <tirupathireddy_m@yahoo.com>
Subject: RE: Small problem in searching
To: java-user@lucene.apache.org
In-Reply-To: <950FF7DE40C2B64CAF80B564732927E104A661CF@exchange.be.bvd>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1170545697-1126908350=:54968"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-1170545697-1126908350=:54968
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Hello Luc,
 
   You are correct in that case. But if I have a string like manyamreddyvenkat. If I want to search for reddy, then I can't get that though I index all the entries in the reverse order. Is there any other way.
 
Thanx,
MTREDDY


Tirupati Reddy Manyam 
24-06-08, 
Sundugaullee-24, 
79110 Freiburg 
GERMANY. 

Phone: 00497618811257 
cell : 004917624649007

__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 
--0-1170545697-1126908350=:54968--

From java-user-return-16443-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 16 22:52:19 2005
Return-Path: <java-user-return-16443-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20048 invoked from network); 16 Sep 2005 22:52:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Sep 2005 22:52:19 -0000
Received: (qmail 64675 invoked by uid 500); 16 Sep 2005 22:52:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64629 invoked by uid 500); 16 Sep 2005 22:52:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 64606 invoked by uid 99); 16 Sep 2005 22:52:12 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Sep 2005 15:52:12 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lucenelist@danielnaber.de designates 80.67.18.16 as permitted sender)
Received: from [80.67.18.16] (HELO smtprelay04.ispgateway.de) (80.67.18.16)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Sep 2005 15:52:21 -0700
Received: (qmail 26687 invoked from network); 16 Sep 2005 22:52:07 -0000
Received: from unknown (HELO p5496FFF6.dip.t-dialin.net) ([pbs]695637@[84.150.255.246])
          (envelope-sender <lucenelist@danielnaber.de>)
          by smtprelay04.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 16 Sep 2005 22:52:07 -0000
From: Daniel Naber <lucenelist@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: Text is not indexed when passed as a StringReader
Date: Sat, 17 Sep 2005 00:51:54 +0200
User-Agent: KMail/1.8
References: <432B2240.9030309@matrix-web.de>
In-Reply-To: <432B2240.9030309@matrix-web.de>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
Message-Id: <200509170051.54203@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Friday 16 September 2005 21:51, Matthias Br=C3=A4uer wrote:

> but
> unstored field and the passed in Reader happens to be a StringReader
> (e.g. when extracting Word documents using the Textmining library) the
> field is not indexed at all. That means Luke shows no terms for this
> field and, consequently, searches do not yield any result.

Luke only shows terms if the field is *stored* (which it isn't for a=20
reader). You need to click the "Reconstruct & Edit" button to see if the=20
text really isn't *indexed*.

Regards
 Daniel

=2D-=20
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16444-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 16 23:00:16 2005
Return-Path: <java-user-return-16444-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 21324 invoked from network); 16 Sep 2005 23:00:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 16 Sep 2005 23:00:16 -0000
Received: (qmail 76231 invoked by uid 500); 16 Sep 2005 23:00:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75325 invoked by uid 500); 16 Sep 2005 23:00:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75311 invoked by uid 99); 16 Sep 2005 23:00:11 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Sep 2005 16:00:11 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lucenelist@danielnaber.de designates 80.67.18.14 as permitted sender)
Received: from [80.67.18.14] (HELO smtprelay02.ispgateway.de) (80.67.18.14)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Sep 2005 16:00:20 -0700
Received: (qmail 3899 invoked from network); 16 Sep 2005 23:00:10 -0000
Received: from unknown (HELO p5496FFF6.dip.t-dialin.net) ([pbs]695637@[84.150.255.246])
          (envelope-sender <lucenelist@danielnaber.de>)
          by smtprelay02.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 16 Sep 2005 23:00:10 -0000
From: Daniel Naber <lucenelist@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: problems with lucene on a webhost account
Date: Sat, 17 Sep 2005 00:59:54 +0200
User-Agent: KMail/1.8
References: <000a01c5bb06$190086f0$e13bb850@gasi>
In-Reply-To: <000a01c5bb06$190086f0$e13bb850@gasi>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200509170059.54626@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Friday 16 September 2005 23:32, Gasi wrote:

>  After uploading these on a real webserver , it didn't work because for
> every search I had null results. So I found a solution-not a good
> one-but it works: I indexed my data on the webhostingaccount.

There must have been a different problem. Lucene indexes should be 
system-independent, i.e. it should be possible to index on e.g. Windows 
and upload to Unix or vice versa. Maybe the fields where different in your 
searcher than the ones in the index (see the FAQ at 
http://wiki.apache.org/jakarta-lucene/LuceneFAQ#head-3558e5121806fb4fce80fc022d889484a9248b71).

Regards
 Daniel

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16445-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 17 00:27:37 2005
Return-Path: <java-user-return-16445-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35114 invoked from network); 17 Sep 2005 00:27:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Sep 2005 00:27:37 -0000
Received: (qmail 31743 invoked by uid 500); 17 Sep 2005 00:27:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31718 invoked by uid 500); 17 Sep 2005 00:27:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31705 invoked by uid 99); 17 Sep 2005 00:27:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Sep 2005 17:27:30 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.12.11.33] (HELO smtp002.mail.ukl.yahoo.com) (217.12.11.33)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 16 Sep 2005 17:27:39 -0700
Received: (qmail 49108 invoked from network); 17 Sep 2005 00:27:26 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Received:Message-ID:Date:From:User-Agent:X-Accept-Language:MIME-Version:To:Subject:Content-Type:Content-Transfer-Encoding;
  b=W7AdXA8h4QNu+FgX/ZoEoCD578hSy8OvVkspANcuc5oQ4sFo9iSkavPO9qUQ7Derkz0dR+L3HT9iuyEwsqnncKDasBB8v/L9nah13oScXazBsADLJJc3Dp3r6F1qjH0pZMa2+HPplKXD9x82PBlwopRt6Rl5Fss080yj5AvYbUY=  ;
Received: from unknown (HELO ?127.0.0.1?) (markharw00d@194.106.34.5 with plain)
  by smtp002.mail.ukl.yahoo.com with SMTP; 17 Sep 2005 00:27:26 -0000
Message-ID: <432B62F1.2070705@yahoo.co.uk>
Date: Sat, 17 Sep 2005 01:27:29 +0100
From: markharw00d <markharw00d@yahoo.co.uk>
User-Agent: Mozilla Thunderbird 1.0.5 (Windows/20050711)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Lucene database bindings
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I know there have been some posts discussing how to integrate Lucene 
with Derby recently.

I've added an example project that works with both HSQLDB and Derby 
here: http://issues.apache.org/jira/browse/LUCENE-434

The bindings allow you to use SQL that mixes database and Lucene 
functionality in ways like this:

    select top 10 lucene_score(id) as SCORE,
            lucene_highlight(adText) from ads
               where pricePounds <200 and pricePounds >1
               and lucene_query('"drum kit"',id)>0
            order by SCORE DESC, pricePounds ASC

See the readme.txt in the zip file for details.

Cheers,
Mark







		
___________________________________________________________ 
To help you stay safe and secure online, we've developed the all new Yahoo! Security Centre. http://uk.security.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16446-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 17 06:43:12 2005
Return-Path: <java-user-return-16446-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8454 invoked from network); 17 Sep 2005 06:43:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Sep 2005 06:43:12 -0000
Received: (qmail 39350 invoked by uid 500); 17 Sep 2005 06:43:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 39315 invoked by uid 500); 17 Sep 2005 06:43:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 39300 invoked by uid 99); 17 Sep 2005 06:43:06 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Sep 2005 23:43:06 -0700
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.109.24.34] (HELO smtp-vbr14.xs4all.nl) (194.109.24.34)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 16 Sep 2005 23:43:16 -0700
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr14.xs4all.nl (8.13.3/8.13.3) with ESMTP id j8H6h2Wr091684
	for <java-user@lucene.apache.org>; Sat, 17 Sep 2005 08:43:02 +0200 (CEST)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: JIRA bug messages
Date: Sat, 17 Sep 2005 08:43:02 +0200
User-Agent: KMail/1.5.4
References: <c68e391705091614304ea73ab@mail.gmail.com>
In-Reply-To: <c68e391705091614304ea73ab@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200509170843.02700.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Yonik,

On Friday 16 September 2005 23:30, Yonik Seeley wrote:
> I just updated a bug via JIRA,
> http://issues.apache.org/jira/browse/LUCENE-383
> and I didn't see it come to any mailing list like it used to with bugzilla. 
> Should it have? Is there a new mailing list to sign up for?

I had a similar experience with this (SpanNotQuery not patched,
but previous bug is in fixed status):
http://issues.apache.org/jira/browse/LUCENE-433
and I would also prefer to have a mailing list for changes to
Lucene issues in JIRA.

Btw. the list general@lucene.apache.org might be better for this subject.

Regards,
Paul Elschot


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16447-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 17 08:02:48 2005
Return-Path: <java-user-return-16447-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28715 invoked from network); 17 Sep 2005 08:02:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Sep 2005 08:02:48 -0000
Received: (qmail 91550 invoked by uid 500); 17 Sep 2005 08:02:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91518 invoked by uid 500); 17 Sep 2005 08:02:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91505 invoked by uid 99); 17 Sep 2005 08:02:42 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 17 Sep 2005 01:02:42 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.44.16.11] (HELO getopt.org) (69.44.16.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 17 Sep 2005 01:02:51 -0700
Received: from [192.168.0.254] (75-mo3-2.acn.waw.pl [62.121.105.75])
	(authenticated)
	by getopt.org (8.11.6/8.11.6) with ESMTP id j8H82e515293
	for <java-user@lucene.apache.org>; Sat, 17 Sep 2005 03:02:40 -0500
Message-ID: <432BCDA2.5040706@getopt.org>
Date: Sat, 17 Sep 2005 10:02:42 +0200
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Text is not indexed when passed as a StringReader
References: <432B2240.9030309@matrix-web.de> <200509170051.54203@danielnaber.de>
In-Reply-To: <200509170051.54203@danielnaber.de>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Daniel Naber wrote:
> On Friday 16 September 2005 21:51, Matthias BrÃ¤uer wrote:
> 
> 
>>but
>>unstored field and the passed in Reader happens to be a StringReader
>>(e.g. when extracting Word documents using the Textmining library) the
>>field is not indexed at all. That means Luke shows no terms for this
>>field and, consequently, searches do not yield any result.
> 
> 
> Luke only shows terms if the field is *stored* (which it isn't for a 
> reader). You need to click the "Reconstruct & Edit" button to see if the 
> text really isn't *indexed*.

Caveat emptor - the "Restore" function just collects existing terms from 
the index. If the input text passed through an aggresive analyzer (like 
the StandardAnalyzer), many tokens will be missing and the reconstructed 
text will be incomplete.

-- 
Best regards,
Andrzej Bialecki     <><
  ___. ___ ___ ___ _ _   __________________________________
[__ || __|__/|__||\/|  Information Retrieval, Semantic Web
___|||__||  \|  ||  |  Embedded Unix, System Integration
http://www.sigram.com  Contact: info at sigram dot com


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16448-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 17 09:03:49 2005
Return-Path: <java-user-return-16448-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 39458 invoked from network); 17 Sep 2005 09:03:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Sep 2005 09:03:49 -0000
Received: (qmail 15935 invoked by uid 500); 17 Sep 2005 09:03:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 15917 invoked by uid 500); 17 Sep 2005 09:03:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 15904 invoked by uid 99); 17 Sep 2005 09:03:43 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 17 Sep 2005 02:03:43 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of ben.d.gill@gmail.com designates 64.233.162.194 as permitted sender)
Received: from [64.233.162.194] (HELO zproxy.gmail.com) (64.233.162.194)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 17 Sep 2005 02:03:52 -0700
Received: by zproxy.gmail.com with SMTP id i28so375225nzi
        for <java-user@lucene.apache.org>; Sat, 17 Sep 2005 02:03:40 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=sUUVerh4ePKftTULSOV2krZ8WCK4tlZYn1sdfwXAKl1lmNT6U8IodFUlx03HhBMluTBgY+6Qs16E8hQNTFOm48gZZRFuFfJ2JNKsry/melKKdUFVlQYzu1Kgwa2Tw5Oxt6G4rl0hzIQInGr8OtkDk/20QNT416AL1MUthbGBaOE=
Received: by 10.54.46.37 with SMTP id t37mr81271wrt;
        Sat, 17 Sep 2005 02:03:39 -0700 (PDT)
Received: by 10.54.109.1 with HTTP; Sat, 17 Sep 2005 02:03:39 -0700 (PDT)
Message-ID: <846717200509170203337542a0@mail.gmail.com>
Date: Sat, 17 Sep 2005 10:03:39 +0100
From: Ben Gill <ben.d.gill@gmail.com>
Reply-To: ben.d.gill@gmail.com
To: java-user@lucene.apache.org
Subject: Stopping Duplicates
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

I am storing names in my index, and am currently getting duplicates
back (quite correctly, on Lucene's part), because I am storing:

id     name
1      fred
2      fred

What I want to happen is, if a duplicate name is added to the index, I
only ever want one entity to exist with the name....

What is the best way for me to achieve this?

Thanks

Ben

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16449-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 17 12:30:39 2005
Return-Path: <java-user-return-16449-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98100 invoked from network); 17 Sep 2005 12:30:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Sep 2005 12:30:39 -0000
Received: (qmail 59643 invoked by uid 500); 17 Sep 2005 12:30:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58945 invoked by uid 500); 17 Sep 2005 12:30:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58825 invoked by uid 99); 17 Sep 2005 12:30:32 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 17 Sep 2005 05:30:32 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [209.61.132.12] (HELO server1.livestoryboard.com) (209.61.132.12)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 17 Sep 2005 05:30:41 -0700
Received: from [127.0.0.1] (livestoryboard.com [209.61.132.12] (may be forged))
	(authenticated)
	by server1.livestoryboard.com (8.11.6/8.11.6) with ESMTP id j8HCVmg20211
	for <java-user@lucene.apache.org>; Sat, 17 Sep 2005 07:31:48 -0500
Message-ID: <432C0C5D.9010203@koberg.com>
Date: Sat, 17 Sep 2005 08:30:21 -0400
From: Robert Koberg <rob@koberg.com>
User-Agent: Mozilla Thunderbird 1.0 (Macintosh/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: query with wildcard in field name?
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

Is there a Query that will allow wildcards in the field name?

For example, lets say I have documents with the following fields:

Field Name   =   Field Value

- Doc 1
/faq/question/a = foo

- Doc 2
/article/section/p/a = foo

Is there a way to build a query like:

QueryParser.parse(
   "foo",
   "/*/a",
   myAnalyzer
);

Is this possible with lucene now?

(is svn.apache.org down? I can't seem to connect to the repository 
server to get the latest source.)

Is having a wildcard in a field name something that is even feasible?

If feasible, any suggestions on how to add this feature to lucene?

thanks,
-Rob

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16450-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 17 13:02:53 2005
Return-Path: <java-user-return-16450-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1505 invoked from network); 17 Sep 2005 13:02:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Sep 2005 13:02:52 -0000
Received: (qmail 80802 invoked by uid 500); 17 Sep 2005 13:02:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80770 invoked by uid 500); 17 Sep 2005 13:02:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80756 invoked by uid 99); 17 Sep 2005 13:02:48 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 17 Sep 2005 06:02:48 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [209.61.132.12] (HELO server1.livestoryboard.com) (209.61.132.12)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 17 Sep 2005 06:02:57 -0700
Received: from [127.0.0.1] (livestoryboard.com [209.61.132.12] (may be forged))
	(authenticated)
	by server1.livestoryboard.com (8.11.6/8.11.6) with ESMTP id j8HD45g20427
	for <java-user@lucene.apache.org>; Sat, 17 Sep 2005 08:04:05 -0500
Message-ID: <432C13F4.20700@koberg.com>
Date: Sat, 17 Sep 2005 09:02:44 -0400
From: Robert Koberg <rob@koberg.com>
User-Agent: Mozilla Thunderbird 1.0 (Macintosh/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: query with wildcard in field name?
References: <432C0C5D.9010203@koberg.com>
In-Reply-To: <432C0C5D.9010203@koberg.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I wrote:

> 
> (is svn.apache.org down? I can't seem to connect to the repository 
> server to get the latest source.)
> 

It is up now...

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16451-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 17 13:39:14 2005
Return-Path: <java-user-return-16451-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11189 invoked from network); 17 Sep 2005 13:39:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Sep 2005 13:39:13 -0000
Received: (qmail 98632 invoked by uid 500); 17 Sep 2005 13:39:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 98604 invoked by uid 500); 17 Sep 2005 13:39:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 98591 invoked by uid 99); 17 Sep 2005 13:39:08 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 17 Sep 2005 06:39:08 -0700
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_40_50,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of magawake@gmail.com designates 64.233.162.194 as permitted sender)
Received: from [64.233.162.194] (HELO zproxy.gmail.com) (64.233.162.194)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 17 Sep 2005 06:39:18 -0700
Received: by zproxy.gmail.com with SMTP id i28so404099nzi
        for <java-user@lucene.apache.org>; Sat, 17 Sep 2005 06:39:06 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=uQd0bv09IzxZETcL+b7npKddONwo8HVr6VNUGZ/2HBnK9BqWtmOfBFksBTIQ25gtuHDP5b3CdWfsWvZNQPO5R2XhwYFHWl1u8C61Cx9n/keBKh1hzYisMytaB8jMkiefWxDt4ib90nwxMVdn+0gLVHYlKn5bqrJWiKM11J6fHmk=
Received: by 10.54.49.17 with SMTP id w17mr155947wrw;
        Sat, 17 Sep 2005 06:39:06 -0700 (PDT)
Received: by 10.54.132.10 with HTTP; Sat, 17 Sep 2005 06:39:06 -0700 (PDT)
Message-ID: <1cbd6f830509170639d73f27@mail.gmail.com>
Date: Sat, 17 Sep 2005 09:39:06 -0400
From: Mag Gam <magawake@gmail.com>
Reply-To: magawake@gmail.com
To: java-user@lucene.apache.org
Subject: Re: Lucene database bindings
In-Reply-To: <432B62F1.2070705@yahoo.co.uk>
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_11048_10626358.1126964346098"
References: <432B62F1.2070705@yahoo.co.uk>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_11048_10626358.1126964346098
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Mark:

Thanks for looking at this.I will try it out!


On 9/16/05, markharw00d <markharw00d@yahoo.co.uk> wrote:
>=20
> I know there have been some posts discussing how to integrate Lucene
> with Derby recently.
>=20
> I've added an example project that works with both HSQLDB and Derby
> here: http://issues.apache.org/jira/browse/LUCENE-434
>=20
> The bindings allow you to use SQL that mixes database and Lucene
> functionality in ways like this:
>=20
> select top 10 lucene_score(id) as SCORE,
> lucene_highlight(adText) from ads
> where pricePounds <200 and pricePounds >1
> and lucene_query('"drum kit"',id)>0
> order by SCORE DESC, pricePounds ASC
>=20
> See the readme.txt in the zip file for details.
>=20
> Cheers,
> Mark
>=20
>=20
>=20
>=20
>=20
>=20
>=20
>=20
> ___________________________________________________________
> To help you stay safe and secure online, we've developed the all new=20
> Yahoo! Security Centre. http://uk.security.yahoo.com
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>

------=_Part_11048_10626358.1126964346098--

From java-user-return-16452-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 17 13:41:29 2005
Return-Path: <java-user-return-16452-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11428 invoked from network); 17 Sep 2005 13:41:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Sep 2005 13:41:29 -0000
Received: (qmail 2101 invoked by uid 500); 17 Sep 2005 13:41:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2076 invoked by uid 500); 17 Sep 2005 13:41:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2063 invoked by uid 99); 17 Sep 2005 13:41:24 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 17 Sep 2005 06:41:24 -0700
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_40_50,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of magawake@gmail.com designates 64.233.162.202 as permitted sender)
Received: from [64.233.162.202] (HELO zproxy.gmail.com) (64.233.162.202)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 17 Sep 2005 06:41:34 -0700
Received: by zproxy.gmail.com with SMTP id i28so404456nzi
        for <java-user@lucene.apache.org>; Sat, 17 Sep 2005 06:41:22 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=G3gUfMh8w2o1O9lS8g+khTirNkdWPcuXK3qzz6FpLDXds0aiGDHDDaZR95Z3aAMqkUYChQDQ0MlPdxnAY4VIN0rSJKeKOmco8idOFwFsnbStZ4Q4dAHgwUVdCAtL2eRu+93tJPpcrVmq20feSnljgU3vWt4xANZAgvI+7vk9ERg=
Received: by 10.54.11.5 with SMTP id 5mr158022wrk;
        Sat, 17 Sep 2005 06:41:22 -0700 (PDT)
Received: by 10.54.132.10 with HTTP; Sat, 17 Sep 2005 06:41:22 -0700 (PDT)
Message-ID: <1cbd6f83050917064164cb6699@mail.gmail.com>
Date: Sat, 17 Sep 2005 09:41:22 -0400
From: Mag Gam <magawake@gmail.com>
Reply-To: magawake@gmail.com
To: java-user@lucene.apache.org
Subject: Re: Lucene database bindings
In-Reply-To: <432B62F1.2070705@yahoo.co.uk>
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_11060_182299.1126964482463"
References: <432B62F1.2070705@yahoo.co.uk>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_11060_182299.1126964482463
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Does your example store the index in the derby db or somewhere else? I was=
=20
thinking of indexing a table in a seperate column.



On 9/16/05, markharw00d <markharw00d@yahoo.co.uk> wrote:
>=20
> I know there have been some posts discussing how to integrate Lucene
> with Derby recently.
>=20
> I've added an example project that works with both HSQLDB and Derby
> here: http://issues.apache.org/jira/browse/LUCENE-434
>=20
> The bindings allow you to use SQL that mixes database and Lucene
> functionality in ways like this:
>=20
> select top 10 lucene_score(id) as SCORE,
> lucene_highlight(adText) from ads
> where pricePounds <200 and pricePounds >1
> and lucene_query('"drum kit"',id)>0
> order by SCORE DESC, pricePounds ASC
>=20
> See the readme.txt in the zip file for details.
>=20
> Cheers,
> Mark
>=20
>=20
>=20
>=20
>=20
>=20
>=20
>=20
> ___________________________________________________________
> To help you stay safe and secure online, we've developed the all new=20
> Yahoo! Security Centre. http://uk.security.yahoo.com
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>

------=_Part_11060_182299.1126964482463--

From java-user-return-16453-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 17 15:00:34 2005
Return-Path: <java-user-return-16453-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24011 invoked from network); 17 Sep 2005 15:00:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Sep 2005 15:00:33 -0000
Received: (qmail 34447 invoked by uid 500); 17 Sep 2005 15:00:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34169 invoked by uid 500); 17 Sep 2005 15:00:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34156 invoked by uid 99); 17 Sep 2005 15:00:27 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 17 Sep 2005 08:00:27 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.12.11.33] (HELO smtp002.mail.ukl.yahoo.com) (217.12.11.33)
    by apache.org (qpsmtpd/0.29) with SMTP; Sat, 17 Sep 2005 08:00:36 -0700
Received: (qmail 7500 invoked from network); 17 Sep 2005 15:00:23 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Received:Message-ID:Date:From:User-Agent:X-Accept-Language:MIME-Version:To:Subject:References:In-Reply-To:Content-Type:Content-Transfer-Encoding;
  b=oOrSBuC8Xme5/b2fH4+6Vghh0NnJV48rJe0/wxLHn7uQfvFXw5mg0DzwAPe0CnHXtsNy4i/2jXENKhf9JtuK8QQuhvVx3h+k49pvvOESYjD+7lmhDHLtSDbbsHWrhXfzmjbu6blFxLE+3qRL6AkmDM10Rfmj2N0QgO5ka5s5loA=  ;
Received: from unknown (HELO ?127.0.0.1?) (markharw00d@194.106.34.5 with plain)
  by smtp002.mail.ukl.yahoo.com with SMTP; 17 Sep 2005 15:00:23 -0000
Message-ID: <432C2F85.6080700@yahoo.co.uk>
Date: Sat, 17 Sep 2005 16:00:21 +0100
From: markharw00d <markharw00d@yahoo.co.uk>
User-Agent: Mozilla Thunderbird 1.0.5 (Windows/20050711)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Lucene database bindings
References: <432B62F1.2070705@yahoo.co.uk> <1cbd6f83050917064164cb6699@mail.gmail.com>
In-Reply-To: <1cbd6f83050917064164cb6699@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Mag Gam wrote:

>Does your example store the index in the derby db or somewhere else? I was 
>thinking of indexing a table in a seperate column.
>  
>
The software is not an org.apache.lucene.store.Directory implementation 
ie an FSDirectory alternative for persisting Lucene data in a relational 
table.
Instead, the software demonstrates a way to extend SQL syntax to allow 
Lucene queries to run as in-line functions during the database's 
execution of queries. These hybrid SQL statements can take advantage of 
the usual databases functions for sorting, grouping joins, conditions, 
indexes etc but also use Lucene queries and highlighting functions all 
in the one SQL statement.
The Lucene indexes used as part of this can be any standard Directory 
implementation (eg RAM, FS).

The motivation for creating a Lucene/RDBMS hybrid query tool was to 
address issues commonly associated with using just Lucene:
1) Sorting on float/date fields and associated memory consumption
2) Representing numbers/dates in Lucene (eg having to pad with sufficent 
leading zeros and add
to index's list of terms)
3) Retrieving only certain stored fields from a document (all storage 
can be done in db)
4) Issues to do with updating *volatile* data eg price data used in sorts
5) Manually coding joins with RDBMS content as custom filters
6) Too-many terms exceptions produced by range queries
7) Grouping results eg by website
8) Boosting docs based on stored content eg date

These are the sorts of things an RDBMS can help with.

Cheers
Mark


		
___________________________________________________________ 
How much free photo storage do you get? Store your holiday 
snaps for FREE with Yahoo! Photos http://uk.photos.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16454-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 17 15:30:30 2005
Return-Path: <java-user-return-16454-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 29261 invoked from network); 17 Sep 2005 15:30:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Sep 2005 15:30:30 -0000
Received: (qmail 56005 invoked by uid 500); 17 Sep 2005 15:30:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 55116 invoked by uid 500); 17 Sep 2005 15:30:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 55095 invoked by uid 99); 17 Sep 2005 15:30:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 17 Sep 2005 08:30:24 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of chris.lu@gmail.com designates 66.249.82.194 as permitted sender)
Received: from [66.249.82.194] (HELO xproxy.gmail.com) (66.249.82.194)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 17 Sep 2005 08:30:32 -0700
Received: by xproxy.gmail.com with SMTP id h28so467476wxd
        for <java-user@lucene.apache.org>; Sat, 17 Sep 2005 08:30:19 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=HE0TnjGz/NFDRHz6HQKjwgZiWcvRWbvyxCO/lAwzgOKdmgSqjOOes9dWjEEE26p1y6cN5vfn7RYTH4Nn6yeCwU3KbWi7ugzmg+m7v79BwzAhNI8UPd8P8QKmq0409y1hlb9ywmRNeoX+gJsAroMD6/Ug4AaK5hQoRk3grnEXQoU=
Received: by 10.70.16.17 with SMTP id 17mr626744wxp;
        Sat, 17 Sep 2005 08:30:19 -0700 (PDT)
Received: by 10.70.23.8 with HTTP; Sat, 17 Sep 2005 08:30:19 -0700 (PDT)
Message-ID: <6e3ae63105091708304afac9d7@mail.gmail.com>
Date: Sat, 17 Sep 2005 08:30:19 -0700
From: Chris Lu <chris.lu@gmail.com>
Reply-To: chris.lu@gmail.com
To: java-user@lucene.apache.org
Subject: Re: Lucene database bindings
In-Reply-To: <432C2F85.6080700@yahoo.co.uk>
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <432B62F1.2070705@yahoo.co.uk>
	 <1cbd6f83050917064164cb6699@mail.gmail.com>
	 <432C2F85.6080700@yahoo.co.uk>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On 9/17/05, markharw00d <markharw00d@yahoo.co.uk> wrote:
> Mag Gam wrote:
>=20
> >Does your example store the index in the derby db or somewhere else? I w=
as
> >thinking of indexing a table in a seperate column.
> >
> >
> The software is not an org.apache.lucene.store.Directory implementation
> ie an FSDirectory alternative for persisting Lucene data in a relational
> table.
> Instead, the software demonstrates a way to extend SQL syntax to allow
> Lucene queries to run as in-line functions during the database's
> execution of queries. These hybrid SQL statements can take advantage of
> the usual databases functions for sorting, grouping joins, conditions,
> indexes etc but also use Lucene queries and highlighting functions all
> in the one SQL statement.
> The Lucene indexes used as part of this can be any standard Directory
> implementation (eg RAM, FS).
>=20
> The motivation for creating a Lucene/RDBMS hybrid query tool was to
> address issues commonly associated with using just Lucene:
> 1) Sorting on float/date fields and associated memory consumption
> 2) Representing numbers/dates in Lucene (eg having to pad with sufficent
> leading zeros and add
> to index's list of terms)
> 3) Retrieving only certain stored fields from a document (all storage
> can be done in db)
> 4) Issues to do with updating *volatile* data eg price data used in sorts
> 5) Manually coding joins with RDBMS content as custom filters
> 6) Too-many terms exceptions produced by range queries
> 7) Grouping results eg by website
> 8) Boosting docs based on stored content eg date
>=20
> These are the sorts of things an RDBMS can help with.
>=20
> Cheers
> Mark
>=20

Mark,

This is really good stuff!=20
I have been thinking about it for a long while.
Thank you for showing us the door!

Basically your lucene_query function will return a true/false in one
of the query predicates for each record.
This will be very useful when other query predicates can filter out a
lot of records.

Is there any hint to give DB to use the lucene_query function last?

Chris Lu
------------------------
Lucene RAD on Any Databases
http://www.dbsight.net

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16455-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 17 15:31:40 2005
Return-Path: <java-user-return-16455-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 29365 invoked from network); 17 Sep 2005 15:31:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Sep 2005 15:31:40 -0000
Received: (qmail 56334 invoked by uid 500); 17 Sep 2005 15:31:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 56309 invoked by uid 500); 17 Sep 2005 15:31:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 56296 invoked by uid 99); 17 Sep 2005 15:31:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 17 Sep 2005 08:31:35 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=HTML_20_30,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of magawake@gmail.com designates 64.233.162.198 as permitted sender)
Received: from [64.233.162.198] (HELO zproxy.gmail.com) (64.233.162.198)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 17 Sep 2005 08:31:44 -0700
Received: by zproxy.gmail.com with SMTP id i28so419556nzi
        for <java-user@lucene.apache.org>; Sat, 17 Sep 2005 08:31:32 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=GNRpI5+uH7Y3sXBAwMlH3uAP5c3nnovx6HUuctQqmSFFUsR/iSFoHbbpKWU2zzgJHvbYSHGHrUvFE49t2J/rxO+bF/ZO75o31mHVLcpWy9QpTZJjvUYB13A7pvr+btt1aY039dd2L/Pvkd3/RSwgRJfoKhgF77cBz3Ic5FOmdbo=
Received: by 10.54.45.50 with SMTP id s50mr205086wrs;
        Sat, 17 Sep 2005 08:31:31 -0700 (PDT)
Received: by 10.54.132.10 with HTTP; Sat, 17 Sep 2005 08:31:31 -0700 (PDT)
Message-ID: <1cbd6f830509170831493b93ed@mail.gmail.com>
Date: Sat, 17 Sep 2005 11:31:31 -0400
From: Mag Gam <magawake@gmail.com>
Reply-To: magawake@gmail.com
To: java-user@lucene.apache.org, chris.lu@gmail.com
Subject: Re: Lucene database bindings
In-Reply-To: <6e3ae63105091708304afac9d7@mail.gmail.com>
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_11285_12664865.1126971091837"
References: <432B62F1.2070705@yahoo.co.uk>
	 <1cbd6f83050917064164cb6699@mail.gmail.com>
	 <432C2F85.6080700@yahoo.co.uk>
	 <6e3ae63105091708304afac9d7@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_11285_12664865.1126971091837
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Mark:

VERY VERY good post! Please publish this doc and example.=20

On 9/17/05, Chris Lu <chris.lu@gmail.com> wrote:
>=20
> On 9/17/05, markharw00d <markharw00d@yahoo.co.uk> wrote:
> > Mag Gam wrote:
> >
> > >Does your example store the index in the derby db or somewhere else? I=
=20
> was
> > >thinking of indexing a table in a seperate column.
> > >
> > >
> > The software is not an org.apache.lucene.store.Directory implementation
> > ie an FSDirectory alternative for persisting Lucene data in a relationa=
l
> > table.
> > Instead, the software demonstrates a way to extend SQL syntax to allow
> > Lucene queries to run as in-line functions during the database's
> > execution of queries. These hybrid SQL statements can take advantage of
> > the usual databases functions for sorting, grouping joins, conditions,
> > indexes etc but also use Lucene queries and highlighting functions all
> > in the one SQL statement.
> > The Lucene indexes used as part of this can be any standard Directory
> > implementation (eg RAM, FS).
> >
> > The motivation for creating a Lucene/RDBMS hybrid query tool was to
> > address issues commonly associated with using just Lucene:
> > 1) Sorting on float/date fields and associated memory consumption
> > 2) Representing numbers/dates in Lucene (eg having to pad with sufficen=
t
> > leading zeros and add
> > to index's list of terms)
> > 3) Retrieving only certain stored fields from a document (all storage
> > can be done in db)
> > 4) Issues to do with updating *volatile* data eg price data used in=20
> sorts
> > 5) Manually coding joins with RDBMS content as custom filters
> > 6) Too-many terms exceptions produced by range queries
> > 7) Grouping results eg by website
> > 8) Boosting docs based on stored content eg date
> >
> > These are the sorts of things an RDBMS can help with.
> >
> > Cheers
> > Mark
> >
>=20
> Mark,
>=20
> This is really good stuff!
> I have been thinking about it for a long while.
> Thank you for showing us the door!
>=20
> Basically your lucene_query function will return a true/false in one
> of the query predicates for each record.
> This will be very useful when other query predicates can filter out a
> lot of records.
>=20
> Is there any hint to give DB to use the lucene_query function last?
>=20
> Chris Lu
> ------------------------
> Lucene RAD on Any Databases
> http://www.dbsight.net
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>

------=_Part_11285_12664865.1126971091837--

From java-user-return-16456-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 17 15:44:39 2005
Return-Path: <java-user-return-16456-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31839 invoked from network); 17 Sep 2005 15:44:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Sep 2005 15:44:39 -0000
Received: (qmail 64077 invoked by uid 500); 17 Sep 2005 15:44:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64043 invoked by uid 500); 17 Sep 2005 15:44:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 64030 invoked by uid 99); 17 Sep 2005 15:44:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 17 Sep 2005 08:44:35 -0700
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_30_40,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jeff.rodenburg@gmail.com designates 64.233.162.197 as permitted sender)
Received: from [64.233.162.197] (HELO zproxy.gmail.com) (64.233.162.197)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 17 Sep 2005 08:44:44 -0700
Received: by zproxy.gmail.com with SMTP id q3so164162nzb
        for <java-user@lucene.apache.org>; Sat, 17 Sep 2005 08:44:31 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=k0tioHyOU+UBSemGlnFJPYRBBKLIJxaAAGwx9unoZBfMej7MIlzuoeWFPc48ODrKXMSB3C06jZF1nUZjOiXUOA0aBIbjFYoz/PIztozlqmzZLiEtX2xH1I0LxtkrQL0fNW0dy1uMRzl9VW+yiOQicOtsqXj0j+smjywct6nWu6Q=
Received: by 10.54.10.67 with SMTP id 67mr205137wrj;
        Sat, 17 Sep 2005 08:44:31 -0700 (PDT)
Received: by 10.54.13.32 with HTTP; Sat, 17 Sep 2005 08:44:31 -0700 (PDT)
Message-ID: <50f4333605091708441c2130aa@mail.gmail.com>
Date: Sat, 17 Sep 2005 08:44:31 -0700
From: Jeff Rodenburg <jeff.rodenburg@gmail.com>
Reply-To: jeff.rodenburg@gmail.com
To: java-user@lucene.apache.org, ben.d.gill@gmail.com
Subject: Re: Stopping Duplicates
In-Reply-To: <846717200509170203337542a0@mail.gmail.com>
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_10682_17399101.1126971871618"
References: <846717200509170203337542a0@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_10682_17399101.1126971871618
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Ben -

I can think of two ways to achieve this.

1) While adding your information to the index, query the index for an=20
existing record. If you get no match, add the record.
2) Control the exclusivity requirement from your data source, so that no=20
duplicate records ever have the opportunity to be indexed.

This is an operational question, so the *best* way depends on your overall=
=20
operation, as both of these approaches have consequences on index=20
maintenance operations.

Hope this helps.

-- jeff


On 9/17/05, Ben Gill <ben.d.gill@gmail.com> wrote:
>=20
> Hi,
>=20
> I am storing names in my index, and am currently getting duplicates
> back (quite correctly, on Lucene's part), because I am storing:
>=20
> id name
> 1 fred
> 2 fred
>=20
> What I want to happen is, if a duplicate name is added to the index, I
> only ever want one entity to exist with the name....
>=20
> What is the best way for me to achieve this?
>=20
> Thanks
>=20
> Ben
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>

------=_Part_10682_17399101.1126971871618--

From java-user-return-16457-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 17 15:51:53 2005
Return-Path: <java-user-return-16457-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33276 invoked from network); 17 Sep 2005 15:51:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Sep 2005 15:51:52 -0000
Received: (qmail 68266 invoked by uid 500); 17 Sep 2005 15:51:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68235 invoked by uid 500); 17 Sep 2005 15:51:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68222 invoked by uid 99); 17 Sep 2005 15:51:48 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 17 Sep 2005 08:51:48 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.12.11.35] (HELO smtp004.mail.ukl.yahoo.com) (217.12.11.35)
    by apache.org (qpsmtpd/0.29) with SMTP; Sat, 17 Sep 2005 08:51:57 -0700
Received: (qmail 23090 invoked from network); 17 Sep 2005 15:39:57 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Received:Message-ID:Date:From:User-Agent:X-Accept-Language:MIME-Version:To:Subject:References:In-Reply-To:Content-Type:Content-Transfer-Encoding;
  b=4DP6EE4OzVVd1cPSU1C5OKqN2vJ1+0EyKLMymm9nPGPGOURv5/WEOSDrBJVrxsK+ICOFiNTR3V+rZyiZsU7tGMjXBlsrcceW4rVRz2h5AbMCjEclabgekNsZ82UF+d9clws3ldcbxq4arD8EOWogeYVPMbrazoVMXJxiC0qxh8E=  ;
Received: from unknown (HELO ?127.0.0.1?) (markharw00d@194.106.34.5 with plain)
  by smtp004.mail.ukl.yahoo.com with SMTP; 17 Sep 2005 15:39:53 -0000
Message-ID: <432C38BC.8090806@yahoo.co.uk>
Date: Sat, 17 Sep 2005 16:39:40 +0100
From: markharw00d <markharw00d@yahoo.co.uk>
User-Agent: Mozilla Thunderbird 1.0.5 (Windows/20050711)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Lucene database bindings
References: <432B62F1.2070705@yahoo.co.uk>	 <1cbd6f83050917064164cb6699@mail.gmail.com>	 <432C2F85.6080700@yahoo.co.uk> <6e3ae63105091708304afac9d7@mail.gmail.com>
In-Reply-To: <6e3ae63105091708304afac9d7@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

 >>Basically your lucene_query function will return a true/false in one 
of the query predicates for each record.

Almost, it returns a score  - much more useful than just a boolean and 
the key difference between a search engine and a database (partial 
matching with relevance ranked scores). These can be used to sort 
results by relevance.


		
___________________________________________________________ 
To help you stay safe and secure online, we've developed the all new Yahoo! Security Centre. http://uk.security.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16458-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 17 20:10:47 2005
Return-Path: <java-user-return-16458-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94596 invoked from network); 17 Sep 2005 20:10:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Sep 2005 20:10:47 -0000
Received: (qmail 57924 invoked by uid 500); 17 Sep 2005 20:10:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 57897 invoked by uid 500); 17 Sep 2005 20:10:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 57884 invoked by uid 99); 17 Sep 2005 20:10:42 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 17 Sep 2005 13:10:42 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.232] (HELO web51801.mail.yahoo.com) (206.190.38.232)
    by apache.org (qpsmtpd/0.29) with SMTP; Sat, 17 Sep 2005 13:10:48 -0700
Received: (qmail 89840 invoked by uid 60001); 17 Sep 2005 20:10:35 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=Wo2VFdfUYuTCWEzUKt89Rtn1bU3U3RJDZRhodQ0Kd0RbUGP0Jw0gTtxwn0Exh3F36KUsla/zA314IhSYO8NOeU9KsrMQL2NJgNnZHLUVaiuzWNEZB7t8Pb2OcxqOqUD586cufmvJyt2WFK94+mVrXGmorKWF42M0gERtssArHE0=  ;
Message-ID: <20050917201035.89837.qmail@web51801.mail.yahoo.com>
Received: from [66.127.61.92] by web51801.mail.yahoo.com via HTTP; Sat, 17 Sep 2005 13:10:35 PDT
Date: Sat, 17 Sep 2005 13:10:35 -0700 (PDT)
From: James Huang <metaprgmr@yahoo.com>
Subject: Sort by relevance+distance
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

I can sort the search results by distance now. But,
the relevance is lost.

I like to have the results sorted by relevance +
distance, i.e., relevance first; for results of
similar relevance, order by distance. How to do that?

Thanks a lot in advance!
-James


--- James Huang <metaprgmr@yahoo.com> wrote:

> Hi Otis,
> 
> Thanks for your answer. I do have LIA (but not with
> me
> now physically), and have the impression that the
> search ordering is predetermined (at index time);
> what
> I want is search-time ordering, e.g.,
> 
> "I'm at (x,y) now and low on gas; find me the
> closest
> airports that can land 747, the closest first,
> please".
> 
> I'll re-read the book/chapter tonight, but look
> forward to any expert advises.
> 
> Thanks,
> -James
> 
> --- Otis Gospodnetic <otis_gospodnetic@yahoo.com>
> wrote:
> 
> > Hi James,
> > 
> > Check out the org.apache.lucene.search.package,
> > there are several sort
> > classes that will let you write  a custom sorter. 
> > If you have a copy
> > of LIA, look at chapter 6 for an example (
> >
>
http://www.lucenebook.com/search?query=custom+sort+section%3A6*
> > )
> > 
> > Otis
> > 
> > --- James Huang <metaprgmr@yahoo.com> wrote:
> > 
> > > Suppose I have a book index with
> > field="publisher", field="title",
> > > etc.
> > > If a user has bought Manning books, then I like
> to
> > sort the result
> > > with Manning books listed first.
> > >  
> > > In essence, I'm asking for a parameterized
> custom
> > sorting. Is there a
> > > way to do this?
> > >  
> > > Thanks,
> > > -James
> > > 
> > > 
> > > 		
> > > ---------------------------------
> > > Yahoo! for Good
> > >  Click here to donate to the Hurricane Katrina
> > relief effort. 
> > 
> > 
> >
>
---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> > java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail:
> > java-user-help@lucene.apache.org
> > 
> > 
> 
> 
> 
> 		
> __________________________________ 
> Yahoo! Mail - PC Magazine Editors' Choice 2005 
> http://mail.yahoo.com
> 


__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16459-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 17 20:31:48 2005
Return-Path: <java-user-return-16459-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 99790 invoked from network); 17 Sep 2005 20:31:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Sep 2005 20:31:48 -0000
Received: (qmail 76264 invoked by uid 500); 17 Sep 2005 20:31:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76156 invoked by uid 500); 17 Sep 2005 20:31:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76142 invoked by uid 99); 17 Sep 2005 20:31:43 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 17 Sep 2005 13:31:43 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.233] (HELO web51802.mail.yahoo.com) (206.190.38.233)
    by apache.org (qpsmtpd/0.29) with SMTP; Sat, 17 Sep 2005 13:31:52 -0700
Received: (qmail 50387 invoked by uid 60001); 17 Sep 2005 20:31:39 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=2p3yqYRN+MELouaovuqDbF6vk0bvxI7i+cVZGuWgR7kbCHqE/ukc2bkAsJT/pGWlxwf7epEoiu5a7QXFbl9bS6XepQmUOmRrWZXQ6cUwbOQwHdnzq/sGczBAyoNv63zkbITs+ONLGNjRV8gi1AYiBUjr5W1l/ZFwGRXUKhQ572Q=  ;
Message-ID: <20050917203139.50385.qmail@web51802.mail.yahoo.com>
Received: from [66.127.61.92] by web51802.mail.yahoo.com via HTTP; Sat, 17 Sep 2005 13:31:39 PDT
Date: Sat, 17 Sep 2005 13:31:39 -0700 (PDT)
From: James Huang <metaprgmr@yahoo.com>
Subject: Re: Sort by relevance+distance
To: java-user@lucene.apache.org
In-Reply-To: <20050917201035.89837.qmail@web51801.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I guess I can use HitCollector and implement my own
sorting, right?

Is there a better approach?

--- James Huang <metaprgmr@yahoo.com> wrote:

> Hi,
> 
> I can sort the search results by distance now. But,
> the relevance is lost.
> 
> I like to have the results sorted by relevance +
> distance, i.e., relevance first; for results of
> similar relevance, order by distance. How to do
> that?
> 
> Thanks a lot in advance!
> -James
> 
> 
> --- James Huang <metaprgmr@yahoo.com> wrote:
> 
> > Hi Otis,
> > 
> > Thanks for your answer. I do have LIA (but not
> with
> > me
> > now physically), and have the impression that the
> > search ordering is predetermined (at index time);
> > what
> > I want is search-time ordering, e.g.,
> > 
> > "I'm at (x,y) now and low on gas; find me the
> > closest
> > airports that can land 747, the closest first,
> > please".
> > 
> > I'll re-read the book/chapter tonight, but look
> > forward to any expert advises.
> > 
> > Thanks,
> > -James
> > 
> > --- Otis Gospodnetic <otis_gospodnetic@yahoo.com>
> > wrote:
> > 
> > > Hi James,
> > > 
> > > Check out the org.apache.lucene.search.package,
> > > there are several sort
> > > classes that will let you write  a custom
> sorter. 
> > > If you have a copy
> > > of LIA, look at chapter 6 for an example (
> > >
> >
>
http://www.lucenebook.com/search?query=custom+sort+section%3A6*
> > > )
> > > 
> > > Otis
> > > 
> > > --- James Huang <metaprgmr@yahoo.com> wrote:
> > > 
> > > > Suppose I have a book index with
> > > field="publisher", field="title",
> > > > etc.
> > > > If a user has bought Manning books, then I
> like
> > to
> > > sort the result
> > > > with Manning books listed first.
> > > >  
> > > > In essence, I'm asking for a parameterized
> > custom
> > > sorting. Is there a
> > > > way to do this?
> > > >  
> > > > Thanks,
> > > > -James
> > > > 
> > > > 
> > > > 		
> > > > ---------------------------------
> > > > Yahoo! for Good
> > > >  Click here to donate to the Hurricane Katrina
> > > relief effort. 
> > > 
> > > 
> > >
> >
>
---------------------------------------------------------------------
> > > To unsubscribe, e-mail:
> > > java-user-unsubscribe@lucene.apache.org
> > > For additional commands, e-mail:
> > > java-user-help@lucene.apache.org
> > > 
> > > 
> > 
> > 
> > 
> > 		
> > __________________________________ 
> > Yahoo! Mail - PC Magazine Editors' Choice 2005 
> > http://mail.yahoo.com
> > 
> 
> 
> __________________________________________________
> Do You Yahoo!?
> Tired of spam?  Yahoo! Mail has the best spam
> protection around 
> http://mail.yahoo.com 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail:
> java-user-help@lucene.apache.org
> 
> 


__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16460-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 17 22:47:07 2005
Return-Path: <java-user-return-16460-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 29021 invoked from network); 17 Sep 2005 22:47:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Sep 2005 22:47:07 -0000
Received: (qmail 42635 invoked by uid 500); 17 Sep 2005 22:47:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 41562 invoked by uid 500); 17 Sep 2005 22:47:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 41541 invoked by uid 99); 17 Sep 2005 22:47:00 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 17 Sep 2005 15:47:00 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 17 Sep 2005 15:47:09 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id CC7EC13E2006; Sat, 17 Sep 2005 18:46:56 -0400 (EDT)
Received: from [172.16.1.101] (va-71-48-138-146.dhcp.sprint-hsd.net [71.48.138.146])
	by ehatchersolutions.com (Postfix) with ESMTP id 7141B13E2005
	for <java-user@lucene.apache.org>; Sat, 17 Sep 2005 18:46:47 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <20050917201035.89837.qmail@web51801.mail.yahoo.com>
References: <20050917201035.89837.qmail@web51801.mail.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <A8338AA9-00C8-4F7D-9289-472EEE25A198@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Sort by relevance+distance
Date: Sat, 17 Sep 2005 18:46:50 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.8 required=5.0 tests=ALL_TRUSTED,AWL,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Sep 17, 2005, at 4:10 PM, James Huang wrote:

> Hi,
>
> I can sort the search results by distance now. But,
> the relevance is lost.
>
> I like to have the results sorted by relevance +
> distance, i.e., relevance first; for results of
> similar relevance, order by distance. How to do that?

How are you currently sorting?   You can use multiple sort fields  
within a Sort.

     Erik




>
> Thanks a lot in advance!
> -James
>
>
> --- James Huang <metaprgmr@yahoo.com> wrote:
>
>
>> Hi Otis,
>>
>> Thanks for your answer. I do have LIA (but not with
>> me
>> now physically), and have the impression that the
>> search ordering is predetermined (at index time);
>> what
>> I want is search-time ordering, e.g.,
>>
>> "I'm at (x,y) now and low on gas; find me the
>> closest
>> airports that can land 747, the closest first,
>> please".
>>
>> I'll re-read the book/chapter tonight, but look
>> forward to any expert advises.
>>
>> Thanks,
>> -James
>>
>> --- Otis Gospodnetic <otis_gospodnetic@yahoo.com>
>> wrote:
>>
>>
>>> Hi James,
>>>
>>> Check out the org.apache.lucene.search.package,
>>> there are several sort
>>> classes that will let you write  a custom sorter.
>>> If you have a copy
>>> of LIA, look at chapter 6 for an example (
>>>
>>>
>>
>>
> http://www.lucenebook.com/search?query=custom+sort+section%3A6*
>
>>> )
>>>
>>> Otis
>>>
>>> --- James Huang <metaprgmr@yahoo.com> wrote:
>>>
>>>
>>>> Suppose I have a book index with
>>>>
>>> field="publisher", field="title",
>>>
>>>> etc.
>>>> If a user has bought Manning books, then I like
>>>>
>> to
>>
>>> sort the result
>>>
>>>> with Manning books listed first.
>>>>
>>>> In essence, I'm asking for a parameterized
>>>>
>> custom
>>
>>> sorting. Is there a
>>>
>>>> way to do this?
>>>>
>>>> Thanks,
>>>> -James
>>>>
>>>>
>>>>
>>>> ---------------------------------
>>>> Yahoo! for Good
>>>>  Click here to donate to the Hurricane Katrina
>>>>
>>> relief effort.
>>>
>>>
>>>
>>>
>>
>>
> ---------------------------------------------------------------------
>
>>> To unsubscribe, e-mail:
>>> java-user-unsubscribe@lucene.apache.org
>>> For additional commands, e-mail:
>>> java-user-help@lucene.apache.org
>>>
>>>
>>>
>>
>>
>>
>>
>> __________________________________
>> Yahoo! Mail - PC Magazine Editors' Choice 2005
>> http://mail.yahoo.com
>>
>>
>
>
> __________________________________________________
> Do You Yahoo!?
> Tired of spam?  Yahoo! Mail has the best spam protection around
> http://mail.yahoo.com
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16461-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 17 23:00:18 2005
Return-Path: <java-user-return-16461-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30489 invoked from network); 17 Sep 2005 23:00:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 17 Sep 2005 23:00:18 -0000
Received: (qmail 48547 invoked by uid 500); 17 Sep 2005 23:00:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 48516 invoked by uid 500); 17 Sep 2005 23:00:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 48502 invoked by uid 99); 17 Sep 2005 23:00:13 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 17 Sep 2005 16:00:13 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.240] (HELO web51809.mail.yahoo.com) (206.190.38.240)
    by apache.org (qpsmtpd/0.29) with SMTP; Sat, 17 Sep 2005 16:00:22 -0700
Received: (qmail 9754 invoked by uid 60001); 17 Sep 2005 23:00:09 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=Pcwk00tk/cgbV+Bzy9ubx8VTpXGlp2tUvEJwhbWYf3dwPrWrkYptRTMmXVroCgQVl2+nmNsdUwaAxKbZaTIAEVEaWSvTd8AjF+51Dj3Jctqvgt6xfHfmNIgNfFvQ8eKFGR/rm4uFvrzOI775wMPBPFMh+kjX7xbRqB5HkWl260k=  ;
Message-ID: <20050917230009.9750.qmail@web51809.mail.yahoo.com>
Received: from [66.127.61.92] by web51809.mail.yahoo.com via HTTP; Sat, 17 Sep 2005 16:00:09 PDT
Date: Sat, 17 Sep 2005 16:00:09 -0700 (PDT)
From: James Huang <metaprgmr@yahoo.com>
Subject: Re: Sort by relevance+distance
To: java-user@lucene.apache.org
In-Reply-To: <A8338AA9-00C8-4F7D-9289-472EEE25A198@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I use a custom collector:

class ResultCollector extends HitCollector
{
  SortedSet set = new TreeSet();
  IndexSearcher searcher;
  Location me;

  ResultCollector(IndexSearcher searcher, Location me)
  {
    this.me = me;
    this.searcher = searcher;
  }

  public void collect(int id, float score) {
    try {
      Document doc = helper.searcher.doc(id);
      String zc = doc.get("zipcode");
      SearchResult sr = new SearchResult(
         score, zc, getDistance(me, zc));
      // The score in SearchResult is adjusted:
      // score *= 1.0 - distance/200.0;
      set.add(sr);
    } catch(Exception e) {
      e.printStackTrace();
    }
  }

  int getResult(int startindex, SearchResult[] result)
  {
    Iterator iter = set.iterator();
    int idx = 0;
    for (int i=0; iter.hasNext() && idx <
result.length; ++i) {
      Object o = iter.next();
      if (i >= startindex)
        result[idx++] = (SearchResult)o;
    }
    return set.size();
  }
}

The SearchResult extends Comparable.
Then, use IndexSearcher.search(qry, collector);

This seems to work. What I wish for is that sorting is
done by the search engine itself, hoping for a better
performance (and cleaner code).

Previously, I have created a DistanceComparatorSource
(similar to that in LIA-ch6); sorting by distance
works but relevance is lost.

-James

--- Erik Hatcher <erik@ehatchersolutions.com> wrote:

> 
> On Sep 17, 2005, at 4:10 PM, James Huang wrote:
> 
> > Hi,
> >
> > I can sort the search results by distance now.
> But,
> > the relevance is lost.
> >
> > I like to have the results sorted by relevance +
> > distance, i.e., relevance first; for results of
> > similar relevance, order by distance. How to do
> that?
> 
> How are you currently sorting?   You can use
> multiple sort fields  
> within a Sort.
> 
>      Erik
>


		
__________________________________ 
Yahoo! Mail - PC Magazine Editors' Choice 2005 
http://mail.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16462-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Sep 18 08:19:25 2005
Return-Path: <java-user-return-16462-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35132 invoked from network); 18 Sep 2005 08:19:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Sep 2005 08:19:25 -0000
Received: (qmail 8242 invoked by uid 500); 18 Sep 2005 08:19:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8218 invoked by uid 500); 18 Sep 2005 08:19:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8204 invoked by uid 99); 18 Sep 2005 08:19:19 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Sep 2005 01:19:19 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Sep 2005 01:19:28 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 88D8913E2006; Sun, 18 Sep 2005 04:19:12 -0400 (EDT)
Received: from [172.16.1.101] (va-71-48-138-146.dhcp.sprint-hsd.net [71.48.138.146])
	by ehatchersolutions.com (Postfix) with ESMTP id 600F513E2006
	for <java-user@lucene.apache.org>; Sun, 18 Sep 2005 04:18:48 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <20050917230009.9750.qmail@web51809.mail.yahoo.com>
References: <20050917230009.9750.qmail@web51809.mail.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <F4E39643-F8EC-42A6-983E-0521F40DD12C@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Sort by relevance+distance
Date: Sun, 18 Sep 2005 04:18:46 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Sep 17, 2005, at 7:00 PM, James Huang wrote:

> I use a custom collector:
>
[...]
>
> Then, use IndexSearcher.search(qry, collector);

So what happens if you get 10M results from a search?

> This seems to work. What I wish for is that sorting is
> done by the search engine itself, hoping for a better
> performance (and cleaner code).

And it can be done by Lucene itself...

> Previously, I have created a DistanceComparatorSource
> (similar to that in LIA-ch6); sorting by distance
> works but relevance is lost.

Get back to using your DistanceComparatorSource, and couple that with  
a SortField.FIELD_SCORE, like this:

Sort sort = new Sort(new SortField[] {new SortField("location",
         new DistanceComparatorSource(<whatever args you need>)),  
SortField.FIELD_SCORE});

     Erik

>
> -James
>
> --- Erik Hatcher <erik@ehatchersolutions.com> wrote:
>
>
>>
>> On Sep 17, 2005, at 4:10 PM, James Huang wrote:
>>
>>
>>> Hi,
>>>
>>> I can sort the search results by distance now.
>>>
>> But,
>>
>>> the relevance is lost.
>>>
>>> I like to have the results sorted by relevance +
>>> distance, i.e., relevance first; for results of
>>> similar relevance, order by distance. How to do
>>>
>> that?
>>
>> How are you currently sorting?   You can use
>> multiple sort fields
>> within a Sort.
>>
>>      Erik
>>
>>
>
>
>
> __________________________________
> Yahoo! Mail - PC Magazine Editors' Choice 2005
> http://mail.yahoo.com
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16463-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Sep 18 10:56:50 2005
Return-Path: <java-user-return-16463-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 63004 invoked from network); 18 Sep 2005 10:56:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Sep 2005 10:56:49 -0000
Received: (qmail 91425 invoked by uid 500); 18 Sep 2005 10:56:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91399 invoked by uid 500); 18 Sep 2005 10:56:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91386 invoked by uid 99); 18 Sep 2005 10:56:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Sep 2005 03:56:44 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=BIZ_TLD,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.170.154.6] (HELO anjalrelay) (194.170.154.6)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Sep 2005 03:56:52 -0700
Received: from anjalmail ([172.17.1.9])
          by anjalrelay (Lotus Domino Release 6.0.1)
          with ESMTP id 2005091815043099-5648 ;
          Sun, 18 Sep 2005 15:04:30 +0400 
Received: from jayakumar ([192.168.1.107])
          by anjalmail (Lotus Domino Release 6.0.1)
          with ESMTP id 2005091814561923-34858 ;
          Sun, 18 Sep 2005 14:56:19 +0400 
Reply-To: <jayakumar.v@uaeexchange.com>
From: "Jayakumar.V" <jayakumar.v@uaeexchange.com>
To: <java-user@lucene.apache.org>
Subject: Issue with sounds-like queries
Date: Sun, 18 Sep 2005 14:57:34 +0400
Organization: UAE Xchange Center
MIME-Version: 1.0
X-Mailer: Microsoft Office Outlook, Build 11.0.6353
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
Thread-index: AcW8P8Y05Ev08S3oSLq3LLheNn/6Yg==
X-MIMETrack: Itemize by SMTP Server on MAIL/UAE Exchange(Release 6.0.1|February 07, 2003) at
 09/18/2005 02:56:19 PM,
	Serialize by Router on MAIL/UAE Exchange(Release 6.0.1|February 07, 2003) at
 09/18/2005 02:56:21 PM,
	Serialize complete at 09/18/2005 02:56:21 PM,
	Itemize by SMTP Server on RELAY/UAE Exchange(Release 6.0.1|February 07, 2003) at
 09/18/2005 03:04:31 PM,
	Serialize by Router on RELAY/UAE Exchange(Release 6.0.1|February 07, 2003) at
 09/18/2005 03:04:34 PM,
	Serialize complete at 09/18/2005 03:04:34 PM
Message-ID: <OF33443136.4A103602-ON44257080.003C168B@xpressmoney.com>
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_016E_01C5BC61.4D7833E0"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_016E_01C5BC61.4D7833E0
Content-Transfer-Encoding: 7bit
Content-Type: text/plain;
	charset="us-ascii"

Hi,

 

I'm facing an issue with sounds-like queries. I've experimented with both
Apache Codec & the Phonetix library from Tangentum Technologies
(http://www.tangentum.biz/en/products/phonetix/faqs/index.html ) to see if I
could sort out the issue somehow using either of the libraries. 

 

I've an index containing details of various Banks in the world & their
associated Branches. 

Each document has a field holding the Branch Name(s) for the individual
Bank(s). 

 

While searching for the following branch name :-  QUILON, it also returns
back details where the branch name may contain the word COLONY, since using
Metaphone or DoubleMetaphone, both QUILON & COLONY get encoded to the same
value :-  KLN. 

This returns in-correct results. 

 

Another example would be CALICUT (located in South India) & CALCUTTA
(located in North India), both get encoded to KLKT.

 

I can narrow down the result by filtering based on COUNTRY or COUNTRY +
STATE but still I might get back results which may not be the one intended.

 

I also tried using the RefinedSoundex class. The issue here is that, "QUILON
BRANCH" will get encoded as - Q50708190830, whereas "QUILON" alone will get
encoded as - Q50708. The user may input only "QUILON" while making a search
which will not return back hits in the above case.

 

Hope I was clear in communicating the issue. 

 

Any thoughts / inputs will be really helpful.

 

 

Thanks & Regards

 

Jayakumar.V

UAE Xchange Center

PB.No. : 170, Abudhabi, UAE

Phone: + 971-2-6105656, 6105658

Fax: +971-2-6323775

  _____  

Confidentiality Notice :  This e-mail message, including any attachments, is
for the sole use of the intended recipient(s) and may contain confidential
and privileged information. Any unauthorized review, use, disclosure or
distribution is prohibited. If you are not the intended recipient, please
contact the sender by reply e-mail and destroy all copies of the original
message.

  _____  

 


------=_NextPart_000_016E_01C5BC61.4D7833E0--


From java-user-return-16464-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Sep 18 14:24:49 2005
Return-Path: <java-user-return-16464-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2276 invoked from network); 18 Sep 2005 14:24:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Sep 2005 14:24:49 -0000
Received: (qmail 81134 invoked by uid 500); 18 Sep 2005 14:24:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81107 invoked by uid 500); 18 Sep 2005 14:24:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81094 invoked by uid 99); 18 Sep 2005 14:24:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Sep 2005 07:24:44 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.237] (HELO web51806.mail.yahoo.com) (206.190.38.237)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 18 Sep 2005 07:24:52 -0700
Received: (qmail 28569 invoked by uid 60001); 18 Sep 2005 14:24:39 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=Kymxida2ac8xaEOhOHd6jHdnfrdN4AMNVFW5t5VixVYW7gIe7yDhgO7yUh3kpR6fP2ujxNBUSDFOYPDQgAURWhKb0pXKot469iXGXDDxefNybqBfdj6XIRDwGtz4BI2stezaODs3SJC61dhBcCeRxjzdJhcdjC03kA8DaxLaIm4=  ;
Message-ID: <20050918142439.28567.qmail@web51806.mail.yahoo.com>
Received: from [66.127.61.92] by web51806.mail.yahoo.com via HTTP; Sun, 18 Sep 2005 07:24:39 PDT
Date: Sun, 18 Sep 2005 07:24:39 -0700 (PDT)
From: James Huang <metaprgmr@yahoo.com>
Subject: Re: Sort by relevance+distance
To: java-user@lucene.apache.org
In-Reply-To: <F4E39643-F8EC-42A6-983E-0521F40DD12C@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--- Erik Hatcher <erik@ehatchersolutions.com> wrote:

> Get back to using your DistanceComparatorSource, and
> couple that with  
> a SortField.FIELD_SCORE, like this:
> 
> Sort sort = new Sort(new SortField[] {new
> SortField("location",
>          new DistanceComparatorSource(<whatever args
> you need>)),  
> SortField.FIELD_SCORE});

Thanks!

Does the order of thest two fields matter? I mean,
with your code, would distance take precedence over
relevance? Anyway, I'll try it out and play with
ordering and such.

-James

> 
>      Erik
> 


__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16465-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Sep 18 14:56:48 2005
Return-Path: <java-user-return-16465-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 6894 invoked from network); 18 Sep 2005 14:56:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Sep 2005 14:56:48 -0000
Received: (qmail 5239 invoked by uid 500); 18 Sep 2005 14:56:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5214 invoked by uid 500); 18 Sep 2005 14:56:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5200 invoked by uid 99); 18 Sep 2005 14:56:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Sep 2005 07:56:43 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Sep 2005 07:56:52 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 547B913E2006; Sun, 18 Sep 2005 10:56:39 -0400 (EDT)
Received: from [172.16.1.101] (va-71-48-138-146.dhcp.sprint-hsd.net [71.48.138.146])
	by ehatchersolutions.com (Postfix) with ESMTP id 5092313E2005
	for <java-user@lucene.apache.org>; Sun, 18 Sep 2005 10:56:25 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <20050918142439.28567.qmail@web51806.mail.yahoo.com>
References: <20050918142439.28567.qmail@web51806.mail.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <3597B821-E2B1-42F8-8518-71E531EFC41A@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Sort by relevance+distance
Date: Sun, 18 Sep 2005 10:56:19 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Sep 18, 2005, at 10:24 AM, James Huang wrote:

> --- Erik Hatcher <erik@ehatchersolutions.com> wrote:
>
>
>> Get back to using your DistanceComparatorSource, and
>> couple that with
>> a SortField.FIELD_SCORE, like this:
>>
>> Sort sort = new Sort(new SortField[] {new
>> SortField("location",
>>          new DistanceComparatorSource(<whatever args
>> you need>)),
>> SortField.FIELD_SCORE});
>>
>
> Thanks!
>
> Does the order of thest two fields matter? I mean,
> with your code, would distance take precedence over
> relevance? Anyway, I'll try it out and play with
> ordering and such.

Yes, order matters - they sort in the order specified.  Subsequent  
SortField's in the list are only used when prior ones are  
equivalent.  In other words, when the distance is equal between two  
documents, then they are sorted by score.

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16466-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Sep 18 15:10:10 2005
Return-Path: <java-user-return-16466-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8881 invoked from network); 18 Sep 2005 15:10:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Sep 2005 15:10:10 -0000
Received: (qmail 12243 invoked by uid 500); 18 Sep 2005 15:10:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 12215 invoked by uid 500); 18 Sep 2005 15:10:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 12202 invoked by uid 99); 18 Sep 2005 15:10:04 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Sep 2005 08:10:04 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.241] (HELO web51810.mail.yahoo.com) (206.190.38.241)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 18 Sep 2005 08:10:13 -0700
Received: (qmail 9345 invoked by uid 60001); 18 Sep 2005 15:10:00 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=ws5L9uaVcTpVE38AGyQ7/hsAEMWHngWUFiCAFxffZ2HtWQdNnvGxhNga7Xar1t2GTM/Zvl1RY8y6b6cKWEBuH8iow96Todwjaa62N9TTIkhVNpQvF+7HDU+7rsJFQ3e5BPpcbrOkR6PqGtJ72Q0Rx1MBj9g7P14trZAuOhHS6Z8=  ;
Message-ID: <20050918151000.9343.qmail@web51810.mail.yahoo.com>
Received: from [66.127.61.92] by web51810.mail.yahoo.com via HTTP; Sun, 18 Sep 2005 08:10:00 PDT
Date: Sun, 18 Sep 2005 08:10:00 -0700 (PDT)
From: James Huang <metaprgmr@yahoo.com>
Subject: Re: Sort by relevance+distance
To: java-user@lucene.apache.org
In-Reply-To: <3597B821-E2B1-42F8-8518-71E531EFC41A@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N



--- Erik Hatcher <erik@ehatchersolutions.com> wrote:

> 
> On Sep 18, 2005, at 10:24 AM, James Huang wrote:
> 
> > --- Erik Hatcher <erik@ehatchersolutions.com>
> wrote:
> >
> >
> >> Get back to using your DistanceComparatorSource,
> and
> >> couple that with
> >> a SortField.FIELD_SCORE, like this:
> >>
> >> Sort sort = new Sort(new SortField[] {new
> >> SortField("location",
> >>          new DistanceComparatorSource(<whatever
> args
> >> you need>)),
> >> SortField.FIELD_SCORE});
> >>
> >
> > Thanks!
> >
> > Does the order of thest two fields matter? I mean,
> > with your code, would distance take precedence
> over
> > relevance? Anyway, I'll try it out and play with
> > ordering and such.
> 
> Yes, order matters - they sort in the order
> specified.  Subsequent  
> SortField's in the list are only used when prior
> ones are  
> equivalent.  In other words, when the distance is
> equal between two  
> documents, then they are sorted by score.
> 
>      Erik
> 

Then this is not what I want -- if I put FIELD_SCORE
first, it'll rarely work because FIELD_SCORE's seldom
are the same, practically leaving distance sorting out
of the picture.

What I want is a "compound" score, i.e., to adjust the
score based on the distance, like this:

  score *= 1.0 - distance/200.0;

This formula seems to work well for my situation. Is
there a way to modify the score during search?

Thanks,

-James

---------------------------------------------------------------------
> To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail:
> java-user-help@lucene.apache.org
> 
> 


__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16467-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Sep 18 15:15:02 2005
Return-Path: <java-user-return-16467-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 9757 invoked from network); 18 Sep 2005 15:15:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Sep 2005 15:15:02 -0000
Received: (qmail 16812 invoked by uid 500); 18 Sep 2005 15:14:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16788 invoked by uid 500); 18 Sep 2005 15:14:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 16775 invoked by uid 99); 18 Sep 2005 15:14:57 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Sep 2005 08:14:57 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Sep 2005 08:15:07 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 376D813E200A; Sun, 18 Sep 2005 11:14:53 -0400 (EDT)
Received: from [172.16.1.101] (va-71-48-138-146.dhcp.sprint-hsd.net [71.48.138.146])
	by ehatchersolutions.com (Postfix) with ESMTP id 8EF6D13E2008
	for <java-user@lucene.apache.org>; Sun, 18 Sep 2005 11:14:30 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <20050918151000.9343.qmail@web51810.mail.yahoo.com>
References: <20050918151000.9343.qmail@web51810.mail.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <66AC52FF-5C29-47C5-98AE-BB3B8A4DC6A7@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Sort by relevance+distance
Date: Sun, 18 Sep 2005 11:14:27 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Sep 18, 2005, at 11:10 AM, James Huang wrote:

>
>
> --- Erik Hatcher <erik@ehatchersolutions.com> wrote:
>
>
>>
>> On Sep 18, 2005, at 10:24 AM, James Huang wrote:
>>
>>
>>> --- Erik Hatcher <erik@ehatchersolutions.com>
>>>
>> wrote:
>>
>>>
>>>
>>>
>>>> Get back to using your DistanceComparatorSource,
>>>>
>> and
>>
>>>> couple that with
>>>> a SortField.FIELD_SCORE, like this:
>>>>
>>>> Sort sort = new Sort(new SortField[] {new
>>>> SortField("location",
>>>>          new DistanceComparatorSource(<whatever
>>>>
>> args
>>
>>>> you need>)),
>>>> SortField.FIELD_SCORE});
>>>>
>>>>
>>>
>>> Thanks!
>>>
>>> Does the order of thest two fields matter? I mean,
>>> with your code, would distance take precedence
>>>
>> over
>>
>>> relevance? Anyway, I'll try it out and play with
>>> ordering and such.
>>>
>>
>> Yes, order matters - they sort in the order
>> specified.  Subsequent
>> SortField's in the list are only used when prior
>> ones are
>> equivalent.  In other words, when the distance is
>> equal between two
>> documents, then they are sorted by score.
>>
>>      Erik
>>
>>
>
> Then this is not what I want -- if I put FIELD_SCORE
> first, it'll rarely work because FIELD_SCORE's seldom
> are the same, practically leaving distance sorting out
> of the picture.
>
> What I want is a "compound" score, i.e., to adjust the
> score based on the distance, like this:
>
>   score *= 1.0 - distance/200.0;
>
> This formula seems to work well for my situation. Is
> there a way to modify the score during search?

Sounds like you want a new type of Query subclass that weight each  
document by a given distance.  Though I'm curious why just sorting by  
distance isn't sufficient for your situation.  Could you describe a  
bit more about what you're doing?

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16468-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Sep 18 16:05:20 2005
Return-Path: <java-user-return-16468-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 18552 invoked from network); 18 Sep 2005 16:05:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Sep 2005 16:05:20 -0000
Received: (qmail 46325 invoked by uid 500); 18 Sep 2005 16:05:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46300 invoked by uid 500); 18 Sep 2005 16:05:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 46285 invoked by uid 99); 18 Sep 2005 16:05:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Sep 2005 09:05:16 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Sep 2005 09:05:24 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 6593F13E2008; Sun, 18 Sep 2005 12:05:11 -0400 (EDT)
Received: from [172.16.1.101] (va-71-48-138-146.dhcp.sprint-hsd.net [71.48.138.146])
	by ehatchersolutions.com (Postfix) with ESMTP id 9EC6C13E2006
	for <java-user@lucene.apache.org>; Sun, 18 Sep 2005 12:04:58 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <20050918155156.15585.qmail@web51804.mail.yahoo.com>
References: <20050918155156.15585.qmail@web51804.mail.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <E44B0B3A-A8B7-4303-A962-91AFF136C7E3@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Sort by relevance+distance
Date: Sun, 18 Sep 2005 12:04:56 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

[trimming the post a bit]

On Sep 18, 2005, at 11:51 AM, James Huang wrote:
> The problem is quite generic, I believe. What I like
> to do is similar to LIA-ch6, i.e. to find a "good
> Chinese Hunan-style restaurant near me." I prefer
> Hunan-style; however, if a good Human-style one is 12
> miles, where there is a Shanghai-style only 2 miles, I
> may want to take that instead. So it's not a simple
> multi-sorting problem, it's an empirical ordering and
> the parameters may have to be experimented. Thus far,
> I'm happy with that formula I gave earlier.

The example in LIA was purely a distance sort, not blended as you  
desire.

> Separately, earlier in this thread, you also mentioned
> "what if 10M search results?" -- that's also my
> concern, for both space and time.
>
> 1. Space-wise, the 10M Document's will be dragged into
> memory (in a Hits, say), right?

No, that is not correct, and this is an important point about Lucene  
and it's ability to scale extremely well.  Hits caches up to 200  
documents (I believe) and uses a mechanism to score single documents  
at a time and only keep the top scoring ones.

There is no problem for Lucene to search and have Hits with a massive  
size.

There are memory considerations with sorting, though - these are  
described in detail in the javadocs and a little in LIA.

> 1. How to use a compound scoring at search-time (where
> you suggested a Query-subclass, but what/how?)

I'm going to defer to others to assist with this, or validate that  
this is the right approach in this situation.

> 2. Space concern about large search result set.

With a Query subclass, this shouldn't be a concern.  With sorting  
using Lucene's Sort there are some memory concerns, but less so than  
with your own TreeSet.

> P.S. Feel free to reply to the list, if you think this
> has general appeal and others may benefit.

Done!

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16469-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Sep 18 16:24:37 2005
Return-Path: <java-user-return-16469-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 21050 invoked from network); 18 Sep 2005 16:24:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Sep 2005 16:24:36 -0000
Received: (qmail 59996 invoked by uid 500); 18 Sep 2005 16:24:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 59970 invoked by uid 500); 18 Sep 2005 16:24:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 59957 invoked by uid 99); 18 Sep 2005 16:24:31 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Sep 2005 09:24:31 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.240] (HELO web51809.mail.yahoo.com) (206.190.38.240)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 18 Sep 2005 09:24:40 -0700
Received: (qmail 84946 invoked by uid 60001); 18 Sep 2005 16:24:28 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=Ww1tGTTSCTyzTP1e5S1MDOKdWM2j2iMWZ44lXWxhUnnLfrw4QkcByE4EeqB24G+qWjYmLd654z51f0tHUA29j04Zxj3L0DMc/ikUf/LUF7vlXA4QAm8hpIMUKKxgC8VekxoFGwXmZqtuJqWTiJy/BXccD7QRmJ53if4R7CfgmjU=  ;
Message-ID: <20050918162428.84944.qmail@web51809.mail.yahoo.com>
Received: from [66.127.61.92] by web51809.mail.yahoo.com via HTTP; Sun, 18 Sep 2005 09:24:28 PDT
Date: Sun, 18 Sep 2005 09:24:28 -0700 (PDT)
From: James Huang <metaprgmr@yahoo.com>
Subject: Re: Sort by relevance+distance
To: java-user@lucene.apache.org
In-Reply-To: <E44B0B3A-A8B7-4303-A962-91AFF136C7E3@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

See comments below.

--- Erik Hatcher <erik@ehatchersolutions.com> wrote:

> [trimming the post a bit]
> 
> On Sep 18, 2005, at 11:51 AM, James Huang wrote:
> > The problem is quite generic, I believe. What I
> like
> > to do is similar to LIA-ch6, i.e. to find a "good
> > Chinese Hunan-style restaurant near me." I prefer
> > Hunan-style; however, if a good Human-style one is
> 12
> > miles, where there is a Shanghai-style only 2
> miles, I
> > may want to take that instead. So it's not a
> simple
> > multi-sorting problem, it's an empirical ordering
> and
> > the parameters may have to be experimented. Thus
> far,
> > I'm happy with that formula I gave earlier.
> 
> The example in LIA was purely a distance sort, not
> blended as you  
> desire.
> 
> > Separately, earlier in this thread, you also
> mentioned
> > "what if 10M search results?" -- that's also my
> > concern, for both space and time.
> >
> > 1. Space-wise, the 10M Document's will be dragged
> into
> > memory (in a Hits, say), right?
> 
> No, that is not correct, and this is an important
> point about Lucene  
> and it's ability to scale extremely well.  Hits
> caches up to 200  
> documents (I believe) and uses a mechanism to score
> single documents  
> at a time and only keep the top scoring ones.
> 
> There is no problem for Lucene to search and have
> Hits with a massive size.
> 
> There are memory considerations with sorting, though
> - these are  
> described in detail in the javadocs and a little in
> LIA.
> 
> > 1. How to use a compound scoring at search-time
> (where
> > you suggested a Query-subclass, but what/how?)
> 
> I'm going to defer to others to assist with this, or
> validate that  
> this is the right approach in this situation.
> 
> > 2. Space concern about large search result set.
> 
> With a Query subclass, this shouldn't be a concern. 
> With sorting  
> using Lucene's Sort there are some memory concerns,
> but less so than with your own TreeSet.
> 

OK, so external sorting does not scale and has to be
ruled out!

Now I have to find a way to customize the scoring
during search (using Hits, not customized
HitsCollector). Help is desparately needed here!

Thanks in advance,
-James

> 
>      Erik
> 


__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16470-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Sep 18 17:39:06 2005
Return-Path: <java-user-return-16470-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33338 invoked from network); 18 Sep 2005 17:39:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Sep 2005 17:39:05 -0000
Received: (qmail 93688 invoked by uid 500); 18 Sep 2005 17:39:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 93657 invoked by uid 500); 18 Sep 2005 17:39:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 93643 invoked by uid 99); 18 Sep 2005 17:39:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Sep 2005 10:39:01 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=HTML_20_30,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jeff.rodenburg@gmail.com designates 64.233.162.198 as permitted sender)
Received: from [64.233.162.198] (HELO zproxy.gmail.com) (64.233.162.198)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Sep 2005 10:39:10 -0700
Received: by zproxy.gmail.com with SMTP id q3so334399nzb
        for <java-user@lucene.apache.org>; Sun, 18 Sep 2005 10:38:58 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=GKvVsQ32U5Q73YKvWrY9ZlL/KnM7GNuN4/GYwdoQQJUzdtq46pPug64dqV2AXbyDGuzQey38id2IFdF3573aQmoytz9lcXMFq0ulllAedIH8b43mBwxHsfvL9SMsOLxm2EFrBpzp592eEFPVFN9xrVvX0t3XS/X0MM9qRkUz9bs=
Received: by 10.54.18.50 with SMTP id 50mr628547wrr;
        Sun, 18 Sep 2005 10:38:58 -0700 (PDT)
Received: by 10.54.13.32 with HTTP; Sun, 18 Sep 2005 10:38:58 -0700 (PDT)
Message-ID: <50f4333605091810383656c257@mail.gmail.com>
Date: Sun, 18 Sep 2005 10:38:58 -0700
From: Jeff Rodenburg <jeff.rodenburg@gmail.com>
Reply-To: jeff.rodenburg@gmail.com
To: java-user@lucene.apache.org
Subject: Re: Sort by relevance+distance
In-Reply-To: <20050918162428.84944.qmail@web51809.mail.yahoo.com>
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_11387_19539292.1127065138448"
References: <E44B0B3A-A8B7-4303-A962-91AFF136C7E3@ehatchersolutions.com>
	 <20050918162428.84944.qmail@web51809.mail.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_11387_19539292.1127065138448
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

trimming the post further:

On 9/18/05, James Huang <metaprgmr@yahoo.com> wrote:
>=20
> >The problem is quite generic, I believe. What I like to do is similar to=
=20
> LIA-ch6, i.e. to find a "good Chinese Hunan-style restaurant near me." I=
=20
> prefer Hunan-style; however, if a good Human-style one is 12 miles, where=
=20
> there is a Shanghai-style only 2 miles, I may want to take that instead. =
So=20
> it's not a simple multi-sorting problem, it's an empirical ordering and t=
he=20
> parameters may have to be experimented. Thus far, I'm happy with that=20
> formula I gave earlier.


Now I have to find a way to customize the scoring during search (using Hits=
,=20
> not customized HitsCollector). Help is desparately needed here!
>=20

/**************************************************************************=
***********/

The typical approach (from what I know) to implementing an affect on scorin=
g=20
is to do field boosting. The difficulty in this scenario is the distance=20
factor, which sounds as if it's determined at run-time, plus the trickiness=
=20
of field boosting based on the values of the field. I've looked at this as=
=20
well, and it's not a simple problem to solve.

How are you determining if something is "near me"? Is it a calculation at=
=20
run-time, i.e. latitude, longitude, and geometric math? What options do you=
=20
have to determine distance?

------=_Part_11387_19539292.1127065138448--

From java-user-return-16471-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Sep 18 19:40:06 2005
Return-Path: <java-user-return-16471-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62474 invoked from network); 18 Sep 2005 19:40:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Sep 2005 19:40:06 -0000
Received: (qmail 71632 invoked by uid 500); 18 Sep 2005 19:40:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71577 invoked by uid 500); 18 Sep 2005 19:40:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 71564 invoked by uid 99); 18 Sep 2005 19:40:00 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Sep 2005 12:40:00 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.240] (HELO web51809.mail.yahoo.com) (206.190.38.240)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 18 Sep 2005 12:40:09 -0700
Received: (qmail 20928 invoked by uid 60001); 18 Sep 2005 19:39:56 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=MfBxyYu/9zDJDKXcWYUhdDin8cz00VLgSrFeDSFjEJ3Rox73ah+tqdVjfxwqrI+P8J7JAlK1AtJ8NQ5kMbV+d75crijDkN/2f2dJbJW5LyRCFGjzIy3wdpH/o2CcaPYRVpH94zzxpkTLYyn/dDV/WMhRo1IA0ezLqTRVxju3cl0=  ;
Message-ID: <20050918193956.20926.qmail@web51809.mail.yahoo.com>
Received: from [66.127.61.92] by web51809.mail.yahoo.com via HTTP; Sun, 18 Sep 2005 12:39:56 PDT
Date: Sun, 18 Sep 2005 12:39:56 -0700 (PDT)
From: James Huang <metaprgmr@yahoo.com>
Subject: Re: Sort by relevance+distance
To: java-user@lucene.apache.org, jeff.rodenburg@gmail.com
In-Reply-To: <50f4333605091810383656c257@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N



--- Jeff Rodenburg <jeff.rodenburg@gmail.com> wrote:

> trimming the post further:
> 
> On 9/18/05, James Huang <metaprgmr@yahoo.com> wrote:
> > 
> > >The problem is quite generic, I believe. What I
> like to do is similar to 
> > LIA-ch6, i.e. to find a "good Chinese Hunan-style
> restaurant near me." I 
> > prefer Hunan-style; however, if a good Human-style
> one is 12 miles, where 
> > there is a Shanghai-style only 2 miles, I may want
> to take that instead. So 
> > it's not a simple multi-sorting problem, it's an
> empirical ordering and the 
> > parameters may have to be experimented. Thus far,
> I'm happy with that 
> > formula I gave earlier.
> 
> 
> Now I have to find a way to customize the scoring
> during search (using Hits, 
> > not customized HitsCollector). Help is desparately
> needed here!
> > 
> 
>
/*************************************************************************************/
> 
> The typical approach (from what I know) to
> implementing an affect on scoring 
> is to do field boosting. The difficulty in this
> scenario is the distance 
> factor, which sounds as if it's determined at
> run-time, plus the trickiness 
> of field boosting based on the values of the field.
> I've looked at this as 
> well, and it's not a simple problem to solve.
> 
> How are you determining if something is "near me"?
> Is it a calculation at 
> run-time, i.e. latitude, longitude, and geometric
> math? What options do you 
> have to determine distance?
> 

Yes, the distance is calculated at runtime, based on
longitude/latitude. Field score boosting doesn't seem
to apply. In fact, there are other dynamic factors in
addition to distance to determine the order of search
result.

So the question is, is there a way to overriding score
calculation at runtime? In the lucene/search package,
I see interfaces like Scorer, Weight and methods like
Query.createWeight(). This looks promising.

-James



		
__________________________________ 
Yahoo! Mail - PC Magazine Editors' Choice 2005 
http://mail.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16472-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Sep 18 20:45:27 2005
Return-Path: <java-user-return-16472-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 74123 invoked from network); 18 Sep 2005 20:45:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Sep 2005 20:45:27 -0000
Received: (qmail 9725 invoked by uid 500); 18 Sep 2005 20:45:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9674 invoked by uid 500); 18 Sep 2005 20:45:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 9660 invoked by uid 99); 18 Sep 2005 20:45:22 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Sep 2005 13:45:22 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of kevin.stembridge@gmail.com designates 66.249.82.202 as permitted sender)
Received: from [66.249.82.202] (HELO xproxy.gmail.com) (66.249.82.202)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Sep 2005 13:45:31 -0700
Received: by xproxy.gmail.com with SMTP id h29so360016wxd
        for <java-user@lucene.apache.org>; Sun, 18 Sep 2005 13:45:19 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:user-agent:x-accept-language:mime-version:to:subject:content-type:content-transfer-encoding;
        b=T9SbBDARtqRsLgIQmS1kWJVk0NI4FwQ6L2eP6YGaClSl556rLfMPgV/ay/NWFzIVbdCV0GSOOA0uij3zV7WZ4sLzszSMkLa9/rWoRKPNBT3/pc92oIvj1kw4zgGMxIyT3SOtfcKcZCHCP3Ng7wuwzzkQb9+TOrrL1rtb3ra48E8=
Received: by 10.70.128.4 with SMTP id a4mr1030271wxd;
        Sun, 18 Sep 2005 13:45:19 -0700 (PDT)
Received: from ?82.26.31.142? ( [82.26.31.142])
        by mx.gmail.com with ESMTP id i38sm2054414wxd.2005.09.18.13.45.18;
        Sun, 18 Sep 2005 13:45:19 -0700 (PDT)
Message-ID: <432DD1DD.8030409@gmail.com>
Date: Sun, 18 Sep 2005 21:45:17 +0100
From: Kevin Stembridge <kevin.stembridge@gmail.com>
Reply-To:  kevin.stembridge@gmail.com
User-Agent: Mozilla Thunderbird 1.0 (X11/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Is Lucene right for my app?
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi folks,
I'd like to add seach functionality to a homegrown webapp I'm building 
that will store and display news articles. I've been looking through the 
Lucene Wiki, FAQ and tutorials and it looks like it will be able to 
provide the functionality I'll need. But before I commit to a given 
technology I was hoping to get a bit of advice from the people who use 
Lucene to see if it is the right search technology for my app and also 
some hints on how I should design my app to best make use of Lucene.

First of all, a few details about the application might help. It is 
basically an archive of news articles. Users will be able to perform 
searches to query the articles, which are stored locally, using criteria 
such as full text search, query of headline, author, date range etc. I'm 
able to decide how the articles will be stored and I was planning on 
just creating them and storing them as static HTML pages. For every 
article there will be a database record containing fields such as title, 
author, date published.

So with that in mind, I have a few questions:

Would Lucene be a good choice for my app?
What is the best format to store documents in given that Lucene needs to 
search them but they still need to be rendered to a browser quickly?
How much development effort is usually involved in integrating Lucene 
with an application?

I hope this mailing list is the right place to be asking the questions. 
If not, just point me in the right direction. Either way I would be very 
grateful for any advice.

Cheers,
Kevin
 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16473-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Sep 18 21:42:54 2005
Return-Path: <java-user-return-16473-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 85935 invoked from network); 18 Sep 2005 21:42:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Sep 2005 21:42:54 -0000
Received: (qmail 51045 invoked by uid 500); 18 Sep 2005 21:42:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 51015 invoked by uid 500); 18 Sep 2005 21:42:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 51002 invoked by uid 99); 18 Sep 2005 21:42:50 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Sep 2005 14:42:49 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=HTML_20_30,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jeff.rodenburg@gmail.com designates 64.233.162.198 as permitted sender)
Received: from [64.233.162.198] (HELO zproxy.gmail.com) (64.233.162.198)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Sep 2005 14:42:58 -0700
Received: by zproxy.gmail.com with SMTP id q3so368611nzb
        for <java-user@lucene.apache.org>; Sun, 18 Sep 2005 14:42:46 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=a2awiCH1cGMihxxGavAPfqedulNYcYZGW817TRJWo7K4owgOcgFu8bJ2TYRFS2joG1eLTvJf59CZGvGtyi737W7bgSu1wuaRQquOxEBmYh0AzVsLX9z9lMN1kWem/7TJY017+51eyhLoee2nvThgfFx0CABdRBRh/dc4StVDLwg=
Received: by 10.54.123.8 with SMTP id v8mr711065wrc;
        Sun, 18 Sep 2005 14:42:46 -0700 (PDT)
Received: by 10.54.13.32 with HTTP; Sun, 18 Sep 2005 14:42:46 -0700 (PDT)
Message-ID: <50f43336050918144221fc6b4@mail.gmail.com>
Date: Sun, 18 Sep 2005 14:42:46 -0700
From: Jeff Rodenburg <jeff.rodenburg@gmail.com>
Reply-To: jeff.rodenburg@gmail.com
To: java-user@lucene.apache.org, kevin.stembridge@gmail.com
Subject: Re: Is Lucene right for my app?
In-Reply-To: <432DD1DD.8030409@gmail.com>
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_11515_31636854.1127079766516"
References: <432DD1DD.8030409@gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_11515_31636854.1127079766516
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Kevin -

You've come to the right list to get information to help you make a=20
decision. That said, the responsible answer to your question will be "it=20
depends". The supporter in me says Lucene is your best choice, hands down.

Your questions aren't as straightforward as you might expect. Lucene is an=
=20
API, not a full-fledged search engine. It's up to you to put it to work=20
within the confines of your operation, so determining what's *best* can=20
normally only be determined by yourself.

My suggestion to you: pick up a copy of Lucene in Action. You'll get plenty=
=20
of support on this mailing list, but you can educate yourself much more=20
effectively with that book. The authors lurk on this list. It's the cheapes=
t=20
consulting ($40) you can get.

Cheers,
jeff



On 9/18/05, Kevin Stembridge <kevin.stembridge@gmail.com> wrote:
>=20
>=20
> Would Lucene be a good choice for my app?
> What is the best format to store documents in given that Lucene needs to
> search them but they still need to be rendered to a browser quickly?
> How much development effort is usually involved in integrating Lucene
> with an application?
>

------=_Part_11515_31636854.1127079766516--

From java-user-return-16474-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Sep 18 23:41:59 2005
Return-Path: <java-user-return-16474-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15543 invoked from network); 18 Sep 2005 23:41:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Sep 2005 23:41:59 -0000
Received: (qmail 27482 invoked by uid 500); 18 Sep 2005 23:41:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27073 invoked by uid 500); 18 Sep 2005 23:41:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27060 invoked by uid 99); 18 Sep 2005 23:41:54 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Sep 2005 16:41:54 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Sep 2005 16:42:03 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 266F613E2006; Sun, 18 Sep 2005 19:41:48 -0400 (EDT)
Received: from [172.16.1.101] (va-71-48-138-146.dhcp.sprint-hsd.net [71.48.138.146])
	by ehatchersolutions.com (Postfix) with ESMTP id 5A55E13E2005
	for <java-user@lucene.apache.org>; Sun, 18 Sep 2005 19:41:22 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <20050918193956.20926.qmail@web51809.mail.yahoo.com>
References: <20050918193956.20926.qmail@web51809.mail.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <ECF0AB3D-D47A-4864-A728-D89D442AAFE4@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Sort by relevance+distance
Date: Sun, 18 Sep 2005 19:39:06 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Sep 18, 2005, at 3:39 PM, James Huang wrote:
> So the question is, is there a way to overriding score
> calculation at runtime? In the lucene/search package,
> I see interfaces like Scorer, Weight and methods like
> Query.createWeight(). This looks promising.

There are several ways to adjust scoring, but I really think your  
best bet is to create a custom Query subclass (and therefore the  
Weight stuff underneath) to accommodate your needs.  I'm going to  
become an audience member for the rest of this discussion as I  
personally don't have experience creating that sort of thing, but  
look forward to learning more about how it can be done.

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16475-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Sep 18 23:52:22 2005
Return-Path: <java-user-return-16475-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17889 invoked from network); 18 Sep 2005 23:52:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 18 Sep 2005 23:52:22 -0000
Received: (qmail 37798 invoked by uid 500); 18 Sep 2005 23:52:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37777 invoked by uid 500); 18 Sep 2005 23:52:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37764 invoked by uid 99); 18 Sep 2005 23:52:15 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Sep 2005 16:52:15 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of beakesland@gmail.com designates 64.233.162.196 as permitted sender)
Received: from [64.233.162.196] (HELO zproxy.gmail.com) (64.233.162.196)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Sep 2005 16:52:24 -0700
Received: by zproxy.gmail.com with SMTP id i28so109071nzi
        for <java-user@lucene.apache.org>; Sun, 18 Sep 2005 16:52:12 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=nAE4NN9j6qxnko6DrVLnhh8f1D7Nb70T4fabXlYXcU8oSExkqHdGS1n2NJHBzfgBn9UWua+w2wmVXZ9LmcJRGuGCEV8KupN+EGZs5Xm8FRl9uZb5FNzHh5c+h/ehSsmXi4YDBhWzgN4iQH/a4g9bP6+vLtZMaM13HGvcFXbroyI=
Received: by 10.54.48.71 with SMTP id v71mr749754wrv;
        Sun, 18 Sep 2005 16:52:12 -0700 (PDT)
Received: by 10.54.131.14 with HTTP; Sun, 18 Sep 2005 16:52:12 -0700 (PDT)
Message-ID: <38a873f7050918165247530e51@mail.gmail.com>
Date: Sun, 18 Sep 2005 19:52:12 -0400
From: Philip Peterson <beakesland@gmail.com>
Reply-To: beakesland@gmail.com
To: java-user@lucene.apache.org
Subject: runtime boost of differnet indexs in ParallelMultiSearcher
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,

Is there a way to, at run time, boost one index over another in a
ParallelMultiSearcher.

So if I have 4 indexes a,b,c,d and user A searches their results lean
toward index a
and user B searches his results are boosted toward index b etc.

Thanks so much in advance,=20
I tried to see if there was any information on the in varius places
(including the GREAT book on lucene)

But I may have missed it.

thanks
Philip Peterson.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16476-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 19 00:52:36 2005
Return-Path: <java-user-return-16476-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 36846 invoked from network); 19 Sep 2005 00:52:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Sep 2005 00:52:36 -0000
Received: (qmail 83198 invoked by uid 500); 19 Sep 2005 00:52:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83170 invoked by uid 500); 19 Sep 2005 00:52:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 83155 invoked by uid 99); 19 Sep 2005 00:52:31 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Sep 2005 17:52:31 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Sep 2005 17:52:39 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 09BB113E2008; Sun, 18 Sep 2005 20:52:26 -0400 (EDT)
Received: from [172.16.1.101] (va-71-48-138-146.dhcp.sprint-hsd.net [71.48.138.146])
	by ehatchersolutions.com (Postfix) with ESMTP id 9C37213E2006
	for <java-user@lucene.apache.org>; Sun, 18 Sep 2005 20:51:57 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <38a873f7050918165247530e51@mail.gmail.com>
References: <38a873f7050918165247530e51@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <CF22D8D8-C719-4B3D-A75C-E983C796C96E@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: runtime boost of differnet indexs in ParallelMultiSearcher
Date: Sun, 18 Sep 2005 20:51:51 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Sep 18, 2005, at 7:52 PM, Philip Peterson wrote:
> Is there a way to, at run time, boost one index over another in a
> ParallelMultiSearcher.
>
> So if I have 4 indexes a,b,c,d and user A searches their results lean
> toward index a
> and user B searches his results are boosted toward index b etc.
>
> Thanks so much in advance,
> I tried to see if there was any information on the in varius places
> (including the GREAT book on lucene)

No, we don't cover this sort of thing in LIA.

One option is to create your own fork of ParallelMultiSearcher and  
boost the scores for the desired index in the relevant .search  
methods (excluding the HitCollector one).  It should be a minor tweak  
to accomplish this.  Maybe something general along these lines is  
worth adding to both MultiSearcher and ParallelMultiSearcher to allow  
a hook point for this?

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16477-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 19 01:50:07 2005
Return-Path: <java-user-return-16477-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 59977 invoked from network); 19 Sep 2005 01:50:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Sep 2005 01:50:07 -0000
Received: (qmail 21956 invoked by uid 500); 19 Sep 2005 01:50:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 21927 invoked by uid 500); 19 Sep 2005 01:50:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 21914 invoked by uid 99); 19 Sep 2005 01:50:02 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Sep 2005 18:50:02 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [209.10.110.95] (HELO londo.swishmail.com) (209.10.110.95)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Sep 2005 18:50:11 -0700
Received: (qmail 14362 invoked by uid 89); 19 Sep 2005 01:49:59 -0000
Received: from unknown (HELO ?81.254.193.12?) (81.254.193.12)
  by londo.swishmail.com with SMTP; 19 Sep 2005 01:49:59 -0000
Message-ID: <432E1946.5080302@apache.org>
Date: Sun, 18 Sep 2005 18:49:58 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 1.0.2 (Windows/20050317)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Is Lucene right for my app?
References: <432DD1DD.8030409@gmail.com> <50f43336050918144221fc6b4@mail.gmail.com>
In-Reply-To: <50f43336050918144221fc6b4@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Jeff Rodenburg wrote:
> My suggestion to you: pick up a copy of Lucene in Action. [ ...]
> The authors lurk on this list.

They're pretty chatty for lurkers.

http://en.wikipedia.org/wiki/Lurker

But good advice nonetheless!

Cheers,

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16478-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 19 02:17:51 2005
Return-Path: <java-user-return-16478-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 66217 invoked from network); 19 Sep 2005 02:17:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Sep 2005 02:17:51 -0000
Received: (qmail 41660 invoked by uid 500); 19 Sep 2005 02:17:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 41633 invoked by uid 500); 19 Sep 2005 02:17:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 41620 invoked by uid 99); 19 Sep 2005 02:17:46 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Sep 2005 19:17:46 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=HTML_20_30,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jeff.rodenburg@gmail.com designates 64.233.162.197 as permitted sender)
Received: from [64.233.162.197] (HELO zproxy.gmail.com) (64.233.162.197)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Sep 2005 19:17:54 -0700
Received: by zproxy.gmail.com with SMTP id q3so407407nzb
        for <java-user@lucene.apache.org>; Sun, 18 Sep 2005 19:17:42 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=anPsSRK2/YKNQwNrdoG8zoLeuKsaQ1tb4QdIAelQsNOZw6Chl3eTkCEsVim062S9vY2BQNoL9yCvmWdlc45BO0Na9Zmx9GodHLRYvYSiVa8p/nSEos0ruSkGwH2sSRBVR1TYyn9RBkb2+C/JIROSbjM7MZSLSMVfapVu2QA5Nas=
Received: by 10.54.51.30 with SMTP id y30mr793791wry;
        Sun, 18 Sep 2005 19:17:42 -0700 (PDT)
Received: by 10.54.13.32 with HTTP; Sun, 18 Sep 2005 19:17:42 -0700 (PDT)
Message-ID: <50f433360509181917163566e8@mail.gmail.com>
Date: Sun, 18 Sep 2005 19:17:42 -0700
From: Jeff Rodenburg <jeff.rodenburg@gmail.com>
Reply-To: jeff.rodenburg@gmail.com
To: java-user@lucene.apache.org
Subject: Re: Sort by relevance+distance
In-Reply-To: <ECF0AB3D-D47A-4864-A728-D89D442AAFE4@ehatchersolutions.com>
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_11659_22247486.1127096262570"
References: <20050918193956.20926.qmail@web51809.mail.yahoo.com>
	 <ECF0AB3D-D47A-4864-A728-D89D442AAFE4@ehatchersolutions.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_11659_22247486.1127096262570
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I like Erik's suggestion here as a starting point. I would guess you might=
=20
find some direction in the Scorer class, but I haven't gone through this in=
=20
detail.

Conceptually a sliding weight based on proximity sounds correct...

-- jeff


On Sep 18, 2005, at 3:39 PM, James Huang wrote:
> > So the question is, is there a way to overriding score
> > calculation at runtime? In the lucene/search package,
> > I see interfaces like Scorer, Weight and methods like
> > Query.createWeight(). This looks promising.
>=20
> There are several ways to adjust scoring, but I really think your
> best bet is to create a custom Query subclass (and therefore the
> Weight stuff underneath) to accommodate your needs.
>

------=_Part_11659_22247486.1127096262570--

From java-user-return-16479-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 19 03:16:25 2005
Return-Path: <java-user-return-16479-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 74140 invoked from network); 19 Sep 2005 03:16:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Sep 2005 03:16:25 -0000
Received: (qmail 72694 invoked by uid 500); 19 Sep 2005 03:16:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 72653 invoked by uid 500); 19 Sep 2005 03:16:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 72640 invoked by uid 99); 19 Sep 2005 03:16:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Sep 2005 20:16:20 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of saturnism@gmail.com designates 64.233.162.198 as permitted sender)
Received: from [64.233.162.198] (HELO zproxy.gmail.com) (64.233.162.198)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Sep 2005 20:16:28 -0700
Received: by zproxy.gmail.com with SMTP id i28so141207nzi
        for <java-user@lucene.apache.org>; Sun, 18 Sep 2005 20:16:17 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=PJUkc+ayU63cMvM99Vbo8zJamJgI9NjnsoPkh7fV0uFQ7zyCIdZpFi/bTFMddm7gjt5fZ+dk+65sBCFQr6NaGRrcAHwObL8LedFa4rL03YLd5BJj84tPEURf44Pw25D25EjQX5Yas3XnZm3uPC0P8z1yW/aDf9IqyNn0thtYalI=
Received: by 10.54.81.13 with SMTP id e13mr580682wrb;
        Sun, 18 Sep 2005 20:16:16 -0700 (PDT)
Received: by 10.54.125.18 with HTTP; Sun, 18 Sep 2005 20:16:16 -0700 (PDT)
Message-ID: <fb9748c90509182016e88ed08@mail.gmail.com>
Date: Mon, 19 Sep 2005 11:16:16 +0800
From: Ray Tsang <saturnism@gmail.com>
Reply-To: saturnism@gmail.com
To: java-user@lucene.apache.org
Subject: Re: Lucene database bindings
In-Reply-To: <432C38BC.8090806@yahoo.co.uk>
Mime-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: base64
Content-Disposition: inline
References: <432B62F1.2070705@yahoo.co.uk>
	 <1cbd6f83050917064164cb6699@mail.gmail.com>
	 <432C2F85.6080700@yahoo.co.uk>
	 <6e3ae63105091708304afac9d7@mail.gmail.com>
	 <432C38BC.8090806@yahoo.co.uk>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

SSBtdXN0IGFkbWl0IHRoYXQgSSBoYXZlIG5vdCBkb3dubG9hZGVkIHRoZSBzb3VyY2UgeWV0LiAg
QnV0IGEgcXVpY2sKcXVlc3Rpb24sIGRvZXMgaXQgZGVhbCB3LyBhZ2dyZWdhdGUgZnVuY3Rpb25z
IGFuZCBncm91cCBieSBjbGF1c2VzPwpUaGFua3MhCgpSYXksCgpPbiA5LzE3LzA1LCBtYXJraGFy
dzAwZCA8bWFya2hhcncwMGRAeWFob28uY28udWs+IHdyb3RlOgo+ICA+PkJhc2ljYWxseSB5b3Vy
IGx1Y2VuZV9xdWVyeSBmdW5jdGlvbiB3aWxsIHJldHVybiBhIHRydWUvZmFsc2UgaW4gb25lCj4g
b2YgdGhlIHF1ZXJ5IHByZWRpY2F0ZXMgZm9yIGVhY2ggcmVjb3JkLgo+IAo+IEFsbW9zdCwgaXQg
cmV0dXJucyBhIHNjb3JlICAtIG11Y2ggbW9yZSB1c2VmdWwgdGhhbiBqdXN0IGEgYm9vbGVhbiBh
bmQKPiB0aGUga2V5IGRpZmZlcmVuY2UgYmV0d2VlbiBhIHNlYXJjaCBlbmdpbmUgYW5kIGEgZGF0
YWJhc2UgKHBhcnRpYWwKPiBtYXRjaGluZyB3aXRoIHJlbGV2YW5jZSByYW5rZWQgc2NvcmVzKS4g
VGhlc2UgY2FuIGJlIHVzZWQgdG8gc29ydAo+IHJlc3VsdHMgYnkgcmVsZXZhbmNlLgo+IAo+IAo+
IAo+IF9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fCj4gVG8gaGVscCB5b3Ugc3RheSBzYWZlIGFuZCBzZWN1cmUgb25saW5lLCB3ZSd2ZSBk
ZXZlbG9wZWQgdGhlIGFsbCBuZXcgWWFob28hIFNlY3VyaXR5IENlbnRyZS4gaHR0cDovL3VrLnNl
Y3VyaXR5LnlhaG9vLmNvbQo+IAo+IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQo+IFRvIHVuc3Vic2NyaWJlLCBlLW1h
aWw6IGphdmEtdXNlci11bnN1YnNjcmliZUBsdWNlbmUuYXBhY2hlLm9yZwo+IEZvciBhZGRpdGlv
bmFsIGNvbW1hbmRzLCBlLW1haWw6IGphdmEtdXNlci1oZWxwQGx1Y2VuZS5hcGFjaGUub3JnCj4g
Cj4K


From java-user-return-16480-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 19 06:22:32 2005
Return-Path: <java-user-return-16480-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23666 invoked from network); 19 Sep 2005 06:22:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Sep 2005 06:22:32 -0000
Received: (qmail 75011 invoked by uid 500); 19 Sep 2005 06:22:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 74100 invoked by uid 500); 19 Sep 2005 06:22:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 74087 invoked by uid 99); 19 Sep 2005 06:22:26 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Sep 2005 23:22:26 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of kevin.stembridge@gmail.com designates 66.249.82.197 as permitted sender)
Received: from [66.249.82.197] (HELO xproxy.gmail.com) (66.249.82.197)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 18 Sep 2005 23:22:34 -0700
Received: by xproxy.gmail.com with SMTP id h29so470799wxd
        for <java-user@lucene.apache.org>; Sun, 18 Sep 2005 23:22:22 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:user-agent:x-accept-language:mime-version:to:subject:content-type:content-transfer-encoding;
        b=R+1GLX1LQs3uPbgfWx3nxTUU5QINGbM+Xd0zMwa/zGyoew+C3HbRVD3EE12bANy+A3kShbYDvbs1KQUnqX9xwq3hn4Fd0Y2Dw46OKIsmxfagCz29S+9cSgseUEeEoKHR+Xw1WuVfPs2qOU3izH+dRsgPnEFaXQ4lpXBJscsV96Q=
Received: by 10.70.69.8 with SMTP id r8mr1189107wxa;
        Sun, 18 Sep 2005 23:22:22 -0700 (PDT)
Received: from ?82.26.31.142? ( [82.26.31.142])
        by mx.gmail.com with ESMTP id i20sm176318wxd.2005.09.18.23.22.22;
        Sun, 18 Sep 2005 23:22:22 -0700 (PDT)
Message-ID: <432E591C.5080100@gmail.com>
Date: Mon, 19 Sep 2005 07:22:20 +0100
From: Kevin Stembridge <kevin.stembridge@gmail.com>
Reply-To:  kevin.stembridge@gmail.com
User-Agent: Mozilla Thunderbird 1.0 (X11/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Is Lucene right for my app?
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Jeff and Doug,
I've just finished reading Chapter 1 of Lucene in Action (sample chapter 
from Manning) and I've ordered a copy. The sample chapter was pretty 
useful in giving me an idea of how Lucene will fit into my app and I 
think it'll do the trick nicely with a bit of elbow grease on my part.

Thanks very much for the advice.

Cheers,
Kevin

Jeff Rodenburg wrote:

> Kevin -
>
> You've come to the right list to get information to help you make a 
> decision.  That said, the responsible answer to your question will be 
> "it depends".  The supporter in me says Lucene is your best choice, 
> hands down.
>
> Your questions aren't as straightforward as you might expect.  Lucene 
> is an API, not a full-fledged search engine.  It's up to you to put it 
> to work within the confines of your operation, so determining what's 
> *best* can normally only be determined by yourself.
>
> My suggestion to you: pick up a copy of Lucene in Action.  You'll get 
> plenty of support on this mailing list, but you can educate yourself 
> much more effectively with that book.  The authors lurk on this list.  
> It's the cheapest consulting ($40) you can get.
>
> Cheers,
> jeff
>
>
>
> On 9/18/05, *Kevin Stembridge* <kevin.stembridge@gmail.com 
> <mailto:kevin.stembridge@gmail.com>> wrote:
>
>
>     Would Lucene be a good choice for my app?
>     What is the best format to store documents in given that Lucene
>     needs to
>     search them but they still need to be rendered to a browser quickly?
>     How much development effort is usually involved in integrating Lucene
>     with an application?
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16481-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 19 07:19:35 2005
Return-Path: <java-user-return-16481-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 34824 invoked from network); 19 Sep 2005 07:19:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Sep 2005 07:19:34 -0000
Received: (qmail 26017 invoked by uid 500); 19 Sep 2005 07:19:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25968 invoked by uid 500); 19 Sep 2005 07:19:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25955 invoked by uid 99); 19 Sep 2005 07:19:28 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 19 Sep 2005 00:19:28 -0700
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.109.24.24] (HELO smtp-vbr4.xs4all.nl) (194.109.24.24)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 19 Sep 2005 00:19:37 -0700
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr4.xs4all.nl (8.13.3/8.13.3) with ESMTP id j8J7JOhc009847
	for <java-user@lucene.apache.org>; Mon, 19 Sep 2005 09:19:24 +0200 (CEST)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: Sort by relevance+distance
Date: Mon, 19 Sep 2005 09:19:24 +0200
User-Agent: KMail/1.5.4
References: <20050918193956.20926.qmail@web51809.mail.yahoo.com> <ECF0AB3D-D47A-4864-A728-D89D442AAFE4@ehatchersolutions.com>
In-Reply-To: <ECF0AB3D-D47A-4864-A728-D89D442AAFE4@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200509190919.24154.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Sep 18, 2005, at 3:39 PM, James Huang wrote:
> So the question is, is there a way to overriding score
> calculation at runtime? In the lucene/search package,
> I see interfaces like Scorer, Weight and methods like
> Query.createWeight(). This looks promising.

You indeed need to override the following things:
- Query (changes for createWeight() (), the query location, the normal Lucene 
query)
- Weight (this will probably not do very much in your case, except for passing 
things to your scorer)
- Scorer

Iirc, you only need an extra score factor depending on the distance,
where the query contains a location.
That means you need something like a ConjunctionScorer
to combine the scores of the query parts with and without the distance.
The part without the distance is a standard lucene query in your case (iirc).
For the part with the distance, you'll need the actual document locations
(preferably in RAM) and compute the distance based score factor based
on those locations and the query location.

One way to have these document locations in RAM is by using a field cache,
much like the sorting code does.

In case the query also has constraints on the location the query search might
take advantage of that, but that would need more development, for example
starting from RangeQueries and/or filters on the location coordinates.

Regards,
Paul Elschot


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16482-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 19 08:41:25 2005
Return-Path: <java-user-return-16482-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62047 invoked from network); 19 Sep 2005 08:41:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Sep 2005 08:41:25 -0000
Received: (qmail 15070 invoked by uid 500); 19 Sep 2005 08:41:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 15042 invoked by uid 500); 19 Sep 2005 08:41:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 15029 invoked by uid 99); 19 Sep 2005 08:41:19 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 19 Sep 2005 01:41:19 -0700
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_20_30,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.49.120] (HELO web54310.mail.yahoo.com) (206.190.49.120)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 19 Sep 2005 01:41:26 -0700
Received: (qmail 14711 invoked by uid 60001); 19 Sep 2005 08:41:14 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=Qc1XK06CJsgX/+RJ7hn/syJ7IqbKY63rFRdjuQb3yiRy9JT6sw7kOkCtOZwlZIty6JB3syId4du+HO99ViltK1QSZlBkXgYW0C/FWlRLTCQfvehSUmZSxwtU4Y4GphIGjpxi3iBbG88wOH5jgFGM2oDjSE3Nej3W79s5ZOSeiDs=  ;
Message-ID: <20050919084114.14709.qmail@web54310.mail.yahoo.com>
Received: from [141.70.115.175] by web54310.mail.yahoo.com via HTTP; Mon, 19 Sep 2005 01:41:14 PDT
Date: Mon, 19 Sep 2005 01:41:14 -0700 (PDT)
From: tirupathi reddy <tirupathireddy_m@yahoo.com>
Subject: Some problem with prefix wilcard search
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1932702664-1127119274=:7962"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-1932702664-1127119274=:7962
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Hello,
  I am using Lucene for for searching in my application. 
My application needs prefix wildcard search also. 
But Lucene doesn't support this. So I changed in the QueryParser.jj file
FROM:
 | <WILDTERM:  <_TERM_START_CHAR>
              (<_TERM_CHAR> | ( [ "*", "?" ] ))* >
 To:
 | <WILDTERM:  (<_TERM_CHAR> | ( [ "*", "?" ] ))* >

And then I build it using ant and then by using
 command ant -Djavacc.home = C:/javac javacc
And both times it was saying build was successful. 
Then I  put in the classpath, the newly generated jar file in build directory
instead of lucene-current.jar. Even then it is not working for 
prefix wildcard search (e.g. *patent). And I am getting the following error:
caught a class org.apache.lucene.queryParser.ParseException
  with message: Lexical error at line 1, column 2.  Encountered:  
 "*" (42), after   : ""

Is it the correct way for to make it work for prefix wildcard
search using lucene.
Is there any thing wrong I am doing?
Is there any other way to do this?
part of my querying code is:
Query query = QueryParser.parse(query,"ALL",analyzer);
Hits hits = searcher.search(query);
And the query I am passing e.g. is *static.
So please any one help me to solve this problem.


Tirupati Reddy Manyam 
24-06-08, 
Sundugaullee-24, 
79110 Freiburg 
GERMANY. 

Phone: 00497618811257 
cell : 004917624649007

		
---------------------------------
Yahoo! for Good
 Click here to donate to the Hurricane Katrina relief effort. 
--0-1932702664-1127119274=:7962--

From java-user-return-16483-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 19 08:44:00 2005
Return-Path: <java-user-return-16483-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 62643 invoked from network); 19 Sep 2005 08:44:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Sep 2005 08:44:00 -0000
Received: (qmail 19542 invoked by uid 500); 19 Sep 2005 08:43:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 18645 invoked by uid 500); 19 Sep 2005 08:43:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 18632 invoked by uid 99); 19 Sep 2005 08:43:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 19 Sep 2005 01:43:55 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.10.217] (HELO web26006.mail.ukl.yahoo.com) (217.12.10.217)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 19 Sep 2005 01:44:02 -0700
Received: (qmail 74140 invoked by uid 60001); 19 Sep 2005 08:43:49 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=Zyp38ieCR/8WaRjH/BZfZzPHBV4nKqYOntfeaDfOliTuSiX4gVJv0g9cIVi8cTXMm5UE4GmYCLtRq5XMYoD4y1WDLFfoqMwtJ5DymkLaOafNEAimetp/JoXfLcQfw9ZsMTTQHSOHYJR3zMQX2AC8Ozs64vdZzI4bYiqWJUJ1FY0=  ;
Message-ID: <20050919084349.74138.qmail@web26006.mail.ukl.yahoo.com>
Received: from [193.36.230.96] by web26006.mail.ukl.yahoo.com via HTTP; Mon, 19 Sep 2005 09:43:49 BST
Date: Mon, 19 Sep 2005 09:43:49 +0100 (BST)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: Re: Lucene database bindings
To: java-user@lucene.apache.org, saturnism@gmail.com
In-Reply-To: <fb9748c90509182016e88ed08@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

>>does it deal w/ aggregate functions and group by 
>> clauses?

Yes, it is basically *all* the normal SQL
functionality but with the added option to mix in
scores from lucene queries to the criteria.

>From the example code:

select top 10 count(*) as numAds,pricePounds  from ads
where pricePounds <500 and lucene_query('table',id)>0
group by pricePounds order by numAds desc

This returns the top 10 most common prices for a table
(as in kitchen table, not SQL table). The database has
classified ad descriptions and prices so there's not
much meaningful to group on. A "category" column 
would be a better example for grouping but there isn't
one in the example data.


Cheers,
Mark



		
___________________________________________________________ 
To help you stay safe and secure online, we've developed the all new Yahoo! Security Centre. http://uk.security.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16484-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 19 10:15:18 2005
Return-Path: <java-user-return-16484-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88735 invoked from network); 19 Sep 2005 10:15:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Sep 2005 10:15:17 -0000
Received: (qmail 97135 invoked by uid 500); 19 Sep 2005 10:15:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 97102 invoked by uid 500); 19 Sep 2005 10:15:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 97089 invoked by uid 99); 19 Sep 2005 10:15:10 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 19 Sep 2005 03:15:10 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 19 Sep 2005 03:15:18 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 845C913E2006; Mon, 19 Sep 2005 06:15:05 -0400 (EDT)
Received: from [172.16.1.101] (va-71-48-138-146.dhcp.sprint-hsd.net [71.48.138.146])
	by ehatchersolutions.com (Postfix) with ESMTP id 06CAE13E2006
	for <java-user@lucene.apache.org>; Mon, 19 Sep 2005 06:14:52 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <20050919084114.14709.qmail@web54310.mail.yahoo.com>
References: <20050919084114.14709.qmail@web54310.mail.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <823FCF5D-59EC-43C4-A0FB-0423691A6C09@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Some problem with prefix wilcard search
Date: Mon, 19 Sep 2005 06:14:49 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Sep 19, 2005, at 4:41 AM, tirupathi reddy wrote:

> Hello,
>   I am using Lucene for for searching in my application.
> My application needs prefix wildcard search also.
> But Lucene doesn't support this. So I changed in the QueryParser.jj  
> file
> FROM:
>  | <WILDTERM:  <_TERM_START_CHAR>
>               (<_TERM_CHAR> | ( [ "*", "?" ] ))* >
>  To:
>  | <WILDTERM:  (<_TERM_CHAR> | ( [ "*", "?" ] ))* >
>
> And then I build it using ant and then by using
>  command ant -Djavacc.home = C:/javac javacc

Try this command:

     ant -Djavacc.home=c:/javacc clean javacc jar-core

> And both times it was saying build was successful.

Send us the output from Ant.  Something operationally incorrect is  
occurring.

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16485-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 19 11:31:23 2005
Return-Path: <java-user-return-16485-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24611 invoked from network); 19 Sep 2005 11:31:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Sep 2005 11:31:22 -0000
Received: (qmail 97723 invoked by uid 500); 19 Sep 2005 11:31:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 97700 invoked by uid 500); 19 Sep 2005 11:31:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 97687 invoked by uid 99); 19 Sep 2005 11:31:15 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 19 Sep 2005 04:31:15 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.10.218] (HELO web26007.mail.ukl.yahoo.com) (217.12.10.218)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 19 Sep 2005 04:31:23 -0700
Received: (qmail 72445 invoked by uid 60001); 19 Sep 2005 11:31:10 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=ZKl6MnEfhqgiCUFg5USLBO05QHtJU1BJEF2u5Da23Qd7opNaAVvumbOuZ08ud7yUkdwURInp1LkHzPUIICSLxLXgE4NKsZWtr7YnC5HpwMcfl/zCupWwX1T33IBYbwCBk1tI/60DuhflmtjWOyGVWapqIJXuLg6aRvZr+bOQUBU=  ;
Message-ID: <20050919113110.72443.qmail@web26007.mail.ukl.yahoo.com>
Received: from [193.36.230.96] by web26007.mail.ukl.yahoo.com via HTTP; Mon, 19 Sep 2005 12:31:10 BST
Date: Mon, 19 Sep 2005 12:31:10 +0100 (BST)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: Re: Sort by relevance+distance
To: java-user@lucene.apache.org
In-Reply-To: <200509190919.24154.paul.elschot@xs4all.nl>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I think the HitCollector approach was fine but needed
a couple of changes:
1) use a PriorityQueue subclass in place of the
SortedSet to keep only the top n scoring docs
2) multiply lucene score by a distance measurement
based on the current doc's location (doc location
being read from a cached array of type
Location[reader.maxDoc] )


Cheers
Mark


	
	
		
___________________________________________________________ 
Yahoo! Messenger - NEW crystal clear PC to PC calling worldwide with voicemail http://uk.messenger.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16486-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 19 11:31:29 2005
Return-Path: <java-user-return-16486-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24657 invoked from network); 19 Sep 2005 11:31:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Sep 2005 11:31:29 -0000
Received: (qmail 98321 invoked by uid 500); 19 Sep 2005 11:31:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 98253 invoked by uid 500); 19 Sep 2005 11:31:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 98206 invoked by uid 99); 19 Sep 2005 11:31:19 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 19 Sep 2005 04:31:19 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [193.123.241.50] (HELO rivette.int.mediasurface.com) (193.123.241.50)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 19 Sep 2005 04:31:27 -0700
Received: from rivette.int.mediasurface.com (localhost [127.0.0.1])
	by rivette.int.mediasurface.com (8.11.6+Sun/8.11.6) with ESMTP id j8JBVFA27400
	for <java-user@lucene.apache.org>; Mon, 19 Sep 2005 12:31:15 +0100 (BST)
Received: from neptune.int.mediasurface.com (neptune.int.mediasurface.com [10.0.5.71])
	by rivette.int.mediasurface.com (8.11.6+Sun/8.11.6) with ESMTP id j8JBVEI27396
	for <java-user@lucene.apache.org>; Mon, 19 Sep 2005 12:31:14 +0100 (BST)
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: How do I implement "find documents like document x."
Date: Mon, 19 Sep 2005 12:31:13 +0100
Message-ID: <BE3E7BC7F7553B4A9362D4192ECD308AF693C3@neptune.int.mediasurface.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: How do I implement "find documents like document x."
Thread-Index: AcW9Awk+J2GJNPivQkiwtzUTwKupuAAChpzA
From: "Peter Gelderbloem" <Peter.Gelderbloem@mediasurface.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Hi
I was wondering how would you search for documents similar to a
specified document using Lucene?=20
The context would be that I categorise document A manually, and then
search for documents with similar terms. Hopefully the documents
returned would be in the same category/theme as document A.
The system would eventually build up a set of documents for each
category to match against.

Peter Gelderbloem=20

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16487-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 19 12:54:29 2005
Return-Path: <java-user-return-16487-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58078 invoked from network); 19 Sep 2005 12:54:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Sep 2005 12:54:29 -0000
Received: (qmail 28573 invoked by uid 500); 19 Sep 2005 12:54:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 28539 invoked by uid 500); 19 Sep 2005 12:54:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 28526 invoked by uid 99); 19 Sep 2005 12:54:24 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 19 Sep 2005 05:54:24 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [128.230.248.25] (HELO gwia201.syr.edu) (128.230.248.25)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 19 Sep 2005 05:54:32 -0700
Received: from MTA2-MTA by gwia201.syr.edu
	with Novell_GroupWise; Mon, 19 Sep 2005 08:54:20 -0400
Message-Id: <s32e7cbc.088@gwia201.syr.edu>
X-Mailer: Novell GroupWise Internet Agent 6.5.1 
Date: Mon, 19 Sep 2005 08:53:54 -0400
From: "Grant Ingersoll" <GSIngers@syr.edu>
To: <java-user@lucene.apache.org>
Subject: Re: How do I implement "find documents like document x."
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I believe there a several ways of doing it.  You can use the
MoreLikeThis contribution at
http://svn.apache.org/repos/asf/lucene/java/trunk/contrib/similarity
or you can roll your own using the TermVector implementation. 
Basically, do your first search, get the term vector from the document
you are interested in and then build a new query out of the terms of
document A.  I haven't used the first.  The Lucene book also has a
section on TermVectors and has similar examples.  

>>> Peter.Gelderbloem@mediasurface.com 09/19/05 7:31 AM >>>

Hi
I was wondering how would you search for documents similar to a
specified document using Lucene? 
The context would be that I categorise document A manually, and then
search for documents with similar terms. Hopefully the documents
returned would be in the same category/theme as document A.
The system would eventually build up a set of documents for each
category to match against.

Peter Gelderbloem 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org 
For additional commands, e-mail: java-user-help@lucene.apache.org 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16488-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 19 15:03:21 2005
Return-Path: <java-user-return-16488-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15502 invoked from network); 19 Sep 2005 15:03:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Sep 2005 15:03:21 -0000
Received: (qmail 43065 invoked by uid 500); 19 Sep 2005 15:03:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42870 invoked by uid 500); 19 Sep 2005 15:03:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42837 invoked by uid 99); 19 Sep 2005 15:03:13 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 19 Sep 2005 08:03:13 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_30_40,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received: from [206.190.49.112] (HELO web54302.mail.yahoo.com) (206.190.49.112)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 19 Sep 2005 08:03:21 -0700
Received: (qmail 98636 invoked by uid 60001); 19 Sep 2005 15:03:08 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=X4McNq30VHYDJY/rXJ0af4lXBuu7buDk/A8zZmqVADYaAspHO13LOFYmRzsi9UErFD6l717JvN07x9xFa9W1bEmokrGOHksB/dT86tZMYnLfzzlzdzMd02i6pbw1dkgNffktP/Z+XEWdHlZ4Pqzo8vDIJbiy4TJz11+texRNrHA=  ;
Message-ID: <20050919150308.98634.qmail@web54302.mail.yahoo.com>
Received: from [141.70.115.175] by web54302.mail.yahoo.com via HTTP; Mon, 19 Sep 2005 08:03:08 PDT
Date: Mon, 19 Sep 2005 08:03:08 -0700 (PDT)
From: tirupathi reddy <tirupathireddy_m@yahoo.com>
Subject: Re: Some problem with prefix wilcard search
To: java-user@lucene.apache.org
In-Reply-To: <823FCF5D-59EC-43C4-A0FB-0423691A6C09@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-111420976-1127142188=:98313"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-111420976-1127142188=:98313
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Hello Erik,
 
   The output from ant command is :
 
C:\LUCENE-CURRENT\SOURCE\lucene-1.4.3>ant
Buildfile: build.xml
init:
    [mkdir] Created dir: C:\LUCENE-CURRENT\SOURCE\lucene-1.4.3\build
    [mkdir] Created dir: C:\LUCENE-CURRENT\SOURCE\lucene-1.4.3\dist
compile-core:
    [mkdir] Created dir: C:\LUCENE-CURRENT\SOURCE\lucene-1.4.3\build\classes\jav
a
    [javac] Compiling 160 source files to C:\LUCENE-CURRENT\SOURCE\lucene-1.4.3\
build\classes\java
    [javac] C:\LUCENE-CURRENT\SOURCE\lucene-1.4.3\src\java\org\apache\lucene\ana
lysis\standard\FastCharStream.java:106: warning: [deprecation] getLine() in org.
apache.lucene.analysis.standard.CharStream has been deprecated
    [javac]   public final int getLine() {
    [javac]                    ^
    [javac] C:\LUCENE-CURRENT\SOURCE\lucene-1.4.3\src\java\org\apache\lucene\ana
lysis\standard\FastCharStream.java:103: warning: [deprecation] getColumn() in or
g.apache.lucene.analysis.standard.CharStream has been deprecated
    [javac]   public final int getColumn() {
    [javac]                    ^
    [javac] C:\LUCENE-CURRENT\SOURCE\lucene-1.4.3\src\java\org\apache\lucene\que
ryParser\FastCharStream.java:106: warning: [deprecation] getLine() in org.apache
.lucene.queryParser.CharStream has been deprecated
    [javac]   public final int getLine() {
    [javac]                    ^
    [javac] C:\LUCENE-CURRENT\SOURCE\lucene-1.4.3\src\java\org\apache\lucene\que
ryParser\FastCharStream.java:103: warning: [deprecation] getColumn() in org.apac
he.lucene.queryParser.CharStream has been deprecated
    [javac]   public final int getColumn() {
    [javac]                    ^
    [javac] Note: Some input files use unchecked or unsafe operations.
    [javac] Note: Recompile with -Xlint:unchecked for details.
    [javac] 4 warnings
     [rmic] RMI Compiling 1 class to C:\LUCENE-CURRENT\SOURCE\lucene-1.4.3\build
\classes\java
jar-core:
      [jar] Building jar: C:\LUCENE-CURRENT\SOURCE\lucene-1.4.3\build\lucene-1.5
-rc1-dev.jar
default:
BUILD SUCCESSFUL
Total time: 13 seconds

 
The output from ant -Djavacc.home=c:/javacc javacc  command is:
 
C:\LUCENE-CURRENT\SOURCE\lucene-1.4.3>ant -Djavacc.home=c:/javacc javacc
Buildfile: build.xml
init:
javacc-check:
javacc-StandardAnalyzer:
invoke-javacc:
     [java] Java Compiler Compiler Version 3.2 (Parser Generator)
     [java] (type "javacc" with no arguments for help)
     [java] Reading from file C:\LUCENE-CURRENT\SOURCE\lucene-1.4.3\src\java\org
\apache\lucene\analysis\standard\StandardTokenizer.jj . . .
     [java] Note: UNICODE_INPUT option is specified. Please make sure you create
 the parser/lexer usig a Reader with the correct character encoding.
     [java] Parser generated successfully.
     [copy] Copying 3 files to C:\LUCENE-CURRENT\SOURCE\lucene-1.4.3\src\java\or
g\apache\lucene\analysis\standard
javacc-QueryParser:
invoke-javacc:
     [java] Java Compiler Compiler Version 3.2 (Parser Generator)
     [java] (type "javacc" with no arguments for help)
     [java] Reading from file C:\LUCENE-CURRENT\SOURCE\lucene-1.4.3\src\java\org
\apache\lucene\queryParser\QueryParser.jj . . .
     [java] Warning: Line 608, Column 3: Regular expression for WILDTERM can be
matched by the empty string ("") in lexical state DEFAULT. This can result in an
 endless loop of empty string matches.
     [java] Parser generated with 0 errors and 1 warnings.
javacc-HTMLParser:
invoke-javacc:
     [java] Java Compiler Compiler Version 3.2 (Parser Generator)
     [java] (type "javacc" with no arguments for help)
     [java] Reading from file C:\LUCENE-CURRENT\SOURCE\lucene-1.4.3\src\demo\org
\apache\lucene\demo\html\HTMLParser.jj . . .
     [java] Parser generated successfully.
javacc:
BUILD SUCCESSFUL
Total time: 3 seconds

 
 
And you told me to run the  ant -Djavacc.home=c:/javacc clean javacc jar-core
 
So i run that command after issuing ant command instead of 
ant -Djavacc.home=c:/javacc javacc.
 
And the build for that was failed.
 
And the output is:
 
C:\LUCENE-CURRENT\SOURCE\lucene-1.4.3>ant -Djavacc.home=c:/javacc clean javacc j
ar-core
Buildfile: build.xml
clean:
   [delete] Deleting directory C:\LUCENE-CURRENT\SOURCE\lucene-1.4.3\build
   [delete] Deleting directory C:\LUCENE-CURRENT\SOURCE\lucene-1.4.3\dist
init:
    [mkdir] Created dir: C:\LUCENE-CURRENT\SOURCE\lucene-1.4.3\build
    [mkdir] Created dir: C:\LUCENE-CURRENT\SOURCE\lucene-1.4.3\dist
javacc-check:
javacc-StandardAnalyzer:
    [mkdir] Created dir: C:\LUCENE-CURRENT\SOURCE\lucene-1.4.3\build\gen\org\apa
che\lucene\analysis\standard
invoke-javacc:
     [java] Java Compiler Compiler Version 3.2 (Parser Generator)
     [java] (type "javacc" with no arguments for help)
     [java] Reading from file C:\LUCENE-CURRENT\SOURCE\lucene-1.4.3\src\java\org
\apache\lucene\analysis\standard\StandardTokenizer.jj . . .
     [java] Note: UNICODE_INPUT option is specified. Please make sure you create
 the parser/lexer usig a Reader with the correct character encoding.
     [java] File "TokenMgrError.java" does not exist.  Will create one.
     [java] File "ParseException.java" does not exist.  Will create one.
     [java] File "Token.java" does not exist.  Will create one.
     [java] File "CharStream.java" does not exist.  Will create one.
     [java] Parser generated successfully.
     [copy] Copying 6 files to C:\LUCENE-CURRENT\SOURCE\lucene-1.4.3\src\java\or
g\apache\lucene\analysis\standard
javacc-QueryParser:
invoke-javacc:
     [java] Java Compiler Compiler Version 3.2 (Parser Generator)
     [java] (type "javacc" with no arguments for help)
     [java] Reading from file C:\LUCENE-CURRENT\SOURCE\lucene-1.4.3\src\java\org
\apache\lucene\queryParser\QueryParser.jj . . .
     [java] Warning: Line 608, Column 3: Regular expression for WILDTERM can be
matched by the empty string ("") in lexical state DEFAULT. This can result in an
 endless loop of empty string matches.
     [java] Parser generated with 0 errors and 1 warnings.
javacc-HTMLParser:
invoke-javacc:
     [java] Java Compiler Compiler Version 3.2 (Parser Generator)
     [java] (type "javacc" with no arguments for help)
     [java] Reading from file C:\LUCENE-CURRENT\SOURCE\lucene-1.4.3\src\demo\org
\apache\lucene\demo\html\HTMLParser.jj . . .
     [java] Parser generated successfully.
javacc:
init:
compile-core:
    [mkdir] Created dir: C:\LUCENE-CURRENT\SOURCE\lucene-1.4.3\build\classes\jav
a
    [javac] Compiling 160 source files to C:\LUCENE-CURRENT\SOURCE\lucene-1.4.3\
build\classes\java
    [javac] C:\LUCENE-CURRENT\SOURCE\lucene-1.4.3\src\java\org\apache\lucene\ana
lysis\standard\StandardTokenizer.java:15: cannot find symbol
    [javac] symbol  : class Reader
    [javac] location: class org.apache.lucene.analysis.standard.StandardTokenize
r
    [javac]   public StandardTokenizer(Reader reader) {
    [javac]                            ^
    [javac] C:\LUCENE-CURRENT\SOURCE\lucene-1.4.3\src\java\org\apache\lucene\ana
lysis\standard\StandardTokenizer.java:24: cannot find symbol
    [javac] symbol  : class IOException
    [javac] location: class org.apache.lucene.analysis.standard.StandardTokenize
r
    [javac]   final public org.apache.lucene.analysis.Token next() throws ParseE
xception, IOException {
    [javac]
          ^
    [javac] C:\LUCENE-CURRENT\SOURCE\lucene-1.4.3\src\java\org\apache\lucene\ana
lysis\standard\FastCharStream.java:106: warning: [deprecation] getLine() in org.
apache.lucene.analysis.standard.CharStream has been deprecated
    [javac]   public final int getLine() {
    [javac]                    ^
    [javac] C:\LUCENE-CURRENT\SOURCE\lucene-1.4.3\src\java\org\apache\lucene\ana
lysis\standard\FastCharStream.java:103: warning: [deprecation] getColumn() in or
g.apache.lucene.analysis.standard.CharStream has been deprecated
    [javac]   public final int getColumn() {
    [javac]                    ^
    [javac] C:\LUCENE-CURRENT\SOURCE\lucene-1.4.3\src\java\org\apache\lucene\ana
lysis\standard\StandardTokenizer.java:15: recursive constructor invocation
    [javac]   public StandardTokenizer(Reader reader) {
    [javac]          ^
    [javac] C:\LUCENE-CURRENT\SOURCE\lucene-1.4.3\src\java\org\apache\lucene\que
ryParser\FastCharStream.java:106: warning: [deprecation] getLine() in org.apache
.lucene.queryParser.CharStream has been deprecated
    [javac]   public final int getLine() {
    [javac]                    ^
    [javac] C:\LUCENE-CURRENT\SOURCE\lucene-1.4.3\src\java\org\apache\lucene\que
ryParser\FastCharStream.java:103: warning: [deprecation] getColumn() in org.apac
he.lucene.queryParser.CharStream has been deprecated
    [javac]   public final int getColumn() {
    [javac]                    ^
    [javac] Note: Some input files use unchecked or unsafe operations.
    [javac] Note: Recompile with -Xlint:unchecked for details.
    [javac] 3 errors
    [javac] 4 warnings
BUILD FAILED

 
Thanx,
MTREDDY
 
 


Tirupati Reddy Manyam 
24-06-08, 
Sundugaullee-24, 
79110 Freiburg 
GERMANY. 

Phone: 00497618811257 
cell : 004917624649007

__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 
--0-111420976-1127142188=:98313--

From java-user-return-16489-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 19 16:06:23 2005
Return-Path: <java-user-return-16489-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 43470 invoked from network); 19 Sep 2005 16:06:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Sep 2005 16:06:22 -0000
Received: (qmail 72699 invoked by uid 500); 19 Sep 2005 16:06:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71822 invoked by uid 500); 19 Sep 2005 16:06:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 71807 invoked by uid 99); 19 Sep 2005 16:06:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 19 Sep 2005 09:06:17 -0700
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_20_30,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received: from [206.190.38.237] (HELO web51806.mail.yahoo.com) (206.190.38.237)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 19 Sep 2005 09:06:25 -0700
Received: (qmail 55668 invoked by uid 60001); 19 Sep 2005 16:06:12 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=0QgTu0cNauePS94Z5pGFbPWRf8cyIYSaJrd7dTqBVq+WEHLc+lYrdBas81zLAn3gVLwJsGn4guEMf3lOP/7OTPUKbFOLILWbhM1FNo5lGcp2BsDO4DUlIWyGPbfxTTZtYSgScO7i3wPcPJd5wOmbDamQ+4Uawdgs+pYulEbXOsY=  ;
Message-ID: <20050919160612.55666.qmail@web51806.mail.yahoo.com>
Received: from [66.127.61.92] by web51806.mail.yahoo.com via HTTP; Mon, 19 Sep 2005 09:06:11 PDT
Date: Mon, 19 Sep 2005 09:06:11 -0700 (PDT)
From: James Huang <metaprgmr@yahoo.com>
Subject: Re: Sort by relevance+distance
To: java-user@lucene.apache.org
In-Reply-To: <20050919113110.72443.qmail@web26007.mail.ukl.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-334853588-1127145971=:53503"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-334853588-1127145971=:53503
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

I think this is probably the closest thing I like to/am able to do now. If I ever get to do this, I'll share the idea/code and seek review and suggestions.
 
Thank you very much, Mark, and all others that have helped!
 
-James

mark harwood <markharw00d@yahoo.co.uk> wrote:
I think the HitCollector approach was fine but needed
a couple of changes:
1) use a PriorityQueue subclass in place of the
SortedSet to keep only the top n scoring docs
2) multiply lucene score by a distance measurement
based on the current doc's location (doc location
being read from a cached array of type
Location[reader.maxDoc] )


Cheers
Mark
__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 
--0-334853588-1127145971=:53503--

From java-user-return-16490-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 19 16:24:58 2005
Return-Path: <java-user-return-16490-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50296 invoked from network); 19 Sep 2005 16:24:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Sep 2005 16:24:58 -0000
Received: (qmail 5333 invoked by uid 500); 19 Sep 2005 16:24:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4461 invoked by uid 500); 19 Sep 2005 16:24:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4448 invoked by uid 99); 19 Sep 2005 16:24:52 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 19 Sep 2005 09:24:52 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 19 Sep 2005 09:25:00 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id AB96A13E2006; Mon, 19 Sep 2005 12:24:45 -0400 (EDT)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id DB7F113E2006
	for <java-user@lucene.apache.org>; Mon, 19 Sep 2005 12:24:04 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <20050919150308.98634.qmail@web54302.mail.yahoo.com>
References: <20050919150308.98634.qmail@web54302.mail.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <F2E418D9-8D7A-4CC5-B133-CB09488DA459@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Some problem with prefix wilcard search
Date: Mon, 19 Sep 2005 12:24:02 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-3.9 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Sep 19, 2005, at 11:03 AM, tirupathi reddy wrote:
> C:\LUCENE-CURRENT\SOURCE\lucene-1.4.3>ant -Djavacc.home=c:/javacc  
> javacc
> Buildfile: build.xml
> init:
> javacc-check:
> javacc-StandardAnalyzer:
> invoke-javacc:
>      [java] Java Compiler Compiler Version 3.2 (Parser Generator)
>      [java] (type "javacc" with no arguments for help)
>      [java] Reading from file C:\LUCENE-CURRENT\SOURCE\lucene-1.4.3 
> \src\java\org
> \apache\lucene\analysis\standard\StandardTokenizer.jj . . .
>      [java] Note: UNICODE_INPUT option is specified. Please make  
> sure you create
>  the parser/lexer usig a Reader with the correct character encoding.
>      [java] Parser generated successfully.
>      [copy] Copying 3 files to C:\LUCENE-CURRENT\SOURCE\lucene-1.4.3 
> \src\java\or
> g\apache\lucene\analysis\standard
> javacc-QueryParser:
> invoke-javacc:
>      [java] Java Compiler Compiler Version 3.2 (Parser Generator)
>      [java] (type "javacc" with no arguments for help)
>      [java] Reading from file C:\LUCENE-CURRENT\SOURCE\lucene-1.4.3 
> \src\java\org
> \apache\lucene\queryParser\QueryParser.jj . . .
>      [java] Warning: Line 608, Column 3: Regular expression for  
> WILDTERM can be
> matched by the empty string ("") in lexical state DEFAULT. This can  
> result in an
>  endless loop of empty string matches.

This warning doesn't look good - though maybe it's harmless in this  
case?

> So i run that command after issuing ant command instead of
> ant -Djavacc.home=c:/javacc javacc.
>
> And the build for that was failed.
>
> And the output is:
>
>     [javac] Compiling 160 source files to C:\LUCENE-CURRENT\SOURCE 
> \lucene-1.4.3\
> build\classes\java
>     [javac] C:\LUCENE-CURRENT\SOURCE\lucene-1.4.3\src\java\org 
> \apache\lucene\ana
> lysis\standard\StandardTokenizer.java:15: cannot find symbol
>     [javac] symbol  : class Reader
>     [javac] location: class  
> org.apache.lucene.analysis.standard.StandardTokenize
> r
>     [javac]   public StandardTokenizer(Reader reader) {

So what's the deal with this?  It looks like something is wrong with  
your environment if it cannot resolve java.io.Reader.

What JDK are you building with?

Others - please feel free to jump in and help out.  I've not got much  
time to do anything but guess on the issue here.

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16491-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 19 17:36:35 2005
Return-Path: <java-user-return-16491-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20587 invoked from network); 19 Sep 2005 17:36:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Sep 2005 17:36:34 -0000
Received: (qmail 90360 invoked by uid 500); 19 Sep 2005 17:36:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 90343 invoked by uid 500); 19 Sep 2005 17:36:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 90330 invoked by uid 99); 19 Sep 2005 17:36:27 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 19 Sep 2005 10:36:27 -0700
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_30_40,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received: from [64.233.162.192] (HELO zproxy.gmail.com) (64.233.162.192)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 19 Sep 2005 10:36:35 -0700
Received: by zproxy.gmail.com with SMTP id q3so597016nzb
        for <java-user@lucene.apache.org>; Mon, 19 Sep 2005 10:36:22 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=rnFN9RlRZNlnP1oUPr1Udzdr0YdSq0Z9W6NlYPzq21gGWL26R/3EgwWT7EO0od8dQ8BAHv5TeAsZEioawIF4XOZm18N7Zmrq+46s3VyPF3Sw81bZ1qi/qh9jCL7H4vN2ayzBp+GVpH/XZ0dEZobXDWotpbIviye+rVG4lNT5Vb4=
Received: by 10.54.18.50 with SMTP id 50mr1171469wrr;
        Mon, 19 Sep 2005 10:36:20 -0700 (PDT)
Received: by 10.54.13.32 with HTTP; Mon, 19 Sep 2005 10:36:20 -0700 (PDT)
Message-ID: <50f433360509191036539bb452@mail.gmail.com>
Date: Mon, 19 Sep 2005 10:36:20 -0700
From: Jeff Rodenburg <jeff.rodenburg@gmail.com>
Reply-To: jeff.rodenburg@gmail.com
To: java-user@lucene.apache.org
Subject: Re: Sort by relevance+distance
In-Reply-To: <20050919113110.72443.qmail@web26007.mail.ukl.yahoo.com>
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_12478_13300837.1127151380856"
References: <200509190919.24154.paul.elschot@xs4all.nl>
	 <20050919113110.72443.qmail@web26007.mail.ukl.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_12478_13300837.1127151380856
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

This is interesting, one I had not considered.
Mark - are there any code samples that implement this approach? Or maybe=20
something similar in approach?

thanks,
jeff

On 9/19/05, mark harwood <markharw00d@yahoo.co.uk> wrote:
>=20
> I think the HitCollector approach was fine but needed
> a couple of changes:
> 1) use a PriorityQueue subclass in place of the
> SortedSet to keep only the top n scoring docs
> 2) multiply lucene score by a distance measurement
> based on the current doc's location (doc location
> being read from a cached array of type
> Location[reader.maxDoc] )
>=20
> Cheers
> Mark
>=20
> ___________________________________________________________
> Yahoo! Messenger - NEW crystal clear PC to PC calling worldwide with=20
> voicemail http://uk.messenger.yahoo.com
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>

------=_Part_12478_13300837.1127151380856--

From java-user-return-16492-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 19 18:33:30 2005
Return-Path: <java-user-return-16492-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45434 invoked from network); 19 Sep 2005 18:33:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Sep 2005 18:33:30 -0000
Received: (qmail 79173 invoked by uid 500); 19 Sep 2005 18:33:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 79155 invoked by uid 500); 19 Sep 2005 18:33:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 79142 invoked by uid 99); 19 Sep 2005 18:33:23 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 19 Sep 2005 11:33:23 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received: from [80.67.18.14] (HELO smtprelay02.ispgateway.de) (80.67.18.14)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 19 Sep 2005 11:33:31 -0700
Received: (qmail 25527 invoked from network); 19 Sep 2005 18:33:19 -0000
Received: from unknown (HELO p5496F78F.dip.t-dialin.net) ([pbs]695637@[84.150.247.143])
          (envelope-sender <lucenelist@danielnaber.de>)
          by smtprelay02.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 19 Sep 2005 18:33:19 -0000
From: Daniel Naber <lucenelist@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: Some problem with prefix wilcard search
Date: Mon, 19 Sep 2005 20:33:05 +0200
User-Agent: KMail/1.8
References: <20050919150308.98634.qmail@web54302.mail.yahoo.com> <F2E418D9-8D7A-4CC5-B133-CB09488DA459@ehatchersolutions.com>
In-Reply-To: <F2E418D9-8D7A-4CC5-B133-CB09488DA459@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
Message-Id: <200509192033.05380@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Monday 19 September 2005 18:24, Erik Hatcher wrote:

> So what's the deal with this? =C2=A0It looks like something is wrong with=
 =C2=A0
> your environment if it cannot resolve java.io.Reader.

There once was a problem that the import statement for this was missing in=
=20
the .jj file and thus it's missing in the .java file. Just add it manually=
=20
and recompile.

Regards
 Daniel

=2D-=20
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16493-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 19 18:49:06 2005
Return-Path: <java-user-return-16493-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50440 invoked from network); 19 Sep 2005 18:49:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Sep 2005 18:49:06 -0000
Received: (qmail 90622 invoked by uid 500); 19 Sep 2005 18:49:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 90597 invoked by uid 500); 19 Sep 2005 18:49:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 90584 invoked by uid 99); 19 Sep 2005 18:49:02 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 19 Sep 2005 11:49:02 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received: from [80.67.18.16] (HELO smtprelay04.ispgateway.de) (80.67.18.16)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 19 Sep 2005 11:49:10 -0700
Received: (qmail 32598 invoked from network); 19 Sep 2005 18:48:57 -0000
Received: from unknown (HELO p5496F78F.dip.t-dialin.net) ([pbs]695637@[84.150.247.143])
          (envelope-sender <lucenelist@danielnaber.de>)
          by smtprelay04.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 19 Sep 2005 18:48:57 -0000
From: Daniel Naber <lucenelist@danielnaber.de>
To: java-user@lucene.apache.org
Subject: live update of index used by Tomcat
Date: Mon, 19 Sep 2005 20:48:51 +0200
User-Agent: KMail/1.8
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200509192048.51838@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

I need to merge two indexes into one which is accessed by a Searcher in 
Tomcat. Tomcat keeps the searcher (or reader) open for good performance. 
However, on Windows you cannot delete a file when it's opened for reading, 
so I cannot do the merge while Tomcat is running and the reader is open. 
But I don't want to shut down Tomcat or close the reader (not even for 10 
seconds) because the search needs to be up all the time. Does anybody have 
a clever solution for this problem?

Regards
 Daniel

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16494-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 19 19:46:47 2005
Return-Path: <java-user-return-16494-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82336 invoked from network); 19 Sep 2005 19:46:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Sep 2005 19:46:47 -0000
Received: (qmail 64691 invoked by uid 500); 19 Sep 2005 19:46:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64670 invoked by uid 500); 19 Sep 2005 19:46:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 64657 invoked by uid 500); 19 Sep 2005 19:46:41 -0000
Delivered-To: apmail-jakarta-lucene-user@jakarta.apache.org
Received: (qmail 64654 invoked by uid 99); 19 Sep 2005 19:46:40 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 19 Sep 2005 12:46:40 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [212.33.55.23] (HELO lilzmailso01.liwest.at) (212.33.55.23)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 19 Sep 2005 12:46:48 -0700
Received: from cm66-207.liwest.at ([212.241.66.207] helo=[192.168.0.5])
	by lilzmailso01.liwest.at with esmtp (Exim 4.24)
	id 1EHRb3-0001ci-Ko
	for lucene-user@jakarta.apache.org; Mon, 19 Sep 2005 21:46:37 +0200
Message-ID: <432F1599.8070601@eduhi.at>
Date: Mon, 19 Sep 2005 21:46:33 +0200
From: Gusenbauer Stefan <gusenbauer@eduhi.at>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Relevance Feedback
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Does anyone have experiences with relevance feedback and lucene or just
knows some good websites?
thx
stefan

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16495-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 19 21:02:03 2005
Return-Path: <java-user-return-16495-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15735 invoked from network); 19 Sep 2005 21:02:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Sep 2005 21:02:02 -0000
Received: (qmail 14762 invoked by uid 500); 19 Sep 2005 21:01:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14550 invoked by uid 500); 19 Sep 2005 21:01:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14531 invoked by uid 99); 19 Sep 2005 21:01:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 19 Sep 2005 14:01:56 -0700
X-ASF-Spam-Status: No, hits=-2.5 required=10.0
	tests=HTML_MESSAGE,RCVD_IN_BSP_TRUSTED,SPF_HELO_SOFTFAIL,SPF_SOFTFAIL
X-Spam-Check-By: apache.org
Received: from [64.29.182.13] (HELO mail.mxinteractive.com) (64.29.182.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 19 Sep 2005 14:02:05 -0700
Received: from localhost ([127.0.0.1])
	by mail.mxinteractive.com
	for java-user@lucene.apache.org;
	Mon, 19 Sep 2005 16:56:50 -0400
From: "Daniel Russo" <daniel@mxinteractive.com>
To: <java-user@lucene.apache.org>
Subject: Invalid handle?
Date: Mon, 19 Sep 2005 17:01:13 -0400
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_003E_01C5BD3B.BE15D870"
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
Thread-Index: AcW9XUTMx3oefVGpQcimZ72k9aKBrA==
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
X-Virus-Checked: Checked by ClamAV on apache.org
Message-Id: <20050919210205.E5A4F10FB2DC@asf.osuosl.org>
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_003E_01C5BD3B.BE15D870
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

I'm trying to run a Lucene (1.4.3) index through an RMI server on a Windows
machine, but I'm getting the following error when I try to read some (but
not all) documents from the Hits object:

 

SEVERE: java.io.IOException: The handle is invalid

java.io.IOException: The handle is invalid

        at java.io.RandomAccessFile.seek(Native Method)

        at
org.apache.lucene.store.FSInputStream.readInternal(FSDirectory.java:415)

        at
org.apache.lucene.store.InputStream.readBytes(InputStream.java:61)

        at
org.apache.lucene.index.CompoundFileReader$CSInputStream.readInternal(Compou
ndFileReader.java:220)

        at org.apache.lucene.store.InputStream.refill(InputStream.java:158)

        at org.apache.lucene.store.InputStream.readByte(InputStream.java:43)

        at org.apache.lucene.store.InputStream.readInt(InputStream.java:73)

        at org.apache.lucene.store.InputStream.readLong(InputStream.java:96)

        at org.apache.lucene.index.FieldsReader.doc(FieldsReader.java:59)

        at
org.apache.lucene.index.SegmentReader.document(SegmentReader.java:282)

        at
org.apache.lucene.index.MultiReader.document(MultiReader.java:108)

        at
org.apache.lucene.search.IndexSearcher.doc(IndexSearcher.java:104)

        at org.apache.lucene.search.Hits.doc(Hits.java:101)

 

Does anyone know what could be causing this?  I tried rebuilding the index,
but I still get the same error.  I haven't had this problem with other
indexes that I've built, and I haven't heard of anyone else having this
specific problem, but any suggestions would be greatly appreciated.

 

 

                                           -Dan


------=_NextPart_000_003E_01C5BD3B.BE15D870--



From java-user-return-16496-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 19 22:15:57 2005
Return-Path: <java-user-return-16496-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33834 invoked from network); 19 Sep 2005 22:15:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Sep 2005 22:15:57 -0000
Received: (qmail 11405 invoked by uid 500); 19 Sep 2005 22:15:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11377 invoked by uid 500); 19 Sep 2005 22:15:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 11363 invoked by uid 99); 19 Sep 2005 22:15:51 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 19 Sep 2005 15:15:51 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received: from [217.12.11.33] (HELO smtp002.mail.ukl.yahoo.com) (217.12.11.33)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 19 Sep 2005 15:15:59 -0700
Received: (qmail 55476 invoked from network); 19 Sep 2005 22:15:28 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Received:Message-ID:Date:From:User-Agent:X-Accept-Language:MIME-Version:To:Subject:References:In-Reply-To:Content-Type:Content-Transfer-Encoding;
  b=G00hj1gQ2hSr/zoE163DK8S5IaN7ATaillCH+eNv1gqjXiDkN/RRiy9DFjMlbdZOdYw1J3UzwxF+cXUj8jbXgVZGgqFTkoUchPGL3TPpeyqxJQbYaQWd+GzhN0uI0PZvKrYXZOZTzovUlH877CabnpRNDJNlzPDOZuEyUV+EfP4=  ;
Received: from unknown (HELO ?127.0.0.1?) (markharw00d@194.106.34.5 with plain)
  by smtp002.mail.ukl.yahoo.com with SMTP; 19 Sep 2005 22:15:27 -0000
Message-ID: <432F387E.10209@yahoo.co.uk>
Date: Mon, 19 Sep 2005 23:15:26 +0100
From: markharw00d <markharw00d@yahoo.co.uk>
User-Agent: Mozilla Thunderbird 1.0.5 (Windows/20050711)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Sort by relevance+distance
References: <200509190919.24154.paul.elschot@xs4all.nl>	 <20050919113110.72443.qmail@web26007.mail.ukl.yahoo.com> <50f433360509191036539bb452@mail.gmail.com>
In-Reply-To: <50f433360509191036539bb452@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Here's an example I put together to illustrate the point.


package distance;

import java.io.IOException;
import java.util.ArrayList;

import org.apache.lucene.analysis.Analyzer;
import org.apache.lucene.analysis.WhitespaceAnalyzer;
import org.apache.lucene.document.Document;
import org.apache.lucene.document.Field;
import org.apache.lucene.index.IndexReader;
import org.apache.lucene.index.IndexWriter;
import org.apache.lucene.queryParser.ParseException;
import org.apache.lucene.queryParser.QueryParser;
import org.apache.lucene.search.HitCollector;
import org.apache.lucene.search.IndexSearcher;
import org.apache.lucene.search.Query;
import org.apache.lucene.search.ScoreDoc;
import org.apache.lucene.store.RAMDirectory;
import org.apache.lucene.util.PriorityQueue;

public class TestDistance
{

    private static QueryParser parser;
    private static IndexReader reader;
    private static Location[] locsCache;
    private static IndexSearcher searcher;
    /**
     * @param args
     */
    public static void main(String[] args) throws Exception
    {
        Analyzer analyzer=new WhitespaceAnalyzer();
        RAMDirectory dir=new RAMDirectory();
        IndexWriter writer=new IndexWriter(dir,analyzer,true);
        addDoc(writer,"the faraway mouse", 500,500);
        addDoc(writer,"the semilocal cat", 50,50);
        addDoc(writer,"the local dog", 20,20);
        writer.close();
        searcher=new IndexSearcher(dir);
        parser=new QueryParser("description", analyzer);

        //create location cache
        reader = searcher.getIndexReader();
        ArrayList allLocs=new ArrayList();
        int docCount=reader.numDocs();
        for (int i = 0; i < docCount; i++)
        {
            Document doc=reader.document(i);
            allLocs.add(new Location(
                            Float.parseFloat(doc.get("lat")),
                            Float.parseFloat(doc.get("lon"))
                            )
                        );
        }
        locsCache=new Location[reader.numDocs()];
        locsCache= (Location[]) allLocs.toArray(new 
Location[allLocs.size()]);
       
        //example search 1
        runSearch("the cat");
       
        runSearch("the dog");
       
        runSearch("the mouse");
       
       
    }
   
    private static void runSearch(String queryString) throws 
ParseException, IOException
    {
        System.out.println("query:"+queryString);
        Query query=parser.parse(queryString);
        Location queryLocation=new Location(1f,1f);
        RelevanceAndDistanceCollector collector=new 
RelevanceAndDistanceCollector(10,
                    queryLocation,locsCache);
        searcher.search(query,collector);
        ScoreDoc[] results = collector.getMatches();
        for (int i = 0; i < results.length; i++)
        {
            Document doc=reader.document(results[i].doc);
            System.out.print("["+results[i].doc+"]");
            System.out.print("("+results[i].score+")");
            System.out.println("\t"+doc.get("description"));
        }
        System.out.println("");
    }


    public static void addDoc(IndexWriter writer,String description, 
float lat, float lon) throws IOException
    {
        Document doc=new Document();
        doc.add(Field.UnIndexed("lat", ""+lat));
        doc.add(Field.UnIndexed("lon", ""+lon));
        doc.add(Field.Text("description",description));
        writer.addDocument(doc);       
    }
    static class Location
    {
        float lat;
        float lon;
        public Location(float lat, float lon)
        {
            this.lat=lat;
            this.lon=lon;
        }
        public float distance(Location loc)
        {
            float latDiff = Math.abs(loc.lat-lat);
            float lonDiff = Math.abs(loc.lon-lon);
            float dist=(float) 
Math.sqrt((latDiff*latDiff)+(lonDiff*lonDiff));
            return dist;
        }
       
    }
    static class RelevanceAndDistanceCollector extends HitCollector
    {
        HitQueue hq;
        Location queryLocation;
        float maxDistance=5000;
        private Location[] docLocs;
       
        public RelevanceAndDistanceCollector(int numDocs, Location 
queryLocation, Location[] docLocs)
        {
            this.queryLocation=queryLocation;
            this.docLocs=docLocs;
            hq=new HitQueue(numDocs);
        }
        public void collect(int doc, float score)
        {
            score=score*(maxDistance-queryLocation.distance(docLocs[doc]));
            hq.insert(new ScoreDoc(doc,score));           
        }   
        public ScoreDoc[] getMatches()
        {
            ScoreDoc sd[]=new ScoreDoc[hq.size()];
            while(hq.size()>0)
            {
                sd[hq.size()-1]=(ScoreDoc) hq.pop();
            }
            return sd;
        }
    }
    static  class HitQueue extends PriorityQueue {
          public HitQueue(int size) {
            initialize(size);
          }
          public final boolean lessThan(Object a, Object b) {
            ScoreDoc hitA = (ScoreDoc)a;
            ScoreDoc hitB = (ScoreDoc)b;
            if (hitA.score == hitB.score)
              return hitA.doc > hitB.doc;
            else
              return hitA.score < hitB.score;
          }
        }   

}



		
___________________________________________________________ 
How much free photo storage do you get? Store your holiday 
snaps for FREE with Yahoo! Photos http://uk.photos.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16497-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 19 23:13:46 2005
Return-Path: <java-user-return-16497-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 61248 invoked from network); 19 Sep 2005 23:13:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 19 Sep 2005 23:13:46 -0000
Received: (qmail 88872 invoked by uid 500); 19 Sep 2005 23:13:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88851 invoked by uid 500); 19 Sep 2005 23:13:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88838 invoked by uid 99); 19 Sep 2005 23:13:40 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 19 Sep 2005 16:13:40 -0700
X-ASF-Spam-Status: No, hits=2.5 required=10.0
	tests=FROM_ENDS_IN_NUMS,HTML_00_10,HTML_MESSAGE,RCVD_BY_IP,RCVD_IN_BL_SPAMCOP_NET,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received: from [72.14.204.204] (HELO qproxy.gmail.com) (72.14.204.204)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 19 Sep 2005 16:13:49 -0700
Received: by qproxy.gmail.com with SMTP id c8so195593qbc
        for <java-user@lucene.apache.org>; Mon, 19 Sep 2005 16:12:48 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type;
        b=QRmWECP1Zrnvzo1JNGKVmsmBaUzkgDgb5aDlB04JCNDzR4UlC814R0vmfNvTxciAQZ0qsPLUGRvAt7o2u09j/nqo7Znql3q78vrb2vn20l456tJYtaPrEI/sdNuxBy8PKUl/FIJ7TfFVEcPlASNNPCEhDgk/TB1K1r5WUemiUG8=
Received: by 10.65.112.20 with SMTP id p20mr60755qbm;
        Mon, 19 Sep 2005 16:12:48 -0700 (PDT)
Received: by 10.65.145.3 with HTTP; Mon, 19 Sep 2005 16:12:48 -0700 (PDT)
Message-ID: <7ca1239105091916122a8671a1@mail.gmail.com>
Date: Mon, 19 Sep 2005 16:12:48 -0700
From: jian chen <chenjian1227@gmail.com>
Reply-To: chenjian1227@gmail.com
To: java-user@lucene.apache.org
Subject: storing inverted document as a field
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_38113_12050740.1127171568614"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_38113_12050740.1127171568614
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi,=20

I am playing with Lucene source code and have this somewhat stupid question=
,=20
so please bear with me ;-)

Basically, I want to implement a custom ranking algorithm. That is,=20
iterating through the documents that contains all the search keywords, for=
=20
each document, retrieve its inverted document and rank it based on the=20
inverted document as a whole.

Because of this thought, I want to store the inverted document for each=20
document as a field.=20

My question is, is this kind of data structure fast enough for searching,=
=20
compared to the current Lucene approach where the proximity data is stored=
=20
in the .prx files?

I know Lucene has (sloppy) phrase query, span query, but I am trying to be=
=20
more familar with Lucene by implementing a custom query.=20

Thanks in advance for any suggestion or enlightenment!

Jian

------=_Part_38113_12050740.1127171568614--

From java-user-return-16498-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 20 03:00:10 2005
Return-Path: <java-user-return-16498-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10293 invoked from network); 20 Sep 2005 03:00:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Sep 2005 03:00:09 -0000
Received: (qmail 57501 invoked by uid 500); 20 Sep 2005 03:00:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 57480 invoked by uid 500); 20 Sep 2005 03:00:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 57467 invoked by uid 99); 20 Sep 2005 03:00:04 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 19 Sep 2005 20:00:04 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received: from [208.210.124.75] (HELO thorn.pobox.com) (208.210.124.75)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 19 Sep 2005 20:00:12 -0700
Received: from thorn (localhost [127.0.0.1])
	by thorn.pobox.com (Postfix) with ESMTP id D883B9C
	for <java-user@lucene.apache.org>; Mon, 19 Sep 2005 22:55:04 -0400 (EDT)
Received: from [192.168.0.98] (c-24-12-123-215.hsd1.il.comcast.net [24.12.123.215])
	(using TLSv1 with cipher RC4-SHA (128/128 bits))
	(No client certificate requested)
	by thorn.sasl.smtp.pobox.com (Postfix) with ESMTP id C39CE3BCA
	for <java-user@lucene.apache.org>; Mon, 19 Sep 2005 22:55:04 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
Content-Transfer-Encoding: 7bit
Message-Id: <D5D0BF44-7A86-4E7E-BD82-178715609D12@pobox.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
To: java-user@lucene.apache.org
From: Edward Summers <ehs@pobox.com>
Subject: large index sizes
Date: Mon, 19 Sep 2005 21:59:31 -0500
X-Mailer: Apple Mail (2.734)
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I'm investigating possible alternatives for indexing/searching a very  
large dataset (2TB) of xml data from the pubmed  database[1]. Does  
anyone have any experience working with indexes of this size? Granted  
the actual index size would be smaller than the source files, but I'm  
just curious how big the largest known lucene indexes are, and what  
sort of hardware they run on...assuming they're not behind closed  
doors at the Dept of Homeland Security ;-)

//Ed

[1] http://www.ncbi.nlm.nih.gov/entrez

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16499-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 20 04:40:36 2005
Return-Path: <java-user-return-16499-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 39060 invoked from network); 20 Sep 2005 04:40:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Sep 2005 04:40:36 -0000
Received: (qmail 47951 invoked by uid 500); 20 Sep 2005 04:40:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47914 invoked by uid 500); 20 Sep 2005 04:40:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47900 invoked by uid 99); 20 Sep 2005 04:40:31 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 19 Sep 2005 21:40:31 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [207.155.252.47] (HELO goliath.cnchost.com) (207.155.252.47)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 19 Sep 2005 21:40:38 -0700
Received: from [10.65.1.20] (222-153-86-213.jetstream.xtra.co.nz [222.153.86.213])
	by goliath.cnchost.com
	id AAA05083; Tue, 20 Sep 2005 00:40:14 -0400 (EDT)
	[ConcentricHost SMTP Relay 1.17]
Errors-To: <richard@reeltwo.com>
Message-ID: <432F92A9.9010205@reeltwo.com>
Date: Tue, 20 Sep 2005 16:40:09 +1200
From: Richard Littin <richard@reeltwo.com>
Organization: Reel Two NZ
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.7.11) Gecko/20050729
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: large index sizes
References: <D5D0BF44-7A86-4E7E-BD82-178715609D12@pobox.com>
In-Reply-To: <D5D0BF44-7A86-4E7E-BD82-178715609D12@pobox.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi Edward,

We have indexed the MedLine data.  We used the default StopAnalyzer on 
the full text fields (fields that are more than just dates or ids) and 
the default Keyword for the other fields.  So the index has the short 
fields stored in it and just indexing for the larger fields.  In our 
application we store the MedLine text in a MySQL database and link 
between the Lucene index and database via a synthetic key generated by 
the database and stored in the lucene index.  The sizes of things on 
disk are:

lucene index: 6.9GB
mysql db: 30.0 GB

The original compressed xml data is about 7.5GB.  We also annotate the 
MedLine data and store that in Lucene index and the database.  The 
annotations would be less that 20% of the of the index.  Also I'm not 
sure that we index/store all the information available in the MedLine xml.

We run a search web service that uses the Lucene index for searching and 
the database for data retrieval.  This runs on a fairly standard 3.0GHz 
P4 with 2GB memory (will easially run in 1G of memory but you go with 
what you've got) and has about 1T of disk (raided across four 400GB 
disks).  The machine is a linux box, RedHat Fedora Core 3 and the web 
services are served up via jakarta tomcat (all code is Java).  A similar 
spec'd machine is used to build the index and database, although we tend 
to use 64bit AMDs as they allow access to more memory (bigger Lucene 
RAMDirectorys).  Takes about 2 days to build the database and lucene index.

We have another dataset which has a 27GB lucene index and well over 
100GB in the database.  The only issue we have had with Lucene is the 
speed at which you can access data from these large indexes.  By this I 
mean obtaining the synthetic key that links the Lucene index to the 
database.  We got around this issue by creating a separate array of 
synthetic keys (they are ints) that is indexed by lucene document id.  
This array is persisted as a file on disk and uses java.nio to memory 
map it.

Hope this is of some help.

Richard

> I'm investigating possible alternatives for indexing/searching a very  
> large dataset (2TB) of xml data from the pubmed  database[1]. Does  
> anyone have any experience working with indexes of this size? Granted  
> the actual index size would be smaller than the source files, but I'm  
> just curious how big the largest known lucene indexes are, and what  
> sort of hardware they run on...assuming they're not behind closed  
> doors at the Dept of Homeland Security ;-)
>
> //Ed
>
> [1] http://www.ncbi.nlm.nih.gov/entrez
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


-- 
Richard Littin, Reel Two NZ, PO Box 1538, Hamilton, New Zealand
richard@reeltwo.com - ph: +64 7 857 0703 - fax: +64 7 857 0701
void main(){float x=0;while(putchar((long)((x<4)?(((6.6667*x-34.5)
*x+50.8333)*x+++82):(((-7.5*x+97)*x-398.5)*x+++619)))-10);}


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16500-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 20 06:23:03 2005
Return-Path: <java-user-return-16500-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 63936 invoked from network); 20 Sep 2005 06:23:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Sep 2005 06:23:03 -0000
Received: (qmail 31873 invoked by uid 500); 20 Sep 2005 06:22:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31754 invoked by uid 500); 20 Sep 2005 06:22:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31725 invoked by uid 99); 20 Sep 2005 06:22:47 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 19 Sep 2005 23:22:47 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FORGED_RCVD_HELO,SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received: from [129.177.30.12] (HELO noralf.uib.no) (129.177.30.12)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 19 Sep 2005 23:22:55 -0700
Received: from alfred.uib.no (smtp.uib.no) [129.177.30.120] 
	by noralf.uib.no with esmtp  (Exim 4.34)
	id 1EHbWP-0001EU-CC; Tue, 20 Sep 2005 08:22:30 +0200
Received: from ([192.168.1.51]) [129.177.90.112] 
	by smtp.uib.no for java-user@lucene.apache.org with esmtp (Exim 4.34)
	id 1EHbWP-0006F6-28; Tue, 20 Sep 2005 08:22:29 +0200
Message-ID: <432FAB39.8040809@broadpark.no>
Date: Tue, 20 Sep 2005 08:24:57 +0200
From: Magne Skjeret <magne.skjeret@broadpark.no>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: "Best-practice" in a web application
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-checked-clean: by exiscan on noralf
X-Scanner: a4db1df4feee99307613a03f41dc6057 http://tjinfo.uib.no/virus.html
X-UiB-SpamFlag: NO UIB: -9.4 hits, 8.0 required
X-UiB-SpamReport: spamassassin found;
  -9.0 Message received from UIB
 -0.4 Did not pass through any untrusted hosts
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi

I am using lucene to index all my data, and it is working just great.

I will now add search to a web application, so the index can actually be
used, not just sit there.

I know how to to this, but I have been going around thinking on what is
the best practice. Speed is essential for me.

1. Can a search be performed while the index is beeing updated (add/delete)?

2. Should I create a IndexSearcher for each search?
   Or should I have 1 IndexSearcher for everyone? If, it is threadsafe,
or do I queue? Or should I create a pool of IndexSearchers?

3. Do I need to close the IndexSearcher while or after a index update
operation?


Cheers,
Magne

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16501-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 20 06:56:08 2005
Return-Path: <java-user-return-16501-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 73273 invoked from network); 20 Sep 2005 06:56:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Sep 2005 06:56:08 -0000
Received: (qmail 74948 invoked by uid 500); 20 Sep 2005 06:56:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 74040 invoked by uid 500); 20 Sep 2005 06:55:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 74027 invoked by uid 99); 20 Sep 2005 06:55:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 19 Sep 2005 23:55:53 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received: from [206.190.38.233] (HELO web51802.mail.yahoo.com) (206.190.38.233)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 19 Sep 2005 23:56:01 -0700
Received: (qmail 58976 invoked by uid 60001); 20 Sep 2005 06:55:39 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=2Ntc7UT6sRh/KsWKktdC6TPKQ2Lt3pn9wCSjwc8jpCyqriQem9puf/IlabbDJNvfeTdWiWkYrBoRbFYDtigfUO38UIICyoaTIWtiCHSUpIXSjMh9Avtey7pdB5iCjPFqXeIYopWw3YIp6VAgQhVM+vQiKpnIXNr33Pc32Czy7Ug=  ;
Message-ID: <20050920065539.58974.qmail@web51802.mail.yahoo.com>
Received: from [66.127.61.92] by web51802.mail.yahoo.com via HTTP; Mon, 19 Sep 2005 23:55:38 PDT
Date: Mon, 19 Sep 2005 23:55:38 -0700 (PDT)
From: James Huang <metaprgmr@yahoo.com>
Subject: Re: Sort by relevance+distance
To: java-user@lucene.apache.org
In-Reply-To: <432F387E.10209@yahoo.co.uk>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Cool! Only one question: if we have 

class RelevanceAndDistanceCollector extends
HitCollector
{
    public ScoreDoc[] getMatches(int start, int size)
    {
        ...
    }
}

and a call of getMatches(10000, 25); would not cache
as many as 10000+ docs, would it? Remember this is the
whole point of this exercise -- scalability -- just
want to make sure.

Thanks,
-James


--- markharw00d <markharw00d@yahoo.co.uk> wrote:

> Here's an example I put together to illustrate the
> point.
> 
> 
> package distance;
> 
> import java.io.IOException;
> import java.util.ArrayList;
> 
> import org.apache.lucene.analysis.Analyzer;
> import
> org.apache.lucene.analysis.WhitespaceAnalyzer;
> import org.apache.lucene.document.Document;
> import org.apache.lucene.document.Field;
> import org.apache.lucene.index.IndexReader;
> import org.apache.lucene.index.IndexWriter;
> import org.apache.lucene.queryParser.ParseException;
> import org.apache.lucene.queryParser.QueryParser;
> import org.apache.lucene.search.HitCollector;
> import org.apache.lucene.search.IndexSearcher;
> import org.apache.lucene.search.Query;
> import org.apache.lucene.search.ScoreDoc;
> import org.apache.lucene.store.RAMDirectory;
> import org.apache.lucene.util.PriorityQueue;
> 
> public class TestDistance
> {
> 
>     private static QueryParser parser;
>     private static IndexReader reader;
>     private static Location[] locsCache;
>     private static IndexSearcher searcher;
>     /**
>      * @param args
>      */
>     public static void main(String[] args) throws
> Exception
>     {
>         Analyzer analyzer=new WhitespaceAnalyzer();
>         RAMDirectory dir=new RAMDirectory();
>         IndexWriter writer=new
> IndexWriter(dir,analyzer,true);
>         addDoc(writer,"the faraway mouse", 500,500);
>         addDoc(writer,"the semilocal cat", 50,50);
>         addDoc(writer,"the local dog", 20,20);
>         writer.close();
>         searcher=new IndexSearcher(dir);
>         parser=new QueryParser("description",
> analyzer);
> 
>         //create location cache
>         reader = searcher.getIndexReader();
>         ArrayList allLocs=new ArrayList();
>         int docCount=reader.numDocs();
>         for (int i = 0; i < docCount; i++)
>         {
>             Document doc=reader.document(i);
>             allLocs.add(new Location(
>                            
> Float.parseFloat(doc.get("lat")),
>                            
> Float.parseFloat(doc.get("lon"))
>                             )
>                         );
>         }
>         locsCache=new Location[reader.numDocs()];
>         locsCache= (Location[]) allLocs.toArray(new 
> Location[allLocs.size()]);
>        
>         //example search 1
>         runSearch("the cat");
>        
>         runSearch("the dog");
>        
>         runSearch("the mouse");
>        
>        
>     }
>    
>     private static void runSearch(String
> queryString) throws 
> ParseException, IOException
>     {
>         System.out.println("query:"+queryString);
>         Query query=parser.parse(queryString);
>         Location queryLocation=new Location(1f,1f);
>         RelevanceAndDistanceCollector collector=new 
> RelevanceAndDistanceCollector(10,
>                     queryLocation,locsCache);
>         searcher.search(query,collector);
>         ScoreDoc[] results = collector.getMatches();
>         for (int i = 0; i < results.length; i++)
>         {
>             Document
> doc=reader.document(results[i].doc);
>            
> System.out.print("["+results[i].doc+"]");
>            
> System.out.print("("+results[i].score+")");
>            
> System.out.println("\t"+doc.get("description"));
>         }
>         System.out.println("");
>     }
> 
> 
>     public static void addDoc(IndexWriter
> writer,String description, 
> float lat, float lon) throws IOException
>     {
>         Document doc=new Document();
>         doc.add(Field.UnIndexed("lat", ""+lat));
>         doc.add(Field.UnIndexed("lon", ""+lon));
>        
> doc.add(Field.Text("description",description));
>         writer.addDocument(doc);       
>     }
>     static class Location
>     {
>         float lat;
>         float lon;
>         public Location(float lat, float lon)
>         {
>             this.lat=lat;
>             this.lon=lon;
>         }
>         public float distance(Location loc)
>         {
>             float latDiff = Math.abs(loc.lat-lat);
>             float lonDiff = Math.abs(loc.lon-lon);
>             float dist=(float) 
> Math.sqrt((latDiff*latDiff)+(lonDiff*lonDiff));
>             return dist;
>         }
>        
>     }
>     static class RelevanceAndDistanceCollector
> extends HitCollector
>     {
>         HitQueue hq;
>         Location queryLocation;
>         float maxDistance=5000;
>         private Location[] docLocs;
>        
>         public RelevanceAndDistanceCollector(int
> numDocs, Location 
> queryLocation, Location[] docLocs)
>         {
>             this.queryLocation=queryLocation;
>             this.docLocs=docLocs;
>             hq=new HitQueue(numDocs);
>         }
>         public void collect(int doc, float score)
>         {
>            
>
score=score*(maxDistance-queryLocation.distance(docLocs[doc]));
>             hq.insert(new ScoreDoc(doc,score));     
>      
>         }   
>         public ScoreDoc[] getMatches()
>         {
>             ScoreDoc sd[]=new ScoreDoc[hq.size()];
>             while(hq.size()>0)
>             {
>                 sd[hq.size()-1]=(ScoreDoc) hq.pop();
>             }
>             return sd;
>         }
>     }
>     static  class HitQueue extends PriorityQueue {
>           public HitQueue(int size) {
>             initialize(size);
>           }
>           public final boolean lessThan(Object a,
> Object b) {
>             ScoreDoc hitA = (ScoreDoc)a;
>             ScoreDoc hitB = (ScoreDoc)b;
>             if (hitA.score == hitB.score)
>               return hitA.doc > hitB.doc;
>             else
>               return hitA.score < hitB.score;
>           }
>         }   
> 
> }
> 
> 
> 
> 		
>
___________________________________________________________
> 
> How much free photo storage do you get? Store your
> holiday 
> snaps for FREE with Yahoo! Photos
> http://uk.photos.yahoo.com
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail:
> java-user-help@lucene.apache.org
> 
=== message truncated ===


__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16502-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 20 10:13:37 2005
Return-Path: <java-user-return-16502-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 46906 invoked from network); 20 Sep 2005 10:13:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Sep 2005 10:13:37 -0000
Received: (qmail 98988 invoked by uid 500); 20 Sep 2005 10:13:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 98958 invoked by uid 500); 20 Sep 2005 10:13:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 98944 invoked by uid 99); 20 Sep 2005 10:13:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Sep 2005 03:13:29 -0700
X-ASF-Spam-Status: No, hits=1.6 required=10.0
	tests=FORGED_RCVD_HELO,RCVD_NUMERIC_HELO
X-Spam-Check-By: apache.org
Received: from [66.160.149.192] (HELO kitsite.com) (66.160.149.192)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 20 Sep 2005 03:13:37 -0700
Received: from 81.6.252.200 ([81.6.252.200]) by kitsite.com for <java-user@lucene.apache.org>; Tue, 20 Sep 2005 03:13:15 -0700
Message-ID: <432FE0E1.4020605@kitsite.com>
Date: Tue, 20 Sep 2005 11:13:53 +0100
From: kieran <kieran@kitsite.com>
User-Agent: Mozilla Thunderbird 0.8 (X11/20040913)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: (TermInfosReader, SegmentTermEnum) Out Of Memory Exception patch
References: <20050920065539.58974.qmail@web51802.mail.yahoo.com>
In-Reply-To: <20050920065539.58974.qmail@web51802.mail.yahoo.com>
Content-Type: multipart/mixed;
 boundary="------------010007060106050103070305"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--------------010007060106050103070305
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

We've been experiencing terrible memory problems on our production 
search server, running lucene (1.4.3).

Our live app regularly opens new indexes and, in doing so, releases old 
IndexReaders for garbage collection.

But...there appears to be a memory leak in 
org.apache.lucene.index.TermInfosReader.java.
Under certain conditions (possibly related to JVM version, although I've 
personally observed it under both linux JVM 1.4.2_06, and 1.5.0_03, and 
SUNOS JVM 1.4.1) the ThreadLocal member variable, "enumerators" doesn't 
get garbage-collected when the TermInfosReader object is gc-ed.

Looking at the code in TermInfosReader.java, there's no reason why it 
_shouldn't_ be gc-ed, so I can only presume (and I've seen this 
suggested elsewhere) that there could be a bug in the garbage collector 
of some JVMs.

I've seen this problem briefly discussed; in particular at the following 
URL:
   http://java2.5341.com/msg/85821.html
The patch that Doug recommended, which is included in lucene-1.4.3 
doesn't work in our particular circumstances. Doug's patch only clears 
the ThreadLocal variable for the thread running the finalizer (my 
knowledge of java breaks down here - I'm not sure which thread actually 
runs the finalizer). In our situation, the TermInfosReader is 
(potentially) used by more than one thread, meaning that Doug's patch 
_doesn't_ allow the affected JVMs to correctly collect garbage.

So...I've devised a simple patch which, from my observations on linux 
JVMs 1.4.2_06, and 1.5.0_03, fixes this problem.

I've thought of submitting this to the project as a patch, but the 
lucene bugzilla account is disabled at the moment so...see the diff, 
below, and the attached, patched, file:

Kieran

21a22
 > import java.util.Hashtable;
32c33
<   private ThreadLocal enumerators = new ThreadLocal();
---
 >   private final Hashtable enumeratorsByThread = new Hashtable();
63c64
<     SegmentTermEnum termEnum = (SegmentTermEnum)enumerators.get();
---
 >     SegmentTermEnum termEnum = 
(SegmentTermEnum)enumeratorsByThread.get(Thread.currentThread());
66c67
<       enumerators.set(termEnum);
---
 >       enumeratorsByThread.put(Thread.currentThread(), termEnum);
197a199,208
 >   }
 >
 >   /* some jvms might have trouble gc-ing enumeratorsByThread */
 >   protected void finalize() throws Throwable {
 >     try {
 >         // make sure gc can clear up.
 >         enumeratorsByThread.clear();
 >     } finally {
 >         super.finalize();
 >     }


--------------010007060106050103070305
Content-Type: text/x-java;
 name="TermInfosReader.java"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline;
 filename="TermInfosReader.java"

package org.apache.lucene.index;

/**
 * Copyright 2004 The Apache Software Foundation
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

import java.io.IOException;

import org.apache.lucene.store.Directory;
import java.util.Hashtable;

/** This stores a monotonically increasing set of <Term, TermInfo> pairs in a
 * Directory.  Pairs are accessed either by Term or by ordinal position the
 * set.  */

final class TermInfosReader {
  private Directory directory;
  private String segment;
  private FieldInfos fieldInfos;

  private final Hashtable enumeratorsByThread = new Hashtable();
  private SegmentTermEnum origEnum;
  private long size;

  TermInfosReader(Directory dir, String seg, FieldInfos fis)
       throws IOException {
    directory = dir;
    segment = seg;
    fieldInfos = fis;

    origEnum = new SegmentTermEnum(directory.openFile(segment + ".tis"),
                                   fieldInfos, false);
    size = origEnum.size;
    readIndex();
  }

  public int getSkipInterval() {
    return origEnum.skipInterval;
  }

  final void close() throws IOException {
    if (origEnum != null)
      origEnum.close();
  }

  /** Returns the number of term/value pairs in the set. */
  final long size() {
    return size;
  }

  private SegmentTermEnum getEnum() {
    SegmentTermEnum termEnum = (SegmentTermEnum)enumeratorsByThread.get(Thread.currentThread());
    if (termEnum == null) {
      termEnum = terms();
      enumeratorsByThread.put(Thread.currentThread(), termEnum);
    }
    return termEnum;
  }

  Term[] indexTerms = null;
  TermInfo[] indexInfos;
  long[] indexPointers;

  private final void readIndex() throws IOException {
    SegmentTermEnum indexEnum =
      new SegmentTermEnum(directory.openFile(segment + ".tii"),
			  fieldInfos, true);
    try {
      int indexSize = (int)indexEnum.size;

      indexTerms = new Term[indexSize];
      indexInfos = new TermInfo[indexSize];
      indexPointers = new long[indexSize];

      for (int i = 0; indexEnum.next(); i++) {
	indexTerms[i] = indexEnum.term();
	indexInfos[i] = indexEnum.termInfo();
	indexPointers[i] = indexEnum.indexPointer;
      }
    } finally {
      indexEnum.close();
    }
  }

  /** Returns the offset of the greatest index entry which is less than or equal to term.*/
  private final int getIndexOffset(Term term) throws IOException {
    int lo = 0;					  // binary search indexTerms[]
    int hi = indexTerms.length - 1;

    while (hi >= lo) {
      int mid = (lo + hi) >> 1;
      int delta = term.compareTo(indexTerms[mid]);
      if (delta < 0)
	hi = mid - 1;
      else if (delta > 0)
	lo = mid + 1;
      else
	return mid;
    }
    return hi;
  }

  private final void seekEnum(int indexOffset) throws IOException {
    getEnum().seek(indexPointers[indexOffset],
	      (indexOffset * getEnum().indexInterval) - 1,
	      indexTerms[indexOffset], indexInfos[indexOffset]);
  }

  /** Returns the TermInfo for a Term in the set, or null. */
  TermInfo get(Term term) throws IOException {
    if (size == 0) return null;

    // optimize sequential access: first try scanning cached enum w/o seeking
    SegmentTermEnum enumerator = getEnum();
    if (enumerator.term() != null                 // term is at or past current
	&& ((enumerator.prev != null && term.compareTo(enumerator.prev) > 0)
	    || term.compareTo(enumerator.term()) >= 0)) {
      int enumOffset = (int)(enumerator.position/enumerator.indexInterval)+1;
      if (indexTerms.length == enumOffset	  // but before end of block
	  || term.compareTo(indexTerms[enumOffset]) < 0)
	return scanEnum(term);			  // no need to seek
    }

    // random-access: must seek
    seekEnum(getIndexOffset(term));
    return scanEnum(term);
  }

  /** Scans within block for matching term. */
  private final TermInfo scanEnum(Term term) throws IOException {
    SegmentTermEnum enumerator = getEnum();
    while (term.compareTo(enumerator.term()) > 0 && enumerator.next()) {}
    if (enumerator.term() != null && term.compareTo(enumerator.term()) == 0)
      return enumerator.termInfo();
    else
      return null;
  }

  /** Returns the nth term in the set. */
  final Term get(int position) throws IOException {
    if (size == 0) return null;

    SegmentTermEnum enumerator = getEnum();
    if (enumerator != null && enumerator.term() != null &&
        position >= enumerator.position &&
	position < (enumerator.position + enumerator.indexInterval))
      return scanEnum(position);		  // can avoid seek

    seekEnum(position / enumerator.indexInterval); // must seek
    return scanEnum(position);
  }

  private final Term scanEnum(int position) throws IOException {
    SegmentTermEnum enumerator = getEnum();
    while(enumerator.position < position)
      if (!enumerator.next())
	return null;

    return enumerator.term();
  }

  /** Returns the position of a Term in the set or -1. */
  final long getPosition(Term term) throws IOException {
    if (size == 0) return -1;

    int indexOffset = getIndexOffset(term);
    seekEnum(indexOffset);

    SegmentTermEnum enumerator = getEnum();
    while(term.compareTo(enumerator.term()) > 0 && enumerator.next()) {}

    if (term.compareTo(enumerator.term()) == 0)
      return enumerator.position;
    else
      return -1;
  }

  /** Returns an enumeration of all the Terms and TermInfos in the set. */
  public SegmentTermEnum terms() {
    return (SegmentTermEnum)origEnum.clone();
  }

  /** Returns an enumeration of terms starting at or after the named term. */
  public SegmentTermEnum terms(Term term) throws IOException {
    get(term);
    return (SegmentTermEnum)getEnum().clone();
  }

  /* some jvms might have trouble gc-ing enumeratorsByThread */ 
  protected void finalize() throws Throwable {
    try {
        // make sure gc can clear up.
        enumeratorsByThread.clear();
    } finally {
        super.finalize();
    }
  }
}


--------------010007060106050103070305
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
--------------010007060106050103070305--

From java-user-return-16503-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 20 10:50:15 2005
Return-Path: <java-user-return-16503-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 59119 invoked from network); 20 Sep 2005 10:50:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Sep 2005 10:50:15 -0000
Received: (qmail 44292 invoked by uid 500); 20 Sep 2005 10:50:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43406 invoked by uid 500); 20 Sep 2005 10:50:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43392 invoked by uid 99); 20 Sep 2005 10:50:09 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Sep 2005 03:50:09 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Sep 2005 03:50:17 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 4C6EF13E2006; Tue, 20 Sep 2005 06:49:56 -0400 (EDT)
Received: from [172.16.1.101] (va-71-48-138-146.dhcp.sprint-hsd.net [71.48.138.146])
	by ehatchersolutions.com (Postfix) with ESMTP id 08DB713E2006
	for <java-user@lucene.apache.org>; Tue, 20 Sep 2005 06:49:51 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <432FAB39.8040809@broadpark.no>
References: <432FAB39.8040809@broadpark.no>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <7A75534E-E502-4F95-A85F-7AC1316AE441@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: "Best-practice" in a web application
Date: Tue, 20 Sep 2005 06:49:48 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Sep 20, 2005, at 2:24 AM, Magne Skjeret wrote:
> I am using lucene to index all my data, and it is working just great.
>
> I will now add search to a web application, so the index can  
> actually be
> used, not just sit there.

Good idea... it'd be a shame for the index to sit unsearched!  :)

> 1. Can a search be performed while the index is beeing updated (add/ 
> delete)?

Yes, no problem with searches occurring during add/delete  
operations.  The searches will not see new documents and still return  
deleted documents until a new IndexSearcher instance is used, though.

> 2. Should I create a IndexSearcher for each search?
>    Or should I have 1 IndexSearcher for everyone? If, it is  
> threadsafe,
> or do I queue? Or should I create a pool of IndexSearchers?

For best performance, use a single IndexSearcher instance across your  
entire application.

> 3. Do I need to close the IndexSearcher while or after a index update
> operation?

When you want index changes to be visible to searches, drop the old  
IndexSearcher instance and instantiate a new one.

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16504-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 20 12:06:59 2005
Return-Path: <java-user-return-16504-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 96285 invoked from network); 20 Sep 2005 12:06:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Sep 2005 12:06:59 -0000
Received: (qmail 61605 invoked by uid 500); 20 Sep 2005 12:06:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 61583 invoked by uid 500); 20 Sep 2005 12:06:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 61570 invoked by uid 99); 20 Sep 2005 12:06:51 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Sep 2005 05:06:51 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [128.230.248.25] (HELO gwia201.syr.edu) (128.230.248.25)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Sep 2005 05:06:59 -0700
Received: from MTA2-MTA by gwia201.syr.edu
	with Novell_GroupWise; Tue, 20 Sep 2005 08:06:38 -0400
Message-Id: <s32fc30e.091@gwia201.syr.edu>
X-Mailer: Novell GroupWise Internet Agent 6.5.1 
Date: Tue, 20 Sep 2005 08:06:24 -0400
From: "Grant Ingersoll" <GSIngers@syr.edu>
To: <java-user@lucene.apache.org>
Subject: Re: Relevance Feedback
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I have implemented (more or less)  Rochio rel. feedback.  You have to
make some minor modifications b/c Lucene doesn't support boost values
less than 0, but other than it is pretty straightforward using the
TermVector support.  At feedback time, get the TermVector for the top X
documents and construct a new query using the frequencies of the terms
for boosting (maybe multiplying by the alpha, beta, gamma parameters if
you want).  I seem to recall others posting that they have implemented
similar things, so you may want to search the archive of this list.

I used the description in "Modern Information Retrieval" by Baeza-Yates
and Ribeiro-Neto for the algorithm.

>>> gusenbauer@eduhi.at 09/19/05 3:46 PM >>>
Does anyone have experiences with relevance feedback and lucene or
just
knows some good websites?
thx
stefan

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org 
For additional commands, e-mail: java-user-help@lucene.apache.org 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16505-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 20 12:53:17 2005
Return-Path: <java-user-return-16505-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16621 invoked from network); 20 Sep 2005 12:53:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Sep 2005 12:53:16 -0000
Received: (qmail 45907 invoked by uid 500); 20 Sep 2005 12:53:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45650 invoked by uid 500); 20 Sep 2005 12:53:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45555 invoked by uid 99); 20 Sep 2005 12:53:05 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Sep 2005 05:53:05 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [193.194.158.19] (HELO exchange.bvdep.com) (193.194.158.19)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Sep 2005 05:53:12 -0700
Content-Class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Subject: RE: live update of index used by Tomcat
Date: Tue, 20 Sep 2005 14:52:49 +0200
Message-ID: <950FF7DE40C2B64CAF80B564732927E104B302CE@exchange.be.bvd>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: live update of index used by Tomcat
thread-index: AcW9StLjeR+cqWzCRmOpkMlnlF6Y8AAjQPUg
From: "Vanlerberghe, Luc" <Luc.Vanlerberghe@bvdep.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

You should keep your IndexReader open until the merge has finished, but
also until there are no more Hits Objects that depend on it (tricky in
multithreaded environments like tomcat).

The fact that the files cannot be deleted immediately after the merge is
no problem.  The filenames will be stored in the file 'deletable' and
Lucene will attempt to delete them on the next IndexWriter action (or so
I assume).
New IndexReader instances will only open the new files.

I solved the problem like this:

Objects that need the results of a search get an IndexSearcher instance
from a factory, do the search, use the Hits Object and then close the
IndexSearcher instance. That is, they behave as if they are using a
single new IndexReader each time.

The factory doesn't pass a Lucene IndexSearcher Object, but an instance
of a class called "DelayCloseIndexSearcher" that extends IndexSearcher.
The same instance is passed to all callers until a change in index
version is detected (using IndexReader.getCurrentVersion()), but each
time its usage count is incremented.
DelayCloseIndexSearcher overrides the close() method so it does not
close immediately: it only decrements the usage counter.  Only when the
factory signals that it has become obsolete (by calling mayClose()) and
after the usage count has dropped to 0, it calls super.close();

In my current implementation the factory checks if the index has changed
every time an IndexSearcher is required, but this could be changed to
happen only every few seconds, or even in a separate thread so no
searchers are blocked while the next DelayCloseIndexSearcher instance is
opening...

I can post the code and testcases if you're interested.

Luc


-----Original Message-----
From: Daniel Naber [mailto:lucenelist@danielnaber.de]=20
Sent: maandag 19 september 2005 20:49
To: java-user@lucene.apache.org
Subject: live update of index used by Tomcat

Hi,

I need to merge two indexes into one which is accessed by a Searcher in=20
Tomcat. Tomcat keeps the searcher (or reader) open for good performance.

However, on Windows you cannot delete a file when it's opened for
reading,=20
so I cannot do the merge while Tomcat is running and the reader is open.

But I don't want to shut down Tomcat or close the reader (not even for
10=20
seconds) because the search needs to be up all the time. Does anybody
have=20
a clever solution for this problem?

Regards
 Daniel

--=20
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16506-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 20 14:45:54 2005
Return-Path: <java-user-return-16506-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 77286 invoked from network); 20 Sep 2005 14:45:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Sep 2005 14:45:54 -0000
Received: (qmail 7564 invoked by uid 500); 20 Sep 2005 14:45:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7538 invoked by uid 500); 20 Sep 2005 14:45:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 98961 invoked by uid 500); 20 Sep 2005 14:40:07 -0000
Delivered-To: apmail-jakarta-lucene-user@jakarta.apache.org
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_30_40,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type;
        b=UtmEXa68KnKf5tXE5odLJ7YSiYshy8xkQl8h9JW/dGayavOYMcOn01BSAcuukKx2eesyvcv9p6VT29h+n9wU7/swqB+H7B0Ya2MdX8i9pj74us+B21TAfg07LQMVMfGJqgxxtEpIJ4qYBrmgGotX7u6TYWS+pJZiufaCvs/gAdE=
Message-ID: <cb1a9400509200739239fb72b@mail.gmail.com>
Date: Tue, 20 Sep 2005 08:39:54 -0600
From: haipeng du <haipengdu@gmail.com>
Reply-To: haipengdu@gmail.com
To: lucene-dev@jakarta.apache.org, lucene-user@jakarta.apache.org
Subject: date keyword
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_40090_15522947.1127227194155"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_40090_15522947.1127227194155
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I use lucene to index a key word with date object. When I search document,=
=20
how could I process the searching result for that field? For example:
index date with=20
Field field =3D Field.Keyword("created", new Date);
.....
......
When I search that, I get that field back
Field f =3D doc.getField("created").
but value of that field is just like=20
0edtel52h
How could I process that to get Date object back?
Thanks a lot.=20

--=20
Haipeng Du
Software Engineer
Comphealth,=20
Salt Lake City

------=_Part_40090_15522947.1127227194155--

From java-user-return-16507-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 20 16:11:34 2005
Return-Path: <java-user-return-16507-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23114 invoked from network); 20 Sep 2005 16:11:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Sep 2005 16:11:34 -0000
Received: (qmail 14874 invoked by uid 500); 20 Sep 2005 16:11:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14698 invoked by uid 500); 20 Sep 2005 16:11:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14600 invoked by uid 99); 20 Sep 2005 16:11:10 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Sep 2005 09:11:10 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [192.35.35.7] (HELO mailgw3a.lmco.com) (192.35.35.7)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Sep 2005 09:11:17 -0700
Received: from emss04g01.ems.lmco.com (relay4.ems.lmco.com [166.17.13.122])
	by mailgw3a.lmco.com (8.12.10/8.12.10) with ESMTP id j8KFp5uI010605;
	Tue, 20 Sep 2005 12:10:53 -0400 (EDT)
Received: from CONVERSION-DAEMON.lmco.com by lmco.com (PMDF V6.1-1X6 #30884) id <0IN400I01F3UXB@lmco.com>; Tue,
 20 Sep 2005 11:05:37 -0400 (EDT)
Received: from EMSS10M01.us.lmco.com ([158.187.0.150]) by lmco.com (PMDF V6.1-1X6 #30884)
 with ESMTP id <0IN400H9NF77BN@lmco.com>; Tue, 20 Sep 2005 11:04:19 -0400 (EDT)
Received: from EMSS10M03.us.lmco.com ([158.187.0.148]) by EMSS10M01.us.lmco.com with Microsoft SMTPSVC(5.0.2195.6713); Tue,
 20 Sep 2005 11:04:19 -0400
Date: Tue, 20 Sep 2005 11:04:18 -0400
From: "Mordo, Aviran (EXP N-NANNATEK)" <aviran.mordo@lmco.com>
Subject: RE: date keyword
To: java-user@lucene.apache.org, haipengdu@gmail.com
Message-id: <92A278501EF50444AD3EE1FFB51219550BCE396B@emss10m03.us.lmco.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6603.0
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT
Thread-Topic: date keyword
Thread-Index: AcW98hXVH2ticcsBRcKFd6ApGo5l+wAAkZ3g
content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-OriginalArrivalTime: 20 Sep 2005 15:04:19.0081 (UTC) FILETIME=[934BB790:01C5BDF4]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Lucene only uses strings to store and search, you should convert any
objects to string.
For dates you have a special Date field that you should use which
converts dated to a searchable strings

Aviran
http://www.aviransplace.com 

-----Original Message-----
From: haipeng du [mailto:haipengdu@gmail.com] 
Sent: Tuesday, September 20, 2005 10:40 AM
To: lucene-dev@jakarta.apache.org; lucene-user@jakarta.apache.org
Subject: date keyword

I use lucene to index a key word with date object. When I search
document, how could I process the searching result for that field? For
example:
index date with
Field field = Field.Keyword("created", new Date); .....
......
When I search that, I get that field back Field f =
doc.getField("created").
but value of that field is just like
0edtel52h
How could I process that to get Date object back?
Thanks a lot. 

--
Haipeng Du
Software Engineer
Comphealth,
Salt Lake City


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16508-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 20 17:04:09 2005
Return-Path: <java-user-return-16508-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 43650 invoked from network); 20 Sep 2005 17:04:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Sep 2005 17:04:08 -0000
Received: (qmail 29017 invoked by uid 500); 20 Sep 2005 17:04:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 28990 invoked by uid 500); 20 Sep 2005 17:04:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 15474 invoked by uid 99); 20 Sep 2005 16:55:48 -0000
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_30_40,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of haipengdu@gmail.com designates 64.233.162.193 as permitted sender)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=Ho4rkuCwPsSEz04j4fN9qryINBgsjipf2D2gPn+02RsJ9Pp3duQsBt3nAhezKTIdIJ86iVfgtUUrktPtL2fuqI23RjSL8dWLKAeia40q1qgBWmuvXpZ6o6OkIv8UPtq8lSBbq1RpbdkqSvh0x2c9YLo2nDLdFs5NGPYk8hw5+i4=
Message-ID: <cb1a94005092009556772600e@mail.gmail.com>
Date: Tue, 20 Sep 2005 10:55:28 -0600
From: haipeng du <haipengdu@gmail.com>
Reply-To: haipengdu@gmail.com
To: java-user@lucene.apache.org
Subject: Re: date keyword
In-Reply-To: <92A278501EF50444AD3EE1FFB51219550BCE396B@emss10m03.us.lmco.com>
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_40940_13207531.1127235328459"
References: <92A278501EF50444AD3EE1FFB51219550BCE396B@emss10m03.us.lmco.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_40940_13207531.1127235328459
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I understand that. But from Field API, there is a method of Keyword which=
=20
accepts Date object as value. When I use that method to index, I can not ge=
t=20
real date back. I also use other method to pass a string value to index.=20
That works great. Does that mean I can not use that method to index keyword=
?
Thanks a lot.
Haipeng

On 9/20/05, Mordo, Aviran (EXP N-NANNATEK) <aviran.mordo@lmco.com> wrote:
>=20
> Lucene only uses strings to store and search, you should convert any
> objects to string.
> For dates you have a special Date field that you should use which
> converts dated to a searchable strings
>=20
> Aviran
> http://www.aviransplace.com
>=20
> -----Original Message-----
> From: haipeng du [mailto:haipengdu@gmail.com]
> Sent: Tuesday, September 20, 2005 10:40 AM
> To: lucene-dev@jakarta.apache.org; lucene-user@jakarta.apache.org
> Subject: date keyword
>=20
> I use lucene to index a key word with date object. When I search
> document, how could I process the searching result for that field? For
> example:
> index date with
> Field field =3D Field.Keyword("created", new Date); .....
> ......
> When I search that, I get that field back Field f =3D
> doc.getField("created").
> but value of that field is just like
> 0edtel52h
> How could I process that to get Date object back?
> Thanks a lot.
>=20
> --
> Haipeng Du
> Software Engineer
> Comphealth,
> Salt Lake City
>=20
>=20


--=20
Haipeng Du
Software Engineer
Comphealth,=20
Salt Lake City

------=_Part_40940_13207531.1127235328459--

From java-user-return-16509-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 20 17:09:52 2005
Return-Path: <java-user-return-16509-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 47033 invoked from network); 20 Sep 2005 17:09:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Sep 2005 17:09:52 -0000
Received: (qmail 42098 invoked by uid 500); 20 Sep 2005 17:09:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42070 invoked by uid 500); 20 Sep 2005 17:09:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42057 invoked by uid 99); 20 Sep 2005 17:09:46 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Sep 2005 10:09:46 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Sep 2005 10:09:54 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 77F0713E2033; Tue, 20 Sep 2005 13:09:25 -0400 (EDT)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 9AA1713E2006
	for <java-user@lucene.apache.org>; Tue, 20 Sep 2005 13:08:52 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <cb1a94005092009556772600e@mail.gmail.com>
References: <92A278501EF50444AD3EE1FFB51219550BCE396B@emss10m03.us.lmco.com> <cb1a94005092009556772600e@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <A15CB4AA-ECD7-4077-B965-116E25AE9C4A@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: date keyword
Date: Tue, 20 Sep 2005 13:08:47 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-3.4 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Sep 20, 2005, at 12:55 PM, haipeng du wrote:
> I understand that. But from Field API, there is a method of Keyword  
> which
> accepts Date object as value. When I use that method to index, I  
> can not get
> real date back. I also use other method to pass a string value to  
> index.
> That works great. Does that mean I can not use that method to index  
> keyword?
> Thanks a lot.

Have a look at DateField.stringToDate:

     <http://lucene.apache.org/java/docs/api/org/apache/lucene/ 
document/DateField.html#stringToDate(java.lang.String)>

Please also check the wiki, Lucene in Action, and the e-mail list  
archives if you are searching by date.  Lots of caveats apply.

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16510-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 20 17:59:26 2005
Return-Path: <java-user-return-16510-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 69940 invoked from network); 20 Sep 2005 17:59:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Sep 2005 17:59:26 -0000
Received: (qmail 31375 invoked by uid 500); 20 Sep 2005 17:59:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30511 invoked by uid 500); 20 Sep 2005 17:59:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30498 invoked by uid 99); 20 Sep 2005 17:59:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Sep 2005 10:59:20 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lucenelist@danielnaber.de designates 80.67.18.13 as permitted sender)
Received: from [80.67.18.13] (HELO smtprelay01.ispgateway.de) (80.67.18.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Sep 2005 10:59:28 -0700
Received: (qmail 15845 invoked from network); 20 Sep 2005 17:59:00 -0000
Received: from unknown (HELO p5496C30C.dip.t-dialin.net) ([pbs]695637@[84.150.195.12])
          (envelope-sender <lucenelist@danielnaber.de>)
          by smtprelay01.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 20 Sep 2005 17:59:00 -0000
From: Daniel Naber <lucenelist@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: (TermInfosReader, SegmentTermEnum) Out Of Memory Exception patch
Date: Tue, 20 Sep 2005 19:58:56 +0200
User-Agent: KMail/1.8
References: <20050920065539.58974.qmail@web51802.mail.yahoo.com> <432FE0E1.4020605@kitsite.com>
In-Reply-To: <432FE0E1.4020605@kitsite.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200509201958.57019@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Tuesday 20 September 2005 12:13, kieran wrote:

> I've thought of submitting this to the project as a patch, but the
> lucene bugzilla account is disabled at the moment so...see the diff,
> below, and the attached, patched, file:

We've moved to JIRA but the link on our web page isn't updated yet:
http://issues.apache.org/jira/browse/LUCENE

Please create a report there and attach your patch (using diff -u is 
preferred, BTW).

Regards
 Daniel

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16511-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 20 18:14:50 2005
Return-Path: <java-user-return-16511-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 74911 invoked from network); 20 Sep 2005 18:14:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Sep 2005 18:14:50 -0000
Received: (qmail 56837 invoked by uid 500); 20 Sep 2005 18:14:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 56819 invoked by uid 500); 20 Sep 2005 18:14:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 56806 invoked by uid 99); 20 Sep 2005 18:14:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Sep 2005 11:14:44 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.12.11.33] (HELO smtp002.mail.ukl.yahoo.com) (217.12.11.33)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 20 Sep 2005 11:14:51 -0700
Received: (qmail 93848 invoked from network); 20 Sep 2005 18:14:25 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Received:Message-ID:Date:From:User-Agent:X-Accept-Language:MIME-Version:To:Subject:References:In-Reply-To:Content-Type:Content-Transfer-Encoding;
  b=rUdyuhy/N8jCPiyhdZCCKbWPozDx+L2xMKkimOmxsDo1FZjs93H0OvtPf3LW6uxzUB43CYBziT0RtTFvGyvtQjUIrFYbGqPcvCOldS2DCJAL+TDWy4fmnQTtXDeb89a3v6egXBBI1gbK5Q24cu/7Dpu36hvrDjR/LF84MbY1pxI=  ;
Received: from unknown (HELO ?127.0.0.1?) (markharw00d@194.106.34.5 with plain)
  by smtp002.mail.ukl.yahoo.com with SMTP; 20 Sep 2005 18:14:24 -0000
Message-ID: <4330517F.5090006@yahoo.co.uk>
Date: Tue, 20 Sep 2005 19:14:23 +0100
From: markharw00d <markharw00d@yahoo.co.uk>
User-Agent: Mozilla Thunderbird 1.0.5 (Windows/20050711)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Sort by relevance+distance
References: <20050920065539.58974.qmail@web51802.mail.yahoo.com>
In-Reply-To: <20050920065539.58974.qmail@web51802.mail.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

To avoid caching 10,025 docs when you only want to see 10,000 to 10,025
(and assuming the user was paging through results) you might have to 
remember the lowest score  used in the previous page of results to avoid 
adding those 10,000 docs with score > lastLowScore
to the HitQueue again.




		
___________________________________________________________ 
How much free photo storage do you get? Store your holiday 
snaps for FREE with Yahoo! Photos http://uk.photos.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16512-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 20 19:14:26 2005
Return-Path: <java-user-return-16512-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97189 invoked from network); 20 Sep 2005 19:14:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Sep 2005 19:14:25 -0000
Received: (qmail 64752 invoked by uid 500); 20 Sep 2005 19:14:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64651 invoked by uid 500); 20 Sep 2005 19:14:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 64605 invoked by uid 99); 20 Sep 2005 19:14:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Sep 2005 12:14:16 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [129.97.152.11] (HELO services04.student.cs.uwaterloo.ca) (129.97.152.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Sep 2005 12:14:22 -0700
Received: from rees.math.uwaterloo.ca (daemon@rees.math.uwaterloo.ca [129.97.204.28])
	by services04.student.cs.uwaterloo.ca (8.11.7/8.11.7) with ESMTP id j8KJDq723162
	(using TLSv1/SSLv3 with cipher EDH-RSA-DES-CBC3-SHA (168 bits) verified NO)
	for <java-user@lucene.apache.org>; Tue, 20 Sep 2005 15:13:54 -0400 (EDT)
Received: (from pgwillia@localhost)
	by rees.math.uwaterloo.ca (8.11.7/8.11.7) id j8KJDoj00855;
	Tue, 20 Sep 2005 15:13:50 -0400 (EDT)
Date: Tue, 20 Sep 2005 15:13:50 -0400 (EDT)
From: Tricia Williams <pgwillia@student.cs.uwaterloo.ca>
X-X-Sender: pgwillia@rees.math.uwaterloo.ca
To: java-user@lucene.apache.org
Subject: Storing HashMap as an UnIndexed Field
In-Reply-To: <4330517F.5090006@yahoo.co.uk>
Message-ID: <Pine.GSO.4.58.0509201507530.9246@rees.math.uwaterloo.ca>
References: <20050920065539.58974.qmail@web51802.mail.yahoo.com>
 <4330517F.5090006@yahoo.co.uk>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-2.0 (services04.student.cs.uwaterloo.ca [129.97.152.11]); Tue, 20 Sep 2005 15:13:54 -0400 (EDT)
X-Miltered: at rhadamanthus with ID 43305F71.004 by Joe's j-chkmail (http://j-chkmail.ensmp.fr)!
X-Virus-Scanned: ClamAV version 0.86.2, clamav-milter version 0.86 on localhost
X-Virus-Status: Clean
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

   I'd like to store a HashMap for some extra data to be used when a given
document is retrieved as a Hit for a query.  To add an UnIndexed Field
to an index takes only Strings as parameters.  Does anyone have any
suggestions on how I might convert the HashMap to a String that is
efficiently recomposed into the desired HashMap on the other end?

Thanks,
Tricia


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16513-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 20 19:25:08 2005
Return-Path: <java-user-return-16513-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 6681 invoked from network); 20 Sep 2005 19:25:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Sep 2005 19:25:07 -0000
Received: (qmail 85327 invoked by uid 500); 20 Sep 2005 19:24:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 85287 invoked by uid 500); 20 Sep 2005 19:24:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 85256 invoked by uid 99); 20 Sep 2005 19:24:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Sep 2005 12:24:56 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.35.35.7] (HELO mailgw3a.lmco.com) (192.35.35.7)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Sep 2005 12:25:04 -0700
Received: from emss09g01.ems.lmco.com (relay6.ems.lmco.com [166.17.13.59])
	by mailgw3a.lmco.com (8.12.10/8.12.10) with ESMTP id j8KJObUW027185
	for <java-user@lucene.apache.org>; Tue, 20 Sep 2005 15:24:38 -0400 (EDT)
Received: from CONVERSION-DAEMON.lmco.com by lmco.com (PMDF V6.1-1X6 #30875)
 id <0IN400301R910E@lmco.com> for java-user@lucene.apache.org; Tue, 20 Sep 2005 15:24:37 -0400 (EDT)
Received: from EMSS09I00.us.lmco.com ([158.183.26.31]) by lmco.com (PMDF V6.1-1X6 #30875)
 with ESMTP id <0IN400D6YR91Q3@lmco.com> for java-user@lucene.apache.org; Tue, 20 Sep 2005 15:24:37 -0400 (EDT)
Received: from EMSS09I01.us.lmco.com ([158.183.26.24]) by EMSS09I00.us.lmco.com with Microsoft SMTPSVC(5.0.2195.6713); Tue,
 20 Sep 2005 15:24:37 -0400
Received: from EMSS10M01.us.lmco.com ([158.187.0.150]) by EMSS09I01.us.lmco.com with Microsoft SMTPSVC(5.0.2195.6713); Tue,
 20 Sep 2005 15:24:37 -0400
Received: from EMSS10M03.us.lmco.com ([158.187.0.148]) by EMSS10M01.us.lmco.com with Microsoft SMTPSVC(5.0.2195.6713); Tue,
 20 Sep 2005 15:24:37 -0400
Date: Tue, 20 Sep 2005 15:24:37 -0400
From: "Mordo, Aviran (EXP N-NANNATEK)" <aviran.mordo@lmco.com>
Subject: RE: Storing HashMap as an UnIndexed Field
To: java-user@lucene.apache.org
Message-id: <92A278501EF50444AD3EE1FFB51219550BCE396C@emss10m03.us.lmco.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6603.0
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT
Thread-Topic: Storing HashMap as an UnIndexed Field
Thread-Index: AcW+F70B/dgfsv4mQy2v82AvGCAmvQAAQd2A
content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-OriginalArrivalTime: 20 Sep 2005 19:24:37.0385 (UTC) FILETIME=[F087C790:01C5BE18]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

You can store the values as a coma separated string (which then you'll
need to parse manually back to a HashMap) 

-----Original Message-----
From: Tricia Williams [mailto:pgwillia@student.cs.uwaterloo.ca] 
Sent: Tuesday, September 20, 2005 3:14 PM
To: java-user@lucene.apache.org
Subject: Storing HashMap as an UnIndexed Field

Hi,

   I'd like to store a HashMap for some extra data to be used when a
given document is retrieved as a Hit for a query.  To add an UnIndexed
Field to an index takes only Strings as parameters.  Does anyone have
any suggestions on how I might convert the HashMap to a String that is
efficiently recomposed into the desired HashMap on the other end?

Thanks,
Tricia


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16514-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 20 19:30:10 2005
Return-Path: <java-user-return-16514-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 9113 invoked from network); 20 Sep 2005 19:30:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Sep 2005 19:30:09 -0000
Received: (qmail 97841 invoked by uid 500); 20 Sep 2005 19:30:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 97752 invoked by uid 500); 20 Sep 2005 19:30:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 97739 invoked by uid 99); 20 Sep 2005 19:30:02 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Sep 2005 12:30:02 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [129.97.152.11] (HELO services04.student.cs.uwaterloo.ca) (129.97.152.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Sep 2005 12:30:11 -0700
Received: from rees.math.uwaterloo.ca (daemon@rees.math.uwaterloo.ca [129.97.204.28])
	by services04.student.cs.uwaterloo.ca (8.11.7/8.11.7) with ESMTP id j8KJTg725110
	(using TLSv1/SSLv3 with cipher EDH-RSA-DES-CBC3-SHA (168 bits) verified NO)
	for <java-user@lucene.apache.org>; Tue, 20 Sep 2005 15:29:44 -0400 (EDT)
Received: (from pgwillia@localhost)
	by rees.math.uwaterloo.ca (8.11.7/8.11.7) id j8KJTgx02789;
	Tue, 20 Sep 2005 15:29:42 -0400 (EDT)
Date: Tue, 20 Sep 2005 15:29:42 -0400 (EDT)
From: Tricia Williams <pgwillia@student.cs.uwaterloo.ca>
X-X-Sender: pgwillia@rees.math.uwaterloo.ca
To: java-user@lucene.apache.org
Subject: RE: Storing HashMap as an UnIndexed Field
In-Reply-To: <92A278501EF50444AD3EE1FFB51219550BCE396C@emss10m03.us.lmco.com>
Message-ID: <Pine.GSO.4.58.0509201528531.9246@rees.math.uwaterloo.ca>
References: <92A278501EF50444AD3EE1FFB51219550BCE396C@emss10m03.us.lmco.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-2.0 (services04.student.cs.uwaterloo.ca [129.97.152.11]); Tue, 20 Sep 2005 15:29:44 -0400 (EDT)
X-Miltered: at rhadamanthus with ID 43306327.002 by Joe's j-chkmail (http://j-chkmail.ensmp.fr)!
X-Virus-Scanned: ClamAV version 0.86.2, clamav-milter version 0.86 on localhost
X-Virus-Status: Clean
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Do you think there is anyway that I could use the serialization already
built into the HashMap data structure?

On Tue, 20 Sep 2005, Mordo, Aviran (EXP N-NANNATEK) wrote:

> You can store the values as a coma separated string (which then you'll
> need to parse manually back to a HashMap)
>
> -----Original Message-----
> From: Tricia Williams [mailto:pgwillia@student.cs.uwaterloo.ca]
> Sent: Tuesday, September 20, 2005 3:14 PM
> To: java-user@lucene.apache.org
> Subject: Storing HashMap as an UnIndexed Field
>
> Hi,
>
>    I'd like to store a HashMap for some extra data to be used when a
> given document is retrieved as a Hit for a query.  To add an UnIndexed
> Field to an index takes only Strings as parameters.  Does anyone have
> any suggestions on how I might convert the HashMap to a String that is
> efficiently recomposed into the desired HashMap on the other end?
>
> Thanks,
> Tricia
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16515-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 20 19:33:50 2005
Return-Path: <java-user-return-16515-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10604 invoked from network); 20 Sep 2005 19:33:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Sep 2005 19:33:50 -0000
Received: (qmail 4547 invoked by uid 500); 20 Sep 2005 19:33:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4297 invoked by uid 500); 20 Sep 2005 19:33:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4284 invoked by uid 99); 20 Sep 2005 19:33:45 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Sep 2005 12:33:45 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [212.227.126.183] (HELO moutng.kundenserver.de) (212.227.126.183)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Sep 2005 12:33:51 -0700
Received: from 59-113-67-108.dynamic.hinet.net [59.113.67.108] (helo=[127.0.0.1])
	by mrelayeu.kundenserver.de with ESMTP (Nemesis),
	id 0ML2Dk-1EHnrn0Cw9-0008Vr; Tue, 20 Sep 2005 21:33:23 +0200
Message-ID: <433061D2.20104@matrix-web.de>
Date: Wed, 21 Sep 2005 03:24:02 +0800
From: =?ISO-8859-1?Q?Matthias_Br=E4uer?= <newsletter@matrix-web.de>
Reply-To:  matthew@matrix-web.de
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: de-DE, de, en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: "Best-practice" in a web application AND live update of index
 used by Tomcat
References: <432FAB39.8040809@broadpark.no> <7A75534E-E502-4F95-A85F-7AC1316AE441@ehatchersolutions.com>
In-Reply-To: <7A75534E-E502-4F95-A85F-7AC1316AE441@ehatchersolutions.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Provags-ID: kundenserver.de abuse@kundenserver.de login:db97d52989a6103bdc81fbf3f8dc5f8f
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,

I have a question regarding your answers to two previous posts:


 >For best performance, use a single IndexSearcher instance across your  
entire application.

 >DelayCloseIndexSearcher overrides the close() method so it does not
 >close immediately: it only decrements the usage counter. [...]


I have implemented a Client-Server application where a desktop program 
on a file server regularly updates an index while a web application 
running on Tomcat on the same server answers queries against this index. 
Currently the index is not built incrementally.

Now, the problem is that if I have an open IndexReader (or Searcher or 
Luke Toolbox, respectively), it is impossible to update the index 
because I get IOExceptions ala "Cannot delete _7.cfs". This even happens 
if the conflicting IndexReader isn't doing anything but just sitting 
still inside a Searcher to wait for the next query. So, does that mean I 
have to close the searcher after each request to let the indexer do its 
work? Or is there a way to tell Lucene that the IndexReader is only 
reading and not writing anything.

Thanks for your help,
Matthias



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16516-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 20 19:38:42 2005
Return-Path: <java-user-return-16516-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13425 invoked from network); 20 Sep 2005 19:38:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Sep 2005 19:38:41 -0000
Received: (qmail 14901 invoked by uid 500); 20 Sep 2005 19:38:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14872 invoked by uid 500); 20 Sep 2005 19:38:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14858 invoked by uid 99); 20 Sep 2005 19:38:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Sep 2005 12:38:35 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Sep 2005 12:38:43 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 00C4C13E2006; Tue, 20 Sep 2005 15:38:17 -0400 (EDT)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 68DBB13E2006
	for <java-user@lucene.apache.org>; Tue, 20 Sep 2005 15:37:57 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <Pine.GSO.4.58.0509201528531.9246@rees.math.uwaterloo.ca>
References: <92A278501EF50444AD3EE1FFB51219550BCE396C@emss10m03.us.lmco.com> <Pine.GSO.4.58.0509201528531.9246@rees.math.uwaterloo.ca>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <7A588CFD-4A29-45A5-A442-5D2C9EAD9B13@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Storing HashMap as an UnIndexed Field
Date: Tue, 20 Sep 2005 15:37:54 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-3.3 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Sep 20, 2005, at 3:29 PM, Tricia Williams wrote:
> Do you think there is anyway that I could use the serialization  
> already
> built into the HashMap data structure?

A Document, when reconstituted from Hits, is essentially a glorified  
HashMap-like structure.  I recommend you simply iterate your HashMap  
during indexing and add each entry to the Document as a Field.Keyword  
or as an unindexed field.  It may be slightly more code than doing  
some type of serialization/de-serialization, but not by much.

     Erik


>
> On Tue, 20 Sep 2005, Mordo, Aviran (EXP N-NANNATEK) wrote:
>
>
>> You can store the values as a coma separated string (which then  
>> you'll
>> need to parse manually back to a HashMap)
>>
>> -----Original Message-----
>> From: Tricia Williams [mailto:pgwillia@student.cs.uwaterloo.ca]
>> Sent: Tuesday, September 20, 2005 3:14 PM
>> To: java-user@lucene.apache.org
>> Subject: Storing HashMap as an UnIndexed Field
>>
>> Hi,
>>
>>    I'd like to store a HashMap for some extra data to be used when a
>> given document is retrieved as a Hit for a query.  To add an  
>> UnIndexed
>> Field to an index takes only Strings as parameters.  Does anyone have
>> any suggestions on how I might convert the HashMap to a String  
>> that is
>> efficiently recomposed into the desired HashMap on the other end?
>>
>> Thanks,
>> Tricia
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16517-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 20 19:39:23 2005
Return-Path: <java-user-return-16517-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13827 invoked from network); 20 Sep 2005 19:39:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Sep 2005 19:39:23 -0000
Received: (qmail 17711 invoked by uid 500); 20 Sep 2005 19:39:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17680 invoked by uid 500); 20 Sep 2005 19:39:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17667 invoked by uid 99); 20 Sep 2005 19:39:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Sep 2005 12:39:17 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.35.35.7] (HELO mailgw3a.lmco.com) (192.35.35.7)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Sep 2005 12:39:25 -0700
Received: from emss04g01.ems.lmco.com (relay4.ems.lmco.com [166.17.13.122])
	by mailgw3a.lmco.com (8.12.10/8.12.10) with ESMTP id j8KJcxUW004506
	for <java-user@lucene.apache.org>; Tue, 20 Sep 2005 15:38:59 -0400 (EDT)
Received: from CONVERSION-DAEMON.lmco.com by lmco.com (PMDF V6.1-1X6 #30884)
 id <0IN400101RWZPO@lmco.com> for java-user@lucene.apache.org; Tue, 20 Sep 2005 15:38:59 -0400 (EDT)
Received: from EMSS10M01.us.lmco.com ([158.187.0.150]) by lmco.com (PMDF V6.1-1X6 #30884)
 with ESMTP id <0IN4001N9RWZON@lmco.com> for java-user@lucene.apache.org; Tue, 20 Sep 2005 15:38:59 -0400 (EDT)
Received: from EMSS10M03.us.lmco.com ([158.187.0.148]) by EMSS10M01.us.lmco.com with Microsoft SMTPSVC(5.0.2195.6713); Tue,
 20 Sep 2005 15:38:58 -0400
Date: Tue, 20 Sep 2005 15:38:58 -0400
From: "Mordo, Aviran (EXP N-NANNATEK)" <aviran.mordo@lmco.com>
Subject: RE: Storing HashMap as an UnIndexed Field
To: java-user@lucene.apache.org
Message-id: <92A278501EF50444AD3EE1FFB51219550BCE396D@emss10m03.us.lmco.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6603.0
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT
Thread-Topic: Storing HashMap as an UnIndexed Field
Thread-Index: AcW+GevTqXqy3jKkT/WdbKfP6tQEnQAADLyw
content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-OriginalArrivalTime: 20 Sep 2005 19:38:58.0973 (UTC) FILETIME=[F213ACD0:01C5BE1A]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I can't think of a way you can use serialization, since lucene only
works with strings. 

-----Original Message-----
From: Tricia Williams [mailto:pgwillia@student.cs.uwaterloo.ca] 
Sent: Tuesday, September 20, 2005 3:30 PM
To: java-user@lucene.apache.org
Subject: RE: Storing HashMap as an UnIndexed Field

Do you think there is anyway that I could use the serialization already
built into the HashMap data structure?

On Tue, 20 Sep 2005, Mordo, Aviran (EXP N-NANNATEK) wrote:

> You can store the values as a coma separated string (which then you'll

> need to parse manually back to a HashMap)
>
> -----Original Message-----
> From: Tricia Williams [mailto:pgwillia@student.cs.uwaterloo.ca]
> Sent: Tuesday, September 20, 2005 3:14 PM
> To: java-user@lucene.apache.org
> Subject: Storing HashMap as an UnIndexed Field
>
> Hi,
>
>    I'd like to store a HashMap for some extra data to be used when a 
> given document is retrieved as a Hit for a query.  To add an UnIndexed

> Field to an index takes only Strings as parameters.  Does anyone have 
> any suggestions on how I might convert the HashMap to a String that is

> efficiently recomposed into the desired HashMap on the other end?
>
> Thanks,
> Tricia
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16518-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 20 20:04:17 2005
Return-Path: <java-user-return-16518-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 21866 invoked from network); 20 Sep 2005 20:04:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Sep 2005 20:04:16 -0000
Received: (qmail 63831 invoked by uid 500); 20 Sep 2005 20:04:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 63812 invoked by uid 500); 20 Sep 2005 20:04:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63798 invoked by uid 99); 20 Sep 2005 20:04:10 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Sep 2005 13:04:10 -0700
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_20_30,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.49.119] (HELO web54309.mail.yahoo.com) (206.190.49.119)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 20 Sep 2005 13:04:18 -0700
Received: (qmail 5408 invoked by uid 60001); 20 Sep 2005 20:03:52 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=b62IVMWneQ8/LkNtWr9yiGQ+D6onz8pM6vshhGHds55aSd+zjuHHNjcyJAYHmcIretWMRM9H2J6paVj2vcopeSogDoa4D834VIxOfc9QoEsoR3+ClXRX73Ry3hvV72ZgQAwG1zMJCBC+CV2FyrKTSh8tNdedMYXsJj+vR2MYCjg=  ;
Message-ID: <20050920200352.5406.qmail@web54309.mail.yahoo.com>
Received: from [141.70.115.175] by web54309.mail.yahoo.com via HTTP; Tue, 20 Sep 2005 13:03:52 PDT
Date: Tue, 20 Sep 2005 13:03:52 -0700 (PDT)
From: tirupathi reddy <tirupathireddy_m@yahoo.com>
Subject: How the default ranking works
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1100836340-1127246632=:4950"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-1100836340-1127246632=:4950
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Hello,
 
   How the hits are ranked in default case. If I have say some query like this:
 
title:"measurement procedure" AND id:ep6289*
 
Say I have some 10 documents matched with that query, how my hits will be displayed. Which record will display first and how it will do the ranking in default case. And also think that I don't have any sort Field.
 
Please give me some resources where I can read all about Indexing, Ranking of Lucene.
 
Thanx,
MTREDDY 


Tirupati Reddy Manyam 
24-06-08, 
Sundugaullee-24, 
79110 Freiburg 
GERMANY. 

Phone: 00497618811257 
cell : 004917624649007

__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 
--0-1100836340-1127246632=:4950--

From java-user-return-16519-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 20 20:11:03 2005
Return-Path: <java-user-return-16519-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24676 invoked from network); 20 Sep 2005 20:11:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Sep 2005 20:11:03 -0000
Received: (qmail 75845 invoked by uid 500); 20 Sep 2005 20:10:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75820 invoked by uid 500); 20 Sep 2005 20:10:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75807 invoked by uid 99); 20 Sep 2005 20:10:57 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Sep 2005 13:10:57 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Sep 2005 13:11:06 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 1C01313E2006; Tue, 20 Sep 2005 16:10:40 -0400 (EDT)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 5D8C413E2006
	for <java-user@lucene.apache.org>; Tue, 20 Sep 2005 16:10:34 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <20050920200352.5406.qmail@web54309.mail.yahoo.com>
References: <20050920200352.5406.qmail@web54309.mail.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <06C96546-231B-4061-A8F1-9056F1FDF7AE@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: How the default ranking works
Date: Tue, 20 Sep 2005 16:10:31 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-3.3 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Sep 20, 2005, at 4:03 PM, tirupathi reddy wrote:
>    How the hits are ranked in default case. If I have say some  
> query like this:
>
> title:"measurement procedure" AND id:ep6289*
>
> Say I have some 10 documents matched with that query, how my hits  
> will be displayed. Which record will display first and how it will  
> do the ranking in default case. And also think that I don't have  
> any sort Field.
>
> Please give me some resources where I can read all about Indexing,  
> Ranking of Lucene.

To dig through it yourself, check out IndexSearcher.explain().  To  
dig deeper, look at the javadocs on Similarity.

There is of course a bit on scoring in "Lucene in Action":

     <http://www.lucenebook.com/search?query=scoring>

You have a copy of this book, right?!  :)

Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16520-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 20 20:13:21 2005
Return-Path: <java-user-return-16520-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25469 invoked from network); 20 Sep 2005 20:13:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Sep 2005 20:13:20 -0000
Received: (qmail 82434 invoked by uid 500); 20 Sep 2005 20:13:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82410 invoked by uid 500); 20 Sep 2005 20:13:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 82397 invoked by uid 99); 20 Sep 2005 20:13:15 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Sep 2005 13:13:15 -0700
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=FROM_ENDS_IN_NUMS,HTML_30_40,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of chenjian1227@gmail.com designates 72.14.204.204 as permitted sender)
Received: from [72.14.204.204] (HELO qproxy.gmail.com) (72.14.204.204)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Sep 2005 13:13:24 -0700
Received: by qproxy.gmail.com with SMTP id e11so286911qba
        for <java-user@lucene.apache.org>; Tue, 20 Sep 2005 13:12:58 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=q91Np//yIH0zo6MRNsKTxRZLztaSggGCyYtR+B8IfbnEzaBG6pyTLzgm+E4CM0jikfBC4Db8CMouYk7DlDiFCmpQpjMnJ1DO3JbZ0P4qhTV96WqTX47Vqb3TBuIQHSbtqyOx5Gmv23fPd5C1ykGzSQZ66072uyCfe1qrfY4dLV8=
Received: by 10.65.112.20 with SMTP id p20mr93911qbm;
        Tue, 20 Sep 2005 13:12:58 -0700 (PDT)
Received: by 10.65.145.3 with HTTP; Tue, 20 Sep 2005 13:12:57 -0700 (PDT)
Message-ID: <7ca12391050920131213f321@mail.gmail.com>
Date: Tue, 20 Sep 2005 13:12:58 -0700
From: jian chen <chenjian1227@gmail.com>
Reply-To: chenjian1227@gmail.com
To: java-user@lucene.apache.org
Subject: Re: Storing HashMap as an UnIndexed Field
In-Reply-To: <92A278501EF50444AD3EE1FFB51219550BCE396D@emss10m03.us.lmco.com>
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_4953_20221168.1127247178009"
References: <92A278501EF50444AD3EE1FFB51219550BCE396D@emss10m03.us.lmco.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_4953_20221168.1127247178009
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

well, certainly you can serialize into a byte stream and encode it using=20
base64.

Jian

On 9/20/05, Mordo, Aviran (EXP N-NANNATEK) <aviran.mordo@lmco.com> wrote:
>=20
> I can't think of a way you can use serialization, since lucene only
> works with strings.
>=20
> -----Original Message-----
> From: Tricia Williams [mailto:pgwillia@student.cs.uwaterloo.ca]
> Sent: Tuesday, September 20, 2005 3:30 PM
> To: java-user@lucene.apache.org
> Subject: RE: Storing HashMap as an UnIndexed Field
>=20
> Do you think there is anyway that I could use the serialization already
> built into the HashMap data structure?
>=20
> On Tue, 20 Sep 2005, Mordo, Aviran (EXP N-NANNATEK) wrote:
>=20
> > You can store the values as a coma separated string (which then you'll
>=20
> > need to parse manually back to a HashMap)
> >
> > -----Original Message-----
> > From: Tricia Williams [mailto:pgwillia@student.cs.uwaterloo.ca]
> > Sent: Tuesday, September 20, 2005 3:14 PM
> > To: java-user@lucene.apache.org
> > Subject: Storing HashMap as an UnIndexed Field
> >
> > Hi,
> >
> > I'd like to store a HashMap for some extra data to be used when a
> > given document is retrieved as a Hit for a query. To add an UnIndexed
>=20
> > Field to an index takes only Strings as parameters. Does anyone have
> > any suggestions on how I might convert the HashMap to a String that is
>=20
> > efficiently recomposed into the desired HashMap on the other end?
> >
> > Thanks,
> > Tricia
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>

------=_Part_4953_20221168.1127247178009--

From java-user-return-16521-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 20 20:19:55 2005
Return-Path: <java-user-return-16521-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 27758 invoked from network); 20 Sep 2005 20:19:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Sep 2005 20:19:55 -0000
Received: (qmail 87584 invoked by uid 500); 20 Sep 2005 20:19:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87554 invoked by uid 500); 20 Sep 2005 20:19:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87541 invoked by uid 99); 20 Sep 2005 20:19:50 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Sep 2005 13:19:49 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_40_50,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.49.115] (HELO web54305.mail.yahoo.com) (206.190.49.115)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 20 Sep 2005 13:19:58 -0700
Received: (qmail 85385 invoked by uid 60001); 20 Sep 2005 20:19:32 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=Jz+tXY83DUoQJzuDefaYHZ5KIk9L6TNOMAEIIwOB7+rTXsQjPJb7j9U/x8lGdY9wf+YPaYYuwU8OtY61OaMtTqTsAzAjsWx8F+SKBugCqdl6fPO3nQaLhcGJagANbhVf6uTaTArQwt8TdCG/6dxyH9w0ODUhS5KsJYhWMDsaebI=  ;
Message-ID: <20050920201932.85383.qmail@web54305.mail.yahoo.com>
Received: from [141.70.115.175] by web54305.mail.yahoo.com via HTTP; Tue, 20 Sep 2005 13:19:32 PDT
Date: Tue, 20 Sep 2005 13:19:32 -0700 (PDT)
From: tirupathi reddy <tirupathireddy_m@yahoo.com>
Subject: Re: How the default ranking works
To: java-user@lucene.apache.org
In-Reply-To: <06C96546-231B-4061-A8F1-9056F1FDF7AE@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1226226359-1127247572=:85260"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-1226226359-1127247572=:85260
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

hello erik,
 
  I don't have that book. Is it available in the internet?
 
Thanx,
MTREDDY


Tirupati Reddy Manyam 
24-06-08, 
Sundugaullee-24, 
79110 Freiburg 
GERMANY. 

Phone: 00497618811257 
cell : 004917624649007

		
---------------------------------
Yahoo! for Good
 Click here to donate to the Hurricane Katrina relief effort. 
--0-1226226359-1127247572=:85260--

From java-user-return-16522-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 20 20:29:54 2005
Return-Path: <java-user-return-16522-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30710 invoked from network); 20 Sep 2005 20:29:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Sep 2005 20:29:53 -0000
Received: (qmail 8148 invoked by uid 500); 20 Sep 2005 20:29:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8128 invoked by uid 500); 20 Sep 2005 20:29:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8114 invoked by uid 99); 20 Sep 2005 20:29:48 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Sep 2005 13:29:47 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.200.40] (HELO web31107.mail.mud.yahoo.com) (68.142.200.40)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 20 Sep 2005 13:29:54 -0700
Received: (qmail 39513 invoked by uid 60001); 20 Sep 2005 20:29:28 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=uzpFt/PyKWj+45B94dVu61BwyRwJwld4/6Tf9Tm5dymbQcemyijXwCi6qt2N2WwMS4gowopZQfBlPhe3kiJFAkt8pe0rMe68SIHJiAk+dHXQtvgCOCunPWOL4VlLp7fJqTG0ysANuZy1nFcgJH0gS9s4Vb5qeRF0bQ4wJh80SBg=  ;
Message-ID: <20050920202928.39511.qmail@web31107.mail.mud.yahoo.com>
Received: from [216.194.55.187] by web31107.mail.mud.yahoo.com via HTTP; Tue, 20 Sep 2005 13:29:28 PDT
Date: Tue, 20 Sep 2005 13:29:28 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: How the default ranking works
To: java-user@lucene.apache.org
In-Reply-To: <20050920201932.85383.qmail@web54305.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--- tirupathi reddy <tirupathireddy_m@yahoo.com> wrote:

>   I don't have that book. Is it available in the internet?

Of course, here it is: http://www.manning.com/books/hatcher2 (Add to
Cart link)

Otis


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16523-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 20 20:43:12 2005
Return-Path: <java-user-return-16523-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 36900 invoked from network); 20 Sep 2005 20:43:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Sep 2005 20:43:12 -0000
Received: (qmail 36223 invoked by uid 500); 20 Sep 2005 20:42:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36147 invoked by uid 500); 20 Sep 2005 20:42:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 36124 invoked by uid 99); 20 Sep 2005 20:42:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Sep 2005 13:42:59 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Sep 2005 13:43:07 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 3595A13E2006; Tue, 20 Sep 2005 16:42:38 -0400 (EDT)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 1613E13E2008
	for <java-user@lucene.apache.org>; Tue, 20 Sep 2005 16:42:28 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <20050920201932.85383.qmail@web54305.mail.yahoo.com>
References: <20050920201932.85383.qmail@web54305.mail.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <64C9D540-DB32-485C-98A2-2C6A09CB61F6@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: How the default ranking works
Date: Tue, 20 Sep 2005 16:42:25 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-3.2 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Sep 20, 2005, at 4:19 PM, tirupathi reddy wrote:
>   I don't have that book. Is it available in the internet?

You can order it online and have it shipped to you from many online  
bookstores - or buy the PDF directly from Manning online.  Links at  
the top of this page:

     http://www.lucenebook.com/



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16524-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 20 20:47:14 2005
Return-Path: <java-user-return-16524-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 39649 invoked from network); 20 Sep 2005 20:47:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Sep 2005 20:47:14 -0000
Received: (qmail 44513 invoked by uid 500); 20 Sep 2005 20:47:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44365 invoked by uid 500); 20 Sep 2005 20:47:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44352 invoked by uid 99); 20 Sep 2005 20:47:07 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Sep 2005 13:47:07 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [217.12.11.33] (HELO smtp002.mail.ukl.yahoo.com) (217.12.11.33)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 20 Sep 2005 13:47:15 -0700
Received: (qmail 62985 invoked from network); 20 Sep 2005 20:46:49 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Received:Message-ID:Date:From:User-Agent:X-Accept-Language:MIME-Version:To:Subject:References:In-Reply-To:Content-Type:Content-Transfer-Encoding;
  b=V2G6zTMn7nITfaZ/AEJep4M3H1VJM+KM4ubiBiAQU7t2lB8zjfcMYm1NkeJhcupQjPeFJsay+SD6eqkcAoEIC4kE65o0gPU73SFTzrpna9Iw4Q4LhhEnsYPQCGe5wJsuGrlRqwS/G25sFcMibjBGpOUtmuANRx/wAE9cbO1ymEY=  ;
Received: from unknown (HELO ?127.0.0.1?) (markharw00d@194.106.34.5 with plain)
  by smtp002.mail.ukl.yahoo.com with SMTP; 20 Sep 2005 20:46:49 -0000
Message-ID: <43307539.9040405@yahoo.co.uk>
Date: Tue, 20 Sep 2005 21:46:49 +0100
From: markharw00d <markharw00d@yahoo.co.uk>
User-Agent: Mozilla Thunderbird 1.0.5 (Windows/20050711)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Storing HashMap as an UnIndexed Field
References: <92A278501EF50444AD3EE1FFB51219550BCE396D@emss10m03.us.lmco.com>
In-Reply-To: <92A278501EF50444AD3EE1FFB51219550BCE396D@emss10m03.us.lmco.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Or using XMLEncoder:

        HashMap map=new HashMap();
        map.put("foo","bar");
        ByteArrayOutputStream baos=new ByteArrayOutputStream();
        XMLEncoder encoder =new XMLEncoder(baos);
        encoder.writeObject(map);
        encoder.flush();
        System.out.println(baos.toString());



	
	
		
___________________________________________________________ 
Yahoo! Messenger - NEW crystal clear PC to PC calling worldwide with voicemail http://uk.messenger.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16525-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 20 23:20:21 2005
Return-Path: <java-user-return-16525-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 99759 invoked from network); 20 Sep 2005 23:20:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 20 Sep 2005 23:20:20 -0000
Received: (qmail 77224 invoked by uid 500); 20 Sep 2005 23:20:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 77183 invoked by uid 500); 20 Sep 2005 23:20:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 77146 invoked by uid 99); 20 Sep 2005 23:20:15 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Sep 2005 16:20:15 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [150.101.214.150] (HELO ibsglobalweb.com) (150.101.214.150)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Sep 2005 16:20:23 -0700
Received: from localhost (penguin.dmz.net [127.0.0.1])
	by ibsglobalweb.com (Postfix) with ESMTP id BA2864300AA
	for <java-user@lucene.apache.org>; Wed, 21 Sep 2005 09:21:55 +1000 (EST)
Received: from ibsglobalweb.com ([127.0.0.1])
 by localhost (penguin.ibsglobalweb.com [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 03784-03 for <java-user@lucene.apache.org>;
 Wed, 21 Sep 2005 09:21:53 +1000 (EST)
Received: from [127.0.0.1] (devkrishnan.dev.net [192.168.168.143])
	by ibsglobalweb.com (Postfix) with ESMTP id C8059430004
	for <java-user@lucene.apache.org>; Wed, 21 Sep 2005 09:21:53 +1000 (EST)
Message-ID: <433099CB.10208@ibsglobalweb.com>
Date: Wed, 21 Sep 2005 09:22:51 +1000
From: Ramanathan Krishnan <krishnanr@ibsglobalweb.com>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: "Best-practice" in a web application AND live update of index
 used by Tomcat
References: <432FAB39.8040809@broadpark.no> <7A75534E-E502-4F95-A85F-7AC1316AE441@ehatchersolutions.com> <433061D2.20104@matrix-web.de>
In-Reply-To: <433061D2.20104@matrix-web.de>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Scanned: amavisd-new at ibsglobalweb.com
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,
I am a newbie to lucene but I guess the IOException will occur only in 
windows as window os doesn't close the files properly.  It shud work 
fine in Linux.
I had a similar problem when recreating the same index. The approach I 
took was to delete all documents and start adding new ones, instead of 
overwriting the index.

Krishnan

Matthias Bräuer wrote:

> Hello,
>
> I have a question regarding your answers to two previous posts:
>
>
> >For best performance, use a single IndexSearcher instance across 
> your  entire application.
>
> >DelayCloseIndexSearcher overrides the close() method so it does not
> >close immediately: it only decrements the usage counter. [...]
>
>
> I have implemented a Client-Server application where a desktop program 
> on a file server regularly updates an index while a web application 
> running on Tomcat on the same server answers queries against this 
> index. Currently the index is not built incrementally.
>
> Now, the problem is that if I have an open IndexReader (or Searcher or 
> Luke Toolbox, respectively), it is impossible to update the index 
> because I get IOExceptions ala "Cannot delete _7.cfs". This even 
> happens if the conflicting IndexReader isn't doing anything but just 
> sitting still inside a Searcher to wait for the next query. So, does 
> that mean I have to close the searcher after each request to let the 
> indexer do its work? Or is there a way to tell Lucene that the 
> IndexReader is only reading and not writing anything.
>
> Thanks for your help,
> Matthias
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16526-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 21 01:18:48 2005
Return-Path: <java-user-return-16526-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 29375 invoked from network); 21 Sep 2005 01:18:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Sep 2005 01:18:47 -0000
Received: (qmail 87709 invoked by uid 500); 21 Sep 2005 01:18:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87677 invoked by uid 500); 21 Sep 2005 01:18:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87664 invoked by uid 99); 21 Sep 2005 01:18:36 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Sep 2005 18:18:36 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=HTML_20_30,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of john.wang@gmail.com designates 64.233.162.195 as permitted sender)
Received: from [64.233.162.195] (HELO zproxy.gmail.com) (64.233.162.195)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Sep 2005 18:18:45 -0700
Received: by zproxy.gmail.com with SMTP id i28so759736nzi
        for <java-user@lucene.apache.org>; Tue, 20 Sep 2005 18:18:19 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=sdE0nY0RjZVAN2tSRYudBAMK97PVn/VSwv53bJuh6deIdS9wKw4BGCANNakZE0X3oVKEmF170Obs4//Jx4GPWaegyikbNyRfNnTrW60Q0Mi8+V3fU+sLvnoLjbkZUSrW3tIclheM5bDnyJjpI9P2ep8ss3Ld1Ba5f5GX+MaXjN8=
Received: by 10.36.146.10 with SMTP id t10mr4569203nzd;
        Tue, 20 Sep 2005 18:18:19 -0700 (PDT)
Received: by 10.36.10.11 with HTTP; Tue, 20 Sep 2005 18:18:19 -0700 (PDT)
Message-ID: <8837fb7705092018187dac5e61@mail.gmail.com>
Date: Tue, 20 Sep 2005 18:18:19 -0700
From: John Wang <john.wang@gmail.com>
Reply-To: john.wang@gmail.com
To: java-user@lucene.apache.org
Subject: Re: Stale NFS file handle Exception
In-Reply-To: <4325E92E.4040707@insideview.com>
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_24757_9991192.1127265499505"
References: <4325E92E.4040707@insideview.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_24757_9991192.1127265499505
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

How do you "update" the index?

-John

On 9/12/05, Harini Raghavan <harini.raghavan@insideview.com> wrote:
>=20
> Hi All,
> I have 2 servers in the production environment, one running some Quartz
> jobs and the other one running the application. There is a common NFS
> mount which has the lucene index directory. The jobs fetch the latest
> data and update the lucene index. And the user can search on the index
> to retrieve documents. When I search on the index on nfs while the jobs
> are being run, I get the following exception :
>=20
> java.io.IOException: Stale NFS file handle
> at java.io.RandomAccessFile.readBytes(Native Method)
> at java.io.RandomAccessFile.read(RandomAccessFile.java:315)
> at
> org.apache.lucene.store.FSInputStream.readInternal(FSDirectory.java:420)
> at org.apache.lucene.store.InputStream.readBytes(InputStream.java:61)
> at
> org.apache.lucene.index.CompoundFileReader$CSInputStream.readInternal(
> CompoundFileReader.java:220)
> at org.apache.lucene.store.InputStream.refill(InputStream.java:158)
> at org.apache.lucene.store.InputStream.readByte(InputStream.java:43)
> at org.apache.lucene.store.InputStream.readVInt(InputStream.java:83)
> at
> org.apache.lucene.index.SegmentTermEnum.readTerm(SegmentTermEnum.java:142=
)
> at org.apache.lucene.index.SegmentTermEnum.next(SegmentTermEnum.java:115)
> at
> org.apache.lucene.index.TermInfosReader.scanEnum(TermInfosReader.java:143=
)
> at org.apache.lucene.index.TermInfosReader.get(TermInfosReader.java:137)
> at org.apache.lucene.index.SegmentTermDocs.seek(SegmentTermDocs.java:51)
> at org.apache.lucene.index.MultiTermDocs.termDocs(MultiReader.java:409)
> at org.apache.lucene.index.MultiTermDocs.read(MultiReader.java:377)
>=20
> Can I have the index directory on a common nfs mount? Does lucene
> support this?
> Any help would be greatly appreciated.
> Thank you,
> Harini
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>

------=_Part_24757_9991192.1127265499505--

From java-user-return-16527-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 21 01:29:29 2005
Return-Path: <java-user-return-16527-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 36987 invoked from network); 21 Sep 2005 01:29:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Sep 2005 01:29:29 -0000
Received: (qmail 91778 invoked by uid 500); 21 Sep 2005 01:29:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 91752 invoked by uid 500); 21 Sep 2005 01:29:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 91735 invoked by uid 99); 21 Sep 2005 01:29:24 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Sep 2005 18:29:24 -0700
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_30_40,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of john.wang@gmail.com designates 64.233.162.196 as permitted sender)
Received: from [64.233.162.196] (HELO zproxy.gmail.com) (64.233.162.196)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 20 Sep 2005 18:29:31 -0700
Received: by zproxy.gmail.com with SMTP id i28so761944nzi
        for <java-user@lucene.apache.org>; Tue, 20 Sep 2005 18:29:06 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=mCP9r1znytUb2eH4cr/iooLM05fBIDKz/74V4EzdHnQW51Ywx8iuQbrsHOQyVeKkkiSIUZnrlrZaICB5LWoByZtT7AqIB9/GZ5Oln7HtRtzaSLagjWg9URkpx8DP/xGlc+Xn+TfwunR8Clp/fHO1myXGsrLe/DNuEy38nGiqT4A=
Received: by 10.37.2.6 with SMTP id e6mr4560766nzi;
        Tue, 20 Sep 2005 18:29:06 -0700 (PDT)
Received: by 10.36.10.11 with HTTP; Tue, 20 Sep 2005 18:29:06 -0700 (PDT)
Message-ID: <8837fb7705092018297ce2caf2@mail.gmail.com>
Date: Tue, 20 Sep 2005 18:29:06 -0700
From: John Wang <john.wang@gmail.com>
Reply-To: john.wang@gmail.com
To: java-user@lucene.apache.org
Subject: Re: search performance enhancement
In-Reply-To: <200508192017.16216.paul.elschot@xs4all.nl>
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_24810_31717173.1127266146501"
References: <8837fb7705081619464dbf95c2@mail.gmail.com>
	 <200508170844.09122.paul.elschot@xs4all.nl>
	 <8837fb77050819090960266323@mail.gmail.com>
	 <200508192017.16216.paul.elschot@xs4all.nl>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_24810_31717173.1127266146501
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi Paul and other gurus:

In a related topic, seems lucene is scoring documents that would hit in a=
=20
"prohibited" boolean clause, e.g. NOT field:value. It doesn't seem to make=
=20
sense to score a document that is to be excluded from the result. Is this a=
=20
difficult thing to fix?

Also in Paul's ealier comment: "... unless you have large indexes, this wil=
l=20
probably not make much difference", what is "large" in this case.=20

In our case, say millions of documents match some query, but after either a=
=20
Filter is applied or after a NOT query (e.g. query with a NOT/prohibited=20
clause) is applied, the resulting hit list has only 10 documents. Seems the=
=20
millions of calls to score() is wasted, some of the score() call can be=20
computational intensive.

Am I on the right track?

Thanks

-John

On 8/19/05, Paul Elschot <paul.elschot@xs4all.nl> wrote:
>=20
> On Friday 19 August 2005 18:09, John Wang wrote:
> > Hi Paul:
> >
> > Thanks for the pointer.
> >
> > How would I extend from the patch you submitted to filter out
> > more documents not using a Filter. e.g.
> >
> > have a class to skip documents based on a docID: boolean
> > isValid(int docID)
> >
> > My problem is I want to discard documents at query time without
> > having to construct a BitSet via filter. I have my own memory
> > structure to help me skip documents based the query and a docid.
>=20
> Basically, you need to implement the next() and skipTo(int targetDoc)
> methods from Scorer on your memory structure. They are somewhat
> redundant (skipTo(doc() + 1) has the same semantics as next(), except
> initially), but that is for a mix of historical and performance reasons.
> Have a look at how this is done in the posted FilteredQuery class
> for SortedVIntList and BitSet.
> With only isValid(docId) these next() and skipTo() methods would
> have to count over the document numbers, which is less than ideal.
>=20
> When you use the posted code, iirc it is only necessary to implement the
> SkipFilter interface on your memory structure. One can use that interface
> to build/cache such memory structures using an IndexReader, and
> from there the DocNrSkipper interface will do the rest (of the top of
> my head).
> One slight problem with the current Lucene implementation is that
> java.lang.BitSet is not interface.
>=20
> Regards,
> Paul Elschot.
>=20
> > Thanks
> >
> > -John
> >
> > On 8/16/05, Paul Elschot <paul.elschot@xs4all.nl> wrote:
> > > Hi John,
> > >
> > > On Wednesday 17 August 2005 04:46, John Wang wrote:
> > > > Hi:
> > > >
> > > > I posted a bug (36147) a few days ago and didn't hear anything, so
> > > > I thought I'd try my luck on this list.
> > > >
> > > > The idea is to avoid score calculations on documents to be filtered
> > > > out anyway. (e.g. via Filter object passed to the searcher class)
> > > >
> > > > This seems to be an easy change.
> > >
> > > Have a look here:
> > > http://issues.apache.org/bugzilla/show_bug.cgi?id=3D32965
> > >
> > > > Also it would be nice to expose a method to return a score given a
> > > > docid, e.g.
> > > >
> > > > float getScore(int docid)
> > > >
> > > > on the Scorer class.
> > >
> > > skipTo(int docid) and score() will do that.
> > >
> > > > I am gonna make the change locally and do some performance analysis
> > > > on it and will post some numbers later.
> > >
> > > The default score computations are mostly table lookups, and pretty=
=20
> fast.
> > > So, unless you have large indexes, this will probably not make
> > > much difference, but any performance improvement is wellcome.
> > > In larger indexes, it helps to use skipTo() while searching.
> > >
> > > Regards,
> > > Paul Elschot
> > >
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > For additional commands, e-mail: java-user-help@lucene.apache.org
> > >
> > >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
> >
> >
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
>

------=_Part_24810_31717173.1127266146501--

From java-user-return-16528-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 21 09:32:34 2005
Return-Path: <java-user-return-16528-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 80319 invoked from network); 21 Sep 2005 09:32:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Sep 2005 09:32:34 -0000
Received: (qmail 5880 invoked by uid 500); 21 Sep 2005 09:32:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5662 invoked by uid 500); 21 Sep 2005 09:32:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5649 invoked by uid 99); 21 Sep 2005 09:32:27 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Sep 2005 02:32:27 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [193.194.158.19] (HELO exchange.bvdep.com) (193.194.158.19)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Sep 2005 02:32:33 -0700
Content-Class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.0.6603.0
Subject: RE: "Best-practice" in a web application AND live update of index used by Tomcat
Date: Wed, 21 Sep 2005 11:32:02 +0200
Message-ID: <950FF7DE40C2B64CAF80B564732927E104B30566@exchange.be.bvd>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: "Best-practice" in a web application AND live update of index used by Tomcat
thread-index: AcW+GjrnlXGx/fD/QLGEq7HlUwZVGAAc9xuQ
From: "Vanlerberghe, Luc" <Luc.Vanlerberghe@bvdep.com>
To: <java-user@lucene.apache.org>,
	<matthew@matrix-web.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Are you sure that both processes use the same directory to store the =
Lock files?

If both processes are on the same machine, they will both default to the =
same local directory and you won't see the problem.

If they are on separate machines, you should set the lock directory to =
some shared location (in lucene 1.4.3 by setting the system property =
org.apache.lucene.lockdir, in the new code by calling a setter method)

It's probably because the Writer isn't aware that a Reader is using the =
files that it tries to delete the obsolete ones immediately.  On Windows =
machines, the list of files that cannot be deleted immediately is stored =
in the file "deletable".

Luc

-----Original Message-----
From: Matthias Br=E4uer [mailto:newsletter@matrix-web.de]=20
Sent: dinsdag 20 september 2005 21:24
To: java-user@lucene.apache.org
Subject: Re: "Best-practice" in a web application AND live update of =
index used by Tomcat

Hello,

I have a question regarding your answers to two previous posts:


 >For best performance, use a single IndexSearcher instance across your  =

entire application.

 >DelayCloseIndexSearcher overrides the close() method so it does not
 >close immediately: it only decrements the usage counter. [...]


I have implemented a Client-Server application where a desktop program=20
on a file server regularly updates an index while a web application=20
running on Tomcat on the same server answers queries against this index. =

Currently the index is not built incrementally.

Now, the problem is that if I have an open IndexReader (or Searcher or=20
Luke Toolbox, respectively), it is impossible to update the index=20
because I get IOExceptions ala "Cannot delete _7.cfs". This even happens =

if the conflicting IndexReader isn't doing anything but just sitting=20
still inside a Searcher to wait for the next query. So, does that mean I =

have to close the searcher after each request to let the indexer do its=20
work? Or is there a way to tell Lucene that the IndexReader is only=20
reading and not writing anything.

Thanks for your help,
Matthias



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16529-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 21 12:51:34 2005
Return-Path: <java-user-return-16529-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58467 invoked from network); 21 Sep 2005 12:51:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Sep 2005 12:51:34 -0000
Received: (qmail 30894 invoked by uid 500); 21 Sep 2005 12:51:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30636 invoked by uid 500); 21 Sep 2005 12:51:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30623 invoked by uid 99); 21 Sep 2005 12:51:27 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Sep 2005 05:51:27 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=HTML_20_30,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of shoren@gmail.com designates 64.233.162.195 as permitted sender)
Received: from [64.233.162.195] (HELO zproxy.gmail.com) (64.233.162.195)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Sep 2005 05:51:36 -0700
Received: by zproxy.gmail.com with SMTP id i28so889941nzi
        for <java-user@lucene.apache.org>; Wed, 21 Sep 2005 05:51:06 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=Cm8jepDDZ31hwsn8INflSv7fzZ9HsAzgwacQbjgwlNmrxnXefjG4N5vDqjo7zCDSSaAuBgCNrOtriLSpgm0XZgawzirJsH9xDc4Wk0/OvP8pWhOU96UneMUp2nOwOSJ6T5s+c9FhFVCtKWRPlqOXqBaWsIYFx9fK/0is7RpiEPs=
Received: by 10.36.61.9 with SMTP id j9mr4422458nza;
        Wed, 21 Sep 2005 05:51:06 -0700 (PDT)
Received: by 10.36.80.8 with HTTP; Wed, 21 Sep 2005 05:51:06 -0700 (PDT)
Message-ID: <b7bee252050921055114cf8afc@mail.gmail.com>
Date: Wed, 21 Sep 2005 14:51:06 +0200
From: Oren Shir <shoren@gmail.com>
Reply-To: shoren@alum.cs.huji.ac.il
To: java-user@lucene.apache.org, john.wang@gmail.com
Subject: Re: Stale NFS file handle Exception
In-Reply-To: <8837fb7705092018187dac5e61@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_289_29348040.1127307066212"
References: <4325E92E.4040707@insideview.com>
	 <8837fb7705092018187dac5e61@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_289_29348040.1127307066212
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi,

There is an issue with file locking and NFS, which requirs setting some
system property for lock files directory that must be local. Might be
relevant.

Oren

On 9/21/05, John Wang <john.wang@gmail.com> wrote:
>
> How do you "update" the index?
>
> -John
>
> On 9/12/05, Harini Raghavan <harini.raghavan@insideview.com> wrote:
> >
> > Hi All,
> > I have 2 servers in the production environment, one running some Quartz
> > jobs and the other one running the application. There is a common NFS
> > mount which has the lucene index directory. The jobs fetch the latest
> > data and update the lucene index. And the user can search on the index
> > to retrieve documents. When I search on the index on nfs while the jobs
> > are being run, I get the following exception :
> >
> > java.io.IOException: Stale NFS file handle
> > at java.io.RandomAccessFile.readBytes(Native Method)
> > at java.io.RandomAccessFile.read(RandomAccessFile.java:315)
> > at
> > org.apache.lucene.store.FSInputStream.readInternal(FSDirectory.java:420=
)
> > at org.apache.lucene.store.InputStream.readBytes(InputStream.java:61)
> > at
> > org.apache.lucene.index.CompoundFileReader$CSInputStream.readInternal(
> > CompoundFileReader.java:220)
> > at org.apache.lucene.store.InputStream.refill(InputStream.java:158)
> > at org.apache.lucene.store.InputStream.readByte(InputStream.java:43)
> > at org.apache.lucene.store.InputStream.readVInt(InputStream.java:83)
> > at
> > org.apache.lucene.index.SegmentTermEnum.readTerm(SegmentTermEnum.java
> :142)
> > at org.apache.lucene.index.SegmentTermEnum.next(SegmentTermEnum.java
> :115)
> > at
> > org.apache.lucene.index.TermInfosReader.scanEnum(TermInfosReader.java
> :143)
> > at org.apache.lucene.index.TermInfosReader.get(TermInfosReader.java:137=
)
> > at org.apache.lucene.index.SegmentTermDocs.seek(SegmentTermDocs.java:51=
)
> > at org.apache.lucene.index.MultiTermDocs.termDocs(MultiReader.java:409)
> > at org.apache.lucene.index.MultiTermDocs.read(MultiReader.java:377)
> >
> > Can I have the index directory on a common nfs mount? Does lucene
> > support this?
> > Any help would be greatly appreciated.
> > Thank you,
> > Harini
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>
>

------=_Part_289_29348040.1127307066212--

From java-user-return-16530-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 21 14:19:14 2005
Return-Path: <java-user-return-16530-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 6296 invoked from network); 21 Sep 2005 14:19:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Sep 2005 14:19:14 -0000
Received: (qmail 85001 invoked by uid 500); 21 Sep 2005 14:19:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84970 invoked by uid 500); 21 Sep 2005 14:19:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84954 invoked by uid 99); 21 Sep 2005 14:19:07 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Sep 2005 07:19:07 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [65.209.1.80] (HELO webmail.cymfony.com) (65.209.1.80)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Sep 2005 07:19:13 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.5.6944.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: IndexSearcher architecture and memory usage
Date: Wed, 21 Sep 2005 10:16:35 -0400
Message-ID: <13F36D2926AD444697093282F20041B703150266@buf-ex01.cymfony.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: IndexSearcher architecture and memory usage
Thread-Index: AcW+txL/9sth2AW2S5mUuilQUIrXGg==
From: "Peter Kim" <pkim@cymfony.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi all,
I've been searching through the list archives for this info but haven't
found exactly what I'm looking for... Hoping that someone might have the
answer to this off the top of their head.

Is the amount of memory taken up by an IndexSearcher object proportional
to the size of the index? I've read various emails that say the number
of IndexSearcher objects open should be minimized but I've also read
some emails that seem to imply that the objects take up more memory if
the index is larger, so I'm a bit confused.

Specifically, I have an index that is being constantly being updated,
which would require me to close and open a new IndexSearcher very often.
Would it be better to split that up into maybe 3 indexes, only adding
new content to one of them and then have two IndexSearcher objects that
stay open on the "older" content?

If the memory consumption by an IndexSearcher object is proportional to
the size of the index, is there any downside to splitting up a single
large index into up to 30 different indexes?=20

I would really appreciate your help.

Thanks!
Peter

-----
Peter Kim
pkim@cymfony.com


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16531-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 21 14:33:20 2005
Return-Path: <java-user-return-16531-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11572 invoked from network); 21 Sep 2005 14:33:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Sep 2005 14:33:19 -0000
Received: (qmail 4100 invoked by uid 500); 21 Sep 2005 14:33:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3548 invoked by uid 500); 21 Sep 2005 14:33:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3529 invoked by uid 99); 21 Sep 2005 14:33:13 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Sep 2005 07:33:13 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [193.109.254.3] (HELO mail19.messagelabs.com) (193.109.254.3)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 21 Sep 2005 07:33:18 -0700
X-VirusChecked: Checked
X-Env-Sender: SGaunt@emeraldinsight.com
X-Msg-Ref: server-14.tower-19.messagelabs.com!1127313165!33581762!1
X-StarScan-Version: 5.4.15; banners=emeraldinsight.com,-,-
X-Originating-IP: [194.152.90.190]
Received: (qmail 3604 invoked from network); 21 Sep 2005 14:32:45 -0000
Received: from unknown (HELO MCB004.Emerald.Net) (194.152.90.190)
  by server-14.tower-19.messagelabs.com with SMTP; 21 Sep 2005 14:32:45 -0000
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
Content-Class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: Boost value is lost
Date: Wed, 21 Sep 2005 15:32:44 +0100
Message-ID: <C87DEB58860CD54890F6CA2E840DB2F3033FC325@MCB004.Emerald.Net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Boost value is lost
thread-index: AcW+txL/9sth2AW2S5mUuilQUIrXGgAATz8Q
From: "Steve Gaunt" <SGaunt@emeraldinsight.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi=20all,

I=20was=20hoping=20someone=20could=20shed=20some=20light=20on=20this?=20
When=20I=20set=20a=20boost=20for=20a=20particular=20field=20during=20index=
ing,=20for=20example

field.setBoost(1.5f);
document.add(field);

Then=20do=20a=20indexwriter.optimize();

But=20when=20I=20do=20a=20search=20and=20get=20the=20document=20back,=20th=
e=20boost=20value=20for
that=20field=20has=20been=20reset=20back=20to=20the=20default=20value=20of=
=201.

Has=20anyone=20else=20come=20across=20a=20similar=20situation??


Cheers

Steve



______________________________________________________________________
This=20email=20has=20been=20scanned=20by=20the=20MessageLabs=20Email=20Sec=
urity=20System.
For=20more=20information=20please=20visit=20http://www.messagelabs.com/ema=
il=20
______________________________________________________________________

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16532-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 21 14:38:10 2005
Return-Path: <java-user-return-16532-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13658 invoked from network); 21 Sep 2005 14:38:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Sep 2005 14:38:09 -0000
Received: (qmail 10241 invoked by uid 500); 21 Sep 2005 14:38:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10220 invoked by uid 500); 21 Sep 2005 14:38:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10196 invoked by uid 99); 21 Sep 2005 14:38:02 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Sep 2005 07:38:02 -0700
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_30_40,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 72.14.204.196 as permitted sender)
Received: from [72.14.204.196] (HELO qproxy.gmail.com) (72.14.204.196)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Sep 2005 07:38:08 -0700
Received: by qproxy.gmail.com with SMTP id c8so346750qbc
        for <java-user@lucene.apache.org>; Wed, 21 Sep 2005 07:37:38 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=KtmCWyEy77MIE27/9KUn7qVvqWMeJmKyvE3JOT0ZjvYyBf+AgWC9ZiYgwdC7wzehkxh3kpj/ITEYHRb5gUF8EQAVgfALSodFiSw7WkTsTZNABEhnQQMLScwLhl14mW4rafbrjFpKILa7YPvy9NTEvOvZkgMsQGnjp/JGDKuYyIU=
Received: by 10.65.116.20 with SMTP id t20mr122513qbm;
        Wed, 21 Sep 2005 07:37:38 -0700 (PDT)
Received: by 10.65.121.10 with HTTP; Wed, 21 Sep 2005 07:37:38 -0700 (PDT)
Message-ID: <c68e391705092107371c1fa0b6@mail.gmail.com>
Date: Wed, 21 Sep 2005 10:37:38 -0400
From: Yonik Seeley <yseeley@gmail.com>
Reply-To: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Boost value is lost
In-Reply-To: <C87DEB58860CD54890F6CA2E840DB2F3033FC325@MCB004.Emerald.Net>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_450_28780021.1127313458035"
References: <C87DEB58860CD54890F6CA2E840DB2F3033FC325@MCB004.Emerald.Net>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_450_28780021.1127313458035
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

You don't get the boost back directly... it's folded into the "norm" for th=
e
field and does affect the score when you search against the index.

-Yonik

On 9/21/05, Steve Gaunt <SGaunt@emeraldinsight.com> wrote:
>
> Hi all,
>
> I was hoping someone could shed some light on this?
> When I set a boost for a particular field during indexing, for example
>
> field.setBoost(1.5f);
> document.add(field);
>
> Then do a indexwriter.optimize();
>
> But when I do a search and get the document back, the boost value for
> that field has been reset back to the default value of 1.
>
> Has anyone else come across a similar situation??
>
>
> Cheers
>
> Steve
>
>
>
> ______________________________________________________________________
> This email has been scanned by the MessageLabs Email Security System.
> For more information please visit http://www.messagelabs.com/email
> ______________________________________________________________________
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


--
-Yonik
Now hiring -- http://tinyurl.com/7m67g

------=_Part_450_28780021.1127313458035--

From java-user-return-16533-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 21 15:02:58 2005
Return-Path: <java-user-return-16533-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24469 invoked from network); 21 Sep 2005 15:02:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Sep 2005 15:02:57 -0000
Received: (qmail 53430 invoked by uid 500); 21 Sep 2005 15:02:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53401 invoked by uid 500); 21 Sep 2005 15:02:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53388 invoked by uid 99); 21 Sep 2005 15:02:50 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Sep 2005 08:02:50 -0700
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_30_40,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of beadygeraghty@gmail.com designates 66.249.82.201 as permitted sender)
Received: from [66.249.82.201] (HELO xproxy.gmail.com) (66.249.82.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Sep 2005 08:02:58 -0700
Received: by xproxy.gmail.com with SMTP id s17so234622wxc
        for <java-user@lucene.apache.org>; Wed, 21 Sep 2005 08:02:28 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type;
        b=qkDrNZ7koBtZEuhbdC/tvSkF5ViA6N9Kl3aeRDiU7qKmaCP2aJwRCuO3Z4NpKBQ7WwLaIu0e4dbSyJE6MbX7AiC1QjCUvfzWlPgfyOdqX5hOPFWoOktus6FYy9vyTtQN9JyEfFcEeN6SNYFAf1rQVQn+EfcRfwXpl3jjV920ruM=
Received: by 10.70.104.1 with SMTP id b1mr2595505wxc;
        Wed, 21 Sep 2005 08:02:28 -0700 (PDT)
Received: by 10.70.31.14 with HTTP; Wed, 21 Sep 2005 08:02:28 -0700 (PDT)
Message-ID: <b487c1370509210802a2fb898@mail.gmail.com>
Date: Wed, 21 Sep 2005 11:02:28 -0400
From: Beady Geraghty <beadygeraghty@gmail.com>
Reply-To: Beady Geraghty <beadygeraghty@gmail.com>
To: java-user@lucene.apache.org
Subject: standardTokenizer - how to terminate at End of Stream
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_1071_2336755.1127314948348"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_1071_2336755.1127314948348
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Could someone tell me how to use the StandardTokenizer properly ?
 I thought that if the tokenizer.getNextToken() returns null, then it is
the end of stream. I have a loop that tries to get the next token until
it is null. But the loop doesn't terminate.
I tried to termintae the loop by t.kind =3D=3D 0, and it seems to have stop=
ped
upon the end of stream. I am not sure what t.kind really is.
The code mentioned that it is defined in Constants.java, and I looked
that up, but it is apparent not the right file. Maybe I am pointing to
a wrong directory.


StandardTokenizer tokenizer =3D new StandardTokenizer( r ); // r is a reade=
r
int count =3D 0;
Token t =3D tokenizer .getNextToken();

while (t !=3D null) {
count++;
//if (t.kind =3D=3D 0)
// break;
System.out.println( t );
t =3D tokenizer.getNextToken() ;
System.out.println(count);
}
System.out.println( "done");
 Thank you for any input.

------=_Part_1071_2336755.1127314948348--

From java-user-return-16534-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 21 15:20:57 2005
Return-Path: <java-user-return-16534-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 34155 invoked from network); 21 Sep 2005 15:20:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Sep 2005 15:20:57 -0000
Received: (qmail 87996 invoked by uid 500); 21 Sep 2005 15:20:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87971 invoked by uid 500); 21 Sep 2005 15:20:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87958 invoked by uid 99); 21 Sep 2005 15:20:50 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Sep 2005 08:20:50 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of wibotwi@gmail.com designates 64.233.162.194 as permitted sender)
Received: from [64.233.162.194] (HELO zproxy.gmail.com) (64.233.162.194)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Sep 2005 08:20:58 -0700
Received: by zproxy.gmail.com with SMTP id q3so97980nzb
        for <java-user@lucene.apache.org>; Wed, 21 Sep 2005 08:20:28 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition;
        b=TE/4H5HiH1b5xgad+p3aDEJbpxJ1uZE4/4N7e4drxZlbjJ2gX1flsNGT8iNmcROdFqmyZELjXXW9WB+k3JvbiNxbZ0xktoeUkXousWZg14DUKnyBBNg1UL1qRPdGzMCjUIbmw6C2dpP3aRGDCWiFB7f3d/tQtwzKGzSLiAbum6k=
Received: by 10.54.37.21 with SMTP id k21mr2521976wrk;
        Wed, 21 Sep 2005 08:20:28 -0700 (PDT)
Received: by 10.54.102.2 with HTTP; Wed, 21 Sep 2005 08:20:28 -0700 (PDT)
Message-ID: <caea1c7805092108204760427f@mail.gmail.com>
Date: Wed, 21 Sep 2005 19:20:28 +0400
From: Wi <wibotwi@gmail.com>
Reply-To: Wi <wibotwi@gmail.com>
To: java-user@lucene.apache.org
Subject: How to sort results
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I want to sort results by some field.

Of cause i can fetch all results and then sort them in memory
but this is bad way...

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16535-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 21 15:38:27 2005
Return-Path: <java-user-return-16535-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40281 invoked from network); 21 Sep 2005 15:38:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Sep 2005 15:38:27 -0000
Received: (qmail 19256 invoked by uid 500); 21 Sep 2005 15:38:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19237 invoked by uid 500); 21 Sep 2005 15:38:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19219 invoked by uid 99); 21 Sep 2005 15:38:22 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Sep 2005 08:38:22 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of ian.lea@gmail.com designates 64.233.182.201 as permitted sender)
Received: from [64.233.182.201] (HELO nproxy.gmail.com) (64.233.182.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Sep 2005 08:38:30 -0700
Received: by nproxy.gmail.com with SMTP id d4so216429nfe
        for <java-user@lucene.apache.org>; Wed, 21 Sep 2005 08:37:59 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=m5HHYtTXSY3vl2SfJe+HnPy4dPyeGRdknrVuNoqgJa/qtSZUOBVx9aCae1dB5NmV0Gkhed6h/3rHGoL5ULf95XrmMPla76jw0qhhVqCrDdeud51BEyHw/Vq+Vr/3VIGfHERNaWqBzD36yHlERgSnLLbVtOhCoV3qLzuLo0RcKmc=
Received: by 10.48.236.4 with SMTP id j4mr93814nfh;
        Wed, 21 Sep 2005 08:37:59 -0700 (PDT)
Received: by 10.48.240.20 with HTTP; Wed, 21 Sep 2005 08:37:59 -0700 (PDT)
Message-ID: <8c4e686105092108375bc0c691@mail.gmail.com>
Date: Wed, 21 Sep 2005 16:37:59 +0100
From: Ian Lea <ian.lea@gmail.com>
Reply-To: ian.lea@gmail.com
To: java-user@lucene.apache.org, Wi <wibotwi@gmail.com>
Subject: Re: How to sort results
In-Reply-To: <caea1c7805092108204760427f@mail.gmail.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <caea1c7805092108204760427f@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

http://lucene.apache.org/java/docs/api/org/apache/lucene/search/Searcher.ht=
ml#search(org.apache.lucene.search.Query,%20org.apache.lucene.search.Sort)
http://www.lucenebook.com/search?query=3Dsort

--
Ian.
ian.lea@gmail.com


On 21/09/05, Wi <wibotwi@gmail.com> wrote:
> I want to sort results by some field.
>=20
> Of cause i can fetch all results and then sort them in memory
> but this is bad way...

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16536-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 21 16:08:17 2005
Return-Path: <java-user-return-16536-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50999 invoked from network); 21 Sep 2005 16:08:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Sep 2005 16:08:17 -0000
Received: (qmail 82033 invoked by uid 500); 21 Sep 2005 16:08:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82014 invoked by uid 500); 21 Sep 2005 16:08:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 82000 invoked by uid 99); 21 Sep 2005 16:08:11 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Sep 2005 09:08:11 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.35.35.7] (HELO mailgw3a.lmco.com) (192.35.35.7)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Sep 2005 09:08:18 -0700
Received: from emss04g01.ems.lmco.com (relay4.ems.lmco.com [166.17.13.122])
	by mailgw3a.lmco.com (8.12.10/8.12.10) with ESMTP id j8LG0UZa000141;
	Wed, 21 Sep 2005 12:07:46 -0400 (EDT)
Received: from CONVERSION-DAEMON.lmco.com by lmco.com (PMDF V6.1-1X6 #30884) id <0IN600B01ASJC7@lmco.com>; Wed,
 21 Sep 2005 11:24:19 -0400 (EDT)
Received: from EMSS10M01.us.lmco.com ([158.187.0.150]) by lmco.com (PMDF V6.1-1X6 #30884)
 with ESMTP id <0IN600FWEASJOG@lmco.com>; Wed, 21 Sep 2005 11:24:19 -0400 (EDT)
Received: from EMSS10M03.us.lmco.com ([158.187.0.148]) by EMSS10M01.us.lmco.com with Microsoft SMTPSVC(5.0.2195.6713); Wed,
 21 Sep 2005 11:24:19 -0400
Date: Wed, 21 Sep 2005 11:24:18 -0400
From: "Mordo, Aviran (EXP N-NANNATEK)" <aviran.mordo@lmco.com>
Subject: RE: How to sort results
To: java-user@lucene.apache.org, Wi <wibotwi@gmail.com>
Message-id: <92A278501EF50444AD3EE1FFB51219550BCE396E@emss10m03.us.lmco.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6603.0
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT
Thread-Topic: How to sort results
Thread-Index: AcW+wBDpEC8UEHyURZCOpwBjJp02IwAAHDtw
content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-OriginalArrivalTime: 21 Sep 2005 15:24:19.0236 (UTC) FILETIME=[890E9640:01C5BEC0]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

http://lucene.apache.org/java/docs/api/org/apache/lucene/search/Sort.htm
l 

-----Original Message-----
From: Wi [mailto:wibotwi@gmail.com] 
Sent: Wednesday, September 21, 2005 11:20 AM
To: java-user@lucene.apache.org
Subject: How to sort results

I want to sort results by some field.

Of cause i can fetch all results and then sort them in memory but this
is bad way...

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16537-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 21 16:17:44 2005
Return-Path: <java-user-return-16537-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53882 invoked from network); 21 Sep 2005 16:17:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Sep 2005 16:17:43 -0000
Received: (qmail 1991 invoked by uid 500); 21 Sep 2005 16:17:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 1972 invoked by uid 500); 21 Sep 2005 16:17:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 1959 invoked by uid 99); 21 Sep 2005 16:17:38 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Sep 2005 09:17:38 -0700
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_40_50,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of beadygeraghty@gmail.com designates 66.249.82.196 as permitted sender)
Received: from [66.249.82.196] (HELO xproxy.gmail.com) (66.249.82.196)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Sep 2005 09:17:46 -0700
Received: by xproxy.gmail.com with SMTP id h30so99186wxd
        for <java-user@lucene.apache.org>; Wed, 21 Sep 2005 09:17:16 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=pcbOzeLjqrpRP3JCWFxm2Mvqk6DkFpx0AlpnHGOzxWM2kXe7B5DVq+JJdW+Y3zX2EroRrGiS9Nk6yQOXx8Q3N84STQG0654UymSMxvO/pzPsSSPxR/Wl/+roQwwoSS5vgCQdyctosCDYYrq577se8i+uRkhN7ESs5M/qI/e8HB4=
Received: by 10.70.77.17 with SMTP id z17mr2632666wxa;
        Wed, 21 Sep 2005 09:17:16 -0700 (PDT)
Received: by 10.70.31.14 with HTTP; Wed, 21 Sep 2005 09:17:16 -0700 (PDT)
Message-ID: <b487c137050921091748f86948@mail.gmail.com>
Date: Wed, 21 Sep 2005 12:17:16 -0400
From: Beady Geraghty <beadygeraghty@gmail.com>
Reply-To: Beady Geraghty <beadygeraghty@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: standardTokenizer - how to terminate at End of Stream
In-Reply-To: <b487c1370509210802a2fb898@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_1579_23053201.1127319436495"
References: <b487c1370509210802a2fb898@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_1579_23053201.1127319436495
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I see some definitions in StandardTokenizerConstants.java
Perhaps these are the values for t.kind.
 Perhaps, I was confused between between the usage of
getNextToken() and next() in the standard analyzer.
When should one use getNextToken() instead of next()
 I am just starting to use Lucene, so please excuse these
simple questions.
 Thanks


 On 9/21/05, Beady Geraghty <beadygeraghty@gmail.com> wrote:
>
> Could someone tell me how to use the StandardTokenizer properly ?
>  I thought that if the tokenizer.getNextToken() returns null, then it is
> the end of stream. I have a loop that tries to get the next token until
> it is null. But the loop doesn't terminate.
> I tried to termintae the loop by t.kind =3D=3D 0, and it seems to have st=
opped
> upon the end of stream. I am not sure what t.kind really is.
> The code mentioned that it is defined in Constants.java, and I looked
> that up, but it is apparent not the right file. Maybe I am pointing to
> a wrong directory.
>
>
> StandardTokenizer tokenizer =3D new StandardTokenizer( r ); // r is a rea=
der
> int count =3D 0;
> Token t =3D tokenizer .getNextToken();
>
> while (t !=3D null) {
> count++;
> //if (t.kind =3D=3D 0)
> // break;
> System.out.println( t );
> t =3D tokenizer.getNextToken() ;
> System.out.println(count);
> }
> System.out.println ( "done");
>  Thank you for any input.
>

------=_Part_1579_23053201.1127319436495--

From java-user-return-16538-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 21 17:16:22 2005
Return-Path: <java-user-return-16538-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78753 invoked from network); 21 Sep 2005 17:16:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Sep 2005 17:16:22 -0000
Received: (qmail 80742 invoked by uid 500); 21 Sep 2005 17:16:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80529 invoked by uid 500); 21 Sep 2005 17:16:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80515 invoked by uid 99); 21 Sep 2005 17:16:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Sep 2005 10:16:16 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [141.99.1.40] (HELO MAILF0.uni-siegen.de) (141.99.1.40)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Sep 2005 10:16:23 -0700
Received: from [141.99.26.131] ([141.99.26.131]) by MAILF0.uni-siegen.de with Microsoft SMTPSVC(6.0.3790.1830);
	 Wed, 21 Sep 2005 19:15:35 +0200
Message-ID: <43319689.6090803@informatik.uni-siegen.de>
Date: Wed, 21 Sep 2005 19:21:13 +0200
From: Patricio Galeas <galeas@informatik.uni-siegen.de>
Reply-To:  galeas@informatik.uni-siegen.de
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: de-DE, de, en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Example ....Lucene with Java Server Pages?
References: <caea1c7805092108204760427f@mail.gmail.com>
In-Reply-To: <caea1c7805092108204760427f@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 21 Sep 2005 17:15:35.0755 (UTC) FILETIME=[149289B0:01C5BED0]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,
I search for a JSP examples of a simple search application with Lucene.
I try to execute the lucene search as a .jsp file but it doesn't work.
Do you know where can I found information about this topic

Thank You


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16539-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 21 17:56:49 2005
Return-Path: <java-user-return-16539-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94889 invoked from network); 21 Sep 2005 17:56:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Sep 2005 17:56:49 -0000
Received: (qmail 52292 invoked by uid 500); 21 Sep 2005 17:56:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 52261 invoked by uid 500); 21 Sep 2005 17:56:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 52236 invoked by uid 99); 21 Sep 2005 17:56:45 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Sep 2005 10:56:45 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.200.36] (HELO web31103.mail.mud.yahoo.com) (68.142.200.36)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 21 Sep 2005 10:56:52 -0700
Received: (qmail 30668 invoked by uid 60001); 21 Sep 2005 17:56:22 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=gDtA6L+qYWBImIjaZPpmxbzbxyeydOH8LcitEd2rPJRGeQvOJ7vTBw1J3si9ij4EwOyA0saJRCdJ1gLIiOu9fOn4kAC346c0NAXPhhW+/AXemij1BiAQX/9dV7RiM2AIuh5rdId14LOOWPy8DXWXmPzElqA1UmTCIGFuTs/gFnA=  ;
Message-ID: <20050921175622.30666.qmail@web31103.mail.mud.yahoo.com>
Received: from [216.194.55.187] by web31103.mail.mud.yahoo.com via HTTP; Wed, 21 Sep 2005 10:56:22 PDT
Date: Wed, 21 Sep 2005 10:56:22 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: searching problem
To: java-user@lucene.apache.org
In-Reply-To: <cb1a9400509211044141bb04b@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,

You could extract the file name extension at index time, and index it
as a Field.Keyword.  Then you can search for it with a simple TermQuery
or <fieldname>:<extension> syntax using QueryParser.

Otis
P.S.
Please don't cross-post - use java-user@lucene list


--- haipeng du <haipengdu@gmail.com> wrote:

> how could I search lucene that contains words with specified suffix?
> Such as
> to get all documents that "filename" ends with ".pdf".
> Thanks a lot.
> --
> Haipeng Du
> Software Engineer
> Comphealth,
> Salt Lake City
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16540-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 21 17:58:53 2005
Return-Path: <java-user-return-16540-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95537 invoked from network); 21 Sep 2005 17:58:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Sep 2005 17:58:53 -0000
Received: (qmail 55374 invoked by uid 500); 21 Sep 2005 17:58:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 55352 invoked by uid 500); 21 Sep 2005 17:58:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 55329 invoked by uid 99); 21 Sep 2005 17:58:48 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Sep 2005 10:58:48 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Sep 2005 10:58:55 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 3917B13E200A; Wed, 21 Sep 2005 13:58:23 -0400 (EDT)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 936AD13E2008
	for <java-user@lucene.apache.org>; Wed, 21 Sep 2005 13:58:11 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <b487c137050921091748f86948@mail.gmail.com>
References: <b487c1370509210802a2fb898@mail.gmail.com> <b487c137050921091748f86948@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <B9A3A699-44B9-41C9-BD8E-38C64A84215D@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: standardTokenizer - how to terminate at End of Stream
Date: Wed, 21 Sep 2005 13:56:35 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.7 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Could you elaborate on what you're trying to do, please?

Using StandardTokenizer in this low-level fashion is practically  
unheard of, so I think knowing what you're attempting to do will help  
us help you :)

     Erik


On Sep 21, 2005, at 12:17 PM, Beady Geraghty wrote:

> I see some definitions in StandardTokenizerConstants.java
> Perhaps these are the values for t.kind.
>  Perhaps, I was confused between between the usage of
> getNextToken() and next() in the standard analyzer.
> When should one use getNextToken() instead of next()
>  I am just starting to use Lucene, so please excuse these
> simple questions.
>  Thanks
>
>
>  On 9/21/05, Beady Geraghty <beadygeraghty@gmail.com> wrote:
>
>>
>> Could someone tell me how to use the StandardTokenizer properly ?
>>  I thought that if the tokenizer.getNextToken() returns null, then  
>> it is
>> the end of stream. I have a loop that tries to get the next token  
>> until
>> it is null. But the loop doesn't terminate.
>> I tried to termintae the loop by t.kind == 0, and it seems to have  
>> stopped
>> upon the end of stream. I am not sure what t.kind really is.
>> The code mentioned that it is defined in Constants.java, and I looked
>> that up, but it is apparent not the right file. Maybe I am  
>> pointing to
>> a wrong directory.
>>
>>
>> StandardTokenizer tokenizer = new StandardTokenizer( r ); // r is  
>> a reader
>> int count = 0;
>> Token t = tokenizer .getNextToken();
>>
>> while (t != null) {
>> count++;
>> //if (t.kind == 0)
>> // break;
>> System.out.println( t );
>> t = tokenizer.getNextToken() ;
>> System.out.println(count);
>> }
>> System.out.println ( "done");
>>  Thank you for any input.
>>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16541-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 21 18:16:33 2005
Return-Path: <java-user-return-16541-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 3610 invoked from network); 21 Sep 2005 18:16:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Sep 2005 18:16:33 -0000
Received: (qmail 85279 invoked by uid 500); 21 Sep 2005 18:16:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 85251 invoked by uid 500); 21 Sep 2005 18:16:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 85238 invoked by uid 99); 21 Sep 2005 18:16:27 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Sep 2005 11:16:27 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lucenelist@danielnaber.de designates 80.67.18.15 as permitted sender)
Received: from [80.67.18.15] (HELO smtprelay03.ispgateway.de) (80.67.18.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Sep 2005 11:16:34 -0700
Received: (qmail 21658 invoked from network); 21 Sep 2005 18:16:02 -0000
Received: from unknown (HELO p5496DD6C.dip.t-dialin.net) ([pbs]695637@[84.150.221.108])
          (envelope-sender <lucenelist@danielnaber.de>)
          by smtprelay03.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 21 Sep 2005 18:16:02 -0000
From: Daniel Naber <lucenelist@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: Example ....Lucene with Java Server Pages?
Date: Wed, 21 Sep 2005 20:16:00 +0200
User-Agent: KMail/1.8
References: <caea1c7805092108204760427f@mail.gmail.com> <43319689.6090803@informatik.uni-siegen.de>
In-Reply-To: <43319689.6090803@informatik.uni-siegen.de>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="us-ascii"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200509212016.00215@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Wednesday 21 September 2005 19:21, Patricio Galeas wrote:

> I search for a JSP examples of a simple search application with Lucene.

lucene-1.4.3.tar.gz contains src/jsp. Also try "ant war-demo" in Lucene's 
source package.

-- 
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16542-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 21 18:16:56 2005
Return-Path: <java-user-return-16542-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 3736 invoked from network); 21 Sep 2005 18:16:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Sep 2005 18:16:54 -0000
Received: (qmail 86508 invoked by uid 500); 21 Sep 2005 18:16:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 86489 invoked by uid 500); 21 Sep 2005 18:16:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 86476 invoked by uid 99); 21 Sep 2005 18:16:48 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Sep 2005 11:16:48 -0700
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.109.24.21] (HELO smtp-vbr1.xs4all.nl) (194.109.24.21)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Sep 2005 11:16:55 -0700
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr1.xs4all.nl (8.13.3/8.13.3) with ESMTP id j8LIGOaK030260
	for <java-user@lucene.apache.org>; Wed, 21 Sep 2005 20:16:24 +0200 (CEST)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: search performance enhancement
Date: Wed, 21 Sep 2005 20:16:24 +0200
User-Agent: KMail/1.5.4
References: <8837fb7705081619464dbf95c2@mail.gmail.com> <200508192017.16216.paul.elschot@xs4all.nl> <8837fb7705092018297ce2caf2@mail.gmail.com>
In-Reply-To: <8837fb7705092018297ce2caf2@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200509212016.24212.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Wednesday 21 September 2005 03:29, John Wang wrote:
> Hi Paul and other gurus:
> 
> In a related topic, seems lucene is scoring documents that would hit in a 
> "prohibited" boolean clause, e.g. NOT field:value. It doesn't seem to make 
> sense to score a document that is to be excluded from the result. Is this a 
> difficult thing to fix?

In the svn trunk (the development version) excluded clauses of
BooleanQuery are no not scored.
The default scoring method is so cheap on CPU time that this is hardly
noticeable.

> Also in Paul's ealier comment: "... unless you have large indexes, this will 
> probably not make much difference", what is "large" in this case. 

A BitSet takes one bit per document in the index, and a SortedVIntList
takes about 1 byte per document passing the filter.
So when you need many filters, each passing less than 1/8 of the indexed
docs, a SortedVIntList takes less memory.
 
> In our case, say millions of documents match some query, but after either a 
> Filter is applied or after a NOT query (e.g. query with a NOT/prohibited 
> clause) is applied, the resulting hit list has only 10 documents. Seems the 
> millions of calls to score() is wasted, some of the score() call can be 
> computational intensive.

The FilteredQuery posted here:
http://issues.apache.org/jira/browse/LUCENE-330
will score only the documents passing the filter, for both a BitSet and
a SortedVIntList filter. Btw. this is the new place for the related filter
implementations:
http://issues.apache.org/jira/browse/LUCENE-328

> 
> Am I on the right track?

That's easy: you're using Lucene.

Regards,
Paul Elschot


> Thanks
> 
> -John
> 
> On 8/19/05, Paul Elschot <paul.elschot@xs4all.nl> wrote:
> > 
> > On Friday 19 August 2005 18:09, John Wang wrote:
> > > Hi Paul:
> > >
> > > Thanks for the pointer.
> > >
> > > How would I extend from the patch you submitted to filter out
> > > more documents not using a Filter. e.g.
> > >
> > > have a class to skip documents based on a docID: boolean
> > > isValid(int docID)
> > >
> > > My problem is I want to discard documents at query time without
> > > having to construct a BitSet via filter. I have my own memory
> > > structure to help me skip documents based the query and a docid.
> > 
> > Basically, you need to implement the next() and skipTo(int targetDoc)
> > methods from Scorer on your memory structure. They are somewhat
> > redundant (skipTo(doc() + 1) has the same semantics as next(), except
> > initially), but that is for a mix of historical and performance reasons.
> > Have a look at how this is done in the posted FilteredQuery class
> > for SortedVIntList and BitSet.
> > With only isValid(docId) these next() and skipTo() methods would
> > have to count over the document numbers, which is less than ideal.
> > 
> > When you use the posted code, iirc it is only necessary to implement the
> > SkipFilter interface on your memory structure. One can use that interface
> > to build/cache such memory structures using an IndexReader, and
> > from there the DocNrSkipper interface will do the rest (of the top of
> > my head).
> > One slight problem with the current Lucene implementation is that
> > java.lang.BitSet is not interface.
> > 
> > Regards,
> > Paul Elschot.
> > 
> > > Thanks
> > >
> > > -John
> > >
> > > On 8/16/05, Paul Elschot <paul.elschot@xs4all.nl> wrote:
> > > > Hi John,
> > > >
> > > > On Wednesday 17 August 2005 04:46, John Wang wrote:
> > > > > Hi:
> > > > >
> > > > > I posted a bug (36147) a few days ago and didn't hear anything, so
> > > > > I thought I'd try my luck on this list.
> > > > >
> > > > > The idea is to avoid score calculations on documents to be filtered
> > > > > out anyway. (e.g. via Filter object passed to the searcher class)
> > > > >
> > > > > This seems to be an easy change.
> > > >
> > > > Have a look here:
> > > > http://issues.apache.org/bugzilla/show_bug.cgi?id=32965
> > > >
> > > > > Also it would be nice to expose a method to return a score given a
> > > > > docid, e.g.
> > > > >
> > > > > float getScore(int docid)
> > > > >
> > > > > on the Scorer class.
> > > >
> > > > skipTo(int docid) and score() will do that.
> > > >
> > > > > I am gonna make the change locally and do some performance analysis
> > > > > on it and will post some numbers later.
> > > >
> > > > The default score computations are mostly table lookups, and pretty 
> > fast.
> > > > So, unless you have large indexes, this will probably not make
> > > > much difference, but any performance improvement is wellcome.
> > > > In larger indexes, it helps to use skipTo() while searching.
> > > >
> > > > Regards,
> > > > Paul Elschot
> > > >
> > > >
> > > > ---------------------------------------------------------------------
> > > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > > For additional commands, e-mail: java-user-help@lucene.apache.org
> > > >
> > > >
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > For additional commands, e-mail: java-user-help@lucene.apache.org
> > >
> > >
> > >
> > >
> > 
> > 
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> > 
> >
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16543-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 21 18:55:34 2005
Return-Path: <java-user-return-16543-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 18486 invoked from network); 21 Sep 2005 18:55:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Sep 2005 18:55:34 -0000
Received: (qmail 48413 invoked by uid 500); 21 Sep 2005 18:55:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47829 invoked by uid 500); 21 Sep 2005 18:55:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47816 invoked by uid 99); 21 Sep 2005 18:55:28 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Sep 2005 11:55:28 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [212.227.126.177] (HELO moutng.kundenserver.de) (212.227.126.177)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Sep 2005 11:55:35 -0700
Received: from 59-113-67-201.dynamic.hinet.net [59.113.67.201] (helo=[127.0.0.1])
	by mrelayeu.kundenserver.de with ESMTP (Nemesis),
	id 0MKwtQ-1EI9kD00Im-0006Ix; Wed, 21 Sep 2005 20:55:01 +0200
Message-ID: <4331AC39.7080809@matrix-web.de>
Date: Thu, 22 Sep 2005 02:53:45 +0800
From: =?ISO-8859-1?Q?Matthias_Br=E4uer?= <newsletter@matrix-web.de>
Reply-To:  matthew@matrix-web.de
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: de-DE, de, en-us, en
MIME-Version: 1.0
To: "Vanlerberghe, Luc" <Luc.Vanlerberghe@bvdep.com>
CC:  java-user@lucene.apache.org
Subject: Re: "Best-practice" in a web application AND live update of index
 used by Tomcat
References: <950FF7DE40C2B64CAF80B564732927E104B30566@exchange.be.bvd>
In-Reply-To: <950FF7DE40C2B64CAF80B564732927E104B30566@exchange.be.bvd>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Provags-ID: kundenserver.de abuse@kundenserver.de login:db97d52989a6103bdc81fbf3f8dc5f8f
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,

>Are you sure that both processes use the same directory to store the Lock files?
>  
>
Well, the variable FSDirectory.LOCK_DIR shows for both applications the 
same value (the temp directory in my home directory C:\Documents and 
Settings\Matthew\...). 

>If both processes are on the same machine, they will both default to the same local directory and you won't see the problem.
>  
>
But I do:

Caused by: java.io.IOException: Cannot delete _28.cfs
    at org.apache.lucene.store.FSDirectory.create(FSDirectory.java:144)
    at org.apache.lucene.store.FSDirectory.<init>(FSDirectory.java:128)
    at 
org.apache.lucene.store.FSDirectory.getDirectory(FSDirectory.java:102)
    at org.apache.lucene.index.IndexWriter.<init>(IndexWriter.java:193)

This happens, as explained, both when I try to reindex while the index 
is open in Luke and also when a Searcher of my web application is not 
closed yet.

>It's probably because the Writer isn't aware that a Reader is using the files that it tries to delete the obsolete ones immediately.  On Windows machines, the list of files that cannot be deleted immediately is stored in the file "deletable".
>  
>
There is no such file in my index directory. This might be the reason 
but how do I convince Lucene to create such a file?

Kind regards,
Matthias



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16544-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 21 20:59:20 2005
Return-Path: <java-user-return-16544-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92858 invoked from network); 21 Sep 2005 20:59:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Sep 2005 20:59:19 -0000
Received: (qmail 56871 invoked by uid 500); 21 Sep 2005 20:59:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 56852 invoked by uid 500); 21 Sep 2005 20:59:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 56835 invoked by uid 99); 21 Sep 2005 20:59:13 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Sep 2005 13:59:13 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.240] (HELO web51809.mail.yahoo.com) (206.190.38.240)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 21 Sep 2005 13:59:19 -0700
Received: (qmail 60863 invoked by uid 60001); 21 Sep 2005 20:58:48 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=Wkfuzs0yvk9l/G79EWgOwhz5VOKHQF7KRJvz7mrrBwrllAApn7ONIHCLvxZ8DhH/7krBZtvodZv4wMzpbSoR8VxIFunTcW6FkUqmyGPWfMONAklwmqkaBfpioOUUL/p9vhLALU93+oGBKgnJzMCHcocI2jbmBZ38NHTUFd2SdTA=  ;
Message-ID: <20050921205848.60861.qmail@web51809.mail.yahoo.com>
Received: from [198.87.131.194] by web51809.mail.yahoo.com via HTTP; Wed, 21 Sep 2005 13:58:47 PDT
Date: Wed, 21 Sep 2005 13:58:47 -0700 (PDT)
From: James Huang <metaprgmr@yahoo.com>
Subject: Re: Example ....Lucene with Java Server Pages?
To: java-user@lucene.apache.org
In-Reply-To: <200509212016.00215@danielnaber.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

That demo (results.jsp) opens a IndexSearcher per each
request, which I deem not really the right way of
using Lucene in a web app.

I used jspInit() to initiate a servlet-wide instance:

<%!
   IndexSearcher searcher = null;

   public void jspInit() {
      searcher = ...;
   }
%>

Still not complete sure if this is the best way, but
at least not every new IndexSearcher per request.

-James

--- Daniel Naber <lucenelist@danielnaber.de> wrote:

> On Wednesday 21 September 2005 19:21, Patricio
> Galeas wrote:
> 
> > I search for a JSP examples of a simple search
> application with Lucene.
> 
> lucene-1.4.3.tar.gz contains src/jsp. Also try "ant
> war-demo" in Lucene's 
> source package.
> 
> -- 
> http://www.danielnaber.de
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail:
> java-user-help@lucene.apache.org
> 
> 


__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16545-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 21 21:22:12 2005
Return-Path: <java-user-return-16545-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 99984 invoked from network); 21 Sep 2005 21:22:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Sep 2005 21:22:12 -0000
Received: (qmail 84195 invoked by uid 500); 21 Sep 2005 21:22:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83329 invoked by uid 500); 21 Sep 2005 21:22:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 83316 invoked by uid 99); 21 Sep 2005 21:22:07 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Sep 2005 14:22:07 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.201.75] (HELO web31113.mail.mud.yahoo.com) (68.142.201.75)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 21 Sep 2005 14:22:14 -0700
Received: (qmail 25431 invoked by uid 60001); 21 Sep 2005 21:21:44 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=kn6QS3kPKTJldpRcnX49a9I3ytacQWJOrv3Pq9JkO0Kc2mP2A5UTV1Lym9EKp+b9tPZm2TWwwj8KOSngFPrqEPM+/E6pP7ydAw3p31zyZaFpN2WHE27PUXBPipU8n3eOVI0eGwUhPsN97FQl4CPWIIOLYH+RF4a9mZXCvaKSBwo=  ;
Message-ID: <20050921212144.25429.qmail@web31113.mail.mud.yahoo.com>
Received: from [216.194.55.187] by web31113.mail.mud.yahoo.com via HTTP; Wed, 21 Sep 2005 14:21:44 PDT
Date: Wed, 21 Sep 2005 14:21:44 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Example ....Lucene with Java Server Pages?
To: java-user@lucene.apache.org
In-Reply-To: <20050921205848.60861.qmail@web51809.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

James,

Well, if you want to do things right, then you should probably also get
that IndexSearcher (or any other Java code) out of your JSP. :)

You are right, IndexSearchers are meant to be reused.  When the index
changes, you need to open a new one, if you want to see the changes.

Otis

--- James Huang <metaprgmr@yahoo.com> wrote:

> That demo (results.jsp) opens a IndexSearcher per each
> request, which I deem not really the right way of
> using Lucene in a web app.
> 
> I used jspInit() to initiate a servlet-wide instance:
> 
> <%!
>    IndexSearcher searcher = null;
> 
>    public void jspInit() {
>       searcher = ...;
>    }
> %>
> 
> Still not complete sure if this is the best way, but
> at least not every new IndexSearcher per request.
> 
> -James
> 
> --- Daniel Naber <lucenelist@danielnaber.de> wrote:
> 
> > On Wednesday 21 September 2005 19:21, Patricio
> > Galeas wrote:
> > 
> > > I search for a JSP examples of a simple search
> > application with Lucene.
> > 
> > lucene-1.4.3.tar.gz contains src/jsp. Also try "ant
> > war-demo" in Lucene's 
> > source package.
> > 
> > -- 
> > http://www.danielnaber.de
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> > java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail:
> > java-user-help@lucene.apache.org
> > 
> > 
> 
> 
> __________________________________________________
> Do You Yahoo!?
> Tired of spam?  Yahoo! Mail has the best spam protection around 
> http://mail.yahoo.com 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16546-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 21 21:28:52 2005
Return-Path: <java-user-return-16546-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1496 invoked from network); 21 Sep 2005 21:28:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 21 Sep 2005 21:28:50 -0000
Received: (qmail 95815 invoked by uid 500); 21 Sep 2005 21:28:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95787 invoked by uid 500); 21 Sep 2005 21:28:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95689 invoked by uid 99); 21 Sep 2005 21:28:37 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Sep 2005 14:28:37 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.236] (HELO web51805.mail.yahoo.com) (206.190.38.236)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 21 Sep 2005 14:28:45 -0700
Received: (qmail 65737 invoked by uid 60001); 21 Sep 2005 21:28:12 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=kM4cZzDBoSCi4Wx62gfjEL3UDGKgMT8Dec6tBdsINiVAu/yElSOlgUcnpaUUrEA9oB8iYeO6UReuA43MdQzW0eUO42joeVlR4Ww4nhOMNez38HaM43blmt3NHRYEWtbaFNT0UqRNa/2w5Wfw3BbV20mZc2QjeoJVnha6JNy7Y4Y=  ;
Message-ID: <20050921212812.65735.qmail@web51805.mail.yahoo.com>
Received: from [198.87.131.194] by web51805.mail.yahoo.com via HTTP; Wed, 21 Sep 2005 14:28:12 PDT
Date: Wed, 21 Sep 2005 14:28:12 -0700 (PDT)
From: James Huang <metaprgmr@yahoo.com>
Subject: Re: Example ....Lucene with Java Server Pages?
To: java-user@lucene.apache.org
In-Reply-To: <20050921212144.25429.qmail@web31113.mail.mud.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

That's exactly why I don't feel mine is the best
solution. Many people have been asking about the right
pattern for Lucene in webapps, and I'm paying close
attention to those.

To open an IndexSearcher is easy; the hard part for me
is when to close it (to be ready for a potentially new
index.) Perhaps a special HTTP command to trigger
that? I don't know.

-James

--- Otis Gospodnetic <otis_gospodnetic@yahoo.com>
wrote:

> James,
> 
> Well, if you want to do things right, then you
> should probably also get
> that IndexSearcher (or any other Java code) out of
> your JSP. :)
> 
> You are right, IndexSearchers are meant to be
> reused.  When the index
> changes, you need to open a new one, if you want to
> see the changes.
> 
> Otis
> 
> --- James Huang <metaprgmr@yahoo.com> wrote:
> 
> > That demo (results.jsp) opens a IndexSearcher per
> each
> > request, which I deem not really the right way of
> > using Lucene in a web app.
> > 
> > I used jspInit() to initiate a servlet-wide
> instance:
> > 
> > <%!
> >    IndexSearcher searcher = null;
> > 
> >    public void jspInit() {
> >       searcher = ...;
> >    }
> > %>
> > 
> > Still not complete sure if this is the best way,
> but
> > at least not every new IndexSearcher per request.
> > 
> > -James
> > 
> > --- Daniel Naber <lucenelist@danielnaber.de>
> wrote:
> > 
> > > On Wednesday 21 September 2005 19:21, Patricio
> > > Galeas wrote:
> > > 
> > > > I search for a JSP examples of a simple search
> > > application with Lucene.
> > > 
> > > lucene-1.4.3.tar.gz contains src/jsp. Also try
> "ant
> > > war-demo" in Lucene's 
> > > source package.
> > > 
> > > -- 
> > > http://www.danielnaber.de
> > > 
> > >
> >
>
---------------------------------------------------------------------
> > > To unsubscribe, e-mail:
> > > java-user-unsubscribe@lucene.apache.org
> > > For additional commands, e-mail:
> > > java-user-help@lucene.apache.org
> > > 
> > > 
> > 
> > 
> > __________________________________________________
> > Do You Yahoo!?
> > Tired of spam?  Yahoo! Mail has the best spam
> protection around 
> > http://mail.yahoo.com 
> > 
> >
>
---------------------------------------------------------------------
> > To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail:
> java-user-help@lucene.apache.org
> > 
> > 
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail:
> java-user-help@lucene.apache.org
> 
> 



	
		
______________________________________________________ 
Yahoo! for Good 
Donate to the Hurricane Katrina relief effort. 
http://store.yahoo.com/redcross-donate3/ 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16547-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 22 00:56:20 2005
Return-Path: <java-user-return-16547-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53926 invoked from network); 22 Sep 2005 00:56:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Sep 2005 00:56:20 -0000
Received: (qmail 84254 invoked by uid 500); 22 Sep 2005 00:56:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84224 invoked by uid 500); 22 Sep 2005 00:56:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84209 invoked by uid 99); 22 Sep 2005 00:56:15 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Sep 2005 17:56:15 -0700
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_30_40,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of beadygeraghty@gmail.com designates 66.249.82.192 as permitted sender)
Received: from [66.249.82.192] (HELO xproxy.gmail.com) (66.249.82.192)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Sep 2005 17:56:24 -0700
Received: by xproxy.gmail.com with SMTP id h30so226357wxd
        for <java-user@lucene.apache.org>; Wed, 21 Sep 2005 17:55:53 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:cc:in-reply-to:mime-version:content-type:references;
        b=RLZJY2DtZOeRoVKjfYu+XLjJA6xa2/gFIkr5jDpxHUv3ZRW9YDADtevS/pTi8QpaP1AeeA1B4FAdqhbnuw3N6BNqFRCAYhf21qibZPqBBh2KpNgyKTMulDndJenwB1zJvucleIUfKayF6iE2uvPkywe1PHIIb9W4GK5W1yhFeWI=
Received: by 10.70.110.6 with SMTP id i6mr2850203wxc;
        Wed, 21 Sep 2005 17:55:53 -0700 (PDT)
Received: by 10.70.31.14 with HTTP; Wed, 21 Sep 2005 17:55:53 -0700 (PDT)
Message-ID: <b487c13705092117556680a36e@mail.gmail.com>
Date: Wed, 21 Sep 2005 20:55:53 -0400
From: Beady Geraghty <beadygeraghty@gmail.com>
Reply-To: Beady Geraghty <beadygeraghty@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: standardTokenizer - how to terminate at End of Stream
Cc: erik@ehatchersolutions.com
In-Reply-To: <B9A3A699-44B9-41C9-BD8E-38C64A84215D@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_7909_5052105.1127350553914"
References: <b487c1370509210802a2fb898@mail.gmail.com>
	 <b487c137050921091748f86948@mail.gmail.com>
	 <B9A3A699-44B9-41C9-BD8E-38C64A84215D@ehatchersolutions.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_7909_5052105.1127350553914
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Thank you for the response.
 I was trying to do something really simple - I want to extract the context
for
terms and phrases from files that satisfy some (many) queries.
I *know* that file test.txt is a hit (because I queried the index, and
it tells me that test.txt satisfies the query). Then, I open the file, and
use Lucene's
standardTokenizer to tokenize the input. I get a token at a time
to see which token or consecutive tokens match the terms/phrases.
Then I extract the context surrounding these terms.
 I didn't try the highlighter because I don't really need to "highlight",
and I didn't
look clearly whether some of the classes provided in the package would
already do
what I need. (Although, I would imagine this is something many people would
have done what I try to do already. It appears to have a fragmenter, and I
don't
know if that is something I need.)
 Since I used the StandAnalyzer when I originally created the index,
I therefore use the StandardTokenizer to tokenize the input stream.
 Is there a better way to do what I try to do ?
  From your comment below, it appears that I should just use next() instead
of
getNextToken(), is that correct ?
 Thanks


 On 9/21/05, Erik Hatcher <erik@ehatchersolutions.com> wrote:
>
> Could you elaborate on what you're trying to do, please?
>
> Using StandardTokenizer in this low-level fashion is practically
> unheard of, so I think knowing what you're attempting to do will help
> us help you :)
>
> Erik
>
>
>

------=_Part_7909_5052105.1127350553914--

From java-user-return-16548-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 22 03:44:12 2005
Return-Path: <java-user-return-16548-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92875 invoked from network); 22 Sep 2005 03:44:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Sep 2005 03:44:12 -0000
Received: (qmail 9190 invoked by uid 500); 22 Sep 2005 03:44:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9164 invoked by uid 500); 22 Sep 2005 03:44:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 9143 invoked by uid 99); 22 Sep 2005 03:44:05 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Sep 2005 20:44:05 -0700
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Sep 2005 20:44:13 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 27B975B77C; Wed, 21 Sep 2005 20:43:35 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id CBFCE7F45E
	for <java-user@lucene.apache.org>; Wed, 21 Sep 2005 20:43:35 -0700 (PDT)
Date: Wed, 21 Sep 2005 20:43:35 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: standardTokenizer - how to terminate at End of Stream
In-Reply-To: <b487c13705092117556680a36e@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0509212040110.14414@hal.rescomp.berkeley.edu>
References: <b487c1370509210802a2fb898@mail.gmail.com> 
 <b487c137050921091748f86948@mail.gmail.com> 
 <B9A3A699-44B9-41C9-BD8E-38C64A84215D@ehatchersolutions.com>
 <b487c13705092117556680a36e@mail.gmail.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


:  Since I used the StandAnalyzer when I originally created the index,
: I therefore use the StandardTokenizer to tokenize the input stream.
:  Is there a better way to do what I try to do ?
:   From your comment below, it appears that I should just use next() instead

if your goal is to recreate the tokens you get from using
StandardAnalyzer, then don't use StandardTokenizer -- use
StandardAnalyzer.  It does other things besides tokenizing.  get the
TokenStream from StandardAnalyzer and it's next() method should do what
you want.



None of which should imply that this is the best way to achieve your goal
-- i'm sure the highlighter package will do what you want, but i've never
used it personally.


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16549-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 22 04:15:24 2005
Return-Path: <java-user-return-16549-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5960 invoked from network); 22 Sep 2005 04:15:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Sep 2005 04:15:24 -0000
Received: (qmail 26399 invoked by uid 500); 22 Sep 2005 04:15:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 26365 invoked by uid 500); 22 Sep 2005 04:15:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 26338 invoked by uid 99); 22 Sep 2005 04:15:19 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Sep 2005 21:15:19 -0700
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of jeff.rodenburg@gmail.com designates 64.233.162.195 as permitted sender)
Received: from [64.233.162.195] (HELO zproxy.gmail.com) (64.233.162.195)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Sep 2005 21:15:27 -0700
Received: by zproxy.gmail.com with SMTP id q3so84858nzb
        for <java-user@lucene.apache.org>; Wed, 21 Sep 2005 21:14:57 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type;
        b=SJVg0pgC77QjI2jNzJJ3wI6zgTbo2mRtRZLj+V3FYt2wfYJ2eyzlwPT3xmXnmrr8L7S/bN8aAjysDLwJZhWnnKM4H+sb5j0+1hll1pQeqvZdJy2M0/BjGtULm2iuzK4LIkPXBLAC8RbKiRqrfDvbhVZpPL6rj5YwRfrAxfmX7M8=
Received: by 10.54.40.56 with SMTP id n56mr2458865wrn;
        Wed, 21 Sep 2005 21:14:57 -0700 (PDT)
Received: by 10.54.13.32 with HTTP; Wed, 21 Sep 2005 21:14:57 -0700 (PDT)
Message-ID: <50f433360509212114242cf42e@mail.gmail.com>
Date: Wed, 21 Sep 2005 21:14:57 -0700
From: Jeff Rodenburg <jeff.rodenburg@gmail.com>
Reply-To: Jeff Rodenburg <jeff.rodenburg@gmail.com>
To: java-user@lucene.apache.org
Subject: Suggestions for analysis
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_987_25595597.1127362497391"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_987_25595597.1127362497391
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I'm looking for some suggestions on an analyzer decision. I've got my own
thoughts to this already, but would like some initial feedback on it first.

The scenario:

   - An index of geographic information: cities, towns, states,
   neighborhoods, zipcodes, generic names, etc. Examples are "New York, NY"=
,
   "New York", "Midtown", "10012", "The Big Apple".
   - I have these mapped to underlying geographic data points: census
   data, postal data, mapping data, etc.
   - I want some of these to carry more precedence than others when
   conflicting/matching terms exist, i.e. "Washington" should score
   Washington D.C. higher than the state of Washington. This would be
   decided on an item-by-item basis, and not dictated by one broad field.
   - I need the right mix for searches to work as I expect. As an
   example, a search for "Wedgewood WA" would ideally not match "Wedgewood =
GA".

I'm starting with the StandardAnalyzer and thinking of possibly extending i=
t
to carry in some of the business rules meant to come into play for
tie-breakers.

Comments appreciated.

Thanks,
jeff r.

------=_Part_987_25595597.1127362497391--

From java-user-return-16550-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 22 04:24:38 2005
Return-Path: <java-user-return-16550-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7969 invoked from network); 22 Sep 2005 04:24:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Sep 2005 04:24:38 -0000
Received: (qmail 31453 invoked by uid 500); 22 Sep 2005 04:24:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31419 invoked by uid 500); 22 Sep 2005 04:24:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31406 invoked by uid 99); 22 Sep 2005 04:24:32 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Sep 2005 21:24:32 -0700
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_30_40,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of beadygeraghty@gmail.com designates 66.249.82.200 as permitted sender)
Received: from [66.249.82.200] (HELO xproxy.gmail.com) (66.249.82.200)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 21 Sep 2005 21:24:38 -0700
Received: by xproxy.gmail.com with SMTP id s19so376168wxc
        for <java-user@lucene.apache.org>; Wed, 21 Sep 2005 21:24:08 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=pq/UTVUbP5BO9EFhGV4v0fYiO/JLTKrU48yKUMVuooZUE52JYPNyRhl3gs6rUSmDLBzj9+X+ZiYCBxNenDoYNBs/vNU0yHSo9tF4bBL1PNBjfs9l57rKUZTSCE0KZ2GzROx8jEg1dnWNMxsOTSTMUMxkVKSa+Gs7z3ii2yiAG/A=
Received: by 10.70.72.11 with SMTP id u11mr60713wxa;
        Wed, 21 Sep 2005 21:24:08 -0700 (PDT)
Received: by 10.70.31.14 with HTTP; Wed, 21 Sep 2005 21:24:08 -0700 (PDT)
Message-ID: <b487c13705092121241df0d3c7@mail.gmail.com>
Date: Thu, 22 Sep 2005 00:24:08 -0400
From: Beady Geraghty <beadygeraghty@gmail.com>
Reply-To: Beady Geraghty <beadygeraghty@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: standardTokenizer - how to terminate at End of Stream
In-Reply-To: <Pine.LNX.4.58.0509212040110.14414@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_8684_3002547.1127363048534"
References: <b487c1370509210802a2fb898@mail.gmail.com>
	 <b487c137050921091748f86948@mail.gmail.com>
	 <B9A3A699-44B9-41C9-BD8E-38C64A84215D@ehatchersolutions.com>
	 <b487c13705092117556680a36e@mail.gmail.com>
	 <Pine.LNX.4.58.0509212040110.14414@hal.rescomp.berkeley.edu>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_8684_3002547.1127363048534
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Thank you for your response.
That was my original goal.
 On 9/21/05, Chris Hostetter <hossman_lucene@fucit.org> wrote:
>
>
> : Since I used the StandAnalyzer when I originally created the index,
> : I therefore use the StandardTokenizer to tokenize the input stream.
> : Is there a better way to do what I try to do ?
> : From your comment below, it appears that I should just use next()
> instead
>
> if your goal is to recreate the tokens you get from using
> StandardAnalyzer, then don't use StandardTokenizer -- use
> StandardAnalyzer. It does other things besides tokenizing. get the
> TokenStream from StandardAnalyzer and it's next() method should do what
> you want.
>
>
>
> None of which should imply that this is the best way to achieve your goal
> -- i'm sure the highlighter package will do what you want, but i've never
> used it personally.
>
>
> -Hoss
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_8684_3002547.1127363048534--

From java-user-return-16551-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 22 08:37:07 2005
Return-Path: <java-user-return-16551-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 83798 invoked from network); 22 Sep 2005 08:37:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Sep 2005 08:37:07 -0000
Received: (qmail 42602 invoked by uid 500); 22 Sep 2005 08:37:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42573 invoked by uid 500); 22 Sep 2005 08:37:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42557 invoked by uid 99); 22 Sep 2005 08:37:00 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Sep 2005 01:37:00 -0700
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [212.33.142.3] (HELO challenger.coretrek.no) (212.33.142.3)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Sep 2005 01:37:08 -0700
Received: from enterprise.intra.coretrek.com (wormhole.coretrek.no [212.33.142.10])
	by challenger.coretrek.no (Postfix) with ESMTP id E1B09F8C31
	for <java-user@lucene.apache.org>; Thu, 22 Sep 2005 10:36:29 +0200 (CEST)
Date: Thu, 22 Sep 2005 10:36:29 +0200 (CEST)
From: =?iso-8859-15?Q?Endre_St=F8lsvik?= <Endre@Stolsvik.com>
X-X-Sender: endre@enterprise.intra.coretrek.com
To: java-user@lucene.apache.org
Subject: Re: Splitting of words
In-Reply-To: <E663A057-E178-44B9-B1EB-799FC34F4CD3@ehatchersolutions.com>
Message-ID: <20050922103324.U75073@enterprise.intra.coretrek.com>
References: <000001c5b855$c8473d10$7c00320a@passindien.com>
 <E663A057-E178-44B9-B1EB-799FC34F4CD3@ehatchersolutions.com>
X-My-Opinion: War and bombs are bad. Peace and flowers are good. ;-D
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


| The StandardTokenizer is the most sophisticated one built into Lucene.  You
| can see the types of tokens it emits by looking at the javadoc here:
|    <http://lucene.apache.org/java/docs/api/org/apache/lucene/analysis/standard/StandardTokenizer.html>
| 
| It recognizes e-mail addresses, interior apostrophe words (like o'clock),
| hostnames/IP addresses (like lucene.apache.org), acronyms, and CJK characters.

It would be great if it also separated "UpperCamelCase" and 
"lowerCamelCase" words into both the different words, and one long word. 
Several uppercase, followed by lowercase, would most probably be best done 
like HTTPUnit -> http unit.
  This is of course due to, for my part, java language influence. But I 
believe it is custom in many programming languages to use lowerCamelCase 
for e.g. variables. Filenames too.

Regards,
Endre.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16552-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 22 09:46:32 2005
Return-Path: <java-user-return-16552-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8552 invoked from network); 22 Sep 2005 09:46:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Sep 2005 09:46:31 -0000
Received: (qmail 25866 invoked by uid 500); 22 Sep 2005 09:46:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25072 invoked by uid 500); 22 Sep 2005 09:46:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25059 invoked by uid 99); 22 Sep 2005 09:46:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Sep 2005 02:46:25 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [193.123.241.50] (HELO rivette.int.mediasurface.com) (193.123.241.50)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Sep 2005 02:46:33 -0700
Received: from rivette.int.mediasurface.com (localhost [127.0.0.1])
	by rivette.int.mediasurface.com (8.11.6+Sun/8.11.6) with ESMTP id j8M9jxA17983
	for <java-user@lucene.apache.org>; Thu, 22 Sep 2005 10:45:59 +0100 (BST)
Received: from neptune.int.mediasurface.com (neptune.int.mediasurface.com [10.0.5.71])
	by rivette.int.mediasurface.com (8.11.6+Sun/8.11.6) with ESMTP id j8M9jwI17979
	for <java-user@lucene.apache.org>; Thu, 22 Sep 2005 10:45:58 +0100 (BST)
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Subject: Lucene trunk update question. WAS RE: search performance enhancement
Date: Thu, 22 Sep 2005 10:45:58 +0100
Message-ID: <BE3E7BC7F7553B4A9362D4192ECD308AF6993F@neptune.int.mediasurface.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Lucene trunk update question. WAS RE: search performance enhancement
Thread-Index: AcW+2KRDcZSTBVheSUCQ3wdIAT0KqgAgYpQQ
From: "Peter Gelderbloem" <Peter.Gelderbloem@mediasurface.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I noticed you posted links to bits of code below.
How and when will these be made part of the svn trunk?
It seems universally useful and I think should be the default behaviour.

Peter Gelderbloem=20
-----Original Message-----
From: Paul Elschot [mailto:paul.elschot@xs4all.nl]=20
Sent: 21 September 2005 19:16
To: java-user@lucene.apache.org
Subject: Re: search performance enhancement

On Wednesday 21 September 2005 03:29, John Wang wrote:
> Hi Paul and other gurus:
>=20
> In a related topic, seems lucene is scoring documents that would hit
in a=20
> "prohibited" boolean clause, e.g. NOT field:value. It doesn't seem to
make=20
> sense to score a document that is to be excluded from the result. Is
this a=20
> difficult thing to fix?

In the svn trunk (the development version) excluded clauses of
BooleanQuery are no not scored.
The default scoring method is so cheap on CPU time that this is hardly
noticeable.

> Also in Paul's ealier comment: "... unless you have large indexes,
this will=20
> probably not make much difference", what is "large" in this case.=20

A BitSet takes one bit per document in the index, and a SortedVIntList
takes about 1 byte per document passing the filter.
So when you need many filters, each passing less than 1/8 of the indexed
docs, a SortedVIntList takes less memory.
=20
> In our case, say millions of documents match some query, but after
either a=20
> Filter is applied or after a NOT query (e.g. query with a
NOT/prohibited=20
> clause) is applied, the resulting hit list has only 10 documents.
Seems the=20
> millions of calls to score() is wasted, some of the score() call can
be=20
> computational intensive.

The FilteredQuery posted here:
http://issues.apache.org/jira/browse/LUCENE-330
will score only the documents passing the filter, for both a BitSet and
a SortedVIntList filter. Btw. this is the new place for the related
filter
implementations:
http://issues.apache.org/jira/browse/LUCENE-328

>=20
> Am I on the right track?

That's easy: you're using Lucene.

Regards,
Paul Elschot


> Thanks
>=20
> -John
>=20
> On 8/19/05, Paul Elschot <paul.elschot@xs4all.nl> wrote:
> >=20
> > On Friday 19 August 2005 18:09, John Wang wrote:
> > > Hi Paul:
> > >
> > > Thanks for the pointer.
> > >
> > > How would I extend from the patch you submitted to filter out
> > > more documents not using a Filter. e.g.
> > >
> > > have a class to skip documents based on a docID: boolean
> > > isValid(int docID)
> > >
> > > My problem is I want to discard documents at query time without
> > > having to construct a BitSet via filter. I have my own memory
> > > structure to help me skip documents based the query and a docid.
> >=20
> > Basically, you need to implement the next() and skipTo(int
targetDoc)
> > methods from Scorer on your memory structure. They are somewhat
> > redundant (skipTo(doc() + 1) has the same semantics as next(),
except
> > initially), but that is for a mix of historical and performance
reasons.
> > Have a look at how this is done in the posted FilteredQuery class
> > for SortedVIntList and BitSet.
> > With only isValid(docId) these next() and skipTo() methods would
> > have to count over the document numbers, which is less than ideal.
> >=20
> > When you use the posted code, iirc it is only necessary to implement
the
> > SkipFilter interface on your memory structure. One can use that
interface
> > to build/cache such memory structures using an IndexReader, and
> > from there the DocNrSkipper interface will do the rest (of the top
of
> > my head).
> > One slight problem with the current Lucene implementation is that
> > java.lang.BitSet is not interface.
> >=20
> > Regards,
> > Paul Elschot.
> >=20
> > > Thanks
> > >
> > > -John
> > >
> > > On 8/16/05, Paul Elschot <paul.elschot@xs4all.nl> wrote:
> > > > Hi John,
> > > >
> > > > On Wednesday 17 August 2005 04:46, John Wang wrote:
> > > > > Hi:
> > > > >
> > > > > I posted a bug (36147) a few days ago and didn't hear
anything, so
> > > > > I thought I'd try my luck on this list.
> > > > >
> > > > > The idea is to avoid score calculations on documents to be
filtered
> > > > > out anyway. (e.g. via Filter object passed to the searcher
class)
> > > > >
> > > > > This seems to be an easy change.
> > > >
> > > > Have a look here:
> > > > http://issues.apache.org/bugzilla/show_bug.cgi?id=3D32965
> > > >
> > > > > Also it would be nice to expose a method to return a score
given a
> > > > > docid, e.g.
> > > > >
> > > > > float getScore(int docid)
> > > > >
> > > > > on the Scorer class.
> > > >
> > > > skipTo(int docid) and score() will do that.
> > > >
> > > > > I am gonna make the change locally and do some performance
analysis
> > > > > on it and will post some numbers later.
> > > >
> > > > The default score computations are mostly table lookups, and
pretty=20
> > fast.
> > > > So, unless you have large indexes, this will probably not make
> > > > much difference, but any performance improvement is wellcome.
> > > > In larger indexes, it helps to use skipTo() while searching.
> > > >
> > > > Regards,
> > > > Paul Elschot
> > > >
> > > >
> > > >
---------------------------------------------------------------------
> > > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > > For additional commands, e-mail:
java-user-help@lucene.apache.org
> > > >
> > > >
> > >
> > >
---------------------------------------------------------------------
> > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > For additional commands, e-mail: java-user-help@lucene.apache.org
> > >
> > >
> > >
> > >
> >=20
> >=20
> >
---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >=20
> >
>=20


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16553-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 22 12:50:59 2005
Return-Path: <java-user-return-16553-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 66045 invoked from network); 22 Sep 2005 12:50:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Sep 2005 12:50:58 -0000
Received: (qmail 65269 invoked by uid 500); 22 Sep 2005 12:50:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 65243 invoked by uid 500); 22 Sep 2005 12:50:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 65230 invoked by uid 99); 22 Sep 2005 12:50:51 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Sep 2005 05:50:51 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Sep 2005 05:50:59 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id AA46B13E2033; Thu, 22 Sep 2005 08:50:26 -0400 (EDT)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 2906D13E2007
	for <java-user@lucene.apache.org>; Thu, 22 Sep 2005 08:50:09 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <20050922103324.U75073@enterprise.intra.coretrek.com>
References: <000001c5b855$c8473d10$7c00320a@passindien.com> <E663A057-E178-44B9-B1EB-799FC34F4CD3@ehatchersolutions.com> <20050922103324.U75073@enterprise.intra.coretrek.com>
Content-Type: text/plain; charset=ISO-8859-1; delsp=yes; format=flowed
Message-Id: <D77E6281-10CE-42CC-8B69-55BC42A6C78A@ehatchersolutions.com>
Content-Transfer-Encoding: quoted-printable
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Splitting of words
Date: Thu, 22 Sep 2005 08:50:07 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Sep 22, 2005, at 4:36 AM, Endre St=F8lsvik wrote:

>
> | The StandardTokenizer is the most sophisticated one built into =20
> Lucene.  You
> | can see the types of tokens it emits by looking at the javadoc here:
> |    <http://lucene.apache.org/java/docs/api/org/apache/lucene/=20
> analysis/standard/StandardTokenizer.html>
> |
> | It recognizes e-mail addresses, interior apostrophe words (like =20
> o'clock),
> | hostnames/IP addresses (like lucene.apache.org), acronyms, and =20
> CJK characters.
>
> It would be great if it also separated "UpperCamelCase" and
> "lowerCamelCase" words into both the different words, and one long =20
> word.
> Several uppercase, followed by lowercase, would most probably be =20
> best done
> like HTTPUnit -> http unit.
>   This is of course due to, for my part, java language influence. =20
> But I
> believe it is custom in many programming languages to use =20
> lowerCamelCase
> for e.g. variables. Filenames too.

I strongly disagree.  It would not be good at all for =20
StandardTokenizer to do this.  It would be easy to write a =20
CamelCaseSplitFilter that could be used in conjunction with any =20
tokenizer.

It is important to design filters and tokenizers in the most single-=20
purpose way to allow them to be combined for various scenarios.

If such a filter is contributed, I'd happily add it to contrib/=20
analyzers - seems useful to have around.

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16554-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 22 16:55:31 2005
Return-Path: <java-user-return-16554-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72368 invoked from network); 22 Sep 2005 16:55:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Sep 2005 16:55:30 -0000
Received: (qmail 52146 invoked by uid 500); 22 Sep 2005 16:55:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 51907 invoked by uid 500); 22 Sep 2005 16:55:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 51864 invoked by uid 99); 22 Sep 2005 16:55:15 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Sep 2005 09:55:15 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Sep 2005 09:55:22 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id E4B5A13E2033; Thu, 22 Sep 2005 12:54:47 -0400 (EDT)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP
	id CAF0F13E2007; Thu, 22 Sep 2005 12:54:12 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <93B484AC-0E97-4CA8-8B9B-9927B9BCE29F@ehatchersolutions.com>
Cc: java-user@lucene.apache.org
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: working towards a release...
Date: Thu, 22 Sep 2005 12:54:07 -0400
To: java-dev@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.5 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Cross-posting...

In gearing up for a 1.9 release, I've been perusing our issue tracker  
(http://issues.apache.org/jira/browse/LUCENE) to see what low-hanging  
fruit there is that I can help address.  This message is a prod for  
others to do the same.  We have >100 open issues, some of which may  
no longer be valid, or they require more information, or need their  
patch updated relative to the current trunk, and so on.  If you have  
opinions or patches on an issue, please add them.

There are many issues that have quality patches submitted, but I  
don't feel qualified myself to assess their viability and fit.  I'll  
refrain from applying those patches unless someone, such as Doug,  
gives approval.

For Lucene users, it would be particularly helpful if you'd use the  
JIRA voting feature to vote on issues you feel strongly about having  
in Lucene 1.9/2.0.  When viewing an issue, there is a "Vote for it"  
link in the lower left.

Thanks,
     Erik



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16555-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 22 18:18:00 2005
Return-Path: <java-user-return-16555-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 96614 invoked from network); 22 Sep 2005 18:18:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Sep 2005 18:18:00 -0000
Received: (qmail 82823 invoked by uid 500); 22 Sep 2005 18:17:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82805 invoked by uid 500); 22 Sep 2005 18:17:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 82792 invoked by uid 99); 22 Sep 2005 18:17:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Sep 2005 11:17:53 -0700
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.109.24.23] (HELO smtp-vbr3.xs4all.nl) (194.109.24.23)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Sep 2005 11:18:00 -0700
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr3.xs4all.nl (8.13.3/8.13.3) with ESMTP id j8MIHUsL091666
	for <java-user@lucene.apache.org>; Thu, 22 Sep 2005 20:17:30 +0200 (CEST)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: Lucene trunk update question. WAS RE: search performance enhancement
Date: Thu, 22 Sep 2005 20:17:29 +0200
User-Agent: KMail/1.5.4
References: <BE3E7BC7F7553B4A9362D4192ECD308AF6993F@neptune.int.mediasurface.com>
In-Reply-To: <BE3E7BC7F7553B4A9362D4192ECD308AF6993F@neptune.int.mediasurface.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200509222017.29744.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Thursday 22 September 2005 11:45, Peter Gelderbloem wrote:
> I noticed you posted links to bits of code below.
> How and when will these be made part of the svn trunk?
> It seems universally useful and I think should be the default behaviour.

The code has the same licence as the trunk, so you can basically
use it as you like. Off course, more improvements would be appreciated.
I don't know when/if it will become part of the trunk.

Regards,
Paul Elschot

> Peter Gelderbloem 
> -----Original Message-----
> From: Paul Elschot [mailto:paul.elschot@xs4all.nl] 
> Sent: 21 September 2005 19:16
> To: java-user@lucene.apache.org
> Subject: Re: search performance enhancement
> 
> On Wednesday 21 September 2005 03:29, John Wang wrote:
> > Hi Paul and other gurus:
> > 
> > In a related topic, seems lucene is scoring documents that would hit
> in a 
> > "prohibited" boolean clause, e.g. NOT field:value. It doesn't seem to
> make 
> > sense to score a document that is to be excluded from the result. Is
> this a 
> > difficult thing to fix?
> 
> In the svn trunk (the development version) excluded clauses of
> BooleanQuery are no not scored.
> The default scoring method is so cheap on CPU time that this is hardly
> noticeable.
> 
> > Also in Paul's ealier comment: "... unless you have large indexes,
> this will 
> > probably not make much difference", what is "large" in this case. 
> 
> A BitSet takes one bit per document in the index, and a SortedVIntList
> takes about 1 byte per document passing the filter.
> So when you need many filters, each passing less than 1/8 of the indexed
> docs, a SortedVIntList takes less memory.
>  
> > In our case, say millions of documents match some query, but after
> either a 
> > Filter is applied or after a NOT query (e.g. query with a
> NOT/prohibited 
> > clause) is applied, the resulting hit list has only 10 documents.
> Seems the 
> > millions of calls to score() is wasted, some of the score() call can
> be 
> > computational intensive.
> 
> The FilteredQuery posted here:
> http://issues.apache.org/jira/browse/LUCENE-330
> will score only the documents passing the filter, for both a BitSet and
> a SortedVIntList filter. Btw. this is the new place for the related
> filter
> implementations:
> http://issues.apache.org/jira/browse/LUCENE-328
> 
> > 
> > Am I on the right track?
> 
> That's easy: you're using Lucene.
> 
> Regards,
> Paul Elschot
> 
> 
> > Thanks
> > 
> > -John
> > 
> > On 8/19/05, Paul Elschot <paul.elschot@xs4all.nl> wrote:
> > > 
> > > On Friday 19 August 2005 18:09, John Wang wrote:
> > > > Hi Paul:
> > > >
> > > > Thanks for the pointer.
> > > >
> > > > How would I extend from the patch you submitted to filter out
> > > > more documents not using a Filter. e.g.
> > > >
> > > > have a class to skip documents based on a docID: boolean
> > > > isValid(int docID)
> > > >
> > > > My problem is I want to discard documents at query time without
> > > > having to construct a BitSet via filter. I have my own memory
> > > > structure to help me skip documents based the query and a docid.
> > > 
> > > Basically, you need to implement the next() and skipTo(int
> targetDoc)
> > > methods from Scorer on your memory structure. They are somewhat
> > > redundant (skipTo(doc() + 1) has the same semantics as next(),
> except
> > > initially), but that is for a mix of historical and performance
> reasons.
> > > Have a look at how this is done in the posted FilteredQuery class
> > > for SortedVIntList and BitSet.
> > > With only isValid(docId) these next() and skipTo() methods would
> > > have to count over the document numbers, which is less than ideal.
> > > 
> > > When you use the posted code, iirc it is only necessary to implement
> the
> > > SkipFilter interface on your memory structure. One can use that
> interface
> > > to build/cache such memory structures using an IndexReader, and
> > > from there the DocNrSkipper interface will do the rest (of the top
> of
> > > my head).
> > > One slight problem with the current Lucene implementation is that
> > > java.lang.BitSet is not interface.
> > > 
> > > Regards,
> > > Paul Elschot.
> > > 
> > > > Thanks
> > > >
> > > > -John
> > > >
> > > > On 8/16/05, Paul Elschot <paul.elschot@xs4all.nl> wrote:
> > > > > Hi John,
> > > > >
> > > > > On Wednesday 17 August 2005 04:46, John Wang wrote:
> > > > > > Hi:
> > > > > >
> > > > > > I posted a bug (36147) a few days ago and didn't hear
> anything, so
> > > > > > I thought I'd try my luck on this list.
> > > > > >
> > > > > > The idea is to avoid score calculations on documents to be
> filtered
> > > > > > out anyway. (e.g. via Filter object passed to the searcher
> class)
> > > > > >
> > > > > > This seems to be an easy change.
> > > > >
> > > > > Have a look here:
> > > > > http://issues.apache.org/bugzilla/show_bug.cgi?id=32965
> > > > >
> > > > > > Also it would be nice to expose a method to return a score
> given a
> > > > > > docid, e.g.
> > > > > >
> > > > > > float getScore(int docid)
> > > > > >
> > > > > > on the Scorer class.
> > > > >
> > > > > skipTo(int docid) and score() will do that.
> > > > >
> > > > > > I am gonna make the change locally and do some performance
> analysis
> > > > > > on it and will post some numbers later.
> > > > >
> > > > > The default score computations are mostly table lookups, and
> pretty 
> > > fast.
> > > > > So, unless you have large indexes, this will probably not make
> > > > > much difference, but any performance improvement is wellcome.
> > > > > In larger indexes, it helps to use skipTo() while searching.
> > > > >
> > > > > Regards,
> > > > > Paul Elschot
> > > > >
> > > > >
> > > > >
> ---------------------------------------------------------------------
> > > > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > > > For additional commands, e-mail:
> java-user-help@lucene.apache.org
> > > > >
> > > > >
> > > >
> > > >
> ---------------------------------------------------------------------
> > > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > > For additional commands, e-mail: java-user-help@lucene.apache.org
> > > >
> > > >
> > > >
> > > >
> > > 
> > > 
> > >
> ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > For additional commands, e-mail: java-user-help@lucene.apache.org
> > > 
> > >
> > 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16556-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 22 19:14:17 2005
Return-Path: <java-user-return-16556-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15816 invoked from network); 22 Sep 2005 19:14:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 22 Sep 2005 19:14:17 -0000
Received: (qmail 66869 invoked by uid 500); 22 Sep 2005 19:14:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66831 invoked by uid 500); 22 Sep 2005 19:14:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66817 invoked by uid 99); 22 Sep 2005 19:14:10 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Sep 2005 12:14:10 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lucenelist@danielnaber.de designates 80.67.18.14 as permitted sender)
Received: from [80.67.18.14] (HELO smtprelay02.ispgateway.de) (80.67.18.14)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 22 Sep 2005 12:14:17 -0700
Received: (qmail 26057 invoked from network); 22 Sep 2005 19:13:48 -0000
Received: from unknown (HELO p5496DB82.dip.t-dialin.net) ([pbs]695637@[84.150.219.130])
          (envelope-sender <lucenelist@danielnaber.de>)
          by smtprelay02.ispgateway.de (qmail-ldap-1.03) with RC4-MD5 encrypted SMTP
          for <java-user@lucene.apache.org>; 22 Sep 2005 19:13:48 -0000
From: Daniel Naber <lucenelist@danielnaber.de>
To: java-user@lucene.apache.org
Subject: Re: Can any one help
Date: Thu, 22 Sep 2005 21:13:46 +0200
User-Agent: KMail/1.8
References: <379387362.1127359047951.JavaMail.jira@ajax.apache.org> <9E1B1AC1-2AF3-4F42-BA11-5B7F9A91B9E7@ehatchersolutions.com> <00f701c5bf78$735d4400$6498020a@ibu.com>
In-Reply-To: <00f701c5bf78$735d4400$6498020a@ibu.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="utf-8"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
Message-Id: <200509222113.46668@danielnaber.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Thursday 22 September 2005 15:20, santosh wrote:

(TooManyClauses)
> We are passing this String " booleanQuery.toString() =3D =C2=A0
> =C2=A0+contents:java* +contents:oracle* " =C2=A0to searcher

see
http://wiki.apache.org/jakarta-lucene/LuceneFAQ#head-06fafb5d19e786a50fb3df=
b8821a6af9f37aa831

=2D-=20
http://www.danielnaber.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16557-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 23 11:40:51 2005
Return-Path: <java-user-return-16557-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10379 invoked from network); 23 Sep 2005 11:40:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Sep 2005 11:40:50 -0000
Received: (qmail 16357 invoked by uid 500); 23 Sep 2005 11:40:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 16144 invoked by uid 500); 23 Sep 2005 11:40:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 16131 invoked by uid 99); 23 Sep 2005 11:40:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 23 Sep 2005 04:40:44 -0700
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_30_40,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of andy.kishore@gmail.com designates 64.233.162.202 as permitted sender)
Received: from [64.233.162.202] (HELO zproxy.gmail.com) (64.233.162.202)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 23 Sep 2005 04:40:51 -0700
Received: by zproxy.gmail.com with SMTP id q3so590679nzb
        for <java-user@lucene.apache.org>; Fri, 23 Sep 2005 04:40:22 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type;
        b=eRjz8KQQINc87kwbsqrpfH9VwvEny3H9FsXCzN7BVedWwiMD+8h2I24IjS6Bfd41G6mwSw3lL6lTDAhVDSlz0ILedtu/x33+HoXh+Lwh1TVyfqBRm5+75iZs62oPqYqvsGHNkl/FyybF04qSjB9N1ivPimynDtBdjMhwuT4BFz4=
Received: by 10.54.41.41 with SMTP id o41mr295060wro;
        Fri, 23 Sep 2005 04:40:22 -0700 (PDT)
Received: by 10.54.82.8 with HTTP; Fri, 23 Sep 2005 04:40:22 -0700 (PDT)
Message-ID: <1036df9405092304405a36cb79@mail.gmail.com>
Date: Fri, 23 Sep 2005 17:10:22 +0530
From: Anand Kishore <andy.kishore@gmail.com>
Reply-To: Anand Kishore <andy.kishore@gmail.com>
To: java-user@lucene.apache.org
Subject: Displaying search context
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_611_28158729.1127475622502"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_611_28158729.1127475622502
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi,

I am indexing emails through Lucene. The body of the mails is stored in an
''Unstored" field. I also have a search interface setup which returns me al=
l
Documents matching my query. What i need is to display a few lines from the
body of the mails where the queryTerm was found. How can this be achieved a=
s
the body is just indexed but not stored.

Thanx

- Andy
http://da-tek-ee.blogspot.com

------=_Part_611_28158729.1127475622502--

From java-user-return-16558-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 23 11:47:57 2005
Return-Path: <java-user-return-16558-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 12432 invoked from network); 23 Sep 2005 11:47:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Sep 2005 11:47:56 -0000
Received: (qmail 24095 invoked by uid 500); 23 Sep 2005 11:47:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24064 invoked by uid 500); 23 Sep 2005 11:47:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 24051 invoked by uid 99); 23 Sep 2005 11:47:51 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 23 Sep 2005 04:47:51 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [195.159.151.132] (HELO mail.gan.no) (195.159.151.132)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 23 Sep 2005 04:47:58 -0700
Received: from localhost (localhost [127.0.0.1])
	by mail.gan.no (Postfix) with ESMTP id 193E2F0018
	for <java-user@lucene.apache.org>; Fri, 23 Sep 2005 13:47:26 +0200 (CEST)
Received: from [172.16.16.192] (MetaMac.mediehuset.gan.no [172.16.16.192])
	by mail.gan.no (Postfix) with ESMTP id 9FD07F000F
	for <java-user@lucene.apache.org>; Fri, 23 Sep 2005 13:47:25 +0200 (CEST)
Mime-Version: 1.0 (Apple Message framework v622)
In-Reply-To: <1036df9405092304405a36cb79@mail.gmail.com>
References: <1036df9405092304405a36cb79@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Message-Id: <d565a0c3b924ec2a2aecbe68d2bc356f@gan.no>
Content-Transfer-Encoding: quoted-printable
From: =?ISO-8859-1?Q?Karl_=D8ie?= <karl@gan.no>
Subject: Re: Displaying search context
Date: Fri, 23 Sep 2005 13:47:25 +0200
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.622)
X-Virus-Scanned: by amavisd-new-20030616-p10 (Debian) at gan.no
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

You can=B4t. If the indexing is unstored only the indicies of the words=20=

are indexed and you cannot reconstruct the text from the field.

Karl

On 23. sep. 2005, at 13.40, Anand Kishore wrote:

> Hi,
>
> I am indexing emails through Lucene. The body of the mails is stored=20=

> in an
> ''Unstored" field. I also have a search interface setup which returns=20=

> me all
> Documents matching my query. What i need is to display a few lines=20
> from the
> body of the mails where the queryTerm was found. How can this be=20
> achieved as
> the body is just indexed but not stored.
>
> Thanx
>
> - Andy
> http://da-tek-ee.blogspot.com
>
- All of Canada sincerely apologizes for Celine Dion. In their defense;=20=

she's French.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16559-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 23 12:28:30 2005
Return-Path: <java-user-return-16559-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 26214 invoked from network); 23 Sep 2005 12:28:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Sep 2005 12:28:30 -0000
Received: (qmail 77422 invoked by uid 500); 23 Sep 2005 12:28:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 77388 invoked by uid 500); 23 Sep 2005 12:28:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 77375 invoked by uid 99); 23 Sep 2005 12:28:24 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 23 Sep 2005 05:28:24 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [131.167.253.61] (HELO ws-bco-smtp1.IM.BATTELLE.ORG) (131.167.253.61)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 23 Sep 2005 05:28:31 -0700
Received: from [131.167.170.26] by smtp.BATTELLE.ORG (PMDF V6.2-X26 #30874)
 with ESMTP id <4GMG08Q6OVC4E70230@smtp.BATTELLE.ORG> for
 java-user@lucene.apache.org; Fri,
 23 Sep 2005 08:27:57 -0400 (Eastern Daylight Time)
Date: Fri, 23 Sep 2005 08:27:53 -0400
From: Dan Funk <funkd@BATTELLE.ORG>
Subject: Re: Displaying search context
In-reply-to: <1036df9405092304405a36cb79@mail.gmail.com>
To: java-user@lucene.apache.org
Message-id: <4333F4C9.2040508@battelle.org>
MIME-version: 1.0
Content-type: text/plain; format=flowed; charset=ISO-8859-1
Content-transfer-encoding: 7bit
X-Accept-Language: en-us, en
User-Agent: Mozilla Thunderbird 1.0.2 (X11/20050317)
References: <1036df9405092304405a36cb79@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

What you are doing is a good, scalable practice.  You need to store 
those email messages somewhere outside of Lucene, and use a unique id to 
correlate the two.  When you want to display relevant text for a search 
result, find the file on disk, and pass it through the Lucene 
Highlighter  (see the Lucene sandbox).  This will give you what you are 
looking for, and it will scale well in the future.

Anand Kishore wrote:

>Hi,
>
>I am indexing emails through Lucene. The body of the mails is stored in an
>''Unstored" field. I also have a search interface setup which returns me all
>Documents matching my query. What i need is to display a few lines from the
>body of the mails where the queryTerm was found. How can this be achieved as
>the body is just indexed but not stored.
>
>Thanx
>
>- Andy
>http://da-tek-ee.blogspot.com
>
>  
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16560-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 23 13:27:37 2005
Return-Path: <java-user-return-16560-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 51577 invoked from network); 23 Sep 2005 13:27:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Sep 2005 13:27:36 -0000
Received: (qmail 58361 invoked by uid 500); 23 Sep 2005 13:27:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 57487 invoked by uid 500); 23 Sep 2005 13:27:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 57474 invoked by uid 99); 23 Sep 2005 13:27:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 23 Sep 2005 06:27:30 -0700
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_30_40,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of andy.kishore@gmail.com designates 64.233.162.200 as permitted sender)
Received: from [64.233.162.200] (HELO zproxy.gmail.com) (64.233.162.200)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 23 Sep 2005 06:27:37 -0700
Received: by zproxy.gmail.com with SMTP id q3so623654nzb
        for <java-user@lucene.apache.org>; Fri, 23 Sep 2005 06:27:08 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=Brd/8Fqdgq3glGyuWqLcGg+A3N/bKWjXPbW3yBEuV3V+k0KDIeI+FbLxEO76fxh8phDDDSQPukuzKXWBij2IdPJkdDtD9brEhj143V8pn+LdJzm3UlCM809txIAqoHv0jERl7EM/WWVQuLkb6jI78r13XascA9OyOC9eHN6FyAA=
Received: by 10.54.5.38 with SMTP id 38mr359731wre;
        Fri, 23 Sep 2005 06:27:08 -0700 (PDT)
Received: by 10.54.82.8 with HTTP; Fri, 23 Sep 2005 06:27:08 -0700 (PDT)
Message-ID: <1036df9405092306275385ca79@mail.gmail.com>
Date: Fri, 23 Sep 2005 18:57:08 +0530
From: Anand Kishore <andy.kishore@gmail.com>
Reply-To: Anand Kishore <andy.kishore@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Displaying search context
In-Reply-To: <4333F4C9.2040508@battelle.org>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_1380_13495895.1127482028384"
References: <1036df9405092304405a36cb79@mail.gmail.com>
	 <4333F4C9.2040508@battelle.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_1380_13495895.1127482028384
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Thanx guyz for your prompt replies.

>>When you want to display relevant text for a search
>>result, find the file on disk, and pass it through the Lucene
>>Highlighter (see the Lucene sandbox).

A nice suggestion but again as i'm indexing mails my Lucene Document has
fields like "Sender", "Subject", and "Content". Feeding the entire mail fro=
m
disk will also include meta-data which i need to exclude.

OR

If i extract the subject, content etc concating them as a string, and then
feed it to the highlighter it should work rite???

--
- Andy

------=_Part_1380_13495895.1127482028384--

From java-user-return-16561-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 23 13:30:25 2005
Return-Path: <java-user-return-16561-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53157 invoked from network); 23 Sep 2005 13:30:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Sep 2005 13:30:24 -0000
Received: (qmail 62610 invoked by uid 500); 23 Sep 2005 13:30:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 62585 invoked by uid 500); 23 Sep 2005 13:30:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 62572 invoked by uid 99); 23 Sep 2005 13:30:19 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 23 Sep 2005 06:30:19 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.194.55.244] (HELO mail2.globalspec.com) (66.194.55.244)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 23 Sep 2005 06:30:26 -0700
Received: from gshqxc01.globalspec.net ([172.16.2.52]) by mail2.globalspec.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Fri, 23 Sep 2005 09:29:56 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Displaying search context
Date: Fri, 23 Sep 2005 09:28:12 -0400
Message-ID: <EBA3EEF096B29542928098329E1D5FDE053B4120@gshqxc01.globalspec.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Displaying search context
Thread-Index: AcXAOhECTQ0pFo0yR0WiMR0CzwBg6AABv0hw
From: "Dalton, Jeffery" <jdalton@globalspec.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 23 Sep 2005 13:29:56.0933 (UTC) FILETIME=[E3A1BF50:01C5C042]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

You mentioned that "it will scale well in the future".  Does this imply
that it doesn't scale well now?  What are the current limitations of the
Lucene Highlighter?  Does does it perform under high query load? =20

This is just a curiousity of mine, but nutch has a separate Summarizer:
net.nutch.search.summarizer.  The Nutch summarizer looks much more
efficient ( aka more simplistic) and therefore probably more scalable?
This is probably a question for the Nutch user list, but why doesn't
Nutch use the Lucene Summarizer? =20

Thoughts, comments?

- Jeff

-----Original Message-----
From: Dan Funk [mailto:funkd@BATTELLE.ORG]=20
Sent: Friday, September 23, 2005 8:28 AM
To: java-user@lucene.apache.org
Subject: Re: Displaying search context

What you are doing is a good, scalable practice.  You need to store
those email messages somewhere outside of Lucene, and use a unique id to
correlate the two.  When you want to display relevant text for a search
result, find the file on disk, and pass it through the Lucene
Highlighter  (see the Lucene sandbox).  This will give you what you are
looking for, and it will scale well in the future.

Anand Kishore wrote:

>Hi,
>
>I am indexing emails through Lucene. The body of the mails is stored in

>an ''Unstored" field. I also have a search interface setup which=20
>returns me all Documents matching my query. What i need is to display a

>few lines from the body of the mails where the queryTerm was found. How

>can this be achieved as the body is just indexed but not stored.
>
>Thanx
>
>- Andy
>http://da-tek-ee.blogspot.com
>
> =20
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16562-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 23 14:23:30 2005
Return-Path: <java-user-return-16562-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 75017 invoked from network); 23 Sep 2005 14:23:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Sep 2005 14:23:29 -0000
Received: (qmail 54534 invoked by uid 500); 23 Sep 2005 14:23:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54501 invoked by uid 500); 23 Sep 2005 14:23:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54481 invoked by uid 99); 23 Sep 2005 14:23:23 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 23 Sep 2005 07:23:23 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [70.84.109.20] (HELO box4.just-hosting.com) (70.84.109.20)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 23 Sep 2005 07:23:25 -0700
Received: from [85.96.75.138] (helo=[127.0.0.1])
	by box4.just-hosting.com with esmtpa (Exim 4.43)
	id 1EIoVe-0004o6-N9
	for java-user@lucene.apache.org; Fri, 23 Sep 2005 14:26:43 +0000
Message-ID: <43340F8D.9030103@axtelsoft.com>
Date: Fri, 23 Sep 2005 17:22:05 +0300
From: Ahmet Aksoy <ahmetax@axtelsoft.com>
Reply-To:  ahmetax@axtelsoft.com
Organization: Axtelsoft
User-Agent: Mozilla Thunderbird 1.0.2 (Windows/20050317)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: May I use a mixture of indexing methods altogether?
Content-Type: text/plain; charset=ISO-8859-9; format=flowed
Content-Transfer-Encoding: 7bit
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - box4.just-hosting.com
X-AntiAbuse: Original Domain - lucene.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - axtelsoft.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,
I have a project seed in my mind.
I will try to collect everything which have a possibility to be 
remembered by me some day, and I will index them with Lucene.
Instead of using simple keywords, I will try to index whole documents 
wherever possible. So, I can start searching with a simple word, and 
then continue to ask for more detailed answers.
For example, frequently I forget the name of  my acquintances. But I 
don't forget their gender. Or, I can remember some other details of 
them. So, I should index every possible clues.
But, at the other end, I have some other documents -such as some 
passwords, etc- which must be encrypted. Then, I must use some keywords 
for them.
Is it possible to use a mixture of indexing methods for the same 
clusture of documents? Some of them will be very detailed, and some of 
them will contain only a simple keyword.
Is it possible?
Thanks.
Ahmet Aksoy



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16563-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 23 14:25:52 2005
Return-Path: <java-user-return-16563-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 76204 invoked from network); 23 Sep 2005 14:25:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Sep 2005 14:25:52 -0000
Received: (qmail 58103 invoked by uid 500); 23 Sep 2005 14:25:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58074 invoked by uid 500); 23 Sep 2005 14:25:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 57951 invoked by uid 99); 23 Sep 2005 14:25:45 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 23 Sep 2005 07:25:45 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.10.216] (HELO web26005.mail.ukl.yahoo.com) (217.12.10.216)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 23 Sep 2005 07:25:52 -0700
Received: (qmail 17881 invoked by uid 60001); 23 Sep 2005 14:25:21 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=mB8U3rydiNq0z7nhA7vPJHb9H5U8ueFUGZHWBa2Fr8VM8xKqPfYuM6ajpORaKxo+alsMDxLphv75bJKttP3bfR9bS9qtIZr41FXtkVL6/vMLB/UxsN03FYIpUVHXkHA9UQn6XKTIW3ZYPFGVJIUQkcm7WgmlmKO+bdxeqJCi+kY=  ;
Message-ID: <20050923142521.17879.qmail@web26005.mail.ukl.yahoo.com>
Received: from [193.36.230.96] by web26005.mail.ukl.yahoo.com via HTTP; Fri, 23 Sep 2005 15:25:21 BST
Date: Fri, 23 Sep 2005 15:25:21 +0100 (BST)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: RE: Displaying search context
To: java-user@lucene.apache.org
In-Reply-To: <EBA3EEF096B29542928098329E1D5FDE053B4120@gshqxc01.globalspec.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

> What are the
> current limitations of the
> Lucene Highlighter?  Does does it perform under high
> query load?  

The major bottlenecks are typically in retrieving
document content and then re-tokenizing with an
Analyzer - not the actual choice of highlighting code.


I've not used the Nutch summariser so I couldn't say
what you might expect in terms of a speed difference
to the highlighting stage. In terms of functionality,
from a quick glance at the code I would say it was
probably missing the following highlighter features:
* Choice of field (hardcoded to "content")
* Choice of Analyzer
* Re-ordering selected fragments to natural order
* Choice of markup (eg span vs <b>)
* Support for tokenStreams with overlapping tokens (eg
synonyms)
* Support for term weightings in fragment selection
(eg IDF)

The Nutch summarizer also looks to drag in
Nutch-specific classes too eg using Nutch's Query
object not Lucene's.

Currently both summarizers can mistakenly highlight
terms that are part of a phrase query where only one
term actually matches. This is less than ideal but the
solution requires a major rewrite of both
highlighter's logic.


Cheers
Mark


		
___________________________________________________________ 
To help you stay safe and secure online, we've developed the all new Yahoo! Security Centre. http://uk.security.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16564-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 23 14:39:01 2005
Return-Path: <java-user-return-16564-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 81195 invoked from network); 23 Sep 2005 14:39:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Sep 2005 14:39:01 -0000
Received: (qmail 83075 invoked by uid 500); 23 Sep 2005 14:38:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82985 invoked by uid 500); 23 Sep 2005 14:38:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 82956 invoked by uid 99); 23 Sep 2005 14:38:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 23 Sep 2005 07:38:56 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [131.167.253.61] (HELO ws-bco-smtp1.IM.BATTELLE.ORG) (131.167.253.61)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 23 Sep 2005 07:39:03 -0700
Received: from [131.167.170.26] by smtp.BATTELLE.ORG (PMDF V6.2-X26 #30874)
 with ESMTP id <DGHG08QNR224E70214@smtp.BATTELLE.ORG> for
 java-user@lucene.apache.org; Fri,
 23 Sep 2005 10:38:31 -0400 (Eastern Daylight Time)
Date: Fri, 23 Sep 2005 10:38:26 -0400
From: Dan Funk <funkd@BATTELLE.ORG>
Subject: Re: Displaying search context
In-reply-to: <EBA3EEF096B29542928098329E1D5FDE053B4120@gshqxc01.globalspec.net>
To: java-user@lucene.apache.org
Message-id: <43341362.6080002@battelle.org>
MIME-version: 1.0
Content-type: text/plain; format=flowed; charset=ISO-8859-1
Content-transfer-encoding: 7bit
X-Accept-Language: en-us, en
User-Agent: Mozilla Thunderbird 1.0.2 (X11/20050317)
References: <EBA3EEF096B29542928098329E1D5FDE053B4120@gshqxc01.globalspec.net>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Dalton, Jeffery wrote:

>You mentioned that "it will scale well in the future".  Does this imply
>that it doesn't scale well now?
>
Absolutely not.   I'm saying the practice of storing your documents 
outside of a Lucene, is, in general,  a good practice to follow.  Lucene 
is brilliant, but specialized.  It should be used for it's intended 
porpoise (everything should have an intended porpoise).  I wasn't 
slighting the Highlighter, my project has been very much the better for 
having used it.

>  What are the current limitations of the
>Lucene Highlighter?  Does does it perform under high query load?  
>  
>
I don't know.  I can run ten full page text documents through the 
highlighter and generate a search results page in about 50ms, about the 
same amount of time it took to get the hits object.  And I have reason 
to believe I may not have used the highlighter in  the most effective 
manor.  I stopped futzing with it when I felt I was getting results back 
in an acceptable amount of time.

>This is just a curiousity of mine, but nutch has a separate Summarizer:
>net.nutch.search.summarizer.  The Nutch summarizer looks much more
>efficient ( aka more simplistic) and therefore probably more scalable?
>This is probably a question for the Nutch user list, but why doesn't
>Nutch use the Lucene Summarizer?  
>
>Thoughts, comments?
>
>- Jeff
>
>-----Original Message-----
>From: Dan Funk [mailto:funkd@BATTELLE.ORG] 
>Sent: Friday, September 23, 2005 8:28 AM
>To: java-user@lucene.apache.org
>Subject: Re: Displaying search context
>
>What you are doing is a good, scalable practice.  You need to store
>those email messages somewhere outside of Lucene, and use a unique id to
>correlate the two.  When you want to display relevant text for a search
>result, find the file on disk, and pass it through the Lucene
>Highlighter  (see the Lucene sandbox).  This will give you what you are
>looking for, and it will scale well in the future.
>
>Anand Kishore wrote:
>
>  
>
>>Hi,
>>
>>I am indexing emails through Lucene. The body of the mails is stored in
>>    
>>
>
>  
>
>>an ''Unstored" field. I also have a search interface setup which 
>>returns me all Documents matching my query. What i need is to display a
>>    
>>
>
>  
>
>>few lines from the body of the mails where the queryTerm was found. How
>>    
>>
>
>  
>
>>can this be achieved as the body is just indexed but not stored.
>>
>>Thanx
>>
>>- Andy
>>http://da-tek-ee.blogspot.com
>>
>> 
>>
>>    
>>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>  
>

-- 
Dan Funk
Software Engineer

Information Technology Solutions
Battelle Charlottesville Operations
1000 Research Park Boulevard, Suite 105
Charlottesville, Virginia 22911

434.984.0951 x244
434.984.0947 (fax)
FunkD@Battelle.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16565-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 23 18:58:22 2005
Return-Path: <java-user-return-16565-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 87712 invoked from network); 23 Sep 2005 18:58:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Sep 2005 18:58:21 -0000
Received: (qmail 35295 invoked by uid 500); 23 Sep 2005 18:58:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35273 invoked by uid 500); 23 Sep 2005 18:58:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35260 invoked by uid 99); 23 Sep 2005 18:58:15 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 23 Sep 2005 11:58:15 -0700
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=NO_REAL_NAME,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of dozean@gmx.de designates 213.165.64.20 as permitted sender)
Received: from [213.165.64.20] (HELO mail.gmx.net) (213.165.64.20)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 23 Sep 2005 11:58:23 -0700
Received: (qmail invoked by alias); 23 Sep 2005 18:57:52 -0000
Received: from p5088BCD7.dip.t-dialin.net (EHLO [192.168.0.2]) [80.136.188.215]
  by mail.gmx.net (mp008) with SMTP; 23 Sep 2005 20:57:52 +0200
X-Authenticated: #9227561
Message-ID: <43345026.2050603@gmx.de>
Date: Fri, 23 Sep 2005 20:57:42 +0200
From:  dozean@gmx.de
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: thinking about the pronunciation of lucene
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Y-GMX-Trusted: 0
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

today we talk about the pronunciation of Lucene.
So... i'm from Germany.
And the pronunciation of Lucene we use here is like it would be a Frensh 
word.
That means we don't pronounce the "e" in the end of the word.
Like the name "lucy" with the add of the "n".

Is this the wrong way to pronounce it?
How should we do it? :)

Bye Derya

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16566-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 23 19:17:11 2005
Return-Path: <java-user-return-16566-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92697 invoked from network); 23 Sep 2005 19:17:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Sep 2005 19:17:11 -0000
Received: (qmail 68982 invoked by uid 500); 23 Sep 2005 19:17:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68961 invoked by uid 500); 23 Sep 2005 19:17:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68948 invoked by uid 99); 23 Sep 2005 19:17:04 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 23 Sep 2005 12:17:04 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.194.55.244] (HELO mail2.globalspec.com) (66.194.55.244)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 23 Sep 2005 12:17:11 -0700
Received: from gshqxc01.globalspec.net ([172.16.2.52]) by mail2.globalspec.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Fri, 23 Sep 2005 15:16:40 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: thinking about the pronunciation of lucene
Date: Fri, 23 Sep 2005 15:12:58 -0400
Message-ID: <EBA3EEF096B29542928098329E1D5FDE053B4549@gshqxc01.globalspec.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: thinking about the pronunciation of lucene
Thread-Index: AcXAcIPuaLOxhskSSPazyBV20Y41rwAAGw/g
From: "Goldschmidt, Dave" <dgoldschmidt@globalspec.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 23 Sep 2005 19:16:40.0332 (UTC) FILETIME=[536C84C0:01C5C073]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Yes, a lot like "lucy" with an "n"  :-)

"Lu" as in the German "du" -- then "cene" with the strong "s" as in
"bis" or "es" and then an "ien" sound as in "Dienst" that kind of rhymes
with "Berlin"

Auf wiedersehen,

DaveG


-----Original Message-----
From: dozean@gmx.de [mailto:dozean@gmx.de]=20
Sent: Friday, September 23, 2005 2:58 PM
To: java-user@lucene.apache.org
Subject: thinking about the pronunciation of lucene

Hi,

today we talk about the pronunciation of Lucene.
So... i'm from Germany.
And the pronunciation of Lucene we use here is like it would be a Frensh

word.
That means we don't pronounce the "e" in the end of the word.
Like the name "lucy" with the add of the "n".

Is this the wrong way to pronounce it?
How should we do it? :)

Bye Derya

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16567-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 23 19:35:55 2005
Return-Path: <java-user-return-16567-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 3799 invoked from network); 23 Sep 2005 19:35:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Sep 2005 19:35:55 -0000
Received: (qmail 92775 invoked by uid 500); 23 Sep 2005 19:35:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 92750 invoked by uid 500); 23 Sep 2005 19:35:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 92736 invoked by uid 99); 23 Sep 2005 19:35:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 23 Sep 2005 12:35:49 -0700
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=NO_REAL_NAME,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of dozean@gmx.de designates 213.165.64.20 as permitted sender)
Received: from [213.165.64.20] (HELO mail.gmx.net) (213.165.64.20)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 23 Sep 2005 12:35:57 -0700
Received: (qmail invoked by alias); 23 Sep 2005 19:35:25 -0000
Received: from p5088BCD7.dip.t-dialin.net (EHLO [192.168.0.2]) [80.136.188.215]
  by mail.gmx.net (mp012) with SMTP; 23 Sep 2005 21:35:25 +0200
X-Authenticated: #9227561
Message-ID: <433458F6.2080700@gmx.de>
Date: Fri, 23 Sep 2005 21:35:18 +0200
From:  dozean@gmx.de
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: thinking about the pronunciation of lucene
References: <EBA3EEF096B29542928098329E1D5FDE053B4549@gshqxc01.globalspec.net>
In-Reply-To: <EBA3EEF096B29542928098329E1D5FDE053B4549@gshqxc01.globalspec.net>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Y-GMX-Trusted: 0
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thank you for your answer!
I know the people in Germany pronounce it thatway!
But what's with the people in the USA or United Kingdom?
I'm  interested!!!!

Thanks in forward!

Bye


Goldschmidt, Dave wrote:

>Yes, a lot like "lucy" with an "n"  :-)
>
>"Lu" as in the German "du" -- then "cene" with the strong "s" as in
>"bis" or "es" and then an "ien" sound as in "Dienst" that kind of rhymes
>with "Berlin"
>
>Auf wiedersehen,
>
>DaveG
>
>
>-----Original Message-----
>From: dozean@gmx.de [mailto:dozean@gmx.de] 
>Sent: Friday, September 23, 2005 2:58 PM
>To: java-user@lucene.apache.org
>Subject: thinking about the pronunciation of lucene
>
>Hi,
>
>today we talk about the pronunciation of Lucene.
>So... i'm from Germany.
>And the pronunciation of Lucene we use here is like it would be a Frensh
>
>word.
>That means we don't pronounce the "e" in the end of the word.
>Like the name "lucy" with the add of the "n".
>
>Is this the wrong way to pronounce it?
>How should we do it? :)
>
>Bye Derya
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>  
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16568-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 23 19:39:58 2005
Return-Path: <java-user-return-16568-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4965 invoked from network); 23 Sep 2005 19:39:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Sep 2005 19:39:58 -0000
Received: (qmail 96502 invoked by uid 500); 23 Sep 2005 19:39:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96460 invoked by uid 500); 23 Sep 2005 19:39:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96436 invoked by uid 99); 23 Sep 2005 19:39:44 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 23 Sep 2005 12:39:44 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.238] (HELO web51807.mail.yahoo.com) (206.190.38.238)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 23 Sep 2005 12:39:50 -0700
Received: (qmail 66174 invoked by uid 60001); 23 Sep 2005 19:39:19 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=fsxsm3UN7exVoyMsOTXf+mnavkxFOxvsoEx9i1iDfZU8yFKji6F79byQ7+UkLmbJHE9BlC0A5gy1vJxKdabp7nPaEPx+fXVIzaybmiOPCjEILbMJVzsdzfCSXYg1df0qMqfurKTSTHrwLcJm0yfkqDUK5CD/SGsyoamRpFWczMI=  ;
Message-ID: <20050923193919.66172.qmail@web51807.mail.yahoo.com>
Received: from [66.127.61.92] by web51807.mail.yahoo.com via HTTP; Fri, 23 Sep 2005 12:39:19 PDT
Date: Fri, 23 Sep 2005 12:39:19 -0700 (PDT)
From: James Huang <metaprgmr@yahoo.com>
Subject: Re: thinking about the pronunciation of lucene
To: java-user@lucene.apache.org
In-Reply-To: <433458F6.2080700@gmx.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I'm having trouble figuring that out ...

I pronounced "lu-CENE", and I've heard people who
didn't know it pronounce the same way.

But, I got "corrected" into "LOO-sen" one time.

Any concensus?

--- dozean@gmx.de wrote:

> Thank you for your answer!
> I know the people in Germany pronounce it thatway!
> But what's with the people in the USA or United
> Kingdom?
> I'm  interested!!!!
> 
> Thanks in forward!
> 
> Bye
> 
> 
> Goldschmidt, Dave wrote:
> 
> >Yes, a lot like "lucy" with an "n"  :-)
> >
> >"Lu" as in the German "du" -- then "cene" with the
> strong "s" as in
> >"bis" or "es" and then an "ien" sound as in
> "Dienst" that kind of rhymes
> >with "Berlin"
> >
> >Auf wiedersehen,
> >
> >DaveG
> >
> >
> >-----Original Message-----
> >From: dozean@gmx.de [mailto:dozean@gmx.de] 
> >Sent: Friday, September 23, 2005 2:58 PM
> >To: java-user@lucene.apache.org
> >Subject: thinking about the pronunciation of lucene
> >
> >Hi,
> >
> >today we talk about the pronunciation of Lucene.
> >So... i'm from Germany.
> >And the pronunciation of Lucene we use here is like
> it would be a Frensh
> >
> >word.
> >That means we don't pronounce the "e" in the end of
> the word.
> >Like the name "lucy" with the add of the "n".
> >
> >Is this the wrong way to pronounce it?
> >How should we do it? :)
> >
> >Bye Derya
> >
>
>---------------------------------------------------------------------
> >To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> >For additional commands, e-mail:
> java-user-help@lucene.apache.org
> >
> >
>
>---------------------------------------------------------------------
> >To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> >For additional commands, e-mail:
> java-user-help@lucene.apache.org
> >
> >
> >  
> >
> 
> 
>
---------------------------------------------------------------------
> To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail:
> java-user-help@lucene.apache.org
> 
> 


__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16569-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 23 19:50:27 2005
Return-Path: <java-user-return-16569-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7947 invoked from network); 23 Sep 2005 19:50:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 23 Sep 2005 19:50:26 -0000
Received: (qmail 19232 invoked by uid 500); 23 Sep 2005 19:50:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19170 invoked by uid 500); 23 Sep 2005 19:50:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19141 invoked by uid 99); 23 Sep 2005 19:50:11 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 23 Sep 2005 12:50:11 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.194.55.244] (HELO mail2.globalspec.com) (66.194.55.244)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 23 Sep 2005 12:50:18 -0700
Received: from gshqxc01.globalspec.net ([172.16.2.52]) by mail2.globalspec.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Fri, 23 Sep 2005 15:49:47 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: thinking about the pronunciation of lucene
Date: Fri, 23 Sep 2005 15:46:01 -0400
Message-ID: <EBA3EEF096B29542928098329E1D5FDE053B45A0@gshqxc01.globalspec.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: thinking about the pronunciation of lucene
Thread-Index: AcXAdcQ9VYgz/7n+S/eykFGHUqD7MAAAS0Hw
From: "Goldschmidt, Dave" <dgoldschmidt@globalspec.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 23 Sep 2005 19:49:47.0651 (UTC) FILETIME=[F3F55530:01C5C077]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

That's how I've heard it pronounced in the US.  Emphasis on the second
syllable -- lu-CENE -- kind of like Lucille.

Believe it or not, a quick search yielded:

=20
http://www.mail-archive.com/lucene-user@jakarta.apache.org/msg04495.html

:-)=20

DaveG

-----Original Message-----
From: dozean@gmx.de [mailto:dozean@gmx.de]=20
Sent: Friday, September 23, 2005 3:35 PM
To: java-user@lucene.apache.org
Subject: Re: thinking about the pronunciation of lucene

Thank you for your answer!
I know the people in Germany pronounce it thatway!
But what's with the people in the USA or United Kingdom?
I'm  interested!!!!

Thanks in forward!

Bye


Goldschmidt, Dave wrote:

>Yes, a lot like "lucy" with an "n"  :-)
>
>"Lu" as in the German "du" -- then "cene" with the strong "s" as in
>"bis" or "es" and then an "ien" sound as in "Dienst" that kind of
rhymes
>with "Berlin"
>
>Auf wiedersehen,
>
>DaveG
>
>
>-----Original Message-----
>From: dozean@gmx.de [mailto:dozean@gmx.de]=20
>Sent: Friday, September 23, 2005 2:58 PM
>To: java-user@lucene.apache.org
>Subject: thinking about the pronunciation of lucene
>
>Hi,
>
>today we talk about the pronunciation of Lucene.
>So... i'm from Germany.
>And the pronunciation of Lucene we use here is like it would be a
Frensh
>
>word.
>That means we don't pronounce the "e" in the end of the word.
>Like the name "lucy" with the add of the "n".
>
>Is this the wrong way to pronounce it?
>How should we do it? :)
>
>Bye Derya
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
> =20
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16570-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 24 18:54:01 2005
Return-Path: <java-user-return-16570-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5087 invoked from network); 24 Sep 2005 18:54:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Sep 2005 18:54:01 -0000
Received: (qmail 63551 invoked by uid 500); 24 Sep 2005 18:53:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 63524 invoked by uid 500); 24 Sep 2005 18:53:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63511 invoked by uid 99); 24 Sep 2005 18:53:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 24 Sep 2005 11:53:55 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.200.41] (HELO web31108.mail.mud.yahoo.com) (68.142.200.41)
    by apache.org (qpsmtpd/0.29) with SMTP; Sat, 24 Sep 2005 11:54:02 -0700
Received: (qmail 6473 invoked by uid 60001); 24 Sep 2005 18:53:32 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=nbPsCQC7NpPkipADaBDctHl24MeRnayWkWuK3lOjXiev6lezo185dR6fcuHe1oJlCmnU0VqBQc8q09ZHF90u0wD6jkZys4HsMJWAsXE0ZatkVF404pDcyRahmrjlZVKULUOgvy02IOQUrXvPUEt04wCmBaTBrqDWUVG5uNBjsR0=  ;
Message-ID: <20050924185332.6471.qmail@web31108.mail.mud.yahoo.com>
Received: from [17.255.241.46] by web31108.mail.mud.yahoo.com via HTTP; Sat, 24 Sep 2005 11:53:32 PDT
Date: Sat, 24 Sep 2005 11:53:32 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: May I use a mixture of indexing methods altogether?
To: java-user@lucene.apache.org
In-Reply-To: <43340F8D.9030103@axtelsoft.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

If I understand you correctly, then yes, you can index documents with
different structures (different field names) in the same index.

Otis

--- Ahmet Aksoy <ahmetax@axtelsoft.com> wrote:

> Hi,
> I have a project seed in my mind.
> I will try to collect everything which have a possibility to be 
> remembered by me some day, and I will index them with Lucene.
> Instead of using simple keywords, I will try to index whole documents
> 
> wherever possible. So, I can start searching with a simple word, and 
> then continue to ask for more detailed answers.
> For example, frequently I forget the name of  my acquintances. But I 
> don't forget their gender. Or, I can remember some other details of 
> them. So, I should index every possible clues.
> But, at the other end, I have some other documents -such as some 
> passwords, etc- which must be encrypted. Then, I must use some
> keywords 
> for them.
> Is it possible to use a mixture of indexing methods for the same 
> clusture of documents? Some of them will be very detailed, and some
> of 
> them will contain only a simple keyword.
> Is it possible?
> Thanks.
> Ahmet Aksoy
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16571-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Sep 24 19:39:28 2005
Return-Path: <java-user-return-16571-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17503 invoked from network); 24 Sep 2005 19:39:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 24 Sep 2005 19:39:28 -0000
Received: (qmail 81028 invoked by uid 500); 24 Sep 2005 19:39:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80099 invoked by uid 500); 24 Sep 2005 19:39:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80085 invoked by uid 99); 24 Sep 2005 19:39:23 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 24 Sep 2005 12:39:23 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [70.84.109.20] (HELO box4.just-hosting.com) (70.84.109.20)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 24 Sep 2005 12:39:25 -0700
Received: from [85.96.75.138] (helo=[127.0.0.1])
	by box4.just-hosting.com with esmtpa (Exim 4.43)
	id 1EJFvA-0002t5-9n
	for java-user@lucene.apache.org; Sat, 24 Sep 2005 19:42:53 +0000
Message-ID: <4335AB15.6050208@axtelsoft.com>
Date: Sat, 24 Sep 2005 22:37:57 +0300
From: Ahmet Aksoy <ahmetax@axtelsoft.com>
Reply-To:  ahmetax@axtelsoft.com
Organization: Axtelsoft
User-Agent: Mozilla Thunderbird 1.0.2 (Windows/20050317)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: May I use a mixture of indexing methods altogether?
References: <20050924185332.6471.qmail@web31108.mail.mud.yahoo.com>
In-Reply-To: <20050924185332.6471.qmail@web31108.mail.mud.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - box4.just-hosting.com
X-AntiAbuse: Original Domain - lucene.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [0 0] / [47 12]
X-AntiAbuse: Sender Address Domain - axtelsoft.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Thank you.  That was what I meant!
I'll try it as soon as possible.

Otis Gospodnetic wrote:

>If I understand you correctly, then yes, you can index documents with
>different structures (different field names) in the same index.
>
>Otis
>
>--- Ahmet Aksoy <ahmetax@axtelsoft.com> wrote:
>
>  
>
>>Hi,
>>I have a project seed in my mind.
>>I will try to collect everything which have a possibility to be 
>>remembered by me some day, and I will index them with Lucene.
>>Instead of using simple keywords, I will try to index whole documents
>>
>>wherever possible. So, I can start searching with a simple word, and 
>>then continue to ask for more detailed answers.
>>For example, frequently I forget the name of  my acquintances. But I 
>>don't forget their gender. Or, I can remember some other details of 
>>them. So, I should index every possible clues.
>>But, at the other end, I have some other documents -such as some 
>>passwords, etc- which must be encrypted. Then, I must use some
>>keywords 
>>for them.
>>Is it possible to use a mixture of indexing methods for the same 
>>clusture of documents? Some of them will be very detailed, and some
>>of 
>>them will contain only a simple keyword.
>>Is it possible?
>>Thanks.
>>Ahmet Aksoy
>>
>>
>>
>>    
>>
>
>
>
>  
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16572-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Sep 25 19:06:58 2005
Return-Path: <java-user-return-16572-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 38441 invoked from network); 25 Sep 2005 19:06:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Sep 2005 19:06:58 -0000
Received: (qmail 188 invoked by uid 500); 25 Sep 2005 19:06:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 134 invoked by uid 500); 25 Sep 2005 19:06:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 120 invoked by uid 99); 25 Sep 2005 19:06:50 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 25 Sep 2005 12:06:50 -0700
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_30_40,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of magawake@gmail.com designates 64.233.162.203 as permitted sender)
Received: from [64.233.162.203] (HELO zproxy.gmail.com) (64.233.162.203)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 25 Sep 2005 12:06:58 -0700
Received: by zproxy.gmail.com with SMTP id i28so1214939nzi
        for <java-user@lucene.apache.org>; Sun, 25 Sep 2005 12:06:29 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=mc026fBwKF5F1J6diiwu5gu4MmlAqB/5cu71E+Zzt/+77acgsT6Xj2TuoKgmrPRjdBsWIYJm6XZed2APxahJ4iV7bsAgCtmPSKEDsOE8r0EVfvicuWk9AqBguoqY4Ru2i6UGD13FllaMjiN8OJ8Z7fBEbD56XC5yHzkyIF6fAZs=
Received: by 10.54.48.10 with SMTP id v10mr170666wrv;
        Sun, 25 Sep 2005 12:06:29 -0700 (PDT)
Received: by 10.54.132.10 with HTTP; Sun, 25 Sep 2005 12:06:29 -0700 (PDT)
Message-ID: <1cbd6f83050925120660f14d3b@mail.gmail.com>
Date: Sun, 25 Sep 2005 15:06:29 -0400
From: Mag Gam <magawake@gmail.com>
Reply-To: Mag Gam <magawake@gmail.com>
To: java-user@lucene.apache.org, ahmetax@axtelsoft.com
Subject: Re: May I use a mixture of indexing methods altogether?
In-Reply-To: <4335AB15.6050208@axtelsoft.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_8382_9921298.1127675189318"
References: <20050924185332.6471.qmail@web31108.mail.mud.yahoo.com>
	 <4335AB15.6050208@axtelsoft.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_8382_9921298.1127675189318
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: base64
Content-Disposition: inline

SXMgaXQgcG9zc2libGUgdG8gZG8gdGhhdCBpbiBhIGRhdGFiYXNlIGluc3RlYWQgb2YgYSBmbGF0
IHRleHQgZmlsZT8KCgpPbiA5LzI0LzA1LCBBaG1ldCBBa3NveSA8YWhtZXRheEBheHRlbHNvZnQu
Y29tPiB3cm90ZToKPgo+IFRoYW5rIHlvdS4gVGhhdCB3YXMgd2hhdCBJIG1lYW50IQo+IEknbGwg
dHJ5IGl0IGFzIHNvb24gYXMgcG9zc2libGUuCj4KPiBPdGlzIEdvc3BvZG5ldGljIHdyb3RlOgo+
Cj4gPklmIEkgdW5kZXJzdGFuZCB5b3UgY29ycmVjdGx5LCB0aGVuIHllcywgeW91IGNhbiBpbmRl
eCBkb2N1bWVudHMgd2l0aAo+ID5kaWZmZXJlbnQgc3RydWN0dXJlcyAoZGlmZmVyZW50IGZpZWxk
IG5hbWVzKSBpbiB0aGUgc2FtZSBpbmRleC4KPiA+Cj4gPk90aXMKPiA+Cj4gPi0tLSBBaG1ldCBB
a3NveSA8YWhtZXRheEBheHRlbHNvZnQuY29tPiB3cm90ZToKPiA+Cj4gPgo+ID4KPiA+PkhpLAo+
ID4+SSBoYXZlIGEgcHJvamVjdCBzZWVkIGluIG15IG1pbmQuCj4gPj5JIHdpbGwgdHJ5IHRvIGNv
bGxlY3QgZXZlcnl0aGluZyB3aGljaCBoYXZlIGEgcG9zc2liaWxpdHkgdG8gYmUKPiA+PnJlbWVt
YmVyZWQgYnkgbWUgc29tZSBkYXksIGFuZCBJIHdpbGwgaW5kZXggdGhlbSB3aXRoIEx1Y2VuZS4K
PiA+Pkluc3RlYWQgb2YgdXNpbmcgc2ltcGxlIGtleXdvcmRzLCBJIHdpbGwgdHJ5IHRvIGluZGV4
IHdob2xlIGRvY3VtZW50cwo+ID4+Cj4gPj53aGVyZXZlciBwb3NzaWJsZS4gU28sIEkgY2FuIHN0
YXJ0IHNlYXJjaGluZyB3aXRoIGEgc2ltcGxlIHdvcmQsIGFuZAo+ID4+dGhlbiBjb250aW51ZSB0
byBhc2sgZm9yIG1vcmUgZGV0YWlsZWQgYW5zd2Vycy4KPiA+PkZvciBleGFtcGxlLCBmcmVxdWVu
dGx5IEkgZm9yZ2V0IHRoZSBuYW1lIG9mIG15IGFjcXVpbnRhbmNlcy4gQnV0IEkKPiA+PmRvbid0
IGZvcmdldCB0aGVpciBnZW5kZXIuIE9yLCBJIGNhbiByZW1lbWJlciBzb21lIG90aGVyIGRldGFp
bHMgb2YKPiA+PnRoZW0uIFNvLCBJIHNob3VsZCBpbmRleCBldmVyeSBwb3NzaWJsZSBjbHVlcy4K
PiA+PkJ1dCwgYXQgdGhlIG90aGVyIGVuZCwgSSBoYXZlIHNvbWUgb3RoZXIgZG9jdW1lbnRzIC1z
dWNoIGFzIHNvbWUKPiA+PnBhc3N3b3JkcywgZXRjLSB3aGljaCBtdXN0IGJlIGVuY3J5cHRlZC4g
VGhlbiwgSSBtdXN0IHVzZSBzb21lCj4gPj5rZXl3b3Jkcwo+ID4+Zm9yIHRoZW0uCj4gPj5JcyBp
dCBwb3NzaWJsZSB0byB1c2UgYSBtaXh0dXJlIG9mIGluZGV4aW5nIG1ldGhvZHMgZm9yIHRoZSBz
YW1lCj4gPj5jbHVzdHVyZSBvZiBkb2N1bWVudHM/IFNvbWUgb2YgdGhlbSB3aWxsIGJlIHZlcnkg
ZGV0YWlsZWQsIGFuZCBzb21lCj4gPj5vZgo+ID4+dGhlbSB3aWxsIGNvbnRhaW4gb25seSBhIHNp
bXBsZSBrZXl3b3JkLgo+ID4+SXMgaXQgcG9zc2libGU/Cj4gPj5UaGFua3MuCj4gPj5BaG1ldCBB
a3NveQo+ID4+Cj4gPj4KPiA+Pgo+ID4+Cj4gPj4KPiA+Cj4gPgo+ID4KPiA+Cj4gPgo+Cj4KPiAt
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0KPiBUbyB1bnN1YnNjcmliZSwgZS1tYWlsOiBqYXZhLXVzZXItdW5zdWJzY3Jp
YmVAbHVjZW5lLmFwYWNoZS5vcmcKPiBGb3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1tYWlsOiBq
YXZhLXVzZXItaGVscEBsdWNlbmUuYXBhY2hlLm9yZwo+Cj4K
------=_Part_8382_9921298.1127675189318--

From java-user-return-16573-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Sep 25 20:17:35 2005
Return-Path: <java-user-return-16573-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 59261 invoked from network); 25 Sep 2005 20:17:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Sep 2005 20:17:35 -0000
Received: (qmail 57422 invoked by uid 500); 25 Sep 2005 20:17:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 57172 invoked by uid 500); 25 Sep 2005 20:17:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 57159 invoked by uid 99); 25 Sep 2005 20:17:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 25 Sep 2005 13:17:29 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.201.75] (HELO web31113.mail.mud.yahoo.com) (68.142.201.75)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 25 Sep 2005 13:17:34 -0700
Received: (qmail 38708 invoked by uid 60001); 25 Sep 2005 20:17:05 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=28ffomDlESbFukDoVLujy+xoqB70EwjNwtxhDAO9HIT4FgTdDU1cke+sLycvE2cOFQqq1xff84byKv2CcgUmZB+MzFa0Pp6C+i5kUehP4vyBLuoyoauwdBd/rWk1kQ46TSgLmTXwBdjN7eNTrxlp8dpOP95DPDMF06AYjLXO8F8=  ;
Message-ID: <20050925201705.38706.qmail@web31113.mail.mud.yahoo.com>
Received: from [69.201.142.21] by web31113.mail.mud.yahoo.com via HTTP; Sun, 25 Sep 2005 13:17:05 PDT
Date: Sun, 25 Sep 2005 13:17:05 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: May I use a mixture of indexing methods altogether?
To: java-user@lucene.apache.org
In-Reply-To: <1cbd6f83050925120660f14d3b@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

> Is it possible to do that in a database instead of a flat text file?

Huh?
You mean is it possible to index a database and not text files in this
fashion?  If so: yes.

Otis


> On 9/24/05, Ahmet Aksoy <ahmetax@axtelsoft.com> wrote:
> >
> > Thank you. That was what I meant!
> > I'll try it as soon as possible.
> >
> > Otis Gospodnetic wrote:
> >
> > >If I understand you correctly, then yes, you can index documents
> with
> > >different structures (different field names) in the same index.
> > >
> > >Otis
> > >
> > >--- Ahmet Aksoy <ahmetax@axtelsoft.com> wrote:
> > >
> > >
> > >
> > >>Hi,
> > >>I have a project seed in my mind.
> > >>I will try to collect everything which have a possibility to be
> > >>remembered by me some day, and I will index them with Lucene.
> > >>Instead of using simple keywords, I will try to index whole
> documents
> > >>
> > >>wherever possible. So, I can start searching with a simple word,
> and
> > >>then continue to ask for more detailed answers.
> > >>For example, frequently I forget the name of my acquintances. But
> I
> > >>don't forget their gender. Or, I can remember some other details
> of
> > >>them. So, I should index every possible clues.
> > >>But, at the other end, I have some other documents -such as some
> > >>passwords, etc- which must be encrypted. Then, I must use some
> > >>keywords
> > >>for them.
> > >>Is it possible to use a mixture of indexing methods for the same
> > >>clusture of documents? Some of them will be very detailed, and
> some
> > >>of
> > >>them will contain only a simple keyword.
> > >>Is it possible?
> > >>Thanks.
> > >>Ahmet Aksoy
> > >>
> > >>
> > >>
> > >>
> > >>
> > >
> > >
> > >
> > >
> > >
> >
> >
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16574-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Sep 25 22:38:21 2005
Return-Path: <java-user-return-16574-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94101 invoked from network); 25 Sep 2005 22:38:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Sep 2005 22:38:20 -0000
Received: (qmail 87480 invoked by uid 500); 25 Sep 2005 22:38:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 86575 invoked by uid 500); 25 Sep 2005 22:38:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 86562 invoked by uid 99); 25 Sep 2005 22:38:15 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 25 Sep 2005 15:38:15 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.200.35] (HELO web31102.mail.mud.yahoo.com) (68.142.200.35)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 25 Sep 2005 15:38:23 -0700
Received: (qmail 12761 invoked by uid 60001); 25 Sep 2005 22:37:52 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=YwIcI659ohwzK1ugu1TGb1rBMO+seBMrGdAHdO6k+AWwbxz80cr6DG3LeAxUvBF4OMgvDCMTsc1c1wHug8qYSyu2KmNJAaEyikA4CcB/9ohxn0SzEc18HEhdMNC32/lEME2QponePVPG7IQp+hbEJnVxQPJNFs4bk5UiGJb8BAM=  ;
Message-ID: <20050925223752.12759.qmail@web31102.mail.mud.yahoo.com>
Received: from [69.201.142.21] by web31102.mail.mud.yahoo.com via HTTP; Sun, 25 Sep 2005 15:37:52 PDT
Date: Sun, 25 Sep 2005 15:37:52 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Lucene trunk update question. WAS RE: search performance enhancement
To: java-user@lucene.apache.org
In-Reply-To: <200509222017.29744.paul.elschot@xs4all.nl>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

As Erik Hatcher noted in another email (it might have been on the -dev
list), we'll go through JIRA before making the next release and try to
push the patches like this one into the core.  Personally, it has been
bugging me to see all these nice contributions sitting outside the core
all this time, and I know it doesn't make contributors feel good.  I
may have more time to focus on Lucene in the near future, in which case
I'll do some of what I described above.

Otis

--- Paul Elschot <paul.elschot@xs4all.nl> wrote:

> On Thursday 22 September 2005 11:45, Peter Gelderbloem wrote:
> > I noticed you posted links to bits of code below.
> > How and when will these be made part of the svn trunk?
> > It seems universally useful and I think should be the default
> behaviour.
> 
> The code has the same licence as the trunk, so you can basically
> use it as you like. Off course, more improvements would be
> appreciated.
> I don't know when/if it will become part of the trunk.
> 
> Regards,
> Paul Elschot
> 
> > Peter Gelderbloem 
> > -----Original Message-----
> > From: Paul Elschot [mailto:paul.elschot@xs4all.nl] 
> > Sent: 21 September 2005 19:16
> > To: java-user@lucene.apache.org
> > Subject: Re: search performance enhancement
> > 
> > On Wednesday 21 September 2005 03:29, John Wang wrote:
> > > Hi Paul and other gurus:
> > > 
> > > In a related topic, seems lucene is scoring documents that would
> hit
> > in a 
> > > "prohibited" boolean clause, e.g. NOT field:value. It doesn't
> seem to
> > make 
> > > sense to score a document that is to be excluded from the result.
> Is
> > this a 
> > > difficult thing to fix?
> > 
> > In the svn trunk (the development version) excluded clauses of
> > BooleanQuery are no not scored.
> > The default scoring method is so cheap on CPU time that this is
> hardly
> > noticeable.
> > 
> > > Also in Paul's ealier comment: "... unless you have large
> indexes,
> > this will 
> > > probably not make much difference", what is "large" in this case.
> 
> > 
> > A BitSet takes one bit per document in the index, and a
> SortedVIntList
> > takes about 1 byte per document passing the filter.
> > So when you need many filters, each passing less than 1/8 of the
> indexed
> > docs, a SortedVIntList takes less memory.
> >  
> > > In our case, say millions of documents match some query, but
> after
> > either a 
> > > Filter is applied or after a NOT query (e.g. query with a
> > NOT/prohibited 
> > > clause) is applied, the resulting hit list has only 10 documents.
> > Seems the 
> > > millions of calls to score() is wasted, some of the score() call
> can
> > be 
> > > computational intensive.
> > 
> > The FilteredQuery posted here:
> > http://issues.apache.org/jira/browse/LUCENE-330
> > will score only the documents passing the filter, for both a BitSet
> and
> > a SortedVIntList filter. Btw. this is the new place for the related
> > filter
> > implementations:
> > http://issues.apache.org/jira/browse/LUCENE-328
> > 
> > > 
> > > Am I on the right track?
> > 
> > That's easy: you're using Lucene.
> > 
> > Regards,
> > Paul Elschot
> > 
> > 
> > > Thanks
> > > 
> > > -John
> > > 
> > > On 8/19/05, Paul Elschot <paul.elschot@xs4all.nl> wrote:
> > > > 
> > > > On Friday 19 August 2005 18:09, John Wang wrote:
> > > > > Hi Paul:
> > > > >
> > > > > Thanks for the pointer.
> > > > >
> > > > > How would I extend from the patch you submitted to filter out
> > > > > more documents not using a Filter. e.g.
> > > > >
> > > > > have a class to skip documents based on a docID: boolean
> > > > > isValid(int docID)
> > > > >
> > > > > My problem is I want to discard documents at query time
> without
> > > > > having to construct a BitSet via filter. I have my own memory
> > > > > structure to help me skip documents based the query and a
> docid.
> > > > 
> > > > Basically, you need to implement the next() and skipTo(int
> > targetDoc)
> > > > methods from Scorer on your memory structure. They are somewhat
> > > > redundant (skipTo(doc() + 1) has the same semantics as next(),
> > except
> > > > initially), but that is for a mix of historical and performance
> > reasons.
> > > > Have a look at how this is done in the posted FilteredQuery
> class
> > > > for SortedVIntList and BitSet.
> > > > With only isValid(docId) these next() and skipTo() methods
> would
> > > > have to count over the document numbers, which is less than
> ideal.
> > > > 
> > > > When you use the posted code, iirc it is only necessary to
> implement
> > the
> > > > SkipFilter interface on your memory structure. One can use that
> > interface
> > > > to build/cache such memory structures using an IndexReader, and
> > > > from there the DocNrSkipper interface will do the rest (of the
> top
> > of
> > > > my head).
> > > > One slight problem with the current Lucene implementation is
> that
> > > > java.lang.BitSet is not interface.
> > > > 
> > > > Regards,
> > > > Paul Elschot.
> > > > 
> > > > > Thanks
> > > > >
> > > > > -John
> > > > >
> > > > > On 8/16/05, Paul Elschot <paul.elschot@xs4all.nl> wrote:
> > > > > > Hi John,
> > > > > >
> > > > > > On Wednesday 17 August 2005 04:46, John Wang wrote:
> > > > > > > Hi:
> > > > > > >
> > > > > > > I posted a bug (36147) a few days ago and didn't hear
> > anything, so
> > > > > > > I thought I'd try my luck on this list.
> > > > > > >
> > > > > > > The idea is to avoid score calculations on documents to
> be
> > filtered
> > > > > > > out anyway. (e.g. via Filter object passed to the
> searcher
> > class)
> > > > > > >
> > > > > > > This seems to be an easy change.
> > > > > >
> > > > > > Have a look here:
> > > > > > http://issues.apache.org/bugzilla/show_bug.cgi?id=32965
> > > > > >
> > > > > > > Also it would be nice to expose a method to return a
> score
> > given a
> > > > > > > docid, e.g.
> > > > > > >
> > > > > > > float getScore(int docid)
> > > > > > >
> > > > > > > on the Scorer class.
> > > > > >
> > > > > > skipTo(int docid) and score() will do that.
> > > > > >
> > > > > > > I am gonna make the change locally and do some
> performance
> > analysis
> > > > > > > on it and will post some numbers later.
> > > > > >
> > > > > > The default score computations are mostly table lookups,
> and
> > pretty 
> > > > fast.
> > > > > > So, unless you have large indexes, this will probably not
> make
> > > > > > much difference, but any performance improvement is
> wellcome.
> > > > > > In larger indexes, it helps to use skipTo() while
> searching.
> > > > > >
> > > > > > Regards,
> > > > > > Paul Elschot
> > > > > >
> > > > > >
> > > > > >
> >
> ---------------------------------------------------------------------
> > > > > > To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> > > > > > For additional commands, e-mail:
> > java-user-help@lucene.apache.org
> > > > > >
> > > > > >
> > > > >
> > > > >
> >
> ---------------------------------------------------------------------
> > > > > To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> > > > > For additional commands, e-mail:
> java-user-help@lucene.apache.org
> > > > >
> > > > >
> > > > >
> > > > >
> > > > 
> > > > 
> > > >
> >
> ---------------------------------------------------------------------
> > > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > > For additional commands, e-mail:
> java-user-help@lucene.apache.org
> > > > 
> > > >
> > > 
> > 
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> > 
> > 
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> > 
> > 
> > 
> > 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16575-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Sep 25 22:53:50 2005
Return-Path: <java-user-return-16575-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 99332 invoked from network); 25 Sep 2005 22:53:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Sep 2005 22:53:49 -0000
Received: (qmail 2195 invoked by uid 500); 25 Sep 2005 22:53:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2168 invoked by uid 500); 25 Sep 2005 22:53:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2155 invoked by uid 99); 25 Sep 2005 22:53:45 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 25 Sep 2005 15:53:45 -0700
X-ASF-Spam-Status: No, hits=0.9 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_20_30,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.49.112] (HELO web54302.mail.yahoo.com) (206.190.49.112)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 25 Sep 2005 15:53:51 -0700
Received: (qmail 46621 invoked by uid 60001); 25 Sep 2005 22:53:22 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=REX8n/kK/pPn21E5Ram/KmaSrqRp7aer/bErziZTgO/CjiNSkFJ0bBc80XgRXL5Hfq5w6tzFh5xlntVrVtCXXboMrF0scb1ncZHx5TvWXYHamc1rcOHyGCWjE57Hk+EGIkGY6xd480rZohcsQ1CHsjbIYv4N+ZZoYB7lMsI8D8E=  ;
Message-ID: <20050925225322.46619.qmail@web54302.mail.yahoo.com>
Received: from [141.70.115.175] by web54302.mail.yahoo.com via HTTP; Sun, 25 Sep 2005 15:53:21 PDT
Date: Sun, 25 Sep 2005 15:53:21 -0700 (PDT)
From: tirupathi reddy <tirupathireddy_m@yahoo.com>
Subject: Indexing .txt file containing english, german or french alphabet
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1141780339-1127688801=:46058"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-1141780339-1127688801=:46058
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Hello,
 
   I have to index the text in the .txt document. This text document contains english characters , german characters etc. Please tell me how can I index that text document. Is the procedure of indexing RTF documents can be applied here?
 
thanx,
MTREDDY



Tirupati Reddy Manyam 
24-06-08, 
Sundugaullee-24, 
79110 Freiburg 
GERMANY. 

Phone: 00497618811257 
cell : 004917624649007

__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 
--0-1141780339-1127688801=:46058--

From java-user-return-16576-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Sep 25 23:33:58 2005
Return-Path: <java-user-return-16576-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 12321 invoked from network); 25 Sep 2005 23:33:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 25 Sep 2005 23:33:58 -0000
Received: (qmail 34655 invoked by uid 500); 25 Sep 2005 23:33:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34073 invoked by uid 500); 25 Sep 2005 23:33:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34039 invoked by uid 99); 25 Sep 2005 23:33:52 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 25 Sep 2005 16:33:52 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.200.34] (HELO web31101.mail.mud.yahoo.com) (68.142.200.34)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 25 Sep 2005 16:33:58 -0700
Received: (qmail 81290 invoked by uid 60001); 25 Sep 2005 23:33:29 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=genrwCW294tU0MyYO/DATMpWfng12jw0uOSlaBSYNJgnAZdOZ2fLiJEhODkfGbZ8HexFwwwNjFUyNpm0/M7MLJ5ocgxSKlkhvUG3nd2CWHC0m4AS+aWdR/GxRApNFjXp4rykYHNQzEI5n9J4HAekE21C3rRKcGiFGQLeGKb1jco=  ;
Message-ID: <20050925233329.81288.qmail@web31101.mail.mud.yahoo.com>
Received: from [69.201.142.21] by web31101.mail.mud.yahoo.com via HTTP; Sun, 25 Sep 2005 16:33:29 PDT
Date: Sun, 25 Sep 2005 16:33:29 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Indexing .txt file containing english, german or french alphabet
To: java-user@lucene.apache.org
In-Reply-To: <20050925225322.46619.qmail@web54302.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

For dealing with parsing + indexing RTF, see chapter 7 of Lucene in
Action.

For indexing text that has multiple languages.... I don't know what to
recommend.  Well, I do - try the StandardAnalyzer and see if that
produces satisfactory results, but you'd really need a smart analyzer
that knows how to properly tokenize and filter words from multiple
languages, and I haven't heard of anyone doing that here.

Otis

--- tirupathi reddy <tirupathireddy_m@yahoo.com> wrote:

> Hello,
>  
>    I have to index the text in the .txt document. This text document
> contains english characters , german characters etc. Please tell me
> how can I index that text document. Is the procedure of indexing RTF
> documents can be applied here?
>  
> thanx,
> MTREDDY
> 
> 
> 
> Tirupati Reddy Manyam 
> 24-06-08, 
> Sundugaullee-24, 
> 79110 Freiburg 
> GERMANY. 
> 
> Phone: 00497618811257 
> cell : 004917624649007
> 
> __________________________________________________
> Do You Yahoo!?
> Tired of spam?  Yahoo! Mail has the best spam protection around 
> http://mail.yahoo.com 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16577-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 26 03:46:33 2005
Return-Path: <java-user-return-16577-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78331 invoked from network); 26 Sep 2005 03:46:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2005 03:46:32 -0000
Received: (qmail 40051 invoked by uid 500); 26 Sep 2005 03:46:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40014 invoked by uid 500); 26 Sep 2005 03:46:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40001 invoked by uid 99); 26 Sep 2005 03:46:27 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 25 Sep 2005 20:46:27 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.179.233.113] (HELO acusis.com) (66.179.233.113)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 25 Sep 2005 20:46:34 -0700
Received: from Manish [61.246.221.29] by acusis.com with ESMTP
  (SMTPD-8.20) id A16907A0; Sun, 25 Sep 2005 23:56:25 -0400
From: =?iso-8859-1?Q?M_=E5_n_i_s_h_?= <manish.chowdhary@acusis.com>
To: <java-user@lucene.apache.org>
Subject: Problems in standard Analyzer
Date: Mon, 26 Sep 2005 09:15:58 +0530
Message-ID: <009e01c5c24c$d299e050$8400a8c0@AcusisBlr.lan>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.6626
In-Reply-To: <20050923142521.17879.qmail@web26005.mail.ukl.yahoo.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.3790.1830
Importance: Normal
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Hi Mark and other Gurus,

I am indexing one value as a key field (rtf & txt indexing) , value is like
12345 or 123-09-34 or it can be like MN12345.
Problem is if the value is like 12345 or 123-23-98 , Standard Analyzer is
able to search it, but if the value is like MN12345 search will not return
any results, and more over if I search for MN12345 through WhiteSpace
Analyzer I am getting the results.

Can any body help? 



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16578-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 26 06:13:28 2005
Return-Path: <java-user-return-16578-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22967 invoked from network); 26 Sep 2005 06:13:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2005 06:13:23 -0000
Received: (qmail 25250 invoked by uid 500); 26 Sep 2005 06:13:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25206 invoked by uid 500); 26 Sep 2005 06:13:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25172 invoked by uid 99); 26 Sep 2005 06:13:16 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 25 Sep 2005 23:13:16 -0700
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of magawake@gmail.com designates 64.233.162.195 as permitted sender)
Received: from [64.233.162.195] (HELO zproxy.gmail.com) (64.233.162.195)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 25 Sep 2005 23:13:22 -0700
Received: by zproxy.gmail.com with SMTP id i28so1304032nzi
        for <java-user@lucene.apache.org>; Sun, 25 Sep 2005 23:12:53 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type;
        b=qULgjWDdLsPqQvHhP+E7rTGsvN1Y4QJcvoA/UBibCGN2UDtm02Lfe6JHG5GmFhd8p8D2YowVMBANCaB6sRxW+S/dIHMczmq0UZijEl7mIhakmFVzWnR80YWs/Z9BQMSR2xGZ8cqrEV2q0ZnTeXl0IT+Zwp+YGbldqKJgJLomGzQ=
Received: by 10.54.139.4 with SMTP id m4mr1503441wrd;
        Sun, 25 Sep 2005 23:12:53 -0700 (PDT)
Received: by 10.54.132.10 with HTTP; Sun, 25 Sep 2005 23:12:53 -0700 (PDT)
Message-ID: <1cbd6f8305092523126e1ec568@mail.gmail.com>
Date: Mon, 26 Sep 2005 02:12:53 -0400
From: Mag Gam <magawake@gmail.com>
Reply-To: Mag Gam <magawake@gmail.com>
To: java-user@lucene.apache.org
Subject: Can Lucene do this?
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_11179_31733403.1127715173865"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_11179_31733403.1127715173865
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: base64
Content-Disposition: inline

SSBoYXZlIGEgZG9jdW1lbnQgY2FsbGVkICJmb28udHh0IiBhbmQgaXQgaGFzIGEgTE9UIG9mIGlu
Zm9ybWF0aW9uIG9uLAp2YXJpb3VzIGNvbXB1dGVyIHRpcHMsIHByb2dyYW1taW5nIGNvZGUsIHBo
b25lIG51bWJlcnMsIGFkZHJlc3NlcywKZXRjLi5ldGMuLi4KClRoZSBkb2N1bWVudCBpcyBzZXQg
dXAgc29tZXRoaW5nIGxpa2UgdGhpcwoKLS0tLS0tLS0tLS0tLS0tLWZvby50eHQtLS0tLS0tLS0t
LS0tLS0tLQpQaG9uZSBudW1iZXIgZm9yIFBpenphOiAxODAwLTk5OS05OTk5CgpUbyBjb29rIHJp
Y2U6ClB1dCByaWNlIG9uIHRoZSBjb29rZXIsIGFuZCBqdXN0IGNvb2sgaXQKClRvIHNlZSB3aGF0
IHByb2Nlc3NlcyBhcmUgcnVubmluZzoKcHMgLWVmCgphbmQgaXQga2VlcHMgb24gZ29pbmcgb24u
Li4uLi4uCgotLS0tLS0tLS0tLS1mb28udHh0LS0tLS0tLS0tLS0tLS0tLS0tLS0tCgoKQ2FuIEkg
dXNlIGx1Y2VuZSB0byBpbmRleCB0aGlzIGRvY3VtZW50IG9ubHksIGFuZCBkaXNwbGF5IGJsb2Nr
cyBvZgppbmZvcm1hdGlvbiBpZiBJIG5lZWQgaXQ/IExpa2UgaWYgSSB0eXBlIGluIHRoaXMgcXVl
cnksICJjb29rIHJpY2UiIEkgc2hvdWxkCmdldCB0aGUgIlRvIENvb2sgcmljZToiIHN0YXRlbWVu
dCBhbmQgYmxvY2suLi4KCgpUSUEhCg==
------=_Part_11179_31733403.1127715173865--

From java-user-return-16579-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 26 06:23:30 2005
Return-Path: <java-user-return-16579-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25290 invoked from network); 26 Sep 2005 06:23:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2005 06:23:29 -0000
Received: (qmail 32919 invoked by uid 500); 26 Sep 2005 06:23:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 32819 invoked by uid 500); 26 Sep 2005 06:23:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 32609 invoked by uid 99); 26 Sep 2005 06:23:10 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 25 Sep 2005 23:23:10 -0700
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=FORGED_RCVD_HELO,SPF_HELO_PASS,SPF_PASS,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of blizzy-keyword-lucene_user.f5486d@blizzy.de designates 217.160.200.68 as permitted sender)
Received: from [217.160.200.68] (HELO iceman.iq-computing.de) (217.160.200.68)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 25 Sep 2005 23:22:34 -0700
Received: (qmail 15918 invoked from network); 26 Sep 2005 08:22:04 +0200
Received: from c212232.adsl.hansenet.de (HELO wolverine.hh.iq-computing.de) (mickey@213.39.212.232)
  by iceman.iq-computing.de with AES256-SHA encrypted SMTP; 26 Sep 2005 08:22:04 +0200
Received: (qmail 15227 invoked from network); 26 Sep 2005 08:22:03 +0200
Received: from localhost (HELO ?127.0.0.1?) (127.0.0.1)
  by localhost with SMTP; 26 Sep 2005 08:22:03 +0200
Message-ID: <4337938B.4070308@blizzy.de>
Date: Mon, 26 Sep 2005 08:22:03 +0200
From: Maik Schreiber <blizzy-keyword-lucene_user.f5486d@blizzy.de>
User-Agent: Mozilla Thunderbird 1.0.6 (X11/20050806)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Can Lucene do this?
References: <1cbd6f8305092523126e1ec568@mail.gmail.com>
In-Reply-To: <1cbd6f8305092523126e1ec568@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

> Can I use lucene to index this document only, and display blocks of
> information if I need it? Like if I type in this query, "cook rice" I should
> get the "To Cook rice:" statement and block...

Just break your original document into multiple documents by splitting on 
empty lines, and add those documents with a "text" field into a Lucene index.

-- 
Maik Schreiber   *   http://www.blizzy.de

GPG public key: http://pgp.mit.edu:11371/pks/lookup?op=get&search=0x1F11D713
Key fingerprint: CF19 AFCE 6E3D 5443 9599 18B5 5640 1F11 D713

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16580-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 26 06:59:11 2005
Return-Path: <java-user-return-16580-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33269 invoked from network); 26 Sep 2005 06:59:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2005 06:59:11 -0000
Received: (qmail 51134 invoked by uid 500); 26 Sep 2005 06:59:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50235 invoked by uid 500); 26 Sep 2005 06:59:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50222 invoked by uid 99); 26 Sep 2005 06:59:06 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 25 Sep 2005 23:59:06 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [194.25.134.84] (HELO mailout09.sul.t-online.com) (194.25.134.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 25 Sep 2005 23:59:13 -0700
Received: from fwd31.aul.t-online.de 
	by mailout09.sul.t-online.com with smtp 
	id 1EJmwk-00042H-04; Mon, 26 Sep 2005 08:58:42 +0200
Received: from EXCH.innosystec.de (SrnctiZcQe2lxaPXjhNSNhN52VXo19aVeX76j9UDdR1nvUOHKBR7Qn@[84.154.236.2]) by fwd31.sul.t-online.de
	with esmtp id 1EJmwM-0nnV8C0; Mon, 26 Sep 2005 08:58:18 +0200
Subject: RE: Problems in standard Analyzer
Date: Mon, 26 Sep 2005 08:58:16 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Message-ID: <FAF7E39D1CED524D8553BB1C969F3EF8303B66@exchange.innosystec.site>
X-MS-Has-Attach: 
Content-class: urn:content-classes:message
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
X-MS-TNEF-Correlator: 
Thread-Topic: Problems in standard Analyzer
Thread-Index: AcXCZEHVejUs/gDtQVmAIfX9H53eAQAAqiZQ
From: "Kunemann Frank" <frank.kunemann@innosystec.de>
To: <java-user@lucene.apache.org>
X-ID: SrnctiZcQe2lxaPXjhNSNhN52VXo19aVeX76j9UDdR1nvUOHKBR7Qn@t-dialin.net
X-TOI-MSGID: 4c41ebc5-48ee-4e74-96b9-e31fa184ab49
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Maybe you should write your own analyzer for this case that changes all =
letters to lower case but keeps all the numbers and signs as they are.
The other solution is not to use an analyzer for this field.

Frank

-----Original Message-----
From: "M =E5 n i s h " [mailto:manish.chowdhary@acusis.com]=20
Sent: Monday, September 26, 2005 5:46 AM
To: java-user@lucene.apache.org
Subject: Problems in standard Analyzer


Hi Mark and other Gurus,

I am indexing one value as a key field (rtf & txt indexing) , value is =
like
12345 or 123-09-34 or it can be like MN12345.
Problem is if the value is like 12345 or 123-23-98 , Standard Analyzer =
is
able to search it, but if the value is like MN12345 search will not =
return
any results, and more over if I search for MN12345 through WhiteSpace
Analyzer I am getting the results.

Can any body help?=20



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16581-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 26 07:05:10 2005
Return-Path: <java-user-return-16581-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 37235 invoked from network); 26 Sep 2005 07:05:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2005 07:05:10 -0000
Received: (qmail 59949 invoked by uid 500); 26 Sep 2005 07:05:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 59045 invoked by uid 500); 26 Sep 2005 07:05:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 59032 invoked by uid 99); 26 Sep 2005 07:05:05 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Sep 2005 00:05:05 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.179.233.113] (HELO acusis.com) (66.179.233.113)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Sep 2005 00:05:11 -0700
Received: from Manish [61.246.221.29] by acusis.com with ESMTP
  (SMTPD-8.20) id AFF604E8; Mon, 26 Sep 2005 03:15:02 -0400
From: =?iso-8859-1?Q?M_=E5_n_i_s_h_?= <manish.chowdhary@acusis.com>
To: <java-user@lucene.apache.org>
Subject: RE: Problems in standard Analyzer
Date: Mon, 26 Sep 2005 12:34:38 +0530
Message-ID: <00aa01c5c268$91bb84a0$8400a8c0@AcusisBlr.lan>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.6626
In-Reply-To: <FAF7E39D1CED524D8553BB1C969F3EF8303B66@exchange.innosystec.site>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.3790.1830
Importance: Normal
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I thought of not using any Analyzer, but the problem is I got other =
queries
that I am appending to this value with either OR or AND, so for that =
part of
query I need Standard Analyzer ,=20
I think I should index that value like normal text, then may be it will
work.
=20

-----Original Message-----
From: Kunemann Frank [mailto:frank.kunemann@innosystec.de]=20
Sent: Monday, September 26, 2005 12:28 PM
To: java-user@lucene.apache.org
Subject: RE: Problems in standard Analyzer

Maybe you should write your own analyzer for this case that changes all
letters to lower case but keeps all the numbers and signs as they are.
The other solution is not to use an analyzer for this field.

Frank

-----Original Message-----
From: "M =E5 n i s h " [mailto:manish.chowdhary@acusis.com]=20
Sent: Monday, September 26, 2005 5:46 AM
To: java-user@lucene.apache.org
Subject: Problems in standard Analyzer


Hi Mark and other Gurus,

I am indexing one value as a key field (rtf & txt indexing) , value is =
like
12345 or 123-09-34 or it can be like MN12345.
Problem is if the value is like 12345 or 123-23-98 , Standard Analyzer =
is
able to search it, but if the value is like MN12345 search will not =
return
any results, and more over if I search for MN12345 through WhiteSpace
Analyzer I am getting the results.

Can any body help?=20



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16582-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 26 07:11:08 2005
Return-Path: <java-user-return-16582-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 38988 invoked from network); 26 Sep 2005 07:11:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2005 07:11:07 -0000
Received: (qmail 62469 invoked by uid 500); 26 Sep 2005 07:11:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 62439 invoked by uid 500); 26 Sep 2005 07:11:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 62426 invoked by uid 99); 26 Sep 2005 07:11:02 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Sep 2005 00:11:02 -0700
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.109.24.32] (HELO smtp-vbr12.xs4all.nl) (194.109.24.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Sep 2005 00:11:07 -0700
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr12.xs4all.nl (8.13.3/8.13.3) with ESMTP id j8Q7AcLv052282
	for <java-user@lucene.apache.org>; Mon, 26 Sep 2005 09:10:38 +0200 (CEST)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: Lucene trunk update question. WAS RE: search performance enhancement
Date: Mon, 26 Sep 2005 09:10:37 +0200
User-Agent: KMail/1.5.4
References: <20050925223752.12759.qmail@web31102.mail.mud.yahoo.com>
In-Reply-To: <20050925223752.12759.qmail@web31102.mail.mud.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200509260910.37942.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Otis,

On Monday 26 September 2005 00:37, Otis Gospodnetic wrote:
> As Erik Hatcher noted in another email (it might have been on the -dev
> list), we'll go through JIRA before making the next release and try to
> push the patches like this one into the core.  Personally, it has been

I used my bug votes already. I hope more people will do that, hint:
http://issues.apache.org/jira/secure/BrowseProject.jspa?id=12310110

Is there a way to view the open issues sorted by number of votes?

> bugging me to see all these nice contributions sitting outside the core
> all this time, and I know it doesn't make contributors feel good.  I
> may have more time to focus on Lucene in the near future, in which case
> I'll do some of what I described above.

In this case, the code requires skipTo() on all scorers. In the trunk, all
scorers have this. There may be a small query search performance hit
due to this, and the code has not been used widely.
To avoid having a dependence on a possible weak spot in performance,
it might be good to let this filter code wait until that is settled.

Regards,
Paul Elschot


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16583-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 26 07:37:17 2005
Return-Path: <java-user-return-16583-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53055 invoked from network); 26 Sep 2005 07:37:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2005 07:37:17 -0000
Received: (qmail 90022 invoked by uid 500); 26 Sep 2005 07:37:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89994 invoked by uid 500); 26 Sep 2005 07:37:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89980 invoked by uid 99); 26 Sep 2005 07:37:13 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Sep 2005 00:37:13 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [194.25.134.19] (HELO mailout06.sul.t-online.com) (194.25.134.19)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Sep 2005 00:37:20 -0700
Received: from fwd33.aul.t-online.de 
	by mailout06.sul.t-online.com with smtp 
	id 1EJnXf-00020a-01; Mon, 26 Sep 2005 09:36:51 +0200
Received: from EXCH.innosystec.de (VrMRYcZDoeLUGr3dUZjTIpvm40ME-qS86ekq3cfwZAm4TFD3BRtnEr@[84.154.236.2]) by fwd33.sul.t-online.de
	with esmtp id 1EJnXS-0rLUG00; Mon, 26 Sep 2005 09:36:38 +0200
Subject: RE: Problems in standard Analyzer
Date: Mon, 26 Sep 2005 09:36:37 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Message-ID: <FAF7E39D1CED524D8553BB1C969F3EF8303B69@exchange.innosystec.site>
X-MS-Has-Attach: 
Content-class: urn:content-classes:message
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
X-MS-TNEF-Correlator: 
Thread-Topic: Problems in standard Analyzer
Thread-Index: AcXCabQ7YwwlgmfsQwCr/hm82/+/TgAAczGA
From: "Kunemann Frank" <frank.kunemann@innosystec.de>
To: <java-user@lucene.apache.org>
X-ID: VrMRYcZDoeLUGr3dUZjTIpvm40ME-qS86ekq3cfwZAm4TFD3BRtnEr@t-dialin.net
X-TOI-MSGID: bbb0cf61-7285-4617-ac74-1478045934fd
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

It should be possible to combine queries using different types of =
analyzers. The only problem I can see is if you're using one single line =
for the whole query.

Frank

-----Original Message-----
From: "M =E5 n i s h " [mailto:manish.chowdhary@acusis.com]=20
Sent: Monday, September 26, 2005 9:05 AM
To: java-user@lucene.apache.org
Subject: RE: Problems in standard Analyzer

I thought of not using any Analyzer, but the problem is I got other =
queries
that I am appending to this value with either OR or AND, so for that =
part of
query I need Standard Analyzer ,=20
I think I should index that value like normal text, then may be it will
work.
=20

-----Original Message-----
From: Kunemann Frank [mailto:frank.kunemann@innosystec.de]=20
Sent: Monday, September 26, 2005 12:28 PM
To: java-user@lucene.apache.org
Subject: RE: Problems in standard Analyzer

Maybe you should write your own analyzer for this case that changes all
letters to lower case but keeps all the numbers and signs as they are.
The other solution is not to use an analyzer for this field.

Frank

-----Original Message-----
From: "M =E5 n i s h " [mailto:manish.chowdhary@acusis.com]=20
Sent: Monday, September 26, 2005 5:46 AM
To: java-user@lucene.apache.org
Subject: Problems in standard Analyzer


Hi Mark and other Gurus,

I am indexing one value as a key field (rtf & txt indexing) , value is =
like
12345 or 123-09-34 or it can be like MN12345.
Problem is if the value is like 12345 or 123-23-98 , Standard Analyzer =
is
able to search it, but if the value is like MN12345 search will not =
return
any results, and more over if I search for MN12345 through WhiteSpace
Analyzer I am getting the results.

Can any body help?=20



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16584-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 26 07:42:55 2005
Return-Path: <java-user-return-16584-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55111 invoked from network); 26 Sep 2005 07:42:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2005 07:42:54 -0000
Received: (qmail 97802 invoked by uid 500); 26 Sep 2005 07:42:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96879 invoked by uid 500); 26 Sep 2005 07:42:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96866 invoked by uid 99); 26 Sep 2005 07:42:49 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Sep 2005 00:42:49 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.179.233.113] (HELO acusis.com) (66.179.233.113)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Sep 2005 00:42:56 -0700
Received: from Manish [61.246.221.29] by acusis.com with ESMTP
  (SMTPD-8.20) id A8CF0770; Mon, 26 Sep 2005 03:52:47 -0400
From: =?iso-8859-1?Q?M_=E5_n_i_s_h_?= <manish.chowdhary@acusis.com>
To: <java-user@lucene.apache.org>
Subject: RE: Problems in standard Analyzer
Date: Mon, 26 Sep 2005 13:12:20 +0530
Message-ID: <00ab01c5c26d$d76e96e0$8400a8c0@AcusisBlr.lan>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.6626
In-Reply-To: <FAF7E39D1CED524D8553BB1C969F3EF8303B69@exchange.innosystec.site>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.3790.1830
Importance: Normal
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Actually in Index I can see that MN12345 value very clearly that too in =
the
same case ( I have Limo Lucene Index Monitor) but when I am trying to =
search
the same value , I am not getting any results, I think the problem lies =
some
where else..

=20
=20


-----Original Message-----
From: Kunemann Frank [mailto:frank.kunemann@innosystec.de]=20
Sent: Monday, September 26, 2005 1:07 PM
To: java-user@lucene.apache.org
Subject: RE: Problems in standard Analyzer

It should be possible to combine queries using different types of =
analyzers.
The only problem I can see is if you're using one single line for the =
whole
query.

Frank

-----Original Message-----
From: "M =E5 n i s h " [mailto:manish.chowdhary@acusis.com]=20
Sent: Monday, September 26, 2005 9:05 AM
To: java-user@lucene.apache.org
Subject: RE: Problems in standard Analyzer

I thought of not using any Analyzer, but the problem is I got other =
queries
that I am appending to this value with either OR or AND, so for that =
part of
query I need Standard Analyzer ,=20
I think I should index that value like normal text, then may be it will
work.
=20

-----Original Message-----
From: Kunemann Frank [mailto:frank.kunemann@innosystec.de]=20
Sent: Monday, September 26, 2005 12:28 PM
To: java-user@lucene.apache.org
Subject: RE: Problems in standard Analyzer

Maybe you should write your own analyzer for this case that changes all
letters to lower case but keeps all the numbers and signs as they are.
The other solution is not to use an analyzer for this field.

Frank

-----Original Message-----
From: "M =E5 n i s h " [mailto:manish.chowdhary@acusis.com]=20
Sent: Monday, September 26, 2005 5:46 AM
To: java-user@lucene.apache.org
Subject: Problems in standard Analyzer


Hi Mark and other Gurus,

I am indexing one value as a key field (rtf & txt indexing) , value is =
like
12345 or 123-09-34 or it can be like MN12345.
Problem is if the value is like 12345 or 123-23-98 , Standard Analyzer =
is
able to search it, but if the value is like MN12345 search will not =
return
any results, and more over if I search for MN12345 through WhiteSpace
Analyzer I am getting the results.

Can any body help?=20



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16585-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 26 07:50:16 2005
Return-Path: <java-user-return-16585-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 56633 invoked from network); 26 Sep 2005 07:50:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2005 07:50:15 -0000
Received: (qmail 2293 invoked by uid 500); 26 Sep 2005 07:50:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 1367 invoked by uid 500); 26 Sep 2005 07:50:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 1354 invoked by uid 99); 26 Sep 2005 07:50:11 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Sep 2005 00:50:11 -0700
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_30_40,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of andy.kishore@gmail.com designates 64.233.162.198 as permitted sender)
Received: from [64.233.162.198] (HELO zproxy.gmail.com) (64.233.162.198)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Sep 2005 00:50:18 -0700
Received: by zproxy.gmail.com with SMTP id q3so1291350nzb
        for <java-user@lucene.apache.org>; Mon, 26 Sep 2005 00:49:49 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=X8EglHm5ewTlebD6mOntbaB9x2C/03orQpMBjVHV9CwbT7if2esqBCJmbMfhiEZWZoQWPxCKSv5WixN1xoi4RXB7ppFgb5m4eQJibrsJkPfmZ5ZF3Z0RqU6a2M8bBFy06Oq+XXYvE/PHnt2xPwThqkcTBOieCCRmF4SMYomj0z4=
Received: by 10.54.145.17 with SMTP id s17mr814026wrd;
        Mon, 26 Sep 2005 00:49:49 -0700 (PDT)
Received: by 10.54.82.6 with HTTP; Mon, 26 Sep 2005 00:49:49 -0700 (PDT)
Message-ID: <1036df9405092600494d92a8bc@mail.gmail.com>
Date: Mon, 26 Sep 2005 13:19:49 +0530
From: Anand Kishore <andy.kishore@gmail.com>
Reply-To: Anand Kishore <andy.kishore@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Problems in standard Analyzer
In-Reply-To: <00ab01c5c26d$d76e96e0$8400a8c0@AcusisBlr.lan>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_9899_15239834.1127720989411"
References: <FAF7E39D1CED524D8553BB1C969F3EF8303B69@exchange.innosystec.site>
	 <00ab01c5c26d$d76e96e0$8400a8c0@AcusisBlr.lan>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_9899_15239834.1127720989411
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Try using a PerFieldAnalyzerWrapper through wich you can specify analyzers
on a per field basis. This way you could skip analyzing this particular
field while searching.

On 9/26/05, M =E5 n i s h <manish.chowdhary@acusis.com> wrote:
>
>
> Actually in Index I can see that MN12345 value very clearly that too in
> the
> same case ( I have Limo Lucene Index Monitor) but when I am trying to
> search
> the same value , I am not getting any results, I think the problem lies
> some
> where else..
>
>
>
>
>
> -----Original Message-----
> From: Kunemann Frank [mailto:frank.kunemann@innosystec.de]
> Sent: Monday, September 26, 2005 1:07 PM
> To: java-user@lucene.apache.org
> Subject: RE: Problems in standard Analyzer
>
> It should be possible to combine queries using different types of
> analyzers.
> The only problem I can see is if you're using one single line for the
> whole
> query.
>
> Frank
>
> -----Original Message-----
> From: "M =E5 n i s h " [mailto:manish.chowdhary@acusis.com]
> Sent: Monday, September 26, 2005 9:05 AM
> To: java-user@lucene.apache.org
> Subject: RE: Problems in standard Analyzer
>
> I thought of not using any Analyzer, but the problem is I got other
> queries
> that I am appending to this value with either OR or AND, so for that part
> of
> query I need Standard Analyzer ,
> I think I should index that value like normal text, then may be it will
> work.
>
>
> -----Original Message-----
> From: Kunemann Frank [mailto:frank.kunemann@innosystec.de]
> Sent: Monday, September 26, 2005 12:28 PM
> To: java-user@lucene.apache.org
> Subject: RE: Problems in standard Analyzer
>
> Maybe you should write your own analyzer for this case that changes all
> letters to lower case but keeps all the numbers and signs as they are.
> The other solution is not to use an analyzer for this field.
>
> Frank
>
> -----Original Message-----
> From: "M =E5 n i s h " [mailto:manish.chowdhary@acusis.com]
> Sent: Monday, September 26, 2005 5:46 AM
> To: java-user@lucene.apache.org
> Subject: Problems in standard Analyzer
>
>
> Hi Mark and other Gurus,
>
> I am indexing one value as a key field (rtf & txt indexing) , value is
> like
> 12345 or 123-09-34 or it can be like MN12345.
> Problem is if the value is like 12345 or 123-23-98 , Standard Analyzer is
> able to search it, but if the value is like MN12345 search will not retur=
n
> any results, and more over if I search for MN12345 through WhiteSpace
> Analyzer I am getting the results.
>
> Can any body help?
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


--
- Andy

------=_Part_9899_15239834.1127720989411--

From java-user-return-16586-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 26 07:58:02 2005
Return-Path: <java-user-return-16586-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 59675 invoked from network); 26 Sep 2005 07:58:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2005 07:58:01 -0000
Received: (qmail 11560 invoked by uid 500); 26 Sep 2005 07:58:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10614 invoked by uid 500); 26 Sep 2005 07:57:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10601 invoked by uid 99); 26 Sep 2005 07:57:57 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Sep 2005 00:57:56 -0700
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_10_20,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.200.222] (HELO web31205.mail.mud.yahoo.com) (68.142.200.222)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 26 Sep 2005 00:58:03 -0700
Received: (qmail 38774 invoked by uid 60001); 26 Sep 2005 07:57:34 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=cd8wod71uEqRBLnsl6vEaYT4urXPw/v4+y6xUunvVdYNJ56z5Ls1l04HBGW0G93YY/EMnRraJQBnGJLAfXOsbimoNzfCKXJrd4/41Qym1vnhKlKWc+22b74ta8VCu0TIAhpT+zH7U4UUF7Ew+R++7XRDbSO+sPFfz2WeWrt4SMU=  ;
Message-ID: <20050926075734.38772.qmail@web31205.mail.mud.yahoo.com>
Received: from [68.126.186.21] by web31205.mail.mud.yahoo.com via HTTP; Mon, 26 Sep 2005 00:57:34 PDT
Date: Mon, 26 Sep 2005 00:57:34 -0700 (PDT)
From: bib_lucene bib <bib_lucene@yahoo.com>
Subject: Displaying Document [Highlighting Terms]
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-827617547-1127721454=:38468"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-827617547-1127721454=:38468
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Hi All
 
I have indexed and displayed highlighted search results. [following lucene in action examples: Thanks authors]. Now I want to display the content of the file with highlighted terms.
 
An idea I could comeup with is , clicking on search result I can open stream to a document, search the text for matching strings and put <b>text</b> around the text (or css whatever).
 
What I am not sure with the above approach is if there are 100 people requesting to see the document, it will open 100 files and do the search and highlight etc....
 
Is there a elegant and better way, essentially how you guys deal when the requirement is not only to just show highlighted fragments of a doc, but also the whole document with highlighted text on clicking clicking on search results.
 
The document is indexed like this..
doc.add(Field.UnStored("content",fileText));
 
Thanks for any suggestions...
Thanks
bib

__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 
--0-827617547-1127721454=:38468--

From java-user-return-16587-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 26 08:13:39 2005
Return-Path: <java-user-return-16587-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 63701 invoked from network); 26 Sep 2005 08:13:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2005 08:13:38 -0000
Received: (qmail 23629 invoked by uid 500); 26 Sep 2005 08:13:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 23602 invoked by uid 500); 26 Sep 2005 08:13:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 23589 invoked by uid 99); 26 Sep 2005 08:13:32 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Sep 2005 01:13:32 -0700
X-ASF-Spam-Status: No, hits=1.9 required=10.0
	tests=DNS_FROM_RFC_POST,DNS_FROM_RFC_WHOIS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [63.240.76.21] (HELO sccrmhc11.comcast.net) (63.240.76.21)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Sep 2005 01:13:38 -0700
Received: from jma (c-67-165-8-214.hsd1.ct.comcast.net[67.165.8.214])
          by comcast.net (sccrmhc11) with SMTP
          id <2005092608130901100pbh5te>; Mon, 26 Sep 2005 08:13:09 +0000
From: "JMA" <mrjama@comcast.net>
To: <java-user@lucene.apache.org>
Subject: Cannot  sort results with multisearcher when mismatched field names
Date: Mon, 26 Sep 2005 04:16:17 -0400
Message-ID: <00be01c5c272$92384a30$0201a8c0@jma>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
In-Reply-To: <005801c5b9d3$e3590ff0$0201a8c0@jma>
Importance: Normal
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Greetings!
I have a relatively simple problem:
I want to sort a set of search results by a field, say "author".
Fine for one index, or more than one if the field "author" is the same.

However, say I want to use a multisearcher (2+ indices), but the second
index uses field name "writer".

If I set a sortField array, that sorts first by author THEN writer.
That's not what I want - I want "author" and "writer" to be treated
as if they are the same field.

I could re-index using a common field name, but would rather not.
I could do my own custom sort after I get back the hits, but would rather
not.

Ideas?

Thanks,
JMA


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16588-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 26 09:38:10 2005
Return-Path: <java-user-return-16588-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88543 invoked from network); 26 Sep 2005 09:38:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2005 09:38:10 -0000
Received: (qmail 12830 invoked by uid 500); 26 Sep 2005 09:38:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 12704 invoked by uid 500); 26 Sep 2005 09:38:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 12691 invoked by uid 99); 26 Sep 2005 09:38:04 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Sep 2005 02:38:04 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [194.25.134.19] (HELO mailout06.sul.t-online.com) (194.25.134.19)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Sep 2005 02:38:10 -0700
Received: from fwd30.aul.t-online.de 
	by mailout06.sul.t-online.com with smtp 
	id 1EJpQa-0004fc-01; Mon, 26 Sep 2005 11:37:40 +0200
Received: from EXCH.innosystec.de (ZXbBS2ZZgeccnSInkeJTFx6qcOtTqQpBXPtVyzyR0q1XQ3l+N-4jEW@[84.154.236.2]) by fwd30.sul.t-online.de
	with esmtp id 1EJpQM-0uOwxE0; Mon, 26 Sep 2005 11:37:26 +0200
Subject: RE: Problems in standard Analyzer
Date: Mon, 26 Sep 2005 11:37:23 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Message-ID: <FAF7E39D1CED524D8553BB1C969F3EF8303B6A@exchange.innosystec.site>
X-MS-Has-Attach: 
Content-class: urn:content-classes:message
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
X-MS-TNEF-Correlator: 
Thread-Topic: Problems in standard Analyzer
Thread-Index: AcXCb/0YZ81NWfpWQX+tSCiZC1UJagACnzhQ
From: "Kunemann Frank" <frank.kunemann@innosystec.de>
To: <java-user@lucene.apache.org>
X-ID: ZXbBS2ZZgeccnSInkeJTFx6qcOtTqQpBXPtVyzyR0q1XQ3l+N-4jEW@t-dialin.net
X-TOI-MSGID: 8d16f606-ab7c-45d9-954e-9a5eb736dfb4
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

The problem is that in limo you can only use standard analyzers for your =
queries. As you've already seen some of them will change the key value =
to something else or even remove them completely.
So I don't think limo will be the right tool for you or at least you'll =
have to change it for your needs (e.g. add an option for no analyzer).

Frank

-----Original Message-----
From: "M =E5 n i s h " [mailto:manish.chowdhary@acusis.com]=20
Sent: Monday, September 26, 2005 9:42 AM
To: java-user@lucene.apache.org
Subject: RE: Problems in standard Analyzer


Actually in Index I can see that MN12345 value very clearly that too in =
the
same case ( I have Limo Lucene Index Monitor) but when I am trying to =
search
the same value , I am not getting any results, I think the problem lies =
some
where else..

=20
=20


-----Original Message-----
From: Kunemann Frank [mailto:frank.kunemann@innosystec.de]=20
Sent: Monday, September 26, 2005 1:07 PM
To: java-user@lucene.apache.org
Subject: RE: Problems in standard Analyzer

It should be possible to combine queries using different types of =
analyzers.
The only problem I can see is if you're using one single line for the =
whole
query.

Frank

-----Original Message-----
From: "M =E5 n i s h " [mailto:manish.chowdhary@acusis.com]=20
Sent: Monday, September 26, 2005 9:05 AM
To: java-user@lucene.apache.org
Subject: RE: Problems in standard Analyzer

I thought of not using any Analyzer, but the problem is I got other =
queries
that I am appending to this value with either OR or AND, so for that =
part of
query I need Standard Analyzer ,=20
I think I should index that value like normal text, then may be it will
work.
=20

-----Original Message-----
From: Kunemann Frank [mailto:frank.kunemann@innosystec.de]=20
Sent: Monday, September 26, 2005 12:28 PM
To: java-user@lucene.apache.org
Subject: RE: Problems in standard Analyzer

Maybe you should write your own analyzer for this case that changes all
letters to lower case but keeps all the numbers and signs as they are.
The other solution is not to use an analyzer for this field.

Frank

-----Original Message-----
From: "M =E5 n i s h " [mailto:manish.chowdhary@acusis.com]=20
Sent: Monday, September 26, 2005 5:46 AM
To: java-user@lucene.apache.org
Subject: Problems in standard Analyzer


Hi Mark and other Gurus,

I am indexing one value as a key field (rtf & txt indexing) , value is =
like
12345 or 123-09-34 or it can be like MN12345.
Problem is if the value is like 12345 or 123-23-98 , Standard Analyzer =
is
able to search it, but if the value is like MN12345 search will not =
return
any results, and more over if I search for MN12345 through WhiteSpace
Analyzer I am getting the results.

Can any body help?=20



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16589-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 26 10:52:30 2005
Return-Path: <java-user-return-16589-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8661 invoked from network); 26 Sep 2005 10:52:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2005 10:52:30 -0000
Received: (qmail 72989 invoked by uid 500); 26 Sep 2005 10:52:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 72955 invoked by uid 500); 26 Sep 2005 10:52:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 72942 invoked by uid 99); 26 Sep 2005 10:52:25 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Sep 2005 03:52:25 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.179.233.113] (HELO acusis.com) (66.179.233.113)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Sep 2005 03:52:30 -0700
Received: from Manish [61.246.221.29] by acusis.com with ESMTP
  (SMTPD-8.20) id A53B04E0; Mon, 26 Sep 2005 07:02:19 -0400
From: =?iso-8859-1?Q?M_=E5_n_i_s_h_?= <manish.chowdhary@acusis.com>
To: <java-user@lucene.apache.org>
Subject: RE: Problems in standard Analyzer
Date: Mon, 26 Sep 2005 16:21:53 +0530
Message-ID: <00bd01c5c288$5334b0b0$8400a8c0@AcusisBlr.lan>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.6626
In-Reply-To: <FAF7E39D1CED524D8553BB1C969F3EF8303B6A@exchange.innosystec.site>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.3790.1830
Importance: Normal
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Frank,
Limo I am using just to see the index properties.
And even if I search same value by my application's search component,I =
am
not getting the results,
I think I have to build the query using different analyzers ,=20

=20

-----Original Message-----
From: Kunemann Frank [mailto:frank.kunemann@innosystec.de]=20
Sent: Monday, September 26, 2005 3:07 PM
To: java-user@lucene.apache.org
Subject: RE: Problems in standard Analyzer

The problem is that in limo you can only use standard analyzers for your
queries. As you've already seen some of them will change the key value =
to
something else or even remove them completely.
So I don't think limo will be the right tool for you or at least you'll =
have
to change it for your needs (e.g. add an option for no analyzer).

Frank

-----Original Message-----
From: "M =E5 n i s h " [mailto:manish.chowdhary@acusis.com]=20
Sent: Monday, September 26, 2005 9:42 AM
To: java-user@lucene.apache.org
Subject: RE: Problems in standard Analyzer


Actually in Index I can see that MN12345 value very clearly that too in =
the
same case ( I have Limo Lucene Index Monitor) but when I am trying to =
search
the same value , I am not getting any results, I think the problem lies =
some
where else..

=20
=20


-----Original Message-----
From: Kunemann Frank [mailto:frank.kunemann@innosystec.de]=20
Sent: Monday, September 26, 2005 1:07 PM
To: java-user@lucene.apache.org
Subject: RE: Problems in standard Analyzer

It should be possible to combine queries using different types of =
analyzers.
The only problem I can see is if you're using one single line for the =
whole
query.

Frank

-----Original Message-----
From: "M =E5 n i s h " [mailto:manish.chowdhary@acusis.com]=20
Sent: Monday, September 26, 2005 9:05 AM
To: java-user@lucene.apache.org
Subject: RE: Problems in standard Analyzer

I thought of not using any Analyzer, but the problem is I got other =
queries
that I am appending to this value with either OR or AND, so for that =
part of
query I need Standard Analyzer ,=20
I think I should index that value like normal text, then may be it will
work.
=20

-----Original Message-----
From: Kunemann Frank [mailto:frank.kunemann@innosystec.de]=20
Sent: Monday, September 26, 2005 12:28 PM
To: java-user@lucene.apache.org
Subject: RE: Problems in standard Analyzer

Maybe you should write your own analyzer for this case that changes all
letters to lower case but keeps all the numbers and signs as they are.
The other solution is not to use an analyzer for this field.

Frank

-----Original Message-----
From: "M =E5 n i s h " [mailto:manish.chowdhary@acusis.com]=20
Sent: Monday, September 26, 2005 5:46 AM
To: java-user@lucene.apache.org
Subject: Problems in standard Analyzer


Hi Mark and other Gurus,

I am indexing one value as a key field (rtf & txt indexing) , value is =
like
12345 or 123-09-34 or it can be like MN12345.
Problem is if the value is like 12345 or 123-23-98 , Standard Analyzer =
is
able to search it, but if the value is like MN12345 search will not =
return
any results, and more over if I search for MN12345 through WhiteSpace
Analyzer I am getting the results.

Can any body help?=20



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16590-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 26 11:24:03 2005
Return-Path: <java-user-return-16590-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28179 invoked from network); 26 Sep 2005 11:24:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2005 11:24:03 -0000
Received: (qmail 5327 invoked by uid 500); 26 Sep 2005 11:23:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5228 invoked by uid 500); 26 Sep 2005 11:23:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5191 invoked by uid 99); 26 Sep 2005 11:23:50 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Sep 2005 04:23:50 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=HTML_MESSAGE,HTML_TEXT_AFTER_BODY,HTML_TEXT_AFTER_HTML
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [212.179.127.169] (HELO koutmail.amdocs.com) (212.179.127.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Sep 2005 04:23:55 -0700
Received: from omail2.amdocs.com ([212.179.127.133])
	by koutmail.amdocs.com (8.12.11/8.12.9) with ESMTP id j8QBLjlr012803
	for <java-user@lucene.apache.org>; Mon, 26 Sep 2005 14:21:46 +0300
Received: from tlvmail7.corp.amdocs.com (localhost.localdomain [127.0.0.1])
	by omail2.amdocs.com (8.12.11/8.12.11) with ESMTP id j8QBNGdc002229
	for <java-user@lucene.apache.org>; Mon, 26 Sep 2005 14:23:17 +0300
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C5C28C.CCA96247"
Subject: Exception in IndexWriter recreating
Date: Mon, 26 Sep 2005 14:24:02 +0300
Message-ID: <191B11CF22BAC54292E97F3B5CDC9C85A0590D@tlvmail7.corp.amdocs.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Exception in IndexWriter recreating
Thread-Index: AcXCjMwt1Xi7Wg8uQhOoVKpgwHIaSg==
From: "Alex Kiselevski" <ALEXKIS@Amdocs.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C5C28C.CCA96247
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable


Hi,

I have a strange exception when I'm trying to recreate an IndexWriter,
that was previously defined.

=0D

I did the following steps:

1.	    mWriter =3D new IndexWriter(indexPath, analyzer, true);
2.	    mWriter.addDocument(document);
3.	    mWriter.optimize();
4.	    mWriter.close();

=0D

In the next step I try to recreate the indexWriter by the same way I did
it in the first step

5.	    mWriter =3D new IndexWriter(indexPath, analyzer, true);

And I got an Exception:

=0D

java.io.IOException: Cannot delete _a.cfs

            at
org.apache.lucene.store.FSDirectory.create(FSDirectory.java:144)

            at
org.apache.lucene.store.FSDirectory.getDirectory(FSDirectory.java:105)

            at
org.apache.lucene.store.FSDirectory.getDirectory(FSDirectory.java:83)

            at
org.apache.lucene.index.IndexWriter.<init>(IndexWriter.java:173)

            at
com.stp.core.cv.index.AbstractIndexer.<init>(AbstractIndexer.java:28)

            at com.stp.core.cv.index.CVIndexer.<init>(CVIndexer.java:27)

            at com.stp.core.CVFacade.indexDocuments(CVFacade.java:102)

            at
com.stp.test.STPTestUtility.indexDocuments(STPTestUtility.java:129)

            at
com.stp.test.STPStorePanel$IndexThread.run(STPStorePanel.java:649)

=0D

=0D

Alex Kiselevski=0D

Solution Engineer  Pre Sales

+9.729.776.7086 (desk)
+9.729.776.1504 (fax)

AMDOCS > INTEGRATED CUSTOMER MANAGEMENT

=0D



The information contained in this message is proprietary of Amdocs,
protected from disclosure, and may be privileged.
The information is intended to be conveyed only to the designated=
 recipient(s)
of the message. If the reader of this message is not the intended=
 recipient,
you are hereby notified that any dissemination, use, distribution or=
 copying of=0D
this communication is strictly prohibited and may be unlawful.=0D
If you have received this communication in error, please notify us=
 immediately
by replying to the message and deleting it from your computer.
Thank you.
------_=_NextPart_001_01C5C28C.CCA96247--

From java-user-return-16591-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 26 13:00:00 2005
Return-Path: <java-user-return-16591-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60895 invoked from network); 26 Sep 2005 12:59:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2005 12:59:59 -0000
Received: (qmail 84489 invoked by uid 500); 26 Sep 2005 12:59:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84468 invoked by uid 500); 26 Sep 2005 12:59:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84454 invoked by uid 99); 26 Sep 2005 12:59:54 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Sep 2005 05:59:54 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Sep 2005 05:59:59 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id DCC7213E2007; Mon, 26 Sep 2005 08:59:29 -0400 (EDT)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id B539C13E2005
	for <java-user@lucene.apache.org>; Mon, 26 Sep 2005 08:59:21 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <200509260910.37942.paul.elschot@xs4all.nl>
References: <20050925223752.12759.qmail@web31102.mail.mud.yahoo.com> <200509260910.37942.paul.elschot@xs4all.nl>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <1ECA12E5-03B5-49D3-9DED-E92676577304@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Lucene trunk update question. WAS RE: search performance enhancement
Date: Mon, 26 Sep 2005 08:59:20 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.6 required=5.0 tests=BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Sep 26, 2005, at 3:10 AM, Paul Elschot wrote:
> I used my bug votes already. I hope more people will do that, hint:
> http://issues.apache.org/jira/secure/BrowseProject.jspa?id=12310110
>
> Is there a way to view the open issues sorted by number of votes?

There is the "Popular Issues" view:

     <http://issues.apache.org/jira/browse/LUCENE? 
report=com.atlassian.jira.plugin.system.project:popularissues-panel>





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16592-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 26 17:50:21 2005
Return-Path: <java-user-return-16592-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13674 invoked from network); 26 Sep 2005 17:50:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2005 17:50:19 -0000
Received: (qmail 39259 invoked by uid 500); 26 Sep 2005 17:50:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 39239 invoked by uid 500); 26 Sep 2005 17:50:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 39226 invoked by uid 99); 26 Sep 2005 17:50:12 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Sep 2005 10:50:12 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_40_50,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.49.117] (HELO web54307.mail.yahoo.com) (206.190.49.117)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 26 Sep 2005 10:50:17 -0700
Received: (qmail 99404 invoked by uid 60001); 26 Sep 2005 17:49:48 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=VXwU9JcnI4hmS6ECMbt/t5JU9s0Zbyu6ZqueTsbDdtaGf1lGogET9EEnTjQg9cEudSbGurNWEN9SfaEnvv+niFiFVSw2YxdQmmKPK0uyXBJLlxTuVIZxFD91WGClnNeksFo/YryH4Oo8O98rgOxohX6lNNOWp8RGL5cID0o11Pg=  ;
Message-ID: <20050926174948.99402.qmail@web54307.mail.yahoo.com>
Received: from [141.70.115.175] by web54307.mail.yahoo.com via HTTP; Mon, 26 Sep 2005 10:49:47 PDT
Date: Mon, 26 Sep 2005 10:49:47 -0700 (PDT)
From: tirupathi reddy <tirupathireddy_m@yahoo.com>
Subject: Problem in .txt file indexing
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-2074856389-1127756987=:87111"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-2074856389-1127756987=:87111
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

hello,
 
  I am using the following code to index text files.
 
InputStream is = new FileInputStream(pdf);
        
     DefaultStyledDocument styledDoc = new DefaultStyledDocument();
     try {
       new RTFEditorKit().read(is, styledDoc, 0);
       bodyText = styledDoc.getText(0, styledDoc.getLength());
     }
     catch (IOException e) {
       throw new DocumentHandlerException(
         "Cannot extract text from a RTF document", e);
     }
     catch (BadLocationException e) {
       throw new DocumentHandlerException(
         "Cannot extract text from a RTF document", e);
     }
     if (bodyText != null) {
       mDocument.add(Field.Text("fulltext", bodyText));
     }
 
But I am getting the error as can't find symbol  DocumentHandlerException .
 
And I import org.ujac.print.DocumentHandlerException.
 
But I don't have that package. From where I can get that package?
Or else How to solve the above problem?
 


Tirupati Reddy Manyam 
24-06-08, 
Sundugaullee-24, 
79110 Freiburg 
GERMANY. 

Phone: 00497618811257 
cell : 004917624649007

		
---------------------------------
Yahoo! for Good
 Click here to donate to the Hurricane Katrina relief effort. 
--0-2074856389-1127756987=:87111--

From java-user-return-16593-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 26 17:51:28 2005
Return-Path: <java-user-return-16593-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14088 invoked from network); 26 Sep 2005 17:51:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2005 17:51:28 -0000
Received: (qmail 40649 invoked by uid 500); 26 Sep 2005 17:51:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40628 invoked by uid 500); 26 Sep 2005 17:51:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40615 invoked by uid 99); 26 Sep 2005 17:51:23 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Sep 2005 10:51:23 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of shashikant@gmail.com designates 66.249.82.203 as permitted sender)
Received: from [66.249.82.203] (HELO xproxy.gmail.com) (66.249.82.203)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Sep 2005 10:51:29 -0700
Received: by xproxy.gmail.com with SMTP id s19so1233184wxc
        for <java-user@lucene.apache.org>; Mon, 26 Sep 2005 10:51:00 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=j9LLv/A+JhxtZ22+duatnjf3hcDM/ktvTBNCOQae40Aa3rctY1woDqrARDJefWc73NnRUk1Ky7Qumqa09nHxaf9G6fam3R/UlNM8X9TOIsp4AIkb7PuzRUSvJdKAZirQnvkHDpcm3qjtonNI3L27gZDiAbUpAHtESjj1GPrPhLU=
Received: by 10.70.110.20 with SMTP id i20mr2356375wxc;
        Mon, 26 Sep 2005 10:51:00 -0700 (PDT)
Received: by 10.70.104.13 with HTTP; Mon, 26 Sep 2005 10:51:00 -0700 (PDT)
Message-ID: <17469b15050926105152583e77@mail.gmail.com>
Date: Mon, 26 Sep 2005 23:21:00 +0530
From: Shashikant Kore <shashikant@gmail.com>
Reply-To: Shashikant Kore <shashikant@gmail.com>
To: java-user@lucene.apache.org
Subject: Single Analyzer for multiple European languages
In-Reply-To: <17469b1505092610433d72198c@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <17469b1505092610433d72198c@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

I plan to use lucene to index documents in multiple languages (ie.
each document in more than one European language) as follows.

Index:
- Before indexing find the language of the document (using Nutch's
Language Identifier)
- Use the Analyzer for that language to index the document. Analyzer
will be constructed with stopwords for that language. Stemming will
NOT be used for any language.
- All the documents go to one single index.
- Remember all the languages encountered while creating the index.

Search:
- Get the superset of stopwords by merging the stopwords from all the langu=
ages.
- Create an Analyzer with this list of stopwords
- Use this analyzer for all the search queries


I have read that one should use the same analyzer during search as the
one used to create the index.  I am clearly deviating from this rule.
But since I am not using any  language-specific filter, this looks
correct to me. (If in future need arises to restrict results from a
particular language, I plan to add another field in each document for
language and use it in the query.)

*  While getting the details right, am I falling to a grand fallacy?
Is there any basic assumption in my thinking which is patently wrong?

* Curious question: Support for CJK - Since StandardAnalyzer() is good
enough for major European languages, I can use a different index for
CJK built with a CJK analyzer,  or potentially different for each of
C, J and K. To make things simple, let's say only one of these indices
will be used to search at a time (so as to avoid complications of
merging results from multiple indices). Is this solution correct?

Thanks in advance.

--shashi

--
"Speed is subsittute fo accurancy."

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16594-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 26 18:12:04 2005
Return-Path: <java-user-return-16594-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23618 invoked from network); 26 Sep 2005 18:12:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2005 18:12:03 -0000
Received: (qmail 64023 invoked by uid 500); 26 Sep 2005 18:11:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64004 invoked by uid 500); 26 Sep 2005 18:11:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63991 invoked by uid 99); 26 Sep 2005 18:11:58 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Sep 2005 11:11:58 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.179.233.113] (HELO acusis.com) (66.179.233.113)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Sep 2005 11:12:03 -0700
Received: from Manish [61.246.221.29] by acusis.com with ESMTP
  (SMTPD-8.20) id AC4306D0; Mon, 26 Sep 2005 14:21:55 -0400
From: =?iso-8859-1?Q?M_=E5_n_i_s_h_?= <manish.chowdhary@acusis.com>
To: <java-user@lucene.apache.org>
Subject: RE: Problem in .txt file indexing
Date: Mon, 26 Sep 2005 23:41:32 +0530
Message-ID: <00e101c5c2c5$bab299e0$8400a8c0@AcusisBlr.lan>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.6626
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.3790.1830
Importance: Normal
In-Reply-To: <20050926174948.99402.qmail@web54307.mail.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


This package org.ujac.print.DocumentHandlerException is not part of Lucene,
Check whether you are using some other third party class files in your
program.
 

-----Original Message-----
From: tirupathi reddy [mailto:tirupathireddy_m@yahoo.com] 
Sent: Monday, September 26, 2005 11:20 PM
To: java-user@lucene.apache.org
Subject: Problem in .txt file indexing

hello,
 
  I am using the following code to index text files.
 
InputStream is = new FileInputStream(pdf);
        
     DefaultStyledDocument styledDoc = new DefaultStyledDocument();
     try {
       new RTFEditorKit().read(is, styledDoc, 0);
       bodyText = styledDoc.getText(0, styledDoc.getLength());
     }
     catch (IOException e) {
       throw new DocumentHandlerException(
         "Cannot extract text from a RTF document", e);
     }
     catch (BadLocationException e) {
       throw new DocumentHandlerException(
         "Cannot extract text from a RTF document", e);
     }
     if (bodyText != null) {
       mDocument.add(Field.Text("fulltext", bodyText));
     }
 
But I am getting the error as can't find symbol  DocumentHandlerException .
 
And I import org.ujac.print.DocumentHandlerException.
 
But I don't have that package. From where I can get that package?
Or else How to solve the above problem?
 


Tirupati Reddy Manyam 
24-06-08, 
Sundugaullee-24, 
79110 Freiburg 
GERMANY. 

Phone: 00497618811257 
cell : 004917624649007

		
---------------------------------
Yahoo! for Good
 Click here to donate to the Hurricane Katrina relief effort. 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16595-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 26 18:27:41 2005
Return-Path: <java-user-return-16595-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31143 invoked from network); 26 Sep 2005 18:27:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2005 18:27:40 -0000
Received: (qmail 90488 invoked by uid 500); 26 Sep 2005 18:27:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 90467 invoked by uid 500); 26 Sep 2005 18:27:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 90454 invoked by uid 99); 26 Sep 2005 18:27:35 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Sep 2005 11:27:35 -0700
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Sep 2005 11:27:40 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id A69F15B778; Mon, 26 Sep 2005 11:27:08 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 9CF3A7F477
	for <java-user@lucene.apache.org>; Mon, 26 Sep 2005 11:27:08 -0700 (PDT)
Date: Mon, 26 Sep 2005 11:27:08 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: Problem in .txt file indexing
In-Reply-To: <20050926174948.99402.qmail@web54307.mail.yahoo.com>
Message-ID: <Pine.LNX.4.58.0509261120580.29461@hal.rescomp.berkeley.edu>
References: <20050926174948.99402.qmail@web54307.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


You seem to be using the example code from LIA chapter 7, however you seem
to be confusing the "DocumentHandlerException" class mentioned there with
org.ujac.print.DocumentHandlerException -- a completely unrelated class
that just happens to have the same name (i'm guessing you found it doing a
google search when your code wouldn't compile)

http://ujac.sourceforge.net/UJAC/docs/api/org/ujac/print/DocumentHandlerException.html

...if you read section 7.1.1 it says...

     all classes imlementing the DocumentHandler interface throw a
     DocumentHandlerException.  This is a checked exception, a simple
     subclass of Java's Exception class, so we'll omit it's listing.

...but if you go download the source code Otis and Erik have made
available, you'll find it included...

	http://www.lucenebook.com/LuceneInAction.zip




: Date: Mon, 26 Sep 2005 10:49:47 -0700 (PDT)
: From: tirupathi reddy <tirupathireddy_m@yahoo.com>
: Reply-To: java-user@lucene.apache.org
: To: java-user@lucene.apache.org
: Subject: Problem in .txt file indexing
:
: hello,
:
:   I am using the following code to index text files.
:
: InputStream is = new FileInputStream(pdf);
:
:      DefaultStyledDocument styledDoc = new DefaultStyledDocument();
:      try {
:        new RTFEditorKit().read(is, styledDoc, 0);
:        bodyText = styledDoc.getText(0, styledDoc.getLength());
:      }
:      catch (IOException e) {
:        throw new DocumentHandlerException(
:          "Cannot extract text from a RTF document", e);
:      }
:      catch (BadLocationException e) {
:        throw new DocumentHandlerException(
:          "Cannot extract text from a RTF document", e);
:      }
:      if (bodyText != null) {
:        mDocument.add(Field.Text("fulltext", bodyText));
:      }
:
: But I am getting the error as can't find symbol  DocumentHandlerException .
:
: And I import org.ujac.print.DocumentHandlerException.
:
: But I don't have that package. From where I can get that package?
: Or else How to solve the above problem?
:
:
:
: Tirupati Reddy Manyam
: 24-06-08,
: Sundugaullee-24,
: 79110 Freiburg
: GERMANY.
:
: Phone: 00497618811257
: cell : 004917624649007
:
:
: ---------------------------------
: Yahoo! for Good
:  Click here to donate to the Hurricane Katrina relief effort.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16596-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 26 18:31:19 2005
Return-Path: <java-user-return-16596-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32723 invoked from network); 26 Sep 2005 18:31:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2005 18:31:18 -0000
Received: (qmail 94101 invoked by uid 500); 26 Sep 2005 18:31:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 94080 invoked by uid 500); 26 Sep 2005 18:31:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 94067 invoked by uid 99); 26 Sep 2005 18:31:13 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Sep 2005 11:31:13 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_30_40,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.49.122] (HELO web54312.mail.yahoo.com) (206.190.49.122)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 26 Sep 2005 11:31:19 -0700
Received: (qmail 6373 invoked by uid 60001); 26 Sep 2005 18:30:50 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=jsXC2BRfBYCzMHhfR/l/yEM8VMpoOIBJ3WCcy7XVNapWppoJwC+FrVS7KlJZOv93UlsxzMVWClI3gRQdus5sKfOREpxUj+8XPjX9acAKPCRo7lcqpd3vRzgv3bjuSIjhsKxYAxSLn8Z2+6eQJPHiE0afYptXYtmR3G+CohDCGBU=  ;
Message-ID: <20050926183050.6371.qmail@web54312.mail.yahoo.com>
Received: from [141.70.115.175] by web54312.mail.yahoo.com via HTTP; Mon, 26 Sep 2005 11:30:50 PDT
Date: Mon, 26 Sep 2005 11:30:50 -0700 (PDT)
From: tirupathi reddy <tirupathireddy_m@yahoo.com>
Subject: Re: Problem in .txt file indexing
To: java-user@lucene.apache.org
In-Reply-To: <Pine.LNX.4.58.0509261120580.29461@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-289266612-1127759450=:5081"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-289266612-1127759450=:5081
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Hello,
 
  SO now How can I index the text files in Lucene?
 
Thanx,
MTREDDY


Tirupati Reddy Manyam 
24-06-08, 
Sundugaullee-24, 
79110 Freiburg 
GERMANY. 

Phone: 00497618811257 
cell : 004917624649007

__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 
--0-289266612-1127759450=:5081--

From java-user-return-16597-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 26 18:33:33 2005
Return-Path: <java-user-return-16597-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33973 invoked from network); 26 Sep 2005 18:33:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2005 18:33:33 -0000
Received: (qmail 98960 invoked by uid 500); 26 Sep 2005 18:33:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 98702 invoked by uid 500); 26 Sep 2005 18:33:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 98689 invoked by uid 99); 26 Sep 2005 18:33:28 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Sep 2005 11:33:28 -0700
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Sep 2005 11:33:34 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 167A65B778; Mon, 26 Sep 2005 11:33:06 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 133BB7F477
	for <java-user@lucene.apache.org>; Mon, 26 Sep 2005 11:33:06 -0700 (PDT)
Date: Mon, 26 Sep 2005 11:33:06 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: Cannot  sort results with multisearcher when mismatched field
 names
In-Reply-To: <00be01c5c272$92384a30$0201a8c0@jma>
Message-ID: <Pine.LNX.4.58.0509261128230.29461@hal.rescomp.berkeley.edu>
References: <00be01c5c272$92384a30$0201a8c0@jma>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


I've never dealt with multisearcher's before, so i'm not sure what caveats
there are when doing Sorts with them, but you should be able to make your
own SortComparatorSource which knows about any special fields you have
that might go by multiple names, and when it's requested to sort on one of
those fields, you can check the values for either field name before doing
the comparison.

For an eample of writing your own SortComparatorSource, take a look at
this PATCH...

	http://issues.apache.org/jira/browse/LUCENE-406



: Date: Mon, 26 Sep 2005 04:16:17 -0400
: From: JMA <mrjama@comcast.net>
: Reply-To: java-user@lucene.apache.org
: To: java-user@lucene.apache.org
: Subject: Cannot  sort results with multisearcher when mismatched field
:     names
:
:
: Greetings!
: I have a relatively simple problem:
: I want to sort a set of search results by a field, say "author".
: Fine for one index, or more than one if the field "author" is the same.
:
: However, say I want to use a multisearcher (2+ indices), but the second
: index uses field name "writer".
:
: If I set a sortField array, that sorts first by author THEN writer.
: That's not what I want - I want "author" and "writer" to be treated
: as if they are the same field.
:
: I could re-index using a common field name, but would rather not.
: I could do my own custom sort after I get back the hits, but would rather
: not.
:
: Ideas?
:
: Thanks,
: JMA
:
:
: ---------------------------------------------------------------------
: To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: For additional commands, e-mail: java-user-help@lucene.apache.org
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16598-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 26 19:09:18 2005
Return-Path: <java-user-return-16598-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 51750 invoked from network); 26 Sep 2005 19:09:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2005 19:09:18 -0000
Received: (qmail 66578 invoked by uid 500); 26 Sep 2005 19:09:13 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66558 invoked by uid 500); 26 Sep 2005 19:09:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66543 invoked by uid 99); 26 Sep 2005 19:09:13 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Sep 2005 12:09:13 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.44.16.11] (HELO getopt.org) (69.44.16.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Sep 2005 12:09:18 -0700
Received: from [192.168.0.254] (75-mo3-2.acn.waw.pl [62.121.105.75])
	(authenticated)
	by getopt.org (8.11.6/8.11.6) with ESMTP id j8QJ92Y19678
	for <java-user@lucene.apache.org>; Mon, 26 Sep 2005 14:09:02 -0500
Message-ID: <4338473F.5090305@getopt.org>
Date: Mon, 26 Sep 2005 21:08:47 +0200
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Single Analyzer for multiple European languages
References: <17469b1505092610433d72198c@mail.gmail.com> <17469b15050926105152583e77@mail.gmail.com>
In-Reply-To: <17469b15050926105152583e77@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Shashikant Kore wrote:

> Search:
> - Get the superset of stopwords by merging the stopwords from all the languages.

This step doesn't make sense. Stopwords ARE language specific. A 
stopword in one language may be a valid content word in another language 
- e.g. English stopwords "is, by, far" mean "ice, village, father" in 
Swedish. And vice versa, e.g. "den, men, man, sin, hans, era" are 
Swedish stopwords... So, if you mix them and apply to all documents then 
you will surely loose a lot of valid content.

-- 
Best regards,
Andrzej Bialecki     <><
  ___. ___ ___ ___ _ _   __________________________________
[__ || __|__/|__||\/|  Information Retrieval, Semantic Web
___|||__||  \|  ||  |  Embedded Unix, System Integration
http://www.sigram.com  Contact: info at sigram dot com


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16599-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 26 19:55:47 2005
Return-Path: <java-user-return-16599-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 75873 invoked from network); 26 Sep 2005 19:55:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2005 19:55:47 -0000
Received: (qmail 49638 invoked by uid 500); 26 Sep 2005 19:55:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49620 invoked by uid 500); 26 Sep 2005 19:55:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 49599 invoked by uid 99); 26 Sep 2005 19:55:42 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Sep 2005 12:55:42 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [216.49.77.242] (HELO euphrates.ncsl.nist.gov) (216.49.77.242)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Sep 2005 12:55:48 -0700
Received: from euphrates.ncsl.nist.gov.nist.gov (euphrates.ncsl.nist.gov [127.0.0.1])
	by euphrates.ncsl.nist.gov (8.13.1/8.13.1) with ESMTP id j8QJtKoJ003282
	for <java-user@lucene.apache.org>; Mon, 26 Sep 2005 15:55:21 -0400
From: Ian Soboroff <ian.soboroff@nist.gov>
To: java-user@lucene.apache.org
Subject: Re: Indexing .txt file containing english, german or french alphabet
References: <20050925233329.81288.qmail@web31101.mail.mud.yahoo.com>
Date: Mon, 26 Sep 2005 15:55:20 -0400
In-Reply-To: <20050925233329.81288.qmail@web31101.mail.mud.yahoo.com> (Otis
	Gospodnetic's message of "Sun, 25 Sep 2005 16:33:29 -0700 (PDT)")
Message-ID: <9cf1x3b61uf.fsf@euphrates.ncsl.nist.gov>
User-Agent: Gnus/5.110004 (No Gnus v0.4) Emacs/21.3 (gnu/linux)
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Otis Gospodnetic <otis_gospodnetic@yahoo.com> writes:

> For indexing text that has multiple languages.... I don't know what to
> recommend.  Well, I do - try the StandardAnalyzer and see if that
> produces satisfactory results, but you'd really need a smart analyzer
> that knows how to properly tokenize and filter words from multiple
> languages, and I haven't heard of anyone doing that here.

We have a collection of Reuters documents in 13 languages (mostly
European, but also Russian, Chinese, and Japanese) that we've indexed
successfully with our Lucene-based system.  The text is all in
standard, modern encodings.

Collection link: http://trec.nist.gov/data/reuters/reuters.html

We had no problems whatsoever on the Lucene end.  You need to take
care about how you read your text before you feed it to an analyzer,
and how you do the same with queries.

Obviously the Lucene analyzer assumes words separated by puntuation
and space, which is not so good for asian-language retrieval
performance, and of course there are no stemmers if you want that.
You're best off using some language-specific analyzer chains.  If you
don't know the language before analysis, that's a harder problem.

Ian



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16600-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 26 20:08:14 2005
Return-Path: <java-user-return-16600-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 80880 invoked from network); 26 Sep 2005 20:08:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2005 20:08:14 -0000
Received: (qmail 72393 invoked by uid 500); 26 Sep 2005 20:08:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 72347 invoked by uid 500); 26 Sep 2005 20:08:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 72184 invoked by uid 99); 26 Sep 2005 20:08:06 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Sep 2005 13:08:06 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Sep 2005 13:08:12 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 0853F13E2005; Mon, 26 Sep 2005 16:07:42 -0400 (EDT)
Received: from [172.16.1.101] (va-71-48-138-146.dhcp.sprint-hsd.net [71.48.138.146])
	by ehatchersolutions.com (Postfix) with ESMTP id E098913E2005
	for <java-user@lucene.apache.org>; Mon, 26 Sep 2005 16:07:13 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <20050926183050.6371.qmail@web54312.mail.yahoo.com>
References: <20050926183050.6371.qmail@web54312.mail.yahoo.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <BEC722E4-88B9-4092-837D-B9E7333E30EA@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Problem in .txt file indexing
Date: Mon, 26 Sep 2005 16:07:10 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,AWL,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Sep 26, 2005, at 2:30 PM, tirupathi reddy wrote:

> Hello,
>
>   SO now How can I index the text files in Lucene?

Didn't we go over this before?!  :)

Follow these steps _exactly_:

1) Download the source code from Lucene in Action from http:// 
www.lucenebook.com (you'll see a link at the top of the page to get  
the source code .zip file)

2) Unzip it, read and follow the README.

3) Run "ant Indexer", follow the prompts entering the directory for  
the Lucene index (or press Enter to accept the defaults) and the  
directory of .txt files to index.

4) Run "ant Searcher" to search the index built in step 3.

Once you have all this running, borrow the code from Indexer.java and  
incorporate it into your own codebase however you'd like.

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16601-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 26 22:38:33 2005
Return-Path: <java-user-return-16601-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45313 invoked from network); 26 Sep 2005 22:38:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2005 22:38:33 -0000
Received: (qmail 54201 invoked by uid 500); 26 Sep 2005 22:38:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54172 invoked by uid 500); 26 Sep 2005 22:38:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 54159 invoked by uid 99); 26 Sep 2005 22:38:28 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Sep 2005 15:38:28 -0700
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=HTML_30_40,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of magawake@gmail.com designates 64.233.162.201 as permitted sender)
Received: from [64.233.162.201] (HELO zproxy.gmail.com) (64.233.162.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Sep 2005 15:38:33 -0700
Received: by zproxy.gmail.com with SMTP id i28so103091nzi
        for <java-user@lucene.apache.org>; Mon, 26 Sep 2005 15:38:05 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=JC6icgQ4gQchXCDxn8tuM9Simt8Nxq6+bKBfbsDt4lxdUut9XGPuhX4+vh4d5XA6jlaSUCHAJ6DFz1n4g0cXYEInYa8W+BS46YnXuOPFbiCICT+kdMCx34aqc+ekBbdV/XN86xBFzTOAOJeHtivC26hRhp03IZEwIW1tzq0xU9I=
Received: by 10.54.45.76 with SMTP id s76mr797883wrs;
        Mon, 26 Sep 2005 15:38:05 -0700 (PDT)
Received: by 10.54.132.10 with HTTP; Mon, 26 Sep 2005 15:38:04 -0700 (PDT)
Message-ID: <1cbd6f8305092615382fc52392@mail.gmail.com>
Date: Mon, 26 Sep 2005 18:38:04 -0400
From: Mag Gam <magawake@gmail.com>
Reply-To: Mag Gam <magawake@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Can Lucene do this?
In-Reply-To: <4337938B.4070308@blizzy.de>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_2567_24049593.1127774284990"
References: <1cbd6f8305092523126e1ec568@mail.gmail.com>
	 <4337938B.4070308@blizzy.de>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_2567_24049593.1127774284990
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: base64
Content-Disposition: inline

TWFpazoKClRoYW5rcyBmb3IgdGhlIHJlcGx5LiBJIHdhcyBnb2luZyB0byBnbyB0aGF0IHdheSwg
YnV0IGl0IGludm9sdmVzIGEgbG90IG9mCndvcmssIHNpbmNlIG15IHRleHQgZmlsZSBpcyBhYm91
dCAzIG1lZyBvZiBpbmZvcm1hdGlvbi4KCkhvd2V2ZXIsIEkgYW0gbG9va2luZyBpbnRvIGludGVn
cmF0aW5nIG15IGRhdGEgd2l0aCBEZXJieSBwbHVzIEx1Y2VuZS4KClRJQSEKCgoKCk9uIDkvMjYv
MDUsIE1haWsgU2NocmVpYmVyIDxibGl6enkta2V5d29yZC1sdWNlbmVfdXNlci5mNTQ4NmRAYmxp
enp5LmRlPgp3cm90ZToKPgo+ID4gQ2FuIEkgdXNlIGx1Y2VuZSB0byBpbmRleCB0aGlzIGRvY3Vt
ZW50IG9ubHksIGFuZCBkaXNwbGF5IGJsb2NrcyBvZgo+ID4gaW5mb3JtYXRpb24gaWYgSSBuZWVk
IGl0PyBMaWtlIGlmIEkgdHlwZSBpbiB0aGlzIHF1ZXJ5LCAiY29vayByaWNlIiBJCj4gc2hvdWxk
Cj4gPiBnZXQgdGhlICJUbyBDb29rIHJpY2U6IiBzdGF0ZW1lbnQgYW5kIGJsb2NrLi4uCj4KPiBK
dXN0IGJyZWFrIHlvdXIgb3JpZ2luYWwgZG9jdW1lbnQgaW50byBtdWx0aXBsZSBkb2N1bWVudHMg
Ynkgc3BsaXR0aW5nIG9uCj4gZW1wdHkgbGluZXMsIGFuZCBhZGQgdGhvc2UgZG9jdW1lbnRzIHdp
dGggYSAidGV4dCIgZmllbGQgaW50byBhIEx1Y2VuZQo+IGluZGV4Lgo+Cj4gLS0KPiBNYWlrIFNj
aHJlaWJlciAqIGh0dHA6Ly93d3cuYmxpenp5LmRlCj4KPiBHUEcgcHVibGljIGtleToKPiBodHRw
Oi8vcGdwLm1pdC5lZHU6MTEzNzEvcGtzL2xvb2t1cD9vcD1nZXQmc2VhcmNoPTB4MUYxMUQ3MTMK
PiBLZXkgZmluZ2VycHJpbnQ6IENGMTkgQUZDRSA2RTNEIDU0NDMgOTU5OSAxOEI1IDU2NDAgMUYx
MSBENzEzCj4KPiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KPiBUbyB1bnN1YnNjcmliZSwgZS1tYWlsOiBqYXZhLXVz
ZXItdW5zdWJzY3JpYmVAbHVjZW5lLmFwYWNoZS5vcmcKPiBGb3IgYWRkaXRpb25hbCBjb21tYW5k
cywgZS1tYWlsOiBqYXZhLXVzZXItaGVscEBsdWNlbmUuYXBhY2hlLm9yZwo+Cj4K
------=_Part_2567_24049593.1127774284990--

From java-user-return-16602-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 26 22:47:13 2005
Return-Path: <java-user-return-16602-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 48670 invoked from network); 26 Sep 2005 22:47:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2005 22:47:13 -0000
Received: (qmail 69548 invoked by uid 500); 26 Sep 2005 22:47:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69523 invoked by uid 500); 26 Sep 2005 22:47:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 69510 invoked by uid 99); 26 Sep 2005 22:47:09 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Sep 2005 15:47:09 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [216.87.64.34] (HELO snow.viawest.net) (216.87.64.34)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Sep 2005 15:47:15 -0700
Received: from roy.optimus-corp.com (mail.optimus-corp.com [216.87.83.228])
	by snow.viawest.net (8.12.10/8.12.10/viawest-2.5) with ESMTP id j8QMkkpp019753
	for <java-user@lucene.apache.org>; Mon, 26 Sep 2005 16:46:46 -0600 (MDT)
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: query behavior
Date: Mon, 26 Sep 2005 16:46:45 -0600
Message-ID: <4E167F5A6BE96B4FB3190F10E66F7726054EB0@roy.optimus-corp.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: query behavior
Thread-Index: AcXC7CvGSgdMcbZbSqKJ+P2m1jaJIA==
From: "Alberto Squassabia" <albertos@optimus-corp.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi!

I learnt from a mailing list archive that the following applies:


<quote>
---------------------------------
Tue, 06 Jan 2004=20
[...]
I have a index with documents that have only 2 fields, the first
(unique) is 'very unique', in that most document have at least somewhat
varying terms, the second is a boolean that contains only (boolean)
'true' or 'false'. The index contains 100,000,000+ documents.
If I perform the following search "+unique:somevalue +boolean:true',
lucene with search on the first term, returning very few documents, but
then it will search the second term, returning possibly a million+
documents, then it will intersect the list, return 'hits' of only a few
documents.
[. . .]
This behavior has been observed with the 1.3 final code.
Robert Engels
---------------------------------
</quote>

Can anyone tell me if that is still true for 1.4?  Or if there are any
optimizations that is possible to hardcode in such a case (I have a
similar problem).

Cheers,

Alberto S
albertos_at_optimus-corp_dot_com


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16603-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 26 22:59:09 2005
Return-Path: <java-user-return-16603-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52520 invoked from network); 26 Sep 2005 22:59:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2005 22:59:09 -0000
Received: (qmail 90323 invoked by uid 500); 26 Sep 2005 22:59:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 90283 invoked by uid 500); 26 Sep 2005 22:59:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 90258 invoked by uid 99); 26 Sep 2005 22:59:02 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Sep 2005 15:59:02 -0700
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_30_40,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of magawake@gmail.com designates 64.233.162.204 as permitted sender)
Received: from [64.233.162.204] (HELO zproxy.gmail.com) (64.233.162.204)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Sep 2005 15:59:08 -0700
Received: by zproxy.gmail.com with SMTP id i28so107443nzi
        for <java-user@lucene.apache.org>; Mon, 26 Sep 2005 15:58:40 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=D6HqUq8j/KiDnRdJgLMyJxAZEvI3dRVPd9cOaZqni5tQktqmQQc5F6T/L8joCWuHg9U36K/SGwNus95w2yZFkRq0CWdkoWN04F556n8oAVeYXRidy1+sH9mWUcSdbL8E6Y7DMtpfjxlx05Fb9B7cIrsSLN0cwgBq4DVyp0J1MHI=
Received: by 10.54.21.54 with SMTP id 54mr539053wru;
        Mon, 26 Sep 2005 15:58:40 -0700 (PDT)
Received: by 10.54.132.10 with HTTP; Mon, 26 Sep 2005 15:58:40 -0700 (PDT)
Message-ID: <1cbd6f83050926155819b9f4d5@mail.gmail.com>
Date: Mon, 26 Sep 2005 18:58:40 -0400
From: Mag Gam <magawake@gmail.com>
Reply-To: Mag Gam <magawake@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: May I use a mixture of indexing methods altogether?
In-Reply-To: <20050925201705.38706.qmail@web31113.mail.mud.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_2643_2752435.1127775520253"
References: <1cbd6f83050925120660f14d3b@mail.gmail.com>
	 <20050925201705.38706.qmail@web31113.mail.mud.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_2643_2752435.1127775520253
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: base64
Content-Disposition: inline

T3RpczoKCkhvdyBkbyB5b3UgZG8gdGhhdD8gR290IGEgcXVpY2sgYW5kIHNpbXBsZSBleGFtcGxl
PyBXZSBoYXZlIGJlZW4gbG9va2luZyBmb3IKYW4gZXhhbXBsZSBmb3IgdGhlIGxhc3QgMy00IG1v
bnRocywgYnV0IG5vIGx1Y2suLi4uCgoKCgpPbiA5LzI1LzA1LCBPdGlzIEdvc3BvZG5ldGljIDxv
dGlzX2dvc3BvZG5ldGljQHlhaG9vLmNvbT4gd3JvdGU6Cj4KPiA+IElzIGl0IHBvc3NpYmxlIHRv
IGRvIHRoYXQgaW4gYSBkYXRhYmFzZSBpbnN0ZWFkIG9mIGEgZmxhdCB0ZXh0IGZpbGU/Cj4KPiBI
dWg/Cj4gWW91IG1lYW4gaXMgaXQgcG9zc2libGUgdG8gaW5kZXggYSBkYXRhYmFzZSBhbmQgbm90
IHRleHQgZmlsZXMgaW4gdGhpcwo+IGZhc2hpb24/IElmIHNvOiB5ZXMuCj4KPiBPdGlzCj4KPgo+
ID4gT24gOS8yNC8wNSwgQWhtZXQgQWtzb3kgPGFobWV0YXhAYXh0ZWxzb2Z0LmNvbT4gd3JvdGU6
Cj4gPiA+Cj4gPiA+IFRoYW5rIHlvdS4gVGhhdCB3YXMgd2hhdCBJIG1lYW50IQo+ID4gPiBJJ2xs
IHRyeSBpdCBhcyBzb29uIGFzIHBvc3NpYmxlLgo+ID4gPgo+ID4gPiBPdGlzIEdvc3BvZG5ldGlj
IHdyb3RlOgo+ID4gPgo+ID4gPiA+SWYgSSB1bmRlcnN0YW5kIHlvdSBjb3JyZWN0bHksIHRoZW4g
eWVzLCB5b3UgY2FuIGluZGV4IGRvY3VtZW50cwo+ID4gd2l0aAo+ID4gPiA+ZGlmZmVyZW50IHN0
cnVjdHVyZXMgKGRpZmZlcmVudCBmaWVsZCBuYW1lcykgaW4gdGhlIHNhbWUgaW5kZXguCj4gPiA+
ID4KPiA+ID4gPk90aXMKPiA+ID4gPgo+ID4gPiA+LS0tIEFobWV0IEFrc295IDxhaG1ldGF4QGF4
dGVsc29mdC5jb20+IHdyb3RlOgo+ID4gPiA+Cj4gPiA+ID4KPiA+ID4gPgo+ID4gPiA+PkhpLAo+
ID4gPiA+PkkgaGF2ZSBhIHByb2plY3Qgc2VlZCBpbiBteSBtaW5kLgo+ID4gPiA+Pkkgd2lsbCB0
cnkgdG8gY29sbGVjdCBldmVyeXRoaW5nIHdoaWNoIGhhdmUgYSBwb3NzaWJpbGl0eSB0byBiZQo+
ID4gPiA+PnJlbWVtYmVyZWQgYnkgbWUgc29tZSBkYXksIGFuZCBJIHdpbGwgaW5kZXggdGhlbSB3
aXRoIEx1Y2VuZS4KPiA+ID4gPj5JbnN0ZWFkIG9mIHVzaW5nIHNpbXBsZSBrZXl3b3JkcywgSSB3
aWxsIHRyeSB0byBpbmRleCB3aG9sZQo+ID4gZG9jdW1lbnRzCj4gPiA+ID4+Cj4gPiA+ID4+d2hl
cmV2ZXIgcG9zc2libGUuIFNvLCBJIGNhbiBzdGFydCBzZWFyY2hpbmcgd2l0aCBhIHNpbXBsZSB3
b3JkLAo+ID4gYW5kCj4gPiA+ID4+dGhlbiBjb250aW51ZSB0byBhc2sgZm9yIG1vcmUgZGV0YWls
ZWQgYW5zd2Vycy4KPiA+ID4gPj5Gb3IgZXhhbXBsZSwgZnJlcXVlbnRseSBJIGZvcmdldCB0aGUg
bmFtZSBvZiBteSBhY3F1aW50YW5jZXMuIEJ1dAo+ID4gSQo+ID4gPiA+PmRvbid0IGZvcmdldCB0
aGVpciBnZW5kZXIuIE9yLCBJIGNhbiByZW1lbWJlciBzb21lIG90aGVyIGRldGFpbHMKPiA+IG9m
Cj4gPiA+ID4+dGhlbS4gU28sIEkgc2hvdWxkIGluZGV4IGV2ZXJ5IHBvc3NpYmxlIGNsdWVzLgo+
ID4gPiA+PkJ1dCwgYXQgdGhlIG90aGVyIGVuZCwgSSBoYXZlIHNvbWUgb3RoZXIgZG9jdW1lbnRz
IC1zdWNoIGFzIHNvbWUKPiA+ID4gPj5wYXNzd29yZHMsIGV0Yy0gd2hpY2ggbXVzdCBiZSBlbmNy
eXB0ZWQuIFRoZW4sIEkgbXVzdCB1c2Ugc29tZQo+ID4gPiA+PmtleXdvcmRzCj4gPiA+ID4+Zm9y
IHRoZW0uCj4gPiA+ID4+SXMgaXQgcG9zc2libGUgdG8gdXNlIGEgbWl4dHVyZSBvZiBpbmRleGlu
ZyBtZXRob2RzIGZvciB0aGUgc2FtZQo+ID4gPiA+PmNsdXN0dXJlIG9mIGRvY3VtZW50cz8gU29t
ZSBvZiB0aGVtIHdpbGwgYmUgdmVyeSBkZXRhaWxlZCwgYW5kCj4gPiBzb21lCj4gPiA+ID4+b2YK
PiA+ID4gPj50aGVtIHdpbGwgY29udGFpbiBvbmx5IGEgc2ltcGxlIGtleXdvcmQuCj4gPiA+ID4+
SXMgaXQgcG9zc2libGU/Cj4gPiA+ID4+VGhhbmtzLgo+ID4gPiA+PkFobWV0IEFrc295Cj4gPiA+
ID4+Cj4gPiA+ID4+Cj4gPiA+ID4+Cj4gPiA+ID4+Cj4gPiA+ID4+Cj4gPiA+ID4KPiA+ID4gPgo+
ID4gPiA+Cj4gPiA+ID4KPiA+ID4gPgo+ID4gPgo+ID4gPgo+ID4gPgo+ID4gLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
Cj4gPiA+IFRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IGphdmEtdXNlci11bnN1YnNjcmliZUBsdWNl
bmUuYXBhY2hlLm9yZwo+ID4gPiBGb3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1tYWlsOiBqYXZh
LXVzZXItaGVscEBsdWNlbmUuYXBhY2hlLm9yZwo+ID4gPgo+ID4gPgo+ID4KPgo+Cj4gLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tCj4gVG8gdW5zdWJzY3JpYmUsIGUtbWFpbDogamF2YS11c2VyLXVuc3Vic2NyaWJlQGx1
Y2VuZS5hcGFjaGUub3JnCj4gRm9yIGFkZGl0aW9uYWwgY29tbWFuZHMsIGUtbWFpbDogamF2YS11
c2VyLWhlbHBAbHVjZW5lLmFwYWNoZS5vcmcKPgo+Cg==
------=_Part_2643_2752435.1127775520253--

From java-user-return-16604-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Sep 26 23:13:57 2005
Return-Path: <java-user-return-16604-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 56923 invoked from network); 26 Sep 2005 23:13:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 26 Sep 2005 23:13:56 -0000
Received: (qmail 5731 invoked by uid 500); 26 Sep 2005 23:13:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5665 invoked by uid 500); 26 Sep 2005 23:13:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5635 invoked by uid 99); 26 Sep 2005 23:13:52 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Sep 2005 16:13:52 -0700
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Sep 2005 16:13:56 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id BF52E5B846; Mon, 26 Sep 2005 16:13:24 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id B76E27F460
	for <java-user@lucene.apache.org>; Mon, 26 Sep 2005 16:13:24 -0700 (PDT)
Date: Mon, 26 Sep 2005 16:13:24 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: query behavior
In-Reply-To: <4E167F5A6BE96B4FB3190F10E66F7726054EB0@roy.optimus-corp.com>
Message-ID: <Pine.LNX.4.58.0509261609110.9573@hal.rescomp.berkeley.edu>
References: <4E167F5A6BE96B4FB3190F10E66F7726054EB0@roy.optimus-corp.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


I *believe* that because of the ConjunctionScorer in 1.9, BooleanQueries
consisting of all required terms are now optimized for situations like
this, the Scorer for the common clause won't be asked to score things that
the un-common clause has allready given a score of 0.0.


: Date: Mon, 26 Sep 2005 16:46:45 -0600
: From: Alberto Squassabia <albertos@optimus-corp.com>
: Reply-To: java-user@lucene.apache.org
: To: java-user@lucene.apache.org
: Subject: query behavior
:
: Hi!
:
: I learnt from a mailing list archive that the following applies:
:
:
: <quote>
: ---------------------------------
: Tue, 06 Jan 2004
: [...]
: I have a index with documents that have only 2 fields, the first
: (unique) is 'very unique', in that most document have at least somewhat
: varying terms, the second is a boolean that contains only (boolean)
: 'true' or 'false'. The index contains 100,000,000+ documents.
: If I perform the following search "+unique:somevalue +boolean:true',
: lucene with search on the first term, returning very few documents, but
: then it will search the second term, returning possibly a million+
: documents, then it will intersect the list, return 'hits' of only a few
: documents.
: [. . .]
: This behavior has been observed with the 1.3 final code.
: Robert Engels
: ---------------------------------
: </quote>
:
: Can anyone tell me if that is still true for 1.4?  Or if there are any
: optimizations that is possible to hardcode in such a case (I have a
: similar problem).
:
: Cheers,
:
: Alberto S
: albertos_at_optimus-corp_dot_com
:
:
: ---------------------------------------------------------------------
: To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
: For additional commands, e-mail: java-user-help@lucene.apache.org
:



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16605-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 27 00:02:05 2005
Return-Path: <java-user-return-16605-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 67967 invoked from network); 27 Sep 2005 00:02:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Sep 2005 00:02:05 -0000
Received: (qmail 28943 invoked by uid 500); 27 Sep 2005 00:02:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 28917 invoked by uid 500); 27 Sep 2005 00:02:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 28904 invoked by uid 99); 27 Sep 2005 00:02:00 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Sep 2005 17:02:00 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.201.76] (HELO web31114.mail.mud.yahoo.com) (68.142.201.76)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 26 Sep 2005 17:02:06 -0700
Received: (qmail 59185 invoked by uid 60001); 27 Sep 2005 00:01:23 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=2xWX1QQ2cNgfXWWi/vOmq3K4+9unRcaxkH/xX/NCzlBNFIKrbRG9ac9Dn9vGdjf/EjOlZcMnsCnDmLSMj7Xn3iVswLF1NT6tdZchGglm8/PylU++3HGavHBEaptXAbE07xegu3ycb2SmDv4+/zCidh+lK0fXLX7G5k0dpiiR3Ws=  ;
Message-ID: <20050927000123.59183.qmail@web31114.mail.mud.yahoo.com>
Received: from [69.201.142.21] by web31114.mail.mud.yahoo.com via HTTP; Mon, 26 Sep 2005 17:01:23 PDT
Date: Mon, 26 Sep 2005 17:01:23 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: May I use a mixture of indexing methods altogether?
To: java-user@lucene.apache.org
In-Reply-To: <1cbd6f83050926155819b9f4d5@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

It's easy, pull the data from DB using something like JDBC, and from
retrieved rows create Lucene Documents.  Of course, it gets more
complicated than this, but start with something simple like using JDBC
to run SELECTs, converting results to Lucene Documents, and index them
with IndexWriter.

There are also tools like Compass and DBSight that may help.

Otis


--- Mag Gam <magawake@gmail.com> wrote:

> Otis:
> 
> How do you do that? Got a quick and simple example? We have been
> looking for
> an example for the last 3-4 months, but no luck....
> 
> 
> 
> 
> On 9/25/05, Otis Gospodnetic <otis_gospodnetic@yahoo.com> wrote:
> >
> > > Is it possible to do that in a database instead of a flat text
> file?
> >
> > Huh?
> > You mean is it possible to index a database and not text files in
> this
> > fashion? If so: yes.
> >
> > Otis
> >
> >
> > > On 9/24/05, Ahmet Aksoy <ahmetax@axtelsoft.com> wrote:
> > > >
> > > > Thank you. That was what I meant!
> > > > I'll try it as soon as possible.
> > > >
> > > > Otis Gospodnetic wrote:
> > > >
> > > > >If I understand you correctly, then yes, you can index
> documents
> > > with
> > > > >different structures (different field names) in the same
> index.
> > > > >
> > > > >Otis
> > > > >
> > > > >--- Ahmet Aksoy <ahmetax@axtelsoft.com> wrote:
> > > > >
> > > > >
> > > > >
> > > > >>Hi,
> > > > >>I have a project seed in my mind.
> > > > >>I will try to collect everything which have a possibility to
> be
> > > > >>remembered by me some day, and I will index them with Lucene.
> > > > >>Instead of using simple keywords, I will try to index whole
> > > documents
> > > > >>
> > > > >>wherever possible. So, I can start searching with a simple
> word,
> > > and
> > > > >>then continue to ask for more detailed answers.
> > > > >>For example, frequently I forget the name of my acquintances.
> But
> > > I
> > > > >>don't forget their gender. Or, I can remember some other
> details
> > > of
> > > > >>them. So, I should index every possible clues.
> > > > >>But, at the other end, I have some other documents -such as
> some
> > > > >>passwords, etc- which must be encrypted. Then, I must use
> some
> > > > >>keywords
> > > > >>for them.
> > > > >>Is it possible to use a mixture of indexing methods for the
> same
> > > > >>clusture of documents? Some of them will be very detailed,
> and
> > > some
> > > > >>of
> > > > >>them will contain only a simple keyword.
> > > > >>Is it possible?
> > > > >>Thanks.
> > > > >>Ahmet Aksoy
> > > > >>
> > > > >>
> > > > >>
> > > > >>
> > > > >>
> > > > >
> > > > >
> > > > >
> > > > >
> > > > >
> > > >
> > > >
> > > >
> > >
> ---------------------------------------------------------------------
> > > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > > For additional commands, e-mail:
> java-user-help@lucene.apache.org
> > > >
> > > >
> > >
> >
> >
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16606-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 27 00:30:31 2005
Return-Path: <java-user-return-16606-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 74806 invoked from network); 27 Sep 2005 00:30:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Sep 2005 00:30:31 -0000
Received: (qmail 49416 invoked by uid 500); 27 Sep 2005 00:30:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49391 invoked by uid 500); 27 Sep 2005 00:30:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 49378 invoked by uid 99); 27 Sep 2005 00:30:26 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Sep 2005 17:30:26 -0700
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_30_40,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of magawake@gmail.com designates 64.233.162.201 as permitted sender)
Received: from [64.233.162.201] (HELO zproxy.gmail.com) (64.233.162.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Sep 2005 17:30:33 -0700
Received: by zproxy.gmail.com with SMTP id i28so125563nzi
        for <java-user@lucene.apache.org>; Mon, 26 Sep 2005 17:30:04 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=al0OqGRNh9SYtRKgz7b/F4E3KEiaLy5wBq9hQFaDDUslnvLi9jSV3WA+hNpVhZdGiF+oxfRkZvMZFIEm2x9e98t5kqwQaM8RP6rURJD0ZFXH3dzYRg9U4BeA39Z3aBDChlgc57AaKD4838CiSWIz4rn84hBWKBBo8tmgT5d0HEU=
Received: by 10.54.49.69 with SMTP id w69mr1916888wrw;
        Mon, 26 Sep 2005 17:30:04 -0700 (PDT)
Received: by 10.54.132.10 with HTTP; Mon, 26 Sep 2005 17:30:04 -0700 (PDT)
Message-ID: <1cbd6f83050926173041589ff@mail.gmail.com>
Date: Mon, 26 Sep 2005 20:30:04 -0400
From: Mag Gam <magawake@gmail.com>
Reply-To: Mag Gam <magawake@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: May I use a mixture of indexing methods altogether?
In-Reply-To: <20050927000123.59183.qmail@web31114.mail.mud.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_3242_17266901.1127781004623"
References: <1cbd6f83050926155819b9f4d5@mail.gmail.com>
	 <20050927000123.59183.qmail@web31114.mail.mud.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_3242_17266901.1127781004623
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: base64
Content-Disposition: inline

T3RpczoKClRoYW5rcyBmb3IgdGhlIGdvb2QgYW5kIGNsZWFuIGV4cGxhbmF0aW9uISBJIHdpbGwg
Zmlyc3QgdHJ5IHRoaXMgb3V0LCBhbmQKbGV0IHlvdSBrbm93IGhvdyB0aGF0IGdvZXMuLi53aGF0
IHlvdSBhcmUgc2F5aW5nIGlzIG1ha2luZyBWRVJZIGdvb2Qgc2Vuc2UhCk9uY2UgSSBpbmRleCB0
aGVtLCB3aWxsIHRoaXMgZ290byB0aGUgZmlsZXN5c3RlbSwgb3Igc29tZXdoZXJlIGVsc2U/IEkg
d2FudAp0aGlzIGluZGV4IHRvIGJlIGNyZWF0ZWQgaW4gdGhlIHRhYmxlLCBzbyBJIGNhbiBkbyBx
dWljayBTRUxFQ1RzIHRocnUgdGhlcmUuCgpUSUEhCgoKT24gOS8yNi8wNSwgT3RpcyBHb3Nwb2Ru
ZXRpYyA8b3Rpc19nb3Nwb2RuZXRpY0B5YWhvby5jb20+IHdyb3RlOgo+Cj4gSXQncyBlYXN5LCBw
dWxsIHRoZSBkYXRhIGZyb20gREIgdXNpbmcgc29tZXRoaW5nIGxpa2UgSkRCQywgYW5kIGZyb20K
PiByZXRyaWV2ZWQgcm93cyBjcmVhdGUgTHVjZW5lIERvY3VtZW50cy4gT2YgY291cnNlLCBpdCBn
ZXRzIG1vcmUKPiBjb21wbGljYXRlZCB0aGFuIHRoaXMsIGJ1dCBzdGFydCB3aXRoIHNvbWV0aGlu
ZyBzaW1wbGUgbGlrZSB1c2luZyBKREJDCj4gdG8gcnVuIFNFTEVDVHMsIGNvbnZlcnRpbmcgcmVz
dWx0cyB0byBMdWNlbmUgRG9jdW1lbnRzLCBhbmQgaW5kZXggdGhlbQo+IHdpdGggSW5kZXhXcml0
ZXIuCj4KPiBUaGVyZSBhcmUgYWxzbyB0b29scyBsaWtlIENvbXBhc3MgYW5kIERCU2lnaHQgdGhh
dCBtYXkgaGVscC4KPgo+IE90aXMKPgo+Cj4gLS0tIE1hZyBHYW0gPG1hZ2F3YWtlQGdtYWlsLmNv
bT4gd3JvdGU6Cj4KPiA+IE90aXM6Cj4gPgo+ID4gSG93IGRvIHlvdSBkbyB0aGF0PyBHb3QgYSBx
dWljayBhbmQgc2ltcGxlIGV4YW1wbGU/IFdlIGhhdmUgYmVlbgo+ID4gbG9va2luZyBmb3IKPiA+
IGFuIGV4YW1wbGUgZm9yIHRoZSBsYXN0IDMtNCBtb250aHMsIGJ1dCBubyBsdWNrLi4uLgo+ID4K
PiA+Cj4gPgo+ID4KPiA+IE9uIDkvMjUvMDUsIE90aXMgR29zcG9kbmV0aWMgPG90aXNfZ29zcG9k
bmV0aWNAeWFob28uY29tPiB3cm90ZToKPiA+ID4KPiA+ID4gPiBJcyBpdCBwb3NzaWJsZSB0byBk
byB0aGF0IGluIGEgZGF0YWJhc2UgaW5zdGVhZCBvZiBhIGZsYXQgdGV4dAo+ID4gZmlsZT8KPiA+
ID4KPiA+ID4gSHVoPwo+ID4gPiBZb3UgbWVhbiBpcyBpdCBwb3NzaWJsZSB0byBpbmRleCBhIGRh
dGFiYXNlIGFuZCBub3QgdGV4dCBmaWxlcyBpbgo+ID4gdGhpcwo+ID4gPiBmYXNoaW9uPyBJZiBz
bzogeWVzLgo+ID4gPgo+ID4gPiBPdGlzCj4gPiA+Cj4gPiA+Cj4gPiA+ID4gT24gOS8yNC8wNSwg
QWhtZXQgQWtzb3kgPGFobWV0YXhAYXh0ZWxzb2Z0LmNvbT4gd3JvdGU6Cj4gPiA+ID4gPgo+ID4g
PiA+ID4gVGhhbmsgeW91LiBUaGF0IHdhcyB3aGF0IEkgbWVhbnQhCj4gPiA+ID4gPiBJJ2xsIHRy
eSBpdCBhcyBzb29uIGFzIHBvc3NpYmxlLgo+ID4gPiA+ID4KPiA+ID4gPiA+IE90aXMgR29zcG9k
bmV0aWMgd3JvdGU6Cj4gPiA+ID4gPgo+ID4gPiA+ID4gPklmIEkgdW5kZXJzdGFuZCB5b3UgY29y
cmVjdGx5LCB0aGVuIHllcywgeW91IGNhbiBpbmRleAo+ID4gZG9jdW1lbnRzCj4gPiA+ID4gd2l0
aAo+ID4gPiA+ID4gPmRpZmZlcmVudCBzdHJ1Y3R1cmVzIChkaWZmZXJlbnQgZmllbGQgbmFtZXMp
IGluIHRoZSBzYW1lCj4gPiBpbmRleC4KPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID5PdGlzCj4gPiA+
ID4gPiA+Cj4gPiA+ID4gPiA+LS0tIEFobWV0IEFrc295IDxhaG1ldGF4QGF4dGVsc29mdC5jb20+
IHdyb3RlOgo+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPj5I
aSwKPiA+ID4gPiA+ID4+SSBoYXZlIGEgcHJvamVjdCBzZWVkIGluIG15IG1pbmQuCj4gPiA+ID4g
PiA+Pkkgd2lsbCB0cnkgdG8gY29sbGVjdCBldmVyeXRoaW5nIHdoaWNoIGhhdmUgYSBwb3NzaWJp
bGl0eSB0bwo+ID4gYmUKPiA+ID4gPiA+ID4+cmVtZW1iZXJlZCBieSBtZSBzb21lIGRheSwgYW5k
IEkgd2lsbCBpbmRleCB0aGVtIHdpdGggTHVjZW5lLgo+ID4gPiA+ID4gPj5JbnN0ZWFkIG9mIHVz
aW5nIHNpbXBsZSBrZXl3b3JkcywgSSB3aWxsIHRyeSB0byBpbmRleCB3aG9sZQo+ID4gPiA+IGRv
Y3VtZW50cwo+ID4gPiA+ID4gPj4KPiA+ID4gPiA+ID4+d2hlcmV2ZXIgcG9zc2libGUuIFNvLCBJ
IGNhbiBzdGFydCBzZWFyY2hpbmcgd2l0aCBhIHNpbXBsZQo+ID4gd29yZCwKPiA+ID4gPiBhbmQK
PiA+ID4gPiA+ID4+dGhlbiBjb250aW51ZSB0byBhc2sgZm9yIG1vcmUgZGV0YWlsZWQgYW5zd2Vy
cy4KPiA+ID4gPiA+ID4+Rm9yIGV4YW1wbGUsIGZyZXF1ZW50bHkgSSBmb3JnZXQgdGhlIG5hbWUg
b2YgbXkgYWNxdWludGFuY2VzLgo+ID4gQnV0Cj4gPiA+ID4gSQo+ID4gPiA+ID4gPj5kb24ndCBm
b3JnZXQgdGhlaXIgZ2VuZGVyLiBPciwgSSBjYW4gcmVtZW1iZXIgc29tZSBvdGhlcgo+ID4gZGV0
YWlscwo+ID4gPiA+IG9mCj4gPiA+ID4gPiA+PnRoZW0uIFNvLCBJIHNob3VsZCBpbmRleCBldmVy
eSBwb3NzaWJsZSBjbHVlcy4KPiA+ID4gPiA+ID4+QnV0LCBhdCB0aGUgb3RoZXIgZW5kLCBJIGhh
dmUgc29tZSBvdGhlciBkb2N1bWVudHMgLXN1Y2ggYXMKPiA+IHNvbWUKPiA+ID4gPiA+ID4+cGFz
c3dvcmRzLCBldGMtIHdoaWNoIG11c3QgYmUgZW5jcnlwdGVkLiBUaGVuLCBJIG11c3QgdXNlCj4g
PiBzb21lCj4gPiA+ID4gPiA+PmtleXdvcmRzCj4gPiA+ID4gPiA+PmZvciB0aGVtLgo+ID4gPiA+
ID4gPj5JcyBpdCBwb3NzaWJsZSB0byB1c2UgYSBtaXh0dXJlIG9mIGluZGV4aW5nIG1ldGhvZHMg
Zm9yIHRoZQo+ID4gc2FtZQo+ID4gPiA+ID4gPj5jbHVzdHVyZSBvZiBkb2N1bWVudHM/IFNvbWUg
b2YgdGhlbSB3aWxsIGJlIHZlcnkgZGV0YWlsZWQsCj4gPiBhbmQKPiA+ID4gPiBzb21lCj4gPiA+
ID4gPiA+Pm9mCj4gPiA+ID4gPiA+PnRoZW0gd2lsbCBjb250YWluIG9ubHkgYSBzaW1wbGUga2V5
d29yZC4KPiA+ID4gPiA+ID4+SXMgaXQgcG9zc2libGU/Cj4gPiA+ID4gPiA+PlRoYW5rcy4KPiA+
ID4gPiA+ID4+QWhtZXQgQWtzb3kKPiA+ID4gPiA+ID4+Cj4gPiA+ID4gPiA+Pgo+ID4gPiA+ID4g
Pj4KPiA+ID4gPiA+ID4+Cj4gPiA+ID4gPiA+Pgo+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPgo+ID4g
PiA+ID4gPgo+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPgo+ID4gPiA+ID4KPiA+ID4gPiA+Cj4gPiA+
ID4gPgo+ID4gPiA+Cj4gPiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KPiA+ID4gPiA+IFRvIHVuc3Vic2NyaWJlLCBl
LW1haWw6IGphdmEtdXNlci11bnN1YnNjcmliZUBsdWNlbmUuYXBhY2hlLm9yZwo+ID4gPiA+ID4g
Rm9yIGFkZGl0aW9uYWwgY29tbWFuZHMsIGUtbWFpbDoKPiA+IGphdmEtdXNlci1oZWxwQGx1Y2Vu
ZS5hcGFjaGUub3JnCj4gPiA+ID4gPgo+ID4gPiA+ID4KPiA+ID4gPgo+ID4gPgo+ID4gPgo+ID4g
Pgo+ID4gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tCj4gPiA+IFRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IGphdmEtdXNl
ci11bnN1YnNjcmliZUBsdWNlbmUuYXBhY2hlLm9yZwo+ID4gPiBGb3IgYWRkaXRpb25hbCBjb21t
YW5kcywgZS1tYWlsOiBqYXZhLXVzZXItaGVscEBsdWNlbmUuYXBhY2hlLm9yZwo+ID4gPgo+ID4g
Pgo+ID4KPgo+Cj4gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCj4gVG8gdW5zdWJzY3JpYmUsIGUtbWFpbDogamF2YS11
c2VyLXVuc3Vic2NyaWJlQGx1Y2VuZS5hcGFjaGUub3JnCj4gRm9yIGFkZGl0aW9uYWwgY29tbWFu
ZHMsIGUtbWFpbDogamF2YS11c2VyLWhlbHBAbHVjZW5lLmFwYWNoZS5vcmcKPgo+Cg==
------=_Part_3242_17266901.1127781004623--

From java-user-return-16607-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 27 02:15:03 2005
Return-Path: <java-user-return-16607-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10990 invoked from network); 27 Sep 2005 02:15:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Sep 2005 02:15:03 -0000
Received: (qmail 29851 invoked by uid 500); 27 Sep 2005 02:14:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 29823 invoked by uid 500); 27 Sep 2005 02:14:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 29809 invoked by uid 99); 27 Sep 2005 02:14:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Sep 2005 19:14:56 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.200.43] (HELO web31110.mail.mud.yahoo.com) (68.142.200.43)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 26 Sep 2005 19:15:03 -0700
Received: (qmail 93228 invoked by uid 60001); 27 Sep 2005 02:14:34 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=jNdY2YlCJQTIW/e5uBKnFub9ePiLQbvtK3c1EyO3ONwjwXV7IrsZta5xbI15p5LFpYF4NecJOQ7Q0PbmvmCgYwYpM0SgXyrZhHE9lSXQCUlDTisgE+NURwWdonmWUX7kOuwvuOEbmufRlh7yuZRdAMZ7q0IdW2imx9J+m/vk9LY=  ;
Message-ID: <20050927021434.93226.qmail@web31110.mail.mud.yahoo.com>
Received: from [69.201.142.21] by web31110.mail.mud.yahoo.com via HTTP; Mon, 26 Sep 2005 19:14:34 PDT
Date: Mon, 26 Sep 2005 19:14:34 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: May I use a mixture of indexing methods altogether?
To: java-user@lucene.apache.org
In-Reply-To: <1cbd6f83050926173041589ff@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Lucene indices are created in the file system (FSDirectory) or in
memory (RAMDirectory).  If you want to store them elsewhere, you need
to implement your own Directory.

Otis

--- Mag Gam <magawake@gmail.com> wrote:

> Otis:
> 
> Thanks for the good and clean explanation! I will first try this out,
> and
> let you know how that goes...what you are saying is making VERY good
> sense!
> Once I index them, will this goto the filesystem, or somewhere else?
> I want
> this index to be created in the table, so I can do quick SELECTs thru
> there.
> 
> TIA!
> 
> 
> On 9/26/05, Otis Gospodnetic <otis_gospodnetic@yahoo.com> wrote:
> >
> > It's easy, pull the data from DB using something like JDBC, and
> from
> > retrieved rows create Lucene Documents. Of course, it gets more
> > complicated than this, but start with something simple like using
> JDBC
> > to run SELECTs, converting results to Lucene Documents, and index
> them
> > with IndexWriter.
> >
> > There are also tools like Compass and DBSight that may help.
> >
> > Otis
> >
> >
> > --- Mag Gam <magawake@gmail.com> wrote:
> >
> > > Otis:
> > >
> > > How do you do that? Got a quick and simple example? We have been
> > > looking for
> > > an example for the last 3-4 months, but no luck....
> > >
> > >
> > >
> > >
> > > On 9/25/05, Otis Gospodnetic <otis_gospodnetic@yahoo.com> wrote:
> > > >
> > > > > Is it possible to do that in a database instead of a flat
> text
> > > file?
> > > >
> > > > Huh?
> > > > You mean is it possible to index a database and not text files
> in
> > > this
> > > > fashion? If so: yes.
> > > >
> > > > Otis
> > > >
> > > >
> > > > > On 9/24/05, Ahmet Aksoy <ahmetax@axtelsoft.com> wrote:
> > > > > >
> > > > > > Thank you. That was what I meant!
> > > > > > I'll try it as soon as possible.
> > > > > >
> > > > > > Otis Gospodnetic wrote:
> > > > > >
> > > > > > >If I understand you correctly, then yes, you can index
> > > documents
> > > > > with
> > > > > > >different structures (different field names) in the same
> > > index.
> > > > > > >
> > > > > > >Otis
> > > > > > >
> > > > > > >--- Ahmet Aksoy <ahmetax@axtelsoft.com> wrote:
> > > > > > >
> > > > > > >
> > > > > > >
> > > > > > >>Hi,
> > > > > > >>I have a project seed in my mind.
> > > > > > >>I will try to collect everything which have a possibility
> to
> > > be
> > > > > > >>remembered by me some day, and I will index them with
> Lucene.
> > > > > > >>Instead of using simple keywords, I will try to index
> whole
> > > > > documents
> > > > > > >>
> > > > > > >>wherever possible. So, I can start searching with a
> simple
> > > word,
> > > > > and
> > > > > > >>then continue to ask for more detailed answers.
> > > > > > >>For example, frequently I forget the name of my
> acquintances.
> > > But
> > > > > I
> > > > > > >>don't forget their gender. Or, I can remember some other
> > > details
> > > > > of
> > > > > > >>them. So, I should index every possible clues.
> > > > > > >>But, at the other end, I have some other documents -such
> as
> > > some
> > > > > > >>passwords, etc- which must be encrypted. Then, I must use
> > > some
> > > > > > >>keywords
> > > > > > >>for them.
> > > > > > >>Is it possible to use a mixture of indexing methods for
> the
> > > same
> > > > > > >>clusture of documents? Some of them will be very
> detailed,
> > > and
> > > > > some
> > > > > > >>of
> > > > > > >>them will contain only a simple keyword.
> > > > > > >>Is it possible?
> > > > > > >>Thanks.
> > > > > > >>Ahmet Aksoy
> > > > > > >>
> > > > > > >>
> > > > > > >>
> > > > > > >>
> > > > > > >>
> > > > > > >
> > > > > > >
> > > > > > >
> > > > > > >
> > > > > > >
> > > > > >
> > > > > >
> > > > > >
> > > > >
> > >
> ---------------------------------------------------------------------
> > > > > > To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> > > > > > For additional commands, e-mail:
> > > java-user-help@lucene.apache.org
> > > > > >
> > > > > >
> > > > >
> > > >
> > > >
> > > >
> > >
> ---------------------------------------------------------------------
> > > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > > For additional commands, e-mail:
> java-user-help@lucene.apache.org
> > > >
> > > >
> > >
> >
> >
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16608-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 27 03:55:39 2005
Return-Path: <java-user-return-16608-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 34212 invoked from network); 27 Sep 2005 03:55:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Sep 2005 03:55:39 -0000
Received: (qmail 98387 invoked by uid 500); 27 Sep 2005 03:55:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 98359 invoked by uid 500); 27 Sep 2005 03:55:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 98345 invoked by uid 99); 27 Sep 2005 03:55:34 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Sep 2005 20:55:34 -0700
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_40_50,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of magawake@gmail.com designates 64.233.162.198 as permitted sender)
Received: from [64.233.162.198] (HELO zproxy.gmail.com) (64.233.162.198)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Sep 2005 20:55:40 -0700
Received: by zproxy.gmail.com with SMTP id i28so9086nzi
        for <java-user@lucene.apache.org>; Mon, 26 Sep 2005 20:55:12 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=U8No2pdv6KOwpj+OJcbJeUh6LzLOPULFhsq/CLgq8FZZRs5gMTePEuI31fivDRV1XUjvKbqGStPl5ZHl6NiXYTGQzEKxAT14OPYloz2uBK4ACnhm4MtoKPcj1HZW1VFI76mZsl7i2dugyyr875gn+7GKQMJaQTf6AjPm3k+AeyY=
Received: by 10.54.11.70 with SMTP id 70mr1514657wrk;
        Mon, 26 Sep 2005 20:55:12 -0700 (PDT)
Received: by 10.54.132.10 with HTTP; Mon, 26 Sep 2005 20:55:12 -0700 (PDT)
Message-ID: <1cbd6f830509262055e0c536b@mail.gmail.com>
Date: Mon, 26 Sep 2005 23:55:12 -0400
From: Mag Gam <magawake@gmail.com>
Reply-To: Mag Gam <magawake@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: May I use a mixture of indexing methods altogether?
In-Reply-To: <20050927021434.93226.qmail@web31110.mail.mud.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_4813_31324842.1127793312327"
References: <1cbd6f83050926173041589ff@mail.gmail.com>
	 <20050927021434.93226.qmail@web31110.mail.mud.yahoo.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_4813_31324842.1127793312327
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: base64
Content-Disposition: inline

d2VsbCwgaXQgc2VlbXMgSSB3YW50IHRvIHN0b3JlIHRoZSBpbmRleCBpbnRvIHRoZSBkYXRhYmFz
ZSBpdHNlbGYuIEFOeSBpZGVhcwpmb3IgdGhhdD8gRXZlbiBpZiB0aGF0cyBwb3NzaWJsZT8KCgpP
biA5LzI2LzA1LCBPdGlzIEdvc3BvZG5ldGljIDxvdGlzX2dvc3BvZG5ldGljQHlhaG9vLmNvbT4g
d3JvdGU6Cj4KPiBMdWNlbmUgaW5kaWNlcyBhcmUgY3JlYXRlZCBpbiB0aGUgZmlsZSBzeXN0ZW0g
KEZTRGlyZWN0b3J5KSBvciBpbgo+IG1lbW9yeSAoUkFNRGlyZWN0b3J5KS4gSWYgeW91IHdhbnQg
dG8gc3RvcmUgdGhlbSBlbHNld2hlcmUsIHlvdSBuZWVkCj4gdG8gaW1wbGVtZW50IHlvdXIgb3du
IERpcmVjdG9yeS4KPgo+IE90aXMKPgo+IC0tLSBNYWcgR2FtIDxtYWdhd2FrZUBnbWFpbC5jb20+
IHdyb3RlOgo+Cj4gPiBPdGlzOgo+ID4KPiA+IFRoYW5rcyBmb3IgdGhlIGdvb2QgYW5kIGNsZWFu
IGV4cGxhbmF0aW9uISBJIHdpbGwgZmlyc3QgdHJ5IHRoaXMgb3V0LAo+ID4gYW5kCj4gPiBsZXQg
eW91IGtub3cgaG93IHRoYXQgZ29lcy4uLndoYXQgeW91IGFyZSBzYXlpbmcgaXMgbWFraW5nIFZF
UlkgZ29vZAo+ID4gc2Vuc2UhCj4gPiBPbmNlIEkgaW5kZXggdGhlbSwgd2lsbCB0aGlzIGdvdG8g
dGhlIGZpbGVzeXN0ZW0sIG9yIHNvbWV3aGVyZSBlbHNlPwo+ID4gSSB3YW50Cj4gPiB0aGlzIGlu
ZGV4IHRvIGJlIGNyZWF0ZWQgaW4gdGhlIHRhYmxlLCBzbyBJIGNhbiBkbyBxdWljayBTRUxFQ1Rz
IHRocnUKPiA+IHRoZXJlLgo+ID4KPiA+IFRJQSEKPiA+Cj4gPgo+ID4gT24gOS8yNi8wNSwgT3Rp
cyBHb3Nwb2RuZXRpYyA8b3Rpc19nb3Nwb2RuZXRpY0B5YWhvby5jb20+IHdyb3RlOgo+ID4gPgo+
ID4gPiBJdCdzIGVhc3ksIHB1bGwgdGhlIGRhdGEgZnJvbSBEQiB1c2luZyBzb21ldGhpbmcgbGlr
ZSBKREJDLCBhbmQKPiA+IGZyb20KPiA+ID4gcmV0cmlldmVkIHJvd3MgY3JlYXRlIEx1Y2VuZSBE
b2N1bWVudHMuIE9mIGNvdXJzZSwgaXQgZ2V0cyBtb3JlCj4gPiA+IGNvbXBsaWNhdGVkIHRoYW4g
dGhpcywgYnV0IHN0YXJ0IHdpdGggc29tZXRoaW5nIHNpbXBsZSBsaWtlIHVzaW5nCj4gPiBKREJD
Cj4gPiA+IHRvIHJ1biBTRUxFQ1RzLCBjb252ZXJ0aW5nIHJlc3VsdHMgdG8gTHVjZW5lIERvY3Vt
ZW50cywgYW5kIGluZGV4Cj4gPiB0aGVtCj4gPiA+IHdpdGggSW5kZXhXcml0ZXIuCj4gPiA+Cj4g
PiA+IFRoZXJlIGFyZSBhbHNvIHRvb2xzIGxpa2UgQ29tcGFzcyBhbmQgREJTaWdodCB0aGF0IG1h
eSBoZWxwLgo+ID4gPgo+ID4gPiBPdGlzCj4gPiA+Cj4gPiA+Cj4gPiA+IC0tLSBNYWcgR2FtIDxt
YWdhd2FrZUBnbWFpbC5jb20+IHdyb3RlOgo+ID4gPgo+ID4gPiA+IE90aXM6Cj4gPiA+ID4KPiA+
ID4gPiBIb3cgZG8geW91IGRvIHRoYXQ/IEdvdCBhIHF1aWNrIGFuZCBzaW1wbGUgZXhhbXBsZT8g
V2UgaGF2ZSBiZWVuCj4gPiA+ID4gbG9va2luZyBmb3IKPiA+ID4gPiBhbiBleGFtcGxlIGZvciB0
aGUgbGFzdCAzLTQgbW9udGhzLCBidXQgbm8gbHVjay4uLi4KPiA+ID4gPgo+ID4gPiA+Cj4gPiA+
ID4KPiA+ID4gPgo+ID4gPiA+IE9uIDkvMjUvMDUsIE90aXMgR29zcG9kbmV0aWMgPG90aXNfZ29z
cG9kbmV0aWNAeWFob28uY29tPiB3cm90ZToKPiA+ID4gPiA+Cj4gPiA+ID4gPiA+IElzIGl0IHBv
c3NpYmxlIHRvIGRvIHRoYXQgaW4gYSBkYXRhYmFzZSBpbnN0ZWFkIG9mIGEgZmxhdAo+ID4gdGV4
dAo+ID4gPiA+IGZpbGU/Cj4gPiA+ID4gPgo+ID4gPiA+ID4gSHVoPwo+ID4gPiA+ID4gWW91IG1l
YW4gaXMgaXQgcG9zc2libGUgdG8gaW5kZXggYSBkYXRhYmFzZSBhbmQgbm90IHRleHQgZmlsZXMK
PiA+IGluCj4gPiA+ID4gdGhpcwo+ID4gPiA+ID4gZmFzaGlvbj8gSWYgc286IHllcy4KPiA+ID4g
PiA+Cj4gPiA+ID4gPiBPdGlzCj4gPiA+ID4gPgo+ID4gPiA+ID4KPiA+ID4gPiA+ID4gT24gOS8y
NC8wNSwgQWhtZXQgQWtzb3kgPGFobWV0YXhAYXh0ZWxzb2Z0LmNvbT4gd3JvdGU6Cj4gPiA+ID4g
PiA+ID4KPiA+ID4gPiA+ID4gPiBUaGFuayB5b3UuIFRoYXQgd2FzIHdoYXQgSSBtZWFudCEKPiA+
ID4gPiA+ID4gPiBJJ2xsIHRyeSBpdCBhcyBzb29uIGFzIHBvc3NpYmxlLgo+ID4gPiA+ID4gPiA+
Cj4gPiA+ID4gPiA+ID4gT3RpcyBHb3Nwb2RuZXRpYyB3cm90ZToKPiA+ID4gPiA+ID4gPgo+ID4g
PiA+ID4gPiA+ID5JZiBJIHVuZGVyc3RhbmQgeW91IGNvcnJlY3RseSwgdGhlbiB5ZXMsIHlvdSBj
YW4gaW5kZXgKPiA+ID4gPiBkb2N1bWVudHMKPiA+ID4gPiA+ID4gd2l0aAo+ID4gPiA+ID4gPiA+
ID5kaWZmZXJlbnQgc3RydWN0dXJlcyAoZGlmZmVyZW50IGZpZWxkIG5hbWVzKSBpbiB0aGUgc2Ft
ZQo+ID4gPiA+IGluZGV4Lgo+ID4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiA+T3Rpcwo+ID4g
PiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiA+LS0tIEFobWV0IEFrc295IDxhaG1ldGF4QGF4dGVs
c29mdC5jb20+IHdyb3RlOgo+ID4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiA+Cj4gPiA+ID4g
PiA+ID4gPgo+ID4gPiA+ID4gPiA+ID4+SGksCj4gPiA+ID4gPiA+ID4gPj5JIGhhdmUgYSBwcm9q
ZWN0IHNlZWQgaW4gbXkgbWluZC4KPiA+ID4gPiA+ID4gPiA+Pkkgd2lsbCB0cnkgdG8gY29sbGVj
dCBldmVyeXRoaW5nIHdoaWNoIGhhdmUgYSBwb3NzaWJpbGl0eQo+ID4gdG8KPiA+ID4gPiBiZQo+
ID4gPiA+ID4gPiA+ID4+cmVtZW1iZXJlZCBieSBtZSBzb21lIGRheSwgYW5kIEkgd2lsbCBpbmRl
eCB0aGVtIHdpdGgKPiA+IEx1Y2VuZS4KPiA+ID4gPiA+ID4gPiA+Pkluc3RlYWQgb2YgdXNpbmcg
c2ltcGxlIGtleXdvcmRzLCBJIHdpbGwgdHJ5IHRvIGluZGV4Cj4gPiB3aG9sZQo+ID4gPiA+ID4g
PiBkb2N1bWVudHMKPiA+ID4gPiA+ID4gPiA+Pgo+ID4gPiA+ID4gPiA+ID4+d2hlcmV2ZXIgcG9z
c2libGUuIFNvLCBJIGNhbiBzdGFydCBzZWFyY2hpbmcgd2l0aCBhCj4gPiBzaW1wbGUKPiA+ID4g
PiB3b3JkLAo+ID4gPiA+ID4gPiBhbmQKPiA+ID4gPiA+ID4gPiA+PnRoZW4gY29udGludWUgdG8g
YXNrIGZvciBtb3JlIGRldGFpbGVkIGFuc3dlcnMuCj4gPiA+ID4gPiA+ID4gPj5Gb3IgZXhhbXBs
ZSwgZnJlcXVlbnRseSBJIGZvcmdldCB0aGUgbmFtZSBvZiBteQo+ID4gYWNxdWludGFuY2VzLgo+
ID4gPiA+IEJ1dAo+ID4gPiA+ID4gPiBJCj4gPiA+ID4gPiA+ID4gPj5kb24ndCBmb3JnZXQgdGhl
aXIgZ2VuZGVyLiBPciwgSSBjYW4gcmVtZW1iZXIgc29tZSBvdGhlcgo+ID4gPiA+IGRldGFpbHMK
PiA+ID4gPiA+ID4gb2YKPiA+ID4gPiA+ID4gPiA+PnRoZW0uIFNvLCBJIHNob3VsZCBpbmRleCBl
dmVyeSBwb3NzaWJsZSBjbHVlcy4KPiA+ID4gPiA+ID4gPiA+PkJ1dCwgYXQgdGhlIG90aGVyIGVu
ZCwgSSBoYXZlIHNvbWUgb3RoZXIgZG9jdW1lbnRzIC1zdWNoCj4gPiBhcwo+ID4gPiA+IHNvbWUK
PiA+ID4gPiA+ID4gPiA+PnBhc3N3b3JkcywgZXRjLSB3aGljaCBtdXN0IGJlIGVuY3J5cHRlZC4g
VGhlbiwgSSBtdXN0IHVzZQo+ID4gPiA+IHNvbWUKPiA+ID4gPiA+ID4gPiA+PmtleXdvcmRzCj4g
PiA+ID4gPiA+ID4gPj5mb3IgdGhlbS4KPiA+ID4gPiA+ID4gPiA+PklzIGl0IHBvc3NpYmxlIHRv
IHVzZSBhIG1peHR1cmUgb2YgaW5kZXhpbmcgbWV0aG9kcyBmb3IKPiA+IHRoZQo+ID4gPiA+IHNh
bWUKPiA+ID4gPiA+ID4gPiA+PmNsdXN0dXJlIG9mIGRvY3VtZW50cz8gU29tZSBvZiB0aGVtIHdp
bGwgYmUgdmVyeQo+ID4gZGV0YWlsZWQsCj4gPiA+ID4gYW5kCj4gPiA+ID4gPiA+IHNvbWUKPiA+
ID4gPiA+ID4gPiA+Pm9mCj4gPiA+ID4gPiA+ID4gPj50aGVtIHdpbGwgY29udGFpbiBvbmx5IGEg
c2ltcGxlIGtleXdvcmQuCj4gPiA+ID4gPiA+ID4gPj5JcyBpdCBwb3NzaWJsZT8KPiA+ID4gPiA+
ID4gPiA+PlRoYW5rcy4KPiA+ID4gPiA+ID4gPiA+PkFobWV0IEFrc295Cj4gPiA+ID4gPiA+ID4g
Pj4KPiA+ID4gPiA+ID4gPiA+Pgo+ID4gPiA+ID4gPiA+ID4+Cj4gPiA+ID4gPiA+ID4gPj4KPiA+
ID4gPiA+ID4gPiA+Pgo+ID4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+
ID4gPgo+ID4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4KPiA+ID4g
PiA+ID4gPgo+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+Cj4gPiA+ID4KPiA+IC0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LQo+ID4gPiA+ID4gPiA+IFRvIHVuc3Vic2NyaWJlLCBlLW1haWw6Cj4gPiBqYXZhLXVzZXItdW5z
dWJzY3JpYmVAbHVjZW5lLmFwYWNoZS5vcmcKPiA+ID4gPiA+ID4gPiBGb3IgYWRkaXRpb25hbCBj
b21tYW5kcywgZS1tYWlsOgo+ID4gPiA+IGphdmEtdXNlci1oZWxwQGx1Y2VuZS5hcGFjaGUub3Jn
Cj4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPgo+ID4gPiA+ID4KPiA+ID4g
PiA+Cj4gPiA+ID4gPgo+ID4gPiA+Cj4gPiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KPiA+ID4gPiA+IFRvIHVuc3Vi
c2NyaWJlLCBlLW1haWw6IGphdmEtdXNlci11bnN1YnNjcmliZUBsdWNlbmUuYXBhY2hlLm9yZwo+
ID4gPiA+ID4gRm9yIGFkZGl0aW9uYWwgY29tbWFuZHMsIGUtbWFpbDoKPiA+IGphdmEtdXNlci1o
ZWxwQGx1Y2VuZS5hcGFjaGUub3JnCj4gPiA+ID4gPgo+ID4gPiA+ID4KPiA+ID4gPgo+ID4gPgo+
ID4gPgo+ID4gPgo+ID4gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCj4gPiA+IFRvIHVuc3Vic2NyaWJlLCBlLW1haWw6
IGphdmEtdXNlci11bnN1YnNjcmliZUBsdWNlbmUuYXBhY2hlLm9yZwo+ID4gPiBGb3IgYWRkaXRp
b25hbCBjb21tYW5kcywgZS1tYWlsOiBqYXZhLXVzZXItaGVscEBsdWNlbmUuYXBhY2hlLm9yZwo+
ID4gPgo+ID4gPgo+ID4KPgo+Cj4gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCj4gVG8gdW5zdWJzY3JpYmUsIGUtbWFp
bDogamF2YS11c2VyLXVuc3Vic2NyaWJlQGx1Y2VuZS5hcGFjaGUub3JnCj4gRm9yIGFkZGl0aW9u
YWwgY29tbWFuZHMsIGUtbWFpbDogamF2YS11c2VyLWhlbHBAbHVjZW5lLmFwYWNoZS5vcmcKPgo+
Cg==
------=_Part_4813_31324842.1127793312327--

From java-user-return-16609-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 27 03:59:25 2005
Return-Path: <java-user-return-16609-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 36137 invoked from network); 27 Sep 2005 03:59:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Sep 2005 03:59:25 -0000
Received: (qmail 2621 invoked by uid 500); 27 Sep 2005 03:59:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 1690 invoked by uid 500); 27 Sep 2005 03:59:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 1677 invoked by uid 99); 27 Sep 2005 03:59:21 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Sep 2005 20:59:21 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.200.35] (HELO web31102.mail.mud.yahoo.com) (68.142.200.35)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 26 Sep 2005 20:59:27 -0700
Received: (qmail 15292 invoked by uid 60001); 27 Sep 2005 03:58:58 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=Ew9FSMHHPV7mZyqfeQI+u6AbPETBKteZj3GS3DJBOcI2Np7Mm64h5LCGBWTlM2c3DheqAtwMgUwdE8srGIWRy+ewgjzuvdenYFcbzk9I8OaLACokStIzyeUPhXq50PjyqJ09rphqznzw5MgNsfC17VlWzsW2lFLXMoofz1c4lbQ=  ;
Message-ID: <20050927035858.15290.qmail@web31102.mail.mud.yahoo.com>
Received: from [69.201.142.21] by web31102.mail.mud.yahoo.com via HTTP; Mon, 26 Sep 2005 20:58:58 PDT
Date: Mon, 26 Sep 2005 20:58:58 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: May I use a mixture of indexing methods altogether?
To: java-user@lucene.apache.org, Mag Gam <magawake@gmail.com>
In-Reply-To: <1cbd6f830509262055e0c536b@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

You need to do a little bit of research :)  Please search the mailing
list archives (links to them are on Lucene site).  Searcj for
JDBCDirectory.  Use Google and search for +JDBCDirectory +Vito (this is
the name of its author).

Otis

--- Mag Gam <magawake@gmail.com> wrote:

> well, it seems I want to store the index into the database itself.
> ANy ideas
> for that? Even if thats possible?
> 
> 
> On 9/26/05, Otis Gospodnetic <otis_gospodnetic@yahoo.com> wrote:
> >
> > Lucene indices are created in the file system (FSDirectory) or in
> > memory (RAMDirectory). If you want to store them elsewhere, you
> need
> > to implement your own Directory.
> >
> > Otis
> >
> > --- Mag Gam <magawake@gmail.com> wrote:
> >
> > > Otis:
> > >
> > > Thanks for the good and clean explanation! I will first try this
> out,
> > > and
> > > let you know how that goes...what you are saying is making VERY
> good
> > > sense!
> > > Once I index them, will this goto the filesystem, or somewhere
> else?
> > > I want
> > > this index to be created in the table, so I can do quick SELECTs
> thru
> > > there.
> > >
> > > TIA!
> > >
> > >
> > > On 9/26/05, Otis Gospodnetic <otis_gospodnetic@yahoo.com> wrote:
> > > >
> > > > It's easy, pull the data from DB using something like JDBC, and
> > > from
> > > > retrieved rows create Lucene Documents. Of course, it gets more
> > > > complicated than this, but start with something simple like
> using
> > > JDBC
> > > > to run SELECTs, converting results to Lucene Documents, and
> index
> > > them
> > > > with IndexWriter.
> > > >
> > > > There are also tools like Compass and DBSight that may help.
> > > >
> > > > Otis
> > > >
> > > >
> > > > --- Mag Gam <magawake@gmail.com> wrote:
> > > >
> > > > > Otis:
> > > > >
> > > > > How do you do that? Got a quick and simple example? We have
> been
> > > > > looking for
> > > > > an example for the last 3-4 months, but no luck....
> > > > >
> > > > >
> > > > >
> > > > >
> > > > > On 9/25/05, Otis Gospodnetic <otis_gospodnetic@yahoo.com>
> wrote:
> > > > > >
> > > > > > > Is it possible to do that in a database instead of a flat
> > > text
> > > > > file?
> > > > > >
> > > > > > Huh?
> > > > > > You mean is it possible to index a database and not text
> files
> > > in
> > > > > this
> > > > > > fashion? If so: yes.
> > > > > >
> > > > > > Otis
> > > > > >
> > > > > >
> > > > > > > On 9/24/05, Ahmet Aksoy <ahmetax@axtelsoft.com> wrote:
> > > > > > > >
> > > > > > > > Thank you. That was what I meant!
> > > > > > > > I'll try it as soon as possible.
> > > > > > > >
> > > > > > > > Otis Gospodnetic wrote:
> > > > > > > >
> > > > > > > > >If I understand you correctly, then yes, you can index
> > > > > documents
> > > > > > > with
> > > > > > > > >different structures (different field names) in the
> same
> > > > > index.
> > > > > > > > >
> > > > > > > > >Otis
> > > > > > > > >
> > > > > > > > >--- Ahmet Aksoy <ahmetax@axtelsoft.com> wrote:
> > > > > > > > >
> > > > > > > > >
> > > > > > > > >
> > > > > > > > >>Hi,
> > > > > > > > >>I have a project seed in my mind.
> > > > > > > > >>I will try to collect everything which have a
> possibility
> > > to
> > > > > be
> > > > > > > > >>remembered by me some day, and I will index them with
> > > Lucene.
> > > > > > > > >>Instead of using simple keywords, I will try to index
> > > whole
> > > > > > > documents
> > > > > > > > >>
> > > > > > > > >>wherever possible. So, I can start searching with a
> > > simple
> > > > > word,
> > > > > > > and
> > > > > > > > >>then continue to ask for more detailed answers.
> > > > > > > > >>For example, frequently I forget the name of my
> > > acquintances.
> > > > > But
> > > > > > > I
> > > > > > > > >>don't forget their gender. Or, I can remember some
> other
> > > > > details
> > > > > > > of
> > > > > > > > >>them. So, I should index every possible clues.
> > > > > > > > >>But, at the other end, I have some other documents
> -such
> > > as
> > > > > some
> > > > > > > > >>passwords, etc- which must be encrypted. Then, I must
> use
> > > > > some
> > > > > > > > >>keywords
> > > > > > > > >>for them.
> > > > > > > > >>Is it possible to use a mixture of indexing methods
> for
> > > the
> > > > > same
> > > > > > > > >>clusture of documents? Some of them will be very
> > > detailed,
> > > > > and
> > > > > > > some
> > > > > > > > >>of
> > > > > > > > >>them will contain only a simple keyword.
> > > > > > > > >>Is it possible?
> > > > > > > > >>Thanks.
> > > > > > > > >>Ahmet Aksoy
> > > > > > > > >>
> > > > > > > > >>
> > > > > > > > >>
> > > > > > > > >>
> > > > > > > > >>
> > > > > > > > >
> > > > > > > > >
> > > > > > > > >
> > > > > > > > >
> > > > > > > > >
> > > > > > > >
> > > > > > > >
> > > > > > > >
> > > > > > >
> > > > >
> > >
> ---------------------------------------------------------------------
> > > > > > > > To unsubscribe, e-mail:
> > > java-user-unsubscribe@lucene.apache.org
> > > > > > > > For additional commands, e-mail:
> > > > > java-user-help@lucene.apache.org
> > > > > > > >
> > > > > > > >
> > > > > > >
> > > > > >
> > > > > >
> > > > > >
> > > > >
> > >
> ---------------------------------------------------------------------
> > > > > > To unsubscribe, e-mail:
> java-user-unsubscribe@lucene.apache.org
> > > > > > For additional commands, e-mail:
> > > java-user-help@lucene.apache.org
> > > > > >
> > > > > >
> > > > >
> > > >
> > > >
> > > >
> > >
> ---------------------------------------------------------------------
> > > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > > For additional commands, e-mail:
> java-user-help@lucene.apache.org
> > > >
> > > >
> > >
> >
> >
> >
> ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16610-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 27 05:59:13 2005
Return-Path: <java-user-return-16610-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 73632 invoked from network); 27 Sep 2005 05:59:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Sep 2005 05:59:13 -0000
Received: (qmail 79279 invoked by uid 500); 27 Sep 2005 05:59:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 79070 invoked by uid 500); 27 Sep 2005 05:59:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 79056 invoked by uid 99); 27 Sep 2005 05:59:07 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Sep 2005 22:59:06 -0700
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_40_50,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of andy.kishore@gmail.com designates 64.233.162.198 as permitted sender)
Received: from [64.233.162.198] (HELO zproxy.gmail.com) (64.233.162.198)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 26 Sep 2005 22:59:14 -0700
Received: by zproxy.gmail.com with SMTP id q3so1606030nzb
        for <java-user@lucene.apache.org>; Mon, 26 Sep 2005 22:58:45 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type;
        b=PPRAAzeMt4qQ+07IGNWqxhKLrlm+B4nWbIoTe1+zLUcb2DUHyjey2WmVur8c0EoUCQ2DVHplMEHfMC9GtNzMNK3OBaytAbJCwmBrLgWtjw4WL+jIKvlZRL0bLQDqP22or67yck9Xn9zWSWPBHBRc0B5T4LukS8PS2gQ47/5izWY=
Received: by 10.54.111.2 with SMTP id j2mr2548437wrc;
        Mon, 26 Sep 2005 22:58:45 -0700 (PDT)
Received: by 10.54.82.6 with HTTP; Mon, 26 Sep 2005 22:58:45 -0700 (PDT)
Message-ID: <1036df9405092622586e4376d3@mail.gmail.com>
Date: Tue, 27 Sep 2005 11:28:45 +0530
From: Anand Kishore <andy.kishore@gmail.com>
Reply-To: Anand Kishore <andy.kishore@gmail.com>
To: java-user@lucene.apache.org
Subject: Is analyzing same as tokenizing???
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_980_2800777.1127800725490"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_980_2800777.1127800725490
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi,

Is 'Analyzing' same as 'Tokenizing'?
When we say the Keyword field is not analyzed, but indexed and stored, does
it indicate it is not tokenized as well? That means inorder to find a query
match against a keyword there has to be an exact match(case sensitive).

--
- Andy

------=_Part_980_2800777.1127800725490--

From java-user-return-16611-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 27 07:04:33 2005
Return-Path: <java-user-return-16611-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 87870 invoked from network); 27 Sep 2005 07:04:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Sep 2005 07:04:32 -0000
Received: (qmail 26877 invoked by uid 500); 27 Sep 2005 07:04:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 26321 invoked by uid 500); 27 Sep 2005 07:04:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 26307 invoked by uid 99); 27 Sep 2005 07:04:27 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Sep 2005 00:04:27 -0700
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.109.24.28] (HELO smtp-vbr8.xs4all.nl) (194.109.24.28)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Sep 2005 00:04:32 -0700
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr8.xs4all.nl (8.13.3/8.13.3) with ESMTP id j8R743Jb064917
	for <java-user@lucene.apache.org>; Tue, 27 Sep 2005 09:04:03 +0200 (CEST)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: query behavior
Date: Tue, 27 Sep 2005 09:04:03 +0200
User-Agent: KMail/1.5.4
References: <4E167F5A6BE96B4FB3190F10E66F7726054EB0@roy.optimus-corp.com> <Pine.LNX.4.58.0509261609110.9573@hal.rescomp.berkeley.edu>
In-Reply-To: <Pine.LNX.4.58.0509261609110.9573@hal.rescomp.berkeley.edu>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200509270904.03457.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Tuesday 27 September 2005 01:13, Chris Hostetter wrote:
> 
> I *believe* that because of the ConjunctionScorer in 1.9, BooleanQueries
> consisting of all required terms are now optimized for situations like
> this, the Scorer for the common clause won't be asked to score things that
> the un-common clause has allready given a score of 0.0.

ConjunctionScorer is already used in 1.4 for boolean queries with only
required clauses.

> 
> : Date: Mon, 26 Sep 2005 16:46:45 -0600
> : From: Alberto Squassabia <albertos@optimus-corp.com>
> : Reply-To: java-user@lucene.apache.org
> : To: java-user@lucene.apache.org
> : Subject: query behavior
> :
> : Hi!
> :
> : I learnt from a mailing list archive that the following applies:
> :
> :
> : <quote>
> : ---------------------------------
> : Tue, 06 Jan 2004
> : [...]
> : I have a index with documents that have only 2 fields, the first
> : (unique) is 'very unique', in that most document have at least somewhat
> : varying terms, the second is a boolean that contains only (boolean)
> : 'true' or 'false'. The index contains 100,000,000+ documents.
> : If I perform the following search "+unique:somevalue +boolean:true',
> : lucene with search on the first term, returning very few documents, but
> : then it will search the second term, returning possibly a million+
> : documents, then it will intersect the list, return 'hits' of only a few
> : documents.
> : [. . .]
> : This behavior has been observed with the 1.3 final code.
> : Robert Engels
> : ---------------------------------
> : </quote>
> :
> : Can anyone tell me if that is still true for 1.4?  Or if there are any
> : optimizations that is possible to hardcode in such a case (I have a
> : similar problem).

The ConjunctionScorer in 1.4 will do this optimization in the case of
a query with only required clauses.
In what way is your problem similar? The development version
has "similar" facilities for required/optional and required/excluded
queries.

Regards,
Paul Elschot.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16612-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 27 10:30:21 2005
Return-Path: <java-user-return-16612-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 66316 invoked from network); 27 Sep 2005 10:30:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Sep 2005 10:30:21 -0000
Received: (qmail 63382 invoked by uid 500); 27 Sep 2005 10:30:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 63354 invoked by uid 500); 27 Sep 2005 10:30:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63338 invoked by uid 99); 27 Sep 2005 10:30:15 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Sep 2005 03:30:15 -0700
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [212.33.142.3] (HELO challenger.coretrek.no) (212.33.142.3)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Sep 2005 03:30:22 -0700
Received: from enterprise.intra.coretrek.com (wormhole.coretrek.no [212.33.142.10])
	by challenger.coretrek.no (Postfix) with ESMTP id E99CFF8CC3
	for <java-user@lucene.apache.org>; Tue, 27 Sep 2005 12:29:49 +0200 (CEST)
Date: Tue, 27 Sep 2005 12:29:49 +0200 (CEST)
From: =?iso-8859-15?Q?Endre_St=F8lsvik?= <Endre@Stolsvik.com>
X-X-Sender: endre@enterprise.intra.coretrek.com
To: java-user@lucene.apache.org
Subject: Re: Splitting of words
In-Reply-To: <D77E6281-10CE-42CC-8B69-55BC42A6C78A@ehatchersolutions.com>
Message-ID: <20050927122528.W13874@enterprise.intra.coretrek.com>
References: <000001c5b855$c8473d10$7c00320a@passindien.com>
 <E663A057-E178-44B9-B1EB-799FC34F4CD3@ehatchersolutions.com>
 <20050922103324.U75073@enterprise.intra.coretrek.com>
 <D77E6281-10CE-42CC-8B69-55BC42A6C78A@ehatchersolutions.com>
X-My-Opinion: War and bombs are bad. Peace and flowers are good. ;-D
MIME-Version: 1.0
Content-Type: MULTIPART/MIXED; BOUNDARY="0-1570781305-1127816772=:13874"
Content-ID: <20050927122642.Y13874@enterprise.intra.coretrek.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-1570781305-1127816772=:13874
Content-Type: TEXT/PLAIN; CHARSET=iso-8859-15
Content-Transfer-Encoding: 8BIT
Content-ID: <20050927122642.G13874@enterprise.intra.coretrek.com>

On Thu, 22 Sep 2005, Erik Hatcher wrote:

| 
| On Sep 22, 2005, at 4:36 AM, Endre Stølsvik wrote:
| 
| > 
| > | The StandardTokenizer is the most sophisticated one built into Lucene.
| > You
| > | can see the types of tokens it emits by looking at the javadoc here:
| > |
| > <http://lucene.apache.org/java/docs/api/org/apache/lucene/analysis/standard/StandardTokenizer.html>
| > |
| > | It recognizes e-mail addresses, interior apostrophe words (like o'clock),
| > | hostnames/IP addresses (like lucene.apache.org), acronyms, and CJK
| > characters.
| > 
| > It would be great if it also separated "UpperCamelCase" and
| > "lowerCamelCase" words into both the different words, and one long word.
| > Several uppercase, followed by lowercase, would most probably be best done
| > like HTTPUnit -> http unit.
| >  This is of course due to, for my part, java language influence. But I
| > believe it is custom in many programming languages to use lowerCamelCase
| > for e.g. variables. Filenames too.
| 
| I strongly disagree.  It would not be good at all for StandardTokenizer to do
| this. 

...

|
| It is important to design filters and tokenizers in the most single-purpose
| way to allow them to be combined for various scenarios.

Okay. Why? Just wondering what the reasoning behind this is? What is the 
logic behind the StandardTokenizer as it stands? (Note: There are strong 
reasons to believe that I'm just not quite up to speed on how this all 
fits together..!)

| It would be easy to write a CamelCaseSplitFilter that could be used in 
| conjunction with any tokenizer.

Thanks for the tip!

Regards,
Endre

--0-1570781305-1127816772=:13874
Content-Type: text/plain; charset=us-ascii

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org
--0-1570781305-1127816772=:13874--

From java-user-return-16613-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 27 10:38:42 2005
Return-Path: <java-user-return-16613-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68863 invoked from network); 27 Sep 2005 10:38:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Sep 2005 10:38:41 -0000
Received: (qmail 74094 invoked by uid 500); 27 Sep 2005 10:38:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 74072 invoked by uid 500); 27 Sep 2005 10:38:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 74059 invoked by uid 99); 27 Sep 2005 10:38:36 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Sep 2005 03:38:36 -0700
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [212.33.142.3] (HELO challenger.coretrek.no) (212.33.142.3)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Sep 2005 03:38:43 -0700
Received: from enterprise.intra.coretrek.com (wormhole.coretrek.no [212.33.142.10])
	by challenger.coretrek.no (Postfix) with ESMTP id C806DF8E92
	for <java-user@lucene.apache.org>; Tue, 27 Sep 2005 12:38:12 +0200 (CEST)
Date: Tue, 27 Sep 2005 12:38:12 +0200 (CEST)
From: =?iso-8859-15?Q?Endre_St=F8lsvik?= <Endre@Stolsvik.com>
X-X-Sender: endre@enterprise.intra.coretrek.com
To: java-user@lucene.apache.org
Subject: Re: Single Analyzer for multiple European languages
In-Reply-To: <4338473F.5090305@getopt.org>
Message-ID: <20050927123442.X13874@enterprise.intra.coretrek.com>
References: <17469b1505092610433d72198c@mail.gmail.com>
 <17469b15050926105152583e77@mail.gmail.com> <4338473F.5090305@getopt.org>
X-My-Opinion: War and bombs are bad. Peace and flowers are good. ;-D
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Mon, 26 Sep 2005, Andrzej Bialecki wrote:

| Shashikant Kore wrote:
| 
| > Search:
| > - Get the superset of stopwords by merging the stopwords from all the
| > languages.
| 
| This step doesn't make sense. Stopwords ARE language specific. A stopword in
| one language may be a valid content word in another language - e.g. English
| stopwords "is, by, far" mean "ice, village, father" in Swedish. And vice
| versa, e.g. "den, men, man, sin, hans, era" are Swedish stopwords... So, if
| you mix them and apply to all documents then you will surely loose a lot of
| valid content.

Idea: Don't drop stopwords from the query - they aren't in the index for 
the respective languages. However, you might get results from other 
languages..

It's the stemming that's difficult. You'd have to stem for each language, 
and then do searches. But since you won't stem at all, this wouldn't be 
much of a problem in your case.

Maybe a language-selector drop-down would be nice?

Regards,
Endre.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16614-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 27 12:06:30 2005
Return-Path: <java-user-return-16614-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 11261 invoked from network); 27 Sep 2005 12:06:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Sep 2005 12:06:30 -0000
Received: (qmail 96759 invoked by uid 500); 27 Sep 2005 12:06:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96713 invoked by uid 500); 27 Sep 2005 12:06:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96680 invoked by uid 99); 27 Sep 2005 12:06:24 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Sep 2005 05:06:24 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.162.111.57] (HELO mhub3.pass-consulting.com) (194.162.111.57)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 27 Sep 2005 05:06:30 -0700
Received: (qmail 22049 invoked from network); 27 Sep 2005 12:11:56 -0000
Received: from abmx.pass-consulting.com (10.0.0.208)
  by mhub3.pass.intern with SMTP; 27 Sep 2005 12:11:56 -0000
Received: from ws310024 ([202.9.121.178]) by abmx.pass-consulting.com with Microsoft SMTPSVC(5.0.2195.6713);
	 Tue, 27 Sep 2005 14:05:58 +0200
From: "Madhu Satyanarayana Panitini" <Madhu.Panitini@pass-consulting.com>
To: <java-user@lucene.apache.org>
Subject: RE: Single Analyzer for multiple European languages
Date: Tue, 27 Sep 2005 17:35:23 +0530
Message-ID: <000001c5c35b$c04429a0$7c00320a@passindien.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.2627
In-Reply-To: <20050927123442.X13874@enterprise.intra.coretrek.com>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-OriginalArrivalTime: 27 Sep 2005 12:05:59.0650 (UTC) FILETIME=[D2D45C20:01C5C35B]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi all,
One more idea would be using cryptograms to differentiate between
languages, and then u can use the delete stopwords and apply stemming
for particular language.

Regards
madhu=20

-----Original Message-----
From: Endre St=F8lsvik [mailto:Endre@Stolsvik.com]=20
Sent: Tuesday, September 27, 2005 4:08 PM
To: java-user@lucene.apache.org
Subject: Re: Single Analyzer for multiple European languages

On Mon, 26 Sep 2005, Andrzej Bialecki wrote:

| Shashikant Kore wrote:
|=20
| > Search:
| > - Get the superset of stopwords by merging the stopwords from all
the
| > languages.
|=20
| This step doesn't make sense. Stopwords ARE language specific. A
stopword in
| one language may be a valid content word in another language - e.g.
English
| stopwords "is, by, far" mean "ice, village, father" in Swedish. And
vice
| versa, e.g. "den, men, man, sin, hans, era" are Swedish stopwords...
So, if
| you mix them and apply to all documents then you will surely loose a
lot of
| valid content.

Idea: Don't drop stopwords from the query - they aren't in the index for

the respective languages. However, you might get results from other=20
languages..

It's the stemming that's difficult. You'd have to stem for each
language,=20
and then do searches. But since you won't stem at all, this wouldn't be=20
much of a problem in your case.

Maybe a language-selector drop-down would be nice?

Regards,
Endre.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16615-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 27 12:36:12 2005
Return-Path: <java-user-return-16615-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24858 invoked from network); 27 Sep 2005 12:36:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Sep 2005 12:36:12 -0000
Received: (qmail 30533 invoked by uid 500); 27 Sep 2005 12:36:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 29638 invoked by uid 500); 27 Sep 2005 12:36:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 29625 invoked by uid 99); 27 Sep 2005 12:36:06 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Sep 2005 05:36:06 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Sep 2005 05:36:12 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 42A0413E2005; Tue, 27 Sep 2005 08:35:41 -0400 (EDT)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 0351813E2005
	for <java-user@lucene.apache.org>; Tue, 27 Sep 2005 08:35:11 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <1036df9405092622586e4376d3@mail.gmail.com>
References: <1036df9405092622586e4376d3@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <01875FC1-7DC0-4600-840D-96DAEB1B0C61@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Is analyzing same as tokenizing???
Date: Tue, 27 Sep 2005 08:35:11 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-3.5 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Sep 27, 2005, at 1:58 AM, Anand Kishore wrote:
> Is 'Analyzing' same as 'Tokenizing'?

Yes, in Lucene terminology these two are the same.

> When we say the Keyword field is not analyzed, but indexed and  
> stored, does
> it indicate it is not tokenized as well? That means inorder to find  
> a query
> match against a keyword there has to be an exact match(case  
> sensitive).

That is correct.  A Keyword field is taken exact case as-is as a  
single term.  A token is one piece of the analysis process.  A term  
what tokens are called when indexed.

Saying that it has to be an exact match is being a bit too  
simplistic... it is possible to find terms inexactly by fuzzy,  
prefix, and wildcard queries for example.

     Erik

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16616-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 27 13:01:59 2005
Return-Path: <java-user-return-16616-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35183 invoked from network); 27 Sep 2005 13:01:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Sep 2005 13:01:59 -0000
Received: (qmail 69645 invoked by uid 500); 27 Sep 2005 13:01:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69436 invoked by uid 500); 27 Sep 2005 13:01:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 69423 invoked by uid 99); 27 Sep 2005 13:01:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Sep 2005 06:01:53 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=HTML_20_30,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of andy.kishore@gmail.com designates 64.233.162.203 as permitted sender)
Received: from [64.233.162.203] (HELO zproxy.gmail.com) (64.233.162.203)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Sep 2005 06:02:00 -0700
Received: by zproxy.gmail.com with SMTP id q3so1698427nzb
        for <java-user@lucene.apache.org>; Tue, 27 Sep 2005 06:01:32 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=OLkqZM+cdCok1omLUEmY2c6kfuKnGLDDqmbS4Ri0m7r0+hd5nrK2GbGLZjWqtMdPnNwL2W+j0IpmGgfBDC9ZTK2he1nMBX6CSftBySKSl4ClV6u7hDOP+36yfKnshrt1ffrQ32s40YzBQT1xoFCnOG8YFi5VLgKYLDwlI5BJ+28=
Received: by 10.54.40.9 with SMTP id n9mr1429430wrn;
        Tue, 27 Sep 2005 06:01:32 -0700 (PDT)
Received: by 10.54.82.6 with HTTP; Tue, 27 Sep 2005 06:01:32 -0700 (PDT)
Message-ID: <1036df940509270601606900a7@mail.gmail.com>
Date: Tue, 27 Sep 2005 18:31:32 +0530
From: Anand Kishore <andy.kishore@gmail.com>
Reply-To: Anand Kishore <andy.kishore@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Is analyzing same as tokenizing???
In-Reply-To: <01875FC1-7DC0-4600-840D-96DAEB1B0C61@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_2506_2157472.1127826092521"
References: <1036df9405092622586e4376d3@mail.gmail.com>
	 <01875FC1-7DC0-4600-840D-96DAEB1B0C61@ehatchersolutions.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_2506_2157472.1127826092521
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

> That is correct. A Keyword field is taken exact case as-is as a
> single term.

For example: If I have a keyword field named "sender" which has the value
"The Motely Fool", doing a search for either of these query terms "Fool" or
"fool" or "Motely" on the "sender" field should match the documents
containing the above field or does the query has to be explicitly "The Mote=
l
Fool".

--
- Andy

------=_Part_2506_2157472.1127826092521--

From java-user-return-16617-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 27 13:02:17 2005
Return-Path: <java-user-return-16617-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35277 invoked from network); 27 Sep 2005 13:02:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Sep 2005 13:02:17 -0000
Received: (qmail 70555 invoked by uid 500); 27 Sep 2005 13:02:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70536 invoked by uid 500); 27 Sep 2005 13:02:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 70523 invoked by uid 99); 27 Sep 2005 13:02:11 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Sep 2005 06:02:11 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=HTML_MESSAGE,HTML_TEXT_AFTER_BODY,HTML_TEXT_AFTER_HTML
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [212.117.152.141] (HELO outmail.amdocs.com) (212.117.152.141)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Sep 2005 06:02:16 -0700
Received: from omail1.amdocs.com (omail.amdocs.com [80.179.114.1])
	by outmail.amdocs.com (8.12.9/8.12.9) with ESMTP id j8RD8IJA018753
	for <java-user@lucene.apache.org>; Tue, 27 Sep 2005 16:08:18 +0300
Received: from tlvmail7.corp.amdocs.com (localhost [127.0.0.1])
	by omail1.amdocs.com (8.12.11/8.12.11) with ESMTP id j8RD1bSJ004500
	for <java-user@lucene.apache.org>; Tue, 27 Sep 2005 16:01:38 +0300
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C5C363.B46F3323"
Subject: IndexWriter exception
Date: Tue, 27 Sep 2005 16:02:23 +0300
Message-ID: <191B11CF22BAC54292E97F3B5CDC9C85A05AD0@tlvmail7.corp.amdocs.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: IndexWriter exception
Thread-Index: AcXDY7PsrGqHJpsMSmiMW1476etpxw==
From: "Alex Kiselevski" <ALEXKIS@Amdocs.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C5C363.B46F3323
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable


Hi,

I have a strange exception when I'm trying to recreate an IndexWriter,
that was previously defined.

=0D

I did the following steps:

1.	    mWriter =3D new IndexWriter(indexPath, analyzer, true);=0D
2.	    mWriter.addDocument(document);=0D
3.	    mWriter.optimize();=0D
4.	    mWriter.close();=0D

=0D

In the next step I try to recreate the indexWriter by the same way I did
it in the first step

5.	    mWriter =3D new IndexWriter(indexPath, analyzer, true);=0D

And I got an Exception:

=0D

java.io.IOException: Cannot delete _a.cfs

=0D

            at
org.apache.lucene.store.FSDirectory.create(FSDirectory.java:144)

=0D

            at
org.apache.lucene.store.FSDirectory.getDirectory(FSDirectory.java:105)

=0D

            at
org.apache.lucene.store.FSDirectory.getDirectory(FSDirectory.java:83)

=0D

            at
org.apache.lucene.index.IndexWriter.<init>(IndexWriter.java:173)

=0D

            at
com.stp.core.cv.index.AbstractIndexer.<init>(AbstractIndexer.java:28)

=0D

            at com.stp.core.cv.index.CVIndexer.<init>(CVIndexer.java:27)

=0D

            at com.stp.core.CVFacade.indexDocuments(CVFacade.java:102)

=0D

            at
com.stp.test.STPTestUtility.indexDocuments(STPTestUtility.java:129)

=0D

            at
com.stp.test.STPStorePanel$IndexThread.run(STPStorePanel.java:649)

=0D

=0D

=0D

Alex Kiselevski=0D

Solution Engineer  Pre Sales

+9.729.776.7086 (desk)
+9.729.776.1504 (fax)

AMDOCS > INTEGRATED CUSTOMER MANAGEMENT

=0D

=0D



The information contained in this message is proprietary of Amdocs,
protected from disclosure, and may be privileged.
The information is intended to be conveyed only to the designated=
 recipient(s)
of the message. If the reader of this message is not the intended=
 recipient,
you are hereby notified that any dissemination, use, distribution or=
 copying of=0D
this communication is strictly prohibited and may be unlawful.=0D
If you have received this communication in error, please notify us=
 immediately
by replying to the message and deleting it from your computer.
Thank you.
------_=_NextPart_001_01C5C363.B46F3323--

From java-user-return-16618-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 27 13:54:38 2005
Return-Path: <java-user-return-16618-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65336 invoked from network); 27 Sep 2005 13:54:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Sep 2005 13:54:38 -0000
Received: (qmail 69538 invoked by uid 500); 27 Sep 2005 13:54:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69496 invoked by uid 500); 27 Sep 2005 13:54:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 69480 invoked by uid 99); 27 Sep 2005 13:54:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Sep 2005 06:54:30 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=BIZ_TLD,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.170.154.6] (HELO anjalrelay) (194.170.154.6)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Sep 2005 06:54:34 -0700
Received: from anjalmail ([172.17.1.9])
          by anjalrelay (Lotus Domino Release 6.0.1)
          with ESMTP id 2005092718020685-47678 ;
          Tue, 27 Sep 2005 18:02:06 +0400 
Received: from JayakumarV ([192.168.1.107])
          by anjalmail (Lotus Domino Release 6.0.1)
          with ESMTP id 2005092717533760-65012 ;
          Tue, 27 Sep 2005 17:53:37 +0400 
Reply-To: <jayakumar.v@uaeexchange.com>
From: "Jayakumar.V" <jayakumar.v@uaeexchange.com>
To: <java-user@lucene.apache.org>
Subject: Issue with sounds-like queries
Date: Tue, 27 Sep 2005 17:53:54 +0400
Organization: UAE Exchange Center
MIME-Version: 1.0
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Thread-Index: AcW8P8Y05Ev08S3oSLq3LLheNn/6YgHKw0Og
X-MIMETrack: Itemize by SMTP Server on MAIL/UAE Exchange(Release 6.0.1|February 07, 2003) at
 09/27/2005 05:53:37 PM,
	Serialize by Router on MAIL/UAE Exchange(Release 6.0.1|February 07, 2003) at
 09/27/2005 05:53:40 PM,
	Serialize complete at 09/27/2005 05:53:40 PM,
	Itemize by SMTP Server on RELAY/UAE Exchange(Release 6.0.1|February 07, 2003) at
 09/27/2005 06:02:06 PM,
	Serialize by Router on RELAY/UAE Exchange(Release 6.0.1|February 07, 2003) at
 09/27/2005 06:02:29 PM,
	Serialize complete at 09/27/2005 06:02:29 PM
Message-ID: <OF57E78EA8.47E68475-ON44257089.004C5226@xpressmoney.com>
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0117_01C5C38C.6D333F40"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0117_01C5C38C.6D333F40
Content-Transfer-Encoding: 7bit
Content-Type: text/plain;
	charset="us-ascii"

Hi,

 

I'm facing an issue with sounds-like queries. I've experimented with both
Apache Codec & the Phonetix library from Tangentum Technologies
(http://www.tangentum.biz/en/products/phonetix/faqs/index.html ) to see if I
could sort out the issue somehow using either of the libraries. 

 

I've an index containing details of various Banks in the world & their
associated Branches. 

Each document has a field holding the Branch Name(s) for the individual
Bank(s). 

 

While searching for the following branch name :-  QUILON, it also returns
back details where the branch name may contain the word COLONY, since using
Metaphone or DoubleMetaphone, both QUILON & COLONY get encoded to the same
value :-  KLN. 

This returns in-correct results. 

 

Another example would be CALICUT (located in South India) & CALCUTTA
(located in North India), both get encoded to KLKT.

 

I can narrow down the result by filtering based on COUNTRY or COUNTRY +
STATE but still I might get back results which may not be the one intended.

 

I also tried using the RefinedSoundex class. The issue here is that, "QUILON
BRANCH" will get encoded as - Q50708190830, whereas "QUILON" alone will get
encoded as - Q50708. The user may input only "QUILON" while making a search
which will not return back hits in the above case.

 

Hope I was clear in communicating the issue. 

 

Any thoughts / inputs will be really helpful.

 

 

Thanks & Regards

 

Jayakumar.V

UAE Xchange Center

PB.No. : 170, Abudhabi, UAE

Phone: + 971-2-6105656, 6105658

Fax: +971-2-6323775

  _____  

Confidentiality Notice :  This e-mail message, including any attachments, is
for the sole use of the intended recipient(s) and may contain confidential
and privileged information. Any unauthorized review, use, disclosure or
distribution is prohibited. If you are not the intended recipient, please
contact the sender by reply e-mail and destroy all copies of the original
message.

  _____  

 


------=_NextPart_000_0117_01C5C38C.6D333F40--


From java-user-return-16619-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 27 14:02:54 2005
Return-Path: <java-user-return-16619-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70471 invoked from network); 27 Sep 2005 14:02:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Sep 2005 14:02:53 -0000
Received: (qmail 93077 invoked by uid 500); 27 Sep 2005 14:02:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 93055 invoked by uid 500); 27 Sep 2005 14:02:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 93033 invoked by uid 99); 27 Sep 2005 14:02:46 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Sep 2005 07:02:46 -0700
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=HTML_00_10,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lorenzo.viscanti@gmail.com designates 64.233.162.195 as permitted sender)
Received: from [64.233.162.195] (HELO zproxy.gmail.com) (64.233.162.195)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Sep 2005 07:02:51 -0700
Received: by zproxy.gmail.com with SMTP id i28so143337nzi
        for <java-user@lucene.apache.org>; Tue, 27 Sep 2005 07:02:23 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type;
        b=bQXn9SFTCzkhLymBG4f4ZoC140GbE4K9yp1a+LMmqlC8/kYqFjZTobul19V3E1GuuVJs2tspOKlJtrgOWQtcBtfnv+ZJRNLSTmsyMBpoDw8RzT7xk9aK/nkjl3Y1MvKdPaDeUFAlygF1OWmGTHYxuhn1HjmOzTdcrD3mkFX34G4=
Received: by 10.36.157.6 with SMTP id f6mr2352807nze;
        Tue, 27 Sep 2005 07:02:23 -0700 (PDT)
Received: by 10.36.9.10 with HTTP; Tue, 27 Sep 2005 07:02:23 -0700 (PDT)
Message-ID: <e72c67f705092707023b3d0d93@mail.gmail.com>
Date: Tue, 27 Sep 2005 16:02:23 +0200
From: Lorenzo Viscanti <lorenzo.viscanti@gmail.com>
Reply-To: Lorenzo Viscanti <lorenzo.viscanti@gmail.com>
To: java-user@lucene.apache.org
Subject: StandardTokenizer
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_1223_24774328.1127829743884"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_1223_24774328.1127829743884
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi, I'm trying to modify the StandardTokenizer, in order to get to get a
good tokenization for my needs.
Basically I would like to separate two tokens when I find an apostrophe. I
think I should modify the StandardTokenizer.jj file to do that, but I'm in
trouble while changing the grammar. Can someone help me with the right
syntax?
Thanks,
Lorenzo

------=_Part_1223_24774328.1127829743884--

From java-user-return-16620-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 27 14:03:45 2005
Return-Path: <java-user-return-16620-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71665 invoked from network); 27 Sep 2005 14:03:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Sep 2005 14:03:45 -0000
Received: (qmail 96984 invoked by uid 500); 27 Sep 2005 14:03:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96961 invoked by uid 500); 27 Sep 2005 14:03:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96944 invoked by uid 99); 27 Sep 2005 14:03:38 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Sep 2005 07:03:37 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=BIZ_TLD,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.170.154.6] (HELO anjalrelay) (194.170.154.6)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Sep 2005 07:03:44 -0700
Received: from anjalmail ([172.17.1.9])
          by anjalrelay (Lotus Domino Release 6.0.1)
          with ESMTP id 2005092718111767-47709 ;
          Tue, 27 Sep 2005 18:11:17 +0400 
Received: from JayakumarV ([192.168.1.107])
          by anjalmail (Lotus Domino Release 6.0.1)
          with ESMTP id 2005092718024860-65034 ;
          Tue, 27 Sep 2005 18:02:48 +0400 
Reply-To: <jayakumar.v@uaeexchange.com>
From: "Jayakumar.V" <jayakumar.v@uaeexchange.com>
To: <java-user@lucene.apache.org>
Subject: RE: Issue with sounds-like queries
Date: Tue, 27 Sep 2005 18:03:05 +0400
Organization: UAE Exchange Center
MIME-Version: 1.0
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Thread-Index: AcW8P8Y05Ev08S3oSLq3LLheNn/6YgHKw0OgAAAbzjA=
In-Reply-To: 
X-MIMETrack: Itemize by SMTP Server on MAIL/UAE Exchange(Release 6.0.1|February 07, 2003) at
 09/27/2005 06:02:48 PM,
	Serialize by Router on MAIL/UAE Exchange(Release 6.0.1|February 07, 2003) at
 09/27/2005 06:02:50 PM,
	Serialize complete at 09/27/2005 06:02:50 PM,
	Itemize by SMTP Server on RELAY/UAE Exchange(Release 6.0.1|February 07, 2003) at
 09/27/2005 06:11:17 PM,
	Serialize by Router on RELAY/UAE Exchange(Release 6.0.1|February 07, 2003) at
 09/27/2005 06:11:39 PM,
	Serialize complete at 09/27/2005 06:11:39 PM
Message-ID: <OFF26E325C.A09E41BC-ON44257089.004D296E@xpressmoney.com>
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0121_01C5C38D.B59CBBC0"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0121_01C5C38D.B59CBBC0
Content-Transfer-Encoding: 7bit
Content-Type: text/plain;
	charset="us-ascii"

Hi,

 

I got around the RefinedSoundex issue by indexing each field separately. But
by using RefinedSoundex, I'm loosing the flexibility provided by the
Metaphone / DoubleMetaphone algorithms. If the user misspells the search
word (which can happen) as KOILON instead of QUILON, I wouldn't get back the
expected results. 

 

Any suggestions on handling this in a better way?

 

Jayakumar.V

  _____  

From: Jayakumar.V [mailto:jayakumar.v@uaeexchange.com] 
Sent: Tuesday, September 27, 2005 17:54
To: 'java-user@lucene.apache.org'
Subject: Issue with sounds-like queries

 

Hi,

 

I'm facing an issue with sounds-like queries. I've experimented with both
Apache Codec & the Phonetix library from Tangentum Technologies
(http://www.tangentum.biz/en/products/phonetix/faqs/index.html ) to see if I
could sort out the issue somehow using either of the libraries. 

 

I've an index containing details of various Banks in the world & their
associated Branches. 

Each document has a field holding the Branch Name(s) for the individual
Bank(s). 

 

While searching for the following branch name :-  QUILON, it also returns
back details where the branch name may contain the word COLONY, since using
Metaphone or DoubleMetaphone, both QUILON & COLONY get encoded to the same
value :-  KLN. 

This returns in-correct results. 

 

Another example would be CALICUT (located in South India) & CALCUTTA
(located in North India), both get encoded to KLKT.

 

I can narrow down the result by filtering based on COUNTRY or COUNTRY +
STATE but still I might get back results which may not be the one intended.

 

I also tried using the RefinedSoundex class. The issue here is that, "QUILON
BRANCH" will get encoded as - Q50708190830, whereas "QUILON" alone will get
encoded as - Q50708. The user may input only "QUILON" while making a search
which will not return back hits in the above case.

 

Hope I was clear in communicating the issue. 

 

Any thoughts / inputs will be really helpful.

 

 

Thanks & Regards

 

Jayakumar.V

UAE Xchange Center

PB.No. : 170, Abudhabi, UAE

Phone: + 971-2-6105656, 6105658

Fax: +971-2-6323775

  _____  

Confidentiality Notice :  This e-mail message, including any attachments, is
for the sole use of the intended recipient(s) and may contain confidential
and privileged information. Any unauthorized review, use, disclosure or
distribution is prohibited. If you are not the intended recipient, please
contact the sender by reply e-mail and destroy all copies of the original
message.

  _____  

 


------=_NextPart_000_0121_01C5C38D.B59CBBC0--


From java-user-return-16621-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 27 14:05:46 2005
Return-Path: <java-user-return-16621-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72687 invoked from network); 27 Sep 2005 14:05:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Sep 2005 14:05:45 -0000
Received: (qmail 1292 invoked by uid 500); 27 Sep 2005 14:05:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 1274 invoked by uid 500); 27 Sep 2005 14:05:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 1257 invoked by uid 99); 27 Sep 2005 14:05:40 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Sep 2005 07:05:40 -0700
X-ASF-Spam-Status: No, hits=1.9 required=10.0
	tests=HTML_40_50,HTML_MESSAGE,RCVD_BY_IP,RCVD_IN_BL_SPAMCOP_NET,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 72.14.204.194 as permitted sender)
Received: from [72.14.204.194] (HELO qproxy.gmail.com) (72.14.204.194)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Sep 2005 07:05:45 -0700
Received: by qproxy.gmail.com with SMTP id e11so216367qba
        for <java-user@lucene.apache.org>; Tue, 27 Sep 2005 07:05:17 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=bW0PPinRIq5Q0If5t/h38fF8IkDBmmtyn+SlYrS3Gj+DZuES2KdLKANc7U76IsV+TRIjHYSS9gXyvChZML1AjoqgSW9gRIcp8hYa5ijVgLrspoHVyIpnLRbTeTiO5URKmqvSGEkRA+zS6uAwbIpZkz+8nEu8XBXXnclAeI5p+lA=
Received: by 10.65.123.7 with SMTP id a7mr265299qbn;
        Tue, 27 Sep 2005 07:05:17 -0700 (PDT)
Received: by 10.65.121.10 with HTTP; Tue, 27 Sep 2005 07:05:17 -0700 (PDT)
Message-ID: <c68e3917050927070574d1288b@mail.gmail.com>
Date: Tue, 27 Sep 2005 10:05:17 -0400
From: Yonik Seeley <yseeley@gmail.com>
Reply-To: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org, Lorenzo Viscanti <lorenzo.viscanti@gmail.com>
Subject: Re: StandardTokenizer
In-Reply-To: <e72c67f705092707023b3d0d93@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_19322_16194892.1127829917193"
References: <e72c67f705092707023b3d0d93@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_19322_16194892.1127829917193
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I'd write a TokenFilter for that... much easier.

-Yonik
Now hiring -- http://tinyurl.com/7m67g

On 9/27/05, Lorenzo Viscanti <lorenzo.viscanti@gmail.com> wrote:
>
> Hi, I'm trying to modify the StandardTokenizer, in order to get to get a
> good tokenization for my needs.
> Basically I would like to separate two tokens when I find an apostrophe. =
I
> think I should modify the StandardTokenizer.jj file to do that, but I'm i=
n
> trouble while changing the grammar. Can someone help me with the right
> syntax?
> Thanks,
> Lorenzo
>

------=_Part_19322_16194892.1127829917193--

From java-user-return-16622-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 27 16:20:55 2005
Return-Path: <java-user-return-16622-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33590 invoked from network); 27 Sep 2005 16:20:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Sep 2005 16:20:55 -0000
Received: (qmail 43589 invoked by uid 500); 27 Sep 2005 16:20:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43553 invoked by uid 500); 27 Sep 2005 16:20:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43540 invoked by uid 99); 27 Sep 2005 16:20:48 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Sep 2005 09:20:48 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Sep 2005 09:20:54 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id C1B4813E2008; Tue, 27 Sep 2005 12:20:22 -0400 (EDT)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 4174B13E2005
	for <java-user@lucene.apache.org>; Tue, 27 Sep 2005 12:20:03 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <1036df940509270601606900a7@mail.gmail.com>
References: <1036df9405092622586e4376d3@mail.gmail.com> <01875FC1-7DC0-4600-840D-96DAEB1B0C61@ehatchersolutions.com> <1036df940509270601606900a7@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <40DAEE4D-BBB0-498F-A091-287BEA7187DA@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Is analyzing same as tokenizing???
Date: Tue, 27 Sep 2005 12:20:03 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-3.1 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Sep 27, 2005, at 9:01 AM, Anand Kishore wrote:

>> That is correct. A Keyword field is taken exact case as-is as a
>> single term.
>>
>
> For example: If I have a keyword field named "sender" which has the  
> value
> "The Motely Fool", doing a search for either of these query terms  
> "Fool" or
> "fool" or "Motely" on the "sender" field should match the documents
> containing the above field or does the query has to be explicitly  
> "The Motel
> Fool".

So use Field.Text(), not Field.Keyword() in this case, and ensure you  
know what your analyzer is doing to your text - use Luke to see first- 
hand perhaps.

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16623-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 27 16:43:16 2005
Return-Path: <java-user-return-16623-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 42117 invoked from network); 27 Sep 2005 16:43:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Sep 2005 16:43:16 -0000
Received: (qmail 100 invoked by uid 500); 27 Sep 2005 16:43:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99972 invoked by uid 500); 27 Sep 2005 16:43:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99951 invoked by uid 99); 27 Sep 2005 16:43:08 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Sep 2005 09:43:08 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [216.87.64.33] (HELO snow.viawest.net) (216.87.64.33)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Sep 2005 09:43:14 -0700
Received: from roy.optimus-corp.com (mail.optimus-corp.com [216.87.83.228])
	by snow.viawest.net (8.12.10/8.12.10/viawest-2.5) with ESMTP id j8RGgjpp024289
	for <java-user@lucene.apache.org>; Tue, 27 Sep 2005 10:42:45 -0600 (MDT)
X-MimeOLE: Produced By Microsoft Exchange V6.0.6249.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: query behavior
Date: Tue, 27 Sep 2005 10:42:44 -0600
Message-ID: <4E167F5A6BE96B4FB3190F10E66F7726054EC7@roy.optimus-corp.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: query behavior
Thread-Index: AcXDMbXmlAIM9nyaRlOk910SUuPRTQAUA5Hw
From: "Alberto Squassabia" <albertos@optimus-corp.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Mr. Elschot:=20

> In what way is your problem similar? =20

same:

(1) large document spaces (millions);
(2) searches at intersection of AND with one side of the AND sporting
only a few matches, and the other side sporting large match sets.

different:

(3) greater variety of data types

Alberto S
albertos_at_optimus-corp_dot_com

-----Original Message-----
From: Paul Elschot [mailto:paul.elschot@xs4all.nl]=20
Sent: Tuesday, September 27, 2005 1:04 AM
To: java-user@lucene.apache.org
Subject: Re: query behavior

On Tuesday 27 September 2005 01:13, Chris Hostetter wrote:
>=20
> I *believe* that because of the ConjunctionScorer in 1.9,=20
> [...]
> to score things that the un-common clause has allready given a score
of 0.0.

ConjunctionScorer is already used in 1.4 for boolean queries with only
required clauses.

>=20
> :
> : <quote>
> : ---------------------------------
> : Tue, 06 Jan 2004
> : [...]
> : I have a index with documents that have only 2 fields, the first
> : (unique) is 'very unique', in that most document have at least=20
> somewhat
> : varying terms, the second is a boolean that contains only (boolean)
> : 'true' or 'false'. The index contains 100,000,000+ documents.
> : If I perform the following search "+unique:somevalue +boolean:true',
> : lucene with search on the first term, returning very few documents,=20
> but
> : then it will search the second term, returning possibly a million+
> : documents, then it will intersect the list, return 'hits' of only a=20
> few
> : documents.
> : [. . .]
> : This behavior has been observed with the 1.3 final code.
> : Robert Engels
> : ---------------------------------
> : </quote>
> :
> : Can anyone tell me if that is still true for 1.4?  Or if there are=20
> any
> : optimizations that is possible to hardcode in such a case (I have a
> : similar problem).

The ConjunctionScorer in 1.4 will do this optimization in the case of a
query with only required clauses.
In what way is your problem similar? The development version has
"similar" facilities for required/optional and required/excluded
queries.

Regards,
Paul Elschot.




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16624-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 27 16:45:46 2005
Return-Path: <java-user-return-16624-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 42937 invoked from network); 27 Sep 2005 16:45:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Sep 2005 16:45:45 -0000
Received: (qmail 9110 invoked by uid 500); 27 Sep 2005 16:45:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9090 invoked by uid 500); 27 Sep 2005 16:45:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 9077 invoked by uid 99); 27 Sep 2005 16:45:40 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Sep 2005 09:45:40 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Sep 2005 09:45:45 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 65A4913E2005; Tue, 27 Sep 2005 12:45:14 -0400 (EDT)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 7D4C313E2007
	for <java-user@lucene.apache.org>; Tue, 27 Sep 2005 12:44:15 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <20050927122528.W13874@enterprise.intra.coretrek.com>
References: <000001c5b855$c8473d10$7c00320a@passindien.com> <E663A057-E178-44B9-B1EB-799FC34F4CD3@ehatchersolutions.com> <20050922103324.U75073@enterprise.intra.coretrek.com> <D77E6281-10CE-42CC-8B69-55BC42A6C78A@ehatchersolutions.com> <20050927122528.W13874@enterprise.intra.coretrek.com>
Content-Type: text/plain; charset=ISO-8859-1; delsp=yes; format=flowed
Message-Id: <AE3F3DDD-E16A-41EA-B923-6D79A683FB0D@ehatchersolutions.com>
Content-Transfer-Encoding: quoted-printable
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Splitting of words
Date: Tue, 27 Sep 2005 12:44:15 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-3.1 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Sep 27, 2005, at 6:29 AM, Endre St=F8lsvik wrote:

> On Thu, 22 Sep 2005, Erik Hatcher wrote:
>
> |
> | On Sep 22, 2005, at 4:36 AM, Endre St=F8lsvik wrote:
> |
> | >
> | > | The StandardTokenizer is the most sophisticated one built =20
> into Lucene.
> | > You
> | > | can see the types of tokens it emits by looking at the =20
> javadoc here:
> | > |
> | > <http://lucene.apache.org/java/docs/api/org/apache/lucene/=20
> analysis/standard/StandardTokenizer.html>
> | > |
> | > | It recognizes e-mail addresses, interior apostrophe words =20
> (like o'clock),
> | > | hostnames/IP addresses (like lucene.apache.org), acronyms, =20
> and CJK
> | > characters.
> | >
> | > It would be great if it also separated "UpperCamelCase" and
> | > "lowerCamelCase" words into both the different words, and one =20
> long word.
> | > Several uppercase, followed by lowercase, would most probably =20
> be best done
> | > like HTTPUnit -> http unit.
> | >  This is of course due to, for my part, java language =20
> influence. But I
> | > believe it is custom in many programming languages to use =20
> lowerCamelCase
> | > for e.g. variables. Filenames too.
> |
> | I strongly disagree.  It would not be good at all for =20
> StandardTokenizer to do
> | this.
>
> ...
>
> |
> | It is important to design filters and tokenizers in the most =20
> single-purpose
> | way to allow them to be combined for various scenarios.
>
> Okay. Why? Just wondering what the reasoning behind this is? What =20
> is the
> logic behind the StandardTokenizer as it stands? (Note: There are =20
> strong
> reasons to believe that I'm just not quite up to speed on how this all
> fits together..!)

The StandardTokenizer is a general purpose tokenizer designed to =20
split text not just at whitespace boundaries, but also to keep CJK =20
characters separate, e-mail addresses as a unit, and to deal with =20
common things like part numbers where alphabetic and numeric =20
characters are mixed.  It's a good tokenizer to start with and evolve =20=

from there.

The StandardTokenizer does more than certain scenarios demand, and =20
less than other situations - it's a nice happy medium.

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16625-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 27 16:53:46 2005
Return-Path: <java-user-return-16625-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45605 invoked from network); 27 Sep 2005 16:53:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Sep 2005 16:53:46 -0000
Received: (qmail 24168 invoked by uid 500); 27 Sep 2005 16:53:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24148 invoked by uid 500); 27 Sep 2005 16:53:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 24134 invoked by uid 99); 27 Sep 2005 16:53:40 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Sep 2005 09:53:40 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.200.36] (HELO web31103.mail.mud.yahoo.com) (68.142.200.36)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 27 Sep 2005 09:53:45 -0700
Received: (qmail 96732 invoked by uid 60001); 27 Sep 2005 16:53:17 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=clKV4Sbt6oyPgH5gcDro3UO6opH7ra/a1xDgdCUe4Hge9K6FhMMOUcxjij7cjXXIHEa7lShcOf5GwjB7sYSjNskCaysIeu6ZpG9w7qMq5UNdQfkDb7sURqDwH5vwZ3rLurkz5nLq5+GJ7l03KFoKdHDcrLwf2ObZzqVWl3KpjC4=  ;
Message-ID: <20050927165317.96730.qmail@web31103.mail.mud.yahoo.com>
Received: from [216.194.55.187] by web31103.mail.mud.yahoo.com via HTTP; Tue, 27 Sep 2005 09:53:17 PDT
Date: Tue, 27 Sep 2005 09:53:17 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: IndexWriter exception
To: java-user@lucene.apache.org
In-Reply-To: <191B11CF22BAC54292E97F3B5CDC9C85A05AD0@tlvmail7.corp.amdocs.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Alex,

Can you write your code as a unit test that we can run and see the
error?  Are you running this on Windows?

Otis

--- Alex Kiselevski <ALEXKIS@Amdocs.com> wrote:

> 
> Hi,
> 
> I have a strange exception when I'm trying to recreate an
> IndexWriter,
> that was previously defined.
> 
> 
> 
> I did the following steps:
> 
> 1.	    mWriter = new IndexWriter(indexPath, analyzer, true);
> 2.	    mWriter.addDocument(document);
> 3.	    mWriter.optimize();
> 4.	    mWriter.close();
> 
> 
> 
> In the next step I try to recreate the indexWriter by the same way I
> did
> it in the first step
> 
> 5.	    mWriter = new IndexWriter(indexPath, analyzer, true);
> 
> And I got an Exception:
> 
> 
> 
> java.io.IOException: Cannot delete _a.cfs
> 
> 
> 
>             at
> org.apache.lucene.store.FSDirectory.create(FSDirectory.java:144)
> 
> 
> 
>             at
>
org.apache.lucene.store.FSDirectory.getDirectory(FSDirectory.java:105)
> 
> 
> 
>             at
> org.apache.lucene.store.FSDirectory.getDirectory(FSDirectory.java:83)
> 
> 
> 
>             at
> org.apache.lucene.index.IndexWriter.<init>(IndexWriter.java:173)
> 
> 
> 
>             at
> com.stp.core.cv.index.AbstractIndexer.<init>(AbstractIndexer.java:28)
> 
> 
> 
>             at
> com.stp.core.cv.index.CVIndexer.<init>(CVIndexer.java:27)
> 
> 
> 
>             at
> com.stp.core.CVFacade.indexDocuments(CVFacade.java:102)
> 
> 
> 
>             at
> com.stp.test.STPTestUtility.indexDocuments(STPTestUtility.java:129)
> 
> 
> 
>             at
> com.stp.test.STPStorePanel$IndexThread.run(STPStorePanel.java:649)
> 
> 
> 
> 
> 
> 
> 
> Alex Kiselevski
> 
> Solution Engineer  Pre Sales
> 
> +9.729.776.7086 (desk)
> +9.729.776.1504 (fax)
> 
> AMDOCS > INTEGRATED CUSTOMER MANAGEMENT
> 
> 
> 
> 
> 
> 
> 
> The information contained in this message is proprietary of Amdocs,
> protected from disclosure, and may be privileged.
> The information is intended to be conveyed only to the designated
> recipient(s)
> of the message. If the reader of this message is not the intended
> recipient,
> you are hereby notified that any dissemination, use, distribution or
> copying of
> this communication is strictly prohibited and may be unlawful.
> If you have received this communication in error, please notify us
> immediately
> by replying to the message and deleting it from your computer.
> Thank you.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16626-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Sep 27 20:52:09 2005
Return-Path: <java-user-return-16626-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 36325 invoked from network); 27 Sep 2005 20:52:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 27 Sep 2005 20:52:09 -0000
Received: (qmail 43186 invoked by uid 500); 27 Sep 2005 20:52:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 43145 invoked by uid 500); 27 Sep 2005 20:52:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 43132 invoked by uid 500); 27 Sep 2005 20:52:02 -0000
Delivered-To: apmail-jakarta-lucene-user@jakarta.apache.org
Received: (qmail 43129 invoked by uid 99); 27 Sep 2005 20:52:02 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Sep 2005 13:52:02 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [64.18.1.124] (HELO psmtp.com) (64.18.1.124)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 27 Sep 2005 13:52:08 -0700
Received: from source ([139.56.4.14]) by exprod6ob4.obsmtp.com ([64.18.5.12]) with SMTP;
	Tue, 27 Sep 2005 13:51:38 PDT
Received: from triangulum1.broadvision.com (triangulum1.broadvision.com [10.10.102.100])
	by nebula3.broadvision.com (8.10.2+Sun/8.10.2) with ESMTP id j8RKnfL24325
	for <lucene-user@jakarta.apache.org>; Tue, 27 Sep 2005 13:49:41 -0700 (PDT)
Received: from rw-gw-02.BroadVision.com (localhost [127.0.0.1])
	by triangulum1.broadvision.com (8.9.3+Sun/8.9.3) with ESMTP id NAA23262
	for <lucene-user@jakarta.apache.org>; Tue, 27 Sep 2005 13:52:25 -0700 (PDT)
Received: by rw-gw-02.broadvision.com with Internet Mail Service (5.5.2655.55)
	id <NF0BBQRB>; Tue, 27 Sep 2005 13:52:35 -0700
Message-ID: <8220B8D6B56A9A4E8480489F38E425298E4600@rw-msg-02.broadvision.com>
From: "Zhang, Lisheng" <Lisheng.Zhang@broadvision.com>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Subject: JavaCC version for lucene 1.4
Date: Tue, 27 Sep 2005 13:52:33 -0700
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2655.55)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Hi,

I would like to know the JavaCC version used to build lucene 1.4?
I could not get this information from downloaded files (only mentioned
JavaCC site).

Thanks very much for helps, Lisheng

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16627-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 28 01:22:42 2005
Return-Path: <java-user-return-16627-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25592 invoked from network); 28 Sep 2005 01:22:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Sep 2005 01:22:42 -0000
Received: (qmail 2333 invoked by uid 500); 28 Sep 2005 01:22:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2302 invoked by uid 500); 28 Sep 2005 01:22:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2288 invoked by uid 99); 28 Sep 2005 01:22:36 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Sep 2005 18:22:36 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 27 Sep 2005 18:22:40 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 9C29913E2005; Tue, 27 Sep 2005 21:22:11 -0400 (EDT)
Received: from [172.16.1.101] (va-71-48-138-146.dhcp.sprint-hsd.net [71.48.138.146])
	by ehatchersolutions.com (Postfix) with ESMTP id 1F26B13E2005
	for <java-user@lucene.apache.org>; Tue, 27 Sep 2005 21:22:05 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <8220B8D6B56A9A4E8480489F38E425298E4600@rw-msg-02.broadvision.com>
References: <8220B8D6B56A9A4E8480489F38E425298E4600@rw-msg-02.broadvision.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <15F9EA09-7F0D-4F84-8718-1ABC5ECC3521@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: JavaCC version for lucene 1.4
Date: Tue, 27 Sep 2005 21:20:52 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-5.9 required=5.0 tests=ALL_TRUSTED,BAYES_00 
	autolearn=ham version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Sep 27, 2005, at 4:52 PM, Zhang, Lisheng wrote:

>
> Hi,
>
> I would like to know the JavaCC version used to build lucene 1.4?
> I could not get this information from downloaded files (only mentioned
> JavaCC site).

I can't say for sure what version was used for the official 1.4.x  
builds, but my hunch is JavaCC 3.2 was used.  This is the version I'm  
currently using locally.

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16628-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 28 08:16:14 2005
Return-Path: <java-user-return-16628-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40273 invoked from network); 28 Sep 2005 08:16:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Sep 2005 08:16:13 -0000
Received: (qmail 8697 invoked by uid 500); 28 Sep 2005 08:16:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7792 invoked by uid 500); 28 Sep 2005 08:16:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7779 invoked by uid 99); 28 Sep 2005 08:16:08 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Sep 2005 01:16:08 -0700
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=NO_REAL_NAME
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.75.234.2] (HELO smtpgate.saa-cons.co.uk) (194.75.234.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Sep 2005 01:16:13 -0700
Received: (from uucp@localhost)
	by smtpgate.saa-cons.co.uk (8.8.8/8.8.8) id JAA03201
	for <java-user@lucene.apache.org>; Wed, 28 Sep 2005 09:19:53 +0100 (BST)
	(envelope-from Paul.Illingworth@saaconsultants.com)
Received: from domino-mail.saa-cons.co.uk(10.10.10.4) by smtpgate.saa-cons.co.uk via smap (V2.1)
	id xma003189; Wed, 28 Sep 05 09:19:35 +0100
Subject: Lucene 1.9 and Java 1.4
To: java-user@lucene.apache.org
X-Mailer: Lotus Notes Release 6.5.1 January 21, 2004
Message-ID: <OF8A2507ED.4687BDAA-ON8025708A.002BD3F3-8025708A.002D6FCC@SAAConsultants.com>
From: Paul.Illingworth@saaconsultants.com
Date: Wed, 28 Sep 2005 09:19:41 +0100
X-MIMETrack: Serialize by Router on domino-mail/Saa(Release 6.5.1|January 21, 2004) at
 28/09/2005 09:19:42
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N





Dear all,

I have been trying to follow some of the developments for the new version
of Lucene (1.9?). My understanding is that this will require Java 1.4. Is
this correct? Is this because of changes to "core" functionality within
Lucene or is it because some new additional classes require Java 1.4? If
it's the latter then would it be possible to produce a custom build of
Lucene that omits the classes that require Java 1.4?

As you can probably guess from this that I have to support an older version
of Java for certain platforms (Java 1.3.6). I don't know if I am unusual in
this respect or if it is a common requirement.

One of the new classes that I am using is the ConstantScoreQuery. I am not
sure if this is going to be included in Lucene 1.9 or not but this does
make use of Java 1.4. I have modified this to produce a version that works
with pre 1.4 Java but probably at the expense of performance. I could
submit this but if Lucene is going (has gone?) the 1.4 route there would be
little point.

Regards

Paul I.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16629-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 28 10:14:15 2005
Return-Path: <java-user-return-16629-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78221 invoked from network); 28 Sep 2005 10:14:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Sep 2005 10:14:15 -0000
Received: (qmail 69465 invoked by uid 500); 28 Sep 2005 10:14:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69437 invoked by uid 500); 28 Sep 2005 10:14:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 69424 invoked by uid 99); 28 Sep 2005 10:14:07 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Sep 2005 03:14:07 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=BIZ_TLD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [193.123.241.50] (HELO rivette.int.mediasurface.com) (193.123.241.50)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Sep 2005 03:14:13 -0700
Received: from rivette.int.mediasurface.com (localhost [127.0.0.1])
	by rivette.int.mediasurface.com (8.11.6+Sun/8.11.6) with ESMTP id j8SADgA19361;
	Wed, 28 Sep 2005 11:13:42 +0100 (BST)
Received: from neptune.int.mediasurface.com (neptune.int.mediasurface.com [10.0.5.71])
	by rivette.int.mediasurface.com (8.11.6+Sun/8.11.6) with ESMTP id j8SADeI19354;
	Wed, 28 Sep 2005 11:13:41 +0100 (BST)
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Subject: RE: Issue with sounds-like queries
Date: Wed, 28 Sep 2005 11:13:37 +0100
Message-ID: <BE3E7BC7F7553B4A9362D4192ECD308A0104793B@neptune.int.mediasurface.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Issue with sounds-like queries
Thread-Index: AcW8P8Y05Ev08S3oSLq3LLheNn/6YgHKw0OgACqWWyA=
From: "Peter Gelderbloem" <Peter.Gelderbloem@mediasurface.com>
To: <java-user@lucene.apache.org>, <jayakumar.v@uaeexchange.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

May be you should not be using sounds like queries in the first place?
They are supposed to be fuzzy afaik.

-----Original Message-----
From: Jayakumar.V [mailto:jayakumar.v@uaeexchange.com]=20
Sent: 27 September 2005 14:54
To: java-user@lucene.apache.org
Subject: Issue with sounds-like queries

Hi,

=20

I'm facing an issue with sounds-like queries. I've experimented with
both
Apache Codec & the Phonetix library from Tangentum Technologies
(http://www.tangentum.biz/en/products/phonetix/faqs/index.html ) to see
if I
could sort out the issue somehow using either of the libraries.=20

=20

I've an index containing details of various Banks in the world & their
associated Branches.=20

Each document has a field holding the Branch Name(s) for the individual
Bank(s).=20

=20

While searching for the following branch name :-  QUILON, it also
returns
back details where the branch name may contain the word COLONY, since
using
Metaphone or DoubleMetaphone, both QUILON & COLONY get encoded to the
same
value :-  KLN.=20

This returns in-correct results.=20

=20

Another example would be CALICUT (located in South India) & CALCUTTA
(located in North India), both get encoded to KLKT.

=20

I can narrow down the result by filtering based on COUNTRY or COUNTRY +
STATE but still I might get back results which may not be the one
intended.

=20

I also tried using the RefinedSoundex class. The issue here is that,
"QUILON
BRANCH" will get encoded as - Q50708190830, whereas "QUILON" alone will
get
encoded as - Q50708. The user may input only "QUILON" while making a
search
which will not return back hits in the above case.

=20

Hope I was clear in communicating the issue.=20

=20

Any thoughts / inputs will be really helpful.

=20

=20

Thanks & Regards

=20

Jayakumar.V

UAE Xchange Center

PB.No. : 170, Abudhabi, UAE

Phone: + 971-2-6105656, 6105658

Fax: +971-2-6323775

  _____ =20

Confidentiality Notice :  This e-mail message, including any
attachments, is
for the sole use of the intended recipient(s) and may contain
confidential
and privileged information. Any unauthorized review, use, disclosure or
distribution is prohibited. If you are not the intended recipient,
please
contact the sender by reply e-mail and destroy all copies of the
original
message.

  _____ =20

=20


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16630-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 28 10:50:18 2005
Return-Path: <java-user-return-16630-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90945 invoked from network); 28 Sep 2005 10:50:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Sep 2005 10:50:18 -0000
Received: (qmail 27540 invoked by uid 500); 28 Sep 2005 10:50:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27347 invoked by uid 500); 28 Sep 2005 10:50:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27322 invoked by uid 99); 28 Sep 2005 10:50:10 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Sep 2005 03:50:10 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE,HTML_30_40,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.49.122] (HELO web54312.mail.yahoo.com) (206.190.49.122)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 28 Sep 2005 03:50:15 -0700
Received: (qmail 10231 invoked by uid 60001); 28 Sep 2005 10:49:46 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=yHU1GRJJd6O5hNtUHKn7HODZB8kNE5+oWER7o+1jipUk19yiLEqS3upW9C2JdNe9xC+88R2R1GzNMGB6X29YkwQykwCs00J7VTOOxSsGnpdMbk9klU42ikoMFEpGKZuvtBkhcXxG/kaFPG5glBi7ORzBeqqa8Cmtnj/45ThwK1k=  ;
Message-ID: <20050928104946.10229.qmail@web54312.mail.yahoo.com>
Received: from [213.160.22.50] by web54312.mail.yahoo.com via HTTP; Wed, 28 Sep 2005 03:49:46 PDT
Date: Wed, 28 Sep 2005 03:49:46 -0700 (PDT)
From: tirupathi reddy <tirupathireddy_m@yahoo.com>
Subject: Some error while searching the index
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-595844023-1127904586=:10200"
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--0-595844023-1127904586=:10200
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit

Hello,
 
   While searching if I enter one or two characters. It founds lot of results as I can say almost all and at that time it is giving the following error.
 
8028 total matching documents
 caught a class org.apache.lucene.search.BooleanQuery$TooManyClauses
 with message: null
 
And search is some what slower if I have some 15000 documents indexed and size of the index is around 100mb.
 
How can I solve these problems.
 
Thanx,
MTREDDY
 
Thanx,
 


Tirupati Reddy Manyam 
24-06-08, 
Sundugaullee-24, 
79110 Freiburg 
GERMANY. 

Phone: 00497618811257 
cell : 004917624649007

		
---------------------------------
Yahoo! for Good
 Click here to donate to the Hurricane Katrina relief effort. 
--0-595844023-1127904586=:10200--

From java-user-return-16631-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 28 11:03:40 2005
Return-Path: <java-user-return-16631-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97209 invoked from network); 28 Sep 2005 11:03:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Sep 2005 11:03:40 -0000
Received: (qmail 40336 invoked by uid 500); 28 Sep 2005 11:03:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40315 invoked by uid 500); 28 Sep 2005 11:03:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40302 invoked by uid 99); 28 Sep 2005 11:03:34 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Sep 2005 04:03:34 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=BIZ_TLD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.170.154.6] (HELO anjalrelay) (194.170.154.6)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Sep 2005 04:03:40 -0700
Received: from anjalmail ([172.17.1.9])
          by anjalrelay (Lotus Domino Release 6.0.1)
          with ESMTP id 2005092815111306-52555 ;
          Wed, 28 Sep 2005 15:11:13 +0400 
Received: from JayakumarV ([192.168.1.107])
          by anjalmail (Lotus Domino Release 6.0.1)
          with ESMTP id 2005092815024258-67907 ;
          Wed, 28 Sep 2005 15:02:42 +0400 
Reply-To: <jayakumar.v@uaeexchange.com>
From: "Jayakumar.V" <jayakumar.v@uaeexchange.com>
To: "'Peter Gelderbloem'" <Peter.Gelderbloem@mediasurface.com>,
	<java-user@lucene.apache.org>
Subject: RE: Issue with sounds-like queries
Date: Wed, 28 Sep 2005 15:02:59 +0400
Organization: UAE Exchange Center
MIME-Version: 1.0
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
Thread-Index: AcW8P8Y05Ev08S3oSLq3LLheNn/6YgHKw0OgACqWWyAAAXG0EA==
In-Reply-To: <BE3E7BC7F7553B4A9362D4192ECD308A0104793B@neptune.int.mediasurface.com>
X-MIMETrack: Itemize by SMTP Server on MAIL/UAE Exchange(Release 6.0.1|February 07, 2003) at
 09/28/2005 03:02:42 PM,
	Serialize by Router on MAIL/UAE Exchange(Release 6.0.1|February 07, 2003) at
 09/28/2005 03:02:44 PM,
	Serialize complete at 09/28/2005 03:02:44 PM,
	Itemize by SMTP Server on RELAY/UAE Exchange(Release 6.0.1|February 07, 2003) at
 09/28/2005 03:11:13 PM,
	Serialize by Router on RELAY/UAE Exchange(Release 6.0.1|February 07, 2003) at
 09/28/2005 03:11:37 PM,
	Serialize complete at 09/28/2005 03:11:37 PM
Message-ID: <OFD433D7C7.E46ECD35-ON4425708A.003CAC45@xpressmoney.com>
Content-Transfer-Encoding: 7bit
Content-Type: text/plain;
	charset="us-ascii"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

The reason I'm using sounds-like queries is that this search feature will be
used by our lobby staff(s), who'll be of different nationalities. No two
users may spell the place name the same way. They may also misspell the
names. To bring out the closest match based on what they've input, I need to
use sounds-like queries. 

--
Jayakumar.V 


-----Original Message-----
From: Peter Gelderbloem [mailto:Peter.Gelderbloem@mediasurface.com] 
Sent: Wednesday, September 28, 2005 14:14
To: java-user@lucene.apache.org; jayakumar.v@uaeexchange.com
Subject: RE: Issue with sounds-like queries

May be you should not be using sounds like queries in the first place?
They are supposed to be fuzzy afaik.

-----Original Message-----
From: Jayakumar.V [mailto:jayakumar.v@uaeexchange.com] 
Sent: 27 September 2005 14:54
To: java-user@lucene.apache.org
Subject: Issue with sounds-like queries

Hi,

 

I'm facing an issue with sounds-like queries. I've experimented with
both
Apache Codec & the Phonetix library from Tangentum Technologies
(http://www.tangentum.biz/en/products/phonetix/faqs/index.html ) to see
if I
could sort out the issue somehow using either of the libraries. 

 

I've an index containing details of various Banks in the world & their
associated Branches. 

Each document has a field holding the Branch Name(s) for the individual
Bank(s). 

 

While searching for the following branch name :-  QUILON, it also
returns
back details where the branch name may contain the word COLONY, since
using
Metaphone or DoubleMetaphone, both QUILON & COLONY get encoded to the
same
value :-  KLN. 

This returns in-correct results. 

 

Another example would be CALICUT (located in South India) & CALCUTTA
(located in North India), both get encoded to KLKT.

 

I can narrow down the result by filtering based on COUNTRY or COUNTRY +
STATE but still I might get back results which may not be the one
intended.

 

I also tried using the RefinedSoundex class. The issue here is that,
"QUILON
BRANCH" will get encoded as - Q50708190830, whereas "QUILON" alone will
get
encoded as - Q50708. The user may input only "QUILON" while making a
search
which will not return back hits in the above case.

 

Hope I was clear in communicating the issue. 

 

Any thoughts / inputs will be really helpful.

 

 

Thanks & Regards

 

Jayakumar.V

UAE Xchange Center

PB.No. : 170, Abudhabi, UAE

Phone: + 971-2-6105656, 6105658

Fax: +971-2-6323775

  _____  

Confidentiality Notice :  This e-mail message, including any
attachments, is
for the sole use of the intended recipient(s) and may contain
confidential
and privileged information. Any unauthorized review, use, disclosure or
distribution is prohibited. If you are not the intended recipient,
please
contact the sender by reply e-mail and destroy all copies of the
original
message.

  _____  

 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16632-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 28 13:41:30 2005
Return-Path: <java-user-return-16632-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 58268 invoked from network); 28 Sep 2005 13:41:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Sep 2005 13:41:29 -0000
Received: (qmail 38612 invoked by uid 500); 28 Sep 2005 13:41:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 38590 invoked by uid 500); 28 Sep 2005 13:41:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 38577 invoked by uid 99); 28 Sep 2005 13:41:23 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Sep 2005 06:41:23 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=BIZ_TLD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [193.123.241.50] (HELO rivette.int.mediasurface.com) (193.123.241.50)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Sep 2005 06:41:28 -0700
Received: from rivette.int.mediasurface.com (localhost [127.0.0.1])
	by rivette.int.mediasurface.com (8.11.6+Sun/8.11.6) with ESMTP id j8SDexA29580
	for <java-user@lucene.apache.org>; Wed, 28 Sep 2005 14:40:59 +0100 (BST)
Received: from neptune.int.mediasurface.com (neptune.int.mediasurface.com [10.0.5.71])
	by rivette.int.mediasurface.com (8.11.6+Sun/8.11.6) with ESMTP id j8SDewI29566
	for <java-user@lucene.apache.org>; Wed, 28 Sep 2005 14:40:58 +0100 (BST)
X-MimeOLE: Produced By Microsoft Exchange V6.5.7226.0
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: FW: Issue with sounds-like queries
Date: Wed, 28 Sep 2005 14:40:55 +0100
Message-ID: <BE3E7BC7F7553B4A9362D4192ECD308A01047A18@neptune.int.mediasurface.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Issue with sounds-like queries
Thread-Index: AcW8P8Y05Ev08S3oSLq3LLheNn/6YgHKw0OgACqWWyAAAXG0EAAFv5CwAAASHTA=
From: "Peter Gelderbloem" <Peter.Gelderbloem@mediasurface.com>
To: <java-user@lucene.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


You should present all the alternatives to the user as well as the
contexts=20
of each hit in terms of country, state and full name etc. and let them
decide which one they intended.=20

Peter=20

-----Original Message-----
From: Jayakumar.V [mailto:jayakumar.v@uaeexchange.com]=20
Sent: 28 September 2005 12:03
To: Peter Gelderbloem; java-user@lucene.apache.org
Subject: RE: Issue with sounds-like queries

Hi,

The reason I'm using sounds-like queries is that this search feature
will be
used by our lobby staff(s), who'll be of different nationalities. No two
users may spell the place name the same way. They may also misspell the
names. To bring out the closest match based on what they've input, I
need to
use sounds-like queries.=20

--
Jayakumar.V=20


-----Original Message-----
From: Peter Gelderbloem [mailto:Peter.Gelderbloem@mediasurface.com]=20
Sent: Wednesday, September 28, 2005 14:14
To: java-user@lucene.apache.org; jayakumar.v@uaeexchange.com
Subject: RE: Issue with sounds-like queries

May be you should not be using sounds like queries in the first place?
They are supposed to be fuzzy afaik.

-----Original Message-----
From: Jayakumar.V [mailto:jayakumar.v@uaeexchange.com]=20
Sent: 27 September 2005 14:54
To: java-user@lucene.apache.org
Subject: Issue with sounds-like queries

Hi,

=20

I'm facing an issue with sounds-like queries. I've experimented with
both
Apache Codec & the Phonetix library from Tangentum Technologies
(http://www.tangentum.biz/en/products/phonetix/faqs/index.html ) to see
if I
could sort out the issue somehow using either of the libraries.=20

=20

I've an index containing details of various Banks in the world & their
associated Branches.=20

Each document has a field holding the Branch Name(s) for the individual
Bank(s).=20

=20

While searching for the following branch name :-  QUILON, it also
returns
back details where the branch name may contain the word COLONY, since
using
Metaphone or DoubleMetaphone, both QUILON & COLONY get encoded to the
same
value :-  KLN.=20

This returns in-correct results.=20

=20

Another example would be CALICUT (located in South India) & CALCUTTA
(located in North India), both get encoded to KLKT.

=20

I can narrow down the result by filtering based on COUNTRY or COUNTRY +
STATE but still I might get back results which may not be the one
intended.

=20

I also tried using the RefinedSoundex class. The issue here is that,
"QUILON
BRANCH" will get encoded as - Q50708190830, whereas "QUILON" alone will
get
encoded as - Q50708. The user may input only "QUILON" while making a
search
which will not return back hits in the above case.

=20

Hope I was clear in communicating the issue.=20

=20

Any thoughts / inputs will be really helpful.

=20

=20

Thanks & Regards

=20

Jayakumar.V

UAE Xchange Center

PB.No. : 170, Abudhabi, UAE

Phone: + 971-2-6105656, 6105658

Fax: +971-2-6323775

  _____ =20

Confidentiality Notice :  This e-mail message, including any
attachments, is
for the sole use of the intended recipient(s) and may contain
confidential
and privileged information. Any unauthorized review, use, disclosure or
distribution is prohibited. If you are not the intended recipient,
please
contact the sender by reply e-mail and destroy all copies of the
original
message.

  _____ =20

=20


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16633-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 28 13:44:00 2005
Return-Path: <java-user-return-16633-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 59258 invoked from network); 28 Sep 2005 13:44:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Sep 2005 13:44:00 -0000
Received: (qmail 48003 invoked by uid 500); 28 Sep 2005 13:43:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47980 invoked by uid 500); 28 Sep 2005 13:43:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47967 invoked by uid 99); 28 Sep 2005 13:43:53 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Sep 2005 06:43:53 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.35.35.7] (HELO mailgw3a.lmco.com) (192.35.35.7)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Sep 2005 06:43:59 -0700
Received: from emss04g01.ems.lmco.com (relay4.ems.lmco.com [166.17.13.122])
	by mailgw3a.lmco.com (8.12.10/8.12.10) with ESMTP id j8SDhUUW004562
	for <java-user@lucene.apache.org>; Wed, 28 Sep 2005 09:43:30 -0400 (EDT)
Received: from CONVERSION-DAEMON.lmco.com by lmco.com (PMDF V6.1-1X6 #30884)
 id <0INJ00J014SIA9@lmco.com> for java-user@lucene.apache.org; Wed, 28 Sep 2005 09:43:30 -0400 (EDT)
Received: from EMSS10M01.us.lmco.com ([158.187.0.150]) by lmco.com (PMDF V6.1-1X6 #30884)
 with ESMTP id <0INJ00C3M4SH5A@lmco.com> for java-user@lucene.apache.org; Wed, 28 Sep 2005 09:43:29 -0400 (EDT)
Received: from EMSS10M03.us.lmco.com ([158.187.0.148]) by EMSS10M01.us.lmco.com with Microsoft SMTPSVC(5.0.2195.6713); Wed,
 28 Sep 2005 09:43:29 -0400
Date: Wed, 28 Sep 2005 09:43:29 -0400
From: "Mordo, Aviran (EXP N-NANNATEK)" <aviran.mordo@lmco.com>
Subject: RE: Some error while searching the index
To: java-user@lucene.apache.org
Message-id: <92A278501EF50444AD3EE1FFB51219550BCE397B@emss10m03.rck.atm.lmco.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6603.0
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT
Thread-Topic: Some error while searching the index
Thread-Index: AcXEGqHkUA4MfHmSTjKxFaeVTYPScQAF8HaQ
content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-OriginalArrivalTime: 28 Sep 2005 13:43:29.0812 (UTC) FILETIME=[9C35FD40:01C5C432]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

You can increase the maxClauseCount (default is 1024), or use filters.

HTH

Aviran
http://www.aviransplace.com

-----Original Message-----
From: tirupathi reddy [mailto:tirupathireddy_m@yahoo.com] 
Sent: Wednesday, September 28, 2005 6:50 AM
To: java-user@lucene.apache.org
Subject: Some error while searching the index

Hello,
 
   While searching if I enter one or two characters. It founds lot of
results as I can say almost all and at that time it is giving the
following error.
 
8028 total matching documents
 caught a class org.apache.lucene.search.BooleanQuery$TooManyClauses
 with message: null
 
And search is some what slower if I have some 15000 documents indexed
and size of the index is around 100mb.
 
How can I solve these problems.
 
Thanx,
MTREDDY
 
Thanx,
 


Tirupati Reddy Manyam
24-06-08,
Sundugaullee-24,
79110 Freiburg
GERMANY. 

Phone: 00497618811257
cell : 004917624649007

		
---------------------------------
Yahoo! for Good
 Click here to donate to the Hurricane Katrina relief effort. 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16634-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 28 13:47:02 2005
Return-Path: <java-user-return-16634-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60229 invoked from network); 28 Sep 2005 13:47:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Sep 2005 13:47:02 -0000
Received: (qmail 57383 invoked by uid 500); 28 Sep 2005 13:46:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 57119 invoked by uid 500); 28 Sep 2005 13:46:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 57106 invoked by uid 99); 28 Sep 2005 13:46:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Sep 2005 06:46:55 -0700
X-ASF-Spam-Status: No, hits=2.4 required=10.0
	tests=HTML_20_30,HTML_MESSAGE,RCVD_BY_IP,RCVD_IN_BL_SPAMCOP_NET,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 72.14.204.196 as permitted sender)
Received: from [72.14.204.196] (HELO qproxy.gmail.com) (72.14.204.196)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Sep 2005 06:47:01 -0700
Received: by qproxy.gmail.com with SMTP id e11so395758qba
        for <java-user@lucene.apache.org>; Wed, 28 Sep 2005 06:46:33 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=eErzId1SLzqfhV5eyAXfd+lXD275ozCw3lpj07sO5pDesgkeLVzjo5CAt2fZXIYlkoT1ZBU1THUofNxVlBT2skfTyBPbzOXCT2l4vvUe81/C9LzKshTt+2VcQxmshuOllzaisMfXmnesWx+ahxBXfyn75nL2UkjysK4R2F5A7tc=
Received: by 10.65.112.20 with SMTP id p20mr1140921qbm;
        Wed, 28 Sep 2005 06:46:33 -0700 (PDT)
Received: by 10.65.121.10 with HTTP; Wed, 28 Sep 2005 06:46:33 -0700 (PDT)
Message-ID: <c68e391705092806464aaeea33@mail.gmail.com>
Date: Wed, 28 Sep 2005 09:46:33 -0400
From: Yonik Seeley <yseeley@gmail.com>
Reply-To: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Lucene 1.9 and Java 1.4
In-Reply-To: <OF8A2507ED.4687BDAA-ON8025708A.002BD3F3-8025708A.002D6FCC@SAAConsultants.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_2523_3204028.1127915193199"
References: <OF8A2507ED.4687BDAA-ON8025708A.002BD3F3-8025708A.002D6FCC@SAAConsultants.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_2523_3204028.1127915193199
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

I think your best bet for supporting Java 1.3 would be sticking with Lucene
1.4.

> One of the new classes that I am using is the ConstantScoreQuery. I am no=
t
> sure if this is going to be included in Lucene 1.9 or not but this does
> make use of Java 1.4.

w.r.t. java.util.BitSet, it's a pain, and I plan a faster/better
replacement.

-Yonik
Now hiring -- http://tinyurl.com/7m67g

On 9/28/05, Paul.Illingworth@saaconsultants.com <
Paul.Illingworth@saaconsultants.com> wrote:
>
>
>
>
>
> Dear all,
>
> I have been trying to follow some of the developments for the new version
> of Lucene (1.9?). My understanding is that this will require Java 1.4. Is
> this correct? Is this because of changes to "core" functionality within
> Lucene or is it because some new additional classes require Java 1.4? If
> it's the latter then would it be possible to produce a custom build of
> Lucene that omits the classes that require Java 1.4?
>
> As you can probably guess from this that I have to support an older
> version
> of Java for certain platforms (Java 1.3.6). I don't know if I am unusual
> in
> this respect or if it is a common requirement.
>
> One of the new classes that I am using is the ConstantScoreQuery. I am no=
t
> sure if this is going to be included in Lucene 1.9 or not but this does
> make use of Java 1.4. I have modified this to produce a version that work=
s
> with pre 1.4 Java but probably at the expense of performance. I could
> submit this but if Lucene is going (has gone?) the 1.4 route there would
> be
> little point.
>
> Regards
>
> Paul I.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>

------=_Part_2523_3204028.1127915193199--

From java-user-return-16635-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 28 14:03:47 2005
Return-Path: <java-user-return-16635-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 67289 invoked from network); 28 Sep 2005 14:03:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Sep 2005 14:03:47 -0000
Received: (qmail 89904 invoked by uid 500); 28 Sep 2005 14:03:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89884 invoked by uid 500); 28 Sep 2005 14:03:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89864 invoked by uid 99); 28 Sep 2005 14:03:41 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Sep 2005 07:03:41 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=BIZ_TLD
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.170.154.6] (HELO anjalrelay) (194.170.154.6)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Sep 2005 07:03:47 -0700
Received: from anjalmail ([172.17.1.9])
          by anjalrelay (Lotus Domino Release 6.0.1)
          with ESMTP id 2005092818112137-53486 ;
          Wed, 28 Sep 2005 18:11:21 +0400 
Received: from JayakumarV ([192.168.1.107])
          by anjalmail (Lotus Domino Release 6.0.1)
          with ESMTP id 2005092818024966-68647 ;
          Wed, 28 Sep 2005 18:02:49 +0400 
Reply-To: <jayakumar.v@uaeexchange.com>
From: "Jayakumar.V" <jayakumar.v@uaeexchange.com>
To: "'Peter Gelderbloem'" <Peter.Gelderbloem@mediasurface.com>
Cc: <java-user@lucene.apache.org>
Subject: RE: Issue with sounds-like queries
Date: Wed, 28 Sep 2005 18:03:06 +0400
Organization: UAE Exchange Center
MIME-Version: 1.0
X-Mailer: Microsoft Office Outlook, Build 11.0.5510
Thread-Index: AcW8P8Y05Ev08S3oSLq3LLheNn/6YgHKw0OgACqWWyAAAXG0EAAFv5CwAACdfQA=
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.2180
In-Reply-To: <BE3E7BC7F7553B4A9362D4192ECD308A01047A16@neptune.int.mediasurface.com>
X-MIMETrack: Itemize by SMTP Server on MAIL/UAE Exchange(Release 6.0.1|February 07, 2003) at
 09/28/2005 06:02:49 PM,
	Serialize by Router on MAIL/UAE Exchange(Release 6.0.1|February 07, 2003) at
 09/28/2005 06:02:52 PM,
	Serialize complete at 09/28/2005 06:02:52 PM,
	Itemize by SMTP Server on RELAY/UAE Exchange(Release 6.0.1|February 07, 2003) at
 09/28/2005 06:11:21 PM,
	Serialize by Router on RELAY/UAE Exchange(Release 6.0.1|February 07, 2003) at
 09/28/2005 06:11:44 PM,
	Serialize complete at 09/28/2005 06:11:44 PM
Message-ID: <OF37094CAF.9877DBF4-ON4425708A.004D29D7@xpressmoney.com>
Content-Transfer-Encoding: 7bit
Content-Type: text/plain;
	charset="us-ascii"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Thatz the only alternative I can see now. Thank you for the input.


Jayakumar.V 

-----Original Message-----
From: Peter Gelderbloem [mailto:Peter.Gelderbloem@mediasurface.com] 
Sent: Wednesday, September 28, 2005 17:40
To: jayakumar.v@uaeexchange.com
Subject: RE: Issue with sounds-like queries


You should present all the alternatives to the user as well as the
contexts 
of each hit in terms of country, state and full name etc. and let them
decide which one they intended. 

Peter 

-----Original Message-----
From: Jayakumar.V [mailto:jayakumar.v@uaeexchange.com] 
Sent: 28 September 2005 12:03
To: Peter Gelderbloem; java-user@lucene.apache.org
Subject: RE: Issue with sounds-like queries

Hi,

The reason I'm using sounds-like queries is that this search feature
will be
used by our lobby staff(s), who'll be of different nationalities. No two
users may spell the place name the same way. They may also misspell the
names. To bring out the closest match based on what they've input, I
need to
use sounds-like queries. 

--
Jayakumar.V 


-----Original Message-----
From: Peter Gelderbloem [mailto:Peter.Gelderbloem@mediasurface.com] 
Sent: Wednesday, September 28, 2005 14:14
To: java-user@lucene.apache.org; jayakumar.v@uaeexchange.com
Subject: RE: Issue with sounds-like queries

May be you should not be using sounds like queries in the first place?
They are supposed to be fuzzy afaik.

-----Original Message-----
From: Jayakumar.V [mailto:jayakumar.v@uaeexchange.com] 
Sent: 27 September 2005 14:54
To: java-user@lucene.apache.org
Subject: Issue with sounds-like queries

Hi,

 

I'm facing an issue with sounds-like queries. I've experimented with
both
Apache Codec & the Phonetix library from Tangentum Technologies
(http://www.tangentum.biz/en/products/phonetix/faqs/index.html ) to see
if I
could sort out the issue somehow using either of the libraries. 

 

I've an index containing details of various Banks in the world & their
associated Branches. 

Each document has a field holding the Branch Name(s) for the individual
Bank(s). 

 

While searching for the following branch name :-  QUILON, it also
returns
back details where the branch name may contain the word COLONY, since
using
Metaphone or DoubleMetaphone, both QUILON & COLONY get encoded to the
same
value :-  KLN. 

This returns in-correct results. 

 

Another example would be CALICUT (located in South India) & CALCUTTA
(located in North India), both get encoded to KLKT.

 

I can narrow down the result by filtering based on COUNTRY or COUNTRY +
STATE but still I might get back results which may not be the one
intended.

 

I also tried using the RefinedSoundex class. The issue here is that,
"QUILON
BRANCH" will get encoded as - Q50708190830, whereas "QUILON" alone will
get
encoded as - Q50708. The user may input only "QUILON" while making a
search
which will not return back hits in the above case.

 

Hope I was clear in communicating the issue. 

 

Any thoughts / inputs will be really helpful.

 

 

Thanks & Regards

 

Jayakumar.V

UAE Xchange Center

PB.No. : 170, Abudhabi, UAE

Phone: + 971-2-6105656, 6105658

Fax: +971-2-6323775

  _____  

Confidentiality Notice :  This e-mail message, including any
attachments, is
for the sole use of the intended recipient(s) and may contain
confidential
and privileged information. Any unauthorized review, use, disclosure or
distribution is prohibited. If you are not the intended recipient,
please
contact the sender by reply e-mail and destroy all copies of the
original
message.

  _____  

 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16636-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 28 14:26:53 2005
Return-Path: <java-user-return-16636-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 76575 invoked from network); 28 Sep 2005 14:26:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Sep 2005 14:26:52 -0000
Received: (qmail 33544 invoked by uid 500); 28 Sep 2005 14:26:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 33347 invoked by uid 500); 28 Sep 2005 14:26:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 33329 invoked by uid 500); 28 Sep 2005 14:26:43 -0000
Delivered-To: apmail-jakarta-lucene-user@jakarta.apache.org
Received: (qmail 33326 invoked by uid 99); 28 Sep 2005 14:26:43 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Sep 2005 07:26:43 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [150.254.30.30] (HELO libra.cs.put.poznan.pl) (150.254.30.30)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Sep 2005 07:26:49 -0700
Received: from libra.cs.put.poznan.pl (localhost [127.0.0.1])
	by libra (Postfix on VMS) with SMTP id 871403B07
	for <lucene-user@jakarta.apache.org>; Wed, 28 Sep 2005 16:26:19 +0200 (CEST)
Received: from [150.254.130.24] (idss-dw.cs.put.poznan.pl [150.254.130.24])
	by libra.cs.put.poznan.pl (Postfix on VMS) with ESMTP id 633CB3A89
	for <lucene-user@jakarta.apache.org>; Wed, 28 Sep 2005 16:26:19 +0200 (CEST)
Message-ID: <433AA7AD.3070204@cs.put.poznan.pl>
Date: Wed, 28 Sep 2005 16:24:45 +0200
From: Dawid Weiss <dawid.weiss@cs.put.poznan.pl>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: A very technical question.
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Hi.

I have a very technical question. I need to alter document score (or in 
fact: document boosts) for an existing index, but for each query. In 
other words, I'd like these to have pseudo-queries of the form:

1. civil war PREFER:shorter
2. civil war PREFER:longer

for these two queries, 1. would score shorter documents higher then 
option 2, which would in turn score longer documents higher. Note that 
these preferences can be expressed at query time, so static document 
boosts are of little help.

I'd appreciate if those familiar with the internals of Lucene gave me 
brief instructions on how this could be achieved (my rough guess is that 
I'll need to build my own Scorer... but how to access document length 
and where to plug in that scorer... besides I'd rather hear it from 
somebody with more expertise).

Thanks,
D.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16637-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 28 14:54:50 2005
Return-Path: <java-user-return-16637-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89300 invoked from network); 28 Sep 2005 14:54:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Sep 2005 14:54:48 -0000
Received: (qmail 94454 invoked by uid 500); 28 Sep 2005 14:54:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 94428 invoked by uid 500); 28 Sep 2005 14:54:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 94415 invoked by uid 500); 28 Sep 2005 14:54:41 -0000
Delivered-To: apmail-jakarta-lucene-user@jakarta.apache.org
Received: (qmail 94412 invoked by uid 99); 28 Sep 2005 14:54:41 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Sep 2005 07:54:41 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of renaud.richardet@wyona.com designates 195.226.6.68 as permitted sender)
Received: from [195.226.6.68] (HELO mx1.wyona.com) (195.226.6.68)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Sep 2005 07:54:43 -0700
Received: from pool-151-203-213-195.bos.east.verizon.net ([151.203.213.195] helo=[192.168.1.123])
	by mx1.wyona.com with asmtp (Exim 3.35 #1 (Debian))
	id 1EKdJz-0002fZ-00
	for <lucene-user@jakarta.apache.org>; Wed, 28 Sep 2005 16:54:12 +0200
Message-ID: <433AAE8E.6090707@wyona.com>
Date: Wed, 28 Sep 2005 10:54:06 -0400
From: Renaud Richardet <renaud.richardet@wyona.com>
User-Agent: Mozilla Thunderbird 1.0.6 (X11/20050912)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: indexing documents from 1857
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,

>From our understanding, Lucene uses the Unix Epoch (Jan 1, 1970) and
there are conflicts with dates that pass this line. For one of our
projects, we will need to be able to move past Jan 1, 1970 date as far
as 1857.

Is there any workaround this?

Thanks,
Renaud

-- 
Renaud Richardet
COO America
Wyona Inc.  -   Open Source Content Management   -   Apache Lenya
office +1 857 776-3195                     mobile +1 617 230 9112
renaud.richardet@wyona.com                   http://www.wyona.com


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16638-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 28 14:59:23 2005
Return-Path: <java-user-return-16638-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 90785 invoked from network); 28 Sep 2005 14:59:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Sep 2005 14:59:23 -0000
Received: (qmail 6644 invoked by uid 500); 28 Sep 2005 14:59:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6624 invoked by uid 500); 28 Sep 2005 14:59:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6605 invoked by uid 99); 28 Sep 2005 14:59:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Sep 2005 07:59:17 -0700
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=FROM_ENDS_IN_NUMS,HTML_20_30,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of andyliu1227@gmail.com designates 66.249.82.192 as permitted sender)
Received: from [66.249.82.192] (HELO xproxy.gmail.com) (66.249.82.192)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Sep 2005 07:59:23 -0700
Received: by xproxy.gmail.com with SMTP id h27so26636wxd
        for <java-user@lucene.apache.org>; Wed, 28 Sep 2005 07:58:55 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=sIdg4nCDvJQsyAl4viATMjYhJiJihQPzfpu4Qk3TeLtumsmESKWv8PtVcKhY4aF1NAvbxfaz0YdHl81Tb/5k1F/SYKBrBke6vkxfwOIsSNXKPZwrfKr/NfSGc95AQxcvAKT753ZW4tQNyrNm6yw0pLRceBLrhh74INWFMU8+ccU=
Received: by 10.70.24.4 with SMTP id 4mr1420010wxx;
        Wed, 28 Sep 2005 07:58:54 -0700 (PDT)
Received: by 10.70.21.11 with HTTP; Wed, 28 Sep 2005 07:58:54 -0700 (PDT)
Message-ID: <32dca9ed0509280758f0e6d10@mail.gmail.com>
Date: Wed, 28 Sep 2005 10:58:54 -0400
From: Andy Liu <andyliu1227@gmail.com>
Reply-To: Andy Liu <andyliu1227@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: A very technical question.
In-Reply-To: <433AA7AD.3070204@cs.put.poznan.pl>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_4357_2119024.1127919534316"
References: <433AA7AD.3070204@cs.put.poznan.pl>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_4357_2119024.1127919534316
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

While you're indexing, you can assign each doc with a field that refers to
how long the document is. So, for example, you can add a field named
"docLength" for each document, and assign it with discrete values such as
"veryshort", "short", "medium", "long", "verylong", depending on how
granular you need it. Then at query time you can specify the field and a
given boost value, i.e.

civil war docLength:verylong^5 docLength:long^3

Andy

On 9/28/05, Dawid Weiss <dawid.weiss@cs.put.poznan.pl> wrote:
>
>
> Hi.
>
> I have a very technical question. I need to alter document score (or in
> fact: document boosts) for an existing index, but for each query. In
> other words, I'd like these to have pseudo-queries of the form:
>
> 1. civil war PREFER:shorter
> 2. civil war PREFER:longer
>
> for these two queries, 1. would score shorter documents higher then
> option 2, which would in turn score longer documents higher. Note that
> these preferences can be expressed at query time, so static document
> boosts are of little help.
>
> I'd appreciate if those familiar with the internals of Lucene gave me
> brief instructions on how this could be achieved (my rough guess is that
> I'll need to build my own Scorer... but how to access document length
> and where to plug in that scorer... besides I'd rather hear it from
> somebody with more expertise).
>
> Thanks,
> D.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


--
Andy Liu
andyliu1227@gmail.com
(301) 873-8458

------=_Part_4357_2119024.1127919534316--

From java-user-return-16639-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 28 15:10:12 2005
Return-Path: <java-user-return-16639-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94086 invoked from network); 28 Sep 2005 15:10:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Sep 2005 15:10:12 -0000
Received: (qmail 24359 invoked by uid 500); 28 Sep 2005 15:10:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24092 invoked by uid 500); 28 Sep 2005 15:10:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 23951 invoked by uid 99); 28 Sep 2005 15:09:59 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Sep 2005 08:09:59 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=HTML_20_30,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of yseeley@gmail.com designates 72.14.204.200 as permitted sender)
Received: from [72.14.204.200] (HELO qproxy.gmail.com) (72.14.204.200)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Sep 2005 08:10:06 -0700
Received: by qproxy.gmail.com with SMTP id e14so481286qbc
        for <java-user@lucene.apache.org>; Wed, 28 Sep 2005 08:09:38 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=JPhB1YxlEgI6XwgpKjgeDTzTJSGFvxT/SAB5aYQmY8eGL86QRUZkZ2Vm1kOjZUZM6yTHST77sbY/bakrtacKbI5R+5Ppc6XlRklvUNA2QC+ttE6h5Pd5l+9B/uXaP6VLMkniEmQMmP2AoUIOUfeVp7jcb8jmWHp2lPqBLEtQbGs=
Received: by 10.65.133.7 with SMTP id k7mr1182550qbn;
        Wed, 28 Sep 2005 08:09:38 -0700 (PDT)
Received: by 10.65.121.10 with HTTP; Wed, 28 Sep 2005 08:09:38 -0700 (PDT)
Message-ID: <c68e39170509280809ebc4c16@mail.gmail.com>
Date: Wed, 28 Sep 2005 11:09:38 -0400
From: Yonik Seeley <yseeley@gmail.com>
Reply-To: Yonik Seeley <yseeley@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: A very technical question.
In-Reply-To: <433AA7AD.3070204@cs.put.poznan.pl>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_2957_6866967.1127920178200"
References: <433AA7AD.3070204@cs.put.poznan.pl>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_2957_6866967.1127920178200
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Field length isn't stored... It gets folded into the norm (see
Similarity.lengthNorm) along with the boost and indexing time.

A couple of approaches:
a) index the field twice with two different Similarity implementations
b) store term vectors, derive the length from them and store in the
FieldCache, implement your own Query/Scorer to factor that in.
c) store a separate length field and use my soon-to-be-finished
FunctionQuery
http://www.mail-archive.com/java-dev@lucene.apache.org/msg02173.html
(blech, the indentation is messed up in that archive)
d) use FunctionQuery with a custom source that derives field length from
term vectors


(a) Is your best bet right now for a quick solution IMO.


-Yonik
Now hiring -- http://tinyurl.com/7m67g



On 9/28/05, Dawid Weiss <dawid.weiss@cs.put.poznan.pl> wrote:
>
>
> Hi.
>
> I have a very technical question. I need to alter document score (or in
> fact: document boosts) for an existing index, but for each query. In
> other words, I'd like these to have pseudo-queries of the form:
>
> 1. civil war PREFER:shorter
> 2. civil war PREFER:longer
>
> for these two queries, 1. would score shorter documents higher then
> option 2, which would in turn score longer documents higher. Note that
> these preferences can be expressed at query time, so static document
> boosts are of little help.
>
> I'd appreciate if those familiar with the internals of Lucene gave me
> brief instructions on how this could be achieved (my rough guess is that
> I'll need to build my own Scorer... but how to access document length
> and where to plug in that scorer... besides I'd rather hear it from
> somebody with more expertise).
>
> Thanks,
> D.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_2957_6866967.1127920178200--

From java-user-return-16640-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 28 15:11:30 2005
Return-Path: <java-user-return-16640-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94929 invoked from network); 28 Sep 2005 15:11:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Sep 2005 15:11:29 -0000
Received: (qmail 30716 invoked by uid 500); 28 Sep 2005 15:11:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30692 invoked by uid 500); 28 Sep 2005 15:11:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30679 invoked by uid 99); 28 Sep 2005 15:11:23 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Sep 2005 08:11:23 -0700
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [194.109.24.21] (HELO smtp-vbr1.xs4all.nl) (194.109.24.21)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Sep 2005 08:11:29 -0700
Received: from k8l.lan (porta.xs4all.nl [80.127.24.69])
	by smtp-vbr1.xs4all.nl (8.13.3/8.13.3) with ESMTP id j8SFB0Vb043310
	for <java-user@lucene.apache.org>; Wed, 28 Sep 2005 17:11:00 +0200 (CEST)
	(envelope-from paul.elschot@xs4all.nl)
From: Paul Elschot <paul.elschot@xs4all.nl>
To: java-user@lucene.apache.org
Subject: Re: indexing documents from 1857
Date: Wed, 28 Sep 2005 17:10:59 +0200
User-Agent: KMail/1.5.4
References: <433AAE8E.6090707@wyona.com>
In-Reply-To: <433AAE8E.6090707@wyona.com>
MIME-Version: 1.0
Content-Type: text/plain;
  charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Message-Id: <200509281710.59994.paul.elschot@xs4all.nl>
X-Virus-Scanned: by XS4ALL Virus Scanner
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Wednesday 28 September 2005 16:54, Renaud Richardet wrote:
> Hello,
> 
> From our understanding, Lucene uses the Unix Epoch (Jan 1, 1970) and
> there are conflicts with dates that pass this line. For one of our
> projects, we will need to be able to move past Jan 1, 1970 date as far
> as 1857.
> 
> Is there any workaround this?

One way is to index the date as a string YYYYMMDD.

Regards,
Paul Elschot


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16641-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 28 15:12:29 2005
Return-Path: <java-user-return-16641-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95452 invoked from network); 28 Sep 2005 15:12:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Sep 2005 15:12:29 -0000
Received: (qmail 32656 invoked by uid 500); 28 Sep 2005 15:12:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 32635 invoked by uid 500); 28 Sep 2005 15:12:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 32622 invoked by uid 99); 28 Sep 2005 15:12:23 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Sep 2005 08:12:23 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [12.40.184.222] (HELO mail2.intranetsolutions.com) (12.40.184.222)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Sep 2005 08:12:28 -0700
Received: from [10.10.20.20] ([10.10.20.20]) by mail2.intranetsolutions.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Wed, 28 Sep 2005 10:11:58 -0500
Subject: Re: indexing documents from 1857
From: Luke Francl <luke.francl@stellent.com>
To: java-user@lucene.apache.org
In-Reply-To: <433AAE8E.6090707@wyona.com>
References: <433AAE8E.6090707@wyona.com>
Content-Type: text/plain
Message-Id: <1127920308.9511.1.camel@localhost>
Mime-Version: 1.0
X-Mailer: Ximian Evolution 1.4.6 
Date: Wed, 28 Sep 2005 10:11:48 -0500
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 28 Sep 2005 15:11:59.0065 (UTC) FILETIME=[F8C5B490:01C5C43E]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Index your dates as strings (yyyymmdd). 

This works better anyway because range searches work over a wider range
of dates than when you index the full precision.

On Wed, 2005-09-28 at 09:54, Renaud Richardet wrote:
> Hello,
> 
> From our understanding, Lucene uses the Unix Epoch (Jan 1, 1970) and
> there are conflicts with dates that pass this line. For one of our
> projects, we will need to be able to move past Jan 1, 1970 date as far
> as 1857.
> 
> Is there any workaround this?
> 
> Thanks,
> Renaud


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16642-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 28 15:18:37 2005
Return-Path: <java-user-return-16642-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98999 invoked from network); 28 Sep 2005 15:18:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Sep 2005 15:18:36 -0000
Received: (qmail 45791 invoked by uid 500); 28 Sep 2005 15:18:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45727 invoked by uid 500); 28 Sep 2005 15:18:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45689 invoked by uid 99); 28 Sep 2005 15:18:23 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Sep 2005 08:18:23 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of renaud.richardet@wyona.com designates 195.226.6.68 as permitted sender)
Received: from [195.226.6.68] (HELO mx1.wyona.com) (195.226.6.68)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Sep 2005 08:18:28 -0700
Received: from pool-151-203-213-195.bos.east.verizon.net ([151.203.213.195] helo=[192.168.1.123])
	by mx1.wyona.com with asmtp (Exim 3.35 #1 (Debian))
	id 1EKdh0-0006wH-00
	for <java-user@lucene.apache.org>; Wed, 28 Sep 2005 17:17:58 +0200
Message-ID: <433AB424.10202@wyona.com>
Date: Wed, 28 Sep 2005 11:17:56 -0400
From: Renaud Richardet <renaud.richardet@wyona.com>
User-Agent: Mozilla Thunderbird 1.0.6 (X11/20050912)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: indexing documents from 1857
References: <433AAE8E.6090707@wyona.com> <1127920308.9511.1.camel@localhost>
In-Reply-To: <1127920308.9511.1.camel@localhost>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello Luke, hello Paul

Thanks for your quick response!

Best,
Renaud


Luke Francl wrote:

>Index your dates as strings (yyyymmdd). 
>
>This works better anyway because range searches work over a wider range
>of dates than when you index the full precision.
>
>On Wed, 2005-09-28 at 09:54, Renaud Richardet wrote:
>  
>
>>Hello,
>>
>>>From our understanding, Lucene uses the Unix Epoch (Jan 1, 1970) and
>>there are conflicts with dates that pass this line. For one of our
>>projects, we will need to be able to move past Jan 1, 1970 date as far
>>as 1857.
>>
>>Is there any workaround this?
>>
>>Thanks,
>>Renaud
>>    
>>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>  
>


-- 
Renaud Richardet
COO America
Wyona Inc.  -   Open Source Content Management   -   Apache Lenya
office +1 857 776-3195                     mobile +1 617 230 9112
renaud.richardet@wyona.com                   http://www.wyona.com


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16643-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 28 15:53:16 2005
Return-Path: <java-user-return-16643-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13731 invoked from network); 28 Sep 2005 15:53:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Sep 2005 15:53:15 -0000
Received: (qmail 95955 invoked by uid 500); 28 Sep 2005 15:53:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95930 invoked by uid 500); 28 Sep 2005 15:53:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95917 invoked by uid 99); 28 Sep 2005 15:53:11 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Sep 2005 08:53:11 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [192.35.35.7] (HELO mailgw3a.lmco.com) (192.35.35.7)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Sep 2005 08:53:13 -0700
Received: from emss04g01.ems.lmco.com (relay4.ems.lmco.com [166.17.13.122])
	by mailgw3a.lmco.com (8.12.10/8.12.10) with ESMTP id j8SF4HXk013921
	for <java-user@lucene.apache.org>; Wed, 28 Sep 2005 11:52:42 -0400 (EDT)
Received: from CONVERSION-DAEMON.lmco.com by lmco.com (PMDF V6.1-1X6 #30884)
 id <0INJ00G0187HY7@lmco.com> for java-user@lucene.apache.org; Wed, 28 Sep 2005 10:57:17 -0400 (EDT)
Received: from EMSS10M01.us.lmco.com ([158.187.0.150]) by lmco.com (PMDF V6.1-1X6 #30884)
 with ESMTP id <0INJ002HZ87HUO@lmco.com> for java-user@lucene.apache.org; Wed, 28 Sep 2005 10:57:17 -0400 (EDT)
Received: from EMSS10M03.us.lmco.com ([158.187.0.148]) by EMSS10M01.us.lmco.com with Microsoft SMTPSVC(5.0.2195.6713); Wed,
 28 Sep 2005 10:57:17 -0400
Date: Wed, 28 Sep 2005 10:57:17 -0400
From: "Mordo, Aviran (EXP N-NANNATEK)" <aviran.mordo@lmco.com>
Subject: RE: indexing documents from 1857
To: java-user@lucene.apache.org
Message-id: <92A278501EF50444AD3EE1FFB51219550BCE397D@emss10m03.rck.atm.lmco.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft Exchange V6.0.6603.0
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT
Thread-Topic: indexing documents from 1857
Thread-Index: AcXEPJP1SnztW4vaQOqxFlTQSg+e7gAABvpw
content-class: urn:content-classes:message
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
X-OriginalArrivalTime: 28 Sep 2005 14:57:17.0542 (UTC) FILETIME=[EB57F860:01C5C43C]
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Since lucene works only with strings, you can simply write your own
string representation of the date (simple yyyymmdd would work just fine)

HTH

Aviran
http://www.aviransplace.com

-----Original Message-----
From: Renaud Richardet [mailto:renaud.richardet@wyona.com] 
Sent: Wednesday, September 28, 2005 10:54 AM
To: Lucene Users List
Subject: indexing documents from 1857

Hello,

>From our understanding, Lucene uses the Unix Epoch (Jan 1, 1970) and
there are conflicts with dates that pass this line. For one of our
projects, we will need to be able to move past Jan 1, 1970 date as far
as 1857.

Is there any workaround this?

Thanks,
Renaud

--
Renaud Richardet
COO America
Wyona Inc.  -   Open Source Content Management   -   Apache Lenya
office +1 857 776-3195                     mobile +1 617 230 9112
renaud.richardet@wyona.com                   http://www.wyona.com


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16644-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 28 16:34:10 2005
Return-Path: <java-user-return-16644-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 29969 invoked from network); 28 Sep 2005 16:34:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Sep 2005 16:34:09 -0000
Received: (qmail 75806 invoked by uid 500); 28 Sep 2005 16:34:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75778 invoked by uid 500); 28 Sep 2005 16:34:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75764 invoked by uid 99); 28 Sep 2005 16:34:03 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Sep 2005 09:34:03 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Sep 2005 09:34:06 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 72C3B13E2005; Wed, 28 Sep 2005 12:33:36 -0400 (EDT)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 372E213E2007
	for <java-user@lucene.apache.org>; Wed, 28 Sep 2005 12:32:59 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <433AAE8E.6090707@wyona.com>
References: <433AAE8E.6090707@wyona.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <BD352DC3-E752-4191-9C7D-E4FB5807E824@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: indexing documents from 1857
Date: Wed, 28 Sep 2005 12:32:57 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-3.8 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Sep 28, 2005, at 10:54 AM, Renaud Richardet wrote:

> Hello,
>
>
>> From our understanding, Lucene uses the Unix Epoch (Jan 1, 1970) and
>>
> there are conflicts with dates that pass this line. For one of our
> projects, we will need to be able to move past Jan 1, 1970 date as far
> as 1857.
>
> Is there any workaround this?

I'd be in big trouble if Lucene couldn't handle dates in the  
1850's :)  My life revolves around 19th century literature at http:// 
www.nines.org where I'm building the "Google of 19th century  
literature".  I hope to have a working system deployed in the next  
few weeks.  I've got development prototypes with faceted browsing  
(much like the CNET interface, as well as like the cool Flamenco  
interface) along with full-text search.

To echo what others have said... index years as a String YYYY if only  
years are relevant, or YYYYMM if you need months, or YYYYMMDD if you  
need full dates.

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16645-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 28 17:23:14 2005
Return-Path: <java-user-return-16645-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 46125 invoked from network); 28 Sep 2005 17:23:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Sep 2005 17:23:13 -0000
Received: (qmail 38414 invoked by uid 500); 28 Sep 2005 17:23:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 38393 invoked by uid 500); 28 Sep 2005 17:23:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 38380 invoked by uid 99); 28 Sep 2005 17:23:07 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Sep 2005 10:23:07 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [207.115.63.102] (HELO pimout3-ext.prodigy.net) (207.115.63.102)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Sep 2005 10:23:13 -0700
X-ORBL: [63.202.22.109]
Received: from [192.168.168.81] (adsl-63-202-22-109.dsl.snfc21.pacbell.net [63.202.22.109])
	by pimout3-ext.prodigy.net (8.13.4 outbound domainkey aix/8.13.4) with ESMTP id j8SHMYMD134792;
	Wed, 28 Sep 2005 13:22:39 -0400
Message-ID: <433AD15A.8020101@apache.org>
Date: Wed, 28 Sep 2005 10:22:34 -0700
From: Doug Cutting <cutting@apache.org>
User-Agent: Mozilla Thunderbird 1.0.6-1.1.fc3 (X11/20050720)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: A very technical question.
References: <433AA7AD.3070204@cs.put.poznan.pl>
In-Reply-To: <433AA7AD.3070204@cs.put.poznan.pl>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Dawid Weiss wrote:
> I have a very technical question. I need to alter document score (or in 
> fact: document boosts) for an existing index, but for each query. In 
> other words, I'd like these to have pseudo-queries of the form:
> 
> 1. civil war PREFER:shorter
> 2. civil war PREFER:longer
> 
> for these two queries, 1. would score shorter documents higher then 
> option 2, which would in turn score longer documents higher. Note that 
> these preferences can be expressed at query time, so static document 
> boosts are of little help.

You could subclass FilterIndexReader and override the norms() method to 
cook the values in the returned array, caching the cooked copy.  Then 
use different IndexReaders for different queries, each cooking the norms 
differently.  Cooking could be fast: compute a 256 byte table and use it 
to map each byte to its cooked value.  Does this make sense?

Doug

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16646-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Sep 28 18:05:24 2005
Return-Path: <java-user-return-16646-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16080 invoked from network); 28 Sep 2005 18:05:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 28 Sep 2005 18:05:24 -0000
Received: (qmail 95880 invoked by uid 500); 28 Sep 2005 18:05:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95861 invoked by uid 500); 28 Sep 2005 18:05:18 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95848 invoked by uid 500); 28 Sep 2005 18:05:18 -0000
Delivered-To: apmail-jakarta-lucene-user@jakarta.apache.org
Received: (qmail 95845 invoked by uid 99); 28 Sep 2005 18:05:18 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Sep 2005 11:05:18 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [147.83.41.105] (HELO mail.fib.upc.es) (147.83.41.105)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Sep 2005 11:05:24 -0700
Received: from [147.83.58.160] (tarragona.fib.upc.es [147.83.58.160])
	by mail.fib.upc.es (Postfix) with ESMTP id 0BC5C1BB98
	for <lucene-user@jakarta.apache.org>; Wed, 28 Sep 2005 20:04:52 +0200 (CEST)
Message-ID: <433ADB43.2020801@fib.upc.edu>
Date: Wed, 28 Sep 2005 20:04:51 +0200
From: Daniel Cortes <dcortes@fib.upc.edu>
Organization: FIB
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: Problem in close
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Scaned-FIB: AntiVirus/AntiSpam en fib.upc.es
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi everybody, 
I have a little problem when I close my index writer, but I think that 
this error not appears everytime in my logs.
Someone have any idea about this?


java.lang.IndexOutOfBoundsException: Index: 56, Size: 12
        at java.util.ArrayList.RangeCheck(ArrayList.java:507)
        at java.util.ArrayList.get(ArrayList.java:324)
        at 
org.apache.lucene.index.FieldInfos.fieldInfo(FieldInfos.java:155)
        at org.apache.lucene.index.FieldsReader.doc(FieldsReader.java:66)
        at 
org.apache.lucene.index.SegmentReader.document(SegmentReader.java:237)
        at 
org.apache.lucene.index.SegmentMerger.mergeFields(SegmentMerger.java:185)
        at 
org.apache.lucene.index.SegmentMerger.merge(SegmentMerger.java:92)
        at 
org.apache.lucene.index.IndexWriter.mergeSegments(IndexWriter.java:487)
        at 
org.apache.lucene.index.IndexWriter.optimize(IndexWriter.java:366)
        at ecat.tools.indexation.RebuildJob.closeWriter(RebuildJob.java:359)

thks for all.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16647-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 29 06:41:36 2005
Return-Path: <java-user-return-16647-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55589 invoked from network); 29 Sep 2005 06:41:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Sep 2005 06:41:36 -0000
Received: (qmail 22618 invoked by uid 500); 29 Sep 2005 06:41:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22589 invoked by uid 500); 29 Sep 2005 06:41:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22576 invoked by uid 99); 29 Sep 2005 06:41:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Sep 2005 23:41:30 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.179.233.113] (HELO acusis.com) (66.179.233.113)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 28 Sep 2005 23:41:35 -0700
Received: from Manish [61.246.221.29] by acusis.com with ESMTP
  (SMTPD-8.20) id AEF103D4; Thu, 29 Sep 2005 02:51:29 -0400
From: =?iso-8859-1?Q?M_=E5_n_i_s_h_?= <manish.chowdhary@acusis.com>
To: <java-user@lucene.apache.org>
Subject: Getting index lock while indexing
Date: Thu, 29 Sep 2005 12:11:03 +0530
Message-ID: <037c01c5c4c0$c4da1a40$8400a8c0@AcusisBlr.lan>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.6626
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.3790.1830
Importance: Normal
In-Reply-To: <92A278501EF50444AD3EE1FFB51219550BCE397B@emss10m03.rck.atm.lmco.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Hi,
I am having trouble indexing files sometimes,
My application is deployed in tomcat and some times when I try to stop =
and
restart indexing I am getting index lock exception.
Lucene is creating one lock file in temp folder of tomcat , If I delete =
that
folder it starts working again.

Can any body help.



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16648-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 29 09:43:05 2005
Return-Path: <java-user-return-16648-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17820 invoked from network); 29 Sep 2005 09:43:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Sep 2005 09:43:04 -0000
Received: (qmail 27392 invoked by uid 500); 29 Sep 2005 09:42:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27314 invoked by uid 500); 29 Sep 2005 09:42:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27283 invoked by uid 99); 29 Sep 2005 09:42:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Sep 2005 02:42:55 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=HTML_20_30,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of andy.kishore@gmail.com designates 64.233.184.192 as permitted sender)
Received: from [64.233.184.192] (HELO wproxy.gmail.com) (64.233.184.192)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Sep 2005 02:43:00 -0700
Received: by wproxy.gmail.com with SMTP id 70so40183wra
        for <java-user@lucene.apache.org>; Thu, 29 Sep 2005 02:42:32 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:mime-version:content-type;
        b=LxS+7HzrSmCvCCKkMKT2j6zrPMVMUkYjS+gdNcMzzWGUu2sEOJgLJTjJR7u647r85JKl1vRzUfiRgIjbXFfBo/f1p0Q3IXtqWCW2XzwcKymR/oehPoHfpindasq0WcDMSjwdGuqfKuucqIQKhV67OeyB03D6zBS1w8A5Fuo0GgE=
Received: by 10.54.117.17 with SMTP id p17mr436933wrc;
        Thu, 29 Sep 2005 02:42:32 -0700 (PDT)
Received: by 10.54.82.6 with HTTP; Thu, 29 Sep 2005 02:42:32 -0700 (PDT)
Message-ID: <1036df9405092902425eeba6b3@mail.gmail.com>
Date: Thu, 29 Sep 2005 15:12:32 +0530
From: Anand Kishore <andy.kishore@gmail.com>
Reply-To: Anand Kishore <andy.kishore@gmail.com>
To: java-user@lucene.apache.org
Subject: Boosting a subquery
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_1767_19521183.1127986952897"
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_1767_19521183.1127986952897
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Hi,
 LIA has info about boosting terms and/or fields but how do I go about
boosting an entire bracketed subquery. For example: if I have a query
consisting of 2 subqueries like:
(xyz:AAA OR qwe:BBB) OR (xyz:CCC OR zxc:DDD)
 I want to boost subquery1 so that documents are ranked accordingly.

--
- Andy

------=_Part_1767_19521183.1127986952897--

From java-user-return-16649-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 29 10:46:23 2005
Return-Path: <java-user-return-16649-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 42693 invoked from network); 29 Sep 2005 10:46:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Sep 2005 10:46:22 -0000
Received: (qmail 36413 invoked by uid 500); 29 Sep 2005 10:46:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36312 invoked by uid 500); 29 Sep 2005 10:46:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 36245 invoked by uid 99); 29 Sep 2005 10:46:14 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Sep 2005 03:46:14 -0700
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=FORGED_RCVD_HELO
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [194.30.193.29] (HELO deliver.hol.gr) (194.30.193.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Sep 2005 03:46:19 -0700
Received: from auth-smtp.hol.gr (takeit01.mail.dc.hol.net [192.168.20.71])
	by deliver.hol.gr (8.12.11/8.11.6) with ESMTP id j8T9jomj020050
	(using TLSv1/SSLv3 with cipher DHE-RSA-AES256-SHA (256 bits) verified OK)
	for <java-user@lucene.apache.org>; Thu, 29 Sep 2005 12:45:50 +0300
Received: from [192.168.0.6] (static216015.dsl.hol.gr [62.38.216.16])
	by auth-smtp.hol.gr (8.13.1/8.12.11) with ESMTP id j8TAjn9T006566
	for <java-user@lucene.apache.org>; Thu, 29 Sep 2005 13:45:50 +0300
Message-ID: <433BC5DB.4010208@eworx.gr>
Date: Thu, 29 Sep 2005 13:45:47 +0300
From: John Cherouvim <jc@eworx.gr>
User-Agent: Mozilla Thunderbird 0.9 (Windows/20041103)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: lucene and UTF-8
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Scanned: ClamAV 0.83/1102/Sun Sep 25 17:04:56 2005 on takeit01.mail.dc.hol.net
X-Virus-Status: Clean
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello

I'm having some problems indexing my UTF-8 html pages. I am running 
lucene on Linux and I cannot understand why does the index generated 
depends on the locale of my operating system.
If I do set | grep LANG I get: LANG=el_GR which is Greek. If I set this 
to en_US the index generated will be different. Why is this the case? My 
HTMLs are all UTF-8.

Also, is there a lucene index browser? I am currently using Luke, which 
is good but it doesn't show the Greek UTF-8 from within the index 
correctly. Is this a matter of a setting in Luke?

Regads,
J.



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16650-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 29 10:55:06 2005
Return-Path: <java-user-return-16650-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44265 invoked from network); 29 Sep 2005 10:55:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Sep 2005 10:55:06 -0000
Received: (qmail 44165 invoked by uid 500); 29 Sep 2005 10:55:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44133 invoked by uid 500); 29 Sep 2005 10:55:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44120 invoked by uid 99); 29 Sep 2005 10:55:01 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Sep 2005 03:55:01 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [130.159.196.96] (HELO smtphost.cis.strath.ac.uk) (130.159.196.96)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Sep 2005 03:55:06 -0700
Received: from [130.159.185.52] (ws-murat.cis.strath.ac.uk [130.159.185.52])
	by smtphost.cis.strath.ac.uk (8.13.4/8.13.3/Debian-6) with ESMTP id j8TAsWe2005193
	for <java-user@lucene.apache.org>; Thu, 29 Sep 2005 11:54:32 +0100
Message-ID: <433BC7E8.1080003@cis.strath.ac.uk>
Date: Thu, 29 Sep 2005 11:54:32 +0100
From: Murat Yakici <Murat.Yakici@cis.strath.ac.uk>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.3) Gecko/20040910
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Mirroring a remote index using only metadata
References: <433AAE8E.6090707@wyona.com> <1127920308.9511.1.camel@localhost>
In-Reply-To: <1127920308.9511.1.camel@localhost>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-CIS-MailScanner: Found to be clean
X-CIS-MailScanner-SpamCheck: not spam (whitelisted),
	SpamAssassin (score=0.065, required 6, autolearn=disabled, AWL 0.07)
X-CIS-MailScanner-From: murat@cis.strath.ac.uk
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hi,

Let's assume that there is one remote index and one local index. I would 
like to create a mirror of the remote locally. I'm using a kind of 
protocol in between (which is not important) to only transfer each 
document ID, the unique terms in the document and the frequencies. Right 
now I'm not interested in the term position information.

What is the best way to create/update the local index given only the 
above metadata?

The very simplest idea is (and a bit silly though)  to use 
Document-Field classes on the surface which is given by the Lucene API

For each document and
	For each term unique term in the document
		Add the term to the field by the number of time 				indicated by the 
frequency

Is there another way to achieve this without creating a big mess in the 
Lucene design?(such as using a low level class)

Cheers,
Murat

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16651-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 29 11:07:24 2005
Return-Path: <java-user-return-16651-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 47900 invoked from network); 29 Sep 2005 11:07:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Sep 2005 11:07:24 -0000
Received: (qmail 57464 invoked by uid 500); 29 Sep 2005 11:07:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 57386 invoked by uid 500); 29 Sep 2005 11:07:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 57356 invoked by uid 99); 29 Sep 2005 11:07:17 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Sep 2005 04:07:16 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [85.118.4.17] (HELO snorlax.uk.scalix.com) (85.118.4.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Sep 2005 04:07:21 -0700
Received: from snorlax.uk.scalix.com (localhost.localdomain [127.0.0.1])
	by snorlax.uk.scalix.com (8.12.11/8.12.11) with ESMTP id j8TB6q2D023370
	for <java-user@lucene.apache.org>; Thu, 29 Sep 2005 12:06:52 +0100
Received: from snorlax.uk.scalix.com (root@localhost)
	by snorlax.uk.scalix.com (8.12.11/8.12.11/Submit) with ESMTP id j8TB6qhf023366
	for <java-user@lucene.apache.org>; Thu, 29 Sep 2005 12:06:52 +0100
Received: from [10.11.108.231] (snorlax.uk.scalix.com 10.11.108.216)
    by snorlax.uk.scalix.com (Scalix SMTP Relay 10.0.0.92-alpha)
    via ESMTP; Thu, 29 Sep 2005 12:06:51 +0100 (BST)
Date: Thu, 29 Sep 2005 12:06:50 +0100
From: John Haxby <jch@scalix.com>
To: java-user@lucene.apache.org
Message-ID: <433BCACA.9070506@scalix.com>
In-Reply-To: <433BC5DB.4010208@eworx.gr>
References: <433BC5DB.4010208@eworx.gr>
Subject: Re: lucene and UTF-8
x-scalix-Hops: 1
User-Agent: Mozilla Thunderbird 1.0.6-1.4.1 (X11/20050719)
X-Accept-Language: en-us, en
MIME-Version: 1.0
Content-Type: text/plain;
	charset="UTF-8";
	format="flowed"
Content-Transfer-Encoding: 8bit
Content-Disposition: inline
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

John Cherouvim wrote:

> I'm having some problems indexing my UTF-8 html pages. I am running 
> lucene on Linux and I cannot understand why does the index generated 
> depends on the locale of my operating system.
> If I do set | grep LANG I get: LANG=el_GR which is Greek. If I set 
> this to en_US the index generated will be different. Why is this the 
> case? My HTMLs are all UTF-8.

What verison of Linux are you using?

On Fedora Core 4 (and probably other Fedora's and RHEL)  LANG=el_GR sets 
the character set to ISO 8859-7, eg (on my various machines):

    $ LANG=en_GR date | iconv -f iso88597
    Î ÎµÎ¼ Î£ÎµÏ 29 11:59:19 BST 2005
    $ LANG=el_GR.utf8 date
    Î ÎµÎ¼ Î£ÎµÏ 29 12:01:40 BST 2005

(Everything in FC4 is UTF-8 so it displays right and it seems that the 
Greek for "Sep" is "Sep" -- no surprises there I guess.)

In your case, replacing "date" with whatever the command is that you use 
to generate the indexes should do the right thing.

jch

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16652-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 29 11:29:50 2005
Return-Path: <java-user-return-16652-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60385 invoked from network); 29 Sep 2005 11:29:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Sep 2005 11:29:50 -0000
Received: (qmail 88243 invoked by uid 500); 29 Sep 2005 11:29:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88164 invoked by uid 500); 29 Sep 2005 11:29:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88144 invoked by uid 99); 29 Sep 2005 11:29:39 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Sep 2005 04:29:39 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.44.16.11] (HELO getopt.org) (69.44.16.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Sep 2005 04:29:43 -0700
Received: from [192.168.101.246] ([213.80.34.34])
	(authenticated)
	by getopt.org (8.11.6/8.11.6) with ESMTP id j8TBTKT28879
	for <java-user@lucene.apache.org>; Thu, 29 Sep 2005 06:29:21 -0500
Message-ID: <433BD00A.4010704@getopt.org>
Date: Thu, 29 Sep 2005 13:29:14 +0200
From: Andrzej Bialecki <ab@getopt.org>
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: lucene and UTF-8
References: <433BC5DB.4010208@eworx.gr>
In-Reply-To: <433BC5DB.4010208@eworx.gr>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

John Cherouvim wrote:
> Hello
> 
> I'm having some problems indexing my UTF-8 html pages. I am running 
> lucene on Linux and I cannot understand why does the index generated 
> depends on the locale of my operating system.
> If I do set | grep LANG I get: LANG=el_GR which is Greek. If I set this 
> to en_US the index generated will be different. Why is this the case? My 
> HTMLs are all UTF-8.

I think the difference comes from the default character encoding, if the 
page is NOT clearly marked as UTF-8 - then the system has to guess, and 
it guesses differently depending on the current locale.

> 
> Also, is there a lucene index browser? I am currently using Luke, which 
> is good but it doesn't show the Greek UTF-8 from within the index 
> correctly. Is this a matter of a setting in Luke?

It's a matter of setting the appropriate font in Settings.

-- 
Best regards,
Andrzej Bialecki     <><
  ___. ___ ___ ___ _ _   __________________________________
[__ || __|__/|__||\/|  Information Retrieval, Semantic Web
___|||__||  \|  ||  |  Embedded Unix, System Integration
http://www.sigram.com  Contact: info at sigram dot com


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16653-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 29 12:34:53 2005
Return-Path: <java-user-return-16653-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82612 invoked from network); 29 Sep 2005 12:34:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Sep 2005 12:34:53 -0000
Received: (qmail 52827 invoked by uid 500); 29 Sep 2005 12:34:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 52790 invoked by uid 500); 29 Sep 2005 12:34:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 52776 invoked by uid 99); 29 Sep 2005 12:34:47 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Sep 2005 05:34:47 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [212.8.42.126] (HELO jdevoff.zssm.zp.ua) (212.8.42.126)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Sep 2005 05:34:52 -0700
Received: from jdevoff.zssm.zp.ua (localhost [127.0.0.1])
	by jdevoff.zssm.zp.ua (8.13.3/8.13.3) with ESMTP id j8TCYJ23026712
	for <java-user@lucene.apache.org>; Thu, 29 Sep 2005 15:34:19 +0300 (EEST)
	(envelope-from eugenydzh@jdevelop.com)
Received: (from bofh@localhost)
	by jdevoff.zssm.zp.ua (8.13.3/8.13.3/Submit) id j8TCYJ47026711
	for java-user@lucene.apache.org; Thu, 29 Sep 2005 15:34:19 +0300 (EEST)
	(envelope-from eugenydzh@jdevelop.com)
X-Authentication-Warning: jdevoff.zssm.zp.ua: bofh set sender to eugenydzh@jdevelop.com using -f
Date: Thu, 29 Sep 2005 15:34:19 +0300
From: Eugeny N Dzhurinsky <eugenydzh@jdevelop.com>
To: java-user@lucene.apache.org
Subject: Lucene vs SQL database
Message-ID: <20050929123419.GA26688@jdevoff.zssm.zp.ua>
Mime-Version: 1.0
Content-Type: text/plain; charset=koi8-r
Content-Disposition: inline
User-Agent: Mutt/1.5.11
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Is there any way to use the contents of the SQL database as source for Lucene
search engine? Is there any example applications or workarounds to do that?

-- 
Eugene N Dzhurinsky

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16654-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 29 12:40:20 2005
Return-Path: <java-user-return-16654-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84685 invoked from network); 29 Sep 2005 12:40:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Sep 2005 12:40:20 -0000
Received: (qmail 58543 invoked by uid 500); 29 Sep 2005 12:40:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58508 invoked by uid 500); 29 Sep 2005 12:40:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58495 invoked by uid 99); 29 Sep 2005 12:40:15 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Sep 2005 05:40:15 -0700
X-ASF-Spam-Status: No, hits=0.1 required=10.0
	tests=HTML_30_40,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of george.abraham.lucene@gmail.com designates 72.14.204.207 as permitted sender)
Received: from [72.14.204.207] (HELO qproxy.gmail.com) (72.14.204.207)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Sep 2005 05:40:21 -0700
Received: by qproxy.gmail.com with SMTP id o38so970qbe
        for <java-user@lucene.apache.org>; Thu, 29 Sep 2005 05:39:53 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=LXG5TTs67GdW1lAwFXR09h1/t19dli0kA2umcq5A9SldtaSHiLaeUtWxirn7mqajv4ef9B2PmiLWaGX5Y9wKq48YjdOWC5JZynchQEeXJOMFSvu07NyUduWfksUcsPKqKdDSbB2BKfTk2vyqRqtlmyKWjsfPInVeVfFrbjuM/44=
Received: by 10.64.204.1 with SMTP id b1mr322365qbg;
        Thu, 29 Sep 2005 05:39:53 -0700 (PDT)
Received: by 10.64.183.20 with HTTP; Thu, 29 Sep 2005 05:39:53 -0700 (PDT)
Message-ID: <9ba0336c05092905395a76099a@mail.gmail.com>
Date: Thu, 29 Sep 2005 08:39:53 -0400
From: George Abraham <george.abraham.lucene@gmail.com>
Reply-To: George Abraham <george.abraham.lucene@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Lucene vs SQL database
In-Reply-To: <20050929123419.GA26688@jdevoff.zssm.zp.ua>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_2861_14380211.1127997593026"
References: <20050929123419.GA26688@jdevoff.zssm.zp.ua>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_2861_14380211.1127997593026
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline

Eugene,
You could grab all the fields for a record in a SQL database, mash it all
together and transfer it into one indexing field in Lucene. Use some
scripting tools (or even JDBC and Java) to do this. However if you are
asking if Lucene can go and look over a SQL database and return results,
that would not work. Lucene has to index the database fields first. The
indexing would happen with the first two sentences of my post.

HTH,
George

On 9/29/05, Eugeny N Dzhurinsky <eugenydzh@jdevelop.com> wrote:
>
> Is there any way to use the contents of the SQL database as source for
> Lucene
> search engine? Is there any example applications or workarounds to do
> that?
>
> --
> Eugene N Dzhurinsky
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

------=_Part_2861_14380211.1127997593026--

From java-user-return-16655-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 29 12:46:36 2005
Return-Path: <java-user-return-16655-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 87181 invoked from network); 29 Sep 2005 12:46:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Sep 2005 12:46:36 -0000
Received: (qmail 67835 invoked by uid 500); 29 Sep 2005 12:46:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 67663 invoked by uid 500); 29 Sep 2005 12:46:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 67649 invoked by uid 99); 29 Sep 2005 12:46:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Sep 2005 05:46:30 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [216.176.57.91] (HELO mail.bayt.net) (216.176.57.91)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Sep 2005 05:46:35 -0700
Received: from [192.168.1.24] [213.132.40.2] by mail.bayt.net with ESMTP
  (SMTPD32-8.15) id A51043F40032; Thu, 29 Sep 2005 08:58:56 -0400
Message-ID: <433BE20C.4060209@bayt.net>
Date: Thu, 29 Sep 2005 16:46:04 +0400
From: Nader Henein <nsh@bayt.net>
Reply-To:  nsh@bayt.net
Organization: Bayt.com
User-Agent: Mozilla Thunderbird 1.0 (Windows/20041206)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To:  java-user@lucene.apache.org
Subject: Re: Lucene vs SQL database
References: <20050929123419.GA26688@jdevoff.zssm.zp.ua> <9ba0336c05092905395a76099a@mail.gmail.com>
In-Reply-To: <9ba0336c05092905395a76099a@mail.gmail.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Declude-Sender: nsh@bayt.net [192.168.1.24]
X-Declude-Spoolname: De50f43f40032989d.SMD
X-Declude-Note: Scanned by Declude 1.82 (http://www.declude.com/x-note.htm) for spam.
X-Declude-Scan: Score [0] at 08:58:57 on 29 Sep 2005
X-Declude-Tests: Whitelisted
X-Country-Chain: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

You can use something like hibernate to load the database tables into 
java objects and then load them into Lucene Documents, fast and dirty 
will take you a few hours to code, but if you're going the distance a 
couple of days should do the trick.

Nader Henein

George Abraham wrote:

>Eugene,
>You could grab all the fields for a record in a SQL database, mash it all
>together and transfer it into one indexing field in Lucene. Use some
>scripting tools (or even JDBC and Java) to do this. However if you are
>asking if Lucene can go and look over a SQL database and return results,
>that would not work. Lucene has to index the database fields first. The
>indexing would happen with the first two sentences of my post.
>
>HTH,
>George
>
>On 9/29/05, Eugeny N Dzhurinsky <eugenydzh@jdevelop.com> wrote:
>  
>
>>Is there any way to use the contents of the SQL database as source for
>>Lucene
>>search engine? Is there any example applications or workarounds to do
>>that?
>>
>>--
>>Eugene N Dzhurinsky
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>>    
>>
>
>  
>

-- 
Nader S. Henein
Senior Applications Architect
Bayt Technologies

*****************************
Bayt.com
Dubai Internet City
Building 2, Office 314
P.O. Box 500245
Tel.  +971 4  3911900
Dir.  +971 4  3613675
Cell. +971 50 5659557


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16656-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 29 12:46:59 2005
Return-Path: <java-user-return-16656-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 87313 invoked from network); 29 Sep 2005 12:46:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Sep 2005 12:46:58 -0000
Received: (qmail 68779 invoked by uid 500); 29 Sep 2005 12:46:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68760 invoked by uid 500); 29 Sep 2005 12:46:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68747 invoked by uid 99); 29 Sep 2005 12:46:52 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Sep 2005 05:46:52 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [212.8.42.126] (HELO jdevoff.zssm.zp.ua) (212.8.42.126)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Sep 2005 05:46:58 -0700
Received: from jdevoff.zssm.zp.ua (localhost [127.0.0.1])
	by jdevoff.zssm.zp.ua (8.13.3/8.13.3) with ESMTP id j8TCkOO0026762
	for <java-user@lucene.apache.org>; Thu, 29 Sep 2005 15:46:25 +0300 (EEST)
	(envelope-from eugenydzh@jdevelop.com)
Received: (from bofh@localhost)
	by jdevoff.zssm.zp.ua (8.13.3/8.13.3/Submit) id j8TCkON8026761
	for java-user@lucene.apache.org; Thu, 29 Sep 2005 15:46:24 +0300 (EEST)
	(envelope-from eugenydzh@jdevelop.com)
X-Authentication-Warning: jdevoff.zssm.zp.ua: bofh set sender to eugenydzh@jdevelop.com using -f
Date: Thu, 29 Sep 2005 15:46:24 +0300
From: Eugeny N Dzhurinsky <eugenydzh@jdevelop.com>
To: java-user@lucene.apache.org
Subject: Re: Lucene vs SQL database
Message-ID: <20050929124624.GB26688@jdevoff.zssm.zp.ua>
References: <20050929123419.GA26688@jdevoff.zssm.zp.ua> <9ba0336c05092905395a76099a@mail.gmail.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=koi8-r
Content-Disposition: inline
In-Reply-To: <9ba0336c05092905395a76099a@mail.gmail.com>
User-Agent: Mutt/1.5.11
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Thu, Sep 29, 2005 at 08:39:53AM -0400, George Abraham wrote:
> Eugene,
> You could grab all the fields for a record in a SQL database, mash it all
> together and transfer it into one indexing field in Lucene. Use some
> scripting tools (or even JDBC and Java) to do this. However if you are
> asking if Lucene can go and look over a SQL database and return results,
> that would not work. Lucene has to index the database fields first. The
> indexing would happen with the first two sentences of my post.

Integersting. We have some kind of set of privileges, required to access the
object (let's say rows in table(s)), I thought if it is possible to use 
kind of "injection" of access control statement to SQL query for extraction
of only allowed data... But if Lucene needs to index anything, how could I 
define the access privileges for data?

-- 
Eugene N Dzhurinsky

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16657-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 29 12:51:12 2005
Return-Path: <java-user-return-16657-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 89707 invoked from network); 29 Sep 2005 12:51:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Sep 2005 12:51:12 -0000
Received: (qmail 75845 invoked by uid 500); 29 Sep 2005 12:51:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75824 invoked by uid 500); 29 Sep 2005 12:51:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75810 invoked by uid 99); 29 Sep 2005 12:51:06 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Sep 2005 05:51:06 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [150.254.30.30] (HELO libra.cs.put.poznan.pl) (150.254.30.30)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Sep 2005 05:51:13 -0700
Received: from libra.cs.put.poznan.pl (localhost [127.0.0.1])
	by libra (Postfix on VMS) with SMTP id 423983B7C
	for <java-user@lucene.apache.org>; Thu, 29 Sep 2005 14:50:44 +0200 (CEST)
Received: from [150.254.130.24] (idss-dw.cs.put.poznan.pl [150.254.130.24])
	by libra.cs.put.poznan.pl (Postfix on VMS) with ESMTP id 11E003B6E
	for <java-user@lucene.apache.org>; Thu, 29 Sep 2005 14:50:44 +0200 (CEST)
Message-ID: <433BE2D1.6080002@cs.put.poznan.pl>
Date: Thu, 29 Sep 2005 14:49:21 +0200
From: Dawid Weiss <dawid.weiss@cs.put.poznan.pl>
User-Agent: Mozilla Thunderbird 1.0.6 (Windows/20050716)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: A very technical question.
References: <433AA7AD.3070204@cs.put.poznan.pl>
In-Reply-To: <433AA7AD.3070204@cs.put.poznan.pl>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


Thanks for all the responses, guys. I'll analyze them and post my 
results if any. Doug's suggestion was closest to what I tentatively felt 
it could look like. I'll see if I can make it work.

D.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16658-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 29 12:57:53 2005
Return-Path: <java-user-return-16658-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 91978 invoked from network); 29 Sep 2005 12:57:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Sep 2005 12:57:53 -0000
Received: (qmail 83884 invoked by uid 500); 29 Sep 2005 12:57:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83827 invoked by uid 500); 29 Sep 2005 12:57:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 83813 invoked by uid 99); 29 Sep 2005 12:57:46 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Sep 2005 05:57:46 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Sep 2005 05:57:51 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id F22C913E2005; Thu, 29 Sep 2005 08:57:21 -0400 (EDT)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 95E1A13E2005
	for <java-user@lucene.apache.org>; Thu, 29 Sep 2005 08:56:51 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <20050929124624.GB26688@jdevoff.zssm.zp.ua>
References: <20050929123419.GA26688@jdevoff.zssm.zp.ua> <9ba0336c05092905395a76099a@mail.gmail.com> <20050929124624.GB26688@jdevoff.zssm.zp.ua>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <C3B2309C-0661-448B-86B1-E8EB50C8F795@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Lucene vs SQL database
Date: Thu, 29 Sep 2005 08:56:50 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-3.0 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Sep 29, 2005, at 8:46 AM, Eugeny N Dzhurinsky wrote:
> On Thu, Sep 29, 2005 at 08:39:53AM -0400, George Abraham wrote:
>
>> Eugene,
>> You could grab all the fields for a record in a SQL database, mash  
>> it all
>> together and transfer it into one indexing field in Lucene. Use some
>> scripting tools (or even JDBC and Java) to do this. However if you  
>> are
>> asking if Lucene can go and look over a SQL database and return  
>> results,
>> that would not work. Lucene has to index the database fields  
>> first. The
>> indexing would happen with the first two sentences of my post.
>>
>
> Integersting. We have some kind of set of privileges, required to  
> access the
> object (let's say rows in table(s)), I thought if it is possible to  
> use
> kind of "injection" of access control statement to SQL query for  
> extraction
> of only allowed data... But if Lucene needs to index anything, how  
> could I
> define the access privileges for data?

There are many options available.  One such technique I described in  
"Lucene in Action" ... a SecurityFilter.  This simple example scheme  
assumes each document has an "owner" and only owners are allowed to  
see their documents and no others.  By applying a SecurityFilter on a  
search, the results are constrained appropriately.  This scheme is  
intentionally simplistic to show the possibilities.  More commonly  
would be a situation with users and groups that need to be  
dynamically configurable - a Filter could still do this sort of  
thing, but how documents are associated with groups would need to be  
thoroughly conceived.

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16659-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 29 12:59:04 2005
Return-Path: <java-user-return-16659-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92411 invoked from network); 29 Sep 2005 12:59:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Sep 2005 12:59:04 -0000
Received: (qmail 87875 invoked by uid 500); 29 Sep 2005 12:58:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 87855 invoked by uid 500); 29 Sep 2005 12:58:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 87842 invoked by uid 99); 29 Sep 2005 12:58:57 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Sep 2005 05:58:57 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=DNS_FROM_RFC_WHOIS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [130.75.2.32] (HELO listserv.uni-hannover.de) (130.75.2.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Sep 2005 05:59:03 -0700
Received: from rrzn.uni-hannover.de (dhennig@rayserv.rrzn.uni-hannover.de [130.75.5.8])
	by listserv.uni-hannover.de (8.13.3/8.13.3) with ESMTP id j8TCwVB5023495
	for <java-user@lucene.apache.org>; Thu, 29 Sep 2005 14:58:31 +0200 (MEST)
Message-ID: <433BE4F4.8000000@rrzn.uni-hannover.de>
Date: Thu, 29 Sep 2005 14:58:28 +0200
From: Dirk Hennig <dhennig@rrzn.uni-hannover.de>
User-Agent: Mozilla/5.0 (X11; U; SunOS sun4u; en-US; rv:1.0.1) Gecko/20020921 Netscape/7.0
X-Accept-Language: en-us, en, de, de-at, de-de, de
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: luke start problem
References: <433BC5DB.4010208@eworx.gr> <433BD00A.4010704@getopt.org>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
X-Scanned-By: MIMEDefang 2.43
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,

I downloaded lukeall.jar, put it in my classpath and tried to start it:
 > java org.getopt.luke.Luke

and I get:
------
Exception in thread "main" java.lang.SecurityException: class 
"org.apache.lucene.store.IndexInput"'s signer information does not match 
signer information of other classes in the same package
        at java.lang.ClassLoader.checkCerts(ClassLoader.java:575)
        at java.lang.ClassLoader.defineClass(ClassLoader.java:503)
        at 
java.security.SecureClassLoader.defineClass(SecureClassLoader.java:123)
        at java.net.URLClassLoader.defineClass(URLClassLoader.java:246)
        at java.net.URLClassLoader.access$100(URLClassLoader.java:54)
        at java.net.URLClassLoader$1.run(URLClassLoader.java:193)
        at java.security.AccessController.doPrivileged(Native Method)
        at java.net.URLClassLoader.findClass(URLClassLoader.java:186)
        at java.lang.ClassLoader.loadClass(ClassLoader.java:306)
        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:265)
        at java.lang.ClassLoader.loadClass(ClassLoader.java:262)
        at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:322)
------

What's the problem?

Or am I using Luke the wrong way?
I couldn't find any documentation on how to use it. Is there something 
available?

Thanx,
Dirk


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16660-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 29 13:18:04 2005
Return-Path: <java-user-return-16660-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98728 invoked from network); 29 Sep 2005 13:18:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Sep 2005 13:18:04 -0000
Received: (qmail 19045 invoked by uid 500); 29 Sep 2005 13:17:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19016 invoked by uid 500); 29 Sep 2005 13:17:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19003 invoked by uid 99); 29 Sep 2005 13:17:57 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Sep 2005 06:17:57 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Sep 2005 06:18:02 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 582FB13E2005; Thu, 29 Sep 2005 09:17:33 -0400 (EDT)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 8F23513E2005
	for <java-user@lucene.apache.org>; Thu, 29 Sep 2005 09:17:08 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <1036df9405092902425eeba6b3@mail.gmail.com>
References: <1036df9405092902425eeba6b3@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <C3A21945-5A21-42EC-9701-0178FD93AD95@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Boosting a subquery
Date: Thu, 29 Sep 2005 09:17:11 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-3.0 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Sep 29, 2005, at 5:42 AM, Anand Kishore wrote:

> Hi,
>  LIA has info about boosting terms and/or fields but how do I go about
> boosting an entire bracketed subquery. For example: if I have a query
> consisting of 2 subqueries like:
> (xyz:AAA OR qwe:BBB) OR (xyz:CCC OR zxc:DDD)
>  I want to boost subquery1 so that documents are ranked accordingly.

I presume you're asking how QueryParser syntax allows for this?    
Simply add ^2.0 (or whatever boost you'd like) after the expression:

     (erik OR otis)^2.0 lucene

     <http://www.lucenebook.com/search?query=%28erik+OR+otis%29%5E2.0 
+lucene>

You'll see the Query from the parse displayed (we use stemming, so  
"otis" get stemmed in this case, poor guy, as does "lucene").

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16661-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 29 13:30:25 2005
Return-Path: <java-user-return-16661-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 9259 invoked from network); 29 Sep 2005 13:30:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Sep 2005 13:30:25 -0000
Received: (qmail 38580 invoked by uid 500); 29 Sep 2005 13:30:19 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 38560 invoked by uid 500); 29 Sep 2005 13:30:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 38547 invoked by uid 99); 29 Sep 2005 13:30:19 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Sep 2005 06:30:19 -0700
X-ASF-Spam-Status: No, hits=0.5 required=10.0
	tests=HTML_20_30,HTML_MESSAGE,RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of magawake@gmail.com designates 64.233.184.201 as permitted sender)
Received: from [64.233.184.201] (HELO wproxy.gmail.com) (64.233.184.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Sep 2005 06:30:25 -0700
Received: by wproxy.gmail.com with SMTP id 37so64899wra
        for <java-user@lucene.apache.org>; Thu, 29 Sep 2005 06:29:56 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:references;
        b=ObdVF3NNFR2OGfMqzc3/npKCQytOB9sd9GC07WF/tPLDGAUgVvhXyu5Aa4bxX9YPNzJTjCbK18uDvO6wlKfqFvU2Ks18xbyPACZW7RQg5N6XZ248vsGDp6sryii4yhn7TtG/JmP4k6b3X/Q2UCdwd4e8vK+gZUl1LQSCrrMpreQ=
Received: by 10.54.57.14 with SMTP id f14mr459199wra;
        Thu, 29 Sep 2005 06:29:56 -0700 (PDT)
Received: by 10.54.132.10 with HTTP; Thu, 29 Sep 2005 06:29:56 -0700 (PDT)
Message-ID: <1cbd6f8305092906296668cc8b@mail.gmail.com>
Date: Thu, 29 Sep 2005 09:29:56 -0400
From: Mag Gam <magawake@gmail.com>
Reply-To: Mag Gam <magawake@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Lucene vs SQL database
In-Reply-To: <C3B2309C-0661-448B-86B1-E8EB50C8F795@ehatchersolutions.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_3156_27792850.1128000596754"
References: <20050929123419.GA26688@jdevoff.zssm.zp.ua>
	 <9ba0336c05092905395a76099a@mail.gmail.com>
	 <20050929124624.GB26688@jdevoff.zssm.zp.ua>
	 <C3B2309C-0661-448B-86B1-E8EB50C8F795@ehatchersolutions.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_3156_27792850.1128000596754
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: base64
Content-Disposition: inline

Q2hlY2sgdGhpcyBsaW5rIG91dC4uLi5JIGFtIHRyeWluZyB0byBkbyB0aGUgc2FtZQoKaHR0cDov
L21hcmMudGhlYWltc2dyb3VwLmNvbS8/bD1sdWNlbmUtdXNlciZtPTEwMDU1NjI3MjkyODU4NCZ3
PTIKCkkgYW0gdXNpbmcgQXBhY2hlIERlcmJ5IGFuZCB0cnlpbmcgdG8gaW50ZWdyYXRlIHRoYXQg
d2l0aCBsdWNlbmUuLi4uCgpJdHMgdG91Z2ggdG8gZmluZCBhIHZlcnkgdmVyeSBzaW1wbGUgZXhh
bXBsZSBmb3IgdGhpcyBvbmxpbmUuCgoKZ29vZGx1Y2sKCgpPbiA5LzI5LzA1LCBFcmlrIEhhdGNo
ZXIgPGVyaWtAZWhhdGNoZXJzb2x1dGlvbnMuY29tPiB3cm90ZToKPgo+Cj4gT24gU2VwIDI5LCAy
MDA1LCBhdCA4OjQ2IEFNLCBFdWdlbnkgTiBEemh1cmluc2t5IHdyb3RlOgo+ID4gT24gVGh1LCBT
ZXAgMjksIDIwMDUgYXQgMDg6Mzk6NTNBTSAtMDQwMCwgR2VvcmdlIEFicmFoYW0gd3JvdGU6Cj4g
Pgo+ID4+IEV1Z2VuZSwKPiA+PiBZb3UgY291bGQgZ3JhYiBhbGwgdGhlIGZpZWxkcyBmb3IgYSBy
ZWNvcmQgaW4gYSBTUUwgZGF0YWJhc2UsIG1hc2gKPiA+PiBpdCBhbGwKPiA+PiB0b2dldGhlciBh
bmQgdHJhbnNmZXIgaXQgaW50byBvbmUgaW5kZXhpbmcgZmllbGQgaW4gTHVjZW5lLiBVc2Ugc29t
ZQo+ID4+IHNjcmlwdGluZyB0b29scyAob3IgZXZlbiBKREJDIGFuZCBKYXZhKSB0byBkbyB0aGlz
LiBIb3dldmVyIGlmIHlvdQo+ID4+IGFyZQo+ID4+IGFza2luZyBpZiBMdWNlbmUgY2FuIGdvIGFu
ZCBsb29rIG92ZXIgYSBTUUwgZGF0YWJhc2UgYW5kIHJldHVybgo+ID4+IHJlc3VsdHMsCj4gPj4g
dGhhdCB3b3VsZCBub3Qgd29yay4gTHVjZW5lIGhhcyB0byBpbmRleCB0aGUgZGF0YWJhc2UgZmll
bGRzCj4gPj4gZmlyc3QuIFRoZQo+ID4+IGluZGV4aW5nIHdvdWxkIGhhcHBlbiB3aXRoIHRoZSBm
aXJzdCB0d28gc2VudGVuY2VzIG9mIG15IHBvc3QuCj4gPj4KPiA+Cj4gPiBJbnRlZ2Vyc3Rpbmcu
IFdlIGhhdmUgc29tZSBraW5kIG9mIHNldCBvZiBwcml2aWxlZ2VzLCByZXF1aXJlZCB0bwo+ID4g
YWNjZXNzIHRoZQo+ID4gb2JqZWN0IChsZXQncyBzYXkgcm93cyBpbiB0YWJsZShzKSksIEkgdGhv
dWdodCBpZiBpdCBpcyBwb3NzaWJsZSB0bwo+ID4gdXNlCj4gPiBraW5kIG9mICJpbmplY3Rpb24i
IG9mIGFjY2VzcyBjb250cm9sIHN0YXRlbWVudCB0byBTUUwgcXVlcnkgZm9yCj4gPiBleHRyYWN0
aW9uCj4gPiBvZiBvbmx5IGFsbG93ZWQgZGF0YS4uLiBCdXQgaWYgTHVjZW5lIG5lZWRzIHRvIGlu
ZGV4IGFueXRoaW5nLCBob3cKPiA+IGNvdWxkIEkKPiA+IGRlZmluZSB0aGUgYWNjZXNzIHByaXZp
bGVnZXMgZm9yIGRhdGE/Cj4KPiBUaGVyZSBhcmUgbWFueSBvcHRpb25zIGF2YWlsYWJsZS4gT25l
IHN1Y2ggdGVjaG5pcXVlIEkgZGVzY3JpYmVkIGluCj4gIkx1Y2VuZSBpbiBBY3Rpb24iIC4uLiBh
IFNlY3VyaXR5RmlsdGVyLiBUaGlzIHNpbXBsZSBleGFtcGxlIHNjaGVtZQo+IGFzc3VtZXMgZWFj
aCBkb2N1bWVudCBoYXMgYW4gIm93bmVyIiBhbmQgb25seSBvd25lcnMgYXJlIGFsbG93ZWQgdG8K
PiBzZWUgdGhlaXIgZG9jdW1lbnRzIGFuZCBubyBvdGhlcnMuIEJ5IGFwcGx5aW5nIGEgU2VjdXJp
dHlGaWx0ZXIgb24gYQo+IHNlYXJjaCwgdGhlIHJlc3VsdHMgYXJlIGNvbnN0cmFpbmVkIGFwcHJv
cHJpYXRlbHkuIFRoaXMgc2NoZW1lIGlzCj4gaW50ZW50aW9uYWxseSBzaW1wbGlzdGljIHRvIHNo
b3cgdGhlIHBvc3NpYmlsaXRpZXMuIE1vcmUgY29tbW9ubHkKPiB3b3VsZCBiZSBhIHNpdHVhdGlv
biB3aXRoIHVzZXJzIGFuZCBncm91cHMgdGhhdCBuZWVkIHRvIGJlCj4gZHluYW1pY2FsbHkgY29u
ZmlndXJhYmxlIC0gYSBGaWx0ZXIgY291bGQgc3RpbGwgZG8gdGhpcyBzb3J0IG9mCj4gdGhpbmcs
IGJ1dCBob3cgZG9jdW1lbnRzIGFyZSBhc3NvY2lhdGVkIHdpdGggZ3JvdXBzIHdvdWxkIG5lZWQg
dG8gYmUKPiB0aG9yb3VnaGx5IGNvbmNlaXZlZC4KPgo+IEVyaWsKPgo+Cj4gLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
Cj4gVG8gdW5zdWJzY3JpYmUsIGUtbWFpbDogamF2YS11c2VyLXVuc3Vic2NyaWJlQGx1Y2VuZS5h
cGFjaGUub3JnCj4gRm9yIGFkZGl0aW9uYWwgY29tbWFuZHMsIGUtbWFpbDogamF2YS11c2VyLWhl
bHBAbHVjZW5lLmFwYWNoZS5vcmcKPgo+Cg==
------=_Part_3156_27792850.1128000596754--

From java-user-return-16662-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 29 14:00:13 2005
Return-Path: <java-user-return-16662-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20778 invoked from network); 29 Sep 2005 14:00:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Sep 2005 14:00:13 -0000
Received: (qmail 92989 invoked by uid 500); 29 Sep 2005 14:00:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 92166 invoked by uid 500); 29 Sep 2005 14:00:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 92153 invoked by uid 99); 29 Sep 2005 14:00:07 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Sep 2005 07:00:07 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [212.8.42.126] (HELO jdevoff.zssm.zp.ua) (212.8.42.126)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Sep 2005 07:00:11 -0700
Received: from jdevoff.zssm.zp.ua (localhost [127.0.0.1])
	by jdevoff.zssm.zp.ua (8.13.3/8.13.3) with ESMTP id j8TDxULg034076
	for <java-user@lucene.apache.org>; Thu, 29 Sep 2005 16:59:30 +0300 (EEST)
	(envelope-from eugenydzh@jdevelop.com)
Received: (from bofh@localhost)
	by jdevoff.zssm.zp.ua (8.13.3/8.13.3/Submit) id j8TDxQQg034075
	for java-user@lucene.apache.org; Thu, 29 Sep 2005 16:59:26 +0300 (EEST)
	(envelope-from eugenydzh@jdevelop.com)
X-Authentication-Warning: jdevoff.zssm.zp.ua: bofh set sender to eugenydzh@jdevelop.com using -f
Date: Thu, 29 Sep 2005 16:59:26 +0300
From: Eugeny N Dzhurinsky <eugenydzh@jdevelop.com>
To: java-user@lucene.apache.org
Subject: Re: Lucene vs SQL database
Message-ID: <20050929135926.GC26688@jdevoff.zssm.zp.ua>
References: <20050929123419.GA26688@jdevoff.zssm.zp.ua> <9ba0336c05092905395a76099a@mail.gmail.com> <20050929124624.GB26688@jdevoff.zssm.zp.ua> <C3B2309C-0661-448B-86B1-E8EB50C8F795@ehatchersolutions.com> <1cbd6f8305092906296668cc8b@mail.gmail.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=koi8-r
Content-Disposition: inline
In-Reply-To: <1cbd6f8305092906296668cc8b@mail.gmail.com>
User-Agent: Mutt/1.5.11
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Thu, Sep 29, 2005 at 09:29:56AM -0400, Mag Gam wrote:
> Check this link out....I am trying to do the same
> 
> http://marc.theaimsgroup.com/?l=lucene-user&m=100556272928584&w=2
> I am using Apache Derby and trying to integrate that with lucene....
> Its tough to find a very very simple example for this online.
> goodluck

Nice, thanks!

-- 
Eugene N Dzhurinsky

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16663-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 29 15:54:02 2005
Return-Path: <java-user-return-16663-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 69485 invoked from network); 29 Sep 2005 15:54:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Sep 2005 15:54:02 -0000
Received: (qmail 35900 invoked by uid 500); 29 Sep 2005 15:53:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35873 invoked by uid 500); 29 Sep 2005 15:53:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35860 invoked by uid 99); 29 Sep 2005 15:53:55 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Sep 2005 08:53:55 -0700
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [129.97.152.11] (HELO services04.student.cs.uwaterloo.ca) (129.97.152.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Sep 2005 08:54:00 -0700
Received: from rees.math.uwaterloo.ca (daemon@rees.math.uwaterloo.ca [129.97.204.28])
	by services04.student.cs.uwaterloo.ca (8.11.7/8.11.7) with ESMTP id j8TFrSc15365
	(using TLSv1/SSLv3 with cipher EDH-RSA-DES-CBC3-SHA (168 bits) verified NO)
	for <java-user@lucene.apache.org>; Thu, 29 Sep 2005 11:53:30 -0400 (EDT)
Received: (from pgwillia@localhost)
	by rees.math.uwaterloo.ca (8.11.7/8.11.7) id j8TFrRG23257;
	Thu, 29 Sep 2005 11:53:27 -0400 (EDT)
Date: Thu, 29 Sep 2005 11:53:27 -0400 (EDT)
From: Tricia Williams <pgwillia@student.cs.uwaterloo.ca>
X-X-Sender: pgwillia@rees.math.uwaterloo.ca
To: java-user@lucene.apache.org
Subject: TermDocs.freq()
In-Reply-To: <433BD00A.4010704@getopt.org>
Message-ID: <Pine.GSO.4.58.0509291130030.15828@rees.math.uwaterloo.ca>
References: <433BC5DB.4010208@eworx.gr> <433BD00A.4010704@getopt.org>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-2.0 (services04.student.cs.uwaterloo.ca [129.97.152.11]); Thu, 29 Sep 2005 11:53:30 -0400 (EDT)
X-Miltered: at minos with ID 433C0DF9.000 by Joe's j-chkmail (http://j-chkmail.ensmp.fr)!
X-Virus-Scanned: ClamAV version 0.86.2, clamav-milter version 0.86 on localhost
X-Virus-Status: Clean
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

I am finding that TermDocs.freq() method is returning an incorrect value.
I was wondering if anyone else had experienced this problem.

I am using tp = IndexReader.termPositions( queryTerm ) to return a object
which implements TermPositions.  I then use tp.skipTo( docid ) to go
directly to the document from which I wish to retrieve term positions. The
following for loop adds the positions to my ArrayList which I use later:

for( 	int pos = tp.nextPosition(), k = 0;
	k < tp.freq();
	pos = tp.nextPosition(), k++ )
{
	positionMatches.add( new Integer( pos ) );
}

In a document which I know has 48 references to the term, a frequency of
23 is returned.  There doesn't seem to be a pattern to this as some other
documents have (frequency, actual): (25, 48), (36, 43), (30, 149).

These frequencies are from results within my code and confirmed in Luke,
so I'm pretty certain that this isn't an error on my part.

I've been trying to find out where the origin of this issue is without
luck thus far.  Any help or advice would be appreciated.

Thanks,
Tricia

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16664-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 29 16:14:36 2005
Return-Path: <java-user-return-16664-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79436 invoked from network); 29 Sep 2005 16:14:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Sep 2005 16:14:36 -0000
Received: (qmail 96595 invoked by uid 500); 29 Sep 2005 16:14:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96571 invoked by uid 500); 29 Sep 2005 16:14:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96558 invoked by uid 99); 29 Sep 2005 16:14:29 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Sep 2005 09:14:29 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [193.252.22.26] (HELO smtp5.wanadoo.fr) (193.252.22.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Sep 2005 09:14:36 -0700
Received: from me-wanadoo.net (localhost [127.0.0.1])
	by mwinf0501.wanadoo.fr (SMTP Server) with ESMTP id A245D1C00110
	for <java-user@lucene.apache.org>; Thu, 29 Sep 2005 18:14:06 +0200 (CEST)
Received: from [192.168.1.10] (LSt-Amand-152-32-6-178.w82-127.abo.wanadoo.fr [82.127.21.178])
	by mwinf0501.wanadoo.fr (SMTP Server) with ESMTP id 6190A1C000EA
	for <java-user@lucene.apache.org>; Thu, 29 Sep 2005 18:14:06 +0200 (CEST)
X-ME-UUID: 20050929161406399.6190A1C000EA@mwinf0501.wanadoo.fr
Subject: Re: TermDocs.freq()
From: =?ISO-8859-1?Q?J=E9r=F4me?= BENOIS <benois@argia-engineering.fr>
To: java-user@lucene.apache.org
In-Reply-To: <Pine.GSO.4.58.0509291130030.15828@rees.math.uwaterloo.ca>
References: <433BC5DB.4010208@eworx.gr> <433BD00A.4010704@getopt.org>
	 <Pine.GSO.4.58.0509291130030.15828@rees.math.uwaterloo.ca>
Content-Type: multipart/signed; micalg=pgp-sha1; protocol="application/pgp-signature"; boundary="=-f8RvIAz6/DUU8qVo7HbY"
Date: Thu, 29 Sep 2005 18:14:05 +0200
Message-Id: <1128010445.6911.104.camel@localhost.localdomain>
Mime-Version: 1.0
X-Mailer: Evolution 2.2.3 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

--=-f8RvIAz6/DUU8qVo7HbY
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Hello everybody,

	I would like implement a "Google
Suggest" (http://www.google.com/webhp?complete=3D1&hl=3Den) like but how to
get similar criteria and number of results.=20

	Are you an idea ?

Thanks,
J=C3=A9r=C3=B4me.

--=-f8RvIAz6/DUU8qVo7HbY
Content-Type: application/pgp-signature; name=signature.asc
Content-Description: This is a digitally signed message part

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.1 (GNU/Linux)

iD8DBQBDPBLNCDKlmlhpwnERAqoMAJ0Ti+YSn51UB6ID0jpG9UUX1AnS0gCePxIP
L7ACl3jmetZcfsPu8QHmXBU=
=cbIo
-----END PGP SIGNATURE-----

--=-f8RvIAz6/DUU8qVo7HbY--



From java-user-return-16665-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 29 17:45:14 2005
Return-Path: <java-user-return-16665-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22331 invoked from network); 29 Sep 2005 17:45:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Sep 2005 17:45:13 -0000
Received: (qmail 93954 invoked by uid 500); 29 Sep 2005 17:45:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 93674 invoked by uid 500); 29 Sep 2005 17:45:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 93608 invoked by uid 99); 29 Sep 2005 17:45:04 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Sep 2005 10:45:04 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.227] (HELO web51709.mail.yahoo.com) (206.190.38.227)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 29 Sep 2005 10:44:46 -0700
Received: (qmail 19188 invoked by uid 60001); 29 Sep 2005 17:44:17 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=3I4RdSNcHCp8AlEN7dCUFf/CrvSQOhDnlgPgxFzXE6HQMk5+4fJpvvqioKLjWGZ0W5bx2jyfxDnLQQkR+4mBMNcdeWmitUafLc4h4Ib+ZxlZRgs9a7STO2omtZmWlKRjTBsYHyua9M+RwA7ZNEmUJe98m6sF5sWNPxjAfOzNuOQ=  ;
Message-ID: <20050929174417.19186.qmail@web51709.mail.yahoo.com>
Received: from [209.116.226.226] by web51709.mail.yahoo.com via HTTP; Thu, 29 Sep 2005 10:44:17 PDT
Date: Thu, 29 Sep 2005 10:44:17 -0700 (PDT)
From: Greg Gershman <greggersh@yahoo.com>
Subject: Re: TermDocs.freq()
To: java-user@lucene.apache.org
In-Reply-To: <1128010445.6911.104.camel@localhost.localdomain>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Save user queries in a database along with number of
results from last time queried, use that as suggestion
base.

Notice that Google's result count in Suggest differs
from the actual result count.  They are not computing
results on the fly.

Greg

--- Jérôme BENOIS <benois@argia-engineering.fr> wrote:

> Hello everybody,
> 
> 	I would like implement a "Google
> Suggest"
> (http://www.google.com/webhp?complete=1&hl=en) like
> but how to
> get similar criteria and number of results. 
> 
> 	Are you an idea ?
> 
> Thanks,
> Jérôme.
> 



		
__________________________________ 
Yahoo! Mail - PC Magazine Editors' Choice 2005 
http://mail.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16666-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 29 17:56:11 2005
Return-Path: <java-user-return-16666-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 29826 invoked from network); 29 Sep 2005 17:56:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Sep 2005 17:56:11 -0000
Received: (qmail 9322 invoked by uid 500); 29 Sep 2005 17:56:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9294 invoked by uid 500); 29 Sep 2005 17:56:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 9280 invoked by uid 99); 29 Sep 2005 17:56:04 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Sep 2005 10:56:04 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [206.190.38.222] (HELO web51704.mail.yahoo.com) (206.190.38.222)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 29 Sep 2005 10:56:08 -0700
Received: (qmail 49851 invoked by uid 60001); 29 Sep 2005 17:55:39 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=pktQzcJAGAIzrqk6yHCZHbMnpI7rS9oCv1UsKoH56jF8Gom/NG4nz/dTAbxLT7v7TtS76S2OuoehBm8ZnwIJx/K1lZAdtqnmwWO8Z6FOS5ndQ7sFFm7jYmmNBBbDZLlYjWmvyhNgjthPiL3zW1eautpTC4WliEG8IKtf+KLdTZE=  ;
Message-ID: <20050929175539.49849.qmail@web51704.mail.yahoo.com>
Received: from [209.116.226.226] by web51704.mail.yahoo.com via HTTP; Thu, 29 Sep 2005 10:55:39 PDT
Date: Thu, 29 Sep 2005 10:55:39 -0700 (PDT)
From: Greg Gershman <greggersh@yahoo.com>
Subject: Revisting FieldCacheImpl
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Our search engine updates frequently, adding and
removing documents from the index.  After an index
update, we create a new Searcher in the background,
and execute a search against it to "prime" the sorting
by fields.  The new Searcher is swapped for the old. 
>From my understanding, this is a fairly common
practice.

What I'm looking to optimize is the loading of the new
Searcher.  Since we've likely added documents,
possibly deleted a few, we have to create a new
sorting.  Those values are read out of the index and
sorted into an array that is cached.  I believe this
process could be sped up, since many of the values
that we are reading off disk are actually already
loaded into the old Searchers sorting.  The problem
is, the FieldCacheImpl is keyed by IndexReader, then
field name/type, so the new Searcher can not access
the old Searcher's cache.

I'm playing around with making the caching work at the
field name/type level, and getting rid of cacheing by
Reader.  What this would mean is that all searchers
would use the same sorting; under certain
circumstances, a new sorting could be created using
data from an old, cached sorting, which might be
detected based on changes to the IndexReader used, but
wouldn't be keyed off of it.

Does anyone see any potential pitfalls that I'm
overlooking?  We generally use a single Searcher,
would there be problems if we used more than one? 
Anything else?  Is there some other requirement for
caching by IndexReader that I'm overlooking?

Thanks in advance,

Greg


		
__________________________________ 
Yahoo! Mail - PC Magazine Editors' Choice 2005 
http://mail.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16667-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 29 18:01:43 2005
Return-Path: <java-user-return-16667-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32858 invoked from network); 29 Sep 2005 18:01:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Sep 2005 18:01:42 -0000
Received: (qmail 22167 invoked by uid 500); 29 Sep 2005 18:01:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22147 invoked by uid 500); 29 Sep 2005 18:01:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22134 invoked by uid 99); 29 Sep 2005 18:01:36 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Sep 2005 11:01:36 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of chris.lu@gmail.com designates 66.249.82.193 as permitted sender)
Received: from [66.249.82.193] (HELO xproxy.gmail.com) (66.249.82.193)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Sep 2005 11:01:39 -0700
Received: by xproxy.gmail.com with SMTP id s6so115474wxc
        for <java-user@lucene.apache.org>; Thu, 29 Sep 2005 11:01:12 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=NhC7CCWlE+JqdqtfnB1vrbDAprMreQRSIMZETeqHsPo6CMBCJgLdTcquAutuYhF65f0IV7x39FfmB777OklsT47htDzfSQTFbIzZDXVSi5QXlshZOAAh9cDKvUGzS3AY/pLLPNetL/UusrR2I6TA7WRR4Rx8nO3rG8iOwXJFXVg=
Received: by 10.70.84.16 with SMTP id h16mr616179wxb;
        Thu, 29 Sep 2005 11:01:12 -0700 (PDT)
Received: by 10.70.23.8 with HTTP; Thu, 29 Sep 2005 11:01:11 -0700 (PDT)
Message-ID: <6e3ae63105092911017efd6057@mail.gmail.com>
Date: Thu, 29 Sep 2005 11:01:11 -0700
From: Chris Lu <chris.lu@gmail.com>
Reply-To: Chris Lu <chris.lu@gmail.com>
To: java-user@lucene.apache.org
Subject: Re: Lucene vs SQL database
In-Reply-To: <20050929123419.GA26688@jdevoff.zssm.zp.ua>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <20050929123419.GA26688@jdevoff.zssm.zp.ua>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

We have a product, DBSight, just to extract database content and
render search results.
Many features can be found on the website.

Chris
------------------------
Lucene RAD on Any Databases
http://www.dbsight.net

On 9/29/05, Eugeny N Dzhurinsky <eugenydzh@jdevelop.com> wrote:
> Is there any way to use the contents of the SQL database as source for Lu=
cene
> search engine? Is there any example applications or workarounds to do tha=
t?
>
> --
> Eugene N Dzhurinsky
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16668-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 29 21:18:37 2005
Return-Path: <java-user-return-16668-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20784 invoked from network); 29 Sep 2005 21:18:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Sep 2005 21:18:37 -0000
Received: (qmail 36524 invoked by uid 500); 29 Sep 2005 21:18:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36346 invoked by uid 500); 29 Sep 2005 21:18:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 36331 invoked by uid 99); 29 Sep 2005 21:18:32 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Sep 2005 14:18:31 -0700
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Sep 2005 14:18:36 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id D34175B80A; Thu, 29 Sep 2005 14:18:05 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id D05DC7F49A
	for <java-user@lucene.apache.org>; Thu, 29 Sep 2005 14:18:05 -0700 (PDT)
Date: Thu, 29 Sep 2005 14:18:05 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: lucene and UTF-8
In-Reply-To: <433BC5DB.4010208@eworx.gr>
Message-ID: <Pine.LNX.4.58.0509291413020.2572@hal.rescomp.berkeley.edu>
References: <433BC5DB.4010208@eworx.gr>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: I'm having some problems indexing my UTF-8 html pages. I am running
: lucene on Linux and I cannot understand why does the index generated
: depends on the locale of my operating system.
: If I do set | grep LANG I get: LANG=el_GR which is Greek. If I set this
: to en_US the index generated will be different. Why is this the case? My
: HTMLs are all UTF-8.

To elaborate a little bit more on the comments other people have made, the
differences you are seeing are most likely related to your JVM using the
LANG variable to determine what the default charset will be when you open
readers.  You should look carefully at how you are opening the HTML files
and reading them in. If you raen't specifying the Charset explicitly in
your code, then you're getting the system default.


-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16669-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Sep 29 21:32:28 2005
Return-Path: <java-user-return-16669-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 26545 invoked from network); 29 Sep 2005 21:32:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 29 Sep 2005 21:32:28 -0000
Received: (qmail 46614 invoked by uid 500); 29 Sep 2005 21:32:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46591 invoked by uid 500); 29 Sep 2005 21:32:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 46575 invoked by uid 99); 29 Sep 2005 21:32:24 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Sep 2005 14:32:24 -0700
X-ASF-Spam-Status: No, hits=1.0 required=10.0
	tests=SPF_HELO_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [169.229.70.167] (HELO rescomp.berkeley.edu) (169.229.70.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Sep 2005 14:32:29 -0700
Received: by rescomp.berkeley.edu (Postfix, from userid 1007)
	id 08AC45B7BE; Thu, 29 Sep 2005 14:32:02 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by rescomp.berkeley.edu (Postfix) with ESMTP id 05E107F49A
	for <java-user@lucene.apache.org>; Thu, 29 Sep 2005 14:32:02 -0700 (PDT)
Date: Thu, 29 Sep 2005 14:32:02 -0700 (PDT)
From: Chris Hostetter <hossman_lucene@fucit.org>
Sender: hossman@hal.rescomp.berkeley.edu
To: java-user@lucene.apache.org
Subject: Re: Revisting FieldCacheImpl
In-Reply-To: <20050929175539.49849.qmail@web51704.mail.yahoo.com>
Message-ID: <Pine.LNX.4.58.0509291422050.2572@hal.rescomp.berkeley.edu>
References: <20050929175539.49849.qmail@web51704.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


: I'm playing around with making the caching work at the
: field name/type level, and getting rid of cacheing by
: Reader.  What this would mean is that all searchers
: would use the same sorting; under certain
: circumstances, a new sorting could be created using
: data from an old, cached sorting, which might be
: detected based on changes to the IndexReader used, but
: wouldn't be keyed off of it.

Can you elaborate on how you would do this? ... how would you know when
opening a new searcher/reader wether or not the FieldCache for aparticular
field needed to be updated without walking the list of terms for that
field?

I suppose there are some very limited cases where you can know that all of
the existing data is still valid (ie: if there were no docs in the old
reader marked deleted, and no docs in the new reader marked deleted) and
you can just "append" the data for any newly added docs to the end -- but
I think finding what that data is still requires iteration over the entire
TermEnum/TermDocs for that field.


The one simple change i can think of that might be possible is adding a
good IndexReader.hashCode method so that different instances of an
IndexReader which still refrence the exact same data won't require a
completely seperate copy of the FieldCache arrays -- possibly something
based on the Directory.hashCode and the IndexReader.getVersion -- assuming
those methods work the way i suspect they do.



-Hoss


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16670-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 30 05:25:11 2005
Return-Path: <java-user-return-16670-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 1421 invoked from network); 30 Sep 2005 05:25:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Sep 2005 05:25:11 -0000
Received: (qmail 29836 invoked by uid 500); 30 Sep 2005 05:25:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 29794 invoked by uid 500); 30 Sep 2005 05:25:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 29783 invoked by uid 99); 30 Sep 2005 05:25:06 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Sep 2005 22:25:06 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.179.233.113] (HELO acusis.com) (66.179.233.113)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 29 Sep 2005 22:25:11 -0700
Received: from Manish [61.246.221.29] by acusis.com with ESMTP
  (SMTPD-8.20) id AE8B0550; Fri, 30 Sep 2005 01:35:07 -0400
From: =?iso-8859-1?Q?M_=E5_n_i_s_h_?= <manish.chowdhary@acusis.com>
To: <java-user@lucene.apache.org>
Subject: Lucene lock with new io
Date: Fri, 30 Sep 2005 10:54:41 +0530
Message-ID: <006b01c5c57f$434f5c00$8400a8c0@AcusisBlr.lan>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_006C_01C5C5AD.5D079800"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.6626
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.3790.1830
Importance: Normal
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_006C_01C5C5AD.5D079800
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit

 

Hi All,

Lucene write-lock is making my life difficult,

Some times there is no lock file in temp folder but still the tomcat log
says write lock exception and 

Clearing the lock files is not helping me any more,

 

I saw in mail-archive that increasing lock time out property in lock.java
file or converting that 

lock into new io lock will help, 

 

Any body got better suggestion,

 

Thanks in advance,

~Manish Chowdhary


Thanks in advance. 	


  

	


 

 	 


 


------=_NextPart_000_006C_01C5C5AD.5D079800--


From java-user-return-16671-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 30 09:46:42 2005
Return-Path: <java-user-return-16671-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84204 invoked from network); 30 Sep 2005 09:46:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Sep 2005 09:46:42 -0000
Received: (qmail 79710 invoked by uid 500); 30 Sep 2005 09:46:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 79689 invoked by uid 500); 30 Sep 2005 09:46:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 79678 invoked by uid 99); 30 Sep 2005 09:46:36 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 30 Sep 2005 02:46:36 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [212.8.42.126] (HELO jdevoff.zssm.zp.ua) (212.8.42.126)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 30 Sep 2005 02:46:41 -0700
Received: from jdevoff.zssm.zp.ua (localhost [127.0.0.1])
	by jdevoff.zssm.zp.ua (8.13.3/8.13.3) with ESMTP id j8U9jwk5040063
	for <java-user@lucene.apache.org>; Fri, 30 Sep 2005 12:45:58 +0300 (EEST)
	(envelope-from eugenydzh@jdevelop.com)
Received: (from bofh@localhost)
	by jdevoff.zssm.zp.ua (8.13.3/8.13.3/Submit) id j8U9jviv040062
	for java-user@lucene.apache.org; Fri, 30 Sep 2005 12:45:57 +0300 (EEST)
	(envelope-from eugenydzh@jdevelop.com)
X-Authentication-Warning: jdevoff.zssm.zp.ua: bofh set sender to eugenydzh@jdevelop.com using -f
Date: Fri, 30 Sep 2005 12:45:57 +0300
From: Eugeny N Dzhurinsky <eugenydzh@jdevelop.com>
To: java-user@lucene.apache.org
Subject: Re: Lucene vs SQL database
Message-ID: <20050930094557.GC39885@jdevoff.zssm.zp.ua>
References: <20050929123419.GA26688@jdevoff.zssm.zp.ua> <9ba0336c05092905395a76099a@mail.gmail.com> <20050929124624.GB26688@jdevoff.zssm.zp.ua> <C3B2309C-0661-448B-86B1-E8EB50C8F795@ehatchersolutions.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=koi8-r
Content-Disposition: inline
In-Reply-To: <C3B2309C-0661-448B-86B1-E8EB50C8F795@ehatchersolutions.com>
User-Agent: Mutt/1.5.11
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Thu, Sep 29, 2005 at 08:56:50AM -0400, Erik Hatcher wrote:
> >of only allowed data... But if Lucene needs to index anything, how  >
>could I > >define the access privileges for data?

> There are many options available.  One such technique I described in  
> "Lucene in Action" ... a SecurityFilter.  

This SecurityFilter is implementation of the Filter, right?
As I found, the Filter defineds the bits() method, and I should implement some
capacities to return set of bits, where first bit means first found document,
and if it is set to 1 - document will be shown, otherwise if 0 - it will not
be shown, right?

-- 
Eugene N Dzhurinsky

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16672-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 30 10:34:27 2005
Return-Path: <java-user-return-16672-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97258 invoked from network); 30 Sep 2005 10:34:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Sep 2005 10:34:26 -0000
Received: (qmail 31300 invoked by uid 500); 30 Sep 2005 10:34:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31269 invoked by uid 500); 30 Sep 2005 10:34:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31254 invoked by uid 99); 30 Sep 2005 10:34:20 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 30 Sep 2005 03:34:20 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy includes SPF record at spf.trusted-forwarder.org)
Received: from [217.12.10.212] (HELO web26001.mail.ukl.yahoo.com) (217.12.10.212)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 30 Sep 2005 03:34:25 -0700
Received: (qmail 16423 invoked by uid 60001); 30 Sep 2005 10:33:56 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=ycXkBE3TWyWgHbiA2R0waPN254hGfvU0/hx/WmK6rhVbRE8Px4XFmOs40sryPKnCkiOG5IDwRaerP8zRKi4+fkH4FnYfozn0HUPzvN067v3WGu+D8GvevCKDeEJaECad/ToVV/Cfup8y9nr7K2Ii0CXuUBpduNfyCXsHc4SJIEk=  ;
Message-ID: <20050930103356.16421.qmail@web26001.mail.ukl.yahoo.com>
Received: from [193.36.230.96] by web26001.mail.ukl.yahoo.com via HTTP; Fri, 30 Sep 2005 11:33:56 BST
Date: Fri, 30 Sep 2005 11:33:56 +0100 (BST)
From: mark harwood <markharw00d@yahoo.co.uk>
Subject: Re: Lucene vs SQL database
To: java-user@lucene.apache.org
In-Reply-To: <20050930094557.GC39885@jdevoff.zssm.zp.ua>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

See the code here for an example:

http://issues.apache.org/jira/browse/LUCENE-434

This demonstrates:
* embedding and running Lucene queries directly in
Derby or HSQLDB databases 
* alternatively, using an RDBMS-provided result set
(from potentially any database) to filter an
externally run Lucene query. This, I think, is what
you are more probably interested in for your security
filter. Take a look at the
HsqlDbLuceneQuery.doRDBMSFilteredQuery() method.

Cheers,
Mark



		
___________________________________________________________ 
To help you stay safe and secure online, we've developed the all new Yahoo! Security Centre. http://uk.security.yahoo.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16673-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 30 11:45:03 2005
Return-Path: <java-user-return-16673-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20984 invoked from network); 30 Sep 2005 11:45:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Sep 2005 11:45:03 -0000
Received: (qmail 96251 invoked by uid 500); 30 Sep 2005 11:44:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96208 invoked by uid 500); 30 Sep 2005 11:44:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96197 invoked by uid 99); 30 Sep 2005 11:44:56 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 30 Sep 2005 04:44:56 -0700
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=HTML_90_100,HTML_MESSAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [66.179.233.113] (HELO acusis.com) (66.179.233.113)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 30 Sep 2005 04:45:01 -0700
Received: from Manish [61.246.221.29] by acusis.com with ESMTP
  (SMTPD-8.20) id A791065C; Fri, 30 Sep 2005 07:54:57 -0400
From: =?iso-8859-1?Q?M_=E5_n_i_s_h_?= <manish.chowdhary@acusis.com>
To: <java-user@lucene.apache.org>
Subject: Commit lock timeout exception
Date: Fri, 30 Sep 2005 17:14:31 +0530
Message-ID: <01da01c5c5b4$5347d990$8400a8c0@AcusisBlr.lan>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_01DB_01C5C5E2.6D001590"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.6626
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.3790.1830
Importance: Normal
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_NextPart_000_01DB_01C5C5E2.6D001590
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit

 

 Hi Erik and other gurus,

 

 I am using lucene 1.4.3 with tomcat, and before some time I

 Started facing write lock problem,

 

 I cleared the temp folder of tomcat and there is nothing in my

 java.io.tmdir folder  but still I am getting write lock.

 

 My system is deployed on dual CPU Linux box,

 

 Thanks in advance

 

 ~Manish Chowdhary



 

 


------=_NextPart_000_01DB_01C5C5E2.6D001590--


From java-user-return-16674-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 30 15:57:38 2005
Return-Path: <java-user-return-16674-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 26009 invoked from network); 30 Sep 2005 15:57:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Sep 2005 15:57:38 -0000
Received: (qmail 4046 invoked by uid 500); 30 Sep 2005 15:57:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 3913 invoked by uid 500); 30 Sep 2005 15:57:30 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 3902 invoked by uid 99); 30 Sep 2005 15:57:30 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 30 Sep 2005 08:57:30 -0700
X-ASF-Spam-Status: No, hits=0.3 required=10.0
	tests=HTML_10_20,HTML_MESSAGE,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of lists@nabble.com designates 72.21.53.35 as permitted sender)
Received: from [72.21.53.35] (HELO talk.nabble.com) (72.21.53.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 30 Sep 2005 08:57:33 -0700
Received: from localhost ([127.0.0.1] helo=talk.nabble.com)
	by talk.nabble.com with esmtp (Exim 4.50)
	id 1ELNFy-0006xy-G0
	for java-user@lucene.apache.org; Fri, 30 Sep 2005 08:57:06 -0700
Message-ID: <1004118.post@talk.nabble.com>
Date: Fri, 30 Sep 2005 08:57:06 -0700 (PDT)
From: "Niranjan Soni (sent by Nabble.com)" <lists@nabble.com>
Reply-To: Niranjan Soni <niranjansoni@gmail.com>
To: java-user@lucene.apache.org
Subject: Implementing Lucene Search on DB2
Mime-Version: 1.0
Content-Type: multipart/alternative; 
	boundary="----=_Part_1405_14613329.1128095826491"
X-Nabble-Sender: Nabble Forums <lists@nabble.com>
X-Nabble-From: Niranjan Soni <niranjansoni@gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

------=_Part_1405_14613329.1128095826491
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit


Hello all

I am new to Lucene and evaluating this software for a search engine that we would like to build for our e-commerce website.

Our existing website is using DB2 database and using DB2 Text Extender for search functionality. We would use Lucene Search Engine instead of DB2 Text Extender. I would like to get some more information about how/best way to implement Lucene Search on DB2.

Our existing search module creates/updates indexes on 4 fields from 3 database tables each. And the search is performed using combination of these 3 tables and 4 fields from each of these 3 tables.

We would like to implement a similar solution using Lucene. Can anyone provide me with any kind of information how we can achieve this?

Thanks & Regards
Niranjan Soni
--
Sent from the Lucene - Java Users forum at Nabble.com:
http://www.nabble.com/Implementing-Lucene-Search-on-DB2-t362576.html#a1004118

------=_Part_1405_14613329.1128095826491--


From java-user-return-16675-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 30 16:25:42 2005
Return-Path: <java-user-return-16675-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 42068 invoked from network); 30 Sep 2005 16:25:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Sep 2005 16:25:42 -0000
Received: (qmail 56325 invoked by uid 500); 30 Sep 2005 16:25:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 56292 invoked by uid 500); 30 Sep 2005 16:25:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 56281 invoked by uid 99); 30 Sep 2005 16:25:36 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 30 Sep 2005 09:25:36 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [69.55.225.129] (HELO ehatchersolutions.com) (69.55.225.129)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 30 Sep 2005 09:25:41 -0700
Received: by ehatchersolutions.com (Postfix, from userid 504)
	id 7BFB813E2005; Fri, 30 Sep 2005 12:25:12 -0400 (EDT)
Received: from [128.143.167.108] (d-128-167-108.bootp.Virginia.EDU [128.143.167.108])
	by ehatchersolutions.com (Postfix) with ESMTP id 2178013E2007
	for <java-user@lucene.apache.org>; Fri, 30 Sep 2005 12:24:51 -0400 (EDT)
Mime-Version: 1.0 (Apple Message framework v734)
In-Reply-To: <20050930094557.GC39885@jdevoff.zssm.zp.ua>
References: <20050929123419.GA26688@jdevoff.zssm.zp.ua> <9ba0336c05092905395a76099a@mail.gmail.com> <20050929124624.GB26688@jdevoff.zssm.zp.ua> <C3B2309C-0661-448B-86B1-E8EB50C8F795@ehatchersolutions.com> <20050930094557.GC39885@jdevoff.zssm.zp.ua>
Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
Message-Id: <7ABE5D30-BD4B-4A70-BDDC-5A41A191AE53@ehatchersolutions.com>
Content-Transfer-Encoding: 7bit
From: Erik Hatcher <erik@ehatchersolutions.com>
Subject: Re: Lucene vs SQL database
Date: Fri, 30 Sep 2005 12:22:53 -0400
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.734)
X-Spam-Checker-Version: SpamAssassin 3.0.1 (2004-10-22) on javelina
X-Spam-Level: 
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.9 required=5.0 tests=AWL,BAYES_00 autolearn=ham 
	version=3.0.1
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


On Sep 30, 2005, at 5:45 AM, Eugeny N Dzhurinsky wrote:

> On Thu, Sep 29, 2005 at 08:56:50AM -0400, Erik Hatcher wrote:
>
>>> of only allowed data... But if Lucene needs to index anything,  
>>> how  >
>>>
>> could I > >define the access privileges for data?
>>
>
>
>> There are many options available.  One such technique I described in
>> "Lucene in Action" ... a SecurityFilter.
>>
>
> This SecurityFilter is implementation of the Filter, right?
> As I found, the Filter defineds the bits() method, and I should  
> implement some
> capacities to return set of bits, where first bit means first found  
> document,
> and if it is set to 1 - document will be shown, otherwise if 0 - it  
> will not
> be shown, right?

That is exactly correct.  The source code to the SecurityFilter is  
found in the .zip file you can download from http:// 
www.lucenebook.com - and it wouldn't hurt our feelings one bit if you  
bought the book too :)

     Erik


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16676-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 30 16:32:34 2005
Return-Path: <java-user-return-16676-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 47131 invoked from network); 30 Sep 2005 16:32:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Sep 2005 16:32:34 -0000
Received: (qmail 69893 invoked by uid 500); 30 Sep 2005 16:32:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69873 invoked by uid 500); 30 Sep 2005 16:32:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 69862 invoked by uid 99); 30 Sep 2005 16:32:28 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 30 Sep 2005 09:32:28 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: neutral (asf.osuosl.org: local policy)
Received: from [212.8.33.186] (HELO jdevelop.zssm.zp.ua) (212.8.33.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 30 Sep 2005 09:32:33 -0700
Received: from jdevelop.zssm.zp.ua (localhost [127.0.0.1])
	by jdevelop.zssm.zp.ua (8.13.4/8.13.4) with ESMTP id j8UGW2jn011020
	for <java-user@lucene.apache.org>; Fri, 30 Sep 2005 19:32:02 +0300 (EEST)
	(envelope-from eugenydzh@jdevelop.com)
Received: (from bofh@localhost)
	by jdevelop.zssm.zp.ua (8.13.4/8.13.4/Submit) id j8UGW12m011019
	for java-user@lucene.apache.org; Fri, 30 Sep 2005 19:32:01 +0300 (EEST)
	(envelope-from eugenydzh@jdevelop.com)
X-Authentication-Warning: jdevelop.zssm.zp.ua: bofh set sender to eugenydzh@jdevelop.com using -f
Date: Fri, 30 Sep 2005 19:32:01 +0300
From: Eugeny N Dzhurinsky <eugenydzh@jdevelop.com>
To: java-user@lucene.apache.org
Subject: Re: Lucene vs SQL database
Message-ID: <20050930163201.GA10997@jdevelop.zssm.zp.ua>
References: <20050929123419.GA26688@jdevoff.zssm.zp.ua> <9ba0336c05092905395a76099a@mail.gmail.com> <20050929124624.GB26688@jdevoff.zssm.zp.ua> <C3B2309C-0661-448B-86B1-E8EB50C8F795@ehatchersolutions.com> <20050930094557.GC39885@jdevoff.zssm.zp.ua> <7ABE5D30-BD4B-4A70-BDDC-5A41A191AE53@ehatchersolutions.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=koi8-r
Content-Disposition: inline
In-Reply-To: <7ABE5D30-BD4B-4A70-BDDC-5A41A191AE53@ehatchersolutions.com>
User-Agent: Mutt/1.5.10i
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

On Fri, Sep 30, 2005 at 12:22:53PM -0400, Erik Hatcher wrote:
> 
> That is exactly correct.  The source code to the SecurityFilter is  
> found in the .zip file you can download from http:// 
> www.lucenebook.com - and it wouldn't hurt our feelings one bit if you  
> bought the book too :)

Nice, I will get the book next week from Amazon. Thanks for your help!

-- 
Eugene N Dzhurinsky

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16677-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 30 16:41:26 2005
Return-Path: <java-user-return-16677-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50537 invoked from network); 30 Sep 2005 16:41:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Sep 2005 16:41:25 -0000
Received: (qmail 80198 invoked by uid 500); 30 Sep 2005 16:41:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 80177 invoked by uid 500); 30 Sep 2005 16:41:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 80166 invoked by uid 99); 30 Sep 2005 16:41:19 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 30 Sep 2005 09:41:19 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [129.6.101.41] (HELO rogue.ncsl.nist.gov) (129.6.101.41)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 30 Sep 2005 09:41:24 -0700
Received: from rogue.ncsl.nist.gov.nist.gov (localhost.localdomain [127.0.0.1])
	by rogue.ncsl.nist.gov (8.13.1/8.13.1) with ESMTP id j8UGetQ4029367
	for <java-user@lucene.apache.org>; Fri, 30 Sep 2005 12:40:56 -0400
From: Ian Soboroff <ian.soboroff@nist.gov>
To: java-user@lucene.apache.org
Subject: Re: Implementing Lucene Search on DB2
References: <1004118.post@talk.nabble.com>
Date: Fri, 30 Sep 2005 12:40:55 -0400
In-Reply-To: <1004118.post@talk.nabble.com> (Niranjan Soni's message of "Fri,
	30 Sep 2005 08:57:06 -0700 (PDT)")
Message-ID: <9cffyrm33vs.fsf@rogue.ncsl.nist.gov>
User-Agent: Gnus/5.110004 (No Gnus v0.4) Emacs/21.3 (gnu/linux)
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N


You should look to the various papers by Ophir Frieder, David
Grossman, Abdur Chowdhury and others from IIT.  They developed a whole
IR system in SQL.

http://ir.iit.edu/irwebsiteserv/IRViewer?docid=159
http://ir.iit.edu/irwebsiteserv/IRViewer?docid=132

Grossman and Frieder have a recent textbook on IR, as well.

Ian

"Niranjan Soni (sent by Nabble.com)" <lists@nabble.com> writes:

> Hello all
>
> I am new to Lucene and evaluating this software for a search engine that we would like to build for our e-commerce website.
>
> Our existing website is using DB2 database and using DB2 Text Extender for search functionality. We would use Lucene Search Engine instead of DB2 Text Extender. I would like to get some more information about how/best way to implement Lucene Search on DB2.
>
> Our existing search module creates/updates indexes on 4 fields from 3 database tables each. And the search is performed using combination of these 3 tables and 4 fields from each of these 3 tables.
>
> We would like to implement a similar solution using Lucene. Can anyone provide me with any kind of information how we can achieve this?
>
> Thanks & Regards
> Niranjan Soni
> --
> Sent from the Lucene - Java Users forum at Nabble.com:
> http://www.nabble.com/Implementing-Lucene-Search-on-DB2-t362576.html#a1004118


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16678-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 30 17:15:48 2005
Return-Path: <java-user-return-16678-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 64605 invoked from network); 30 Sep 2005 17:15:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Sep 2005 17:15:48 -0000
Received: (qmail 40621 invoked by uid 500); 30 Sep 2005 17:15:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40601 invoked by uid 500); 30 Sep 2005 17:15:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40590 invoked by uid 99); 30 Sep 2005 17:15:42 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 30 Sep 2005 10:15:42 -0700
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=RCVD_BY_IP,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: domain of chris.lu@gmail.com designates 66.249.82.200 as permitted sender)
Received: from [66.249.82.200] (HELO xproxy.gmail.com) (66.249.82.200)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 30 Sep 2005 10:15:47 -0700
Received: by xproxy.gmail.com with SMTP id s8so64290wxc
        for <java-user@lucene.apache.org>; Fri, 30 Sep 2005 10:15:19 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
        s=beta; d=gmail.com;
        h=received:message-id:date:from:reply-to:to:subject:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=ou2QU8zZg357YM/4HXRFTDqYOXKo9W/ZuefXwJsWBZK8UFco8CTdRyJd2AVi6OH51/gmaW+8kthVOPtYi0mZX61tLdY8uBiiXgqgGXgFhr0yoXtVw+cksXBMkcR80AFTB52RLJA/Ic9L2CeOMqrIzfdeVnQhCdBKwgQZ9t/fTbc=
Received: by 10.70.11.20 with SMTP id 20mr972129wxk;
        Fri, 30 Sep 2005 10:15:19 -0700 (PDT)
Received: by 10.70.23.8 with HTTP; Fri, 30 Sep 2005 10:15:19 -0700 (PDT)
Message-ID: <6e3ae6310509301015j559980cdr579995fa00e83023@mail.gmail.com>
Date: Fri, 30 Sep 2005 10:15:19 -0700
From: Chris Lu <chris.lu@gmail.com>
Reply-To: Chris Lu <chris.lu@gmail.com>
To: java-user@lucene.apache.org, Niranjan Soni <niranjansoni@gmail.com>
Subject: Re: Implementing Lucene Search on DB2
In-Reply-To: <1004118.post@talk.nabble.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
Content-Disposition: inline
References: <1004118.post@talk.nabble.com>
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

We have a product, DBSight, just to extract database content and
render search results. DB2 is one of the supported databases.
Many features can be found on the website.

For your case, DBSight can easily select all your data you needed and
create an index to search on.
At least you can very quickly to get it running.

Let us know the performance difference you experienced, DB2 Text
Extender vs. Lucene.

Chris
------------------------
Lucene RAD on Any Databases
http://www.dbsight.net


On 9/30/05, Niranjan Soni (sent by Nabble.com) <lists@nabble.com> wrote:
>
> Hello all
>
> I am new to Lucene and evaluating this software for a search engine that =
we would like to build for our e-commerce website.
>
> Our existing website is using DB2 database and using DB2 Text Extender fo=
r search functionality. We would use Lucene Search Engine instead of DB2 Te=
xt Extender. I would like to get some more information about how/best way t=
o implement Lucene Search on DB2.
>
> Our existing search module creates/updates indexes on 4 fields from 3 dat=
abase tables each. And the search is performed using combination of these 3=
 tables and 4 fields from each of these 3 tables.
>
> We would like to implement a similar solution using Lucene. Can anyone pr=
ovide me with any kind of information how we can achieve this?
>
> Thanks & Regards
> Niranjan Soni
> --
> Sent from the Lucene - Java Users forum at Nabble.com:
> http://www.nabble.com/Implementing-Lucene-Search-on-DB2-t362576.html#a100=
4118
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-16679-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Sep 30 17:58:45 2005
Return-Path: <java-user-return-16679-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82607 invoked from network); 30 Sep 2005 17:58:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (209.237.227.199)
  by minotaur.apache.org with SMTP; 30 Sep 2005 17:58:44 -0000
Received: (qmail 86890 invoked by uid 500); 30 Sep 2005 17:58:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 86871 invoked by uid 500); 30 Sep 2005 17:58:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 86860 invoked by uid 99); 30 Sep 2005 17:58:39 -0000
Received: from asf.osuosl.org (HELO asf.osuosl.org) (140.211.166.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 30 Sep 2005 10:58:39 -0700
X-ASF-Spam-Status: No, hits=0.4 required=10.0
	tests=DNS_FROM_RFC_ABUSE
X-Spam-Check-By: apache.org
Received-SPF: pass (asf.osuosl.org: local policy)
Received: from [68.142.200.37] (HELO web31104.mail.mud.yahoo.com) (68.142.200.37)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 30 Sep 2005 10:58:43 -0700
Received: (qmail 76720 invoked by uid 60001); 30 Sep 2005 17:58:15 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=08EFyvkuJlUJ0ko7xgmQWM/gfy7aLHrcmeBgv0xdNOTN6DdK8JNmlOyFmyW+AVbcvRw7ag4hQhsJjJCcac03u5W1d4e40TjwvWlLT8+GSXQ3K8nB3BOzS7FTntn5dyQ24F5ojhuu1m+X6fljSalrxFilTb9dfpPcqVpOREUcoLU=  ;
Message-ID: <20050930175815.76718.qmail@web31104.mail.mud.yahoo.com>
Received: from [216.194.55.187] by web31104.mail.mud.yahoo.com via HTTP; Fri, 30 Sep 2005 10:58:15 PDT
Date: Fri, 30 Sep 2005 10:58:15 -0700 (PDT)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Commit lock timeout exception
To: java-user@lucene.apache.org
In-Reply-To: <01da01c5c5b4$5347d990$8400a8c0@AcusisBlr.lan>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org
X-Spam-Rating: minotaur.apache.org 1.6.2 0/1000/N

Hello,

Dual CPU or single CPU, problems with lock files typically point to
incorrect usage of the API, such as modifying the same index from
multiple processes concurrently, or exiting the application without
closing index mutator classes.  Print the exception stack trace, and
see if it mentions the exact location of the lock file.  If not, search
your disk for a file that starts with "lucene-" to find it.

Otis

--- M å n i s h  <manish.chowdhary@acusis.com> wrote:

>  
> 
>  Hi Erik and other gurus,
> 
>  
> 
>  I am using lucene 1.4.3 with tomcat, and before some time I
> 
>  Started facing write lock problem,
> 
>  
> 
>  I cleared the temp folder of tomcat and there is nothing in my
> 
>  java.io.tmdir folder  but still I am getting write lock.
> 
>  
> 
>  My system is deployed on dual CPU Linux box,
> 
>  
> 
>  Thanks in advance
> 
>  
> 
>  ~Manish Chowdhary
> 
> 
> 
>  
> 
>  
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


