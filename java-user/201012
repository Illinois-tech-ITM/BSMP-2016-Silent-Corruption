From java-user-return-47988-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 01 05:24:06 2010
Return-Path: <java-user-return-47988-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 80645 invoked from network); 1 Dec 2010 05:24:06 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 1 Dec 2010 05:24:06 -0000
Received: (qmail 85509 invoked by uid 500); 1 Dec 2010 05:24:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 85405 invoked by uid 500); 1 Dec 2010 05:24:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 85397 invoked by uid 99); 1 Dec 2010 05:24:03 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Dec 2010 05:24:03 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [209.85.161.176] (HELO mail-gx0-f176.google.com) (209.85.161.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Dec 2010 05:23:56 +0000
Received: by gxk4 with SMTP id 4so3743214gxk.35
        for <java-user@lucene.apache.org>; Tue, 30 Nov 2010 21:23:34 -0800 (PST)
MIME-Version: 1.0
Received: by 10.150.52.4 with SMTP id z4mr220458ybz.37.1291181014299; Tue, 30
 Nov 2010 21:23:34 -0800 (PST)
Received: by 10.150.200.5 with HTTP; Tue, 30 Nov 2010 21:23:34 -0800 (PST)
Date: Wed, 1 Dec 2010 12:23:34 +0700
Message-ID: <AANLkTinZTsmOzcGvQ3aawoAsVB9AJUSxo461ZUN2P=f3@mail.gmail.com>
Subject: problem with incremental update in lucene
From: Yakob <jacobian@opensuse-id.org>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

I am creating a program that can index many text files in different
folder. so that's mean every folder that has text files get indexed
and its index are stored in another folder. so this another folder
acts like a universal index of all files in my computer. and I am
using lucene to achieve this because lucene fully supported
incremental update. this is the source code into which I use it for
indexing.

public class SimpleFileIndexer {

public static void main(String[] args) throws Exception   {

    int i=0;
    while(i<2) {
    File indexDir = new File("C:/Users/Raden/Documents/myindex");
    File dataDir = new File("C:/Users/Raden/Documents/indexthis");
    String suffix = "txt";

    SimpleFileIndexer indexer = new SimpleFileIndexer();

    int numIndex = indexer.index(indexDir, dataDir, suffix);

    System.out.println("Total files indexed " + numIndex);
    i++;
    Thread.sleep(1000);

    }
}

private int index(File indexDir, File dataDir, String suffix) throws Exception {
    RAMDirectory ramDir = new RAMDirectory();          // 1
    IndexWriter indexWriter = new IndexWriter(
            ramDir,                                    // 2
            new StandardAnalyzer(Version.LUCENE_CURRENT),
            true,
            IndexWriter.MaxFieldLength.UNLIMITED);
    indexWriter.setUseCompoundFile(false);
    indexDirectory(indexWriter, dataDir, suffix);
    int numIndexed = indexWriter.maxDoc();
    indexWriter.optimize();
    indexWriter.close();

    Directory.copy(ramDir, FSDirectory.open(indexDir), false); // 3

    return numIndexed;
}

private void indexDirectory(IndexWriter indexWriter, File dataDir,
String suffix)  throws IOException {
    File[] files = dataDir.listFiles();
    for (int i = 0; i < files.length; i++) {
        File f = files[i];
        if (f.isDirectory()) {
            indexDirectory(indexWriter, f, suffix);
        }
        else {
            indexFileWithIndexWriter(indexWriter, f, suffix);
        }
    }
}

private void indexFileWithIndexWriter(IndexWriter indexWriter, File f,
String suffix) throws IOException {
    if (f.isHidden() || f.isDirectory() || !f.canRead() || !f.exists()) {
        return;
    }
    if (suffix!=null && !f.getName().endsWith(suffix)) {
        return;
    }
    System.out.println("Indexing file " + f.getCanonicalPath());

    Document doc = new Document();
    doc.add(new Field("contents", new FileReader(f)));
doc.add(new Field("filename", f.getCanonicalPath(), Field.Store.YES,
Field.Index.ANALYZED));
    indexWriter.addDocument(doc);
} }


the problem I am having now is that the indexing program I created
above seem can't do any incremental update. I mean I can search for a
text file but only for the file that existed in the last folder to
which I already indexed, and the other previous folder that I had
already indexed seems to be missing in the search result and didn't
get displayed. can you tell me what went wrong in my code? I just
wanted to be able to have incremental update feature in my source
code. so in essence, my program seems to be overwriting the existing
index with the new one instead of merging it.

-- 
http://jacobian.web.id

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-47989-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 01 05:30:08 2010
Return-Path: <java-user-return-47989-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82739 invoked from network); 1 Dec 2010 05:30:07 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 1 Dec 2010 05:30:07 -0000
Received: (qmail 94225 invoked by uid 500); 1 Dec 2010 05:30:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 93629 invoked by uid 500); 1 Dec 2010 05:30:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 93538 invoked by uid 99); 1 Dec 2010 05:29:59 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Dec 2010 05:29:59 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of bradfordstephens@gmail.com designates 74.125.82.48 as permitted sender)
Received: from [74.125.82.48] (HELO mail-ww0-f48.google.com) (74.125.82.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Dec 2010 05:29:55 +0000
Received: by wwb17 with SMTP id 17so3698554wwb.5
        for <multiple recipients>; Tue, 30 Nov 2010 21:29:33 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:from:date
         :message-id:subject:to:content-type:content-transfer-encoding;
        bh=8aYUvEshnYUsXUpxu/PM7mD0mYqwa1lIu1eeRf7q5X8=;
        b=H3XOYEWuox3H96afBveO/i834BNwCEVwI7LDXQMz5CQmjrfQyMAMQIi5QAbjgcuyJi
         w2c83xZYpU2HaSRMLcFjrU9PC5QtwbRTq6wSSWoad7moQvIUiUQUSoR6kpbxs4w9JRGW
         pGUiEjsiyAMqF8DXIASgM16Ojao7DupdZiuGI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:from:date:message-id:subject:to:content-type
         :content-transfer-encoding;
        b=JmETQEdYtFigiVapPC53JcW99liB2zUouvA8TpeFvTX9Cdi8+lzHZCelmaKWNC3Usr
         +SqcHdCYkT+FT/i7ORvDmQalE+hFNleUHwCGIR+HJfEy6EHRoviWfASmk8Xm3tWNWVct
         fW8AYCS9eNjX+xCrMEYPt5ECxv0Gzxy+RjaUs=
Received: by 10.216.38.84 with SMTP id z62mr1427961wea.70.1291181373460; Tue,
 30 Nov 2010 21:29:33 -0800 (PST)
MIME-Version: 1.0
Received: by 10.216.20.137 with HTTP; Tue, 30 Nov 2010 21:29:09 -0800 (PST)
From: Bradford Stephens <bradfordstephens@gmail.com>
Date: Tue, 30 Nov 2010 21:29:09 -0800
Message-ID: <AANLkTinMYzPX_qEowsimEn-B4isLydhbNuRTfh6RrMtA@mail.gmail.com>
Subject: Twitter Search + big Hadoop, Dec. 8th at Seattle Scalability Meetup
To: organize <Organize@seattletechstartups.com>, core-user@hadoop.apache.org, 
	user@hbase.apache.org, java-user@lucene.apache.org, 
	solr-user@lucene.apache.org, nosql-discussion@googlegroups.com, 
	pig-user@hadoop.apache.org, hive-user@hadoop.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

Greetings,

The Seattle Scalability Meetup isn't slacking for the holidays. We've
got an awesome lineup for Wed, December 8 at 7pm:

http://www.meetup.com/Seattle-Hadoop-HBase-NoSQL-Meetup/

-Jake Mannix from Twitter will talk about the Twitter Search
infrastructure (with distributed Lucene)
-Chris Nauroth from a Really Large Media Company will talk about how
they use Hadoop
-We may also have someone from Elastic MapReduce talk about their
really cool new stuff.

The meetup is at Amazon South Lake Union campus, and usually goes from
7pm-8:30pm. Drinks are at Fierabend afterward, at 422 Yale Ave N.

Address and more information here:
http://www.meetup.com/Seattle-Hadoop-HBase-NoSQL-Meetup/

Look forward to seeing you all!

Cheers,
B

--=20
Bradford Stephens,
Founder, Drawn to Scale
drawntoscalehq.com
727.697.7528

http://www.drawntoscalehq.com --=A0 The intuitive, cloud-scale data
solution. Process, store, query, search, and serve all your data.

http://www.roadtofailure.com -- The Fringes of Scalability, Social
Media, and Computer Science

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-47990-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 01 06:30:13 2010
Return-Path: <java-user-return-47990-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28265 invoked from network); 1 Dec 2010 06:30:13 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 1 Dec 2010 06:30:13 -0000
Received: (qmail 37888 invoked by uid 500); 1 Dec 2010 06:30:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37730 invoked by uid 500); 1 Dec 2010 06:30:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37716 invoked by uid 99); 1 Dec 2010 06:30:10 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Dec 2010 06:30:10 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of seidymam@gmail.com designates 209.85.214.176 as permitted sender)
Received: from [209.85.214.176] (HELO mail-iw0-f176.google.com) (209.85.214.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Dec 2010 06:30:04 +0000
Received: by iwn7 with SMTP id 7so672421iwn.35
        for <java-user@lucene.apache.org>; Tue, 30 Nov 2010 22:29:43 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:date:message-id
         :subject:from:to:content-type;
        bh=3ydDU1NmeenvGGt36zryVuHGGk3wtwRtm9AZPwS40uw=;
        b=s11LmWVT5SED5qubcqm6Dwt5j2bbMnzTeQMUreOogszCIA4rzlJNTG00Jjly7Ul0nG
         jnZ83Unluh0kI2T45PmdTngqVYFJOLuOOvVToQ14pN7ZHl+09/ZYKN2EiOeGw5nCs1PQ
         iqGjGV5CUREFkbEGRcQNsTcRy3oDV+MiLYhJw=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=ZQVbG4FZXYboLfPdtAV2YrWnXAhpKdTGmXv/hxNF8e8Vo95pdO6nSOuU3qmnxInUPP
         G0Oc/y/kBE1YUoI3/hGycOw0882VJdqR47RM2sCFnW+u+AviaVSK+Ea+lIVfoHCWzoW3
         TZr2ul8qM9XYRxCJZjUVe8iqMCuLIrOl+S0z0=
MIME-Version: 1.0
Received: by 10.42.171.197 with SMTP id k5mr2383030icz.495.1291184983448; Tue,
 30 Nov 2010 22:29:43 -0800 (PST)
Received: by 10.42.58.136 with HTTP; Tue, 30 Nov 2010 22:29:43 -0800 (PST)
Date: Wed, 1 Dec 2010 09:29:43 +0300
Message-ID: <AANLkTimfuGzUMzGiij6=uH=TGHXbhmNhgRdYjC+cawFp@mail.gmail.com>
Subject: Wikileaks Iraq log
From: Seid Muhie <seidymam@gmail.com>
To: java-user <java-user@lucene.apache.org>
Content-Type: multipart/alternative; boundary=90e6ba6e860c471dad0496536e1d

--90e6ba6e860c471dad0496536e1d
Content-Type: text/plain; charset=ISO-8859-1

Dear all.
Sorry if you found this question out off topic.
I need to do some research for my Text processing course on the on the
wikileaks iraq war log text documents but unable to get the data.
anybody who can give me a hint please

thank you.

Seid M.

--90e6ba6e860c471dad0496536e1d--

From java-user-return-47991-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 01 09:46:27 2010
Return-Path: <java-user-return-47991-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2435 invoked from network); 1 Dec 2010 09:46:27 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 1 Dec 2010 09:46:27 -0000
Received: (qmail 48272 invoked by uid 500); 1 Dec 2010 09:46:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47933 invoked by uid 500); 1 Dec 2010 09:46:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47925 invoked by uid 99); 1 Dec 2010 09:46:24 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Dec 2010 09:46:24 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ian.lea@gmail.com designates 209.85.214.48 as permitted sender)
Received: from [209.85.214.48] (HELO mail-bw0-f48.google.com) (209.85.214.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Dec 2010 09:46:17 +0000
Received: by bwz9 with SMTP id 9so6569561bwz.35
        for <java-user@lucene.apache.org>; Wed, 01 Dec 2010 01:45:57 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:in-reply-to
         :references:from:date:message-id:subject:to:content-type
         :content-transfer-encoding;
        bh=kJS2Xi3Vh2vrf9llM8kPXbIHqufr8UO5XOrc33zPu+g=;
        b=dJsliTpd6CPa1rTAWRWReR/WIR2tEM5zgbO0BpIhEPT++QNLQK6j6gpOocfo+MPww4
         /zYqYeTIW5hMpeVOLK0B88yQF0FVH5dFNemKgOd4kUc3y4prTI/xC8/2+KGE363XAk6X
         E/63Mj0PZ+uMH6VlfZKhCvevkNlTc9VwjYBdI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        b=lQtR16TV06luEYX0m6PN5fUZxlvX2MiNt2I637DLupU/YGz9+i8uVa/CtaRCfSjl9R
         b1FBT9qSI/N/GKnpwyc2vfmQKR7MaHShA2SaIbXJh7s8E0c4ORZWJ1o56EQLlnKvn+uQ
         AFMbBsV3/Z4VZMUofMVeTfDa5lIAKLA2RtFpc=
Received: by 10.204.61.144 with SMTP id t16mr4687298bkh.52.1291196756442; Wed,
 01 Dec 2010 01:45:56 -0800 (PST)
MIME-Version: 1.0
Received: by 10.204.116.212 with HTTP; Wed, 1 Dec 2010 01:45:36 -0800 (PST)
In-Reply-To: <AANLkTinZTsmOzcGvQ3aawoAsVB9AJUSxo461ZUN2P=f3@mail.gmail.com>
References: <AANLkTinZTsmOzcGvQ3aawoAsVB9AJUSxo461ZUN2P=f3@mail.gmail.com>
From: Ian Lea <ian.lea@gmail.com>
Date: Wed, 1 Dec 2010 09:45:36 +0000
Message-ID: <AANLkTinVY1+EUzV3zMY26-7fGr7KVS0qokX3p75j=_Si@mail.gmail.com>
Subject: Re: problem with incremental update in lucene
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

It's probably this line:

Directory.copy(ramDir, FSDirectory.open(indexDir), false); // 3

the javadocs say

Copy contents of a directory src to a directory dest. If a file in src
already exists in dest then the one in dest will be blindly
overwritten.

I don't think you gain anything by using an intermediate RAMDirectory
- try just using a standard file based IndexWriter, making sure you
pass false for the create argument except when you want to start a new
index.

--
Ian.


On Wed, Dec 1, 2010 at 5:23 AM, Yakob <jacobian@opensuse-id.org> wrote:
> I am creating a program that can index many text files in different
> folder. so that's mean every folder that has text files get indexed
> and its index are stored in another folder. so this another folder
> acts like a universal index of all files in my computer. and I am
> using lucene to achieve this because lucene fully supported
> incremental update. this is the source code into which I use it for
> indexing.
>
> public class SimpleFileIndexer {
>
> public static void main(String[] args) throws Exception =A0 {
>
> =A0 =A0int i=3D0;
> =A0 =A0while(i<2) {
> =A0 =A0File indexDir =3D new File("C:/Users/Raden/Documents/myindex");
> =A0 =A0File dataDir =3D new File("C:/Users/Raden/Documents/indexthis");
> =A0 =A0String suffix =3D "txt";
>
> =A0 =A0SimpleFileIndexer indexer =3D new SimpleFileIndexer();
>
> =A0 =A0int numIndex =3D indexer.index(indexDir, dataDir, suffix);
>
> =A0 =A0System.out.println("Total files indexed " + numIndex);
> =A0 =A0i++;
> =A0 =A0Thread.sleep(1000);
>
> =A0 =A0}
> }
>
> private int index(File indexDir, File dataDir, String suffix) throws Exce=
ption {
> =A0 =A0RAMDirectory ramDir =3D new RAMDirectory(); =A0 =A0 =A0 =A0 =A0// =
1
> =A0 =A0IndexWriter indexWriter =3D new IndexWriter(
> =A0 =A0 =A0 =A0 =A0 =A0ramDir, =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =
=A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0// 2
> =A0 =A0 =A0 =A0 =A0 =A0new StandardAnalyzer(Version.LUCENE_CURRENT),
> =A0 =A0 =A0 =A0 =A0 =A0true,
> =A0 =A0 =A0 =A0 =A0 =A0IndexWriter.MaxFieldLength.UNLIMITED);
> =A0 =A0indexWriter.setUseCompoundFile(false);
> =A0 =A0indexDirectory(indexWriter, dataDir, suffix);
> =A0 =A0int numIndexed =3D indexWriter.maxDoc();
> =A0 =A0indexWriter.optimize();
> =A0 =A0indexWriter.close();
>
> =A0 =A0Directory.copy(ramDir, FSDirectory.open(indexDir), false); // 3
>
> =A0 =A0return numIndexed;
> }
>
> private void indexDirectory(IndexWriter indexWriter, File dataDir,
> String suffix) =A0throws IOException {
> =A0 =A0File[] files =3D dataDir.listFiles();
> =A0 =A0for (int i =3D 0; i < files.length; i++) {
> =A0 =A0 =A0 =A0File f =3D files[i];
> =A0 =A0 =A0 =A0if (f.isDirectory()) {
> =A0 =A0 =A0 =A0 =A0 =A0indexDirectory(indexWriter, f, suffix);
> =A0 =A0 =A0 =A0}
> =A0 =A0 =A0 =A0else {
> =A0 =A0 =A0 =A0 =A0 =A0indexFileWithIndexWriter(indexWriter, f, suffix);
> =A0 =A0 =A0 =A0}
> =A0 =A0}
> }
>
> private void indexFileWithIndexWriter(IndexWriter indexWriter, File f,
> String suffix) throws IOException {
> =A0 =A0if (f.isHidden() || f.isDirectory() || !f.canRead() || !f.exists()=
) {
> =A0 =A0 =A0 =A0return;
> =A0 =A0}
> =A0 =A0if (suffix!=3Dnull && !f.getName().endsWith(suffix)) {
> =A0 =A0 =A0 =A0return;
> =A0 =A0}
> =A0 =A0System.out.println("Indexing file " + f.getCanonicalPath());
>
> =A0 =A0Document doc =3D new Document();
> =A0 =A0doc.add(new Field("contents", new FileReader(f)));
> doc.add(new Field("filename", f.getCanonicalPath(), Field.Store.YES,
> Field.Index.ANALYZED));
> =A0 =A0indexWriter.addDocument(doc);
> } }
>
>
> the problem I am having now is that the indexing program I created
> above seem can't do any incremental update. I mean I can search for a
> text file but only for the file that existed in the last folder to
> which I already indexed, and the other previous folder that I had
> already indexed seems to be missing in the search result and didn't
> get displayed. can you tell me what went wrong in my code? I just
> wanted to be able to have incremental update feature in my source
> code. so in essence, my program seems to be overwriting the existing
> index with the new one instead of merging it.
>
> --
> http://jacobian.web.id
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-47992-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 01 10:02:57 2010
Return-Path: <java-user-return-47992-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8470 invoked from network); 1 Dec 2010 10:02:57 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 1 Dec 2010 10:02:57 -0000
Received: (qmail 85009 invoked by uid 500); 1 Dec 2010 10:02:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84723 invoked by uid 500); 1 Dec 2010 10:02:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84710 invoked by uid 99); 1 Dec 2010 10:02:53 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Dec 2010 10:02:53 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [209.85.215.176] (HELO mail-ey0-f176.google.com) (209.85.215.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Dec 2010 10:02:46 +0000
Received: by eyz10 with SMTP id 10so3475444eyz.35
        for <java-user@lucene.apache.org>; Wed, 01 Dec 2010 02:02:25 -0800 (PST)
MIME-Version: 1.0
Received: by 10.216.175.196 with SMTP id z46mr9073543wel.9.1291197745207; Wed,
 01 Dec 2010 02:02:25 -0800 (PST)
Received: by 10.216.93.14 with HTTP; Wed, 1 Dec 2010 02:02:25 -0800 (PST)
In-Reply-To: <6E7BEC74-C3B4-4587-9D27-781684E52B8A@smartsheet.com>
References: <6E7BEC74-C3B4-4587-9D27-781684E52B8A@smartsheet.com>
Date: Wed, 1 Dec 2010 05:02:25 -0500
Message-ID: <AANLkTinW5LPznm3ioU8FKKrhxaYV4ymgAa7i-x=Ze6y6@mail.gmail.com>
Subject: Re: Directory objects for index
From: Michael McCandless <lucene@mikemccandless.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

The FSDirectory does not itself hold any open files.

All that its close method actually does is disable future operations agains=
t it.

Still, it is a good practice to close it (after you've closed all IRs
and IWs) since this can help you catch bugs in your app (ie, if you
hit AlreadyClosedException you'll know you're using a "stale" FSDir).

There are behavior differences eg b/w Windows & Unix, but OS X and
Linux ought to behave similarly.  Can you describe more details on
what you're seeing?

Mike

On Mon, Nov 29, 2010 at 8:57 PM, Mark Kristensson
<mark.kristensson@smartsheet.com> wrote:
> While implementing a solution for keeping warmed indexReaders around for =
our various indexes (so users don't have to wait while we open an indexRead=
er for our one slow index), I've run into some serious problems trying to t=
rack down all of the outstanding file handles to my indexes.
>
> For a while, I thought I was not properly closing my indexReader handles,=
 however, I'm confident that I'm now doing that. So, the next most likely c=
ulprit are the directory objects. FYI, we use FSDirectory with a SingleInst=
anceLockFactory for all of our indexes right now.
>
> I'm trying to decipher the behavior that I'm seeing, but the behavior see=
ms to differ between my box (Mac OS X 10.6) and our lab machines (Linux) wi=
th how they handle and close the file handles from the Directory objects.
>
> Right now, we have several places in our code where we get a Directory ob=
ject from the Java File object, including multiple times with each pass of =
our indexing service (which runs twice per minute). I'm wondering if I shou=
ld instead use the static indexReader objects I'm now holding in a singleto=
n and just call indexReader.directory() in each instance where we need a di=
rectory object (e.g. opening an indexWriter, checking to see if an index is=
 locked, etc.).
>
> A few elementary questions about the Directory (specifically FSDirectory)=
 object:
> 1) Do I need to explicitly close directory objects?
> 2) If I need to close them, when do I do it? Just after handing to IndexR=
eader.open() or new IndexWriter()? Or should I close them =A0at the same ti=
me I close the IndexReader and IndexWriter objects?
> 3) Has anyone seem behavior that differs radically across OSes regarding =
references to open (and unclosed) FSDirectory objects?
>
>
> Thanks,
> Mark
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-47993-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 01 10:42:19 2010
Return-Path: <java-user-return-47993-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 27878 invoked from network); 1 Dec 2010 10:42:19 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 1 Dec 2010 10:42:19 -0000
Received: (qmail 42287 invoked by uid 500); 1 Dec 2010 10:42:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 41979 invoked by uid 500); 1 Dec 2010 10:42:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 41971 invoked by uid 99); 1 Dec 2010 10:42:16 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Dec 2010 10:42:16 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [209.85.161.176] (HELO mail-gx0-f176.google.com) (209.85.161.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Dec 2010 10:42:11 +0000
Received: by gxk4 with SMTP id 4so3869150gxk.35
        for <java-user@lucene.apache.org>; Wed, 01 Dec 2010 02:41:50 -0800 (PST)
MIME-Version: 1.0
Received: by 10.151.154.8 with SMTP id g8mr14533950ybo.322.1291200109569; Wed,
 01 Dec 2010 02:41:49 -0800 (PST)
Received: by 10.150.200.5 with HTTP; Wed, 1 Dec 2010 02:41:49 -0800 (PST)
In-Reply-To: <AANLkTinVY1+EUzV3zMY26-7fGr7KVS0qokX3p75j=_Si@mail.gmail.com>
References: <AANLkTinZTsmOzcGvQ3aawoAsVB9AJUSxo461ZUN2P=f3@mail.gmail.com>
	<AANLkTinVY1+EUzV3zMY26-7fGr7KVS0qokX3p75j=_Si@mail.gmail.com>
Date: Wed, 1 Dec 2010 17:41:49 +0700
Message-ID: <AANLkTikHSpHR=LyTGOraxTMtPDMa3qR9tdTfxqsKfA9-@mail.gmail.com>
Subject: Re: problem with incremental update in lucene
From: Yakob <jacobian@opensuse-id.org>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1

On 12/1/10, Ian Lea <ian.lea@gmail.com> wrote:
> It's probably this line:
>
> Directory.copy(ramDir, FSDirectory.open(indexDir), false); // 3
>
> the javadocs say
>
> Copy contents of a directory src to a directory dest. If a file in src
> already exists in dest then the one in dest will be blindly
> overwritten.
>
> I don't think you gain anything by using an intermediate RAMDirectory
> - try just using a standard file based IndexWriter, making sure you
> pass false for the create argument except when you want to start a new
> index.
>
> --
> Ian.
>

yes you're right.I failed to notice that.thank you.
anyhow the inclusion of RAMDirectory is just for an analysis though. I
will get rid of it in real life implementation of course. :-)

-- 
http://jacobian.web.id

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-47994-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 01 10:53:32 2010
Return-Path: <java-user-return-47994-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31467 invoked from network); 1 Dec 2010 10:53:31 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 1 Dec 2010 10:53:31 -0000
Received: (qmail 74570 invoked by uid 500); 1 Dec 2010 10:53:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 74432 invoked by uid 500); 1 Dec 2010 10:53:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 74412 invoked by uid 99); 1 Dec 2010 10:53:28 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Dec 2010 10:53:28 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [209.85.161.176] (HELO mail-gx0-f176.google.com) (209.85.161.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Dec 2010 10:53:24 +0000
Received: by gxk4 with SMTP id 4so3874166gxk.35
        for <java-user@lucene.apache.org>; Wed, 01 Dec 2010 02:53:03 -0800 (PST)
MIME-Version: 1.0
Received: by 10.150.52.4 with SMTP id z4mr735645ybz.37.1291200783082; Wed, 01
 Dec 2010 02:53:03 -0800 (PST)
Received: by 10.150.200.5 with HTTP; Wed, 1 Dec 2010 02:53:02 -0800 (PST)
In-Reply-To: <AANLkTimr3sPd8UJzq_4TA=7kHmv2Li+MiTJbqAEo-rhs@mail.gmail.com>
References: <AANLkTimyGXF+R8y1RU2nGeU4sre9S47jYdAbS2Fx-jkS@mail.gmail.com>
	<AANLkTi=4wFV1u1i8AZaPo=sjfhX3a8APuMncsK90p1N9@mail.gmail.com>
	<AANLkTik7q=UsH8OPAbvpMoot+EcB3rnse1351D13siL-@mail.gmail.com>
	<AANLkTimr3sPd8UJzq_4TA=7kHmv2Li+MiTJbqAEo-rhs@mail.gmail.com>
Date: Wed, 1 Dec 2010 17:53:02 +0700
Message-ID: <AANLkTi=FoPJDg3hYOB3NgLzHC+94kcBjZxosBfPqkvy-@mail.gmail.com>
Subject: Re: precision and recall in lucene
From: Yakob <jacobian@opensuse-id.org>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1

On 11/30/10, Robert Muir <rcmuir@gmail.com> wrote:
> On Tue, Nov 30, 2010 at 10:46 AM, Yakob <jacobian@opensuse-id.org> wrote:
>
>> can you tell me what went wrong? what is the difference between
>> topicsFile and qrelsFile anyway?
>>
>
> well its hard to tell what you are supplying as topics and qrels.
> have a look at /src/lia/benchmark in the LIA2 sample code: it has an
> example topic and 3 rows in qrels for it.
>
> basically, the topicsFile contains the "queries", and the qrelsFile
> contains judgements as to which documents are relevant.
>
> P.S.: once you have an index, a topics, and a qrels file, you can just
> use org.apache.lucene.benchmark.quality.trec.QueryDriver (it has a
> main method)
>

well yes your information is really helpful.I did find a topics and
qrels file that come in /src/lia/benchmark in the LIA2 sample code.
and the result did change slightly.but the precision and recall value
is still zero. I did also happen to use QueryDriver as you're
suggesting and the result is also the same as precision and recall is
still zero. I really need the value of precision and recall to be
anything but zero

I also put this question in stackoverflow so you can check this link
if you wanted to know more of my problem.

http://t.co/t0hat0T

so any further advice would be helpful though :-)
-- 
http://jacobian.web.id

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-47995-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 01 11:56:51 2010
Return-Path: <java-user-return-47995-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 54640 invoked from network); 1 Dec 2010 11:56:51 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 1 Dec 2010 11:56:51 -0000
Received: (qmail 84104 invoked by uid 500); 1 Dec 2010 11:56:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83931 invoked by uid 500); 1 Dec 2010 11:56:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 83923 invoked by uid 99); 1 Dec 2010 11:56:48 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Dec 2010 11:56:48 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of rcmuir@gmail.com designates 209.85.214.48 as permitted sender)
Received: from [209.85.214.48] (HELO mail-bw0-f48.google.com) (209.85.214.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Dec 2010 11:56:42 +0000
Received: by bwz9 with SMTP id 9so6675942bwz.35
        for <java-user@lucene.apache.org>; Wed, 01 Dec 2010 03:56:21 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:in-reply-to
         :references:from:date:message-id:subject:to:content-type;
        bh=NODjLGI2IOFTAsF4rHhxG7/BVL5oXua4M+9q3ZS7yu0=;
        b=mNol/SzbwYIjymUeCVX8CV8wYGVV7LRhgrTtRtAYYA2GZkmQtGBE5J7CXVjVfjfzvN
         PJrJBjzY+rNvjZYJTIW6cQZv9hPKTPV3S+jkzWoEv7qRkZBVpdPcAKsd3Jw5BgOKxXiI
         cXvazx1ms2A6A+b/Zh8/N/0hS2QJT1qYPsg5A=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=jdvdR6vdFTCdCfw4Acd9xDYrcOsaZb+AOU9OuX32O/KqDw3hgJBEjA57p0dCOrHXD5
         FHdIlN4NieY8mXzoAaiG/CJk+EMptw+T7YShJfXwCIjTz7t1f3Ivwbj27DiFAFoFwlhU
         fDifa72+9dCZXCQhu7WzQRKXsSX7li0xT13L4=
Received: by 10.204.68.142 with SMTP id v14mr8196533bki.106.1291204581344;
 Wed, 01 Dec 2010 03:56:21 -0800 (PST)
MIME-Version: 1.0
Received: by 10.204.77.201 with HTTP; Wed, 1 Dec 2010 03:55:59 -0800 (PST)
In-Reply-To: <AANLkTi=FoPJDg3hYOB3NgLzHC+94kcBjZxosBfPqkvy-@mail.gmail.com>
References: <AANLkTimyGXF+R8y1RU2nGeU4sre9S47jYdAbS2Fx-jkS@mail.gmail.com>
 <AANLkTi=4wFV1u1i8AZaPo=sjfhX3a8APuMncsK90p1N9@mail.gmail.com>
 <AANLkTik7q=UsH8OPAbvpMoot+EcB3rnse1351D13siL-@mail.gmail.com>
 <AANLkTimr3sPd8UJzq_4TA=7kHmv2Li+MiTJbqAEo-rhs@mail.gmail.com> <AANLkTi=FoPJDg3hYOB3NgLzHC+94kcBjZxosBfPqkvy-@mail.gmail.com>
From: Robert Muir <rcmuir@gmail.com>
Date: Wed, 1 Dec 2010 06:55:59 -0500
Message-ID: <AANLkTi=24viRV9VW9D2kEQhH4O_HsRi=yny=mfx1YL3r@mail.gmail.com>
Subject: Re: precision and recall in lucene
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8

On Wed, Dec 1, 2010 at 5:53 AM, Yakob <jacobian@opensuse-id.org> wrote:
>
> well yes your information is really helpful.I did find a topics and
> qrels file that come in /src/lia/benchmark in the LIA2 sample code.
> and the result did change slightly.but the precision and recall value
> is still zero. I did also happen to use QueryDriver as you're
> suggesting and the result is also the same as precision and recall is
> still zero. I really need the value of precision and recall to be
> anything but zero
>

well you can't use those files with your own document collection.
you need to populate the topics file with queries that you care about measuring.
then you need to populate the qrels file with judgements for each
query,  *for your collection*. you are saying this set of documents is
relevant as a search result to this query.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-47996-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 01 12:10:41 2010
Return-Path: <java-user-return-47996-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 66288 invoked from network); 1 Dec 2010 12:10:41 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 1 Dec 2010 12:10:41 -0000
Received: (qmail 2283 invoked by uid 500); 1 Dec 2010 12:10:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2070 invoked by uid 500); 1 Dec 2010 12:10:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2060 invoked by uid 99); 1 Dec 2010 12:10:37 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Dec 2010 12:10:37 +0000
X-ASF-Spam-Status: No, hits=3.7 required=10.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of falha404@gmail.com designates 74.125.82.42 as permitted sender)
Received: from [74.125.82.42] (HELO mail-ww0-f42.google.com) (74.125.82.42)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Dec 2010 12:10:29 +0000
Received: by wwb29 with SMTP id 29so97636wwb.5
        for <java-user@lucene.apache.org>; Wed, 01 Dec 2010 04:10:08 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:sender:received
         :in-reply-to:references:from:date:x-google-sender-auth:message-id
         :subject:to:content-type;
        bh=Yf20YxVNab/Oten/Q6y1QkRt16xLcsqLkedwOYzcdyo=;
        b=W1aNdyN81fGEJ1TkST3G+wWXrh5V6ZGZPk75Wp6Hs+0/iG6YCL6JNL8G0ta3xIlSp8
         El0bW9uCzxMwkWKhGYHw2FYmGyxIhixvGAJ9aNQONjISdvs3B2zOpoincuHG0txrXmYP
         hmBPVeWgWQeq/i/uNWYJ42rVb32VfdGGqY4eQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:sender:in-reply-to:references:from:date
         :x-google-sender-auth:message-id:subject:to:content-type;
        b=skdrgkvdcudP2wsmLGoxlPXhFXUFZ2FP30f9RyWFsEn+9v9x4RrxzcbBfTsUtXL7jz
         U7Pp2iKLbSc7L3+i7U5FyBKlNPFeV6CzL/GIhkwfUkdIrWB0IiySsNgKIj2vgnHKSvxl
         GJ9aIshiz0cTcqE4BqUOyyvRZA88nJEdPLmcA=
Received: by 10.216.161.130 with SMTP id w2mr7846720wek.17.1291205408721; Wed,
 01 Dec 2010 04:10:08 -0800 (PST)
MIME-Version: 1.0
Sender: falha404@gmail.com
Received: by 10.216.20.4 with HTTP; Wed, 1 Dec 2010 04:09:48 -0800 (PST)
In-Reply-To: <AANLkTin592Q7t6Oy-2gu_SUsBnMyUXhM6PjV=dQbytKj@mail.gmail.com>
References: <AANLkTik6H5mXo9=y2ww=CJ46j2Z=ecLapE3FD_uhU9a0@mail.gmail.com>
 <AANLkTinKv+w+TX+8Ps4trntYStWudfm=qzi-_9ZJD84Q@mail.gmail.com>
 <AANLkTimZmXOJQrt_PAt=ibgTHmR=hkham8ZVxJy95uZ8@mail.gmail.com>
 <AANLkTi=LJvFrZ9tAyp8fb7fxXvs0aa5TgSD-9vtJ-3vx@mail.gmail.com> <AANLkTin592Q7t6Oy-2gu_SUsBnMyUXhM6PjV=dQbytKj@mail.gmail.com>
From: Fabiano Nunes <fabiano@nunes.me>
Date: Wed, 1 Dec 2010 10:09:48 -0200
X-Google-Sender-Auth: CP6RVtm2rRDgY4Bd5X7-hlP1YdI
Message-ID: <AANLkTinV0za0R6mo=V1JnFJ3k6t=-s83PUNSAJq5C3BZ@mail.gmail.com>
Subject: Re: Retrieving payload attribute in highlighter
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016364c773fb80d7d0496582fe1
X-Virus-Checked: Checked by ClamAV on apache.org

--0016364c773fb80d7d0496582fe1
Content-Type: text/plain; charset=ISO-8859-1

Thanks Erick. This solved my problem. Now I can retrieve payloads using on
the fly readers.



On Tue, Nov 30, 2010 at 6:49 PM, Erick Erickson <erickerickson@gmail.com>wrote:

> Warning, ignorance alert. I'm not all that up on the guts of this one.
>
> But take a look at MemoryIndex, there's an example there. The gist
> is that you create a MemoryIndex on the fly and index the doc in question
> into it, then you can get the IndexReader from the IndexSearcher associated
> with the MemoryIndex. All this is similar to how Highlighter works, and it
> looks like you have access to the original input?
>
> Now, this is largely a guess, so don't waste time if I'm really off base
> with
> this.
>
> Best
> Erick
>
> On Tue, Nov 30, 2010 at 2:16 PM, Fabiano Nunes <fabiano@nunes.me> wrote:
>
> > Ok. I'll go ahead.
> > Just one more thing: the apidocs warning says "(...) IndexReader should
> > only
> > contain doc of interest, best to use MemoryIndex (..)".
> > How can I build a reader with a subset of docs?
> >
> > Thanks!
> >
> > On Tue, Nov 30, 2010 at 2:31 PM, Erick Erickson <erickerickson@gmail.com
> > >wrote:
> >
> > > That's the Lucene developers' way of saying "we don't guarantee
> backwards
> > > compatibility".
> > >
> > > The devs go to great lengths to honor the contract of not changing
> public
> > > APIs without
> > > going through a deprecation process, which causes quite a lot of work.
> > But
> > > that conflicts
> > > with the desirable process of having real-live users get a look at new
> > > code.
> > > So this
> > > warning merely says "the next compilation of Lucene may have a
> different
> > > API, so don't
> > > blame us if you have to recompile against a new jar". OK, I've played
> > > pretty
> > > loose with
> > > the words, but that's the intent.
> > >
> > > By and large, though, the functionality will be there in new versions,
> > but
> > > you may have
> > > to change the calls you use if you get new jars.
> > >
> > > I'd go ahead and use the class/method with confidence that something
> > > similar
> > > will be there
> > > in the future, but you may have to recompile if you get new jars.
> > >
> > > Best
> > > Erick
> > >
> > > On Tue, Nov 30, 2010 at 11:06 AM, Fabiano Nunes <fabiano@nunes.me>
> > wrote:
> > >
> > > > I've figured out the PayloadSpanUtil class. It's exactly what I'm
> > > > expecting.
> > > > But, I'm concerned about the warning message in API docs (indeed, I
> > think
> > > I
> > > > dont understand it). There is any other approach? Can I have the same
> > > > results retrieving the termPositions without performance issues?
> > > >
> > > > Thanks.
> > > >
> > > > On Tue, Nov 30, 2010 at 1:20 PM, Fabiano Nunes <fabiano@nunes.me>
> > wrote:
> > > >
> > > > > Hello,
> > > > > I'm trying to retrieve payloads from the highlighteds terms by
> > > > Highlighter
> > > > > class. In my tests, all terms returned from Highlighter has null as
> > > > payload.
> > > > > Example:
> > > > >
> > > > > Highlighter h = new Highlighter(new Formatter() {
> > > > > public String highlightTerm(String originalText, TokenGroup
> > tokenGroup)
> > > {
> > > > > Token token = tokenGroup.getToken(0);
> > > > >  Payload payload = token.getPayload();
> > > > >  assertNotNull(payload); // <---------------- payload is always
> null
> > > > >  return originalText;
> > > > > }
> > > > > }, scorer);
> > > > >
> > > > > It seems that Highlighter removes payload attribute from all terms
> > > before
> > > > > creating its TokenGroup.
> > > > > How can I preserve it?
> > > > >
> > > > > Thanks.
> > > > >
> > > >
> > >
> >
>

--0016364c773fb80d7d0496582fe1--

From java-user-return-47997-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 01 12:16:24 2010
Return-Path: <java-user-return-47997-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 67230 invoked from network); 1 Dec 2010 12:16:23 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 1 Dec 2010 12:16:23 -0000
Received: (qmail 10678 invoked by uid 500); 1 Dec 2010 12:16:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10649 invoked by uid 500); 1 Dec 2010 12:16:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10641 invoked by uid 99); 1 Dec 2010 12:16:20 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Dec 2010 12:16:20 +0000
X-ASF-Spam-Status: No, hits=3.7 required=10.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of falha404@gmail.com designates 74.125.82.48 as permitted sender)
Received: from [74.125.82.48] (HELO mail-ww0-f48.google.com) (74.125.82.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Dec 2010 12:16:14 +0000
Received: by wwb28 with SMTP id 28so35746wwb.5
        for <java-user@lucene.apache.org>; Wed, 01 Dec 2010 04:15:53 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:sender:received:from:date
         :x-google-sender-auth:message-id:subject:to:content-type;
        bh=LIeE4rwzkoLI0Sa2gWuvURcKV7gm1YxZtLHsYc7rRUw=;
        b=U+Yd8TSWeKbXsppWSDzwKnCvLPe6wMWdwE92jRLAf1LsZFAnSRIUMPooBs0rh3O8fH
         8vk7WMFlkpvj9u52e3T3reGpOyzOOu3CylU3O3lBey7DYtL/fA+3vdBfi5y3QLh+7wr3
         C844SDbHJkRQh/Gsdnl83RrX+6bbhUrGyjAq0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:sender:from:date:x-google-sender-auth:message-id
         :subject:to:content-type;
        b=rO7B5sBBGcxoFUGaR8YJtpbc5byKEDk/h4eAOoPyniGHCTtK+zxegm/jynZaOPboWv
         x9ieB4Lj77OoeE0KISGy3vYMZ1zJz/i1e1rYRd2wKqMwQZqg8x8XGRSUQz4ZCv8IihPp
         BtaPxvGespS1wd3xJRHSQKdWkRMo4WuVy53aM=
Received: by 10.216.53.147 with SMTP id g19mr1887317wec.17.1291205753120; Wed,
 01 Dec 2010 04:15:53 -0800 (PST)
MIME-Version: 1.0
Sender: falha404@gmail.com
Received: by 10.216.20.4 with HTTP; Wed, 1 Dec 2010 04:15:33 -0800 (PST)
From: Fabiano Nunes <fabiano@nunes.me>
Date: Wed, 1 Dec 2010 10:15:33 -0200
X-Google-Sender-Auth: 6gjUUBjsNJRWCtQ503k-64J2XXA
Message-ID: <AANLkTinFN1ryzuB9pW8o1B-NYTsftgDB=0HbcctgCK=4@mail.gmail.com>
Subject: PayloadSpanUtil and unstored fields.
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016e6dbea933f27f004965844eb
X-Virus-Checked: Checked by ClamAV on apache.org

--0016e6dbea933f27f004965844eb
Content-Type: text/plain; charset=ISO-8859-1

PayloadSpanUtil can't retrieve payloads from unstored fields (Field.Store.NO).
Since the payloads is stored in terms, why do I need store the fields?
Example:
PayloadSpanUtil psu = new PayloadSpanUtil(ireader);
 Collection<byte[]> tests = psu.getPayloadsForQuery(query);
Assert.assertTrue((tests.size() > 0)); // <------- tests is always 0 if the
field is Field.Store.NO

Thanks.

--0016e6dbea933f27f004965844eb--

From java-user-return-47998-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 01 12:25:02 2010
Return-Path: <java-user-return-47998-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 73153 invoked from network); 1 Dec 2010 12:25:02 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 1 Dec 2010 12:25:02 -0000
Received: (qmail 22881 invoked by uid 500); 1 Dec 2010 12:25:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22844 invoked by uid 500); 1 Dec 2010 12:25:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22836 invoked by uid 99); 1 Dec 2010 12:24:59 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Dec 2010 12:24:59 +0000
X-ASF-Spam-Status: No, hits=3.7 required=10.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of falha404@gmail.com designates 74.125.82.176 as permitted sender)
Received: from [74.125.82.176] (HELO mail-wy0-f176.google.com) (74.125.82.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Dec 2010 12:24:54 +0000
Received: by wyf28 with SMTP id 28so7329593wyf.35
        for <java-user@lucene.apache.org>; Wed, 01 Dec 2010 04:24:33 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:sender:received
         :in-reply-to:references:from:date:x-google-sender-auth:message-id
         :subject:to:content-type;
        bh=e+j5U7uRd9VBb9/yg/CtF2Smdyf5Gx9FyC0PUlN9Rx4=;
        b=Z5xqjUI2wgilOBGAfLDel7V79TobIsK3Gh99zkYpuPmruY/FcJaQ3NfTGjrJdyjcsc
         LAHNQR1IRtU/KDLERP5LU84ykGWnkfPkaQ7dDUkAMOVFGeTxFoW1PuBzvH8DvfJSTz6z
         DTmOriLywrdEsbm0f8Ou/EBtYeSzkchBMTrOQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:sender:in-reply-to:references:from:date
         :x-google-sender-auth:message-id:subject:to:content-type;
        b=vmjAEtVDKerDgO0i92Wap//VVZtp8FEDOECXbu2gCudWzE9GjNBmOUbeedsBZHwM/m
         Ujfrh2KW+hZZpxA3HePedhoneYBlD/43LC3zpLTWoWM5P0tvw7T7isG3TvJ88XGIQr6i
         sITn9/gIz1TKFy5mcbSDAVPjIGYjpSCOOxBk8=
Received: by 10.216.242.78 with SMTP id h56mr1221783wer.47.1291206273604; Wed,
 01 Dec 2010 04:24:33 -0800 (PST)
MIME-Version: 1.0
Sender: falha404@gmail.com
Received: by 10.216.20.4 with HTTP; Wed, 1 Dec 2010 04:24:13 -0800 (PST)
In-Reply-To: <AANLkTi=zezJt=zGK0_4ikJbvNn3B-tG_+3i3Dia1dae4@mail.gmail.com>
References: <AANLkTinFN1ryzuB9pW8o1B-NYTsftgDB=0HbcctgCK=4@mail.gmail.com> <AANLkTi=zezJt=zGK0_4ikJbvNn3B-tG_+3i3Dia1dae4@mail.gmail.com>
From: Fabiano Nunes <fabiano@nunes.me>
Date: Wed, 1 Dec 2010 10:24:13 -0200
X-Google-Sender-Auth: gdEbFF46EwRTJLhpsQEFPFWQ1V8
Message-ID: <AANLkTik=-nQjUKEv=1C44yzJ_zUKYTzKEp_7hq9GCsxO@mail.gmail.com>
Subject: Re: PayloadSpanUtil and unstored fields.
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=e0cb4e43ae21451bc40496586337

--e0cb4e43ae21451bc40496586337
Content-Type: text/plain; charset=ISO-8859-1

Sorry. I'm opening it again.

On Wed, Dec 1, 2010 at 10:18 AM, Fabiano Nunes <fabiano@nunes.me> wrote:

> Please, ignore this thread.
> It's *my misunderstanding* of query.getSpans().
>
> Thanks!
>
> On Wed, Dec 1, 2010 at 10:15 AM, Fabiano Nunes <fabiano@nunes.me> wrote:
>
>> PayloadSpanUtil can't retrieve payloads from unstored fields (
>> Field.Store.NO). Since the payloads is stored in terms, why do I need
>> store the fields?
>> Example:
>>  PayloadSpanUtil psu = new PayloadSpanUtil(ireader);
>>  Collection<byte[]> tests = psu.getPayloadsForQuery(query);
>> Assert.assertTrue((tests.size() > 0)); // <------- tests is always 0 if
>> the field is Field.Store.NO
>>
>> Thanks.
>>
>
>

--e0cb4e43ae21451bc40496586337--

From java-user-return-47999-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 01 12:25:56 2010
Return-Path: <java-user-return-47999-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 75097 invoked from network); 1 Dec 2010 12:25:56 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 1 Dec 2010 12:25:56 -0000
Received: (qmail 27551 invoked by uid 500); 1 Dec 2010 12:25:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27339 invoked by uid 500); 1 Dec 2010 12:25:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27331 invoked by uid 99); 1 Dec 2010 12:25:53 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Dec 2010 12:25:53 +0000
X-ASF-Spam-Status: No, hits=3.7 required=10.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of falha404@gmail.com designates 74.125.82.176 as permitted sender)
Received: from [74.125.82.176] (HELO mail-wy0-f176.google.com) (74.125.82.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Dec 2010 12:25:49 +0000
Received: by mail-wy0-f176.google.com with SMTP id 28so7329593wyf.35
        for <java-user@lucene.apache.org>; Wed, 01 Dec 2010 04:25:28 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:sender:received
         :in-reply-to:references:from:date:x-google-sender-auth:message-id
         :subject:to:content-type;
        bh=kbcsgqchJba62OWm1m8L9ORRIUAJ7tA3b3tdpM/Dlqk=;
        b=SbKovmaxAxSgK7n8MQSUwXjCQhUEKShAZ2Xx4aFzScB6gnd1ClXKt8Jt5C4hQIVSiy
         /MOCViTjuZsjAfVBjGPM73efNShWP0LbMGYa5ylqt3L0a8q4QaHncLQemoXI+kfFWk56
         X6O63CllNJRDobQj1QJE9hbcEiD94AHX5kIJI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:sender:in-reply-to:references:from:date
         :x-google-sender-auth:message-id:subject:to:content-type;
        b=PmoFZPSB4r3mfyyCUZ2oDqnf4nHA8N3LAfzP/NfbOVIwEY45aSCGoCC7AYXEhzezCl
         KLp55czooB22DyJHE4qFEcCytb9L2YLx+8d4WlzeeW16oxqGb6cRfmOL9BMYABZsb9Cd
         2L3aAo7KCwb2jpSsGxQIKinfP73tU2WObFDvA=
Received: by 10.216.242.78 with SMTP id h56mr1215107wer.47.1291205958141; Wed,
 01 Dec 2010 04:19:18 -0800 (PST)
MIME-Version: 1.0
Sender: falha404@gmail.com
Received: by 10.216.20.4 with HTTP; Wed, 1 Dec 2010 04:18:57 -0800 (PST)
In-Reply-To: <AANLkTinFN1ryzuB9pW8o1B-NYTsftgDB=0HbcctgCK=4@mail.gmail.com>
References: <AANLkTinFN1ryzuB9pW8o1B-NYTsftgDB=0HbcctgCK=4@mail.gmail.com>
From: Fabiano Nunes <fabiano@nunes.me>
Date: Wed, 1 Dec 2010 10:18:57 -0200
X-Google-Sender-Auth: -C8NZn0pVHh5bMokNm8oPJp2URU
Message-ID: <AANLkTi=zezJt=zGK0_4ikJbvNn3B-tG_+3i3Dia1dae4@mail.gmail.com>
Subject: Re: PayloadSpanUtil and unstored fields.
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=e0cb4e43ae217789c80496585045

--e0cb4e43ae217789c80496585045
Content-Type: text/plain; charset=ISO-8859-1

Please, ignore this thread.
It's *my misunderstanding* of query.getSpans().

Thanks!

On Wed, Dec 1, 2010 at 10:15 AM, Fabiano Nunes <fabiano@nunes.me> wrote:

> PayloadSpanUtil can't retrieve payloads from unstored fields (
> Field.Store.NO). Since the payloads is stored in terms, why do I need
> store the fields?
> Example:
>  PayloadSpanUtil psu = new PayloadSpanUtil(ireader);
>  Collection<byte[]> tests = psu.getPayloadsForQuery(query);
> Assert.assertTrue((tests.size() > 0)); // <------- tests is always 0 if the
> field is Field.Store.NO
>
> Thanks.
>

--e0cb4e43ae217789c80496585045--

From java-user-return-48000-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 01 12:26:10 2010
Return-Path: <java-user-return-48000-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 75173 invoked from network); 1 Dec 2010 12:26:09 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 1 Dec 2010 12:26:09 -0000
Received: (qmail 29307 invoked by uid 500); 1 Dec 2010 12:26:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 29270 invoked by uid 500); 1 Dec 2010 12:26:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 29262 invoked by uid 99); 1 Dec 2010 12:26:07 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Dec 2010 12:26:07 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [209.85.160.176] (HELO mail-gy0-f176.google.com) (209.85.160.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Dec 2010 12:26:02 +0000
Received: by gyf1 with SMTP id 1so3928615gyf.35
        for <java-user@lucene.apache.org>; Wed, 01 Dec 2010 04:25:41 -0800 (PST)
MIME-Version: 1.0
Received: by 10.150.190.9 with SMTP id n9mr14636942ybf.379.1291206340107; Wed,
 01 Dec 2010 04:25:40 -0800 (PST)
Received: by 10.150.200.5 with HTTP; Wed, 1 Dec 2010 04:25:40 -0800 (PST)
In-Reply-To: <AANLkTi=24viRV9VW9D2kEQhH4O_HsRi=yny=mfx1YL3r@mail.gmail.com>
References: <AANLkTimyGXF+R8y1RU2nGeU4sre9S47jYdAbS2Fx-jkS@mail.gmail.com>
	<AANLkTi=4wFV1u1i8AZaPo=sjfhX3a8APuMncsK90p1N9@mail.gmail.com>
	<AANLkTik7q=UsH8OPAbvpMoot+EcB3rnse1351D13siL-@mail.gmail.com>
	<AANLkTimr3sPd8UJzq_4TA=7kHmv2Li+MiTJbqAEo-rhs@mail.gmail.com>
	<AANLkTi=FoPJDg3hYOB3NgLzHC+94kcBjZxosBfPqkvy-@mail.gmail.com>
	<AANLkTi=24viRV9VW9D2kEQhH4O_HsRi=yny=mfx1YL3r@mail.gmail.com>
Date: Wed, 1 Dec 2010 19:25:40 +0700
Message-ID: <AANLkTinLj0xHeBMtE4XuycLx0eroOH=E5XdBhF+UH7yu@mail.gmail.com>
Subject: Re: precision and recall in lucene
From: Yakob <jacobian@opensuse-id.org>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1

On 12/1/10, Robert Muir <rcmuir@gmail.com> wrote:

>
> well you can't use those files with your own document collection.
> you need to populate the topics file with queries that you care about
> measuring.
> then you need to populate the qrels file with judgements for each
> query,  *for your collection*. you are saying this set of documents is
> relevant as a search result to this query.
>
> ---------------------------------------------------------------------

can you give me an example of how to populate the topics file and
qrels file other than those on the LIA2 sample code? I still don't
understand of how these 2 files text work anyway. :-)

let me get this straight. I need to fill topics file with any query
that I want and qrels file with judgement. but what is the meaning of
judgement in this case?

-- 
http://jacobian.web.id

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48001-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 01 12:33:49 2010
Return-Path: <java-user-return-48001-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 77032 invoked from network); 1 Dec 2010 12:33:48 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 1 Dec 2010 12:33:48 -0000
Received: (qmail 42641 invoked by uid 500); 1 Dec 2010 12:33:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42611 invoked by uid 500); 1 Dec 2010 12:33:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42603 invoked by uid 99); 1 Dec 2010 12:33:45 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Dec 2010 12:33:45 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of rcmuir@gmail.com designates 209.85.214.48 as permitted sender)
Received: from [209.85.214.48] (HELO mail-bw0-f48.google.com) (209.85.214.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Dec 2010 12:33:40 +0000
Received: by bwz9 with SMTP id 9so6711474bwz.35
        for <java-user@lucene.apache.org>; Wed, 01 Dec 2010 04:33:19 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:in-reply-to
         :references:from:date:message-id:subject:to:content-type;
        bh=rlzew+ACRraKKsJgXgKi3Mbm5qRbrxupazKbFXNH4mw=;
        b=iDOA40jh18+bvnhn3w0/rDjSpg94nPPXAPiNvfnslHHuGwli70knS0yhni/wTS6D/K
         TsD1fiK3lh1U/0qYFegIoGHlRFRVriO3I+LlVJU0mH34JSIRo6X2VUBJ5HiAcZpwnM4A
         1xM1EU9du9ivTjhIy5ryuEy4PHAyW3yeG29xA=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=hkg1GXGSKKyIfC2fH5nfoJEX7UuauZKnyq/rUR2LN2sfq8h513l5gp4P7uB+GALrqN
         hAKsw0A8YVJtP1qJDhd7Nqe5JeIOQTiBssI1LEezfNXuScr9JXmgsxDHuuBbSvPmv0gC
         CaTl1lhZLF023PIurbukCoAxkpE4/rFuys/2w=
Received: by 10.204.69.74 with SMTP id y10mr8219624bki.79.1291206798885; Wed,
 01 Dec 2010 04:33:18 -0800 (PST)
MIME-Version: 1.0
Received: by 10.204.77.201 with HTTP; Wed, 1 Dec 2010 04:32:58 -0800 (PST)
In-Reply-To: <AANLkTinLj0xHeBMtE4XuycLx0eroOH=E5XdBhF+UH7yu@mail.gmail.com>
References: <AANLkTimyGXF+R8y1RU2nGeU4sre9S47jYdAbS2Fx-jkS@mail.gmail.com>
 <AANLkTi=4wFV1u1i8AZaPo=sjfhX3a8APuMncsK90p1N9@mail.gmail.com>
 <AANLkTik7q=UsH8OPAbvpMoot+EcB3rnse1351D13siL-@mail.gmail.com>
 <AANLkTimr3sPd8UJzq_4TA=7kHmv2Li+MiTJbqAEo-rhs@mail.gmail.com>
 <AANLkTi=FoPJDg3hYOB3NgLzHC+94kcBjZxosBfPqkvy-@mail.gmail.com>
 <AANLkTi=24viRV9VW9D2kEQhH4O_HsRi=yny=mfx1YL3r@mail.gmail.com> <AANLkTinLj0xHeBMtE4XuycLx0eroOH=E5XdBhF+UH7yu@mail.gmail.com>
From: Robert Muir <rcmuir@gmail.com>
Date: Wed, 1 Dec 2010 07:32:58 -0500
Message-ID: <AANLkTi=2QJYWuV3EfO+7Uc40FS16eU7+razzXC-k8OwQ@mail.gmail.com>
Subject: Re: precision and recall in lucene
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8

On Wed, Dec 1, 2010 at 7:25 AM, Yakob <jacobian@opensuse-id.org> wrote:
> can you give me an example of how to populate the topics file and
> qrels file other than those on the LIA2 sample code? I still don't
> understand of how these 2 files text work anyway. :-)
>
> let me get this straight. I need to fill topics file with any query
> that I want and qrels file with judgement. but what is the meaning of
> judgement in this case?
>

you fill the topics files with list of queries, like the lia2 example
that has a single query for "apache source":

<top>
<num> Number: 0
<title> apache source
<desc> Description:
<narr> Narrative:
</top>

then you populate the qrels file with the "answers" for your document
collection:

#       qnum   0   doc-name     is-relevant

0        0       apache1.0.txt           1
0        0       apache1.1.txt           1
0        0       apache2.0.txt           1

this says that these 3 documents are relevant results for the query
"apache source"

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48002-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 01 12:34:32 2010
Return-Path: <java-user-return-48002-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 77255 invoked from network); 1 Dec 2010 12:34:32 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 1 Dec 2010 12:34:32 -0000
Received: (qmail 44797 invoked by uid 500); 1 Dec 2010 12:34:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44583 invoked by uid 500); 1 Dec 2010 12:34:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44575 invoked by uid 99); 1 Dec 2010 12:34:29 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Dec 2010 12:34:29 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [98.139.53.212] (HELO nm19-vm0.bullet.mail.ac4.yahoo.com) (98.139.53.212)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 01 Dec 2010 12:34:20 +0000
Received: from [98.139.52.194] by nm19.bullet.mail.ac4.yahoo.com with NNFMP; 01 Dec 2010 12:33:58 -0000
Received: from [98.139.52.134] by tm7.bullet.mail.ac4.yahoo.com with NNFMP; 01 Dec 2010 12:33:58 -0000
Received: from [127.0.0.1] by omp1017.mail.ac4.yahoo.com with NNFMP; 01 Dec 2010 12:33:58 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 706999.5696.bm@omp1017.mail.ac4.yahoo.com
Received: (qmail 58095 invoked by uid 60001); 1 Dec 2010 12:07:17 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1291205237; bh=J2zkwrxQfA7ZaEQ2U3wRpuIyLQYHV+vHv4LV2KhZSbY=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:References:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=v4BiIfPIBiobaxPArUNnaHR6V/XrU8Yp68hW0gpUeSU9YeosSkF1sm+v0hRLIUR00AA+aDvEZqrWrWUfGwwuNXho3Eno2tFPhrGhf/CGEUFCwfTD4LZ2qjjRL+bPvDhYRGctJiNqphZ6KbiNcGrSzdQLBtLX+RlwVgc0taBfHD4=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:References:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=IU1ik6EJ1rCQPo2L5U0rSFyOh6ScLGER1T2AW8RGsVXhAYDJg8En72P9zd7gNd2Kp13wbgD9/+7jHHVaM11r2QSVIv7hYaZZsa7iwYILavdUYkg5H4Jj5Mln7G8Xrt8+057RKh8WY8sCYiLJaXZzwGKZyHpwcTU5EkefCJP60+E=;
Message-ID: <53337.57493.qm@web50207.mail.re2.yahoo.com>
X-YMail-OSG: qNgZiJIVM1kbzuzmOJcsUwA1TfOKVOgotKM7ocR6.GgEOmR
 9AfX.w_SJWT1UJMBobH3n.T5mW1AzFRnGlksyPU.8pv0dq4dWNgM8NZaOR.B
 doSEhYhOgBuweM5Tbhra3ez8m7ofOqz9P7y7SI9e0Duh42LrTxTGJ3kgqXeM
 APmxdk3RtT2omysZyxJ1cAhMRVLvo9AlYtxBNwtfGPAIXKjJnfVCc3akeROO
 pewQ49CjAufYd2wZ2JdyP9CMf80KYeWQrTAuBRk5QqiQsVijKHV7ApzkeLie
 _vunB_tPumB__lUP08hyKlEFHRk_MRokjcxhn0yBvdfYMiMj_KNQVPxLj3xk
 -
Received: from [213.55.85.89] by web50207.mail.re2.yahoo.com via HTTP; Wed, 01 Dec 2010 04:07:16 PST
X-Mailer: YahooMailRC/553 YahooMailWebService/0.8.107.285259
References: <AANLkTimfuGzUMzGiij6=uH=TGHXbhmNhgRdYjC+cawFp@mail.gmail.com>
Date: Wed, 1 Dec 2010 04:07:16 -0800 (PST)
From: henok sahilu <henok_sahilu@yahoo.com>
Subject: Re: Wikileaks Iraq log
To: java-user@lucene.apache.org
In-Reply-To: <AANLkTimfuGzUMzGiij6=uH=TGHXbhmNhgRdYjC+cawFp@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-343608195-1291205236=:57493"

--0-343608195-1291205236=:57493
Content-Type: text/plain; charset=us-ascii

channe
good luck 
dont'you think that can be found on the internet. i heard about wikileaks that 
some classified information is on the internet 

good luck man 
fero 
henok sahilu




________________________________
From: Seid Muhie <seidymam@gmail.com>
To: java-user <java-user@lucene.apache.org>
Sent: Wed, December 1, 2010 9:29:43 AM
Subject: Wikileaks Iraq log

Dear all.
Sorry if you found this question out off topic.
I need to do some research for my Text processing course on the on the
wikileaks iraq war log text documents but unable to get the data.
anybody who can give me a hint please

thank you.

Seid M.



      
--0-343608195-1291205236=:57493--

From java-user-return-48003-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 01 12:55:32 2010
Return-Path: <java-user-return-48003-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 81687 invoked from network); 1 Dec 2010 12:55:32 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 1 Dec 2010 12:55:32 -0000
Received: (qmail 70650 invoked by uid 500); 1 Dec 2010 12:55:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70538 invoked by uid 500); 1 Dec 2010 12:55:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 70526 invoked by uid 99); 1 Dec 2010 12:55:28 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Dec 2010 12:55:28 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [74.125.83.48] (HELO mail-gw0-f48.google.com) (74.125.83.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Dec 2010 12:55:23 +0000
Received: by gwaa20 with SMTP id a20so806097gwa.35
        for <java-user@lucene.apache.org>; Wed, 01 Dec 2010 04:55:03 -0800 (PST)
MIME-Version: 1.0
Received: by 10.151.154.8 with SMTP id g8mr14734168ybo.322.1291208102746; Wed,
 01 Dec 2010 04:55:02 -0800 (PST)
Received: by 10.150.200.5 with HTTP; Wed, 1 Dec 2010 04:55:02 -0800 (PST)
In-Reply-To: <AANLkTi=2QJYWuV3EfO+7Uc40FS16eU7+razzXC-k8OwQ@mail.gmail.com>
References: <AANLkTimyGXF+R8y1RU2nGeU4sre9S47jYdAbS2Fx-jkS@mail.gmail.com>
	<AANLkTi=4wFV1u1i8AZaPo=sjfhX3a8APuMncsK90p1N9@mail.gmail.com>
	<AANLkTik7q=UsH8OPAbvpMoot+EcB3rnse1351D13siL-@mail.gmail.com>
	<AANLkTimr3sPd8UJzq_4TA=7kHmv2Li+MiTJbqAEo-rhs@mail.gmail.com>
	<AANLkTi=FoPJDg3hYOB3NgLzHC+94kcBjZxosBfPqkvy-@mail.gmail.com>
	<AANLkTi=24viRV9VW9D2kEQhH4O_HsRi=yny=mfx1YL3r@mail.gmail.com>
	<AANLkTinLj0xHeBMtE4XuycLx0eroOH=E5XdBhF+UH7yu@mail.gmail.com>
	<AANLkTi=2QJYWuV3EfO+7Uc40FS16eU7+razzXC-k8OwQ@mail.gmail.com>
Date: Wed, 1 Dec 2010 19:55:02 +0700
Message-ID: <AANLkTikPTeZrLUqbq7q2YqN_cQKJZZWMdOkKh5fy99He@mail.gmail.com>
Subject: Re: precision and recall in lucene
From: Yakob <jacobian@opensuse-id.org>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1

On 12/1/10, Robert Muir <rcmuir@gmail.com> wrote:

>
> you fill the topics files with list of queries, like the lia2 example
> that has a single query for "apache source":
>
> <top>
> <num> Number: 0
> <title> apache source
> <desc> Description:
> <narr> Narrative:
> </top>
>
> then you populate the qrels file with the "answers" for your document
> collection:
>
> #       qnum   0   doc-name     is-relevant
>
> 0        0       apache1.0.txt           1
> 0        0       apache1.1.txt           1
> 0        0       apache2.0.txt           1
>
> this says that these 3 documents are relevant results for the query
> "apache source"
>

OMG, you are really helpful.I just did it.I really think we should be
friend on facebook though.hehe...

thank you. :-)

-- 
http://jacobian.web.id

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48004-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 01 12:56:57 2010
Return-Path: <java-user-return-48004-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82011 invoked from network); 1 Dec 2010 12:56:57 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 1 Dec 2010 12:56:57 -0000
Received: (qmail 74697 invoked by uid 500); 1 Dec 2010 12:56:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 74550 invoked by uid 500); 1 Dec 2010 12:56:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 74542 invoked by uid 99); 1 Dec 2010 12:56:54 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Dec 2010 12:56:54 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [193.49.104.30] (HELO kirkenes.lirmm.fr) (193.49.104.30)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Dec 2010 12:56:48 +0000
Received: from [10.1.12.44] (fe-0-3.fw1.capo.montpellier-agglo.com [91.213.82.241])
	by kirkenes.lirmm.fr (Postfix) with ESMTPSA id 66DFBA5094
	for <java-user@lucene.apache.org>; Wed,  1 Dec 2010 13:56:27 +0100 (CET)
Message-ID: <4CF645FB.4090208@lirmm.fr>
Date: Wed, 01 Dec 2010 13:56:27 +0100
From: Hassan Saneifar <hassan.saneifar@lirmm.fr>
User-Agent: Thunderbird 2.0.0.24 (X11/20100317)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Hit score and confidence ratio in results
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Hello,
I'm using lucene to retrieve relevant segments of a corpus based on a
given query. Every segment is represented as Document in the indexing.
Once the relevant segments are retrieved, I search for a Regex in them
to capture the requested information. It can happens that I found the
regex in two or more documents retrieved by lucene. Thus, I would like
to show a confidence score to each captured Regex. To make simple, I
means if the regex is found in the first retrieved document and in
fourth, the one retrieved in the first document is more certain to be
relevant since the its document was better scored than other one.

To show a confidence score, I tried to use scores returned by Lucene.
But, the lucene score are arbitrary and not normalized. So it's not
relevant to use. I wonder how we can have an arbitrary score (>1) when
the default scoring system in lucene is based on cosine measure. In a
simple case, the cosine score between two document vectors (obtained by
tf-idf) is between 0 and 1.

Since the lucene score is arbitrary and not normalized, if I want to
verify which query is more relevant to retrieve a document, how can I
compare the score of the first retrieved documents corresponding to each
query ? Is there any way to give a confidence score to each retrieved
document which make the comparison of the results of the different
search using the different queries possible?

Many thank
Best regards.

-- 
Hassan Saneifar, PhD. student,
University Montpellier II
LIRMM laboratory
161 rue Ada 34392 Montpellier, France
Tel: +33 (0)467 41 85 41
Fax: +33 (0)467 41 85 00		
URL: http://www.lirmm.fr/~saneifar
				
--
Hassan Saneifar, R&D engineer
Satin IP Technologies
Tel: +33 (0)467 13 00 86
URL: http://www.satin-ip.com				
 




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48005-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 01 15:05:33 2010
Return-Path: <java-user-return-48005-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44223 invoked from network); 1 Dec 2010 15:05:33 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 1 Dec 2010 15:05:33 -0000
Received: (qmail 9527 invoked by uid 500); 1 Dec 2010 15:05:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9410 invoked by uid 500); 1 Dec 2010 15:05:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 9402 invoked by uid 99); 1 Dec 2010 15:05:29 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Dec 2010 15:05:29 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of seidymam@gmail.com designates 74.125.83.48 as permitted sender)
Received: from [74.125.83.48] (HELO mail-gw0-f48.google.com) (74.125.83.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Dec 2010 15:05:22 +0000
Received: by gwaa20 with SMTP id a20so892450gwa.35
        for <java-user@lucene.apache.org>; Wed, 01 Dec 2010 07:05:00 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=jWprWOYizHUTGlBEOh5C/qhrjojKYLcJLz8VwSJ2OlA=;
        b=NI7W4p/jziIE3mN5u2hnk7WJclgIaKpi8oM4rLW+sApy9REtqwpl5yoHNGP1HOSo6M
         D9zze/m0fOSKDeSBt0KdMbpgbhPpcaws0AJjPzOjHwC/Qk826ZwO60V9iaezH2iUjzn3
         pua5ijNcAWO0VpDhVUFco4CHtn1113uaIyRR4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=Bsxa9WWsvCVneuFyecFfmPRB+DNyB7hXw875uFKI8ELnlYJAu+msHehyy/h0n2jtwZ
         M9XMfZqNKLJ8T+DTXeJIrdRjHde3G9D52dLVlIcQYRCEZUuAmjI7qWQv6QxW19ptUBbN
         Ar2b2t/tTkdKBn814Hd0DnDn+3JFfyRkyz2kw=
MIME-Version: 1.0
Received: by 10.42.164.138 with SMTP id g10mr2537543icy.294.1291215900523;
 Wed, 01 Dec 2010 07:05:00 -0800 (PST)
Received: by 10.42.58.136 with HTTP; Wed, 1 Dec 2010 07:05:00 -0800 (PST)
In-Reply-To: <53337.57493.qm@web50207.mail.re2.yahoo.com>
References: <AANLkTimfuGzUMzGiij6=uH=TGHXbhmNhgRdYjC+cawFp@mail.gmail.com>
	<53337.57493.qm@web50207.mail.re2.yahoo.com>
Date: Wed, 1 Dec 2010 18:05:00 +0300
Message-ID: <AANLkTincTS5XSvr5vjMjQhDahxbaEyXX7PKoQ97S6Q1s@mail.gmail.com>
Subject: Re: Wikileaks Iraq log
From: Seid Muhie <seidymam@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=90e6ba6e8c96143d0404965aa12f

--90e6ba6e8c96143d0404965aa12f
Content-Type: text/plain; charset=ISO-8859-1

No Henok. I have searched the web and found nothing.
Any link you might propose

On Wed, Dec 1, 2010 at 3:07 PM, henok sahilu <henok_sahilu@yahoo.com> wrote:

> channe
> good luck
> dont'you think that can be found on the internet. i heard about wikileaks
> that
> some classified information is on the internet
>
> good luck man
> fero
> henok sahilu
>
>
>
>
> ________________________________
> From: Seid Muhie <seidymam@gmail.com>
> To: java-user <java-user@lucene.apache.org>
> Sent: Wed, December 1, 2010 9:29:43 AM
> Subject: Wikileaks Iraq log
>
> Dear all.
> Sorry if you found this question out off topic.
> I need to do some research for my Text processing course on the on the
> wikileaks iraq war log text documents but unable to get the data.
> anybody who can give me a hint please
>
> thank you.
>
> Seid M.
>
>
>
>
>

--90e6ba6e8c96143d0404965aa12f--

From java-user-return-48006-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 01 21:33:25 2010
Return-Path: <java-user-return-48006-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32861 invoked from network); 1 Dec 2010 21:33:24 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 1 Dec 2010 21:33:24 -0000
Received: (qmail 62129 invoked by uid 500); 1 Dec 2010 21:33:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 62066 invoked by uid 500); 1 Dec 2010 21:33:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 62058 invoked by uid 99); 1 Dec 2010 21:33:21 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Dec 2010 21:33:21 +0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of petite_abeille@mac.com designates 17.148.16.99 as permitted sender)
Received: from [17.148.16.99] (HELO asmtpout024.mac.com) (17.148.16.99)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Dec 2010 21:33:14 +0000
MIME-version: 1.0
Content-transfer-encoding: 7BIT
Content-type: text/plain; CHARSET=US-ASCII
Received: from [192.168.1.34] ([92.104.241.42])
 by asmtp024.mac.com (Oracle Communications Messaging Exchange Server 7u4-18.01
 64bit (built Jul 15 2010)) with ESMTPSA id <0LCR00JGMQI8SU20@asmtp024.mac.com>
 for java-user@lucene.apache.org; Wed, 01 Dec 2010 13:32:39 -0800 (PST)
X-Proofpoint-Virus-Version: vendor=fsecure
 engine=2.50.10432:5.2.15,1.0.148,0.0.0000
 definitions=2010-12-01_09:2010-12-01,2010-12-01,1970-01-01 signatures=0
X-Proofpoint-Spam-Details: rule=notspam policy=default score=0 spamscore=0
 ipscore=0 suspectscore=1 phishscore=0 bulkscore=0 adultscore=0 classifier=spam
 adjust=0 reason=mlx engine=6.0.2-1010190000 definitions=main-1012010136
Subject: Re: Wikileaks Iraq log
From: Petite Abeille <petite_abeille@mac.com>
In-reply-to: <AANLkTimfuGzUMzGiij6=uH=TGHXbhmNhgRdYjC+cawFp@mail.gmail.com>
Date: Wed, 01 Dec 2010 22:32:31 +0100
Message-id: <0DEB8E91-DBFA-41E3-99F5-03B1F7CC8879@mac.com>
References: <AANLkTimfuGzUMzGiij6=uH=TGHXbhmNhgRdYjC+cawFp@mail.gmail.com>
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.1082)


On Dec 1, 2010, at 7:29 AM, Seid Muhie wrote:

> anybody who can give me a hint please

http://lmgtfy.com/?q=WikiLeaks+War+Diary%3A+Iraq+War+Logs

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48007-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 01 22:10:51 2010
Return-Path: <java-user-return-48007-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52207 invoked from network); 1 Dec 2010 22:10:50 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 1 Dec 2010 22:10:50 -0000
Received: (qmail 97074 invoked by uid 500); 1 Dec 2010 22:10:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96923 invoked by uid 500); 1 Dec 2010 22:10:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96915 invoked by uid 99); 1 Dec 2010 22:10:48 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Dec 2010 22:10:48 +0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [85.25.71.29] (HELO mail.troja.net) (85.25.71.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 01 Dec 2010 22:10:40 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by mail.troja.net (Postfix) with ESMTP id 3BFC2D3600A
	for <java-user@lucene.apache.org>; Wed,  1 Dec 2010 23:10:20 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at mail.troja.net
Received: from mail.troja.net ([127.0.0.1])
	by localhost (megaira.troja.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id VJnqQ2twOvHu for <java-user@lucene.apache.org>;
	Wed,  1 Dec 2010 23:10:15 +0100 (CET)
Received: from VEGA (port-83-236-62-54.dynamic.qsc.de [83.236.62.54])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mail.troja.net (Postfix) with ESMTPSA id C3EFFD36009
	for <java-user@lucene.apache.org>; Wed,  1 Dec 2010 23:10:14 +0100 (CET)
From: "Uwe Schindler" <uwe@thetaphi.de>
To: <java-user@lucene.apache.org>
References: <AANLkTimfuGzUMzGiij6=uH=TGHXbhmNhgRdYjC+cawFp@mail.gmail.com>	<53337.57493.qm@web50207.mail.re2.yahoo.com> <AANLkTincTS5XSvr5vjMjQhDahxbaEyXX7PKoQ97S6Q1s@mail.gmail.com>
In-Reply-To: <AANLkTincTS5XSvr5vjMjQhDahxbaEyXX7PKoQ97S6Q1s@mail.gmail.com>
Subject: RE: Wikileaks Iraq log
Date: Wed, 1 Dec 2010 23:10:48 +0100
Message-ID: <007801cb91a4$9c49fdf0$d4ddf9d0$@thetaphi.de>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Outlook 14.0
Thread-Index: AQHNFGuVHFJZqKE02KVUvYJ5ZbOZXgLT6ftKAh+/3qqTYYMAAA==
Content-Language: de
X-Virus-Checked: Checked by ClamAV on apache.org

The question is: What does this have to do with Lucene?

-----
Uwe Schindler
H.-H.-Meier-Allee 63, D-28213 Bremen
http://www.thetaphi.de
eMail: uwe@thetaphi.de


> -----Original Message-----
> From: Seid Muhie [mailto:seidymam@gmail.com]
> Sent: Wednesday, December 01, 2010 4:05 PM
> To: java-user@lucene.apache.org
> Subject: Re: Wikileaks Iraq log
> 
> No Henok. I have searched the web and found nothing.
> Any link you might propose
> 
> On Wed, Dec 1, 2010 at 3:07 PM, henok sahilu <henok_sahilu@yahoo.com>
> wrote:
> 
> > channe
> > good luck
> > dont'you think that can be found on the internet. i heard about
> > wikileaks that some classified information is on the internet
> >
> > good luck man
> > fero
> > henok sahilu
> >
> >
> >
> >
> > ________________________________
> > From: Seid Muhie <seidymam@gmail.com>
> > To: java-user <java-user@lucene.apache.org>
> > Sent: Wed, December 1, 2010 9:29:43 AM
> > Subject: Wikileaks Iraq log
> >
> > Dear all.
> > Sorry if you found this question out off topic.
> > I need to do some research for my Text processing course on the on the
> > wikileaks iraq war log text documents but unable to get the data.
> > anybody who can give me a hint please
> >
> > thank you.
> >
> > Seid M.
> >
> >
> >
> >
> >


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48008-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Dec 02 01:28:12 2010
Return-Path: <java-user-return-48008-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 39587 invoked from network); 2 Dec 2010 01:28:11 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 2 Dec 2010 01:28:11 -0000
Received: (qmail 83978 invoked by uid 500); 2 Dec 2010 01:28:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83940 invoked by uid 500); 2 Dec 2010 01:28:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 83932 invoked by uid 99); 2 Dec 2010 01:28:09 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Dec 2010 01:28:09 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of erickerickson@gmail.com designates 209.85.216.48 as permitted sender)
Received: from [209.85.216.48] (HELO mail-qw0-f48.google.com) (209.85.216.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Dec 2010 01:28:04 +0000
Received: by qwj9 with SMTP id 9so2242937qwj.35
        for <java-user@lucene.apache.org>; Wed, 01 Dec 2010 17:27:44 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=ZXa7tVOR7C4g8snqdFBF/TCZ/HqccfKHcd585K2wjO0=;
        b=D+leoW135HSf4m9UVrPWmm8Jk+/XfX1sH/4oFyEv5faCky6FpBX++4NatbwKeNlLpS
         hfEFfHBZW3CZEVUWoYx0bTY1znWHrJwCSmIRO/IQ6rr/9orxxOEe7mKBYtNN6pCHerdT
         +x5BijDlQzT2og/OuN8XR4JJTkTbFU8SU0DLE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=hkp9cptLbJxY6JgTVoktHhZqAfDzne/kK7dOVCW9nfF9vhpuyvFsbeUzk8EGeLTUMc
         zXkSzqFWe8lZh1FZ/zC+LxzRSxil1naG5JNP/Pwi4opOG2WG1BHfestrJbHs4JcorsFn
         GIT41UNdp4M9gcX9ZJE2ADGBFZU2KCsUY5I3Y=
MIME-Version: 1.0
Received: by 10.229.81.71 with SMTP id w7mr4617686qck.158.1291253263597; Wed,
 01 Dec 2010 17:27:43 -0800 (PST)
Received: by 10.229.225.142 with HTTP; Wed, 1 Dec 2010 17:27:43 -0800 (PST)
In-Reply-To: <4CF645FB.4090208@lirmm.fr>
References: <4CF645FB.4090208@lirmm.fr>
Date: Wed, 1 Dec 2010 20:27:43 -0500
Message-ID: <AANLkTi=tdJDcwEDUcUvq1ESt1XcRgjrYcwDaeQRiiV4c@mail.gmail.com>
Subject: Re: Hit score and confidence ratio in results
From: Erick Erickson <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016e64e9c0e17803904966354c9

--0016e64e9c0e17803904966354c9
Content-Type: text/plain; charset=ISO-8859-1

If I understand your problem space, you're trying to compare scores
across two different queries. Don't do this, it is meaningless. Scores
are only valid for comparing documents' relevance within a single
query. How would one compare scores between two queries like
text:nonsense
name:terrible
? Different fields, different values. What does it mean that the score
for a doc matching the first query has a higher or lower score than
the first doc matching the second query?

As for how scores are > 1, have you looked at the scoring
formula here?
http://lucene.apache.org/java/2_4_0/api/org/apache/lucene/search/Similarity.html
and here? http://lucene.apache.org/java/2_4_0/scoring.html#Understanding the
Scoring Formula

Don't forget that there can also be boosts...

Best
Erick

On Wed, Dec 1, 2010 at 7:56 AM, Hassan Saneifar <hassan.saneifar@lirmm.fr>wrote:

> Hello,
> I'm using lucene to retrieve relevant segments of a corpus based on a
> given query. Every segment is represented as Document in the indexing.
> Once the relevant segments are retrieved, I search for a Regex in them
> to capture the requested information. It can happens that I found the
> regex in two or more documents retrieved by lucene. Thus, I would like
> to show a confidence score to each captured Regex. To make simple, I
> means if the regex is found in the first retrieved document and in
> fourth, the one retrieved in the first document is more certain to be
> relevant since the its document was better scored than other one.
>
> To show a confidence score, I tried to use scores returned by Lucene.
> But, the lucene score are arbitrary and not normalized. So it's not
> relevant to use. I wonder how we can have an arbitrary score (>1) when
> the default scoring system in lucene is based on cosine measure. In a
> simple case, the cosine score between two document vectors (obtained by
> tf-idf) is between 0 and 1.
>
> Since the lucene score is arbitrary and not normalized, if I want to
> verify which query is more relevant to retrieve a document, how can I
> compare the score of the first retrieved documents corresponding to each
> query ? Is there any way to give a confidence score to each retrieved
> document which make the comparison of the results of the different
> search using the different queries possible?
>
> Many thank
> Best regards.
>
> --
> Hassan Saneifar, PhD. student,
> University Montpellier II
> LIRMM laboratory
> 161 rue Ada 34392 Montpellier, France
> Tel: +33 (0)467 41 85 41
> Fax: +33 (0)467 41 85 00
> URL: http://www.lirmm.fr/~saneifar
>
> --
> Hassan Saneifar, R&D engineer
> Satin IP Technologies
> Tel: +33 (0)467 13 00 86
> URL: http://www.satin-ip.com
>
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--0016e64e9c0e17803904966354c9--

From java-user-return-48009-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Dec 02 02:54:53 2010
Return-Path: <java-user-return-48009-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68248 invoked from network); 2 Dec 2010 02:54:53 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 2 Dec 2010 02:54:53 -0000
Received: (qmail 58955 invoked by uid 500); 2 Dec 2010 02:54:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58827 invoked by uid 500); 2 Dec 2010 02:54:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58819 invoked by uid 99); 2 Dec 2010 02:54:50 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Dec 2010 02:54:50 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,HTML_OBFUSCATE_05_10,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of davidlinde@gmail.com designates 209.85.215.176 as permitted sender)
Received: from [209.85.215.176] (HELO mail-ey0-f176.google.com) (209.85.215.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Dec 2010 02:54:44 +0000
Received: by eyz10 with SMTP id 10so4153285eyz.35
        for <java-user@lucene.apache.org>; Wed, 01 Dec 2010 18:54:22 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:date:message-id
         :subject:from:to:content-type;
        bh=4lNu4TuGUx1kQgxaLo1/FzWibKkAimChnzPMwe6c7g4=;
        b=VtxAqa5Laslb+VVoy8alzDHk70RTmq2nXNkZSDtxdPta9iXRpO0R8tdMGP5O1QEuVO
         9JVlV7G5n5xvzNIrgcJjKlF2XnJbCkidociWyLFM0SUXQniR7HdbUUWu8AR3mPRWhcC2
         w0d6z0svDcDsMysRfsF/MtVG01D8SHLkuthSI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=imY5w6JANpOBoro5is+3qawvNOYLSBOWCCyo3nnyk47x5wAmPxYjdC2LOep2iXPQBV
         yhgvN3cJ4szuPXeFHLjahqwvaYIV3yEpnxttiOBRRLXQD9VfuLqgwz6d5zLnMjr0hc1x
         uYfA2Mbnvee0A59UZBPWEFCi+g4AIwTCkBU48=
MIME-Version: 1.0
Received: by 10.14.37.10 with SMTP id x10mr8833949eea.32.1291258462538; Wed,
 01 Dec 2010 18:54:22 -0800 (PST)
Received: by 10.14.53.72 with HTTP; Wed, 1 Dec 2010 18:54:22 -0800 (PST)
Date: Wed, 1 Dec 2010 21:54:22 -0500
Message-ID: <AANLkTi=WMshSdm=gsxw1M9KnuQdogEDeU8Vw5UmhJGJi@mail.gmail.com>
Subject: a proof that every word is indexing properly
From: David Linde <davidlinde@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=90e6ba539efaf90c0e049664892b

--90e6ba539efaf90c0e049664892b
Content-Type: text/plain; charset=ISO-8859-1

Has anyone figured out a way to logically prove that lucene indexes ever
word properly?

Our company has done alot of research into lucene, all of our IT department
is really impressed and excited about lucene *except* one of the older
search/indexing experts.
Who doesn't want to move to a new search engine, is there anyway to
logically prove, that lucene indexes every word properly?

One idea we considered is attempting to rebuild the source from the index,
but it seems like doing that would take a huge effort.

Any ideas or thoughts, would be very much appreciated.

Thanks in advance
David

--90e6ba539efaf90c0e049664892b--

From java-user-return-48010-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Dec 02 02:58:14 2010
Return-Path: <java-user-return-48010-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 69140 invoked from network); 2 Dec 2010 02:58:14 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 2 Dec 2010 02:58:14 -0000
Received: (qmail 63497 invoked by uid 500); 2 Dec 2010 02:58:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 63464 invoked by uid 500); 2 Dec 2010 02:58:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63456 invoked by uid 99); 2 Dec 2010 02:58:11 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Dec 2010 02:58:11 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [208.83.124.80] (HELO buf-ex02.cymfony.com) (208.83.124.80)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Dec 2010 02:58:05 +0000
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: a proof that every word is indexing properly
Date: Wed, 1 Dec 2010 21:57:41 -0500
Message-ID: <E5331E53F021E443B53EC78F375B3C761F95AC@buf-ex02.cymfony.com>
In-Reply-To: <AANLkTi=WMshSdm=gsxw1M9KnuQdogEDeU8Vw5UmhJGJi@mail.gmail.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: a proof that every word is indexing properly
Thread-Index: AcuRzEvsx9LbveX/Riee4w1bBcUslQAACIfQ
References: <AANLkTi=WMshSdm=gsxw1M9KnuQdogEDeU8Vw5UmhJGJi@mail.gmail.com>
From: "David Fertig" <dfertig@cymfony.com>
To: <java-user@lucene.apache.org>

Stop words are never indexed; you may need to empty your stop list.

Luke (open-source w/code available) can browse and re-create documents
in indexes using their terms already.  Compare that to the original to
see if you are satisfied.


-----Original Message-----
From: David Linde [mailto:davidlinde@gmail.com]=20
Sent: Wednesday, December 1, 2010 9:54 PM
To: java-user@lucene.apache.org
Subject: a proof that every word is indexing properly

Has anyone figured out a way to logically prove that lucene indexes ever
word properly?

Our company has done alot of research into lucene, all of our IT
department
is really impressed and excited about lucene *except* one of the older
search/indexing experts.
Who doesn't want to move to a new search engine, is there anyway to
logically prove, that lucene indexes every word properly?

One idea we considered is attempting to rebuild the source from the
index,
but it seems like doing that would take a huge effort.

Any ideas or thoughts, would be very much appreciated.

Thanks in advance
David

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48011-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Dec 02 04:12:17 2010
Return-Path: <java-user-return-48011-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 6065 invoked from network); 2 Dec 2010 04:12:17 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 2 Dec 2010 04:12:17 -0000
Received: (qmail 15675 invoked by uid 500); 2 Dec 2010 04:12:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 15566 invoked by uid 500); 2 Dec 2010 04:12:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 15558 invoked by uid 99); 2 Dec 2010 04:12:14 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Dec 2010 04:12:14 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of goksron@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Dec 2010 04:12:07 +0000
Received: by fxm2 with SMTP id 2so6388426fxm.35
        for <java-user@lucene.apache.org>; Wed, 01 Dec 2010 20:11:47 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type
         :content-transfer-encoding;
        bh=dcRcxmxmGvEBB0f7GyXH4IOn/Nm7M01QFohsU2W7Is4=;
        b=U1z3lIe+v6nfo5Praq9z816qYDicI/Sfe3exCyFwcLR3yiWbRhIsPbkSXHok5U1lbG
         1NHWZzBtL3qj+bzXhteMxIlCTAp+v2Mxe4FRd490m2nrV3tfxnGkpIcaCE235m8o2GWE
         jMhXNFOimKzFmjS/WG7n9IQKuNrLtrAhEzBFA=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        b=WXT9JNTWBFo+hIHAB3FL+Cx6KdRvlS/xEXBS+RS8JSb1pSHbX2K2IP3gD4z2+tEhj2
         1Lg2GTKMulCjzLDsIflfbKkvP/WtXzljEzVawA5+eflGelEgCZdF2dkMN3ghc1x0vYeR
         jfz3lDHdFc3M95lKIObqY1fkMDV0EEdL7/JM8=
MIME-Version: 1.0
Received: by 10.223.74.141 with SMTP id u13mr4225278faj.62.1291263107748; Wed,
 01 Dec 2010 20:11:47 -0800 (PST)
Received: by 10.223.70.199 with HTTP; Wed, 1 Dec 2010 20:11:47 -0800 (PST)
In-Reply-To: <E5331E53F021E443B53EC78F375B3C761F95AC@buf-ex02.cymfony.com>
References: <AANLkTi=WMshSdm=gsxw1M9KnuQdogEDeU8Vw5UmhJGJi@mail.gmail.com>
	<E5331E53F021E443B53EC78F375B3C761F95AC@buf-ex02.cymfony.com>
Date: Wed, 1 Dec 2010 20:11:47 -0800
Message-ID: <AANLkTi=shst8u18arOf1jY9-AQjjZN6T6ByP16i5hbrH@mail.gmail.com>
Subject: Re: a proof that every word is indexing properly
From: Lance Norskog <goksron@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

This is what unit tests are for.

On Wed, Dec 1, 2010 at 6:57 PM, David Fertig <dfertig@cymfony.com> wrote:
> Stop words are never indexed; you may need to empty your stop list.
>
> Luke (open-source w/code available) can browse and re-create documents
> in indexes using their terms already. =C2=A0Compare that to the original =
to
> see if you are satisfied.
>
>
> -----Original Message-----
> From: David Linde [mailto:davidlinde@gmail.com]
> Sent: Wednesday, December 1, 2010 9:54 PM
> To: java-user@lucene.apache.org
> Subject: a proof that every word is indexing properly
>
> Has anyone figured out a way to logically prove that lucene indexes ever
> word properly?
>
> Our company has done alot of research into lucene, all of our IT
> department
> is really impressed and excited about lucene *except* one of the older
> search/indexing experts.
> Who doesn't want to move to a new search engine, is there anyway to
> logically prove, that lucene indexes every word properly?
>
> One idea we considered is attempting to rebuild the source from the
> index,
> but it seems like doing that would take a huge effort.
>
> Any ideas or thoughts, would be very much appreciated.
>
> Thanks in advance
> David
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>



--=20
Lance Norskog
goksron@gmail.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48012-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Dec 02 08:01:55 2010
Return-Path: <java-user-return-48012-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93425 invoked from network); 2 Dec 2010 08:01:55 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 2 Dec 2010 08:01:55 -0000
Received: (qmail 45163 invoked by uid 500); 2 Dec 2010 08:01:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45064 invoked by uid 500); 2 Dec 2010 08:01:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45053 invoked by uid 99); 2 Dec 2010 08:01:50 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Dec 2010 08:01:50 +0000
X-ASF-Spam-Status: No, hits=3.7 required=10.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of manjula53@gmail.com designates 209.85.216.48 as permitted sender)
Received: from [209.85.216.48] (HELO mail-qw0-f48.google.com) (209.85.216.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Dec 2010 08:01:46 +0000
Received: by qwj9 with SMTP id 9so2549697qwj.35
        for <java-user@lucene.apache.org>; Thu, 02 Dec 2010 00:01:25 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=w428pSuPUVE3GjpQr7lKOS07DucVZiNqzWxIfEhF+XA=;
        b=tWFwtnkK5+PY4wpwx711LRHVSssGSpcYZ3HDJc9iOVYVBl4RNXkx3/xAQp9u5P5A0Z
         b1xikVFSkIKkHlNlr5wfpNUQcQ4IfofL1rjIsAlKHVxBlTGipIzyb0V3NcV43evKZuiN
         9BiY3nHhanLm4nR4rvoV626gLZB3cqHdCveEs=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=c/IlWHOTJv0h4kXtiQDsC/2Be3CdjTEgCMblxNof5lLm6Bv5y2+puPS8zpVRq92afO
         1xvzGJein8oVMjbNRSGXZ7gzPbGCZrOmHTc415XS9Ak9ou9ghyvlZ3Kqg47V8DOA2c+F
         KBLTx3IGSKq/mMzgKFrKKPCdUjkMpy1qzyqZQ=
MIME-Version: 1.0
Received: by 10.224.28.213 with SMTP id n21mr968440qac.64.1291276884425; Thu,
 02 Dec 2010 00:01:24 -0800 (PST)
Received: by 10.220.186.70 with HTTP; Thu, 2 Dec 2010 00:01:24 -0800 (PST)
In-Reply-To: <AANLkTikjKduGotWzNT6Zse83cVwVQUqcP1hH9Lkmronp@mail.gmail.com>
References: <AANLkTimzdzDrLyC=_83KR_Hv8GZgVBVNu-CUB63hXkxn@mail.gmail.com>
	<2D127F11DC79714E9B6A43AC9458147F8264B456@suex07-mbx-03.ad.syr.edu>
	<AANLkTimYMVah0FV5+ZTHT17aXv39ALsiLVy_a3Bu4nNP@mail.gmail.com>
	<AANLkTikjKduGotWzNT6Zse83cVwVQUqcP1hH9Lkmronp@mail.gmail.com>
Date: Thu, 2 Dec 2010 13:31:24 +0530
Message-ID: <AANLkTikFrW3btATqaWN5zB+S7HzcQ5gfmA6+_Ku=_WsA@mail.gmail.com>
Subject: Re: Analyzer
From: manjula wijewickrema <manjula53@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=001517503b2600bef0049668d41a

--001517503b2600bef0049668d41a
Content-Type: text/plain; charset=ISO-8859-1

Dear Erick,

Thanx for your information.

Manjula.

On Tue, Nov 30, 2010 at 6:37 PM, Erick Erickson <erickerickson@gmail.com>wrote:

> WhitespaceAnalyzer does just that, splits the incoming stream on
> white space.
>
> From the javadocs for StandardAnalyzer:
>
> A grammar-based tokenizer constructed with JFlex
>
> This should be a good tokenizer for most European-language documents:
>
>   - Splits words at punctuation characters, removing punctuation. However,
>   a dot that's not followed by whitespace is considered part of a token.
>   - Splits words at hyphens, unless there's a number in the token, in which
>   case the whole token is interpreted as a product number and is not split.
>   - Recognizes email addresses and internet hostnames as one token.
>
> Many applications have specific tokenizer needs. If this tokenizer does not
> suit your application, please consider copying this source code directory
> to
> your project and maintaining your own grammar-based tokenizer.
>
>
> Best
>
> Erick
>
> On Tue, Nov 30, 2010 at 12:06 AM, manjula wijewickrema
> <manjula53@gmail.com>wrote:
>
> > Hi Steve,
> >
> > Thanx a lot for your reply. Yes there are only two classes and it's
> corrcet
> > that the way you have realized the problem. As you have instructed, I
> > checked WhitespaceAnalyzer for querying (instead of StandardAnalyzer) and
> > it
> > seems to me that it gives better results rather than StandardAnalyzer. So
> > could you please let me know what are the differences between
> > StandardAnalyzer and WhitespaceAnalyzer. I highly appriciate your
> response.
> > Thanx.
> >
> > Manjula.
> >
> >
> > On Mon, Nov 29, 2010 at 7:32 PM, Steven A Rowe <sarowe@syr.edu> wrote:
> >
> > > Hi Manjula,
> > >
> > > It's not terribly clear what you're doing here - I got lost in your
> > > description of your (two? or maybe four?) classes.  Sometimes things
> are
> > > easier to understand if you provide more concrete detail.
> > >
> > > I suspect that you could benefit from reading the book Lucene in
> Action,
> > > 2nd edition:
> > >
> > >   http://www.manning.com/hatcher3/
> > >
> > > You would also likely benefit from using Luke, the Lucene index
> browser,
> > to
> > > better understand your indexes' contents and debug how queries match
> > > documents:
> > >
> > >   http://code.google.com/p/luke/
> > >
> > > I think your question is whether you're using Analyzers correctly.  It
> > > sounds like you are creating two separate indexes (one for each of your
> > > classes), and you're using SnowballAnalyzer on the indexing side for
> both
> > > indexes, and StandardAnalyzer on the query side.
> > >
> > > The usual advice is to use the same Analyzer on both the query and the
> > > index side.  But it appears to be the case that you are taking stemmed
> > index
> > > terms from your index #1 and then querying index #2 using these stemmed
> > > terms.  If this is true, then you want the query-time analyzer in your
> > > second index not to change the query terms.  You'll likely get better
> > > results using WhitespaceAnalyzer, which tokenizes on whitespace and
> does
> > no
> > > further analysis, rather than StandardAnalyzer.
> > >
> > > Steve
> > >
> > > > -----Original Message-----
> > > > From: manjula wijewickrema [mailto:manjula53@gmail.com]
> > > > Sent: Monday, November 29, 2010 4:32 AM
> > > > To: java-user@lucene.apache.org
> > > > Subject: Analyzer
> > > >
> > > > Hi,
> > > >
> > > > In my work, I am using Lucene and two java classes. In the first one,
> I
> > > > index a document and in the second one, I try to search the most
> > relevant
> > > > document for the indexed document in the first one. In the first java
> > > > class,
> > > > I use the SnowballAnalyzer in the createIndex method and
> > StandardAnalyzer
> > > > in
> > > > the searchIndex method and pass the highest frequency terms into the
> > > > second
> > > > Java class. In the second class, I use SnowballAnalyzer in the
> > > createIndex
> > > > method (this index is for the collection of documents to be searched,
> > or
> > > > it
> > > > is my database) and StandardAnalyser in the searchIndex method (I
> pass
> > > the
> > > > highest frequently occuring term of the first class as the search
> term
> > > > parameter to the searchIndex method of the second class). Using
> > Analyzers
> > > > in
> > > > this manner, what I am willing is to do the stemming, stop-words in
> > both
> > > > indexes (in both classes) and to search those a few high frequency
> > words
> > > > (of
> > > > the first index) in the second index. So, if my intention is clear to
> > > you,
> > > > could you please let me know whether it is correct or not the way I
> > have
> > > > used Analyzers? I highly appreciate any comment.
> > > >
> > > > Thanx.
> > > > Manjula.
> > >
> >
>

--001517503b2600bef0049668d41a--

From java-user-return-48013-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Dec 02 08:21:26 2010
Return-Path: <java-user-return-48013-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5718 invoked from network); 2 Dec 2010 08:21:25 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 2 Dec 2010 08:21:25 -0000
Received: (qmail 64044 invoked by uid 500); 2 Dec 2010 08:21:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 63890 invoked by uid 500); 2 Dec 2010 08:21:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63882 invoked by uid 99); 2 Dec 2010 08:21:22 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Dec 2010 08:21:22 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [130.225.24.68] (HELO sbexch03.sb.statsbiblioteket.dk) (130.225.24.68)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Dec 2010 08:21:14 +0000
Received: from [130.225.25.198] (130.225.25.198) by
 sbexch03.sb.statsbiblioteket.dk (130.225.24.68) with Microsoft SMTP Server id
 8.3.106.1; Thu, 2 Dec 2010 09:20:52 +0100
Subject: Re: a proof that every word is indexing properly
From: Toke Eskildsen <te@statsbiblioteket.dk>
Reply-To: te@statsbiblioteket.dk
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
In-Reply-To: <AANLkTi=WMshSdm=gsxw1M9KnuQdogEDeU8Vw5UmhJGJi@mail.gmail.com>
References: <AANLkTi=WMshSdm=gsxw1M9KnuQdogEDeU8Vw5UmhJGJi@mail.gmail.com>
Content-Type: text/plain; charset="UTF-8"
Organization: State and University Library, Denmark
Date: Thu, 2 Dec 2010 09:23:53 +0100
Message-ID: <1291278233.16056.47.camel@te-prime>
MIME-Version: 1.0
X-Mailer: Evolution 2.28.3 
Content-Transfer-Encoding: 7bit

On Thu, 2010-12-02 at 03:54 +0100, David Linde wrote:
> Has anyone figured out a way to logically prove that lucene indexes ever
> word properly?

The "Precision and recall in lucene"-thread seems relevant here.

> Our company has done alot of research into lucene, all of our IT department
> is really impressed and excited about lucene *except* one of the older
> search/indexing experts.
> Who doesn't want to move to a new search engine, is there anyway to
> logically prove, that lucene indexes every word properly?

That is a straw man argument. As the precision-thread shows, it is
extremely hard to define what "properly" means in relation to a
non-trivial retrieval system like Lucene.

If your grouch is an old-school database man, he might equal "properly"
to "Every word that exists in the source should be indexed so that a
search for that word will return all documents that contains it and no
other documents (phew)". As David implies, this is a bad test: It
satisfies the guy but does not a proper search system make.

But I'm just guessing here and it sounds like you're doing the same,
asking for ideas of proving Lucene functionality. Maybe you could turn
it around? Ask the guy what it would take for him to accept Lucene or
any other option for that matter. When you have that, you can discuss
whether his requirements are valid or not.

> One idea we considered is attempting to rebuild the source from the index,
> but it seems like doing that would take a huge effort.

It is also not possible in general. Writing specific code, you could
just cheat massively and store everything, giving you instant and 100%
correct rebuild.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48014-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Dec 02 09:51:01 2010
Return-Path: <java-user-return-48014-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35632 invoked from network); 2 Dec 2010 09:51:01 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 2 Dec 2010 09:51:01 -0000
Received: (qmail 83501 invoked by uid 500); 2 Dec 2010 09:50:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83346 invoked by uid 500); 2 Dec 2010 09:50:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 83338 invoked by uid 99); 2 Dec 2010 09:50:58 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Dec 2010 09:50:58 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of simon.willnauer@googlemail.com designates 209.85.216.169 as permitted sender)
Received: from [209.85.216.169] (HELO mail-qy0-f169.google.com) (209.85.216.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Dec 2010 09:50:51 +0000
Received: by qyk7 with SMTP id 7so3594575qyk.14
        for <java-user@lucene.apache.org>; Thu, 02 Dec 2010 01:50:31 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=googlemail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:reply-to
         :in-reply-to:references:date:message-id:subject:from:to:content-type;
        bh=aPHqCkf91mVy8ZuGebyWpXCNLKkhEQ8HFzG8w21gdDM=;
        b=CE4ZNrjXA1x7oZJ1pY0yau8+0IDWeI+qkCPWpivb/3rtwHKORjwN32C7QZU1GSayK0
         jUZzvtEW13aYm2YYRGLIKFbq1tdBZxQoIqvJ+evec6BfegH6sfwuJU2+rK+0rhwngJP1
         eDHMze32U/PYeguCMFgQSKPbhCm2OzNYrJjnI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=googlemail.com; s=gamma;
        h=mime-version:reply-to:in-reply-to:references:date:message-id
         :subject:from:to:content-type;
        b=TaOYMgprnjmUMpdxKcBuLlWDjCnMM5IJ8z8Wh2tbnw+gOcioR/DpX+9nn/ifSX+TNH
         aijNQYGnnNEPX7bWHzRxWzKdzvwPNzHnpUsKuLcofb4h1l94ADIPtWtDigWPeT58m6PD
         IoMGW8Y9IzomMbDAlVW2bfnWfqVLYN6Ln9D9E=
MIME-Version: 1.0
Received: by 10.229.236.203 with SMTP id kl11mr8448840qcb.204.1291283430282;
 Thu, 02 Dec 2010 01:50:30 -0800 (PST)
Received: by 10.229.100.139 with HTTP; Thu, 2 Dec 2010 01:50:30 -0800 (PST)
Reply-To: simon.willnauer@gmail.com
In-Reply-To: <007801cb91a4$9c49fdf0$d4ddf9d0$@thetaphi.de>
References: <AANLkTimfuGzUMzGiij6=uH=TGHXbhmNhgRdYjC+cawFp@mail.gmail.com>
	<53337.57493.qm@web50207.mail.re2.yahoo.com>
	<AANLkTincTS5XSvr5vjMjQhDahxbaEyXX7PKoQ97S6Q1s@mail.gmail.com>
	<007801cb91a4$9c49fdf0$d4ddf9d0$@thetaphi.de>
Date: Thu, 2 Dec 2010 10:50:30 +0100
Message-ID: <AANLkTikBUFGvznxmFntStUqWkGjTixzMJooGPe6TUz_+@mail.gmail.com>
Subject: Re: Wikileaks Iraq log
From: Simon Willnauer <simon.willnauer@googlemail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Wed, Dec 1, 2010 at 11:10 PM, Uwe Schindler <uwe@thetaphi.de> wrote:
> The question is: What does this have to do with Lucene?
nothing!!!

Can you please not discuss already known as off-topic stuff on this list!

thank you !

simon
>
> -----
> Uwe Schindler
> H.-H.-Meier-Allee 63, D-28213 Bremen
> http://www.thetaphi.de
> eMail: uwe@thetaphi.de
>
>
>> -----Original Message-----
>> From: Seid Muhie [mailto:seidymam@gmail.com]
>> Sent: Wednesday, December 01, 2010 4:05 PM
>> To: java-user@lucene.apache.org
>> Subject: Re: Wikileaks Iraq log
>>
>> No Henok. I have searched the web and found nothing.
>> Any link you might propose
>>
>> On Wed, Dec 1, 2010 at 3:07 PM, henok sahilu <henok_sahilu@yahoo.com>
>> wrote:
>>
>> > channe
>> > good luck
>> > dont'you think that can be found on the internet. i heard about
>> > wikileaks that some classified information is on the internet
>> >
>> > good luck man
>> > fero
>> > henok sahilu
>> >
>> >
>> >
>> >
>> > ________________________________
>> > From: Seid Muhie <seidymam@gmail.com>
>> > To: java-user <java-user@lucene.apache.org>
>> > Sent: Wed, December 1, 2010 9:29:43 AM
>> > Subject: Wikileaks Iraq log
>> >
>> > Dear all.
>> > Sorry if you found this question out off topic.
>> > I need to do some research for my Text processing course on the on the
>> > wikileaks iraq war log text documents but unable to get the data.
>> > anybody who can give me a hint please
>> >
>> > thank you.
>> >
>> > Seid M.
>> >
>> >
>> >
>> >
>> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48015-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Dec 02 10:11:43 2010
Return-Path: <java-user-return-48015-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 47950 invoked from network); 2 Dec 2010 10:11:43 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 2 Dec 2010 10:11:43 -0000
Received: (qmail 6864 invoked by uid 500); 2 Dec 2010 10:11:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6747 invoked by uid 500); 2 Dec 2010 10:11:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6737 invoked by uid 99); 2 Dec 2010 10:11:39 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Dec 2010 10:11:39 +0000
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_DSN,FREEMAIL_FROM,FROM_EXCESS_BASE64,HTML_MESSAGE,HTML_NONELEMENT_30_40,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of spacehero@foxmail.com designates 64.71.138.44 as permitted sender)
Received: from [64.71.138.44] (HELO smtpbg55.qq.com) (64.71.138.44)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 02 Dec 2010 10:11:34 +0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=qq.com; s=s0907;
	t=1291284672; bh=wIUHCSc9bXilOMjkgX/bTDEIz5abFtWuKyk2gdiy6is=;
	h=X-QQ-mid:Received:X-QQ-SSF:X-QQ-SSF:X-QQ-BUSINESS-ORIGIN:
	 X-Originating-IP:From:To:Subject:Mime-Version:Content-Type:
	 Content-Transfer-Encoding:Date:X-Priority:Message-ID:X-QQ-MIME:
	 X-Mailer:X-QQ-Mailer:X-QQ-ReplyHash;
	b=arDW6cuLVBXkqx8ehG+hwwyPGnndLfEarwtT9+4r6IHJL9lHI9IWfGGTqu1qeEIXU
	 WdQeQZymof302BFBgHHdpz2b6kiD4yEUsgIALo55lQKARXfRMghHjNWCWolq6Ef
X-QQ-mid:esmtp9t1291284669t738t31702
Received: from smtpbg52.qq.com (unknown [64.71.138.43])
	by esmtp4.qq.com (ESMTP) with SMTP id 0
	for <java-user@lucene.apache.org>; Thu, 02 Dec 2010 18:11:07 +0800 (CST)
X-QQ-SSF:0000000000000000601200000000000
X-QQ-SSF:0000000000000080
X-QQ-BUSINESS-ORIGIN:2
X-Originating-IP: 124.207.80.194
From: "=?ISO-8859-1?B?U2Vhbg==?=" <spacehero@foxmail.com>
To: "=?ISO-8859-1?B?amF2YS11c2Vy?=" <java-user@lucene.apache.org>
Subject: Re: Analyzer
Mime-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_4CF770B7_08478628_469C9989"
Content-Transfer-Encoding: 8Bit
Date: Thu, 2 Dec 2010 18:11:03 +0800
X-Priority: 3
Message-ID: <tencent_1D32AFAF4520E79E439B2422@qq.com>
X-QQ-MIME: TCMime 1.0 by Tencent
X-Mailer: QQMail 2.x
X-QQ-Mailer: QQMail 2.x
X-QQ-ReplyHash: 283024935

------=_NextPart_4CF770B7_08478628_469C9989
Content-Type: text/plain;
	charset="ISO-8859-1"
Content-Transfer-Encoding: base64

QnkgdGhlIHdheSwgaXMgdGhlcmUgYW4gYW5hbHl6ZXIgd2hpY2ggc3BsaXRlcyBlYWNoIGxl
dHRlciBvZiBhIHdvcmQ/DQplLmcuDQpoZWxsbyB3b3JsZCA9PiBoL2UvbC9sL28vdy9vL3Iv
bC9kDQoNClJlZ2FyZHMsDQpTZWFuDQogDQogDQotLS0tLS0tLS0tLS0tLS0tLS0gT3JpZ2lu
YWwgLS0tLS0tLS0tLS0tLS0tLS0tDQpGcm9tOiAgIkVyaWNrIEVyaWNrc29uIjxlcmlja2Vy
aWNrc29uQGdtYWlsLmNvbT47DQpEYXRlOiAgVHVlLCBOb3YgMzAsIDIwMTAgMDk6MDcgUE0N
ClRvOiAgImphdmEtdXNlciI8amF2YS11c2VyQGx1Y2VuZS5hcGFjaGUub3JnPjsgDQoNClN1
YmplY3Q6ICBSZTogQW5hbHl6ZXINCg0KIA0KV2hpdGVzcGFjZUFuYWx5emVyIGRvZXMganVz
dCB0aGF0LCBzcGxpdHMgdGhlIGluY29taW5nIHN0cmVhbSBvbg0Kd2hpdGUgc3BhY2UuDQoN
CkZyb20gdGhlIGphdmFkb2NzIGZvciBTdGFuZGFyZEFuYWx5emVyOg0KDQpBIGdyYW1tYXIt
YmFzZWQgdG9rZW5pemVyIGNvbnN0cnVjdGVkIHdpdGggSkZsZXgNCg0KVGhpcyBzaG91bGQg
YmUgYSBnb29kIHRva2VuaXplciBmb3IgbW9zdCBFdXJvcGVhbi1sYW5ndWFnZSBkb2N1bWVu
dHM6DQoNCiAgIC0gU3BsaXRzIHdvcmRzIGF0IHB1bmN0dWF0aW9uIGNoYXJhY3RlcnMsIHJl
bW92aW5nIHB1bmN0dWF0aW9uLiBIb3dldmVyLA0KICAgYSBkb3QgdGhhdCdzIG5vdCBmb2xs
b3dlZCBieSB3aGl0ZXNwYWNlIGlzIGNvbnNpZGVyZWQgcGFydCBvZiBhIHRva2VuLg0KICAg
LSBTcGxpdHMgd29yZHMgYXQgaHlwaGVucywgdW5sZXNzIHRoZXJlJ3MgYSBudW1iZXIgaW4g
dGhlIHRva2VuLCBpbiB3aGljaA0KICAgY2FzZSB0aGUgd2hvbGUgdG9rZW4gaXMgaW50ZXJw
cmV0ZWQgYXMgYSBwcm9kdWN0IG51bWJlciBhbmQgaXMgbm90IHNwbGl0Lg0KICAgLSBSZWNv
Z25pemVzIGVtYWlsIGFkZHJlc3NlcyBhbmQgaW50ZXJuZXQgaG9zdG5hbWVzIGFzIG9uZSB0
b2tlbi4NCg0KTWFueSBhcHBsaWNhdGlvbnMgaGF2ZSBzcGVjaWZpYyB0b2tlbml6ZXIgbmVl
ZHMuIElmIHRoaXMgdG9rZW5pemVyIGRvZXMgbm90DQpzdWl0IHlvdXIgYXBwbGljYXRpb24s
IHBsZWFzZSBjb25zaWRlciBjb3B5aW5nIHRoaXMgc291cmNlIGNvZGUgZGlyZWN0b3J5IHRv
DQp5b3VyIHByb2plY3QgYW5kIG1haW50YWluaW5nIHlvdXIgb3duIGdyYW1tYXItYmFzZWQg
dG9rZW5pemVyLg0KDQoNCkJlc3QNCg0KRXJpY2sNCg0KT24gVHVlLCBOb3YgMzAsIDIwMTAg
YXQgMTI6MDYgQU0sIG1hbmp1bGEgd2lqZXdpY2tyZW1hDQo8bWFuanVsYTUzQGdtYWlsLmNv
bT53cm90ZToNCg0KPiBIaSBTdGV2ZSwNCj4NCj4gVGhhbnggYSBsb3QgZm9yIHlvdXIgcmVw
bHkuIFllcyB0aGVyZSBhcmUgb25seSB0d28gY2xhc3NlcyBhbmQgaXQncyBjb3JyY2V0DQo+
IHRoYXQgdGhlIHdheSB5b3UgaGF2ZSByZWFsaXplZCB0aGUgcHJvYmxlbS4gQXMgeW91IGhh
dmUgaW5zdHJ1Y3RlZCwgSQ0KPiBjaGVja2VkIFdoaXRlc3BhY2VBbmFseXplciBmb3IgcXVl
cnlpbmcgKGluc3RlYWQgb2YgU3RhbmRhcmRBbmFseXplcikgYW5kDQo+IGl0DQo+IHNlZW1z
IHRvIG1lIHRoYXQgaXQgZ2l2ZXMgYmV0dGVyIHJlc3VsdHMgcmF0aGVyIHRoYW4gU3RhbmRh
cmRBbmFseXplci4gU28NCj4gY291bGQgeW91IHBsZWFzZSBsZXQgbWUga25vdyB3aGF0IGFy
ZSB0aGUgZGlmZmVyZW5jZXMgYmV0d2Vlbg0KPiBTdGFuZGFyZEFuYWx5emVyIGFuZCBXaGl0
ZXNwYWNlQW5hbHl6ZXIuIEkgaGlnaGx5IGFwcHJpY2lhdGUgeW91ciByZXNwb25zZS4NCj4g
VGhhbnguDQo+DQo+IE1hbmp1bGEuDQo+DQo+DQo+IE9uIE1vbiwgTm92IDI5LCAyMDEwIGF0
IDc6MzIgUE0sIFN0ZXZlbiBBIFJvd2UgPHNhcm93ZUBzeXIuZWR1PiB3cm90ZToNCj4NCj4g
PiBIaSBNYW5qdWxhLA0KPiA+DQo+ID4gSXQncyBub3QgdGVycmlibHkgY2xlYXIgd2hhdCB5
b3UncmUgZG9pbmcgaGVyZSAtIEkgZ290IGxvc3QgaW4geW91cg0KPiA+IGRlc2NyaXB0aW9u
IG9mIHlvdXIgKHR3bz8gb3IgbWF5YmUgZm91cj8pIGNsYXNzZXMuICBTb21ldGltZXMgdGhp
bmdzIGFyZQ0KPiA+IGVhc2llciB0byB1bmRlcnN0YW5kIGlmIHlvdSBwcm92aWRlIG1vcmUg
Y29uY3JldGUgZGV0YWlsLg0KPiA+DQo+ID4gSSBzdXNwZWN0IHRoYXQgeW91IGNvdWxkIGJl
bmVmaXQgZnJvbSByZWFkaW5nIHRoZSBib29rIEx1Y2VuZSBpbiBBY3Rpb24sDQo+ID4gMm5k
IGVkaXRpb246DQo+ID4NCj4gPiAgIGh0dHA6Ly93d3cubWFubmluZy5jb20vaGF0Y2hlcjMv
DQo+ID4NCj4gPiBZb3Ugd291bGQgYWxzbyBsaWtlbHkgYmVuZWZpdCBmcm9tIHVzaW5nIEx1
a2UsIHRoZSBMdWNlbmUgaW5kZXggYnJvd3NlciwNCj4gdG8NCj4gPiBiZXR0ZXIgdW5kZXJz
dGFuZCB5b3VyIGluZGV4ZXMnIGNvbnRlbnRzIGFuZCBkZWJ1ZyBob3cgcXVlcmllcyBtYXRj
aA0KPiA+IGRvY3VtZW50czoNCj4gPg0KPiA+ICAgaHR0cDovL2NvZGUuZ29vZ2xlLmNvbS9w
L2x1a2UvDQo+ID4NCj4gPiBJIHRoaW5rIHlvdXIgcXVlc3Rpb24gaXMgd2hldGhlciB5b3Un
cmUgdXNpbmcgQW5hbHl6ZXJzIGNvcnJlY3RseS4gIEl0DQo+ID4gc291bmRzIGxpa2UgeW91
IGFyZSBjcmVhdGluZyB0d28gc2VwYXJhdGUgaW5kZXhlcyAob25lIGZvciBlYWNoIG9mIHlv
dXINCj4gPiBjbGFzc2VzKSwgYW5kIHlvdSdyZSB1c2luZyBTbm93YmFsbEFuYWx5emVyIG9u
IHRoZSBpbmRleGluZyBzaWRlIGZvciBib3RoDQo+ID4gaW5kZXhlcywgYW5kIFN0YW5kYXJk
QW5hbHl6ZXIgb24gdGhlIHF1ZXJ5IHNpZGUuDQo+ID4NCj4gPiBUaGUgdXN1YWwgYWR2aWNl
IGlzIHRvIHVzZSB0aGUgc2FtZSBBbmFseXplciBvbiBib3RoIHRoZSBxdWVyeSBhbmQgdGhl
DQo+ID4gaW5kZXggc2lkZS4gIEJ1dCBpdCBhcHBlYXJzIHRvIGJlIHRoZSBjYXNlIHRoYXQg
eW91IGFyZSB0YWtpbmcgc3RlbW1lZA0KPiBpbmRleA0KPiA+IHRlcm1zIGZyb20geW91ciBp
bmRleCAjMSBhbmQgdGhlbiBxdWVyeWluZyBpbmRleCAjMiB1c2luZyB0aGVzZSBzdGVtbWVk
DQo+ID4gdGVybXMuICBJZiB0aGlzIGlzIHRydWUsIHRoZW4geW91IHdhbnQgdGhlIHF1ZXJ5
LXRpbWUgYW5hbHl6ZXIgaW4geW91cg0KPiA+IHNlY29uZCBpbmRleCBub3QgdG8gY2hhbmdl
IHRoZSBxdWVyeSB0ZXJtcy4gIFlvdSdsbCBsaWtlbHkgZ2V0IGJldHRlcg0KPiA+IHJlc3Vs
dHMgdXNpbmcgV2hpdGVzcGFjZUFuYWx5emVyLCB3aGljaCB0b2tlbml6ZXMgb24gd2hpdGVz
cGFjZSBhbmQgZG9lcw0KPiBubw0KPiA+IGZ1cnRoZXIgYW5hbHlzaXMsIHJhdGhlciB0aGFu
IFN0YW5kYXJkQW5hbHl6ZXIuDQo+ID4NCj4gPiBTdGV2ZQ0KPiA+DQo+ID4gPiAtLS0tLU9y
aWdpbmFsIE1lc3NhZ2UtLS0tLQ0KPiA+ID4gRnJvbTogbWFuanVsYSB3aWpld2lja3JlbWEg
W21haWx0bzptYW5qdWxhNTNAZ21haWwuY29tXQ0KPiA+ID4gU2VudDogTW9uZGF5LCBOb3Zl
bWJlciAyOSwgMjAxMCA0OjMyIEFNDQo+ID4gPiBUbzogamF2YS11c2VyQGx1Y2VuZS5hcGFj
aGUub3JnDQo+ID4gPiBTdWJqZWN0OiBBbmFseXplcg0KPiA+ID4NCj4gPiA+IEhpLA0KPiA+
ID4NCj4gPiA+IEluIG15IHdvcmssIEkgYW0gdXNpbmcgTHVjZW5lIGFuZCB0d28gamF2YSBj
bGFzc2VzLiBJbiB0aGUgZmlyc3Qgb25lLCBJDQo+ID4gPiBpbmRleCBhIGRvY3VtZW50IGFu
ZCBpbiB0aGUgc2Vjb25kIG9uZSwgSSB0cnkgdG8gc2VhcmNoIHRoZSBtb3N0DQo+IHJlbGV2
YW50DQo+ID4gPiBkb2N1bWVudCBmb3IgdGhlIGluZGV4ZWQgZG9jdW1lbnQgaW4gdGhlIGZp
cnN0IG9uZS4gSW4gdGhlIGZpcnN0IGphdmENCj4gPiA+IGNsYXNzLA0KPiA+ID4gSSB1c2Ug
dGhlIFNub3diYWxsQW5hbHl6ZXIgaW4gdGhlIGNyZWF0ZUluZGV4IG1ldGhvZCBhbmQNCj4g
U3RhbmRhcmRBbmFseXplcg0KPiA+ID4gaW4NCj4gPiA+IHRoZSBzZWFyY2hJbmRleCBtZXRo
b2QgYW5kIHBhc3MgdGhlIGhpZ2hlc3QgZnJlcXVlbmN5IHRlcm1zIGludG8gdGhlDQo+ID4g
PiBzZWNvbmQNCj4gPiA+IEphdmEgY2xhc3MuIEluIHRoZSBzZWNvbmQgY2xhc3MsIEkgdXNl
IFNub3diYWxsQW5hbHl6ZXIgaW4gdGhlDQo+ID4gY3JlYXRlSW5kZXgNCj4gPiA+IG1ldGhv
ZCAodGhpcyBpbmRleCBpcyBmb3IgdGhlIGNvbGxlY3Rpb24gb2YgZG9jdW1lbnRzIHRvIGJl
IHNlYXJjaGVkLA0KPiBvcg0KPiA+ID4gaXQNCj4gPiA+IGlzIG15IGRhdGFiYXNlKSBhbmQg
U3RhbmRhcmRBbmFseXNlciBpbiB0aGUgc2VhcmNoSW5kZXggbWV0aG9kIChJIHBhc3MNCj4g
PiB0aGUNCj4gPiA+IGhpZ2hlc3QgZnJlcXVlbnRseSBvY2N1cmluZyB0ZXJtIG9mIHRoZSBm
aXJzdCBjbGFzcyBhcyB0aGUgc2VhcmNoIHRlcm0NCj4gPiA+IHBhcmFtZXRlciB0byB0aGUg
c2VhcmNoSW5kZXggbWV0aG9kIG9mIHRoZSBzZWNvbmQgY2xhc3MpLiBVc2luZw0KPiBBbmFs
eXplcnMNCj4gPiA+IGluDQo+ID4gPiB0aGlzIG1hbm5lciwgd2hhdCBJIGFtIHdpbGxpbmcg
aXMgdG8gZG8gdGhlIHN0ZW1taW5nLCBzdG9wLXdvcmRzIGluDQo+IGJvdGgNCj4gPiA+IGlu
ZGV4ZXMgKGluIGJvdGggY2xhc3NlcykgYW5kIHRvIHNlYXJjaCB0aG9zZSBhIGZldyBoaWdo
IGZyZXF1ZW5jeQ0KPiB3b3Jkcw0KPiA+ID4gKG9mDQo+ID4gPiB0aGUgZmlyc3QgaW5kZXgp
IGluIHRoZSBzZWNvbmQgaW5kZXguIFNvLCBpZiBteSBpbnRlbnRpb24gaXMgY2xlYXIgdG8N
Cj4gPiB5b3UsDQo+ID4gPiBjb3VsZCB5b3UgcGxlYXNlIGxldCBtZSBrbm93IHdoZXRoZXIg
aXQgaXMgY29ycmVjdCBvciBub3QgdGhlIHdheSBJDQo+IGhhdmUNCj4gPiA+IHVzZWQgQW5h
bHl6ZXJzPyBJIGhpZ2hseSBhcHByZWNpYXRlIGFueSBjb21tZW50Lg0KPiA+ID4NCj4gPiA+
IFRoYW54Lg0KPiA+ID4gTWFuanVsYS4NCj4gPg0KPg==

------=_NextPart_4CF770B7_08478628_469C9989--


From java-user-return-48016-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Dec 02 10:24:52 2010
Return-Path: <java-user-return-48016-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50468 invoked from network); 2 Dec 2010 10:24:52 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 2 Dec 2010 10:24:52 -0000
Received: (qmail 23414 invoked by uid 500); 2 Dec 2010 10:24:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 23303 invoked by uid 500); 2 Dec 2010 10:24:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 23295 invoked by uid 99); 2 Dec 2010 10:24:48 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Dec 2010 10:24:48 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [132.230.150.4] (HELO abacus.informatik.uni-freiburg.de) (132.230.150.4)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Dec 2010 10:24:40 +0000
Received: from hsi-kbw-109-192-191-036.hsi6.kabel-badenwuerttemberg.de ([109.192.191.36] helo=guschtel.localnet)
	by abacus.informatik.uni-freiburg.de with esmtpsa (TLSv1:AES256-SHA:256)
	(Exim 4.71)
	(envelope-from <hermann@informatik.uni-freiburg.de>)
	id 1PO6Kp-0003Yr-Sd
	for java-user@lucene.apache.org; Thu, 02 Dec 2010 11:24:20 +0100
From: Christoph Hermann <hermann@informatik.uni-freiburg.de>
To: java-user@lucene.apache.org
Subject: Re: Analyzer
Date: Thu, 2 Dec 2010 11:24:10 +0100
User-Agent: KMail/1.13.5 (Linux/2.6.34-gentoo-r1; KDE/4.4.5; x86_64; ; )
References: <tencent_1D32AFAF4520E79E439B2422@qq.com>
In-Reply-To: <tencent_1D32AFAF4520E79E439B2422@qq.com>
Organization: =?iso-8859-1?q?Albert-Ludwigs-Universit=E4t?= Freiburg
MIME-Version: 1.0
Content-Type: multipart/signed;
  boundary="nextPart23499724.LEvOyrQBr3";
  protocol="application/pkcs7-signature";
  micalg=sha1
Content-Transfer-Encoding: 7bit
Message-Id: <201012021124.14646.hermann@informatik.uni-freiburg.de>
X-Virus-Checked: Checked by ClamAV on apache.org

--nextPart23499724.LEvOyrQBr3
Content-Type: Text/Plain;
  charset="iso-8859-15"
Content-Transfer-Encoding: quoted-printable

Am Donnerstag, 2. Dezember 2010, 11:11:03 schrieb Sean:

Hi,

> By the way, is there an analyzer which splites each letter of a word?
> e.g.
> hello world =3D> h/e/l/l/o/w/o/r/l/d

There is a CharTokenizer, that should help you.

regards
Christoph Hermann

=2D-=20
Christoph Hermann
Institut f=FCr Informatik
Tel: +49 761-203-8171 Fax: +49 761-203-8162
e-mail: hermann@informatik.uni-freiburg.de

--nextPart23499724.LEvOyrQBr3
Content-Type: application/pkcs7-signature; name="smime.p7s"
Content-Disposition: attachment; filename="smime.p7s"
Content-Transfer-Encoding: base64

MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIO+zCCBCEw
ggMJoAMCAQICAgDHMA0GCSqGSIb3DQEBBQUAMHExCzAJBgNVBAYTAkRFMRwwGgYDVQQKExNEZXV0
c2NoZSBUZWxla29tIEFHMR8wHQYDVQQLExZULVRlbGVTZWMgVHJ1c3QgQ2VudGVyMSMwIQYDVQQD
ExpEZXV0c2NoZSBUZWxla29tIFJvb3QgQ0EgMjAeFw0wNjEyMTkxMDI5MDBaFw0xOTA2MzAyMzU5
MDBaMFoxCzAJBgNVBAYTAkRFMRMwEQYDVQQKEwpERk4tVmVyZWluMRAwDgYDVQQLEwdERk4tUEtJ
MSQwIgYDVQQDExtERk4tVmVyZWluIFBDQSBHbG9iYWwgLSBHMDEwggEiMA0GCSqGSIb3DQEBAQUA
A4IBDwAwggEKAoIBAQDpm8NnhfkNrvWNVMOWUDU9YuluTO2U1wBblSJ01CDrNI/W7MAxBAuZgeKm
FNJSoCgjhIt0iQReW+DieMF4yxbLKDU5ey2QRdDtoAB6fL9KDhsAw4bpXCsxEXsM84IkQ4wcOItq
aACa7txPeKvSxhObdq3u3ibo7wGvdA/BCaL2a869080UME/15eOkyGKbghoDJzANAmVgTe3RCSMq
ljVYJ9N2xnG2kB3E7f81hn1vM7PbD8URwoqDoZRdQWvY0hD1TP3KUazZve+Sg7va64sWVlZDz+HV
Ez2mHycwzUlU28kTNJpxdcVs6qcLmPkhnSevPqM5OUhqjK3JmfvDEvK9AgMBAAGjgdkwgdYwcAYD
VR0fBGkwZzBloGOgYYZfaHR0cDovL3BraS50ZWxlc2VjLmRlL2NnaS1iaW4vc2VydmljZS9hZl9E
b3dubG9hZEFSTC5jcmw/LWNybF9mb3JtYXQ9WF81MDkmLWlzc3Vlcj1EVF9ST09UX0NBXzIwHQYD
VR0OBBYEFEm3xs/oPR9/6kR7Eyn38QpwPt5kMB8GA1UdIwQYMBaAFDHDeRu69VPXF+CJei0XbAqz
K50zMA4GA1UdDwEB/wQEAwIBBjASBgNVHRMBAf8ECDAGAQH/AgECMA0GCSqGSIb3DQEBBQUAA4IB
AQA74Vp3wEgX3KkY7IGvWonwvSiSpspZGBJw7Cjy565/lizn8l0ZMfYTK3S9vYCyufdnyTmieTvh
ERHua3iRM347XyYndVNljjNj7s9zw7CSI0khUHUjoR8Y4pSFPT8z6XcgjaK95qGFKUD2P3MyWA0J
a6bahWzAP7uNZmRWJE6uDT8yNQFb6YyC2XJZT7GGhfF0hVblw/hc843uR7NTBXDn5U2KaYMo4RMJ
hp5eyOpYHgwf+aTUWgRo/Sg+iwK2WLX2oSw3VwBnqyNojWOl75lrXP1LVvarQIc01BGSbOyHxQoL
BzNytG8MHVQs2FHHzL8w00Ny8TK/jM5JY6gA9/IcMIIFFjCCA/6gAwIBAgIECgyxgzANBgkqhkiG
9w0BAQUFADBaMQswCQYDVQQGEwJERTETMBEGA1UEChMKREZOLVZlcmVpbjEQMA4GA1UECxMHREZO
LVBLSTEkMCIGA1UEAxMbREZOLVZlcmVpbiBQQ0EgR2xvYmFsIC0gRzAxMB4XDTA3MDMwNjA5Mjcx
N1oXDTE5MDMwNTAwMDAwMFowgYYxCzAJBgNVBAYTAkRFMR4wHAYDVQQKExVVbml2ZXJzaXRhZXQg
RnJlaWJ1cmcxFjAUBgNVBAsTDVJlY2hlbnplbnRydW0xGDAWBgNVBAMTD1VuaS1GUiBDQSAtIEcw
MjElMCMGCSqGSIb3DQEJARYWcGtpQHJ6LnVuaS1mcmVpYnVyZy5kZTCCASIwDQYJKoZIhvcNAQEB
BQADggEPADCCAQoCggEBAJ/ubPKRyTxV/wVTLkPC1i00o0KZ8EsEADiPRJnz9osnn/HyWBNAZmtN
c7VTFmlwIgyj69Ckd8dJWADfS2KHnP1rXrMcmoOKm24cLDBx2Ga4YRZ9IEmAXmDR/RVcHYU6I6jn
FTyQbD4haQL/47PEIwo4MZcdM4giz/JFBtTUcquqGNR6k2HUe78sFC3wRe1Zs84tHedTgEkuzcba
njTPA5THDzLxwVe7RomhsqVgqCkc2q0fJnuH8tfmMyOlrEf2xspNP5nEvZ9Lp6KCE3i0kUjmzO34
VYZJIL8Zx1a9ZnBhmL42cfQIqEnEICCu0H5nExhbB98wVDEEBvCmDuE87OUCAwEAAaOCAbUwggGx
MA8GA1UdEwEB/wQFMAMBAf8wCwYDVR0PBAQDAgEGMB0GA1UdDgQWBBQzZ6nW8ZNVNqyhMr3B5JY5
/0xwMTAfBgNVHSMEGDAWgBRJt8bP6D0ff+pEexMp9/EKcD7eZDAhBgNVHREEGjAYgRZwa2lAcnou
dW5pLWZyZWlidXJnLmRlMIGIBgNVHR8EgYAwfjA9oDugOYY3aHR0cDovL2NkcDEucGNhLmRmbi5k
ZS9nbG9iYWwtcm9vdC1jYS9wdWIvY3JsL2NhY3JsLmNybDA9oDugOYY3aHR0cDovL2NkcDIucGNh
LmRmbi5kZS9nbG9iYWwtcm9vdC1jYS9wdWIvY3JsL2NhY3JsLmNybDCBogYIKwYBBQUHAQEEgZUw
gZIwRwYIKwYBBQUHMAKGO2h0dHA6Ly9jZHAxLnBjYS5kZm4uZGUvZ2xvYmFsLXJvb3QtY2EvcHVi
L2NhY2VydC9jYWNlcnQuY3J0MEcGCCsGAQUFBzAChjtodHRwOi8vY2RwMi5wY2EuZGZuLmRlL2ds
b2JhbC1yb290LWNhL3B1Yi9jYWNlcnQvY2FjZXJ0LmNydDANBgkqhkiG9w0BAQUFAAOCAQEApQIJ
8Bv1xDztUU+GIrwkzGXP9pnAsT1AV+1ghbz94qxoGxDzo1wNgrjAR1rH3lStqrVyYlfLnn7lBbMa
3bg/xErNGzQ6r/HX38OaZheJ5f9F4haZmp1XbyMJv3gK7BXL1FdQ2sG7RlFFPmSPYjBm58DLMaal
X2xqKOK/eSc/q6VeZVod5HPU4Ec9/PIoWhDKZLfc/zrrrscVBqdecr4HiKh5s/zikXMC1KroKLDc
Wz0i6kuKyhge0f4I+m/LU2HDITygmao1qkx0jXHKYT+qeryJUeR5N4vElEKPL9ADWlT5uIvtauzV
dtlTCLzHlBgcWas6mvdDpn1qYr1fCPpFLjCCBbgwggSgoAMCAQICBA4Og2wwDQYJKoZIhvcNAQEF
BQAwgYYxCzAJBgNVBAYTAkRFMR4wHAYDVQQKExVVbml2ZXJzaXRhZXQgRnJlaWJ1cmcxFjAUBgNV
BAsTDVJlY2hlbnplbnRydW0xGDAWBgNVBAMTD1VuaS1GUiBDQSAtIEcwMjElMCMGCSqGSIb3DQEJ
ARYWcGtpQHJ6LnVuaS1mcmVpYnVyZy5kZTAeFw0wOTA0MjIxMTU2MTJaFw0xMjA0MjExMTU2MTJa
MIGfMQswCQYDVQQGEwJERTEeMBwGA1UEChMVVW5pdmVyc2l0YWV0IEZyZWlidXJnMSEwHwYDVQQL
ExhJbnN0aXR1dCBmdWVyIEluZm9ybWF0aWsxGjAYBgNVBAMTEUNocmlzdG9waCBIZXJtYW5uMTEw
LwYJKoZIhvcNAQkBFiJoZXJtYW5uQGluZm9ybWF0aWsudW5pLWZyZWlidXJnLmRlMIIBIjANBgkq
hkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAxvlzKUnW2PD3YS3EX2a8myAA1fYh+k4VNW6uFEta3cK/
o1rwCk/AsT3efPMRJxxARX+nh7TS4oVM6ejIgNDGktnzYMsqd/VaxRkT/ksJQiJ8+jR0ND4WZR3m
sxgPV6F0VHVQA8Q7YsUKOUakURjNttyUmiBbxFccJD/RQidGg38HIEleGn7WCKGRwLRByNcQZik9
Fcyk6Z1Vs5vy5sGZtlpsht5FsOESp9iW+X2ZzAB4usIM+J57ic8Kf4AQHF8A6GGcBVzTxez7Hen3
aoCz0ynRYjMrNk1sVgJDIBz2rjryhoCC5ykzhD/pF2LJQbWezvzsep3RdAq5NBsT3fvg0wIDAQAB
o4ICETCCAg0wCQYDVR0TBAIwADALBgNVHQ8EBAMCBeAwKQYDVR0lBCIwIAYIKwYBBQUHAwIGCCsG
AQUFBwMEBgorBgEEAYI3FAICMB0GA1UdDgQWBBT39quvsk/kHxJvOjSJzW1qnlWyZDAfBgNVHSME
GDAWgBQzZ6nW8ZNVNqyhMr3B5JY5/0xwMTBLBgNVHREERDBCgSJoZXJtYW5uQGluZm9ybWF0aWsu
dW5pLWZyZWlidXJnLmRlgRxoZXJtYW5uQG1hc3Rlcm9ubGluZS1pZW1zLmRlMIGPBgNVHR8EgYcw
gYQwQKA+oDyGOmh0dHA6Ly9jZHAxLnBjYS5kZm4uZGUvdW5pLWZyZWlidXJnLWNhL3B1Yi9jcmwv
Z19jYWNybC5jcmwwQKA+oDyGOmh0dHA6Ly9jZHAyLnBjYS5kZm4uZGUvdW5pLWZyZWlidXJnLWNh
L3B1Yi9jcmwvZ19jYWNybC5jcmwwgagGCCsGAQUFBwEBBIGbMIGYMEoGCCsGAQUFBzAChj5odHRw
Oi8vY2RwMS5wY2EuZGZuLmRlL3VuaS1mcmVpYnVyZy1jYS9wdWIvY2FjZXJ0L2dfY2FjZXJ0LmNy
dDBKBggrBgEFBQcwAoY+aHR0cDovL2NkcDIucGNhLmRmbi5kZS91bmktZnJlaWJ1cmctY2EvcHVi
L2NhY2VydC9nX2NhY2VydC5jcnQwDQYJKoZIhvcNAQEFBQADggEBADk6zV5aHiGjSdjv+drVtAUb
haceA+gAXGtsNyapFm1GAbatU/t74pdl+T01O25AYsAqN0uAvr+pBO5QfF9DTXD2PUPv7RZd7hEj
BK8lDCpsLbS0A9Nl227ofxhVN8CHYdcIThJYc1EuLmagwkiNJIt4rcjqGw6FEdKWZsf9CUw6zzNh
5StQuRl/5DQH84qY9zhHCjCS5pWdQbhB5/QR3eW24xtVdb8GTHkI2eDYziXIUiBqx2R8DfFivTFf
DhzzQlT0njZbP3CwsQNdjS92Js/bnIgdLmm0C4xvjLLICVgLWy8TZLtFqJARCHMSo6ReG3Z0zJaP
v19qlY2Y+eM1u4gxggJBMIICPQIBATCBjzCBhjELMAkGA1UEBhMCREUxHjAcBgNVBAoTFVVuaXZl
cnNpdGFldCBGcmVpYnVyZzEWMBQGA1UECxMNUmVjaGVuemVudHJ1bTEYMBYGA1UEAxMPVW5pLUZS
IENBIC0gRzAyMSUwIwYJKoZIhvcNAQkBFhZwa2lAcnoudW5pLWZyZWlidXJnLmRlAgQODoNsMAkG
BSsOAwIaBQCggYcwGAYJKoZIhvcNAQkDMQsGCSqGSIb3DQEHATAcBgkqhkiG9w0BCQUxDxcNMTAx
MjAyMTAyNDEwWjAjBgkqhkiG9w0BCQQxFgQU8AA3dIX7mi55BK1qLTuEK16txkcwKAYJKoZIhvcN
AQkPMRswGTALBglghkgBZQMEAQIwCgYIKoZIhvcNAwcwDQYJKoZIhvcNAQEBBQAEggEALgeMgrIG
Tghv2FcKAZpyDzhPvD3jBimXLWU6cUcWcC+WPz/h48Yc6Tr8XlakAJe/0kcE+ceTcWUn2TOVG2MJ
qc5A2lcZzJOyvU8gjRGg16Pxx8Jv9vLH2UTWNvWx7hEtpC6rsHYmOaGixJa1RqItUBCUqEb5cGn0
26zf/Zw06NC81q4mFLb9HEiurfkfliFoUUMk+HzpQt7NVp/+lT2NL8NO5ME6Sjsh6+rIuY5kCE2A
3J2AwiLgrzznHeCEJsA8b9PmX52u6DC0v2feZ2ak90gub2Kh558BTfwvCYljVVLYLZ6yp580Tcog
w4v2yZ2N8pcVX2HGzcL+UcsCqPgW1AAAAAAAAA==

--nextPart23499724.LEvOyrQBr3--

From java-user-return-48017-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Dec 02 13:09:14 2010
Return-Path: <java-user-return-48017-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 51705 invoked from network); 2 Dec 2010 13:09:13 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 2 Dec 2010 13:09:13 -0000
Received: (qmail 66658 invoked by uid 500); 2 Dec 2010 13:09:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66455 invoked by uid 500); 2 Dec 2010 13:09:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66447 invoked by uid 99); 2 Dec 2010 13:09:09 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Dec 2010 13:09:09 +0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [206.190.49.14] (HELO web52904.mail.re2.yahoo.com) (206.190.49.14)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 02 Dec 2010 13:09:02 +0000
Received: (qmail 24884 invoked by uid 60001); 2 Dec 2010 13:08:40 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1291295320; bh=C3Eco5FnNa8jDlFOr6/06RuSLtTob2s0fSwj9JnjQns=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=WY30AI8J854CDaHYM5NyhidHlReho5QwrPWQMJvMroZ4bTIJ/d4pBxpKqDa5+E0JmhqpJaeoxwdM6VFhUMMbzQv0FgtEvcgWnkkQIWppy5BKERZY4QJExopiW7J+Oriv3u9FF82pnUa1DRwRmaSE1ZEcjWRxjTkcGPD/WSqt7+w=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=0Zs/Orfa4qnxwDleXkZgSagW3B3HCKhBsf4NLiDjVz6nnh1N6KJtxXfqF1Ulr7JQ1AfW+4m7Cty9Bx2l9foDyPIjj1bRUqQ0tK3PP7WmzeoQ+1vo/G8y68p+VIvYPHcilBJ7LBSWlrLH9glB7+/kRoWtDgiqdRNh8dwVJd5ASgk=;
Message-ID: <889147.23313.qm@web52904.mail.re2.yahoo.com>
X-YMail-OSG: 2EPfbDEVM1n86pCgJPJ2vKLi8K.hKswUL7MRkRncHYw0MMd
 ApuZM1BQZcAF.Wz38drimakJq3vfBpim8FoY8RG_1N5i9WEp5WygCtPOkF7f
 f8xWagRWyJzjZo8eDOw5pQNLEKwB86oVmKYGZn64UrZuymW1brb49EHQmvBH
 TErLdGqGOGOVmbWomKJuBpBo4FGy6pZVUmL1mKqT4ZhbZNoQS12A0VyK0am5
 9aRwXIg3.3SsnGTfDeRfS32t7w2rniZa8ELhtyEP.rFuyhEx5Uc_lQMVkNAK
 vXaggxeNH2Rd9.ZePayDgr7RVcVoIpolvJG9sozwBDr0P4mnuwRSs0B4OVCG
 1LbeYBkpE
Received: from [193.140.184.4] by web52904.mail.re2.yahoo.com via HTTP; Thu, 02 Dec 2010 05:08:40 PST
X-Mailer: YahooMailClassic/11.4.20 YahooMailWebService/0.8.107.285259
Date: Thu, 2 Dec 2010 05:08:40 -0800 (PST)
From: Ahmet Arslan <iorixxx@yahoo.com>
Subject: Re: Analyzer
To: java-user@lucene.apache.org
In-Reply-To: <tencent_1D32AFAF4520E79E439B2422@qq.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii


> By the way, is there an analyzer
> which splites each letter of a word?
> e.g.
> hello world => h/e/l/l/o/w/o/r/l/d

There are classes under the package org.apache.lucene.analysis.ngram 



      

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48018-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Dec 02 14:04:42 2010
Return-Path: <java-user-return-48018-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 81952 invoked from network); 2 Dec 2010 14:04:41 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 2 Dec 2010 14:04:41 -0000
Received: (qmail 18118 invoked by uid 500); 2 Dec 2010 14:04:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 18026 invoked by uid 500); 2 Dec 2010 14:04:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 62336 invoked by uid 99); 2 Dec 2010 13:35:10 -0000
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=FREEMAIL_FROM,RFC_ABUSE_POST,SPF_HELO_PASS,SPF_SOFTFAIL,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: softfail (nike.apache.org: transitioning domain of boztop@hotmail.com does not designate 216.139.236.158 as permitted sender)
Date: Thu, 2 Dec 2010 05:34:42 -0800 (PST)
From: reis3k <boztop@hotmail.com>
To: java-user@lucene.apache.org
Message-ID: <1291296882819-2005913.post@n3.nabble.com>
Subject: Using metadata of the requested files with Lucene
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org


Hi All,
I'm trying to write a small app, ebook organizer, using Lucene.

I index metadata of various file types properly,and when I search a keyword
related to metada of documents I can get a result. However, I wanna get the
metadata of some specific indexed document e.g. I'll send the part/filename
to lucene, and it will return exact result including metadata of it. I
couldn't figure out until now. Any help is appreciated. Thanks!
-- 
View this message in context: http://lucene.472066.n3.nabble.com/Using-metadata-of-the-requested-files-with-Lucene-tp2005913p2005913.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48019-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Dec 02 14:09:39 2010
Return-Path: <java-user-return-48019-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93696 invoked from network); 2 Dec 2010 14:09:39 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 2 Dec 2010 14:09:39 -0000
Received: (qmail 26905 invoked by uid 500); 2 Dec 2010 14:09:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 26738 invoked by uid 500); 2 Dec 2010 14:09:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 26723 invoked by uid 99); 2 Dec 2010 14:09:34 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Dec 2010 14:09:34 +0000
X-ASF-Spam-Status: No, hits=0.6 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ian.lea@gmail.com designates 209.85.214.48 as permitted sender)
Received: from [209.85.214.48] (HELO mail-bw0-f48.google.com) (209.85.214.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Dec 2010 14:09:27 +0000
Received: by bwz9 with SMTP id 9so7999660bwz.35
        for <java-user@lucene.apache.org>; Thu, 02 Dec 2010 06:09:07 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:in-reply-to
         :references:from:date:message-id:subject:to:content-type;
        bh=Hx6L2qKFtv8tcMLcitlTzMNdtkEvdcPPGkxoYm8w0xc=;
        b=Y/tVii5FHPYa73hDI/q9iZw2YJLBa3RCp9AYBBBadMuAWE+b0sqZjXrppYJNccuWMI
         +CRHMICoVfMeL4N4JMIswPcx98tMnpN46Ot3whs7bNmWhOkxMUFYVDIuIFEo4f2TMb27
         7jminrQ8i8HmPX8dS4ITe5HIkFJrKgEfTzRso=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=i2sGG/S82FlO7qCcYHHt89dqk5F+uqH58mcduw1mKzaowT23YtKOIWgPqCkH5R1J3x
         f+60nn3WLFTCUzS2ZSLJ8hD05isxpAWqUBKKRcjzUJILFYJ/nQ+a5zYhjjmRVcDGXrs9
         IlLsn7nuyBA+HU3YcEFsLXXYAS6JljGHjo+dU=
Received: by 10.204.72.80 with SMTP id l16mr630153bkj.133.1291298946911; Thu,
 02 Dec 2010 06:09:06 -0800 (PST)
MIME-Version: 1.0
Received: by 10.204.116.212 with HTTP; Thu, 2 Dec 2010 06:08:46 -0800 (PST)
In-Reply-To: <1291296882819-2005913.post@n3.nabble.com>
References: <1291296882819-2005913.post@n3.nabble.com>
From: Ian Lea <ian.lea@gmail.com>
Date: Thu, 2 Dec 2010 14:08:46 +0000
Message-ID: <AANLkTimMHOcgi7+UT6CoLmxC3HqbbDB5_z+RkpO3xKCL@mail.gmail.com>
Subject: Re: Using metadata of the requested files with Lucene
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

You need to store the data in the index (Field.Store.YES) and then you
can get it back by calling doc.get("fieldname").


--
Ian.


On Thu, Dec 2, 2010 at 1:34 PM, reis3k <boztop@hotmail.com> wrote:
>
> Hi All,
> I'm trying to write a small app, ebook organizer, using Lucene.
>
> I index metadata of various file types properly,and when I search a keyword
> related to metada of documents I can get a result. However, I wanna get the
> metadata of some specific indexed document e.g. I'll send the part/filename
> to lucene, and it will return exact result including metadata of it. I
> couldn't figure out until now. Any help is appreciated. Thanks!
> --
> View this message in context: http://lucene.472066.n3.nabble.com/Using-metadata-of-the-requested-files-with-Lucene-tp2005913p2005913.html
> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48020-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Dec 02 14:09:59 2010
Return-Path: <java-user-return-48020-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93850 invoked from network); 2 Dec 2010 14:09:58 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 2 Dec 2010 14:09:58 -0000
Received: (qmail 29022 invoked by uid 500); 2 Dec 2010 14:09:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 28896 invoked by uid 500); 2 Dec 2010 14:09:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 28888 invoked by uid 99); 2 Dec 2010 14:09:54 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Dec 2010 14:09:54 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of erickerickson@gmail.com designates 209.85.216.169 as permitted sender)
Received: from [209.85.216.169] (HELO mail-qy0-f169.google.com) (209.85.216.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Dec 2010 14:09:46 +0000
Received: by qyk7 with SMTP id 7so3847816qyk.14
        for <java-user@lucene.apache.org>; Thu, 02 Dec 2010 06:09:24 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=PqPa3PbWcD7p3FpYOnVjIuVTPFMdaBojwygH6Pz7C3k=;
        b=sNTTAepWjk2MDJ4vYzD8GhrpZl168UZHJ+uJUaR+1w6qo457KT3CwQrB/tCn5Yc+O+
         QgOtHuV4QsKZlCDKH4WoJ8euppMT5edpoVNJqip5kz8BfXat6JGchWdXw2yUvmiasHU0
         t9e9++eGnyBDNLxCoorPeBYgFUaG42jJ7TydQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=X+FYDFBtsILBx8rqxOMDKgyGWllGmKLsX3a0NxunMSX8T36KOg0JzPXUkrd1UapVTy
         R26JqYLJ1pVVD6mwcosSgNd1LlGIruyiKV34jZsKowI6/6Mn9u/PEBZzMG33kwLwWTEF
         /MChztbIiwCuLTL59mO5M+hYIcjgPsiwEdkpg=
MIME-Version: 1.0
Received: by 10.229.86.149 with SMTP id s21mr54080qcl.234.1291298964512; Thu,
 02 Dec 2010 06:09:24 -0800 (PST)
Received: by 10.229.225.142 with HTTP; Thu, 2 Dec 2010 06:09:24 -0800 (PST)
In-Reply-To: <AANLkTi=WMshSdm=gsxw1M9KnuQdogEDeU8Vw5UmhJGJi@mail.gmail.com>
References: <AANLkTi=WMshSdm=gsxw1M9KnuQdogEDeU8Vw5UmhJGJi@mail.gmail.com>
Date: Thu, 2 Dec 2010 09:09:24 -0500
Message-ID: <AANLkTimFBnjiL28rguoWJsj0oDK-vJmHij6hJuiNX5Qz@mail.gmail.com>
Subject: Re: a proof that every word is indexing properly
From: Erick Erickson <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016364272b514212a04966df8f9
X-Virus-Checked: Checked by ClamAV on apache.org

--0016364272b514212a04966df8f9
Content-Type: text/plain; charset=ISO-8859-1

I'm really curious how you expert knows that the present system
"indexes every word properly". You can certainly test any scenario that
can be defined precisely via unit tests as Lance suggests.

Ask for *concrete* examples he's concerned with. Write tests to show that
each
example works. Ask for more. Do NOT accept requiring "proof" that's not
demonstrable by tests, that way madness lies. Besides, it's impossible.

Or just propose a pilot project. Underlying the whole discussion is that
using Lucene makes your business go faster/more profitably/leaner/whatever.
Find a pain point in the current system and volunteer to see if Lucene can
make that pain go away. Then enlist the business side of the company saying
"we can deliver on XYZ better than the old system, should we continue?"

Really, you have to show that you can demonstrate delivering
*business value* with Lucene that isn't being delivered currently. Otherwise
this is just one of those endless technical discussions that has no value
to your company. And if you can't deliver business value, you have no reason
to use Lucene. Or any other new technology for that matter. Once you
demonstrate business value, rational decisions can be made whether the
development
effort is worth the cost. It's really, really effective to take something
that has been
"too hard to do" with the old system and deliver it in, say, three weeks
with new
technology. *That* demonstration takes most of the wind out of abstract
"issues".

Pilot projects are especially attractive to management because they can
define the
cost. As in "You have 4 weeks to demonstrate this with a 3 person team".
They
also give you a much deeper insight into the technology which informs the
discussion.

Of course you should pick a pain point that you have some hope of solving
<G>.

Best
Erick

On Wed, Dec 1, 2010 at 9:54 PM, David Linde <davidlinde@gmail.com> wrote:

> Has anyone figured out a way to logically prove that lucene indexes ever
> word properly?
>
> Our company has done alot of research into lucene, all of our IT department
> is really impressed and excited about lucene *except* one of the older
> search/indexing experts.
> Who doesn't want to move to a new search engine, is there anyway to
> logically prove, that lucene indexes every word properly?
>
> One idea we considered is attempting to rebuild the source from the index,
> but it seems like doing that would take a huge effort.
>
> Any ideas or thoughts, would be very much appreciated.
>
> Thanks in advance
> David
>

--0016364272b514212a04966df8f9--

From java-user-return-48021-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Dec 02 14:14:04 2010
Return-Path: <java-user-return-48021-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 96413 invoked from network); 2 Dec 2010 14:14:03 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 2 Dec 2010 14:14:03 -0000
Received: (qmail 36093 invoked by uid 500); 2 Dec 2010 14:14:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35994 invoked by uid 500); 2 Dec 2010 14:14:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35981 invoked by uid 99); 2 Dec 2010 14:14:00 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Dec 2010 14:14:00 +0000
X-ASF-Spam-Status: No, hits=2.8 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of erickerickson@gmail.com designates 209.85.212.48 as permitted sender)
Received: from [209.85.212.48] (HELO mail-vw0-f48.google.com) (209.85.212.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Dec 2010 14:13:53 +0000
Received: by vws18 with SMTP id 18so3180321vws.35
        for <java-user@lucene.apache.org>; Thu, 02 Dec 2010 06:13:32 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=7Ew/cYKyydd88FHXk4/sc14QV3+dE0O6Lj5YkeUL4js=;
        b=NM6kUviaDJyiVVRfj8O09amz/dQ/R8RkFzJ1vAH4+k2iknBj2Nbt6lxy3vmNmhqB8/
         Xy8WPHLxSPBC0xp2WG6yNHqX7lVgag1ojPoOPYvx90SZ9TgQofKOdbo5rvftNqe3aFAv
         qp7Abhvuf3aqKUdKaDEB37HeqssSG7ANIZgdQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=vAT5GtNP8lJdJcb3b4VzV+Zmh1TJySlDSRumT8BqHclNAMJiHNRKXjyBGEK3IRimmr
         Wo1ghizERXoluQLxlR8w1Kn9npO+/0qjEiquvKL/C1ZE0NX1/881Xx2iGNKwC+SV/dIQ
         AO2iyBAa0Y3z5X+QAle2hhgXV1AlNGsRGNxB8=
MIME-Version: 1.0
Received: by 10.229.99.84 with SMTP id t20mr80903qcn.120.1291299212006; Thu,
 02 Dec 2010 06:13:32 -0800 (PST)
Received: by 10.229.225.142 with HTTP; Thu, 2 Dec 2010 06:13:31 -0800 (PST)
In-Reply-To: <1291296882819-2005913.post@n3.nabble.com>
References: <1291296882819-2005913.post@n3.nabble.com>
Date: Thu, 2 Dec 2010 09:13:31 -0500
Message-ID: <AANLkTikhX=NV_bifhn+G6MG3Aa+sos_o7w1RK_-Bd+Q9@mail.gmail.com>
Subject: Re: Using metadata of the requested files with Lucene
From: Erick Erickson <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=001636285314d4980104966e06eb
X-Virus-Checked: Checked by ClamAV on apache.org

--001636285314d4980104966e06eb
Content-Type: text/plain; charset=ISO-8859-1

An example would help. But assuming you've indexed the part or
filename (and that it's unique), just search for it. You should
only get a single document back and then IndexReader.doc(luceneID)
will get you the stored for that document.

You have to watch out for tokenization of file names (use KeywordAnalyzer
perhaps).

Or you can just go to the term/doc directly, see TermDocs.

Best
Erick

On Thu, Dec 2, 2010 at 8:34 AM, reis3k <boztop@hotmail.com> wrote:

>
> Hi All,
> I'm trying to write a small app, ebook organizer, using Lucene.
>
> I index metadata of various file types properly,and when I search a keyword
> related to metada of documents I can get a result. However, I wanna get the
> metadata of some specific indexed document e.g. I'll send the part/filename
> to lucene, and it will return exact result including metadata of it. I
> couldn't figure out until now. Any help is appreciated. Thanks!
> --
> View this message in context:
> http://lucene.472066.n3.nabble.com/Using-metadata-of-the-requested-files-with-Lucene-tp2005913p2005913.html
> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--001636285314d4980104966e06eb--

From java-user-return-48022-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Dec 02 15:27:41 2010
Return-Path: <java-user-return-48022-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32193 invoked from network); 2 Dec 2010 15:27:41 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 2 Dec 2010 15:27:41 -0000
Received: (qmail 59083 invoked by uid 500); 2 Dec 2010 15:27:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58907 invoked by uid 500); 2 Dec 2010 15:27:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58897 invoked by uid 99); 2 Dec 2010 15:27:38 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Dec 2010 15:27:38 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [194.116.198.142] (HELO gse-mta-03.emailfiltering.com) (194.116.198.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Dec 2010 15:27:29 +0000
Received: from arklet.gcal.ac.uk ([193.62.224.72])
	by gse-mta-03.emailfiltering.com with emfmta (version 4.6.0.72) by TLS id 9597331526
	for java-user@lucene.apache.org;76ed4bfc10eaf129; Thu, 02 Dec 2010 15:27:09 +0000
Received: from ITSEMBXCLUS.enterprise.gcal.ac.uk
 ([fe80:0000:0000:0000:19cc:b8e3:177.173.188.238]) by
 ITSEHUB2.enterprise.gcal.ac.uk ([193.62.224.72]) with mapi; Thu, 2 Dec 2010
 15:27:08 +0000
From: "McGibbney, Lewis John" <Lewis.McGibbney@gcu.ac.uk>
To: "'java-user@lucene.apache.org'" <java-user@lucene.apache.org>
Date: Thu, 2 Dec 2010 15:27:07 +0000
Subject: tokensFromAnalysis
Thread-Topic: tokensFromAnalysis
Thread-Index: AcuSNWB2/9TujB8UR2a81QWekqqVjw==
Message-ID: <90362ECB07906C40A0297F9D5211A24323C3D81F11@ITSEMBXCLUS.enterprise.gcal.ac.uk>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: multipart/alternative;
	boundary="_000_90362ECB07906C40A0297F9D5211A24323C3D81F11ITSEMBXCLUSen_"
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

--_000_90362ECB07906C40A0297F9D5211A24323C3D81F11ITSEMBXCLUSen_
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hello List,

Having posted a couple of days ago, I have one last question regarding the =
following code fragment

  public static Token[] tokensFromAnalysis(Analyzer analyzer, String text)
      throws IOException {
   TokenStream stream =3D analyzer.tokenStream("contents",
        new StringReader(text));
    ArrayList<Token> tokenList =3D new ArrayList<Token>();
    Token token =3D null;
    while ((token =3D stream.next()) !=3D null) <-------
      tokenList.add(token);
    Token[] tokens =3D new Token[tokenList.size()];
    for (int i =3D 0; i < tokens.length; i++)
      tokens[i] =3D tokenList.get(i);
    return (tokens);

I am getting an error on stream.next() as highlighted. I am prompted to add=
 a cast to stream, however I then am faced with the problem of which object=
 to pass... which I do not know.

while ((token =3D ((Object) stream).next()) !=3D null)

Thank you
Lewis


Glasgow Caledonian University is a registered Scottish charity, number SC02=
1474

Winner: Times Higher Education's Widening Participation Initiative of the Y=
ear 2009 and Herald Society's Education Initiative of the Year 2009
http://www.gcu.ac.uk/newsevents/news/bycategory/theuniversity/1/name,6219,e=
n.html

--_000_90362ECB07906C40A0297F9D5211A24323C3D81F11ITSEMBXCLUSen_--

From java-user-return-48023-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Dec 02 15:35:55 2010
Return-Path: <java-user-return-48023-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 36705 invoked from network); 2 Dec 2010 15:35:54 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 2 Dec 2010 15:35:54 -0000
Received: (qmail 85768 invoked by uid 500); 2 Dec 2010 15:35:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 85634 invoked by uid 500); 2 Dec 2010 15:35:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 85615 invoked by uid 99); 2 Dec 2010 15:35:51 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Dec 2010 15:35:51 +0000
X-ASF-Spam-Status: No, hits=2.1 required=10.0
	tests=FREEMAIL_FROM,FREEMAIL_REPLYTO,RCVD_IN_DNSWL_LOW,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of simon.willnauer@googlemail.com designates 209.85.212.48 as permitted sender)
Received: from [209.85.212.48] (HELO mail-vw0-f48.google.com) (209.85.212.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Dec 2010 15:35:46 +0000
Received: by vws18 with SMTP id 18so3265289vws.35
        for <java-user@lucene.apache.org>; Thu, 02 Dec 2010 07:35:25 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=googlemail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:reply-to
         :in-reply-to:references:date:message-id:subject:from:to:content-type
         :content-transfer-encoding;
        bh=PVX0HHONc5s3Ms8/Io0dVIQDtUFfxyjYQdJl5BXWGO0=;
        b=LHlcuSKuUTIjqgDVfh4gI27EYebJY5aOF5t+xsLlNZpKA4jL1GKZPpIsB/hE7DZV3J
         3CxF/Gv5ZQlqPnnMh1am+ySoZjrzetFkL9HRp3yqA0TD0IINFd4IpsMMjnkDAz2jnbBy
         sLlcg+5JbFWzuMN6ztgP1iVTO+ukjWRRLmOvY=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=googlemail.com; s=gamma;
        h=mime-version:reply-to:in-reply-to:references:date:message-id
         :subject:from:to:content-type:content-transfer-encoding;
        b=LheV5SQ7hsHWa5WVxYw9QmkHPDOfQDw6pNbYas3qyu7Lzhca7SpwF3sIwJIXd5e9LZ
         DYKTQIIo4MZq9C+5Ellf/GCnVnn2hFodAeSKE5HHA7m30QDzBg/Zl7joXeZ3qGFPt0xk
         wcPiGdcslQ0IcfBkmmXogRuYhokQf88WB53J4=
MIME-Version: 1.0
Received: by 10.229.225.213 with SMTP id it21mr166639qcb.90.1291304125567;
 Thu, 02 Dec 2010 07:35:25 -0800 (PST)
Received: by 10.229.100.139 with HTTP; Thu, 2 Dec 2010 07:35:25 -0800 (PST)
Reply-To: simon.willnauer@gmail.com
In-Reply-To: <90362ECB07906C40A0297F9D5211A24323C3D81F11@ITSEMBXCLUS.enterprise.gcal.ac.uk>
References: <90362ECB07906C40A0297F9D5211A24323C3D81F11@ITSEMBXCLUS.enterprise.gcal.ac.uk>
Date: Thu, 2 Dec 2010 16:35:25 +0100
Message-ID: <AANLkTiktvTBGGv9YSB4PQVEJCSMuLW=Udf64q69zAL91@mail.gmail.com>
Subject: Re: tokensFromAnalysis
From: Simon Willnauer <simon.willnauer@googlemail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

man what version of lucene are you useing?

simon

On Thu, Dec 2, 2010 at 4:27 PM, McGibbney, Lewis John
<Lewis.McGibbney@gcu.ac.uk> wrote:
> Hello List,
>
> Having posted a couple of days ago, I have one last question regarding th=
e following code fragment
>
> =C2=A0public static Token[] tokensFromAnalysis(Analyzer analyzer, String =
text)
> =C2=A0 =C2=A0 =C2=A0throws IOException {
> =C2=A0 TokenStream stream =3D analyzer.tokenStream("contents",
> =C2=A0 =C2=A0 =C2=A0 =C2=A0new StringReader(text));
> =C2=A0 =C2=A0ArrayList<Token> tokenList =3D new ArrayList<Token>();
> =C2=A0 =C2=A0Token token =3D null;
> =C2=A0 =C2=A0while ((token =3D stream.next()) !=3D null) <-------
> =C2=A0 =C2=A0 =C2=A0tokenList.add(token);
> =C2=A0 =C2=A0Token[] tokens =3D new Token[tokenList.size()];
> =C2=A0 =C2=A0for (int i =3D 0; i < tokens.length; i++)
> =C2=A0 =C2=A0 =C2=A0tokens[i] =3D tokenList.get(i);
> =C2=A0 =C2=A0return (tokens);
>
> I am getting an error on stream.next() as highlighted. I am prompted to a=
dd a cast to stream, however I then am faced with the problem of which obje=
ct to pass... which I do not know.
>
> while ((token =3D ((Object) stream).next()) !=3D null)
>
> Thank you
> Lewis
>
>
> Glasgow Caledonian University is a registered Scottish charity, number SC=
021474
>
> Winner: Times Higher Education's Widening Participation Initiative of the=
 Year 2009 and Herald Society's Education Initiative of the Year 2009
> http://www.gcu.ac.uk/newsevents/news/bycategory/theuniversity/1/name,6219=
,en.html
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48024-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Dec 02 15:46:06 2010
Return-Path: <java-user-return-48024-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 41865 invoked from network); 2 Dec 2010 15:46:06 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 2 Dec 2010 15:46:06 -0000
Received: (qmail 8925 invoked by uid 500); 2 Dec 2010 15:46:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8794 invoked by uid 500); 2 Dec 2010 15:46:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8786 invoked by uid 99); 2 Dec 2010 15:46:03 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Dec 2010 15:46:03 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [194.116.199.142] (HELO thb-mta-03.emailfiltering.com) (194.116.199.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Dec 2010 15:45:57 +0000
Received: from arklet.gcal.ac.uk ([193.62.224.72])
	by thb-mta-03.emailfiltering.com with emfmta (version 4.6.0.72) by TLS id 8112586240
	for java-user@lucene.apache.org;9f48ec925c9e775a; Thu, 02 Dec 2010 15:45:35 +0000
Received: from ITSEMBXCLUS.enterprise.gcal.ac.uk
 ([fe80:0000:0000:0000:19cc:b8e3:177.173.188.238]) by
 ITSEHUB2.enterprise.gcal.ac.uk ([193.62.224.72]) with mapi; Thu, 2 Dec 2010
 15:45:34 +0000
From: "McGibbney, Lewis John" <Lewis.McGibbney@gcu.ac.uk>
To: "'java-user@lucene.apache.org'" <java-user@lucene.apache.org>,
	"'simon.willnauer@gmail.com'" <simon.willnauer@gmail.com>
Date: Thu, 2 Dec 2010 15:45:32 +0000
Subject: RE: tokensFromAnalysis
Thread-Topic: tokensFromAnalysis
Thread-Index: AcuSNp+hdYi9auHxQ02rw0W6i7nIhAAAKe2g
Message-ID: <90362ECB07906C40A0297F9D5211A24323C3D81F12@ITSEMBXCLUS.enterprise.gcal.ac.uk>
References: <90362ECB07906C40A0297F9D5211A24323C3D81F11@ITSEMBXCLUS.enterprise.gcal.ac.uk>
 <AANLkTiktvTBGGv9YSB4PQVEJCSMuLW=Udf64q69zAL91@mail.gmail.com>
In-Reply-To: <AANLkTiktvTBGGv9YSB4PQVEJCSMuLW=Udf64q69zAL91@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0

SSBoYXZlIGJlZW4gdHJ5aW5nIHRvIHJldXNlIGNvZGUgd2hpY2ggd2FzIG9yaWdpbmFsbHkgd3Jp
dHRlbiBhIHdoaWxlIGFnbyBhcyB5b3UgY2FuIHRlbGwuDQoNCkkgYW0gbG9va2luZyBmb3Igc3Vn
Z2VzdGlvbnMgYXMgdG8gaG93IEkgY291bGQgZ2V0IHRoZSBjb2RlIHdvcmtpbmcsIGlmIHRoaXMg
aXMgbm90IHBvc3NpYmxlIGFsdGVybmF0aXZlbHkgSSB3aWxsIHN0YXJ0IGZyb20gc2NyYXRjaC4N
Cg0KVGhhbmsgeW91DQoNCg0KLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCkZyb206IFNpbW9u
IFdpbGxuYXVlciBbbWFpbHRvOnNpbW9uLndpbGxuYXVlckBnb29nbGVtYWlsLmNvbV0NClNlbnQ6
IDAyIERlY2VtYmVyIDIwMTAgMTU6MzUNClRvOiBqYXZhLXVzZXJAbHVjZW5lLmFwYWNoZS5vcmcN
ClN1YmplY3Q6IFJlOiB0b2tlbnNGcm9tQW5hbHlzaXMNCg0KbWFuIHdoYXQgdmVyc2lvbiBvZiBs
dWNlbmUgYXJlIHlvdSB1c2Vpbmc/DQoNCnNpbW9uDQoNCk9uIFRodSwgRGVjIDIsIDIwMTAgYXQg
NDoyNyBQTSwgTWNHaWJibmV5LCBMZXdpcyBKb2huDQo8TGV3aXMuTWNHaWJibmV5QGdjdS5hYy51
az4gd3JvdGU6DQo+IEhlbGxvIExpc3QsDQo+DQo+IEhhdmluZyBwb3N0ZWQgYSBjb3VwbGUgb2Yg
ZGF5cyBhZ28sIEkgaGF2ZSBvbmUgbGFzdCBxdWVzdGlvbiByZWdhcmRpbmcgdGhlIGZvbGxvd2lu
ZyBjb2RlIGZyYWdtZW50DQo+DQo+ICBwdWJsaWMgc3RhdGljIFRva2VuW10gdG9rZW5zRnJvbUFu
YWx5c2lzKEFuYWx5emVyIGFuYWx5emVyLCBTdHJpbmcgdGV4dCkNCj4gICAgICB0aHJvd3MgSU9F
eGNlcHRpb24gew0KPiAgIFRva2VuU3RyZWFtIHN0cmVhbSA9IGFuYWx5emVyLnRva2VuU3RyZWFt
KCJjb250ZW50cyIsDQo+ICAgICAgICBuZXcgU3RyaW5nUmVhZGVyKHRleHQpKTsNCj4gICAgQXJy
YXlMaXN0PFRva2VuPiB0b2tlbkxpc3QgPSBuZXcgQXJyYXlMaXN0PFRva2VuPigpOw0KPiAgICBU
b2tlbiB0b2tlbiA9IG51bGw7DQo+ICAgIHdoaWxlICgodG9rZW4gPSBzdHJlYW0ubmV4dCgpKSAh
PSBudWxsKSA8LS0tLS0tLQ0KPiAgICAgIHRva2VuTGlzdC5hZGQodG9rZW4pOw0KPiAgICBUb2tl
bltdIHRva2VucyA9IG5ldyBUb2tlblt0b2tlbkxpc3Quc2l6ZSgpXTsNCj4gICAgZm9yIChpbnQg
aSA9IDA7IGkgPCB0b2tlbnMubGVuZ3RoOyBpKyspDQo+ICAgICAgdG9rZW5zW2ldID0gdG9rZW5M
aXN0LmdldChpKTsNCj4gICAgcmV0dXJuICh0b2tlbnMpOw0KPg0KPiBJIGFtIGdldHRpbmcgYW4g
ZXJyb3Igb24gc3RyZWFtLm5leHQoKSBhcyBoaWdobGlnaHRlZC4gSSBhbSBwcm9tcHRlZCB0byBh
ZGQgYSBjYXN0IHRvIHN0cmVhbSwgaG93ZXZlciBJIHRoZW4gYW0gZmFjZWQgd2l0aCB0aGUgcHJv
YmxlbSBvZiB3aGljaCBvYmplY3QgdG8gcGFzcy4uLiB3aGljaCBJIGRvIG5vdCBrbm93Lg0KPg0K
PiB3aGlsZSAoKHRva2VuID0gKChPYmplY3QpIHN0cmVhbSkubmV4dCgpKSAhPSBudWxsKQ0KPg0K
PiBUaGFuayB5b3UNCj4gTGV3aXMNCj4NCj4NCj4gR2xhc2dvdyBDYWxlZG9uaWFuIFVuaXZlcnNp
dHkgaXMgYSByZWdpc3RlcmVkIFNjb3R0aXNoIGNoYXJpdHksIG51bWJlciBTQzAyMTQ3NA0KPg0K
PiBXaW5uZXI6IFRpbWVzIEhpZ2hlciBFZHVjYXRpb24ncyBXaWRlbmluZyBQYXJ0aWNpcGF0aW9u
IEluaXRpYXRpdmUgb2YgdGhlIFllYXIgMjAwOSBhbmQgSGVyYWxkIFNvY2lldHkncyBFZHVjYXRp
b24gSW5pdGlhdGl2ZSBvZiB0aGUgWWVhciAyMDA5DQo+IGh0dHA6Ly93d3cuZ2N1LmFjLnVrL25l
d3NldmVudHMvbmV3cy9ieWNhdGVnb3J5L3RoZXVuaXZlcnNpdHkvMS9uYW1lLDYyMTksZW4uaHRt
bA0KPg0KDQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0NClRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IGphdmEtdXNlci11
bnN1YnNjcmliZUBsdWNlbmUuYXBhY2hlLm9yZw0KRm9yIGFkZGl0aW9uYWwgY29tbWFuZHMsIGUt
bWFpbDogamF2YS11c2VyLWhlbHBAbHVjZW5lLmFwYWNoZS5vcmcNCg0KRW1haWwgaGFzIGJlZW4g
c2Nhbm5lZCBmb3IgdmlydXNlcyBieSBBbHRtYW4gVGVjaG5vbG9naWVzJyBlbWFpbCBtYW5hZ2Vt
ZW50IHNlcnZpY2UgLSB3d3cuYWx0bWFuLmNvLnVrL2VtYWlsc3lzdGVtcw0KDQpHbGFzZ293IENh
bGVkb25pYW4gVW5pdmVyc2l0eSBpcyBhIHJlZ2lzdGVyZWQgU2NvdHRpc2ggY2hhcml0eSwgbnVt
YmVyIFNDMDIxNDc0DQoNCldpbm5lcjogVGltZXMgSGlnaGVyIEVkdWNhdGlvbuKAmXMgV2lkZW5p
bmcgUGFydGljaXBhdGlvbiBJbml0aWF0aXZlIG9mIHRoZSBZZWFyIDIwMDkgYW5kIEhlcmFsZCBT
b2NpZXR54oCZcyBFZHVjYXRpb24gSW5pdGlhdGl2ZSBvZiB0aGUgWWVhciAyMDA5DQpodHRwOi8v
d3d3LmdjdS5hYy51ay9uZXdzZXZlbnRzL25ld3MvYnljYXRlZ29yeS90aGV1bml2ZXJzaXR5LzEv
bmFtZSw2MjE5LGVuLmh0bWwNCg==


From java-user-return-48025-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Dec 02 16:29:48 2010
Return-Path: <java-user-return-48025-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 63900 invoked from network); 2 Dec 2010 16:29:48 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 2 Dec 2010 16:29:48 -0000
Received: (qmail 80022 invoked by uid 500); 2 Dec 2010 16:29:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 79898 invoked by uid 500); 2 Dec 2010 16:29:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 79890 invoked by uid 99); 2 Dec 2010 16:29:43 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Dec 2010 16:29:43 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=10.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [128.230.18.82] (HELO smtp1.syr.edu) (128.230.18.82)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Dec 2010 16:29:35 +0000
Received: from suex07-hub-02.ad.syr.edu (suex07-hub-02.ad.syr.edu [128.230.108.196])
	by smtp1.syr.edu (8.14.3/8.14.3) with ESMTP id oB2GTEQ6013316
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=FAIL)
	for <java-user@lucene.apache.org>; Thu, 2 Dec 2010 11:29:14 -0500
Received: from suex07-mbx-03.ad.syr.edu ([128.230.108.133]) by
 suex07-hub-02.ad.syr.edu ([128.230.108.196]) with mapi; Thu, 2 Dec 2010
 11:29:14 -0500
From: Steven A Rowe <sarowe@syr.edu>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Date: Thu, 2 Dec 2010 11:29:33 -0500
Subject: RE: tokensFromAnalysis
Thread-Topic: tokensFromAnalysis
Thread-Index: AcuSNp+hdYi9auHxQ02rw0W6i7nIhAAAKe2gAAF2TRA=
Message-ID: <2D127F11DC79714E9B6A43AC9458147F887377A2@suex07-mbx-03.ad.syr.edu>
References: <90362ECB07906C40A0297F9D5211A24323C3D81F11@ITSEMBXCLUS.enterprise.gcal.ac.uk>
 <AANLkTiktvTBGGv9YSB4PQVEJCSMuLW=Udf64q69zAL91@mail.gmail.com>
 <90362ECB07906C40A0297F9D5211A24323C3D81F12@ITSEMBXCLUS.enterprise.gcal.ac.uk>
In-Reply-To: <90362ECB07906C40A0297F9D5211A24323C3D81F12@ITSEMBXCLUS.enterprise.gcal.ac.uk>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-Proofpoint-Virus-Version: vendor=fsecure engine=2.50.10432:5.2.15,1.0.148,0.0.0000
 definitions=2010-12-02_08:2010-12-02,2010-12-02,1970-01-01 signatures=0
X-Proofpoint-Spam-Reason: safe
X-Virus-Checked: Checked by ClamAV on apache.org

TGV3aXMsDQoNClNpbW9uIGFza2VkIGFib3V0IHRoZSB2ZXJzaW9uIG9mIEx1Y2VuZSB5b3UncmUg
dXNpbmcgYmVjYXVzZSB0aGlzIHNlY3Rpb24gb2YgdGhlIEFQSSBoYXMgc2VlbiByZWd1bGFyIGNo
YW5nZS4gIElmIHlvdSBkb24ndCB0ZWxsIHVzIHdoaWNoIHZlcnNpb24sIHdlIGNhbid0IGhlbHAs
IGJlY2F1c2Ugd2UgZG9uJ3Qga25vdyB3aGF0IHlvdSdyZSBjb2RpbmcgYWdhaW5zdC4NCg0KU3Rl
dmUNCg0KPiAtLS0tLU9yaWdpbmFsIE1lc3NhZ2UtLS0tLQ0KPiBGcm9tOiBNY0dpYmJuZXksIExl
d2lzIEpvaG4gW21haWx0bzpMZXdpcy5NY0dpYmJuZXlAZ2N1LmFjLnVrXQ0KPiBTZW50OiBUaHVy
c2RheSwgRGVjZW1iZXIgMDIsIDIwMTAgMTA6NDYgQU0NCj4gVG86ICdqYXZhLXVzZXJAbHVjZW5l
LmFwYWNoZS5vcmcnOyAnc2ltb24ud2lsbG5hdWVyQGdtYWlsLmNvbScNCj4gU3ViamVjdDogUkU6
IHRva2Vuc0Zyb21BbmFseXNpcw0KPiANCj4gSSBoYXZlIGJlZW4gdHJ5aW5nIHRvIHJldXNlIGNv
ZGUgd2hpY2ggd2FzIG9yaWdpbmFsbHkgd3JpdHRlbiBhIHdoaWxlIGFnbw0KPiBhcyB5b3UgY2Fu
IHRlbGwuDQo+IA0KPiBJIGFtIGxvb2tpbmcgZm9yIHN1Z2dlc3Rpb25zIGFzIHRvIGhvdyBJIGNv
dWxkIGdldCB0aGUgY29kZSB3b3JraW5nLCBpZg0KPiB0aGlzIGlzIG5vdCBwb3NzaWJsZSBhbHRl
cm5hdGl2ZWx5IEkgd2lsbCBzdGFydCBmcm9tIHNjcmF0Y2guDQo+IA0KPiBUaGFuayB5b3UNCj4g
DQo+IA0KPiAtLS0tLU9yaWdpbmFsIE1lc3NhZ2UtLS0tLQ0KPiBGcm9tOiBTaW1vbiBXaWxsbmF1
ZXIgW21haWx0bzpzaW1vbi53aWxsbmF1ZXJAZ29vZ2xlbWFpbC5jb21dDQo+IFNlbnQ6IDAyIERl
Y2VtYmVyIDIwMTAgMTU6MzUNCj4gVG86IGphdmEtdXNlckBsdWNlbmUuYXBhY2hlLm9yZw0KPiBT
dWJqZWN0OiBSZTogdG9rZW5zRnJvbUFuYWx5c2lzDQo+IA0KPiBtYW4gd2hhdCB2ZXJzaW9uIG9m
IGx1Y2VuZSBhcmUgeW91IHVzZWluZz8NCj4gDQo+IHNpbW9uDQo+IA0KPiBPbiBUaHUsIERlYyAy
LCAyMDEwIGF0IDQ6MjcgUE0sIE1jR2liYm5leSwgTGV3aXMgSm9obg0KPiA8TGV3aXMuTWNHaWJi
bmV5QGdjdS5hYy51az4gd3JvdGU6DQo+ID4gSGVsbG8gTGlzdCwNCj4gPg0KPiA+IEhhdmluZyBw
b3N0ZWQgYSBjb3VwbGUgb2YgZGF5cyBhZ28sIEkgaGF2ZSBvbmUgbGFzdCBxdWVzdGlvbiByZWdh
cmRpbmcNCj4gdGhlIGZvbGxvd2luZyBjb2RlIGZyYWdtZW50DQo+ID4NCj4gPiAgcHVibGljIHN0
YXRpYyBUb2tlbltdIHRva2Vuc0Zyb21BbmFseXNpcyhBbmFseXplciBhbmFseXplciwgU3RyaW5n
DQo+IHRleHQpDQo+ID4gICAgICB0aHJvd3MgSU9FeGNlcHRpb24gew0KPiA+ICAgVG9rZW5TdHJl
YW0gc3RyZWFtID0gYW5hbHl6ZXIudG9rZW5TdHJlYW0oImNvbnRlbnRzIiwNCj4gPiAgICAgICAg
bmV3IFN0cmluZ1JlYWRlcih0ZXh0KSk7DQo+ID4gICAgQXJyYXlMaXN0PFRva2VuPiB0b2tlbkxp
c3QgPSBuZXcgQXJyYXlMaXN0PFRva2VuPigpOw0KPiA+ICAgIFRva2VuIHRva2VuID0gbnVsbDsN
Cj4gPiAgICB3aGlsZSAoKHRva2VuID0gc3RyZWFtLm5leHQoKSkgIT0gbnVsbCkgPC0tLS0tLS0N
Cj4gPiAgICAgIHRva2VuTGlzdC5hZGQodG9rZW4pOw0KPiA+ICAgIFRva2VuW10gdG9rZW5zID0g
bmV3IFRva2VuW3Rva2VuTGlzdC5zaXplKCldOw0KPiA+ICAgIGZvciAoaW50IGkgPSAwOyBpIDwg
dG9rZW5zLmxlbmd0aDsgaSsrKQ0KPiA+ICAgICAgdG9rZW5zW2ldID0gdG9rZW5MaXN0LmdldChp
KTsNCj4gPiAgICByZXR1cm4gKHRva2Vucyk7DQo+ID4NCj4gPiBJIGFtIGdldHRpbmcgYW4gZXJy
b3Igb24gc3RyZWFtLm5leHQoKSBhcyBoaWdobGlnaHRlZC4gSSBhbSBwcm9tcHRlZCB0bw0KPiBh
ZGQgYSBjYXN0IHRvIHN0cmVhbSwgaG93ZXZlciBJIHRoZW4gYW0gZmFjZWQgd2l0aCB0aGUgcHJv
YmxlbSBvZiB3aGljaA0KPiBvYmplY3QgdG8gcGFzcy4uLiB3aGljaCBJIGRvIG5vdCBrbm93Lg0K
PiA+DQo+ID4gd2hpbGUgKCh0b2tlbiA9ICgoT2JqZWN0KSBzdHJlYW0pLm5leHQoKSkgIT0gbnVs
bCkNCj4gPg0KPiA+IFRoYW5rIHlvdQ0KPiA+IExld2lzDQo+ID4NCj4gPg0KPiA+IEdsYXNnb3cg
Q2FsZWRvbmlhbiBVbml2ZXJzaXR5IGlzIGEgcmVnaXN0ZXJlZCBTY290dGlzaCBjaGFyaXR5LCBu
dW1iZXINCj4gU0MwMjE0NzQNCj4gPg0KPiA+IFdpbm5lcjogVGltZXMgSGlnaGVyIEVkdWNhdGlv
bidzIFdpZGVuaW5nIFBhcnRpY2lwYXRpb24gSW5pdGlhdGl2ZSBvZg0KPiB0aGUgWWVhciAyMDA5
IGFuZCBIZXJhbGQgU29jaWV0eSdzIEVkdWNhdGlvbiBJbml0aWF0aXZlIG9mIHRoZSBZZWFyIDIw
MDkNCj4gPg0KPiBodHRwOi8vd3d3LmdjdS5hYy51ay9uZXdzZXZlbnRzL25ld3MvYnljYXRlZ29y
eS90aGV1bml2ZXJzaXR5LzEvbmFtZSw2MjE5LA0KPiBlbi5odG1sDQo+ID4NCj4gDQo+IC0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLQ0KPiBUbyB1bnN1YnNjcmliZSwgZS1tYWlsOiBqYXZhLXVzZXItdW5zdWJzY3JpYmVA
bHVjZW5lLmFwYWNoZS5vcmcNCj4gRm9yIGFkZGl0aW9uYWwgY29tbWFuZHMsIGUtbWFpbDogamF2
YS11c2VyLWhlbHBAbHVjZW5lLmFwYWNoZS5vcmcNCj4gDQo+IEVtYWlsIGhhcyBiZWVuIHNjYW5u
ZWQgZm9yIHZpcnVzZXMgYnkgQWx0bWFuIFRlY2hub2xvZ2llcycgZW1haWwNCj4gbWFuYWdlbWVu
dCBzZXJ2aWNlIC0gd3d3LmFsdG1hbi5jby51ay9lbWFpbHN5c3RlbXMNCj4gDQo+IEdsYXNnb3cg
Q2FsZWRvbmlhbiBVbml2ZXJzaXR5IGlzIGEgcmVnaXN0ZXJlZCBTY290dGlzaCBjaGFyaXR5LCBu
dW1iZXINCj4gU0MwMjE0NzQNCj4gDQo+IFdpbm5lcjogVGltZXMgSGlnaGVyIEVkdWNhdGlvbuKA
mXMgV2lkZW5pbmcgUGFydGljaXBhdGlvbiBJbml0aWF0aXZlIG9mIHRoZQ0KPiBZZWFyIDIwMDkg
YW5kIEhlcmFsZCBTb2NpZXR54oCZcyBFZHVjYXRpb24gSW5pdGlhdGl2ZSBvZiB0aGUgWWVhciAy
MDA5DQo+IGh0dHA6Ly93d3cuZ2N1LmFjLnVrL25ld3NldmVudHMvbmV3cy9ieWNhdGVnb3J5L3Ro
ZXVuaXZlcnNpdHkvMS9uYW1lLDYyMTksDQo+IGVuLmh0bWwNCg==


From java-user-return-48026-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Dec 02 16:58:37 2010
Return-Path: <java-user-return-48026-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 76103 invoked from network); 2 Dec 2010 16:58:36 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 2 Dec 2010 16:58:36 -0000
Received: (qmail 20178 invoked by uid 500); 2 Dec 2010 16:58:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 20116 invoked by uid 500); 2 Dec 2010 16:58:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 20108 invoked by uid 99); 2 Dec 2010 16:58:33 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Dec 2010 16:58:33 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [194.116.199.142] (HELO thb-mta-03.emailfiltering.com) (194.116.199.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 02 Dec 2010 16:58:25 +0000
Received: from arkle.gcal.ac.uk ([193.62.224.71])
	by thb-mta-03.emailfiltering.com with emfmta (version 4.6.0.72) by TLS id 8112671304
	for java-user@lucene.apache.org;599e17e96adec84a; Thu, 02 Dec 2010 16:58:04 +0000
Received: from ITSEMBXCLUS.enterprise.gcal.ac.uk
 ([fe80:0000:0000:0000:19cc:b8e3:177.173.188.238]) by
 ITSEHUB1.enterprise.gcal.ac.uk ([193.62.224.71]) with mapi; Thu, 2 Dec 2010
 16:58:06 +0000
From: "McGibbney, Lewis John" <Lewis.McGibbney@gcu.ac.uk>
To: "'java-user@lucene.apache.org'" <java-user@lucene.apache.org>
Date: Thu, 2 Dec 2010 16:58:01 +0000
Subject: RE: tokensFromAnalysis
Thread-Topic: tokensFromAnalysis
Thread-Index: AcuSNp+hdYi9auHxQ02rw0W6i7nIhAAAKe2gAAF2TRAAAQC7cA==
Message-ID: <90362ECB07906C40A0297F9D5211A24323C3D81F13@ITSEMBXCLUS.enterprise.gcal.ac.uk>
References: <90362ECB07906C40A0297F9D5211A24323C3D81F11@ITSEMBXCLUS.enterprise.gcal.ac.uk>
 <AANLkTiktvTBGGv9YSB4PQVEJCSMuLW=Udf64q69zAL91@mail.gmail.com>
 <90362ECB07906C40A0297F9D5211A24323C3D81F12@ITSEMBXCLUS.enterprise.gcal.ac.uk>
 <2D127F11DC79714E9B6A43AC9458147F887377A2@suex07-mbx-03.ad.syr.edu>
In-Reply-To: <2D127F11DC79714E9B6A43AC9458147F887377A2@suex07-mbx-03.ad.syr.edu>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

SGF2aW5nIGRvbmUgYSBzZWFyY2ggdGhlIHZlcnNpb24gaXMgMi4zISEhDQoNCkkgaGF2ZSBiZWVu
IG1ha2luZyBjaGFuZ2VzIHNpbmNlIHBvc3RpbmcgbXkgZmlyc3QgbWVzc2FnZSwgaWYgaXQgaXMg
b2sgSSB3aWxsIGFkZCBhIHJlcGx5IHRvIHRoaXMgdGhyZWFkIGluIHVwY29taW5nIGRheXMgaWYg
SSBidW1wIGludG8gbW9yZSBwcm9ibGVtcy4gSSBkaWRuJ3QgcmVhbGlzZSB0aGUgQVBJIGhhZCBj
aGFuZ2VkIHRvIHRoZSBkZWdyZWUgaXQgaGFzLg0KDQpMZXdpcw0KDQoNCg0KDQotLS0tLU9yaWdp
bmFsIE1lc3NhZ2UtLS0tLQ0KRnJvbTogU3RldmVuIEEgUm93ZSBbbWFpbHRvOnNhcm93ZUBzeXIu
ZWR1XQ0KU2VudDogMDIgRGVjZW1iZXIgMjAxMCAxNjozMA0KVG86IGphdmEtdXNlckBsdWNlbmUu
YXBhY2hlLm9yZw0KU3ViamVjdDogUkU6IHRva2Vuc0Zyb21BbmFseXNpcw0KDQpMZXdpcywNCg0K
U2ltb24gYXNrZWQgYWJvdXQgdGhlIHZlcnNpb24gb2YgTHVjZW5lIHlvdSdyZSB1c2luZyBiZWNh
dXNlIHRoaXMgc2VjdGlvbiBvZiB0aGUgQVBJIGhhcyBzZWVuIHJlZ3VsYXIgY2hhbmdlLiAgSWYg
eW91IGRvbid0IHRlbGwgdXMgd2hpY2ggdmVyc2lvbiwgd2UgY2FuJ3QgaGVscCwgYmVjYXVzZSB3
ZSBkb24ndCBrbm93IHdoYXQgeW91J3JlIGNvZGluZyBhZ2FpbnN0Lg0KDQpTdGV2ZQ0KDQo+IC0t
LS0tT3JpZ2luYWwgTWVzc2FnZS0tLS0tDQo+IEZyb206IE1jR2liYm5leSwgTGV3aXMgSm9obiBb
bWFpbHRvOkxld2lzLk1jR2liYm5leUBnY3UuYWMudWtdDQo+IFNlbnQ6IFRodXJzZGF5LCBEZWNl
bWJlciAwMiwgMjAxMCAxMDo0NiBBTQ0KPiBUbzogJ2phdmEtdXNlckBsdWNlbmUuYXBhY2hlLm9y
Zyc7ICdzaW1vbi53aWxsbmF1ZXJAZ21haWwuY29tJw0KPiBTdWJqZWN0OiBSRTogdG9rZW5zRnJv
bUFuYWx5c2lzDQo+DQo+IEkgaGF2ZSBiZWVuIHRyeWluZyB0byByZXVzZSBjb2RlIHdoaWNoIHdh
cyBvcmlnaW5hbGx5IHdyaXR0ZW4gYSB3aGlsZSBhZ28NCj4gYXMgeW91IGNhbiB0ZWxsLg0KPg0K
PiBJIGFtIGxvb2tpbmcgZm9yIHN1Z2dlc3Rpb25zIGFzIHRvIGhvdyBJIGNvdWxkIGdldCB0aGUg
Y29kZSB3b3JraW5nLCBpZg0KPiB0aGlzIGlzIG5vdCBwb3NzaWJsZSBhbHRlcm5hdGl2ZWx5IEkg
d2lsbCBzdGFydCBmcm9tIHNjcmF0Y2guDQo+DQo+IFRoYW5rIHlvdQ0KPg0KPg0KPiAtLS0tLU9y
aWdpbmFsIE1lc3NhZ2UtLS0tLQ0KPiBGcm9tOiBTaW1vbiBXaWxsbmF1ZXIgW21haWx0bzpzaW1v
bi53aWxsbmF1ZXJAZ29vZ2xlbWFpbC5jb21dDQo+IFNlbnQ6IDAyIERlY2VtYmVyIDIwMTAgMTU6
MzUNCj4gVG86IGphdmEtdXNlckBsdWNlbmUuYXBhY2hlLm9yZw0KPiBTdWJqZWN0OiBSZTogdG9r
ZW5zRnJvbUFuYWx5c2lzDQo+DQo+IG1hbiB3aGF0IHZlcnNpb24gb2YgbHVjZW5lIGFyZSB5b3Ug
dXNlaW5nPw0KPg0KPiBzaW1vbg0KPg0KPiBPbiBUaHUsIERlYyAyLCAyMDEwIGF0IDQ6MjcgUE0s
IE1jR2liYm5leSwgTGV3aXMgSm9obg0KPiA8TGV3aXMuTWNHaWJibmV5QGdjdS5hYy51az4gd3Jv
dGU6DQo+ID4gSGVsbG8gTGlzdCwNCj4gPg0KPiA+IEhhdmluZyBwb3N0ZWQgYSBjb3VwbGUgb2Yg
ZGF5cyBhZ28sIEkgaGF2ZSBvbmUgbGFzdCBxdWVzdGlvbiByZWdhcmRpbmcNCj4gdGhlIGZvbGxv
d2luZyBjb2RlIGZyYWdtZW50DQo+ID4NCj4gPiAgcHVibGljIHN0YXRpYyBUb2tlbltdIHRva2Vu
c0Zyb21BbmFseXNpcyhBbmFseXplciBhbmFseXplciwgU3RyaW5nDQo+IHRleHQpDQo+ID4gICAg
ICB0aHJvd3MgSU9FeGNlcHRpb24gew0KPiA+ICAgVG9rZW5TdHJlYW0gc3RyZWFtID0gYW5hbHl6
ZXIudG9rZW5TdHJlYW0oImNvbnRlbnRzIiwNCj4gPiAgICAgICAgbmV3IFN0cmluZ1JlYWRlcih0
ZXh0KSk7DQo+ID4gICAgQXJyYXlMaXN0PFRva2VuPiB0b2tlbkxpc3QgPSBuZXcgQXJyYXlMaXN0
PFRva2VuPigpOw0KPiA+ICAgIFRva2VuIHRva2VuID0gbnVsbDsNCj4gPiAgICB3aGlsZSAoKHRv
a2VuID0gc3RyZWFtLm5leHQoKSkgIT0gbnVsbCkgPC0tLS0tLS0NCj4gPiAgICAgIHRva2VuTGlz
dC5hZGQodG9rZW4pOw0KPiA+ICAgIFRva2VuW10gdG9rZW5zID0gbmV3IFRva2VuW3Rva2VuTGlz
dC5zaXplKCldOw0KPiA+ICAgIGZvciAoaW50IGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsr
KQ0KPiA+ICAgICAgdG9rZW5zW2ldID0gdG9rZW5MaXN0LmdldChpKTsNCj4gPiAgICByZXR1cm4g
KHRva2Vucyk7DQo+ID4NCj4gPiBJIGFtIGdldHRpbmcgYW4gZXJyb3Igb24gc3RyZWFtLm5leHQo
KSBhcyBoaWdobGlnaHRlZC4gSSBhbSBwcm9tcHRlZCB0bw0KPiBhZGQgYSBjYXN0IHRvIHN0cmVh
bSwgaG93ZXZlciBJIHRoZW4gYW0gZmFjZWQgd2l0aCB0aGUgcHJvYmxlbSBvZiB3aGljaA0KPiBv
YmplY3QgdG8gcGFzcy4uLiB3aGljaCBJIGRvIG5vdCBrbm93Lg0KPiA+DQo+ID4gd2hpbGUgKCh0
b2tlbiA9ICgoT2JqZWN0KSBzdHJlYW0pLm5leHQoKSkgIT0gbnVsbCkNCj4gPg0KPiA+IFRoYW5r
IHlvdQ0KPiA+IExld2lzDQo+ID4NCj4gPg0KPiA+IEdsYXNnb3cgQ2FsZWRvbmlhbiBVbml2ZXJz
aXR5IGlzIGEgcmVnaXN0ZXJlZCBTY290dGlzaCBjaGFyaXR5LCBudW1iZXINCj4gU0MwMjE0NzQN
Cj4gPg0KPiA+IFdpbm5lcjogVGltZXMgSGlnaGVyIEVkdWNhdGlvbidzIFdpZGVuaW5nIFBhcnRp
Y2lwYXRpb24gSW5pdGlhdGl2ZSBvZg0KPiB0aGUgWWVhciAyMDA5IGFuZCBIZXJhbGQgU29jaWV0
eSdzIEVkdWNhdGlvbiBJbml0aWF0aXZlIG9mIHRoZSBZZWFyIDIwMDkNCj4gPg0KPiBodHRwOi8v
d3d3LmdjdS5hYy51ay9uZXdzZXZlbnRzL25ld3MvYnljYXRlZ29yeS90aGV1bml2ZXJzaXR5LzEv
bmFtZSw2MjE5LA0KPiBlbi5odG1sDQo+ID4NCj4NCj4gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQo+IFRvIHVuc3Vi
c2NyaWJlLCBlLW1haWw6IGphdmEtdXNlci11bnN1YnNjcmliZUBsdWNlbmUuYXBhY2hlLm9yZw0K
PiBGb3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1tYWlsOiBqYXZhLXVzZXItaGVscEBsdWNlbmUu
YXBhY2hlLm9yZw0KPg0KPiBFbWFpbCBoYXMgYmVlbiBzY2FubmVkIGZvciB2aXJ1c2VzIGJ5IEFs
dG1hbiBUZWNobm9sb2dpZXMnIGVtYWlsDQo+IG1hbmFnZW1lbnQgc2VydmljZSAtIHd3dy5hbHRt
YW4uY28udWsvZW1haWxzeXN0ZW1zDQo+DQo+IEdsYXNnb3cgQ2FsZWRvbmlhbiBVbml2ZXJzaXR5
IGlzIGEgcmVnaXN0ZXJlZCBTY290dGlzaCBjaGFyaXR5LCBudW1iZXINCj4gU0MwMjE0NzQNCj4N
Cj4gV2lubmVyOiBUaW1lcyBIaWdoZXIgRWR1Y2F0aW9u4oCZcyBXaWRlbmluZyBQYXJ0aWNpcGF0
aW9uIEluaXRpYXRpdmUgb2YgdGhlDQo+IFllYXIgMjAwOSBhbmQgSGVyYWxkIFNvY2lldHnigJlz
IEVkdWNhdGlvbiBJbml0aWF0aXZlIG9mIHRoZSBZZWFyIDIwMDkNCj4gaHR0cDovL3d3dy5nY3Uu
YWMudWsvbmV3c2V2ZW50cy9uZXdzL2J5Y2F0ZWdvcnkvdGhldW5pdmVyc2l0eS8xL25hbWUsNjIx
OSwNCj4gZW4uaHRtbA0KDQpFbWFpbCBoYXMgYmVlbiBzY2FubmVkIGZvciB2aXJ1c2VzIGJ5IEFs
dG1hbiBUZWNobm9sb2dpZXMnIGVtYWlsIG1hbmFnZW1lbnQgc2VydmljZSAtIHd3dy5hbHRtYW4u
Y28udWsvZW1haWxzeXN0ZW1zDQoNCkdsYXNnb3cgQ2FsZWRvbmlhbiBVbml2ZXJzaXR5IGlzIGEg
cmVnaXN0ZXJlZCBTY290dGlzaCBjaGFyaXR5LCBudW1iZXIgU0MwMjE0NzQNCg0KV2lubmVyOiBU
aW1lcyBIaWdoZXIgRWR1Y2F0aW9u4oCZcyBXaWRlbmluZyBQYXJ0aWNpcGF0aW9uIEluaXRpYXRp
dmUgb2YgdGhlIFllYXIgMjAwOSBhbmQgSGVyYWxkIFNvY2lldHnigJlzIEVkdWNhdGlvbiBJbml0
aWF0aXZlIG9mIHRoZSBZZWFyIDIwMDkNCmh0dHA6Ly93d3cuZ2N1LmFjLnVrL25ld3NldmVudHMv
bmV3cy9ieWNhdGVnb3J5L3RoZXVuaXZlcnNpdHkvMS9uYW1lLDYyMTksZW4uaHRtbA0K


From java-user-return-48027-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Dec 03 05:35:56 2010
Return-Path: <java-user-return-48027-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 3509 invoked from network); 3 Dec 2010 05:35:56 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 3 Dec 2010 05:35:56 -0000
Received: (qmail 98787 invoked by uid 500); 3 Dec 2010 05:35:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 98552 invoked by uid 500); 3 Dec 2010 05:35:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 98544 invoked by uid 99); 3 Dec 2010 05:35:53 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 03 Dec 2010 05:35:53 +0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=FREEMAIL_FROM,MIME_QP_LONG_LINE,RCVD_IN_DNSWL_NONE,RFC_ABUSE_POST,SPF_NEUTRAL,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [121.101.151.211] (HELO nm1-vm0.bullet.mail.in.yahoo.com) (121.101.151.211)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 03 Dec 2010 05:35:46 +0000
Received: from [121.101.151.238] by nm1.bullet.mail.in.yahoo.com with NNFMP; 03 Dec 2010 05:35:23 -0000
Received: from [121.101.151.234] by tm3.bullet.mail.in.yahoo.com with NNFMP; 03 Dec 2010 05:35:26 -0000
Received: from [127.0.0.1] by omp1003.mail.in.yahoo.com with NNFMP; 03 Dec 2010 05:35:22 -0000
X-Yahoo-Newman-Id: 906865.33294.bm@omp1003.mail.in.yahoo.com
Received: (qmail 94859 invoked from network); 3 Dec 2010 05:35:23 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.in;
  h=DKIM-Signature:Received:X-Yahoo-SMTP:X-YMail-OSG:X-Yahoo-Newman-Property:Message-ID:From:To:Subject:Date:MIME-Version:Content-Type:Content-Transfer-Encoding:X-Priority:X-MSMail-Priority:X-Mailer:X-MimeOLE;
  b=ZfTgUNQt+csoDooZlnLTuSQsJYDI8fJsTn12Nr7lpieIE/IzcB90uDdNeVvbEh5HpCiSfi08PDY9/qG+Hd3RmfpuvQSnno1KNF3I0avl9ny4W2hmzKPskaQG9Emnsy7HtdnKptdAIfV5LMJ+vi27cdyMbxrbLg8QBefJewDORv4=  ;
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.co.in; s=s1024; t=1291354523; bh=tXttI99ZrgwBDPzwsXhz16G71Hz59zHPkgnF4OakKr0=; h=Received:X-Yahoo-SMTP:X-YMail-OSG:X-Yahoo-Newman-Property:Message-ID:From:To:Subject:Date:MIME-Version:Content-Type:Content-Transfer-Encoding:X-Priority:X-MSMail-Priority:X-Mailer:X-MimeOLE; b=SkXSnjkNd3J1tJQa7ns+k2ERyz6QS2WfGyd8YyyHAGGdfQZNGANgckEMpwv7X8EpccmoMPASzhAJr5E9vFkjM/qyIm1mDg+Z+bJoorGpcXglBsV4/SnKMzZFqXp98kFKEREEYN0/7OUbJ2+1nS7dGwXRgOUMm67jWjN6IN5iV6k=
Received: from GaneshM (emailgane@121.244.159.130 with login)
        by smtp106.mail.in.yahoo.com with SMTP; 03 Dec 2010 11:05:23 +0530 IST
X-Yahoo-SMTP: JObyHkuswBBrNSLZp.Ycd7Boqpr_GQ--
X-YMail-OSG: Yig8vYEVM1nCbLp54S.g.VbEOx1lfWjJpgm_CQTpJ1uXII6
 e8d6I9bY5oPpKkRtPVaLsi2bKIUaCDN37EUkshOZz7gjaIwrX3KqMivz138u
 1oHC4pS8B7.9FrOMvsTVIgvKs.FyY3vuvPAyKLkxi44E_i.NY.QOKt2KD3P7
 PPxUxHVzg8RaP7bIGKjU4p2Zy6dL1tFQnp_PbRXj1zR9J6NB0_FQcctdc8BA
 2kJUN8Hsx
X-Yahoo-Newman-Property: ymail-3
Message-ID: <52AECCE6F5764C2D903CD6D9956B7831@sv.us.sonicwall.com>
From: "Ganesh" <emailgane@yahoo.co.in>
To: <solr-user@lucene.apache.org>, <java-user@lucene.apache.org>
Subject: PDF text extracted without spaces
Date: Fri, 3 Dec 2010 11:05:22 +0530
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.5931
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.5931

Hello all,

I know, this is not the right group to ask this question, thought some =
of you guys might have experienced. =20

I newbie with Tika. I am using latest version 0.8 version. I extracted =
text from PDF document but found spaces and new line missing. Indexing =
the data gives wrong result. Could any one in this group could help me? =
I am using tika directly to extract the contents, which later gets =
indexed.

Regards
Ganesh    
Send free SMS to your Friends on Mobile from your Yahoo! Messenger. Download Now! http://messenger.yahoo.com/download.php

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48028-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Dec 03 07:00:51 2010
Return-Path: <java-user-return-48028-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 46140 invoked from network); 3 Dec 2010 07:00:51 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 3 Dec 2010 07:00:51 -0000
Received: (qmail 49418 invoked by uid 500); 3 Dec 2010 07:00:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49115 invoked by uid 500); 3 Dec 2010 07:00:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 49107 invoked by uid 99); 3 Dec 2010 07:00:46 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 03 Dec 2010 07:00:46 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of goksron@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 03 Dec 2010 07:00:40 +0000
Received: by fxm2 with SMTP id 2so7586400fxm.35
        for <java-user@lucene.apache.org>; Thu, 02 Dec 2010 23:00:20 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type
         :content-transfer-encoding;
        bh=Ll0XZP6Qa1Ot++0+YrTIHToS24RP0ydTZkkLA5zO11I=;
        b=lpeJu19wKxznRaEDBjy9bDJ5wlKJUnmVbunc5gayORnNBqZnlF8pnHFQnV8tM+FwLa
         hl3NR5Tri/TwQuz9bfqWTL35h43sP63D6gdp2MHHgBDPQSez+LXiRdl0ybkY+awa7SDR
         o4NF9kRMj25yeppWef8EkWCBELyaZn/ZbwWoI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        b=vj23oOaoxiax8NHLb0MdDSpyisC76MWtcbFBuGlAXcJNus8pgb9Vd5jB98GNOd5sAN
         nEwXtesOqRjRJryCJJI88+kTm9kb8GTQ+gZnxYzCAGTu8M1ZGToU8uNhtnd19/CN9KEj
         ljlvqBgOwgAwYMx65mNmRDHjuoU9z1nOU0Fps=
MIME-Version: 1.0
Received: by 10.223.87.16 with SMTP id u16mr1617506fal.138.1291359620034; Thu,
 02 Dec 2010 23:00:20 -0800 (PST)
Received: by 10.223.70.199 with HTTP; Thu, 2 Dec 2010 23:00:19 -0800 (PST)
In-Reply-To: <52AECCE6F5764C2D903CD6D9956B7831@sv.us.sonicwall.com>
References: <52AECCE6F5764C2D903CD6D9956B7831@sv.us.sonicwall.com>
Date: Thu, 2 Dec 2010 23:00:19 -0800
Message-ID: <AANLkTikCZsgvg4Ty86P0aAQvOarJhxfcy000iEEqwTrY@mail.gmail.com>
Subject: Re: PDF text extracted without spaces
From: Lance Norskog <goksron@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

The text should come out as a stream of words with space, but without
any of the formatting in the PDF. Extraction is only good enough to
tell you that a word is somewhere inside a PDF file.  Can you post a
short bit of the text that it extracted?

Also, you should try this test on different PDF files that were made
with different software.

On Thu, Dec 2, 2010 at 9:35 PM, Ganesh <emailgane@yahoo.co.in> wrote:
> Hello all,
>
> I know, this is not the right group to ask this question, thought some of=
 you guys might have experienced.
>
> I newbie with Tika. I am using latest version 0.8 version. I extracted te=
xt from PDF document but found spaces and new line missing. Indexing the da=
ta gives wrong result. Could any one in this group could help me? I am usin=
g tika directly to extract the contents, which later gets indexed.
>
> Regards
> Ganesh
> Send free SMS to your Friends on Mobile from your Yahoo! Messenger. Downl=
oad Now! http://messenger.yahoo.com/download.php
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>



--=20
Lance Norskog
goksron@gmail.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48029-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Dec 03 09:10:18 2010
Return-Path: <java-user-return-48029-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97160 invoked from network); 3 Dec 2010 09:10:17 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 3 Dec 2010 09:10:17 -0000
Received: (qmail 44374 invoked by uid 500); 3 Dec 2010 09:10:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44068 invoked by uid 500); 3 Dec 2010 09:10:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44059 invoked by uid 99); 3 Dec 2010 09:10:14 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 03 Dec 2010 09:10:14 +0000
X-ASF-Spam-Status: No, hits=4.0 required=10.0
	tests=FREEMAIL_FROM,FREEMAIL_REPLY,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of alexander.aristov@gmail.com designates 209.85.210.48 as permitted sender)
Received: from [209.85.210.48] (HELO mail-pz0-f48.google.com) (209.85.210.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 03 Dec 2010 09:10:09 +0000
Received: by pzk26 with SMTP id 26so1963463pzk.35
        for <java-user@lucene.apache.org>; Fri, 03 Dec 2010 01:09:49 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:in-reply-to
         :references:from:date:message-id:subject:to:content-type;
        bh=7lYabuKt1SJQydJo7bJbuaNwVa5mu5Fuv8/eTo1q+K4=;
        b=F7XiYqbOT8jqM3XXOmwiCblzrnHfLtOpjx8t0rQ210lL211fWDGP2p3agvyGP6lnTW
         XWbDwkQCccdrcZOdhBWq9ydOSlxSVy+y/gjdbNK7bMg74/mTd+HyrLjdmNOBvC0jY6VD
         sOtRRwHjFfbt3gol//AIYnXsPmNmg+kSgAPQo=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=hI/x22VoWN/xIkfExucKSllTkG42EnSWWS2c7+C4L3/DhTyG0mGs/7ZbK0zUxVvtZO
         0gMCSqhT9PEgFNeZDLuRMFfUr/zfnKn967SibjtMtZDh1BEK/EGW527hY2fUKphQd1JT
         8zy+JUZ/oP/b00WfBSbxYwmQGMahieI/2hmU0=
Received: by 10.142.139.7 with SMTP id m7mr1554443wfd.151.1291367388505; Fri,
 03 Dec 2010 01:09:48 -0800 (PST)
MIME-Version: 1.0
Received: by 10.142.162.4 with HTTP; Fri, 3 Dec 2010 01:09:28 -0800 (PST)
In-Reply-To: <AANLkTikCZsgvg4Ty86P0aAQvOarJhxfcy000iEEqwTrY@mail.gmail.com>
References: <52AECCE6F5764C2D903CD6D9956B7831@sv.us.sonicwall.com> <AANLkTikCZsgvg4Ty86P0aAQvOarJhxfcy000iEEqwTrY@mail.gmail.com>
From: Alexander Aristov <alexander.aristov@gmail.com>
Date: Fri, 3 Dec 2010 12:09:28 +0300
Message-ID: <AANLkTinPoiUTnJ_0=s--oejjfbBLe4P97M8bWYrfZiuB@mail.gmail.com>
Subject: Re: PDF text extracted without spaces
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=000e0cd1858c776b3204967de699

--000e0cd1858c776b3204967de699
Content-Type: text/plain; charset=ISO-8859-1

anyway even if you get correct whitespaces and new lines this won't affect
indexing.

Best Regards
Alexander Aristov


On 3 December 2010 10:00, Lance Norskog <goksron@gmail.com> wrote:

> The text should come out as a stream of words with space, but without
> any of the formatting in the PDF. Extraction is only good enough to
> tell you that a word is somewhere inside a PDF file.  Can you post a
> short bit of the text that it extracted?
>
> Also, you should try this test on different PDF files that were made
> with different software.
>
> On Thu, Dec 2, 2010 at 9:35 PM, Ganesh <emailgane@yahoo.co.in> wrote:
> > Hello all,
> >
> > I know, this is not the right group to ask this question, thought some of
> you guys might have experienced.
> >
> > I newbie with Tika. I am using latest version 0.8 version. I extracted
> text from PDF document but found spaces and new line missing. Indexing the
> data gives wrong result. Could any one in this group could help me? I am
> using tika directly to extract the contents, which later gets indexed.
> >
> > Regards
> > Ganesh
> > Send free SMS to your Friends on Mobile from your Yahoo! Messenger.
> Download Now! http://messenger.yahoo.com/download.php
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>
>
>
> --
> Lance Norskog
> goksron@gmail.com
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--000e0cd1858c776b3204967de699--

From java-user-return-48030-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Dec 03 10:44:31 2010
Return-Path: <java-user-return-48030-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 29033 invoked from network); 3 Dec 2010 10:44:31 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 3 Dec 2010 10:44:31 -0000
Received: (qmail 36850 invoked by uid 500); 3 Dec 2010 10:44:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36707 invoked by uid 500); 3 Dec 2010 10:44:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 36695 invoked by uid 99); 3 Dec 2010 10:44:27 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 03 Dec 2010 10:44:27 +0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=FREEMAIL_FROM,MIME_QP_LONG_LINE,RCVD_IN_DNSWL_NONE,RFC_ABUSE_POST,SPF_NEUTRAL,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [121.101.151.210] (HELO nm2-vm0.bullet.mail.in.yahoo.com) (121.101.151.210)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 03 Dec 2010 10:44:19 +0000
Received: from [121.101.151.238] by nm2.bullet.mail.in.yahoo.com with NNFMP; 03 Dec 2010 10:43:56 -0000
Received: from [121.101.151.235] by tm3.bullet.mail.in.yahoo.com with NNFMP; 03 Dec 2010 10:44:00 -0000
Received: from [127.0.0.1] by omp1004.mail.in.yahoo.com with NNFMP; 03 Dec 2010 10:44:26 -0000
X-Yahoo-Newman-Id: 49984.35235.bm@omp1004.mail.in.yahoo.com
Received: (qmail 23382 invoked from network); 3 Dec 2010 10:43:57 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.in;
  h=DKIM-Signature:Received:X-Yahoo-SMTP:X-YMail-OSG:X-Yahoo-Newman-Property:Message-ID:From:To:References:Subject:Date:MIME-Version:Content-Type:Content-Transfer-Encoding:X-Priority:X-MSMail-Priority:X-Mailer:X-MimeOLE;
  b=MvYApajZGhSEu7e0wMWip3fBNWWQd2V4S3gh8Ml1lzcrwZbjeT8Iy/DeNhxmXd40dTp0TFjtLQRKnXZ0DXNFFWLZcets9V0pyrQKGattgtUro+68uhnpGisp17HqpuzHSpQEC49n/vGDIvPOizDB7Apya7gvTTprpimYz1Gv1/8=  ;
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.co.in; s=s1024; t=1291373037; bh=Fc2SPMGCNP8wa+5VuqKQHhrDUx33GEbrJELRpQQFUAg=; h=Received:X-Yahoo-SMTP:X-YMail-OSG:X-Yahoo-Newman-Property:Message-ID:From:To:References:Subject:Date:MIME-Version:Content-Type:Content-Transfer-Encoding:X-Priority:X-MSMail-Priority:X-Mailer:X-MimeOLE; b=rVIGribTdprMrZTs/s/A5s7y3GY85YCcMpF8POB89vNM1WInVjaDzGORYlTT6QXWefOrFlK5Rif5sRmMheofq8m7bmLNYKtkjWHRAzeQXwABr1XP1CG0gKUdlCp7lgqxyHWEqUFDazwUNY85YAUwBlzn/SrfSO8XpY00YOaXOkI=
Received: from GaneshM (emailgane@121.244.159.130 with login)
        by smtp105.mail.in.yahoo.com with SMTP; 03 Dec 2010 16:13:57 +0530 IST
X-Yahoo-SMTP: JObyHkuswBBrNSLZp.Ycd7Boqpr_GQ--
X-YMail-OSG: qTU6uLIVM1k9TpOoPrQTtGb53DSGaJZUyPoSehdfSNZBTg0
 QTrbsQbPsuf6K.mHrDStSe54891LDCzS7kufNUpChRd.hdgeC9Y2fhANYzm5
 aT0Y4B1zRYBOnGiGfeLnoGsO9Igj.DfpnzTSK.fONFd6pMfhJMPIF831kf_8
 MzI5Od4MgKyq7P9Zfr8DZyybClkyAN1Vx6TnAISzmzsx__PUxU3g8nB7r5bE
 xqEC03pwYwlbpAsjml9rsR9r1KZhz0w5azT5uNkYG5Art6d8.jw--
X-Yahoo-Newman-Property: ymail-3
Message-ID: <996005B2AD9E4482809CEF8E765197B7@sv.us.sonicwall.com>
From: "Ganesh" <emailgane@yahoo.co.in>
To: <java-user@lucene.apache.org>
References: <52AECCE6F5764C2D903CD6D9956B7831@sv.us.sonicwall.com> <AANLkTikCZsgvg4Ty86P0aAQvOarJhxfcy000iEEqwTrY@mail.gmail.com> <AANLkTinPoiUTnJ_0=s--oejjfbBLe4P97M8bWYrfZiuB@mail.gmail.com>
Subject: Re: PDF text extracted without spaces
Date: Fri, 3 Dec 2010 16:13:55 +0530
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.5931
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.5931
X-Virus-Checked: Checked by ClamAV on apache.org

The main problem is i am not getting whitespace and newline char. This =
is happening only for PDF documents.=20

Sample outoput: Someofthedifferencesare but it should be Some of the =
differences are

Regards
Ganesh

----- Original Message -----=20
From: "Alexander Aristov" <alexander.aristov@gmail.com>
To: <java-user@lucene.apache.org>
Sent: Friday, December 03, 2010 2:39 PM
Subject: Re: PDF text extracted without spaces


> anyway even if you get correct whitespaces and new lines this won't =
affect
> indexing.
>=20
> Best Regards
> Alexander Aristov
>=20
>=20
> On 3 December 2010 10:00, Lance Norskog <goksron@gmail.com> wrote:
>=20
>> The text should come out as a stream of words with space, but without
>> any of the formatting in the PDF. Extraction is only good enough to
>> tell you that a word is somewhere inside a PDF file.  Can you post a
>> short bit of the text that it extracted?
>>
>> Also, you should try this test on different PDF files that were made
>> with different software.
>>
>> On Thu, Dec 2, 2010 at 9:35 PM, Ganesh <emailgane@yahoo.co.in> wrote:
>> > Hello all,
>> >
>> > I know, this is not the right group to ask this question, thought =
some of
>> you guys might have experienced.
>> >
>> > I newbie with Tika. I am using latest version 0.8 version. I =
extracted
>> text from PDF document but found spaces and new line missing. =
Indexing the
>> data gives wrong result. Could any one in this group could help me? I =
am
>> using tika directly to extract the contents, which later gets =
indexed.
>> >
>> > Regards
>> > Ganesh
>> > Send free SMS to your Friends on Mobile from your Yahoo! Messenger.
>> Download Now! http://messenger.yahoo.com/download.php
>> >
>> > =
---------------------------------------------------------------------
>> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> > For additional commands, e-mail: java-user-help@lucene.apache.org
>> >
>> >
>>
>>
>>
>> --
>> Lance Norskog
>> goksron@gmail.com
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>
Send free SMS to your Friends on Mobile from your Yahoo! Messenger. Download Now! http://messenger.yahoo.com/download.php

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48031-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Dec 03 11:10:48 2010
Return-Path: <java-user-return-48031-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 42493 invoked from network); 3 Dec 2010 11:10:48 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 3 Dec 2010 11:10:48 -0000
Received: (qmail 52197 invoked by uid 500); 3 Dec 2010 11:10:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 51927 invoked by uid 500); 3 Dec 2010 11:10:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 51919 invoked by uid 99); 3 Dec 2010 11:10:44 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 03 Dec 2010 11:10:44 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [194.116.198.142] (HELO gse-mta-03.emailfiltering.com) (194.116.198.142)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 03 Dec 2010 11:10:38 +0000
Received: from arkle.gcal.ac.uk ([193.62.224.71])
	by gse-mta-03.emailfiltering.com with emfmta (version 4.6.0.72) by TLS id 9597980378
	for java-user@lucene.apache.org;3beaa0c83c23a8d6; Fri, 03 Dec 2010 11:10:17 +0000
Received: from ITSEMBXCLUS.enterprise.gcal.ac.uk
 ([fe80:0000:0000:0000:19cc:b8e3:177.173.188.238]) by
 ITSEHUB1.enterprise.gcal.ac.uk ([193.62.224.71]) with mapi; Fri, 3 Dec 2010
 11:10:19 +0000
From: "McGibbney, Lewis John" <Lewis.McGibbney@gcu.ac.uk>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Date: Fri, 3 Dec 2010 11:10:16 +0000
Subject: RE: PDF text extracted without spaces
Thread-Topic: PDF text extracted without spaces
Thread-Index: AcuS1xTAHCh06Xd4TDyqJATb4srtbAAArIhA
Message-ID: <90362ECB07906C40A0297F9D5211A24323C3D81F16@ITSEMBXCLUS.enterprise.gcal.ac.uk>
References: <52AECCE6F5764C2D903CD6D9956B7831@sv.us.sonicwall.com>
 <AANLkTikCZsgvg4Ty86P0aAQvOarJhxfcy000iEEqwTrY@mail.gmail.com>
 <AANLkTinPoiUTnJ_0=s--oejjfbBLe4P97M8bWYrfZiuB@mail.gmail.com>
 <996005B2AD9E4482809CEF8E765197B7@sv.us.sonicwall.com>
In-Reply-To: <996005B2AD9E4482809CEF8E765197B7@sv.us.sonicwall.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

SGkgR2FuZXNoDQoNCkkgZW5jb3VudGVyZWQgdGhpcyBzYW1lIHByb2JsZW0gbGFzdCB3ZWVrLiBJ
IHdhcyB0aGlua2luZyBpZiBpdCB3YXMgcG9zc2libGUgdG8gaW5jbHVkZSBhdCBtaW5pbXVtIGEg
V2hpdGVzcGFjZUFuYWx5emVyIHNvbWV3aGVyZSB3aXRoaW4gVGlrYSB3aGljaCB3b3VsZCBzb2x2
ZSB0aGUgcHJvYmxlbS4gSSBhbSBub3Qgc3VyZSBvZiBob3cgdGhpcyB3b3VsZCBiZSBkb25lIGFz
IEkgYW0gbm90IGZhbWlsaWFyIHdpdGggVGlrYSBjb2RlYmFzZS4NCg0KVW5mb3J0dW5hdGVseSBJ
IGRvbid0IHRoaW5rIHRoYXQgdGhlIHNvbHV0aW9uIHRvIHRoZSBmaXJzdCBwYXJ0IG9mIHRoaXMg
cHJvYmxlbSBsaWVzIHdpdGhpbiB0aGUgamF2YS11c2VyIG1haWxpbmcgbGlzdC4NCg0KV2hlbiB3
ZXJlIHlvdSBzZW5kaW5nIGV4dHJhY3RlZCBjb250ZW50cyB0byBMdWNlbmUuLi4gYXQgd2hhdCBs
YXRlciBzdGFnZT8NCg0KVGhhbmsgeW91DQoNCkxld2lzDQoNCi0tLS0tT3JpZ2luYWwgTWVzc2Fn
ZS0tLS0tDQpGcm9tOiBHYW5lc2ggW21haWx0bzplbWFpbGdhbmVAeWFob28uY28uaW5dDQpTZW50
OiAwMyBEZWNlbWJlciAyMDEwIDEwOjQ0DQpUbzogamF2YS11c2VyQGx1Y2VuZS5hcGFjaGUub3Jn
DQpTdWJqZWN0OiBSZTogUERGIHRleHQgZXh0cmFjdGVkIHdpdGhvdXQgc3BhY2VzDQoNClRoZSBt
YWluIHByb2JsZW0gaXMgaSBhbSBub3QgZ2V0dGluZyB3aGl0ZXNwYWNlIGFuZCBuZXdsaW5lIGNo
YXIuIFRoaXMgaXMgaGFwcGVuaW5nIG9ubHkgZm9yIFBERiBkb2N1bWVudHMuDQoNClNhbXBsZSBv
dXRvcHV0OiBTb21lb2Z0aGVkaWZmZXJlbmNlc2FyZSBidXQgaXQgc2hvdWxkIGJlIFNvbWUgb2Yg
dGhlIGRpZmZlcmVuY2VzIGFyZQ0KDQpSZWdhcmRzDQpHYW5lc2gNCg0KLS0tLS0gT3JpZ2luYWwg
TWVzc2FnZSAtLS0tLQ0KRnJvbTogIkFsZXhhbmRlciBBcmlzdG92IiA8YWxleGFuZGVyLmFyaXN0
b3ZAZ21haWwuY29tPg0KVG86IDxqYXZhLXVzZXJAbHVjZW5lLmFwYWNoZS5vcmc+DQpTZW50OiBG
cmlkYXksIERlY2VtYmVyIDAzLCAyMDEwIDI6MzkgUE0NClN1YmplY3Q6IFJlOiBQREYgdGV4dCBl
eHRyYWN0ZWQgd2l0aG91dCBzcGFjZXMNCg0KDQo+IGFueXdheSBldmVuIGlmIHlvdSBnZXQgY29y
cmVjdCB3aGl0ZXNwYWNlcyBhbmQgbmV3IGxpbmVzIHRoaXMgd29uJ3QgYWZmZWN0DQo+IGluZGV4
aW5nLg0KPg0KPiBCZXN0IFJlZ2FyZHMNCj4gQWxleGFuZGVyIEFyaXN0b3YNCj4NCj4NCj4gT24g
MyBEZWNlbWJlciAyMDEwIDEwOjAwLCBMYW5jZSBOb3Jza29nIDxnb2tzcm9uQGdtYWlsLmNvbT4g
d3JvdGU6DQo+DQo+PiBUaGUgdGV4dCBzaG91bGQgY29tZSBvdXQgYXMgYSBzdHJlYW0gb2Ygd29y
ZHMgd2l0aCBzcGFjZSwgYnV0IHdpdGhvdXQNCj4+IGFueSBvZiB0aGUgZm9ybWF0dGluZyBpbiB0
aGUgUERGLiBFeHRyYWN0aW9uIGlzIG9ubHkgZ29vZCBlbm91Z2ggdG8NCj4+IHRlbGwgeW91IHRo
YXQgYSB3b3JkIGlzIHNvbWV3aGVyZSBpbnNpZGUgYSBQREYgZmlsZS4gIENhbiB5b3UgcG9zdCBh
DQo+PiBzaG9ydCBiaXQgb2YgdGhlIHRleHQgdGhhdCBpdCBleHRyYWN0ZWQ/DQo+Pg0KPj4gQWxz
bywgeW91IHNob3VsZCB0cnkgdGhpcyB0ZXN0IG9uIGRpZmZlcmVudCBQREYgZmlsZXMgdGhhdCB3
ZXJlIG1hZGUNCj4+IHdpdGggZGlmZmVyZW50IHNvZnR3YXJlLg0KPj4NCj4+IE9uIFRodSwgRGVj
IDIsIDIwMTAgYXQgOTozNSBQTSwgR2FuZXNoIDxlbWFpbGdhbmVAeWFob28uY28uaW4+IHdyb3Rl
Og0KPj4gPiBIZWxsbyBhbGwsDQo+PiA+DQo+PiA+IEkga25vdywgdGhpcyBpcyBub3QgdGhlIHJp
Z2h0IGdyb3VwIHRvIGFzayB0aGlzIHF1ZXN0aW9uLCB0aG91Z2h0IHNvbWUgb2YNCj4+IHlvdSBn
dXlzIG1pZ2h0IGhhdmUgZXhwZXJpZW5jZWQuDQo+PiA+DQo+PiA+IEkgbmV3YmllIHdpdGggVGlr
YS4gSSBhbSB1c2luZyBsYXRlc3QgdmVyc2lvbiAwLjggdmVyc2lvbi4gSSBleHRyYWN0ZWQNCj4+
IHRleHQgZnJvbSBQREYgZG9jdW1lbnQgYnV0IGZvdW5kIHNwYWNlcyBhbmQgbmV3IGxpbmUgbWlz
c2luZy4gSW5kZXhpbmcgdGhlDQo+PiBkYXRhIGdpdmVzIHdyb25nIHJlc3VsdC4gQ291bGQgYW55
IG9uZSBpbiB0aGlzIGdyb3VwIGNvdWxkIGhlbHAgbWU/IEkgYW0NCj4+IHVzaW5nIHRpa2EgZGly
ZWN0bHkgdG8gZXh0cmFjdCB0aGUgY29udGVudHMsIHdoaWNoIGxhdGVyIGdldHMgaW5kZXhlZC4N
Cj4+ID4NCj4+ID4gUmVnYXJkcw0KPj4gPiBHYW5lc2gNCj4+ID4gU2VuZCBmcmVlIFNNUyB0byB5
b3VyIEZyaWVuZHMgb24gTW9iaWxlIGZyb20geW91ciBZYWhvbyEgTWVzc2VuZ2VyLg0KPj4gRG93
bmxvYWQgTm93ISBodHRwOi8vbWVzc2VuZ2VyLnlhaG9vLmNvbS9kb3dubG9hZC5waHANCj4+ID4N
Cj4+ID4gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tDQo+PiA+IFRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IGphdmEtdXNl
ci11bnN1YnNjcmliZUBsdWNlbmUuYXBhY2hlLm9yZw0KPj4gPiBGb3IgYWRkaXRpb25hbCBjb21t
YW5kcywgZS1tYWlsOiBqYXZhLXVzZXItaGVscEBsdWNlbmUuYXBhY2hlLm9yZw0KPj4gPg0KPj4g
Pg0KPj4NCj4+DQo+Pg0KPj4gLS0NCj4+IExhbmNlIE5vcnNrb2cNCj4+IGdva3Nyb25AZ21haWwu
Y29tDQo+Pg0KPj4gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQo+PiBUbyB1bnN1YnNjcmliZSwgZS1tYWlsOiBqYXZh
LXVzZXItdW5zdWJzY3JpYmVAbHVjZW5lLmFwYWNoZS5vcmcNCj4+IEZvciBhZGRpdGlvbmFsIGNv
bW1hbmRzLCBlLW1haWw6IGphdmEtdXNlci1oZWxwQGx1Y2VuZS5hcGFjaGUub3JnDQo+Pg0KPj4N
Cj4NClNlbmQgZnJlZSBTTVMgdG8geW91ciBGcmllbmRzIG9uIE1vYmlsZSBmcm9tIHlvdXIgWWFo
b28hIE1lc3Nlbmdlci4gRG93bmxvYWQgTm93ISBodHRwOi8vbWVzc2VuZ2VyLnlhaG9vLmNvbS9k
b3dubG9hZC5waHANCg0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQpUbyB1bnN1YnNjcmliZSwgZS1tYWlsOiBqYXZh
LXVzZXItdW5zdWJzY3JpYmVAbHVjZW5lLmFwYWNoZS5vcmcNCkZvciBhZGRpdGlvbmFsIGNvbW1h
bmRzLCBlLW1haWw6IGphdmEtdXNlci1oZWxwQGx1Y2VuZS5hcGFjaGUub3JnDQoNCkVtYWlsIGhh
cyBiZWVuIHNjYW5uZWQgZm9yIHZpcnVzZXMgYnkgQWx0bWFuIFRlY2hub2xvZ2llcycgZW1haWwg
bWFuYWdlbWVudCBzZXJ2aWNlIC0gd3d3LmFsdG1hbi5jby51ay9lbWFpbHN5c3RlbXMNCg0KR2xh
c2dvdyBDYWxlZG9uaWFuIFVuaXZlcnNpdHkgaXMgYSByZWdpc3RlcmVkIFNjb3R0aXNoIGNoYXJp
dHksIG51bWJlciBTQzAyMTQ3NA0KDQpXaW5uZXI6IFRpbWVzIEhpZ2hlciBFZHVjYXRpb27igJlz
IFdpZGVuaW5nIFBhcnRpY2lwYXRpb24gSW5pdGlhdGl2ZSBvZiB0aGUgWWVhciAyMDA5IGFuZCBI
ZXJhbGQgU29jaWV0eeKAmXMgRWR1Y2F0aW9uIEluaXRpYXRpdmUgb2YgdGhlIFllYXIgMjAwOQ0K
aHR0cDovL3d3dy5nY3UuYWMudWsvbmV3c2V2ZW50cy9uZXdzL2J5Y2F0ZWdvcnkvdGhldW5pdmVy
c2l0eS8xL25hbWUsNjIxOSxlbi5odG1sDQo=


From java-user-return-48032-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Dec 03 11:56:26 2010
Return-Path: <java-user-return-48032-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 54987 invoked from network); 3 Dec 2010 11:56:26 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 3 Dec 2010 11:56:26 -0000
Received: (qmail 7665 invoked by uid 500); 3 Dec 2010 11:56:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7432 invoked by uid 500); 3 Dec 2010 11:56:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7424 invoked by uid 99); 3 Dec 2010 11:56:23 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 03 Dec 2010 11:56:23 +0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=FREEMAIL_FROM,MIME_QP_LONG_LINE,RCVD_IN_DNSWL_NONE,RFC_ABUSE_POST,SPF_NEUTRAL,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [121.101.151.226] (HELO nm4.bullet.mail.in.yahoo.com) (121.101.151.226)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 03 Dec 2010 11:56:16 +0000
Received: from [121.101.151.237] by nm4.bullet.mail.in.yahoo.com with NNFMP; 03 Dec 2010 11:56:02 -0000
Received: from [121.101.151.233] by tm2.bullet.mail.in.yahoo.com with NNFMP; 03 Dec 2010 11:55:53 -0000
Received: from [127.0.0.1] by omp1002.mail.in.yahoo.com with NNFMP; 03 Dec 2010 11:55:52 -0000
X-Yahoo-Newman-Id: 134044.14843.bm@omp1002.mail.in.yahoo.com
Received: (qmail 4026 invoked from network); 3 Dec 2010 11:55:53 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.in;
  h=DKIM-Signature:Received:X-Yahoo-SMTP:X-YMail-OSG:X-Yahoo-Newman-Property:Message-ID:From:To:References:Subject:Date:MIME-Version:Content-Type:Content-Transfer-Encoding:X-Priority:X-MSMail-Priority:X-Mailer:X-MimeOLE;
  b=YVTc254als5mmul+D/YKvMGPf8a1/udTGE/VsFyVjJiNhqKY7I6QpjYD7DvSKkgeeli0PZ6VJETeG8zZDmbfhfhUJh3i3IfWonK6AbCxL38aeNY8rZZAiCgdjiWtjm/UDeGdonQIG4kuAL1OuN/EBHaB/4Pm0isOQ1NhzmXIGAY=  ;
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.co.in; s=s1024; t=1291377353; bh=tHgQ5XarcR9xIDrSjZ9ZHKow+q6VhRiQM+vy5P8DEMA=; h=Received:X-Yahoo-SMTP:X-YMail-OSG:X-Yahoo-Newman-Property:Message-ID:From:To:References:Subject:Date:MIME-Version:Content-Type:Content-Transfer-Encoding:X-Priority:X-MSMail-Priority:X-Mailer:X-MimeOLE; b=T+WTDu6K37+XMmhw3X4OCrSQgnPxHrZ3egOCD8n+bZEFWpbe9WCcZS/arxb76ScGSJPo7ZIg6IeQiBn/dLNwmUq9IWqFCEI+iWAV1X+JGw6sIEJ5x/sXXrcmY076NEsfWnsY4zPXY0CQxl5OqwD/LTVTygRk1qCXzOFO1t0IfVM=
Received: from GaneshM (emailgane@121.244.159.130 with login)
        by smtp101.mail.in.yahoo.com with SMTP; 03 Dec 2010 17:25:53 +0530 IST
X-Yahoo-SMTP: JObyHkuswBBrNSLZp.Ycd7Boqpr_GQ--
X-YMail-OSG: brTzV8cVM1nFxYf_8z3eqeUp8JVbnLaDut7VNeFEREMO3yd
 ueTVvQj4jsxabbfQtXYKtomwqzT5iQHo1A2ZzxgOWmagp2VeHCNZlhmShiRY
 WBOzE2izDMN1_PINXC49oJBqVfSscllAJm4KZJdhnKEoFZnn_ge.jmLRahMf
 whMTtO9lQsyHkwMfAPD_pHz14ImVJNFeu.91H0YuaQKZmBGlNzKiHsRA1nKq
 _WNRUv_OrTYi8w42zv3jSYewAKR.Gyev7BGEgnRHAQ7C5D_nI09a7
X-Yahoo-Newman-Property: ymail-3
Message-ID: <BA003BD932EF44819FC1BC036586FBB7@sv.us.sonicwall.com>
From: "Ganesh" <emailgane@yahoo.co.in>
To: <java-user@lucene.apache.org>
References: <52AECCE6F5764C2D903CD6D9956B7831@sv.us.sonicwall.com> <AANLkTikCZsgvg4Ty86P0aAQvOarJhxfcy000iEEqwTrY@mail.gmail.com> <AANLkTinPoiUTnJ_0=s--oejjfbBLe4P97M8bWYrfZiuB@mail.gmail.com> <996005B2AD9E4482809CEF8E765197B7@sv.us.sonicwall.com> <90362ECB07906C40A0297F9D5211A24323C3D81F16@ITSEMBXCLUS.enterprise.gcal.ac.uk>
Subject: Re: PDF text extracted without spaces
Date: Fri, 3 Dec 2010 17:25:52 +0530
MIME-Version: 1.0
Content-Type: text/plain;
	charset="UTF-8"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.5931
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.5931
X-Virus-Checked: Checked by ClamAV on apache.org

I first extract the contents from documents using tika and latter index =
it with Lucene. The problem is the extracted text from PDF using tika =
has no whitespaces.=20

Regards
Ganesh


----- Original Message -----=20
From: "McGibbney, Lewis John" <Lewis.McGibbney@gcu.ac.uk>
To: <java-user@lucene.apache.org>
Sent: Friday, December 03, 2010 4:40 PM
Subject: RE: PDF text extracted without spaces


> Hi Ganesh
>=20
> I encountered this same problem last week. I was thinking if it was =
possible to include at minimum a WhitespaceAnalyzer somewhere within =
Tika which would solve the problem. I am not sure of how this would be =
done as I am not familiar with Tika codebase.
>=20
> Unfortunately I don't think that the solution to the first part of =
this problem lies within the java-user mailing list.
>=20
> When were you sending extracted contents to Lucene... at what later =
stage?
>=20
> Thank you
>=20
> Lewis
>=20
> -----Original Message-----
> From: Ganesh [mailto:emailgane@yahoo.co.in]
> Sent: 03 December 2010 10:44
> To: java-user@lucene.apache.org
> Subject: Re: PDF text extracted without spaces
>=20
> The main problem is i am not getting whitespace and newline char. This =
is happening only for PDF documents.
>=20
> Sample outoput: Someofthedifferencesare but it should be Some of the =
differences are
>=20
> Regards
> Ganesh
>=20
> ----- Original Message -----
> From: "Alexander Aristov" <alexander.aristov@gmail.com>
> To: <java-user@lucene.apache.org>
> Sent: Friday, December 03, 2010 2:39 PM
> Subject: Re: PDF text extracted without spaces
>=20
>=20
>> anyway even if you get correct whitespaces and new lines this won't =
affect
>> indexing.
>>
>> Best Regards
>> Alexander Aristov
>>
>>
>> On 3 December 2010 10:00, Lance Norskog <goksron@gmail.com> wrote:
>>
>>> The text should come out as a stream of words with space, but =
without
>>> any of the formatting in the PDF. Extraction is only good enough to
>>> tell you that a word is somewhere inside a PDF file.  Can you post a
>>> short bit of the text that it extracted?
>>>
>>> Also, you should try this test on different PDF files that were made
>>> with different software.
>>>
>>> On Thu, Dec 2, 2010 at 9:35 PM, Ganesh <emailgane@yahoo.co.in> =
wrote:
>>> > Hello all,
>>> >
>>> > I know, this is not the right group to ask this question, thought =
some of
>>> you guys might have experienced.
>>> >
>>> > I newbie with Tika. I am using latest version 0.8 version. I =
extracted
>>> text from PDF document but found spaces and new line missing. =
Indexing the
>>> data gives wrong result. Could any one in this group could help me? =
I am
>>> using tika directly to extract the contents, which later gets =
indexed.
>>> >
>>> > Regards
>>> > Ganesh
>>> > Send free SMS to your Friends on Mobile from your Yahoo! =
Messenger.
>>> Download Now! http://messenger.yahoo.com/download.php
>>> >
>>> > =
---------------------------------------------------------------------
>>> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>> > For additional commands, e-mail: java-user-help@lucene.apache.org
>>> >
>>> >
>>>
>>>
>>>
>>> --
>>> Lance Norskog
>>> goksron@gmail.com
>>>
>>> =
---------------------------------------------------------------------
>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>
>>>
>>
> Send free SMS to your Friends on Mobile from your Yahoo! Messenger. =
Download Now! http://messenger.yahoo.com/download.php
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20
> Email has been scanned for viruses by Altman Technologies' email =
management service - www.altman.co.uk/emailsystems
>=20
> Glasgow Caledonian University is a registered Scottish charity, number =
SC021474
>=20
> Winner: Times Higher Education=E2=80=99s Widening Participation =
Initiative of the Year 2009 and Herald Society=E2=80=99s Education =
Initiative of the Year 2009
> =
http://www.gcu.ac.uk/newsevents/news/bycategory/theuniversity/1/name,6219=
,en.html
>
Send free SMS to your Friends on Mobile from your Yahoo! Messenger. Download Now! http://messenger.yahoo.com/download.php

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48033-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Dec 03 12:09:25 2010
Return-Path: <java-user-return-48033-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 66050 invoked from network); 3 Dec 2010 12:09:25 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 3 Dec 2010 12:09:25 -0000
Received: (qmail 40864 invoked by uid 500); 3 Dec 2010 12:09:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40726 invoked by uid 500); 3 Dec 2010 12:09:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40718 invoked by uid 99); 3 Dec 2010 12:09:21 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 03 Dec 2010 12:09:21 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ian.lea@gmail.com designates 209.85.214.48 as permitted sender)
Received: from [209.85.214.48] (HELO mail-bw0-f48.google.com) (209.85.214.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 03 Dec 2010 12:09:17 +0000
Received: by bwz9 with SMTP id 9so9039285bwz.35
        for <java-user@lucene.apache.org>; Fri, 03 Dec 2010 04:08:55 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:in-reply-to
         :references:from:date:message-id:subject:to:content-type
         :content-transfer-encoding;
        bh=CKD9fk+v8p9ZKgpWPqWNVjLCuGJbVxUrgPAPHMiq7iI=;
        b=ermRSzPKpgk5lZqV/rl6nWs3up1QwhhAmxapDXOiw/jFD5hQ7eqnYIUujTbydLC0Po
         9ftZkFF4lgJ/pHHhserPuFql+slJP8gt9HHamzq8FGIoQxpmzd+Wg4xuusXx7qAg2p62
         Po9M5xDtnI53Hh9sdQFrWOP1UTELz4+C5xwuY=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        b=E/TcfoIzvbo09T4vQ5fUf0jEUlrXGTCbTrFrauC+JYcQtNcRO2/r3e7zclxQpdI5QQ
         3R9biQA5f+trwmVBMlQ3yiPu6dth2XVSIU5PIyvH5b21SHHjKh576Fg9ETdDR0Qu+8du
         IjbvBo76RWE0volDjdK4aDANDGktnZHOMOL6E=
Received: by 10.204.69.74 with SMTP id y10mr2185807bki.79.1291378135286; Fri,
 03 Dec 2010 04:08:55 -0800 (PST)
MIME-Version: 1.0
Received: by 10.204.116.212 with HTTP; Fri, 3 Dec 2010 04:08:35 -0800 (PST)
In-Reply-To: <BA003BD932EF44819FC1BC036586FBB7@sv.us.sonicwall.com>
References: <52AECCE6F5764C2D903CD6D9956B7831@sv.us.sonicwall.com>
 <AANLkTikCZsgvg4Ty86P0aAQvOarJhxfcy000iEEqwTrY@mail.gmail.com>
 <AANLkTinPoiUTnJ_0=s--oejjfbBLe4P97M8bWYrfZiuB@mail.gmail.com>
 <996005B2AD9E4482809CEF8E765197B7@sv.us.sonicwall.com> <90362ECB07906C40A0297F9D5211A24323C3D81F16@ITSEMBXCLUS.enterprise.gcal.ac.uk>
 <BA003BD932EF44819FC1BC036586FBB7@sv.us.sonicwall.com>
From: Ian Lea <ian.lea@gmail.com>
Date: Fri, 3 Dec 2010 12:08:35 +0000
Message-ID: <AANLkTi=xqjCuc-YWp=qyq98+iivoRnME1+kNgqK5Y=q6@mail.gmail.com>
Subject: Re: PDF text extracted without spaces
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=windows-1252
Content-Transfer-Encoding: quoted-printable

Maybe https://issues.apache.org/jira/browse/TIKA-548 is relevant.
Have you tried asking on the tika mailing list?
http://tika.apache.org/mail-lists.html.


--
Ian.


On Fri, Dec 3, 2010 at 11:55 AM, Ganesh <emailgane@yahoo.co.in> wrote:
> I first extract the contents from documents using tika and latter index i=
t with Lucene. The problem is the extracted text from PDF using tika has no=
 whitespaces.
>
> Regards
> Ganesh
>
>
> ----- Original Message -----
> From: "McGibbney, Lewis John" <Lewis.McGibbney@gcu.ac.uk>
> To: <java-user@lucene.apache.org>
> Sent: Friday, December 03, 2010 4:40 PM
> Subject: RE: PDF text extracted without spaces
>
>
>> Hi Ganesh
>>
>> I encountered this same problem last week. I was thinking if it was poss=
ible to include at minimum a WhitespaceAnalyzer somewhere within Tika which=
 would solve the problem. I am not sure of how this would be done as I am n=
ot familiar with Tika codebase.
>>
>> Unfortunately I don't think that the solution to the first part of this =
problem lies within the java-user mailing list.
>>
>> When were you sending extracted contents to Lucene... at what later stag=
e?
>>
>> Thank you
>>
>> Lewis
>>
>> -----Original Message-----
>> From: Ganesh [mailto:emailgane@yahoo.co.in]
>> Sent: 03 December 2010 10:44
>> To: java-user@lucene.apache.org
>> Subject: Re: PDF text extracted without spaces
>>
>> The main problem is i am not getting whitespace and newline char. This i=
s happening only for PDF documents.
>>
>> Sample outoput: Someofthedifferencesare but it should be Some of the dif=
ferences are
>>
>> Regards
>> Ganesh
>>
>> ----- Original Message -----
>> From: "Alexander Aristov" <alexander.aristov@gmail.com>
>> To: <java-user@lucene.apache.org>
>> Sent: Friday, December 03, 2010 2:39 PM
>> Subject: Re: PDF text extracted without spaces
>>
>>
>>> anyway even if you get correct whitespaces and new lines this won't aff=
ect
>>> indexing.
>>>
>>> Best Regards
>>> Alexander Aristov
>>>
>>>
>>> On 3 December 2010 10:00, Lance Norskog <goksron@gmail.com> wrote:
>>>
>>>> The text should come out as a stream of words with space, but without
>>>> any of the formatting in the PDF. Extraction is only good enough to
>>>> tell you that a word is somewhere inside a PDF file. =A0Can you post a
>>>> short bit of the text that it extracted?
>>>>
>>>> Also, you should try this test on different PDF files that were made
>>>> with different software.
>>>>
>>>> On Thu, Dec 2, 2010 at 9:35 PM, Ganesh <emailgane@yahoo.co.in> wrote:
>>>> > Hello all,
>>>> >
>>>> > I know, this is not the right group to ask this question, thought so=
me of
>>>> you guys might have experienced.
>>>> >
>>>> > I newbie with Tika. I am using latest version 0.8 version. I extract=
ed
>>>> text from PDF document but found spaces and new line missing. Indexing=
 the
>>>> data gives wrong result. Could any one in this group could help me? I =
am
>>>> using tika directly to extract the contents, which later gets indexed.
>>>> >
>>>> > Regards
>>>> > Ganesh
>>>> > Send free SMS to your Friends on Mobile from your Yahoo! Messenger.
>>>> Download Now! http://messenger.yahoo.com/download.php
>>>> >
>>>> > --------------------------------------------------------------------=
-
>>>> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>>> > For additional commands, e-mail: java-user-help@lucene.apache.org
>>>> >
>>>> >
>>>>
>>>>
>>>>
>>>> --
>>>> Lance Norskog
>>>> goksron@gmail.com
>>>>
>>>> ---------------------------------------------------------------------
>>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>>
>>>>
>>>
>> Send free SMS to your Friends on Mobile from your Yahoo! Messenger. Down=
load Now! http://messenger.yahoo.com/download.php
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>> Email has been scanned for viruses by Altman Technologies' email managem=
ent service - www.altman.co.uk/emailsystems
>>
>> Glasgow Caledonian University is a registered Scottish charity, number S=
C021474
>>
>> Winner: Times Higher Education=92s Widening Participation Initiative of =
the Year 2009 and Herald Society=92s Education Initiative of the Year 2009
>> http://www.gcu.ac.uk/newsevents/news/bycategory/theuniversity/1/name,621=
9,en.html
>>
> Send free SMS to your Friends on Mobile from your Yahoo! Messenger. Downl=
oad Now! http://messenger.yahoo.com/download.php
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48034-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Dec 03 12:58:06 2010
Return-Path: <java-user-return-48034-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 82329 invoked from network); 3 Dec 2010 12:58:05 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 3 Dec 2010 12:58:05 -0000
Received: (qmail 99900 invoked by uid 500); 3 Dec 2010 12:58:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99678 invoked by uid 500); 3 Dec 2010 12:58:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 92957 invoked by uid 99); 3 Dec 2010 12:55:43 -0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
X-Virus-Scanned: Debian amavisd-new at mail.troja.net
From: "Uwe Schindler" <uschindler@apache.org>
To: <announce@apache.org>
Cc: <java-user@lucene.apache.org>,
	<general@lucene.apache.org>
Subject: [ANNOUNCE] Release of Lucene Java versions 3.0.3 and 2.9.4
Date: Fri, 3 Dec 2010 13:55:46 +0100
Message-ID: <002c01cb92e9$6733e2c0$359ba840$@apache.org>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Outlook 14.0
Thread-index: AcuS6WbINSlb121ZQ8i5uZI5gniHEw==
Content-language: de
X-Virus-Checked: Checked by ClamAV on apache.org

Hello Lucene users,

On behalf of the Lucene development community I would like to announce the
release of Lucene Java versions 3.0.3 and 2.9.4:

Both releases fix bugs in the previous versions:
- 2.9.4 is a bugfix release for the Lucene Java 2.x series, based on Java
1.4.
- 3.0.3 has the same bug fix level but is for the Lucene Java 3.x series,
based on Java 5.

New users of Lucene are advised to use version 3.0.3 for new developments,
because it has a clean, type-safe API.

This release contains numerous bug fixes and improvements since 2.9.3 /
3.0.2, including a memory leak in IndexWriter exacerbated by frequent
commits, a file handle leak in IndexWriter when near-real-time readers are
opened with compound file format enabled, a rare index corruption case on
disk full, NumericRangeQuery / NumericRangeFilter sometimes returning
incorrect results with bounds near Long.MIN_VALUE and Long.MAX_VALUE, and
various thread safety issues. Lucene 2.9.4 can now also read indexes created
by 3.0.x.

Both releases are fully compatible with the corresponding previous versions.
We strongly recommend upgrading to 2.9.4 if you are using 2.9.x; and to
3.0.3 if you are using 3.0.x.

See core changes at
http://lucene.apache.org/java/3_0_3/changes/Changes.html
http://lucene.apache.org/java/2_9_4/changes/Changes.html

and contrib changes at
http://lucene.apache.org/java/3_0_3/changes/Contrib-Changes.html
http://lucene.apache.org/java/2_9_4/changes/Contrib-Changes.html

Binary and source distributions are available at
http://www.apache.org/dyn/closer.cgi/lucene/java/

Lucene artifacts are also available in the Maven2 repository at
http://repo1.maven.org/maven2/org/apache/lucene/

-----
Uwe Schindler
uschindler@apache.org 
Apache Lucene PMC Member / Committer
Bremen, Germany
http://lucene.apache.org/



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48035-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Dec 03 13:52:59 2010
Return-Path: <java-user-return-48035-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 3825 invoked from network); 3 Dec 2010 13:52:59 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 3 Dec 2010 13:52:59 -0000
Received: (qmail 72040 invoked by uid 500); 3 Dec 2010 13:52:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71662 invoked by uid 500); 3 Dec 2010 13:52:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 71653 invoked by uid 99); 3 Dec 2010 13:52:55 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 03 Dec 2010 13:52:55 +0000
X-ASF-Spam-Status: No, hits=3.7 required=10.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of falha404@gmail.com designates 209.85.215.53 as permitted sender)
Received: from [209.85.215.53] (HELO mail-ew0-f53.google.com) (209.85.215.53)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 03 Dec 2010 13:52:50 +0000
Received: by ewy6 with SMTP id 6so5740752ewy.26
        for <java-user@lucene.apache.org>; Fri, 03 Dec 2010 05:52:29 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:sender:received
         :in-reply-to:references:from:date:x-google-sender-auth:message-id
         :subject:to:content-type;
        bh=hwHe6z9YgQ0QsKsW5t4gsH57WUr6/Aq3pliNn/xTBHQ=;
        b=Fk3vMmn+73yba6TQDHgF3D6mkjA98SHKvbE4TjVY0VwyLwdjagp9RMJUZOJjoUjBtO
         mAR/RA4z08aht7dGirtltFR90I4Tk6X1ttkjMvIiWOsb/eYPVxD9dWal8k6D6TkOgGWh
         HaypGJYoYu/8s+NgNeM+H2CbPXGsb9TQ3fyh8=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:sender:in-reply-to:references:from:date
         :x-google-sender-auth:message-id:subject:to:content-type;
        b=P0MEzM6wm8Zng786EWq2C3l2p4tzIK454LsIJJyHb82Ywegw9xgOzGvEfxwnlIrkvy
         iyfNAfr6rOkSKzYP0urCsmiL2Mm9LeyKnjp543KBnLCCFCRgtW6IDKRgSyPoU4xH/zQv
         TMq0uqIW2T1ZH6biTfd1V1an6SVWq0nA6lhV8=
Received: by 10.216.242.78 with SMTP id h56mr1648247wer.47.1291384349210; Fri,
 03 Dec 2010 05:52:29 -0800 (PST)
MIME-Version: 1.0
Sender: falha404@gmail.com
Received: by 10.216.20.4 with HTTP; Fri, 3 Dec 2010 05:52:07 -0800 (PST)
In-Reply-To: <AANLkTi=xqjCuc-YWp=qyq98+iivoRnME1+kNgqK5Y=q6@mail.gmail.com>
References: <52AECCE6F5764C2D903CD6D9956B7831@sv.us.sonicwall.com>
 <AANLkTikCZsgvg4Ty86P0aAQvOarJhxfcy000iEEqwTrY@mail.gmail.com>
 <AANLkTinPoiUTnJ_0=s--oejjfbBLe4P97M8bWYrfZiuB@mail.gmail.com>
 <996005B2AD9E4482809CEF8E765197B7@sv.us.sonicwall.com> <90362ECB07906C40A0297F9D5211A24323C3D81F16@ITSEMBXCLUS.enterprise.gcal.ac.uk>
 <BA003BD932EF44819FC1BC036586FBB7@sv.us.sonicwall.com> <AANLkTi=xqjCuc-YWp=qyq98+iivoRnME1+kNgqK5Y=q6@mail.gmail.com>
From: Fabiano Nunes <fabiano@nunes.me>
Date: Fri, 3 Dec 2010 11:52:07 -0200
X-Google-Sender-Auth: WV_FnyNggEY_39yIHetM-CDDzeE
Message-ID: <AANLkTi=80xxOPLAGGZfC0voJQjDG1a1YKPHf+ztZTiYr@mail.gmail.com>
Subject: Re: PDF text extracted without spaces
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=e0cb4e43ae21673c28049681d924

--e0cb4e43ae21673c28049681d924
Content-Type: text/plain; charset=windows-1252
Content-Transfer-Encoding: quoted-printable

Have you ever tried other extractor tool than PDFBox? I used to extract
contents with pdfbox: its capability of extract contents wasn't a problem,
but its lack of structure information was.
You can try poppler-utils (pdftotext) to extract contents with
layout structure.

Fabiano Nunes





On Fri, Dec 3, 2010 at 10:08 AM, Ian Lea <ian.lea@gmail.com> wrote:

> Maybe https://issues.apache.org/jira/browse/TIKA-548 is relevant.
> Have you tried asking on the tika mailing list?
> http://tika.apache.org/mail-lists.html.
>
>
> --
> Ian.
>
>
> On Fri, Dec 3, 2010 at 11:55 AM, Ganesh <emailgane@yahoo.co.in> wrote:
> > I first extract the contents from documents using tika and latter index
> it with Lucene. The problem is the extracted text from PDF using tika has=
 no
> whitespaces.
> >
> > Regards
> > Ganesh
> >
> >
> > ----- Original Message -----
> > From: "McGibbney, Lewis John" <Lewis.McGibbney@gcu.ac.uk>
> > To: <java-user@lucene.apache.org>
> > Sent: Friday, December 03, 2010 4:40 PM
> > Subject: RE: PDF text extracted without spaces
> >
> >
> >> Hi Ganesh
> >>
> >> I encountered this same problem last week. I was thinking if it was
> possible to include at minimum a WhitespaceAnalyzer somewhere within Tika
> which would solve the problem. I am not sure of how this would be done as=
 I
> am not familiar with Tika codebase.
> >>
> >> Unfortunately I don't think that the solution to the first part of thi=
s
> problem lies within the java-user mailing list.
> >>
> >> When were you sending extracted contents to Lucene... at what later
> stage?
> >>
> >> Thank you
> >>
> >> Lewis
> >>
> >> -----Original Message-----
> >> From: Ganesh [mailto:emailgane@yahoo.co.in]
> >> Sent: 03 December 2010 10:44
> >> To: java-user@lucene.apache.org
> >> Subject: Re: PDF text extracted without spaces
> >>
> >> The main problem is i am not getting whitespace and newline char. This
> is happening only for PDF documents.
> >>
> >> Sample outoput: Someofthedifferencesare but it should be Some of the
> differences are
> >>
> >> Regards
> >> Ganesh
> >>
> >> ----- Original Message -----
> >> From: "Alexander Aristov" <alexander.aristov@gmail.com>
> >> To: <java-user@lucene.apache.org>
> >> Sent: Friday, December 03, 2010 2:39 PM
> >> Subject: Re: PDF text extracted without spaces
> >>
> >>
> >>> anyway even if you get correct whitespaces and new lines this won't
> affect
> >>> indexing.
> >>>
> >>> Best Regards
> >>> Alexander Aristov
> >>>
> >>>
> >>> On 3 December 2010 10:00, Lance Norskog <goksron@gmail.com> wrote:
> >>>
> >>>> The text should come out as a stream of words with space, but withou=
t
> >>>> any of the formatting in the PDF. Extraction is only good enough to
> >>>> tell you that a word is somewhere inside a PDF file.  Can you post a
> >>>> short bit of the text that it extracted?
> >>>>
> >>>> Also, you should try this test on different PDF files that were made
> >>>> with different software.
> >>>>
> >>>> On Thu, Dec 2, 2010 at 9:35 PM, Ganesh <emailgane@yahoo.co.in> wrote=
:
> >>>> > Hello all,
> >>>> >
> >>>> > I know, this is not the right group to ask this question, thought
> some of
> >>>> you guys might have experienced.
> >>>> >
> >>>> > I newbie with Tika. I am using latest version 0.8 version. I
> extracted
> >>>> text from PDF document but found spaces and new line missing. Indexi=
ng
> the
> >>>> data gives wrong result. Could any one in this group could help me? =
I
> am
> >>>> using tika directly to extract the contents, which later gets indexe=
d.
> >>>> >
> >>>> > Regards
> >>>> > Ganesh
> >>>> > Send free SMS to your Friends on Mobile from your Yahoo! Messenger=
.
> >>>> Download Now! http://messenger.yahoo.com/download.php
> >>>> >
> >>>> >
> ---------------------------------------------------------------------
> >>>> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >>>> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >>>> >
> >>>> >
> >>>>
> >>>>
> >>>>
> >>>> --
> >>>> Lance Norskog
> >>>> goksron@gmail.com
> >>>>
> >>>> --------------------------------------------------------------------=
-
> >>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >>>> For additional commands, e-mail: java-user-help@lucene.apache.org
> >>>>
> >>>>
> >>>
> >> Send free SMS to your Friends on Mobile from your Yahoo! Messenger.
> Download Now! http://messenger.yahoo.com/download.php
> >>
> >> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >> For additional commands, e-mail: java-user-help@lucene.apache.org
> >>
> >> Email has been scanned for viruses by Altman Technologies' email
> management service - www.altman.co.uk/emailsystems
> >>
> >> Glasgow Caledonian University is a registered Scottish charity, number
> SC021474
> >>
> >> Winner: Times Higher Education=92s Widening Participation Initiative o=
f
> the Year 2009 and Herald Society=92s Education Initiative of the Year 200=
9
> >>
> http://www.gcu.ac.uk/newsevents/news/bycategory/theuniversity/1/name,6219=
,en.html
> >>
> > Send free SMS to your Friends on Mobile from your Yahoo! Messenger.
> Download Now! http://messenger.yahoo.com/download.php
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--e0cb4e43ae21673c28049681d924--

From java-user-return-48036-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Dec 03 14:36:12 2010
Return-Path: <java-user-return-48036-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25080 invoked from network); 3 Dec 2010 14:36:11 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 3 Dec 2010 14:36:11 -0000
Received: (qmail 38041 invoked by uid 500); 3 Dec 2010 14:36:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37822 invoked by uid 500); 3 Dec 2010 14:36:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37797 invoked by uid 99); 3 Dec 2010 14:36:08 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 03 Dec 2010 14:36:08 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [209.85.216.169] (HELO mail-qy0-f169.google.com) (209.85.216.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 03 Dec 2010 14:36:04 +0000
Received: by qyk7 with SMTP id 7so869740qyk.14
        for <java-user@lucene.apache.org>; Fri, 03 Dec 2010 06:35:43 -0800 (PST)
Received: by 10.224.20.4 with SMTP id d4mr1297902qab.345.1291386940532; Fri,
 03 Dec 2010 06:35:40 -0800 (PST)
MIME-Version: 1.0
Received: by 10.220.186.193 with HTTP; Fri, 3 Dec 2010 06:35:20 -0800 (PST)
In-Reply-To: <AANLkTi=80xxOPLAGGZfC0voJQjDG1a1YKPHf+ztZTiYr@mail.gmail.com>
References: <52AECCE6F5764C2D903CD6D9956B7831@sv.us.sonicwall.com>
 <AANLkTikCZsgvg4Ty86P0aAQvOarJhxfcy000iEEqwTrY@mail.gmail.com>
 <AANLkTinPoiUTnJ_0=s--oejjfbBLe4P97M8bWYrfZiuB@mail.gmail.com>
 <996005B2AD9E4482809CEF8E765197B7@sv.us.sonicwall.com> <90362ECB07906C40A0297F9D5211A24323C3D81F16@ITSEMBXCLUS.enterprise.gcal.ac.uk>
 <BA003BD932EF44819FC1BC036586FBB7@sv.us.sonicwall.com> <AANLkTi=xqjCuc-YWp=qyq98+iivoRnME1+kNgqK5Y=q6@mail.gmail.com>
 <AANLkTi=80xxOPLAGGZfC0voJQjDG1a1YKPHf+ztZTiYr@mail.gmail.com>
From: Hans Merkl <hmerkl@rightonpoint.us>
Date: Fri, 3 Dec 2010 09:35:20 -0500
Message-ID: <AANLkTimJpLaBweFqkuXP=qRPXks6rtubRE5e8g-TfbHA@mail.gmail.com>
Subject: Re: PDF text extracted without spaces
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0015175cda2cdba9f304968273a5

--0015175cda2cdba9f304968273a5
Content-Type: text/plain; charset=windows-1252
Content-Transfer-Encoding: quoted-printable

pdftotext is much better and faster from my experience.


On Fri, Dec 3, 2010 at 08:52, Fabiano Nunes <fabiano@nunes.me> wrote:

> Have you ever tried other extractor tool than PDFBox? I used to extract
> contents with pdfbox: its capability of extract contents wasn't a problem=
,
> but its lack of structure information was.
> You can try poppler-utils (pdftotext) to extract contents with
> layout structure.
>
> Fabiano Nunes
>
>
>
>
>
> On Fri, Dec 3, 2010 at 10:08 AM, Ian Lea <ian.lea@gmail.com> wrote:
>
> > Maybe https://issues.apache.org/jira/browse/TIKA-548 is relevant.
> > Have you tried asking on the tika mailing list?
> > http://tika.apache.org/mail-lists.html.
> >
> >
> > --
> > Ian.
> >
> >
> > On Fri, Dec 3, 2010 at 11:55 AM, Ganesh <emailgane@yahoo.co.in> wrote:
> > > I first extract the contents from documents using tika and latter ind=
ex
> > it with Lucene. The problem is the extracted text from PDF using tika h=
as
> no
> > whitespaces.
> > >
> > > Regards
> > > Ganesh
> > >
> > >
> > > ----- Original Message -----
> > > From: "McGibbney, Lewis John" <Lewis.McGibbney@gcu.ac.uk>
> > > To: <java-user@lucene.apache.org>
> > > Sent: Friday, December 03, 2010 4:40 PM
> > > Subject: RE: PDF text extracted without spaces
> > >
> > >
> > >> Hi Ganesh
> > >>
> > >> I encountered this same problem last week. I was thinking if it was
> > possible to include at minimum a WhitespaceAnalyzer somewhere within Ti=
ka
> > which would solve the problem. I am not sure of how this would be done =
as
> I
> > am not familiar with Tika codebase.
> > >>
> > >> Unfortunately I don't think that the solution to the first part of
> this
> > problem lies within the java-user mailing list.
> > >>
> > >> When were you sending extracted contents to Lucene... at what later
> > stage?
> > >>
> > >> Thank you
> > >>
> > >> Lewis
> > >>
> > >> -----Original Message-----
> > >> From: Ganesh [mailto:emailgane@yahoo.co.in]
> > >> Sent: 03 December 2010 10:44
> > >> To: java-user@lucene.apache.org
> > >> Subject: Re: PDF text extracted without spaces
> > >>
> > >> The main problem is i am not getting whitespace and newline char. Th=
is
> > is happening only for PDF documents.
> > >>
> > >> Sample outoput: Someofthedifferencesare but it should be Some of the
> > differences are
> > >>
> > >> Regards
> > >> Ganesh
> > >>
> > >> ----- Original Message -----
> > >> From: "Alexander Aristov" <alexander.aristov@gmail.com>
> > >> To: <java-user@lucene.apache.org>
> > >> Sent: Friday, December 03, 2010 2:39 PM
> > >> Subject: Re: PDF text extracted without spaces
> > >>
> > >>
> > >>> anyway even if you get correct whitespaces and new lines this won't
> > affect
> > >>> indexing.
> > >>>
> > >>> Best Regards
> > >>> Alexander Aristov
> > >>>
> > >>>
> > >>> On 3 December 2010 10:00, Lance Norskog <goksron@gmail.com> wrote:
> > >>>
> > >>>> The text should come out as a stream of words with space, but
> without
> > >>>> any of the formatting in the PDF. Extraction is only good enough t=
o
> > >>>> tell you that a word is somewhere inside a PDF file.  Can you post=
 a
> > >>>> short bit of the text that it extracted?
> > >>>>
> > >>>> Also, you should try this test on different PDF files that were ma=
de
> > >>>> with different software.
> > >>>>
> > >>>> On Thu, Dec 2, 2010 at 9:35 PM, Ganesh <emailgane@yahoo.co.in>
> wrote:
> > >>>> > Hello all,
> > >>>> >
> > >>>> > I know, this is not the right group to ask this question, though=
t
> > some of
> > >>>> you guys might have experienced.
> > >>>> >
> > >>>> > I newbie with Tika. I am using latest version 0.8 version. I
> > extracted
> > >>>> text from PDF document but found spaces and new line missing.
> Indexing
> > the
> > >>>> data gives wrong result. Could any one in this group could help me=
?
> I
> > am
> > >>>> using tika directly to extract the contents, which later gets
> indexed.
> > >>>> >
> > >>>> > Regards
> > >>>> > Ganesh
> > >>>> > Send free SMS to your Friends on Mobile from your Yahoo!
> Messenger.
> > >>>> Download Now! http://messenger.yahoo.com/download.php
> > >>>> >
> > >>>> >
> > ---------------------------------------------------------------------
> > >>>> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > >>>> > For additional commands, e-mail: java-user-help@lucene.apache.or=
g
> > >>>> >
> > >>>> >
> > >>>>
> > >>>>
> > >>>>
> > >>>> --
> > >>>> Lance Norskog
> > >>>> goksron@gmail.com
> > >>>>
> > >>>>
> ---------------------------------------------------------------------
> > >>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > >>>> For additional commands, e-mail: java-user-help@lucene.apache.org
> > >>>>
> > >>>>
> > >>>
> > >> Send free SMS to your Friends on Mobile from your Yahoo! Messenger.
> > Download Now! http://messenger.yahoo.com/download.php
> > >>
> > >> --------------------------------------------------------------------=
-
> > >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > >> For additional commands, e-mail: java-user-help@lucene.apache.org
> > >>
> > >> Email has been scanned for viruses by Altman Technologies' email
> > management service - www.altman.co.uk/emailsystems
> > >>
> > >> Glasgow Caledonian University is a registered Scottish charity, numb=
er
> > SC021474
> > >>
> > >> Winner: Times Higher Education=92s Widening Participation Initiative=
 of
> > the Year 2009 and Herald Society=92s Education Initiative of the Year 2=
009
> > >>
> >
> http://www.gcu.ac.uk/newsevents/news/bycategory/theuniversity/1/name,6219=
,en.html
> > >>
> > > Send free SMS to your Friends on Mobile from your Yahoo! Messenger.
> > Download Now! http://messenger.yahoo.com/download.php
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > For additional commands, e-mail: java-user-help@lucene.apache.org
> > >
> > >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>



--=20

Hans Merkl
Right On Point, LLC
215 Victor Parkway, Suite E
Annapolis, MD 21403

Phone: (443) 951-4324
E-mail: hmerkl@rightonpoint.us

--0015175cda2cdba9f304968273a5--

From java-user-return-48037-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Dec 03 14:52:09 2010
Return-Path: <java-user-return-48037-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28911 invoked from network); 3 Dec 2010 14:52:09 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 3 Dec 2010 14:52:09 -0000
Received: (qmail 62496 invoked by uid 500); 3 Dec 2010 14:52:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 62089 invoked by uid 500); 3 Dec 2010 14:52:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 62080 invoked by uid 99); 3 Dec 2010 14:52:05 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 03 Dec 2010 14:52:05 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of rj.seward@gmail.com designates 209.85.213.176 as permitted sender)
Received: from [209.85.213.176] (HELO mail-yx0-f176.google.com) (209.85.213.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 03 Dec 2010 14:52:01 +0000
Received: by yxm8 with SMTP id 8so5557504yxm.35
        for <java-user@lucene.apache.org>; Fri, 03 Dec 2010 06:51:40 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=duQfXeGOSfeUCyEnj+i38Uhz41K1imys8TJaQbBsJ3E=;
        b=Dxhzxt8k6FNrkItiC4sUTfQTFDHW5ZQw6qcwTF38KuWxuImQzZgWy5wHnS1cojQwcL
         GGtcv4wQznxOzAKUQ97ubPuPwok17vDKVEQiy7pdexgn8FXs4NgjA7wlsFHFsPLDvbVB
         C8N1qw3TAUBdc+vBSila+yUHuD6OT9Nd//2Nc=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=OuhHl/ZVEW+aI6gXNrOEQIpwH0NFv2lQVpHZNomvfsj/RAFe5GZPpsWXzG67/vvs6N
         sWhb74kectMDaCgTl8a/IC2sTbVqKlBWqqCIxRtPU+H4FD+ycOPwsvJDutbmPyV1KuQr
         5QFWVzWnyHHuZgmdqkiiQN+2WAIsvjzcEpNpI=
MIME-Version: 1.0
Received: by 10.223.86.4 with SMTP id q4mr2213402fal.20.1291387899854; Fri, 03
 Dec 2010 06:51:39 -0800 (PST)
Received: by 10.223.85.196 with HTTP; Fri, 3 Dec 2010 06:51:39 -0800 (PST)
In-Reply-To: <AANLkTimJpLaBweFqkuXP=qRPXks6rtubRE5e8g-TfbHA@mail.gmail.com>
References: <52AECCE6F5764C2D903CD6D9956B7831@sv.us.sonicwall.com>
	<AANLkTikCZsgvg4Ty86P0aAQvOarJhxfcy000iEEqwTrY@mail.gmail.com>
	<AANLkTinPoiUTnJ_0=s--oejjfbBLe4P97M8bWYrfZiuB@mail.gmail.com>
	<996005B2AD9E4482809CEF8E765197B7@sv.us.sonicwall.com>
	<90362ECB07906C40A0297F9D5211A24323C3D81F16@ITSEMBXCLUS.enterprise.gcal.ac.uk>
	<BA003BD932EF44819FC1BC036586FBB7@sv.us.sonicwall.com>
	<AANLkTi=xqjCuc-YWp=qyq98+iivoRnME1+kNgqK5Y=q6@mail.gmail.com>
	<AANLkTi=80xxOPLAGGZfC0voJQjDG1a1YKPHf+ztZTiYr@mail.gmail.com>
	<AANLkTimJpLaBweFqkuXP=qRPXks6rtubRE5e8g-TfbHA@mail.gmail.com>
Date: Fri, 3 Dec 2010 09:51:39 -0500
Message-ID: <AANLkTimt=xDC9v=ss-4pYXALzV=S-ai5J=ZfWJbzg3FS@mail.gmail.com>
Subject: Re: PDF text extracted without spaces
From: Ralph Seward <rj.seward@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=20cf3054ace509c1e8049682ad87

--20cf3054ace509c1e8049682ad87
Content-Type: text/plain; charset=windows-1252
Content-Transfer-Encoding: quoted-printable

pdftotext has usually worked quite well for my purposes. More info at
http://www.foolabs.com/xpdf/about.html .

"Xpdf runs under the X Window System on UNIX, VMS, and OS/2. The non-X
components (pdftops, pdftotext, etc.) also run on Win32 systems and should
run on pretty much any system with a decent C++ compiler."

Ralph

On Fri, Dec 3, 2010 at 9:35 AM, Hans Merkl <hmerkl@rightonpoint.us> wrote:
>
> pdftotext is much better and faster from my experience.
>
>
> On Fri, Dec 3, 2010 at 08:52, Fabiano Nunes <fabiano@nunes.me> wrote:
>
> > Have you ever tried other extractor tool than PDFBox? I used to extract
> > contents with pdfbox: its capability of extract contents wasn't a
problem,
> > but its lack of structure information was.
> > You can try poppler-utils (pdftotext) to extract contents with
> > layout structure.
> >
> > Fabiano Nunes
> >
> >
> >
> >
> >
> > On Fri, Dec 3, 2010 at 10:08 AM, Ian Lea <ian.lea@gmail.com> wrote:
> >
> > > Maybe https://issues.apache.org/jira/browse/TIKA-548 is relevant.
> > > Have you tried asking on the tika mailing list?
> > > http://tika.apache.org/mail-lists.html.
> > >
> > >
> > > --
> > > Ian.
> > >
> > >
> > > On Fri, Dec 3, 2010 at 11:55 AM, Ganesh <emailgane@yahoo.co.in> wrote=
:
> > > > I first extract the contents from documents using tika and latter
index
> > > it with Lucene. The problem is the extracted text from PDF using tika
has
> > no
> > > whitespaces.
> > > >
> > > > Regards
> > > > Ganesh
> > > >
> > > >
> > > > ----- Original Message -----
> > > > From: "McGibbney, Lewis John" <Lewis.McGibbney@gcu.ac.uk>
> > > > To: <java-user@lucene.apache.org>
> > > > Sent: Friday, December 03, 2010 4:40 PM
> > > > Subject: RE: PDF text extracted without spaces
> > > >
> > > >
> > > >> Hi Ganesh
> > > >>
> > > >> I encountered this same problem last week. I was thinking if it wa=
s
> > > possible to include at minimum a WhitespaceAnalyzer somewhere within
Tika
> > > which would solve the problem. I am not sure of how this would be don=
e
as
> > I
> > > am not familiar with Tika codebase.
> > > >>
> > > >> Unfortunately I don't think that the solution to the first part of
> > this
> > > problem lies within the java-user mailing list.
> > > >>
> > > >> When were you sending extracted contents to Lucene... at what late=
r
> > > stage?
> > > >>
> > > >> Thank you
> > > >>
> > > >> Lewis
> > > >>
> > > >> -----Original Message-----
> > > >> From: Ganesh [mailto:emailgane@yahoo.co.in]
> > > >> Sent: 03 December 2010 10:44
> > > >> To: java-user@lucene.apache.org
> > > >> Subject: Re: PDF text extracted without spaces
> > > >>
> > > >> The main problem is i am not getting whitespace and newline char.
This
> > > is happening only for PDF documents.
> > > >>
> > > >> Sample outoput: Someofthedifferencesare but it should be Some of
the
> > > differences are
> > > >>
> > > >> Regards
> > > >> Ganesh
> > > >>
> > > >> ----- Original Message -----
> > > >> From: "Alexander Aristov" <alexander.aristov@gmail.com>
> > > >> To: <java-user@lucene.apache.org>
> > > >> Sent: Friday, December 03, 2010 2:39 PM
> > > >> Subject: Re: PDF text extracted without spaces
> > > >>
> > > >>
> > > >>> anyway even if you get correct whitespaces and new lines this
won't
> > > affect
> > > >>> indexing.
> > > >>>
> > > >>> Best Regards
> > > >>> Alexander Aristov
> > > >>>
> > > >>>
> > > >>> On 3 December 2010 10:00, Lance Norskog <goksron@gmail.com> wrote=
:
> > > >>>
> > > >>>> The text should come out as a stream of words with space, but
> > without
> > > >>>> any of the formatting in the PDF. Extraction is only good enough
to
> > > >>>> tell you that a word is somewhere inside a PDF file.  Can you
post a
> > > >>>> short bit of the text that it extracted?
> > > >>>>
> > > >>>> Also, you should try this test on different PDF files that were
made
> > > >>>> with different software.
> > > >>>>
> > > >>>> On Thu, Dec 2, 2010 at 9:35 PM, Ganesh <emailgane@yahoo.co.in>
> > wrote:
> > > >>>> > Hello all,
> > > >>>> >
> > > >>>> > I know, this is not the right group to ask this question,
thought
> > > some of
> > > >>>> you guys might have experienced.
> > > >>>> >
> > > >>>> > I newbie with Tika. I am using latest version 0.8 version. I
> > > extracted
> > > >>>> text from PDF document but found spaces and new line missing.
> > Indexing
> > > the
> > > >>>> data gives wrong result. Could any one in this group could help
me?
> > I
> > > am
> > > >>>> using tika directly to extract the contents, which later gets
> > indexed.
> > > >>>> >
> > > >>>> > Regards
> > > >>>> > Ganesh
> > > >>>> > Send free SMS to your Friends on Mobile from your Yahoo!
> > Messenger.
> > > >>>> Download Now! http://messenger.yahoo.com/download.php
> > > >>>> >
> > > >>>> >
> > > ---------------------------------------------------------------------
> > > >>>> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.or=
g
> > > >>>> > For additional commands, e-mail:
java-user-help@lucene.apache.org
> > > >>>> >
> > > >>>> >
> > > >>>>
> > > >>>>
> > > >>>>
> > > >>>> --
> > > >>>> Lance Norskog
> > > >>>> goksron@gmail.com
> > > >>>>
> > > >>>>
> > ---------------------------------------------------------------------
> > > >>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > >>>> For additional commands, e-mail: java-user-help@lucene.apache.or=
g
> > > >>>>
> > > >>>>
> > > >>>
> > > >> Send free SMS to your Friends on Mobile from your Yahoo! Messenger=
.
> > > Download Now! http://messenger.yahoo.com/download.php
> > > >>
> > > >>
---------------------------------------------------------------------
> > > >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > >> For additional commands, e-mail: java-user-help@lucene.apache.org
> > > >>
> > > >> Email has been scanned for viruses by Altman Technologies' email
> > > management service - www.altman.co.uk/emailsystems
> > > >>
> > > >> Glasgow Caledonian University is a registered Scottish charity,
number
> > > SC021474
> > > >>
> > > >> Winner: Times Higher Education=92s Widening Participation Initiati=
ve
of
> > > the Year 2009 and Herald Society=92s Education Initiative of the Year
2009
> > > >>
> > >
> >
http://www.gcu.ac.uk/newsevents/news/bycategory/theuniversity/1/name,6219,e=
n.html
> > > >>
> > > > Send free SMS to your Friends on Mobile from your Yahoo! Messenger.
> > > Download Now! http://messenger.yahoo.com/download.php
> > > >
> > > >
---------------------------------------------------------------------
> > > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > > For additional commands, e-mail: java-user-help@lucene.apache.org
> > > >
> > > >
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > For additional commands, e-mail: java-user-help@lucene.apache.org
> > >
> > >
> >
>
>
>
> --
>
> Hans Merkl
> Right On Point, LLC
> 215 Victor Parkway, Suite E
> Annapolis, MD 21403
>
> Phone: (443) 951-4324
> E-mail: hmerkl@rightonpoint.us

--20cf3054ace509c1e8049682ad87--

From java-user-return-48038-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Dec 04 03:15:42 2010
Return-Path: <java-user-return-48038-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70288 invoked from network); 4 Dec 2010 03:15:42 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 4 Dec 2010 03:15:42 -0000
Received: (qmail 49356 invoked by uid 500); 4 Dec 2010 03:15:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49087 invoked by uid 500); 4 Dec 2010 03:15:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 49075 invoked by uid 99); 4 Dec 2010 03:15:36 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 04 Dec 2010 03:15:36 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of Kuro@basistech.com designates 131.239.15.66 as permitted sender)
Received: from [131.239.15.66] (HELO mailer.basistech.com) (131.239.15.66)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 04 Dec 2010 03:15:31 +0000
Received: from mail.basistech.com (internal.basistech.net [10.1.250.1])
	by mailer.basistech.com (Postfix) with ESMTP id F13B2368CB
	for <java-user@lucene.apache.org>; Fri,  3 Dec 2010 22:15:07 -0500 (EST)
X-DKIM: Sendmail DKIM Filter v2.8.3 mailer.basistech.com F13B2368CB
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=basistech.com;
	s=basis09aug; t=1291432508;
	bh=Ln55VeUDWSzDuQ0gEGi/oBiaB0RHeSUAVlYnNE2hf+Y=;
	h=From:To:Date:Subject:Message-ID:Content-Type:
	 Content-Transfer-Encoding:MIME-Version;
	b=MKA4eo303m6t5n1VhTxxTd2dfTksweMCTA69WiBuU3ZCCBLsIT0cjdeM/NLdNxy4d
	 ce/vvrFT0WxZIc+7wnfuvhK+cxC7Lg3T0JeoyPwEA2EBaQTTmatxCevIH5+CFZOkIs
	 RC/80j1M9UQ7XfdiS06quoA/22FedABy2+m4sh8A=
Received: from MSG-BOX.basistech.net ([::1]) by MSG-BOX.basistech.net ([::1])
 with mapi; Fri, 3 Dec 2010 22:15:07 -0500
From: Teruhiko Kurosaka <Kuro@basistech.com>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Date: Fri, 3 Dec 2010 22:15:05 -0500
Subject: PayloadAttribute behavior change between Lucene 2.9/3.0 and the
 trunk
Thread-Topic: PayloadAttribute behavior change between Lucene 2.9/3.0 and
 the trunk
Thread-Index: AcuTYXN2+36znkQcTL2nqoK0Hl/BaA==
Message-ID: <45634479-520B-4BA7-98CE-BE0486F98E58@basistech.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0

Hello,
I have a Tokenizer that generates a Payload, and a TokenFilter that uses it=
.
These work well with Solr 1.4.0 (therefore Lucene 2.9.1?), but when=20
I switched to the trunk version (I rebuilt the Tokenizer and TokenFilter
using the Lucene jar from the trunk and ran it), I encountered with
this error:

java.lang.IllegalArgumentException: This AttributeSource does not have the =
attribute 'org.apache.lucene.analysis.tokenattributes.PayloadAttribute'.

This exception comes from this line in the TokenFilter code:

        payloadAtt =3D (PayloadAttribute) getAttribute(PayloadAttribute.cla=
ss);

The payload is created in the Tokenizer's constructor like this:
        payloadAtt =3D (PayloadAttribute) addAttribute(PayloadAttribute.cla=
ss);

When I only has the Tokenizer, the Solr admin shows the Payloads, so
I am pretty sure that Payloads are there, but the TokenFilter is=20
having trouble getting it.

I think there is a very subtle change between the trunk version
and Lucene 2.9.1 (or more likely 3.0.1 guessing from other indirect
evidences) that is causing this.  Has anyone encountered
a similar problem?

----
Teruhiko "Kuro" Kurosaka
RLP + Lucene & Solr =3D powerful search for global contents


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48039-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Dec 04 03:31:20 2010
Return-Path: <java-user-return-48039-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 72228 invoked from network); 4 Dec 2010 03:31:19 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 4 Dec 2010 03:31:19 -0000
Received: (qmail 57769 invoked by uid 500); 4 Dec 2010 03:31:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 57568 invoked by uid 500); 4 Dec 2010 03:31:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 57560 invoked by uid 99); 4 Dec 2010 03:31:16 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 04 Dec 2010 03:31:16 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of rcmuir@gmail.com designates 209.85.214.48 as permitted sender)
Received: from [209.85.214.48] (HELO mail-bw0-f48.google.com) (209.85.214.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 04 Dec 2010 03:31:11 +0000
Received: by bwz9 with SMTP id 9so9818716bwz.35
        for <java-user@lucene.apache.org>; Fri, 03 Dec 2010 19:30:50 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:in-reply-to
         :references:from:date:message-id:subject:to:content-type
         :content-transfer-encoding;
        bh=xJp1ryIvCqX58HRXKqZ0m+fZWgN/Rk+spvdYbxokT9E=;
        b=C6Y/lOvNmWeCq/f/3Dk/JIR0B3BapTRIJHvIn95UvoIlOxalN2ChPfd4NObDOdW4hu
         sDvXuO+BwDl5WXM7wq2Me1LOQbNiPhkhBQjxiV3Y3tPOJWLWnrT0ipsULeU8jjZBlZUq
         NARhWqJleN4SmUaZ4UMTxaVhUxR9u40FHRudg=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        b=FklLGcnbwa6QllsBRK+TuB3ma0WT/K063uZDKQJuBT17iX9lPXt5In1S6xbFRTGuJk
         Wj5sjYa97wCm8Amrm6NfEDOnaFiqDufyGo8fLMjxShvPmrArjnqfsSlaRPKzKE0uSjV6
         Vxoj3iqgIVJgTleXQooZKZEFzBzvgxYvVdyEo=
Received: by 10.204.113.74 with SMTP id z10mr3369311bkp.25.1291433449399; Fri,
 03 Dec 2010 19:30:49 -0800 (PST)
MIME-Version: 1.0
Received: by 10.204.77.201 with HTTP; Fri, 3 Dec 2010 19:30:29 -0800 (PST)
In-Reply-To: <45634479-520B-4BA7-98CE-BE0486F98E58@basistech.com>
References: <45634479-520B-4BA7-98CE-BE0486F98E58@basistech.com>
From: Robert Muir <rcmuir@gmail.com>
Date: Fri, 3 Dec 2010 22:30:29 -0500
Message-ID: <AANLkTin4HfrXGkxZhu4B7oR3Lg57nNALJfMFmuTzhyFp@mail.gmail.com>
Subject: Re: PayloadAttribute behavior change between Lucene 2.9/3.0 and the trunk
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Fri, Dec 3, 2010 at 10:15 PM, Teruhiko Kurosaka <Kuro@basistech.com> wro=
te:
> Hello,
> I have a Tokenizer that generates a Payload, and a TokenFilter that uses =
it.
> These work well with Solr 1.4.0 (therefore Lucene 2.9.1?), but when
> I switched to the trunk version (I rebuilt the Tokenizer and TokenFilter
> using the Lucene jar from the trunk and ran it), I encountered with
> this error:
>
> java.lang.IllegalArgumentException: This AttributeSource does not have th=
e attribute 'org.apache.lucene.analysis.tokenattributes.PayloadAttribute'.
>
> This exception comes from this line in the TokenFilter code:
>
> =C2=A0 =C2=A0 =C2=A0 =C2=A0payloadAtt =3D (PayloadAttribute) getAttribute=
(PayloadAttribute.class);
>

I recommend you use addAttribute instead. Its buggy to use
getAttribute in this way because you cannot rely upon the fact that a
previous tokenstream has added the attribute[1]. I think your code was
only working before because of TokenWrapperAttributeFactory (the
backwards compatibility layer in 2.9 for the old Token API) being
present.

[1] http://lucene.apache.org/java/2_9_0/api/core/org/apache/lucene/util/Att=
ributeSource.html#getAttribute(java.lang.Class)

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48040-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Dec 04 23:06:01 2010
Return-Path: <java-user-return-48040-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4887 invoked from network); 4 Dec 2010 23:06:01 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 4 Dec 2010 23:06:01 -0000
Received: (qmail 26679 invoked by uid 500); 4 Dec 2010 23:05:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 26450 invoked by uid 500); 4 Dec 2010 23:05:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 26440 invoked by uid 99); 4 Dec 2010 23:05:53 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 04 Dec 2010 23:05:53 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of Kuro@basistech.com designates 131.239.15.66 as permitted sender)
Received: from [131.239.15.66] (HELO mailer.basistech.com) (131.239.15.66)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 04 Dec 2010 23:05:46 +0000
Received: from mail.basistech.com (internal.basistech.net [10.1.250.1])
	by mailer.basistech.com (Postfix) with ESMTP id 7EC89368E5
	for <java-user@lucene.apache.org>; Sat,  4 Dec 2010 18:05:23 -0500 (EST)
X-DKIM: Sendmail DKIM Filter v2.8.3 mailer.basistech.com 7EC89368E5
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=basistech.com;
	s=basis09aug; t=1291503923;
	bh=ThDQrB70rGBIuhMOz0cDNifdjaQvgM66LngFwJ4Z4X4=;
	h=From:To:Date:Subject:Message-ID:References:In-Reply-To:
	 Content-Type:Content-Transfer-Encoding:MIME-Version;
	b=T2jE4EJfF51+ot4J20DWM85xOeWBydULdOIbOhpHo0n8iSNNRb2D+3GaYNuKj+ypF
	 cxa+1JXf8oJPMZBgaFjQgLsqkcnYDCtjV3n/P/OVpiQ5uuAlRThIfivifm/vGGztY5
	 aCNHSnxFTkKl4MiBZLEkVXvlV3AX7d6Of4AUDW08=
Received: from MSG-BOX.basistech.net ([::1]) by MSG-BOX.basistech.net ([::1])
 with mapi; Sat, 4 Dec 2010 18:05:25 -0500
From: Teruhiko Kurosaka <Kuro@basistech.com>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Date: Sat, 4 Dec 2010 18:05:23 -0500
Subject: Re: PayloadAttribute behavior change between Lucene 2.9/3.0 and the
 trunk
Thread-Topic: PayloadAttribute behavior change between Lucene 2.9/3.0 and
 the trunk
Thread-Index: AcuUB7wUvccJFdyeQVqqET7tOP0LQw==
Message-ID: <FC7FC020-EC8F-4FA2-940E-5299A7A60134@basistech.com>
References: <45634479-520B-4BA7-98CE-BE0486F98E58@basistech.com>
 <AANLkTin4HfrXGkxZhu4B7oR3Lg57nNALJfMFmuTzhyFp@mail.gmail.com>
In-Reply-To: <AANLkTin4HfrXGkxZhu4B7oR3Lg57nNALJfMFmuTzhyFp@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

Thank you, Robert, substituting getAttribute with addAttribute worked!

But I don't understand why.  Could you help me to understand the mechanics?

In my setting,
hasAttribute(PayloadAttribute.class) returns false.

So I thought addAttribute(PayloadAttribute.class) would just
create a new PayloadAttribute object.  It would remedy the
Exception, but it wouldn't do any good accessing the payload=20
generated upstream.

But the newly generated PayloadAttribute t is actually=20
getting the payload that was generated upstream (by my Tokenizer).=20
How is this possible?


On Dec 3, 2010, at 7:30 PM, Robert Muir wrote:

> On Fri, Dec 3, 2010 at 10:15 PM, Teruhiko Kurosaka <Kuro@basistech.com> w=
rote:
>> Hello,
>> I have a Tokenizer that generates a Payload, and a TokenFilter that uses=
 it.
>> These work well with Solr 1.4.0 (therefore Lucene 2.9.1?), but when
>> I switched to the trunk version (I rebuilt the Tokenizer and TokenFilter
>> using the Lucene jar from the trunk and ran it), I encountered with
>> this error:
>>=20
>> java.lang.IllegalArgumentException: This AttributeSource does not have t=
he attribute 'org.apache.lucene.analysis.tokenattributes.PayloadAttribute'.
>>=20
>> This exception comes from this line in the TokenFilter code:
>>=20
>>        payloadAtt =3D (PayloadAttribute) getAttribute(PayloadAttribute.c=
lass);
>>=20
>=20
> I recommend you use addAttribute instead. Its buggy to use
> getAttribute in this way because you cannot rely upon the fact that a
> previous tokenstream has added the attribute[1]. I think your code was
> only working before because of TokenWrapperAttributeFactory (the
> backwards compatibility layer in 2.9 for the old Token API) being
> present.
>=20
> [1] http://lucene.apache.org/java/2_9_0/api/core/org/apache/lucene/util/A=
ttributeSource.html#getAttribute(java.lang.Class)
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20

----
T. "Kuro" Kurosaka, 415-227-9600x122, 617-386-7122(direct)




---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48041-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Dec 04 23:19:55 2010
Return-Path: <java-user-return-48041-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 7817 invoked from network); 4 Dec 2010 23:19:55 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 4 Dec 2010 23:19:55 -0000
Received: (qmail 33207 invoked by uid 500); 4 Dec 2010 23:19:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 33157 invoked by uid 500); 4 Dec 2010 23:19:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 33149 invoked by uid 99); 4 Dec 2010 23:19:53 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 04 Dec 2010 23:19:53 +0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [85.25.71.29] (HELO mail.troja.net) (85.25.71.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 04 Dec 2010 23:19:46 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by mail.troja.net (Postfix) with ESMTP id E32FCD36014
	for <java-user@lucene.apache.org>; Sun,  5 Dec 2010 00:19:25 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at mail.troja.net
Received: from mail.troja.net ([127.0.0.1])
	by localhost (megaira.troja.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 7K8ua4JHqzjJ for <java-user@lucene.apache.org>;
	Sun,  5 Dec 2010 00:19:20 +0100 (CET)
Received: from VEGA (port-83-236-62-54.dynamic.qsc.de [83.236.62.54])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mail.troja.net (Postfix) with ESMTPSA id 3C3DCD36013
	for <java-user@lucene.apache.org>; Sun,  5 Dec 2010 00:19:20 +0100 (CET)
From: "Uwe Schindler" <uwe@thetaphi.de>
To: <java-user@lucene.apache.org>
References: <45634479-520B-4BA7-98CE-BE0486F98E58@basistech.com> <AANLkTin4HfrXGkxZhu4B7oR3Lg57nNALJfMFmuTzhyFp@mail.gmail.com> <FC7FC020-EC8F-4FA2-940E-5299A7A60134@basistech.com>
In-Reply-To: <FC7FC020-EC8F-4FA2-940E-5299A7A60134@basistech.com>
Subject: RE: PayloadAttribute behavior change between Lucene 2.9/3.0 and the trunk
Date: Sun, 5 Dec 2010 00:19:57 +0100
Message-ID: <000401cb9409$c4292b40$4c7b81c0$@thetaphi.de>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Outlook 14.0
Thread-Index: AQGnw9o9Rq+rtTtiRG9vEXhBt+Es2wIC+QilAqaPWRqTsz7A8A==
Content-Language: de
X-Virus-Checked: Checked by ClamAV on apache.org

All tokenfilters/tokenizers in a chain share the same attributes. When you
add an attribute to one of them, they all share the same instance. That's
the whole trick behind the analysis API. getAttribute() should only be used
in conditional code, that check with has Attribute before. But In general,
producing and consuming attributes should always use addAttribute, then you
don't need to take care if its there or not.

-----
Uwe Schindler
H.-H.-Meier-Allee 63, D-28213 Bremen
http://www.thetaphi.de
eMail: uwe@thetaphi.de

> -----Original Message-----
> From: Teruhiko Kurosaka [mailto:Kuro@basistech.com]
> Sent: Sunday, December 05, 2010 12:05 AM
> To: java-user@lucene.apache.org
> Subject: Re: PayloadAttribute behavior change between Lucene 2.9/3.0 and
> the trunk
> 
> Thank you, Robert, substituting getAttribute with addAttribute worked!
> 
> But I don't understand why.  Could you help me to understand the
> mechanics?
> 
> In my setting,
> hasAttribute(PayloadAttribute.class) returns false.
> 
> So I thought addAttribute(PayloadAttribute.class) would just create a new
> PayloadAttribute object.  It would remedy the Exception, but it wouldn't
do
> any good accessing the payload generated upstream.
> 
> But the newly generated PayloadAttribute t is actually getting the payload
> that was generated upstream (by my Tokenizer).
> How is this possible?
> 
> 
> On Dec 3, 2010, at 7:30 PM, Robert Muir wrote:
> 
> > On Fri, Dec 3, 2010 at 10:15 PM, Teruhiko Kurosaka <Kuro@basistech.com>
> wrote:
> >> Hello,
> >> I have a Tokenizer that generates a Payload, and a TokenFilter that
uses it.
> >> These work well with Solr 1.4.0 (therefore Lucene 2.9.1?), but when
> >> I switched to the trunk version (I rebuilt the Tokenizer and
TokenFilter
> >> using the Lucene jar from the trunk and ran it), I encountered with
> >> this error:
> >>
> >> java.lang.IllegalArgumentException: This AttributeSource does not have
> the attribute
'org.apache.lucene.analysis.tokenattributes.PayloadAttribute'.
> >>
> >> This exception comes from this line in the TokenFilter code:
> >>
> >>        payloadAtt = (PayloadAttribute)
getAttribute(PayloadAttribute.class);
> >>
> >
> > I recommend you use addAttribute instead. Its buggy to use
> > getAttribute in this way because you cannot rely upon the fact that a
> > previous tokenstream has added the attribute[1]. I think your code was
> > only working before because of TokenWrapperAttributeFactory (the
> > backwards compatibility layer in 2.9 for the old Token API) being
> > present.
> >
> > [1]
> http://lucene.apache.org/java/2_9_0/api/core/org/apache/lucene/util/Attri
> buteSource.html#getAttribute(java.lang.Class)
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> 
> ----
> T. "Kuro" Kurosaka, 415-227-9600x122, 617-386-7122(direct)
> 
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48042-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Dec 04 23:23:00 2010
Return-Path: <java-user-return-48042-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 9261 invoked from network); 4 Dec 2010 23:23:00 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 4 Dec 2010 23:23:00 -0000
Received: (qmail 37170 invoked by uid 500); 4 Dec 2010 23:22:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36958 invoked by uid 500); 4 Dec 2010 23:22:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 36950 invoked by uid 99); 4 Dec 2010 23:22:58 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 04 Dec 2010 23:22:58 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of rcmuir@gmail.com designates 209.85.214.48 as permitted sender)
Received: from [209.85.214.48] (HELO mail-bw0-f48.google.com) (209.85.214.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 04 Dec 2010 23:22:52 +0000
Received: by bwz9 with SMTP id 9so10400643bwz.35
        for <java-user@lucene.apache.org>; Sat, 04 Dec 2010 15:22:31 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:in-reply-to
         :references:from:date:message-id:subject:to:content-type
         :content-transfer-encoding;
        bh=ZeKvEw2hGC0OW+qXqiQUxx2euYV5Rx0dqveCGMFDR1c=;
        b=noDPQ9bvDmPWur5Vg5Op1cRyAahV+o1gBHNkz9R29W5u/HMSFFd/yMx1OYXi0y8TI+
         P6CXD+vCzdQ8unk9NjVTO0WALRHiDFWZ9IUZTFvpLzJtqIlSuvludUgdD6IafbuJzUqG
         kZZW0s7BFMRCK1NJ3YN1B34mIFzw68D3odhSQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        b=TvmvMTfYIHzaHET9+gLgHoK4ygFOa3NENvszOByw6Wk7Jvd+r26d7iz0abZ09Nh/ot
         tBWmoKAh0cOY8lHypkM8m7hvInRhDcpYD8sENrqgODqAEXrsCMhtcQF9wn6VUpDA+yzs
         +bc1JKNZfHkAxMPBkvnZXrHOTjdQ/6fcZA3o0=
Received: by 10.204.47.158 with SMTP id n30mr735622bkf.133.1291504950402; Sat,
 04 Dec 2010 15:22:30 -0800 (PST)
MIME-Version: 1.0
Received: by 10.204.77.201 with HTTP; Sat, 4 Dec 2010 15:22:09 -0800 (PST)
In-Reply-To: <FC7FC020-EC8F-4FA2-940E-5299A7A60134@basistech.com>
References: <45634479-520B-4BA7-98CE-BE0486F98E58@basistech.com>
 <AANLkTin4HfrXGkxZhu4B7oR3Lg57nNALJfMFmuTzhyFp@mail.gmail.com> <FC7FC020-EC8F-4FA2-940E-5299A7A60134@basistech.com>
From: Robert Muir <rcmuir@gmail.com>
Date: Sat, 4 Dec 2010 18:22:09 -0500
Message-ID: <AANLkTikC7t27o0UCnnP_knUy1tq98qStcdkXkkKVgwLe@mail.gmail.com>
Subject: Re: PayloadAttribute behavior change between Lucene 2.9/3.0 and the trunk
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Sat, Dec 4, 2010 at 6:05 PM, Teruhiko Kurosaka <Kuro@basistech.com> wrot=
e:
> Thank you, Robert, substituting getAttribute with addAttribute worked!
>
> But I don't understand why. =C2=A0Could you help me to understand the mec=
hanics?
>
> In my setting,
> hasAttribute(PayloadAttribute.class) returns false.
>
> So I thought addAttribute(PayloadAttribute.class) would just
> create a new PayloadAttribute object. =C2=A0It would remedy the
> Exception, but it wouldn't do any good accessing the payload
> generated upstream.
>
> But the newly generated PayloadAttribute t is actually
> getting the payload that was generated upstream (by my Tokenizer).
> How is this possible?

Attributes are shared for the entire analysis chain.
It is best to think of getAttribute as "get a reference to an
already-added attribute".

And to think of addAttribute as "if the attribute already exists,
return a reference to it, otherwise add it to the chain and return a
reference to that".

In other words, in the entire Analyzer, there can only be one
PayloadAttribute. Because it is shared, it does not matter who calls
addAttribute.

So, its best to always use addAttribute in your constructor.

The simplest way to see why this is good: imagine if someone was to
use your TokenFilter with say a WhitespaceTokenizer that does not add
PayloadAttribute. Then your filter would not produce any error, the
PayloadAttribute would just be empty as you expect.

The reason your code worked with getAttribute in Lucene 2.9 is to
provide backwards-compatibility with the Token API:  the 6 attributes
from Token were always automatically added: TermAttribute,
OffsetAttribute, PositionIncrementAttribute, PayloadAttribute,
TypeAttribute, FlagsAttribute. You can see this by looking at
TokenStream.initTokenWrapper:
http://svn.apache.org/repos/asf/lucene/java/branches/lucene_2_9/src/java/or=
g/apache/lucene/analysis/TokenStream.java

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48043-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Dec 06 09:43:55 2010
Return-Path: <java-user-return-48043-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 12328 invoked from network); 6 Dec 2010 09:43:55 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 6 Dec 2010 09:43:55 -0000
Received: (qmail 29054 invoked by uid 500); 6 Dec 2010 09:43:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 26209 invoked by uid 500); 6 Dec 2010 09:43:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 26182 invoked by uid 99); 6 Dec 2010 09:43:47 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Dec 2010 09:43:47 +0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [62.24.128.242] (HELO out1.ip06ir2.opaltelecom.net) (62.24.128.242)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Dec 2010 09:43:43 +0000
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: ApEBAC8//ExcDqCS/2dsb2JhbAAH4RGFSQQ
X-IronPort-AV: E=Sophos;i="4.59,305,1288569600"; 
   d="scan'208";a="481705293"
Received: from host-92-14-160-146.as43234.net (HELO [192.168.1.102]) ([92.14.160.146])
  by out1.ip06ir2.opaltelecom.net with ESMTP; 06 Dec 2010 09:43:20 +0000
From: Lucene <lucene@searchblox.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: quoted-printable
Date: Mon, 6 Dec 2010 09:43:19 +0000
Subject: SearchBlox is now FREE. No limitations! 
To: java-user@lucene.apache.org,
 dev@lucene.apache.org,
 solr-user@lucene.apache.org
Message-Id: <759159DC-4F3A-4D0B-A883-64B2FE2533DE@searchblox.com>
Mime-Version: 1.0 (Apple Message framework v1082)
X-Mailer: Apple Mail (2.1082)

SearchBlox is pleased to announce the availability of SearchBlox Search =
Software as a completely FREE product. The product is now available with =
no limitations in terms of number of documents indexed and no =
restrictions in product functionality. SearchBlox will support the free =
product with a number of new paid support packages and free forum-based =
support.=20

SearchBlox is an Enterprise Search Server built on top of Apache Lucene =
and includes:

- Integrated crawlers for HTTP/HTTPS, filesystems and feeds
- Web based Admin Console to configure and manage upto 250 indexes
- REST API=20
- Multilingual support to index content in 37 languages
- Packaged for deployment to Linux/Unix, Windows, Mac OS X and Amazon =
Web Services(AWS)

Since 2003, SearchBlox has been continually enhanced leveraging new =
features in Apache Lucene and has been deployed by more than 300 =
customers in 30 countries.

The product can be downloaded from www.searchblox.com
 =20
Best regards,

The SearchBlox Team
www.searchblox.com
http://twitter.com/search_software=

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48044-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Dec 06 09:47:34 2010
Return-Path: <java-user-return-48044-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 12741 invoked from network); 6 Dec 2010 09:47:34 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 6 Dec 2010 09:47:34 -0000
Received: (qmail 34115 invoked by uid 500); 6 Dec 2010 09:47:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 33957 invoked by uid 500); 6 Dec 2010 09:47:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 33949 invoked by uid 99); 6 Dec 2010 09:47:31 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Dec 2010 09:47:31 +0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=FREEMAIL_FROM,MIME_QP_LONG_LINE,RCVD_IN_DNSWL_NONE,RFC_ABUSE_POST,SPF_NEUTRAL,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [121.101.151.211] (HELO nm1-vm0.bullet.mail.in.yahoo.com) (121.101.151.211)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 06 Dec 2010 09:47:26 +0000
Received: from [121.101.151.237] by nm1.bullet.mail.in.yahoo.com with NNFMP; 06 Dec 2010 09:47:02 -0000
Received: from [121.101.151.233] by tm2.bullet.mail.in.yahoo.com with NNFMP; 06 Dec 2010 09:47:02 -0000
Received: from [127.0.0.1] by omp1002.mail.in.yahoo.com with NNFMP; 06 Dec 2010 09:47:01 -0000
X-Yahoo-Newman-Id: 202409.7081.bm@omp1002.mail.in.yahoo.com
Received: (qmail 12702 invoked from network); 6 Dec 2010 09:47:02 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.in;
  h=DKIM-Signature:Received:X-Yahoo-SMTP:X-YMail-OSG:X-Yahoo-Newman-Property:Message-ID:From:To:References:Subject:Date:MIME-Version:Content-Type:Content-Transfer-Encoding:X-Priority:X-MSMail-Priority:X-Mailer:X-MimeOLE;
  b=bwLdGVWmimWb83eVFolDhTIQ22nJnq0hXwnBfWhDG+LyF7p5rbMDVYwRKB+r2FWfulbTzVmMlYoEOFCIgkn9ituKluXqXF8NUAwBwV/xivY1gEqYhdR0C+zedLXc+zlZQWM9NNH9I9sGYwVC1e+OGdLpsV8wVCTGEG4bylx4xKQ=  ;
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.co.in; s=s1024; t=1291628822; bh=a3G2uzvO4MqgaSrmy1x+JnTavIAUqWl9BEQdC6ZH8Gs=; h=Received:X-Yahoo-SMTP:X-YMail-OSG:X-Yahoo-Newman-Property:Message-ID:From:To:References:Subject:Date:MIME-Version:Content-Type:Content-Transfer-Encoding:X-Priority:X-MSMail-Priority:X-Mailer:X-MimeOLE; b=LSuMvuwnKBMy+MqRS5WEs74YOMFR5ZQJd4VnA5zOmDlHGtI44HWYjyxUnpKAV6Na+CDxYVLKAI9fZkSxK8e7YogW9WbXpV3QuTIOyk81ckZ4Iuq3AEvy9gmVgz/BCYh1X0oo/QoIUoYTHJ7cqx0NQbBn9lQXTunne/EdGhoKnGw=
Received: from GaneshM (emailgane@121.244.159.130 with login)
        by smtp102.mail.in.yahoo.com with SMTP; 06 Dec 2010 15:17:02 +0530 IST
X-Yahoo-SMTP: JObyHkuswBBrNSLZp.Ycd7Boqpr_GQ--
X-YMail-OSG: 1yGtA3sVM1lLBAKuPzDs_TBBiMrGKWzLg29LdpBYUiAAXgg
 xDF9Q0KIZaeQB6hX3_QNHjgyoGvl.8CRCpafKaLON63qM.HiIL0YxWWvsRFC
 c1v49ke1dmrLSuZ7jFp5ZXCN4uKsw6fV_0rXzIAYwJhHXNQY6G_ma1vBxaXM
 RzoBi8tykARmydCIUO15K1F.RI9pCQhwNmif9Ixiu2O1QMxFjQDct6u_lKYB
 UOmQOlkETNi26aNVvQ3mbjlqlC32.YRn0oKanT9tMvi_0MjN9ok4n
X-Yahoo-Newman-Property: ymail-3
Message-ID: <7BFC6B127794414F99684A640F455E5D@sv.us.sonicwall.com>
From: "Ganesh" <emailgane@yahoo.co.in>
To: <java-user@lucene.apache.org>
References: <52AECCE6F5764C2D903CD6D9956B7831@sv.us.sonicwall.com><AANLkTikCZsgvg4Ty86P0aAQvOarJhxfcy000iEEqwTrY@mail.gmail.com><AANLkTinPoiUTnJ_0=s--oejjfbBLe4P97M8bWYrfZiuB@mail.gmail.com><996005B2AD9E4482809CEF8E765197B7@sv.us.sonicwall.com><90362ECB07906C40A0297F9D5211A24323C3D81F16@ITSEMBXCLUS.enterprise.gcal.ac.uk><BA003BD932EF44819FC1BC036586FBB7@sv.us.sonicwall.com><AANLkTi=xqjCuc-YWp=qyq98+iivoRnME1+kNgqK5Y=q6@mail.gmail.com><AANLkTi=80xxOPLAGGZfC0voJQjDG1a1YKPHf+ztZTiYr@mail.gmail.com><AANLkTimJpLaBweFqkuXP=qRPXks6rtubRE5e8g-TfbHA@mail.gmail.com> <AANLkTimt=xDC9v=ss-4pYXALzV=S-ai5J=ZfWJbzg3FS@mail.gmail.com>
Subject: Re: PDF text extracted without spaces
Date: Mon, 6 Dec 2010 15:17:01 +0530
MIME-Version: 1.0
Content-Type: text/plain;
	charset="Windows-1252"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.5931
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.5931

Thanks for the link. I downloaded the tool and pdftotext extracts =
correctly. I also dropped a mail to the tika user group. It is a =
regression in latest release =
https://issues.apache.org/jira/browse/TIKA-548. Hopefully coming release =
will have a fix.

Regards
Ganesh

----- Original Message -----=20
From: "Ralph Seward" <rj.seward@gmail.com>
To: <java-user@lucene.apache.org>
Sent: Friday, December 03, 2010 8:21 PM
Subject: Re: PDF text extracted without spaces


pdftotext has usually worked quite well for my purposes. More info at
http://www.foolabs.com/xpdf/about.html .

"Xpdf runs under the X Window System on UNIX, VMS, and OS/2. The non-X
components (pdftops, pdftotext, etc.) also run on Win32 systems and =
should
run on pretty much any system with a decent C++ compiler."

Ralph

On Fri, Dec 3, 2010 at 9:35 AM, Hans Merkl <hmerkl@rightonpoint.us> =
wrote:
>
> pdftotext is much better and faster from my experience.
>
>
> On Fri, Dec 3, 2010 at 08:52, Fabiano Nunes <fabiano@nunes.me> wrote:
>
> > Have you ever tried other extractor tool than PDFBox? I used to =
extract
> > contents with pdfbox: its capability of extract contents wasn't a
problem,
> > but its lack of structure information was.
> > You can try poppler-utils (pdftotext) to extract contents with
> > layout structure.
> >
> > Fabiano Nunes
> >
> >
> >
> >
> >
> > On Fri, Dec 3, 2010 at 10:08 AM, Ian Lea <ian.lea@gmail.com> wrote:
> >
> > > Maybe https://issues.apache.org/jira/browse/TIKA-548 is relevant.
> > > Have you tried asking on the tika mailing list?
> > > http://tika.apache.org/mail-lists.html.
> > >
> > >
> > > --
> > > Ian.
> > >
> > >
> > > On Fri, Dec 3, 2010 at 11:55 AM, Ganesh <emailgane@yahoo.co.in> =
wrote:
> > > > I first extract the contents from documents using tika and =
latter
index
> > > it with Lucene. The problem is the extracted text from PDF using =
tika
has
> > no
> > > whitespaces.
> > > >
> > > > Regards
> > > > Ganesh
> > > >
> > > >
> > > > ----- Original Message -----
> > > > From: "McGibbney, Lewis John" <Lewis.McGibbney@gcu.ac.uk>
> > > > To: <java-user@lucene.apache.org>
> > > > Sent: Friday, December 03, 2010 4:40 PM
> > > > Subject: RE: PDF text extracted without spaces
> > > >
> > > >
> > > >> Hi Ganesh
> > > >>
> > > >> I encountered this same problem last week. I was thinking if it =
was
> > > possible to include at minimum a WhitespaceAnalyzer somewhere =
within
Tika
> > > which would solve the problem. I am not sure of how this would be =
done
as
> > I
> > > am not familiar with Tika codebase.
> > > >>
> > > >> Unfortunately I don't think that the solution to the first part =
of
> > this
> > > problem lies within the java-user mailing list.
> > > >>
> > > >> When were you sending extracted contents to Lucene... at what =
later
> > > stage?
> > > >>
> > > >> Thank you
> > > >>
> > > >> Lewis
> > > >>
> > > >> -----Original Message-----
> > > >> From: Ganesh [mailto:emailgane@yahoo.co.in]
> > > >> Sent: 03 December 2010 10:44
> > > >> To: java-user@lucene.apache.org
> > > >> Subject: Re: PDF text extracted without spaces
> > > >>
> > > >> The main problem is i am not getting whitespace and newline =
char.
This
> > > is happening only for PDF documents.
> > > >>
> > > >> Sample outoput: Someofthedifferencesare but it should be Some =
of
the
> > > differences are
> > > >>
> > > >> Regards
> > > >> Ganesh
> > > >>
> > > >> ----- Original Message -----
> > > >> From: "Alexander Aristov" <alexander.aristov@gmail.com>
> > > >> To: <java-user@lucene.apache.org>
> > > >> Sent: Friday, December 03, 2010 2:39 PM
> > > >> Subject: Re: PDF text extracted without spaces
> > > >>
> > > >>
> > > >>> anyway even if you get correct whitespaces and new lines this
won't
> > > affect
> > > >>> indexing.
> > > >>>
> > > >>> Best Regards
> > > >>> Alexander Aristov
> > > >>>
> > > >>>
> > > >>> On 3 December 2010 10:00, Lance Norskog <goksron@gmail.com> =
wrote:
> > > >>>
> > > >>>> The text should come out as a stream of words with space, but
> > without
> > > >>>> any of the formatting in the PDF. Extraction is only good =
enough
to
> > > >>>> tell you that a word is somewhere inside a PDF file.  Can you
post a
> > > >>>> short bit of the text that it extracted?
> > > >>>>
> > > >>>> Also, you should try this test on different PDF files that =
were
made
> > > >>>> with different software.
> > > >>>>
> > > >>>> On Thu, Dec 2, 2010 at 9:35 PM, Ganesh =
<emailgane@yahoo.co.in>
> > wrote:
> > > >>>> > Hello all,
> > > >>>> >
> > > >>>> > I know, this is not the right group to ask this question,
thought
> > > some of
> > > >>>> you guys might have experienced.
> > > >>>> >
> > > >>>> > I newbie with Tika. I am using latest version 0.8 version. =
I
> > > extracted
> > > >>>> text from PDF document but found spaces and new line missing.
> > Indexing
> > > the
> > > >>>> data gives wrong result. Could any one in this group could =
help
me?
> > I
> > > am
> > > >>>> using tika directly to extract the contents, which later gets
> > indexed.
> > > >>>> >
> > > >>>> > Regards
> > > >>>> > Ganesh
> > > >>>> > Send free SMS to your Friends on Mobile from your Yahoo!
> > Messenger.
> > > >>>> Download Now! http://messenger.yahoo.com/download.php
> > > >>>> >
> > > >>>> >
> > > =
---------------------------------------------------------------------
> > > >>>> > To unsubscribe, e-mail: =
java-user-unsubscribe@lucene.apache.org
> > > >>>> > For additional commands, e-mail:
java-user-help@lucene.apache.org
> > > >>>> >
> > > >>>> >
> > > >>>>
> > > >>>>
> > > >>>>
> > > >>>> --
> > > >>>> Lance Norskog
> > > >>>> goksron@gmail.com
> > > >>>>
> > > >>>>
> > =
---------------------------------------------------------------------
> > > >>>> To unsubscribe, e-mail: =
java-user-unsubscribe@lucene.apache.org
> > > >>>> For additional commands, e-mail: =
java-user-help@lucene.apache.org
> > > >>>>
> > > >>>>
> > > >>>
> > > >> Send free SMS to your Friends on Mobile from your Yahoo! =
Messenger.
> > > Download Now! http://messenger.yahoo.com/download.php
> > > >>
> > > >>
---------------------------------------------------------------------
> > > >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > >> For additional commands, e-mail: =
java-user-help@lucene.apache.org
> > > >>
> > > >> Email has been scanned for viruses by Altman Technologies' =
email
> > > management service - www.altman.co.uk/emailsystems
> > > >>
> > > >> Glasgow Caledonian University is a registered Scottish charity,
number
> > > SC021474
> > > >>
> > > >> Winner: Times Higher Education=92s Widening Participation =
Initiative
of
> > > the Year 2009 and Herald Society=92s Education Initiative of the =
Year
2009
> > > >>
> > >
> >
http://www.gcu.ac.uk/newsevents/news/bycategory/theuniversity/1/name,6219=
,en.html
> > > >>
> > > > Send free SMS to your Friends on Mobile from your Yahoo! =
Messenger.
> > > Download Now! http://messenger.yahoo.com/download.php
> > > >
> > > >
---------------------------------------------------------------------
> > > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > > For additional commands, e-mail: =
java-user-help@lucene.apache.org
> > > >
> > > >
> > >
> > > =
---------------------------------------------------------------------
> > > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > > For additional commands, e-mail: java-user-help@lucene.apache.org
> > >
> > >
> >
>
>
>
> --
>
> Hans Merkl
> Right On Point, LLC
> 215 Victor Parkway, Suite E
> Annapolis, MD 21403
>
> Phone: (443) 951-4324
> E-mail: hmerkl@rightonpoint.us

Send free SMS to your Friends on Mobile from your Yahoo! Messenger. Download Now! http://messenger.yahoo.com/download.php

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48045-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Dec 06 13:42:52 2010
Return-Path: <java-user-return-48045-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22415 invoked from network); 6 Dec 2010 13:42:52 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 6 Dec 2010 13:42:52 -0000
Received: (qmail 71987 invoked by uid 500); 6 Dec 2010 13:42:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71796 invoked by uid 500); 6 Dec 2010 13:42:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 14321 invoked by uid 99); 6 Dec 2010 12:54:22 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
From: Ranjit Kumar <Ranjit.Kumar@otssolutions.com>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Subject: lucene3.0.2: getting incorrect no. of occurrence in file
Thread-Topic: lucene3.0.2: getting incorrect no. of occurrence in file
Thread-Index: AcuVROWCkK6Ji6sBRzaCPbeaGaxyHw==
Date: Mon, 6 Dec 2010 12:55:45 +0000
Message-ID: <AD21521D44870544AC66F4FDFC0A474C0FC8B68C@MAIL.otssolutions.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: yes
X-MS-TNEF-Correlator:
x-cr-hashedpuzzle: K/Q= ADfl BQ63 BTOH CILn CKPT EprP FEfk F2gV GER3 Haok
 Iyyv JWuj Jot8 KC84
 Kd6c;1;agBhAHYAYQAtAHUAcwBlAHIAQABsAHUAYwBlAG4AZQAuAGEAcABhAGMAaABlAC4AbwByAGcA;Sosha1_v1;7;{B2BD3BCA-01A2-49A8-AB2B-AC218CA668C4};cgBhAG4AagBpAHQALgBrAHUAbQBhAHIAQABvAHQAcwBzAG8AbAB1AHQAaQBvAG4AcwAuAGMAbwBtAA==;Mon,
 06 Dec 2010 12:55:45
 GMT;bAB1AGMAZQBuAGUAMwAuADAALgAyADoAIABnAGUAdAB0AGkAbgBnACAAaQBuAGMAbwByAHIAZQBjAHQAIABuAG8ALgAgAG8AZgAgAG8AYwBjAHUAcgByAGUAbgBjAGUAIABpAG4AIABmAGkAbABlAA==
x-cr-puzzleid: {B2BD3BCA-01A2-49A8-AB2B-AC218CA668C4}
Content-Type: multipart/related;
	boundary="_004_AD21521D44870544AC66F4FDFC0A474C0FC8B68CMAILotssolution_";
	type="multipart/alternative"
MIME-Version: 1.0

--_004_AD21521D44870544AC66F4FDFC0A474C0FC8B68CMAILotssolution_
Content-Type: multipart/alternative;
	boundary="_000_AD21521D44870544AC66F4FDFC0A474C0FC8B68CMAILotssolution_"

--_000_AD21521D44870544AC66F4FDFC0A474C0FC8B68CMAILotssolution_
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi,
I am facing same problem with lucen3.0.2  search. I am using StandardAnalyz=
er to create index.
IndexWriter writer =3D new IndexWriter(FSDirectory.open(INDEX_DIR), new Sta=
ndardAnalyzer(Version.LUCENE_CURRENT), true, new IndexWriter.MaxFieldLength=
(1000000));
on the other hand for search I am using same analyser. In case of term quer=
y(ie; query having single word) result is fine and gives correct no of occu=
rrence in the file searched.
When using  phrase query (ie;  multiTerm query like sql server) it gives fi=
le that contents  sql server (no. of docoments) but do not gives correct no=
 of occurrence in each document.
If you have any solution plz.. help me out.


Thanks & Regards,
Ranjit Kumar
Associate Software Engineer

[cid:image002.jpg@01CB7089.C0069B40]

US:       +1 408.540.0001
UK:       +44 208.099.1660
India:   +91 124.474.8100 | +91 124.410.1350
FAX:     +1 408.516.9050
http://www.otssolutions.com

=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D Pr=
ivate, Confidential and Privileged. This e-mail and any files and attachmen=
ts transmitted with it are confidential and/or privileged. They are intende=
d solely for the use of the intended recipient. The content of this e-mail =
and any file or attachment transmitted with it may have been changed or alt=
ered without the consent of the author. If you are not the intended recipie=
nt, please note that any review, dissemination, disclosure, alteration, pri=
nting, circulation or Transmission of this e-mail and/or any file or attach=
ment transmitted with it, is prohibited and may be unlawful. If you have re=
ceived this e-mail or any file or attachment transmitted with it in error p=
lease notify OTS Solutions at info@otssolutions.com =3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D

--_000_AD21521D44870544AC66F4FDFC0A474C0FC8B68CMAILotssolution_
Content-Type: text/html; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

<html xmlns:v=3D"urn:schemas-microsoft-com:vml" xmlns:o=3D"urn:schemas-micr=
osoft-com:office:office" xmlns:w=3D"urn:schemas-microsoft-com:office:word" =
xmlns:m=3D"http://schemas.microsoft.com/office/2004/12/omml" xmlns=3D"http:=
//www.w3.org/TR/REC-html40">
<head>
<meta http-equiv=3D"Content-Type" content=3D"text/html; charset=3Dus-ascii"=
>
<meta name=3D"Generator" content=3D"Microsoft Word 12 (filtered medium)">
<!--[if !mso]>
<style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style>
<![endif]--><style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:"Palatino Linotype";
	panose-1:2 4 5 2 5 5 5 3 3 4;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
a:link, span.MsoHyperlink
	{mso-style-priority:99;
	color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{mso-style-priority:99;
	color:purple;
	text-decoration:underline;}
p.MsoAcetate, li.MsoAcetate, div.MsoAcetate
	{mso-style-priority:99;
	mso-style-link:"Balloon Text Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:8.0pt;
	font-family:"Tahoma","sans-serif";}
span.EmailStyle17
	{mso-style-type:personal-compose;
	font-family:"Calibri","sans-serif";
	color:windowtext;}
span.BalloonTextChar
	{mso-style-name:"Balloon Text Char";
	mso-style-priority:99;
	mso-style-link:"Balloon Text";
	font-family:"Tahoma","sans-serif";}
.MsoChpDefault
	{mso-style-type:export-only;}
@page WordSection1
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.0in;}
div.WordSection1
	{page:WordSection1;}
-->
</style><!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext=3D"edit" spidmax=3D"2050" />
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext=3D"edit">
  <o:idmap v:ext=3D"edit" data=3D"1" />
 </o:shapelayout></xml><![endif]-->
</head>
<body lang=3D"EN-US" link=3D"blue" vlink=3D"purple">
<div class=3D"WordSection1">
<p class=3D"MsoNormal">Hi,<o:p></o:p></p>
<p class=3D"MsoNormal" style=3D"margin-left:.5in">I am facing same problem =
with <b>lucen3.0.2</b> &nbsp;search. I am using
<b>StandardAnalyzer </b>to create index.<o:p></o:p></p>
<p class=3D"MsoNormal" style=3D"margin-left:.5in"><span style=3D"color:red"=
>IndexWriter writer =3D new IndexWriter(FSDirectory.open(INDEX_DIR), new St=
andardAnalyzer(Version.LUCENE_CURRENT), true, new IndexWriter.MaxFieldLengt=
h(1000000));<o:p></o:p></span></p>
<p class=3D"MsoNormal" style=3D"margin-left:.5in;text-indent:.5in">on the o=
ther hand for search I am using same analyser. In case of term query(ie; qu=
ery having single word) result is fine and gives correct no of occurrence i=
n the file searched.
<o:p></o:p></p>
<p class=3D"MsoNormal" style=3D"margin-left:.5in;text-indent:.5in">When usi=
ng &nbsp;phrase query (ie; &nbsp;multiTerm query like
<b>sql server</b>) it gives file that contents &nbsp;<b>sql server (no. of =
docoments)</b> but do not gives correct no of occurrence in each document.
<o:p></o:p></p>
<p class=3D"MsoNormal" style=3D"margin-left:.5in;text-indent:.5in"><b><span=
 style=3D"color:#C00000">If you have any solution plz.. help me out</span><=
/b>.<o:p></o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal"><span style=3D"font-family:&quot;Palatino Linotype&q=
uot;,&quot;serif&quot;;
color:navy">Thanks &amp; Regards,</span><span style=3D"font-family:&quot;Pa=
latino Linotype&quot;,&quot;serif&quot;;
color:navy"><o:p></o:p></span></p>
<p class=3D"MsoNormal"><b><span style=3D"font-family:&quot;Palatino Linotyp=
e&quot;,&quot;serif&quot;;
color:purple">Ranjit Kumar&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;
</span></b><b><span style=3D"font-size:12.0pt;font-family:&quot;Palatino Li=
notype&quot;,&quot;serif&quot;;
color:purple"><o:p></o:p></span></b></p>
<p class=3D"MsoNormal"><span style=3D"font-family:&quot;Palatino Linotype&q=
uot;,&quot;serif&quot;;
color:navy">Associate Software Engineer<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span style=3D"font-family:&quot;Palatino Linotype&q=
uot;,&quot;serif&quot;;
color:navy"><o:p>&nbsp;</o:p></span></p>
<p class=3D"MsoNormal"><span style=3D"font-family:&quot;Palatino Linotype&q=
uot;,&quot;serif&quot;;
color:navy"><img width=3D"236" height=3D"53" id=3D"Picture_x0020_1" src=3D"=
cid:image001.jpg@01CB9572.FF1E7E70" alt=3D"cid:image002.jpg@01CB7089.C0069B=
40"><o:p></o:p></span></p>
<p class=3D"MsoNormal"><span style=3D"font-family:&quot;Palatino Linotype&q=
uot;,&quot;serif&quot;;
color:navy"><o:p>&nbsp;</o:p></span></p>
<p class=3D"MsoNormal"><b><span style=3D"font-family:&quot;Palatino Linotyp=
e&quot;,&quot;serif&quot;;
color:navy">US:</span></b><span style=3D"font-family:&quot;Palatino Linotyp=
e&quot;,&quot;serif&quot;;
color:navy"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#43;1 408.540.0001
<o:p></o:p></span></p>
<p class=3D"MsoNormal"><b><span style=3D"font-family:&quot;Palatino Linotyp=
e&quot;,&quot;serif&quot;;
color:navy">UK:</span></b><span style=3D"font-family:&quot;Palatino Linotyp=
e&quot;,&quot;serif&quot;;
color:navy"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#43;44 208.099.1660<o:p></o:p>=
</span></p>
<p class=3D"MsoNormal"><b><span style=3D"font-family:&quot;Palatino Linotyp=
e&quot;,&quot;serif&quot;;
color:navy">India:</span></b><span style=3D"font-family:&quot;Palatino Lino=
type&quot;,&quot;serif&quot;;
color:navy"> &nbsp;&nbsp;&#43;91 124.474.8100 | &#43;91 124.410.1350<o:p></=
o:p></span></p>
<p class=3D"MsoNormal" style=3D"margin-bottom:12.0pt"><b><span style=3D"fon=
t-family:
&quot;Palatino Linotype&quot;,&quot;serif&quot;;color:navy">FAX:</span></b>=
<span style=3D"font-family:
&quot;Palatino Linotype&quot;,&quot;serif&quot;;color:navy"> &nbsp;&nbsp;&n=
bsp; &#43;1 408.516.9050<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span style=3D"font-family:&quot;Palatino Linotype&q=
uot;,&quot;serif&quot;;
color:navy"><a href=3D"http://www.otssolutions.com"><span style=3D"color:bl=
ue">http://www.otssolutions.com</span></a><o:p></o:p></span></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
</div>
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D Pr=
ivate, Confidential and Privileged. This e-mail and any files and attachmen=
ts transmitted with it are confidential and/or privileged. They are intende=
d solely
 for the use of the intended recipient. The content of this e-mail and any =
file or attachment transmitted with it may have been changed or altered wit=
hout the consent of the author. If you are not the intended recipient, plea=
se note that any review, dissemination,
 disclosure, alteration, printing, circulation or Transmission of this e-ma=
il and/or any file or attachment transmitted with it, is prohibited and may=
 be unlawful. If you have received this e-mail or any file or attachment tr=
ansmitted with it in error please
 notify OTS Solutions at info@otssolutions.com =3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
</body>
</html>

--_000_AD21521D44870544AC66F4FDFC0A474C0FC8B68CMAILotssolution_--

--_004_AD21521D44870544AC66F4FDFC0A474C0FC8B68CMAILotssolution_--

From java-user-return-48046-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Dec 06 14:01:43 2010
Return-Path: <java-user-return-48046-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 26388 invoked from network); 6 Dec 2010 14:01:42 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 6 Dec 2010 14:01:42 -0000
Received: (qmail 85345 invoked by uid 500); 6 Dec 2010 14:01:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 85038 invoked by uid 500); 6 Dec 2010 14:01:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 85026 invoked by uid 99); 6 Dec 2010 14:01:39 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Dec 2010 14:01:38 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of erickerickson@gmail.com designates 209.85.216.176 as permitted sender)
Received: from [209.85.216.176] (HELO mail-qy0-f176.google.com) (209.85.216.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 06 Dec 2010 14:01:31 +0000
Received: by qyk10 with SMTP id 10so12602935qyk.14
        for <java-user@lucene.apache.org>; Mon, 06 Dec 2010 06:01:10 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=2oatJSV0waEi0zyUxQS6Pl9AUa8SXlgV0/vkmsx2PsM=;
        b=J3DxlQk9mX2f9KVdbFKuYO6Oqb88y7TYCDihTJ5Oz0MgknKDNx8KwMvpboFc3gP39L
         6CvnyTbnmIAxtysx6y3wOU31Ty8Uf/wZ1WtueGYAsbqc67O0ZP7ilRwVYqNYwCHDEFbf
         eBNTmY6wbEQ6NucyFBrFoapI2okcm1uch1PdU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=HgmU1KutxI3huKodIrvG0BJGvpJmNPOYAO7/Zad6EvgLq3K/kdP+N8ByvzOoDiLwXM
         ftBMafAfCpuVs4eN7PeLAhVilF1yFxRUaSYPSjEzKsYp/jdxoGa7gsJuc8YO/EhNeaCp
         1Jrva3VM8smhFn21Nzte1e83MEfTWLS+N53Ng=
MIME-Version: 1.0
Received: by 10.229.214.76 with SMTP id gz12mr4442138qcb.196.1291644070538;
 Mon, 06 Dec 2010 06:01:10 -0800 (PST)
Received: by 10.229.225.142 with HTTP; Mon, 6 Dec 2010 06:01:10 -0800 (PST)
In-Reply-To: <AD21521D44870544AC66F4FDFC0A474C0FC8B68C@MAIL.otssolutions.com>
References: <AD21521D44870544AC66F4FDFC0A474C0FC8B68C@MAIL.otssolutions.com>
Date: Mon, 6 Dec 2010 09:01:10 -0500
Message-ID: <AANLkTi=P4v=v5+h_YQBcbATSPdrrv0WYULxtdwxA2oPx@mail.gmail.com>
Subject: Re: lucene3.0.2: getting incorrect no. of occurrence in file
From: Erick Erickson <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=00163628410c00300f0496be5253
X-Virus-Checked: Checked by ClamAV on apache.org

--00163628410c00300f0496be5253
Content-Type: text/plain; charset=ISO-8859-1

"but do not gives correct no of occurrence in each document".

An example of the document you expect to be matched and the
code you're using to search would be a great help.  You might
consider making a Junit test case illustrating your problem, that
very often shows you the underlying problem.

Best
Erick

On Mon, Dec 6, 2010 at 7:55 AM, Ranjit Kumar
<Ranjit.Kumar@otssolutions.com>wrote:

>  Hi,
>
> I am facing same problem with *lucen3.0.2*  search. I am using *StandardAnalyzer
> *to create index.
>
> IndexWriter writer = new IndexWriter(FSDirectory.open(INDEX_DIR), new
> StandardAnalyzer(Version.LUCENE_CURRENT), true, new
> IndexWriter.MaxFieldLength(1000000));
>
> on the other hand for search I am using same analyser. In case of term
> query(ie; query having single word) result is fine and gives correct no of
> occurrence in the file searched.
>
> When using  phrase query (ie;  multiTerm query like *sql server*) it gives
> file that contents  *sql server (no. of docoments)* but do not gives
> correct no of occurrence in each document.
>
> *If you have any solution plz.. help me out*.
>
>
>
>
>
> Thanks & Regards,
>
> *Ranjit Kumar                       ***
>
> Associate Software Engineer
>
>
>
> [image: cid:image002.jpg@01CB7089.C0069B40]
>
>
>
> *US:*       +1 408.540.0001
>
> *UK:*       +44 208.099.1660
>
> *India:*   +91 124.474.8100 | +91 124.410.1350
>
> *FAX:*     +1 408.516.9050
>
> http://www.otssolutions.com
>
>
> ===================================================================================================
> Private, Confidential and Privileged. This e-mail and any files and
> attachments transmitted with it are confidential and/or privileged. They are
> intended solely for the use of the intended recipient. The content of this
> e-mail and any file or attachment transmitted with it may have been changed
> or altered without the consent of the author. If you are not the intended
> recipient, please note that any review, dissemination, disclosure,
> alteration, printing, circulation or Transmission of this e-mail and/or any
> file or attachment transmitted with it, is prohibited and may be unlawful.
> If you have received this e-mail or any file or attachment transmitted with
> it in error please notify OTS Solutions at info@otssolutions.com===================================================================================================
>
>

--00163628410c00300f0496be5253--

From java-user-return-48047-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Dec 07 06:09:49 2010
Return-Path: <java-user-return-48047-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94732 invoked from network); 7 Dec 2010 06:09:49 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 7 Dec 2010 06:09:49 -0000
Received: (qmail 97530 invoked by uid 500); 7 Dec 2010 06:09:47 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 97137 invoked by uid 500); 7 Dec 2010 06:09:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 97129 invoked by uid 99); 7 Dec 2010 06:09:43 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Dec 2010 06:09:43 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ryan@glassdoor.com designates 69.50.2.26 as permitted sender)
Received: from [69.50.2.26] (HELO EX16.myhostedexchange.com) (69.50.2.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Dec 2010 06:09:36 +0000
Received: from ex10.myhostedexchange.com ([69.50.2.26]) by EX16.myhostedexchange.com with Microsoft SMTPSVC(6.0.3790.4675);
	 Mon, 6 Dec 2010 22:09:16 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5
x-cr-puzzleid: {01C6B20D-C923-46C1-A37A-EA469F8FC800}
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01CB95D5.3EAF83EA"
x-cr-hashedpuzzle: AILd Bsxn CWPR ENeR EP7n Eq17 FLEU F1ZW GMXE GfSV G1Ou HldL JApj JFaN JJyw K6er;1;agBhAHYAYQAtAHUAcwBlAHIAQABsAHUAYwBlAG4AZQAuAGEAcABhAGMAaABlAC4AbwByAGcA;Sosha1_v1;7;{01C6B20D-C923-46C1-A37A-EA469F8FC800};cgB5AGEAbgBAAGcAbABhAHMAcwBkAG8AbwByAC4AYwBvAG0A;Tue, 07 Dec 2010 06:09:39 GMT;SABlAGwAcAAgAE8AdgBlAHIAcgBpAGQAaQBuAGcAIABiAGUAaABhAHYAaQBvAHIAIABpAG4AIABCAG8AbwBsAGUAYQBuAFEAdQBlAHIAeQAgAHMAYwBvAHIAZQByAA==
Content-class: urn:content-classes:message
Subject: Help Overriding behavior in BooleanQuery scorer
Date: Mon, 6 Dec 2010 22:09:39 -0800
Message-ID: <F1962646D3B64642B7C9A06068EE1E640F9C9597@ex10.hostedexchange.local>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Help Overriding behavior in BooleanQuery scorer
Thread-Index: AcuV1VUJQNuOobxuQjGVj1dlW+x+FA==
From: "Ryan Aylward" <ryan@glassdoor.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 07 Dec 2010 06:09:16.0620 (UTC) FILETIME=[4740E8C0:01CB95D5]

------_=_NextPart_001_01CB95D5.3EAF83EA
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

I would like to customize the scoring of the BooleanQuery. The scoring
for Boolean queries sums together each clause. Rather than summing
together each clause, I would like to take the max score of any of the
clauses.

=20

Ideally, I would like to inherit from BooleanScorer and BooleanScorer2
and make a couple of very minor changes to it. Unfortunately, both
classes are package protected and declared as final. This prevents me
from being able to modify them at all. It seems the only way I can
change this is to basically create a copy of a bunch of classes
(BooleanQuery, BooleanWeight, BooleanScorer, BooleanScorer2,
DisjunctionSumScorer, ConjunctionScorer, etc).

=20

Does anyone know why many of those classes are package protected and
final? Any suggestions for how to customize this part of the scoring
algorithm without having to copy all of these classes?

=20

Thanks,

Ryan Aylward


------_=_NextPart_001_01CB95D5.3EAF83EA--

From java-user-return-48048-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Dec 07 09:58:09 2010
Return-Path: <java-user-return-48048-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79827 invoked from network); 7 Dec 2010 09:58:09 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 7 Dec 2010 09:58:09 -0000
Received: (qmail 77583 invoked by uid 500); 7 Dec 2010 09:58:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 77378 invoked by uid 500); 7 Dec 2010 09:58:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 77370 invoked by uid 99); 7 Dec 2010 09:58:06 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Dec 2010 09:58:06 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of jan.kurella@nokia.com designates 147.243.128.26 as permitted sender)
Received: from [147.243.128.26] (HELO mgw-da02.nokia.com) (147.243.128.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Dec 2010 09:57:58 +0000
Received: from vaebh104.NOE.Nokia.com (vaebh104.europe.nokia.com [10.160.244.30])
	by mgw-da02.nokia.com (Switch-3.4.3/Switch-3.4.3) with ESMTP id oB79vVRo006657
	for <java-user@lucene.apache.org>; Tue, 7 Dec 2010 11:57:36 +0200
Received: from smtp.mgd.nokia.com ([65.54.30.8]) by vaebh104.NOE.Nokia.com over TLS secured channel with Microsoft SMTPSVC(6.0.3790.4675);
	 Tue, 7 Dec 2010 11:57:19 +0200
Received: from 008-AM1MMR1-001.mgdnok.nokia.com (65.54.30.56) by
 NOK-AM1MHUB-04.mgdnok.nokia.com (65.54.30.8) with Microsoft SMTP Server (TLS)
 id 8.2.254.0; Tue, 7 Dec 2010 10:57:17 +0100
Received: from [127.0.0.1] (172.25.239.57) by clientsmtp.nokia.com
 (65.54.30.56) with Microsoft SMTP Server id 14.0.702.2; Tue, 7 Dec 2010
 10:57:17 +0100
Message-ID: <4CFE04F9.6090407@nokia.com>
Date: Tue, 7 Dec 2010 10:57:13 +0100
From: Jan Kurella <jan.kurella@nokia.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.9.2.12) Gecko/20101027 Thunderbird/3.1.6
MIME-Version: 1.0
To: <java-user@lucene.apache.org>
Subject: SpanOrQuery with unreasonable high scores
Content-Type: text/plain; charset="UTF-8"; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 07 Dec 2010 09:57:19.0871 (UTC) FILETIME=[231B50F0:01CB95F5]
X-Nokia-AV: Clean

Hi,

 From what I got, the SpanOrQuery is similar to a BooleanQuery with 
Or-Clauses. It can be used in other span queries.
But compared to the BooleanQuery it has a significant difference: It is 
missing a querynormalization. Thus by the just summed up idf of all 
tokens in the query, even documents with just one hit get an extremely 
high score as mainly the idf is relevant for scoring.

To have some query normalization like in BQ one qould need to cascade 
the SpanWeight.normalize(float) down to the Spans (and its containing 
subSpans). But unfortunately neither is the Spans existing at this point 
in time nor does the Spans concept support boosts or norms.

so how do I get the SpanOrQuery best normed to be comparable to a 
BooleanQuery?

Jan


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48049-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Dec 07 12:57:57 2010
Return-Path: <java-user-return-48049-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23286 invoked from network); 7 Dec 2010 12:57:56 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 7 Dec 2010 12:57:56 -0000
Received: (qmail 38016 invoked by uid 500); 7 Dec 2010 12:57:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37633 invoked by uid 500); 7 Dec 2010 12:57:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37624 invoked by uid 99); 7 Dec 2010 12:57:54 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Dec 2010 12:57:54 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of erickerickson@gmail.com designates 209.85.213.176 as permitted sender)
Received: from [209.85.213.176] (HELO mail-yx0-f176.google.com) (209.85.213.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Dec 2010 12:57:48 +0000
Received: by yxm8 with SMTP id 8so7795548yxm.35
        for <java-user@lucene.apache.org>; Tue, 07 Dec 2010 04:57:28 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=0591MkzJJ7lTi/CU6rM32GrhEOlF7PtWLUwBF1QWl3Q=;
        b=wZPHE43SEns8B2qMcbDqAysqAXo29CShF1pM6s4JGsCEwbWQhWCE6EiiRfTQg9UCzW
         1XR2j9iCL0jo9pmreANvGGZ2YKnCewSQg6N6Sisf6H+ANrnY1um1GgLcYQ1DeTsgBkLn
         p8Fh7Yqqwr6dMPSwdHiRbTS/qXHfqmViK2uMQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=psWHzPsi+GSGFpLVstRTXyAhcuC07rrPHBInijmLp3eyKQLLwOTS8q5X6mqgwGf9DA
         5eS6u/6qADavAA7B4kbC0l5ZYnFqEqIteD32ChTLqJOU75uv+axqpgjgsxh3wYf+gf1P
         TPOxchifGsRQrbXO8vstWM0wvPx0vtJ1QFdJs=
MIME-Version: 1.0
Received: by 10.229.85.203 with SMTP id p11mr5559148qcl.76.1291726647786; Tue,
 07 Dec 2010 04:57:27 -0800 (PST)
Received: by 10.229.235.208 with HTTP; Tue, 7 Dec 2010 04:57:27 -0800 (PST)
In-Reply-To: <F1962646D3B64642B7C9A06068EE1E640F9C9597@ex10.hostedexchange.local>
References: <F1962646D3B64642B7C9A06068EE1E640F9C9597@ex10.hostedexchange.local>
Date: Tue, 7 Dec 2010 07:57:27 -0500
Message-ID: <AANLkTinWfKiwPxu29VQWqtJ_6YnnX2P+NaO0=aE+jKUu@mail.gmail.com>
Subject: Re: Help Overriding behavior in BooleanQuery scorer
From: Erick Erickson <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016364ef42efd01370496d18bb3

--0016364ef42efd01370496d18bb3
Content-Type: text/plain; charset=ISO-8859-1

I haven't a clue about the package protected thing, but
you may not need to go there. This sounds a lot like
DisjunctionMaxQuery, have you looked at it?
 http://lucene.apache.org/java/3_0_2/api/all/index.html

<http://lucene.apache.org/java/3_0_2/api/all/index.html>Best
Erick

On Tue, Dec 7, 2010 at 1:09 AM, Ryan Aylward <ryan@glassdoor.com> wrote:

> I would like to customize the scoring of the BooleanQuery. The scoring
> for Boolean queries sums together each clause. Rather than summing
> together each clause, I would like to take the max score of any of the
> clauses.
>
>
>
> Ideally, I would like to inherit from BooleanScorer and BooleanScorer2
> and make a couple of very minor changes to it. Unfortunately, both
> classes are package protected and declared as final. This prevents me
> from being able to modify them at all. It seems the only way I can
> change this is to basically create a copy of a bunch of classes
> (BooleanQuery, BooleanWeight, BooleanScorer, BooleanScorer2,
> DisjunctionSumScorer, ConjunctionScorer, etc).
>
>
>
> Does anyone know why many of those classes are package protected and
> final? Any suggestions for how to customize this part of the scoring
> algorithm without having to copy all of these classes?
>
>
>
> Thanks,
>
> Ryan Aylward
>
>

--0016364ef42efd01370496d18bb3--

From java-user-return-48050-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Dec 07 21:24:41 2010
Return-Path: <java-user-return-48050-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15238 invoked from network); 7 Dec 2010 21:24:41 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 7 Dec 2010 21:24:41 -0000
Received: (qmail 90533 invoked by uid 500); 7 Dec 2010 21:24:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 90474 invoked by uid 500); 7 Dec 2010 21:24:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 90466 invoked by uid 99); 7 Dec 2010 21:24:38 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Dec 2010 21:24:38 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=10.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ryan@glassdoor.com designates 69.50.2.26 as permitted sender)
Received: from [69.50.2.26] (HELO EX16.myhostedexchange.com) (69.50.2.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Dec 2010 21:24:31 +0000
Received: from ex10.myhostedexchange.com ([69.50.2.26]) by EX16.myhostedexchange.com with Microsoft SMTPSVC(6.0.3790.4675);
	 Tue, 7 Dec 2010 13:24:10 -0800
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Help Overriding behavior in BooleanQuery scorer
Date: Tue, 7 Dec 2010 13:23:55 -0800
Message-ID: <F1962646D3B64642B7C9A06068EE1E640FB0BB8B@ex10.hostedexchange.local>
In-Reply-To: <AANLkTinWfKiwPxu29VQWqtJ_6YnnX2P+NaO0=aE+jKUu@mail.gmail.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Help Overriding behavior in BooleanQuery scorer
Thread-Index: AcuWDl2DBLCLiihITdSEVYWHEcCEIQALYf7g
References: <F1962646D3B64642B7C9A06068EE1E640F9C9597@ex10.hostedexchange.local> <AANLkTinWfKiwPxu29VQWqtJ_6YnnX2P+NaO0=aE+jKUu@mail.gmail.com>
From: "Ryan Aylward" <ryan@glassdoor.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 07 Dec 2010 21:24:10.0713 (UTC) FILETIME=[16AEC490:01CB9655]
X-Virus-Checked: Checked by ClamAV on apache.org

Thanks very much for the response, Erick.

I think one of my co-workers tried to use it and seemed to think it
didn't meet our needs but I'll give it a shot.

In the meantime, I'm curious to see if anyone else has modified
BooleanQuery to modify how calculates the score. Is the only way to do
that to make a copy of the classes?

-----Original Message-----
From: Erick Erickson [mailto:erickerickson@gmail.com]=20
Sent: Tuesday, December 07, 2010 4:57 AM
To: java-user@lucene.apache.org
Subject: Re: Help Overriding behavior in BooleanQuery scorer

I haven't a clue about the package protected thing, but
you may not need to go there. This sounds a lot like
DisjunctionMaxQuery, have you looked at it?
 http://lucene.apache.org/java/3_0_2/api/all/index.html

<http://lucene.apache.org/java/3_0_2/api/all/index.html>Best
Erick

On Tue, Dec 7, 2010 at 1:09 AM, Ryan Aylward <ryan@glassdoor.com> wrote:

> I would like to customize the scoring of the BooleanQuery. The scoring
> for Boolean queries sums together each clause. Rather than summing
> together each clause, I would like to take the max score of any of the
> clauses.
>
>
>
> Ideally, I would like to inherit from BooleanScorer and BooleanScorer2
> and make a couple of very minor changes to it. Unfortunately, both
> classes are package protected and declared as final. This prevents me
> from being able to modify them at all. It seems the only way I can
> change this is to basically create a copy of a bunch of classes
> (BooleanQuery, BooleanWeight, BooleanScorer, BooleanScorer2,
> DisjunctionSumScorer, ConjunctionScorer, etc).
>
>
>
> Does anyone know why many of those classes are package protected and
> final? Any suggestions for how to customize this part of the scoring
> algorithm without having to copy all of these classes?
>
>
>
> Thanks,
>
> Ryan Aylward
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48051-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Dec 07 21:24:59 2010
Return-Path: <java-user-return-48051-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15317 invoked from network); 7 Dec 2010 21:24:59 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 7 Dec 2010 21:24:59 -0000
Received: (qmail 92417 invoked by uid 500); 7 Dec 2010 21:24:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 92375 invoked by uid 500); 7 Dec 2010 21:24:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 92367 invoked by uid 99); 7 Dec 2010 21:24:56 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Dec 2010 21:24:56 +0000
X-ASF-Spam-Status: No, hits=3.0 required=10.0
	tests=FORGED_YAHOO_RCVD,FREEMAIL_FROM,RFC_ABUSE_POST,SPF_HELO_PASS,SPF_NEUTRAL,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [216.139.236.158] (HELO kuber.nabble.com) (216.139.236.158)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Dec 2010 21:24:51 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by kuber.nabble.com with esmtp (Exim 4.63)
	(envelope-from <farag_ahmed@yahoo.com>)
	id 1PQ51S-0002TM-O3
	for java-user@lucene.apache.org; Tue, 07 Dec 2010 13:24:30 -0800
Date: Tue, 7 Dec 2010 13:24:30 -0800 (PST)
From: starz10de <farag_ahmed@yahoo.com>
To: java-user@lucene.apache.org
Message-ID: <1291757070739-2036296.post@n3.nabble.com>
Subject: java.lang.NoClassDefFoundError:org/apache/lucene/search/similar/MoreLikeThis
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable




Hi All,

I am using MoreLikeThis class in lucene to find more similar documents in
the index to the giving one. It works fine when I run it directly from
Eclipse but when I call it from my servlet I have this error:

=E2=80=9Cjava.lang.NoClassDefFoundError:org/apache/lucene/search/similar/Mo=
reLikeThis=E2=80=9C

Any idea why this error occurred?

Thanks=20

--=20
View this message in context: http://lucene.472066.n3.nabble.com/java-lang-=
NoClassDefFoundError-org-apache-lucene-search-similar-MoreLikeThis-tp203629=
6p2036296.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48052-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Dec 07 22:32:22 2010
Return-Path: <java-user-return-48052-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 42772 invoked from network); 7 Dec 2010 22:32:22 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 7 Dec 2010 22:32:22 -0000
Received: (qmail 99794 invoked by uid 500); 7 Dec 2010 22:32:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99741 invoked by uid 500); 7 Dec 2010 22:32:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99733 invoked by uid 99); 7 Dec 2010 22:32:20 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Dec 2010 22:32:19 +0000
X-ASF-Spam-Status: No, hits=2.8 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of erickerickson@gmail.com designates 209.85.216.48 as permitted sender)
Received: from [209.85.216.48] (HELO mail-qw0-f48.google.com) (209.85.216.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Dec 2010 22:32:13 +0000
Received: by qwh6 with SMTP id 6so442540qwh.35
        for <java-user@lucene.apache.org>; Tue, 07 Dec 2010 14:31:52 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=R6a6nsx5W0eBntLSWBYsc1QZBHM9YEbix4qCh/J7Ia0=;
        b=BMz2yjw9tQVrSv0WEE2qZl1EMWkh3q3IvBE5rMjZ8bg3wADNKDNtzEbiFhgl5A3jGN
         faUUwOGfkuglPp7xEWivpU/x02bXu2R9k7SNhEHyjOSDy3l7VjHhZUXWKCY8WBnStQLO
         spu6UJuQ59/Jrk2Z/hKeYQ357p0PiPXsx7a30=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=fr/d5X4ieqqKUPyy5952xUJErux/JVBZdBSVFYluRJG+7/pzebj3lgq6ipb9FPS6VR
         1BejAMXmwfsMB/lEYuA2l8TUkSj2eVX2NgjpLCtU3v9ZNKYxE1RALVrh76H1HHzmxH+c
         /U9zRYnMA8N9+53MZMToLhsByf36iuCj0NOYU=
MIME-Version: 1.0
Received: by 10.229.230.80 with SMTP id jl16mr4344296qcb.114.1291761112136;
 Tue, 07 Dec 2010 14:31:52 -0800 (PST)
Received: by 10.229.235.208 with HTTP; Tue, 7 Dec 2010 14:31:52 -0800 (PST)
In-Reply-To: <1291757070739-2036296.post@n3.nabble.com>
References: <1291757070739-2036296.post@n3.nabble.com>
Date: Tue, 7 Dec 2010 17:31:52 -0500
Message-ID: <AANLkTimMKg5JO4otrwRWuHAhfGV01nmnFJBVRMfK_Xjr@mail.gmail.com>
Subject: Re: java.lang.NoClassDefFoundError:org/apache/lucene/search/similar/MoreLikeThis
From: Erick Erickson <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016364ecfa4393b0a0496d99247
X-Virus-Checked: Checked by ClamAV on apache.org

--0016364ecfa4393b0a0496d99247
Content-Type: text/plain; charset=windows-1252
Content-Transfer-Encoding: quoted-printable

It sounds like the jar containing the MoreLikeThis class in a place that
your servlet
can find it. It's in contrib, something like lucene-queries<version>.jar

Best
Erick

On Tue, Dec 7, 2010 at 4:24 PM, starz10de <farag_ahmed@yahoo.com> wrote:

>
>
>
> Hi All,
>
> I am using MoreLikeThis class in lucene to find more similar documents in
> the index to the giving one. It works fine when I run it directly from
> Eclipse but when I call it from my servlet I have this error:
>
>
> =93java.lang.NoClassDefFoundError:org/apache/lucene/search/similar/MoreLi=
keThis=93
>
> Any idea why this error occurred?
>
> Thanks
>
> --
> View this message in context:
> http://lucene.472066.n3.nabble.com/java-lang-NoClassDefFoundError-org-apa=
che-lucene-search-similar-MoreLikeThis-tp2036296p2036296.html
> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--0016364ecfa4393b0a0496d99247--

From java-user-return-48053-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Dec 07 22:35:56 2010
Return-Path: <java-user-return-48053-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 43590 invoked from network); 7 Dec 2010 22:35:56 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 7 Dec 2010 22:35:56 -0000
Received: (qmail 5371 invoked by uid 500); 7 Dec 2010 22:35:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5176 invoked by uid 500); 7 Dec 2010 22:35:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5168 invoked by uid 99); 7 Dec 2010 22:35:54 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Dec 2010 22:35:54 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of eugene.kovnatsky@dexone.com designates 199.184.176.138 as permitted sender)
Received: from [199.184.176.138] (HELO hmg.dexone.com) (199.184.176.138)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 07 Dec 2010 22:35:45 +0000
Received: from ([144.163.32.173])
	by hmg.dexone.com with ESMTP  id 7845ZK1.9418553;
	Tue, 07 Dec 2010 15:35:21 -0700
Received: from DCPEVS02.rhdroot.com ([144.163.94.83]) by rhddenowa01.rhdroot.com with Microsoft SMTPSVC(6.0.3790.4675);
	 Tue, 7 Dec 2010 15:35:10 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01CB965F.011711C7"
Subject: CityGrid's Lucene Presentation at LAJUG
Date: Tue, 7 Dec 2010 15:35:09 -0700
Message-ID: <26048344E51BEE42B8421C5DA5A73CDDB44ED0@DCPEVS02.rhdroot.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: CityGrid's Lucene Presentation at LAJUG
Thread-Index: AcuWXwDtBOwsLswVRD+k/wrxO5lbIw==
From: "Kovnatsky, Eugene" <Eugene.Kovnatsky@dexone.com>
To: <java-user@lucene.apache.org>
X-OriginalArrivalTime: 07 Dec 2010 22:35:10.0036 (UTC) FILETIME=[016FE140:01CB965F]

------_=_NextPart_001_01CB965F.011711C7
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi everyone,=20
=20
Do you know where I can find CityGrid's presentation that they did on
Sep 14 at LAJUG? It's called "Real time index updates in Lucene".
=20
Thanks,
=20
Eugene.

------_=_NextPart_001_01CB965F.011711C7--

From java-user-return-48054-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 08 00:27:29 2010
Return-Path: <java-user-return-48054-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 96036 invoked from network); 8 Dec 2010 00:27:28 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 8 Dec 2010 00:27:28 -0000
Received: (qmail 23600 invoked by uid 500); 8 Dec 2010 00:27:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 23559 invoked by uid 500); 8 Dec 2010 00:27:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 23551 invoked by uid 99); 8 Dec 2010 00:27:26 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Dec 2010 00:27:26 +0000
X-ASF-Spam-Status: No, hits=3.0 required=10.0
	tests=FORGED_YAHOO_RCVD,FREEMAIL_FROM,RFC_ABUSE_POST,SPF_HELO_PASS,SPF_NEUTRAL,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [216.139.236.158] (HELO kuber.nabble.com) (216.139.236.158)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Dec 2010 00:27:19 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by kuber.nabble.com with esmtp (Exim 4.63)
	(envelope-from <farag_ahmed@yahoo.com>)
	id 1PQ7s2-00084G-QQ
	for java-user@lucene.apache.org; Tue, 07 Dec 2010 16:26:58 -0800
Date: Tue, 7 Dec 2010 16:26:58 -0800 (PST)
From: starz10de <farag_ahmed@yahoo.com>
To: java-user@lucene.apache.org
Message-ID: <1291768018812-2037181.post@n3.nabble.com>
In-Reply-To: <AANLkTimMKg5JO4otrwRWuHAhfGV01nmnFJBVRMfK_Xjr@mail.gmail.com>
References: <1291757070739-2036296.post@n3.nabble.com> <AANLkTimMKg5JO4otrwRWuHAhfGV01nmnFJBVRMfK_Xjr@mail.gmail.com>
Subject: Re:
 java.lang.NoClassDefFoundError:org/apache/lucene/search/similar/MoreLikeThis
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org


Dear Erick ,

thanks a lot, I placed the jar file in WEB-INF\lib and it works.

best

-- 
View this message in context: http://lucene.472066.n3.nabble.com/java-lang-NoClassDefFoundError-org-apache-lucene-search-similar-MoreLikeThis-tp2036296p2037181.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48055-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 08 06:07:25 2010
Return-Path: <java-user-return-48055-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 41435 invoked from network); 8 Dec 2010 06:07:25 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 8 Dec 2010 06:07:25 -0000
Received: (qmail 71306 invoked by uid 500); 8 Dec 2010 06:07:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71039 invoked by uid 500); 8 Dec 2010 06:07:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 71025 invoked by uid 99); 8 Dec 2010 06:07:21 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Dec 2010 06:07:21 +0000
X-ASF-Spam-Status: No, hits=-1.6 required=10.0
	tests=RCVD_IN_DNSWL_MED,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [64.18.3.96] (HELO exprod8og108.obsmtp.com) (64.18.3.96)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 08 Dec 2010 06:07:13 +0000
Received: from source ([216.109.100.75]) by exprod8ob108.postini.com ([64.18.7.12]) with SMTP
	ID DSNKTP8ge/P4Ir+oaYGcM/R26riFxwWz2vUz@postini.com; Tue, 07 Dec 2010 22:06:53 PST
Received: from us-pghmail3.ariba.com ([10.32.16.10]) by outboundpghmail.ariba.com with Microsoft SMTPSVC(6.0.3790.1830);
	 Wed, 8 Dec 2010 01:06:59 -0500
Received: from in-blrmail2.ariba.com ([10.57.16.56]) by us-pghmail3.ariba.com with Microsoft SMTPSVC(6.0.3790.3959);
	 Wed, 8 Dec 2010 01:02:28 -0500
Received: from [10.57.36.104] ([10.57.36.104]) by in-blrmail2.ariba.com with Microsoft SMTPSVC(6.0.3790.4675);
	 Wed, 8 Dec 2010 11:32:24 +0530
Message-ID: <4CFF1F64.9030200@ariba.com>
Date: Wed, 08 Dec 2010 11:32:12 +0530
From: Vinaya Kumar Thimmappa <vthimmappa@ariba.com>
Reply-To: vthimmappa@ariba.com
Organization: Ariba 
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.2.12) Gecko/20101027 Lightning/1.0b2 Thunderbird/3.1.6
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Ui Framework for lucene
References: <1291757070739-2036296.post@n3.nabble.com>
In-Reply-To: <1291757070739-2036296.post@n3.nabble.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 08 Dec 2010 06:02:24.0930 (UTC) FILETIME=[7C47C020:01CB969D]

Hello All,

is there any ui framework that exists for lucene framework.

i am  not looking for luke kind of tool.
But more like application ready to use.
"Add a config file and ui is ready to use for adding data and also 
search data".

Thanks and Regards
Vinaya


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48056-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 08 06:37:08 2010
Return-Path: <java-user-return-48056-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 53720 invoked from network); 8 Dec 2010 06:37:07 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 8 Dec 2010 06:37:07 -0000
Received: (qmail 95982 invoked by uid 500); 8 Dec 2010 06:37:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 95726 invoked by uid 500); 8 Dec 2010 06:37:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 95718 invoked by uid 99); 8 Dec 2010 06:37:04 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Dec 2010 06:37:04 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of chris.lu@gmail.com designates 74.125.83.176 as permitted sender)
Received: from [74.125.83.176] (HELO mail-pv0-f176.google.com) (74.125.83.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Dec 2010 06:36:56 +0000
Received: by pvb32 with SMTP id 32so233352pvb.35
        for <java-user@lucene.apache.org>; Tue, 07 Dec 2010 22:36:35 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:received:message-id:date:from
         :user-agent:mime-version:to:subject:references:in-reply-to
         :content-type:content-transfer-encoding;
        bh=w5QENK4bKrHh+ViGwPrBI+IRvsf4CqXx60BYL5c4iCA=;
        b=w++ZXCdvAzER97a0dYrYc0xYikykHfCZobAoHhMsT6WjrySbklsol5ONHXMsFVRnUD
         HGuyNl0jtEDHqgrLIwgJyRZL2es15PUgkL9EMwLokoE2rKTvO/Tz2AvAW/qz5nzBVvIt
         JddW6WTW6aPMRko0tbZ5lsXUw7kUGN9gBsyus=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=message-id:date:from:user-agent:mime-version:to:subject:references
         :in-reply-to:content-type:content-transfer-encoding;
        b=T9OJh2eHNF2ms1mEmzL/85su5x16laZVZDWYogqXDlpWefNmwg5dx7LM2kllE35eKK
         VdYDcSfnHVc03xxawDKvORLR8g4byFg1OJju1DYfqW30bcyjxoVxOVFOvYANGXTsfTup
         q2pMHf7PNTEsgJocbJqbls4tM/jueQuuOdGOo=
Received: by 10.142.148.18 with SMTP id v18mr2031336wfd.209.1291790194846;
        Tue, 07 Dec 2010 22:36:34 -0800 (PST)
Received: from [192.168.1.76] (99-99-38-182.lightspeed.sntcca.sbcglobal.net [99.99.38.182])
        by mx.google.com with ESMTPS id p8sm369292wff.4.2010.12.07.22.36.32
        (version=SSLv3 cipher=RC4-MD5);
        Tue, 07 Dec 2010 22:36:33 -0800 (PST)
Message-ID: <4CFF276E.8000907@gmail.com>
Date: Tue, 07 Dec 2010 22:36:30 -0800
From: Chris Lu <chris.lu@gmail.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.9.2.12) Gecko/20101027 Lightning/1.0b2 Thunderbird/3.1.6
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Ui Framework for lucene
References: <1291757070739-2036296.post@n3.nabble.com> <4CFF1F64.9030200@ariba.com>
In-Reply-To: <4CFF1F64.9030200@ariba.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

You can use DBSight for database search. You just need to give it one or several SQLs. And you can generate search result template, and it will manage the index for you.

http://www.dbsight.net

-- 
--
Chris Lu
-------------------------
Instant Scalable Full-Text Search On Any Database/Application
site: http://www.dbsight.net
demo: http://search.dbsight.com


On 12/7/2010 10:02 PM, Vinaya Kumar Thimmappa wrote:
> Hello All,
>
> is there any ui framework that exists for lucene framework.
>
> i am  not looking for luke kind of tool.
> But more like application ready to use.
> "Add a config file and ui is ready to use for adding data and also 
> search data".
>
> Thanks and Regards
> Vinaya
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48057-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 08 07:07:52 2010
Return-Path: <java-user-return-48057-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68834 invoked from network); 8 Dec 2010 07:07:51 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 8 Dec 2010 07:07:51 -0000
Received: (qmail 27920 invoked by uid 500); 8 Dec 2010 07:07:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 27659 invoked by uid 500); 8 Dec 2010 07:07:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 27627 invoked by uid 99); 8 Dec 2010 07:07:48 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Dec 2010 07:07:48 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of alexander.aristov@gmail.com designates 209.85.212.181 as permitted sender)
Received: from [209.85.212.181] (HELO mail-px0-f181.google.com) (209.85.212.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Dec 2010 07:07:43 +0000
Received: by pxi2 with SMTP id 2so225964pxi.12
        for <java-user@lucene.apache.org>; Tue, 07 Dec 2010 23:07:23 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:in-reply-to
         :references:from:date:message-id:subject:to:content-type;
        bh=J6ITf92PyqMLgOxspJ3JTowqYPVFoqalC6p7GglMNKg=;
        b=xcbmltlr+r+Tzoks8Uhr/9uWIOqu9AsGMeauJDZTQ1D6x2lVDHu3mxPzSjoFgYF/nX
         8jCImVKq7zrzL00JCs1fpkWP3/lGmtH34jE3Y1m1FY7BEkBHy+Mm2bIsjOL/cSkbMmXc
         N5r8unY5AS6m2Dg8BA9GWErl5Mg6eW67TfCT4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=n/f5MOhMWNlryc92TcMU3XkNM00YS8/GOPsl3XP00KaeKDs5uJkikwhnxaJ0Vhi7IR
         6T7l09W1WaX59SFaX2G7iZ942bQ7Dnk/4ULZFfeqfMCwhDGfoAG3rxs85zj8hamuKPFe
         hF5BEHGnsYsWim93RdONWsK3PCHF7qN1ND720=
Received: by 10.142.163.20 with SMTP id l20mr2062505wfe.265.1291792043506;
 Tue, 07 Dec 2010 23:07:23 -0800 (PST)
MIME-Version: 1.0
Received: by 10.142.162.4 with HTTP; Tue, 7 Dec 2010 23:07:03 -0800 (PST)
In-Reply-To: <4CFF276E.8000907@gmail.com>
References: <1291757070739-2036296.post@n3.nabble.com> <4CFF1F64.9030200@ariba.com>
 <4CFF276E.8000907@gmail.com>
From: Alexander Aristov <alexander.aristov@gmail.com>
Date: Wed, 8 Dec 2010 10:07:03 +0300
Message-ID: <AANLkTikcaES=YQnii7xtRyqQLaJvHZGwq=Lbs7f2BM_b@mail.gmail.com>
Subject: Re: Ui Framework for lucene
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=000e0cd2dc0ae07c210496e0c588

--000e0cd2dc0ae07c210496e0c588
Content-Type: text/plain; charset=ISO-8859-1

Did you see solr? It's a web app.

Best Regards
Alexander Aristov


On 8 December 2010 09:36, Chris Lu <chris.lu@gmail.com> wrote:

> You can use DBSight for database search. You just need to give it one or
> several SQLs. And you can generate search result template, and it will
> manage the index for you.
>
> http://www.dbsight.net
>
> --
> --
> Chris Lu
> -------------------------
> Instant Scalable Full-Text Search On Any Database/Application
> site: http://www.dbsight.net
> demo: http://search.dbsight.com
>
>
>
> On 12/7/2010 10:02 PM, Vinaya Kumar Thimmappa wrote:
>
>> Hello All,
>>
>> is there any ui framework that exists for lucene framework.
>>
>> i am  not looking for luke kind of tool.
>> But more like application ready to use.
>> "Add a config file and ui is ready to use for adding data and also search
>> data".
>>
>> Thanks and Regards
>> Vinaya
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--000e0cd2dc0ae07c210496e0c588--

From java-user-return-48058-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 08 13:20:08 2010
Return-Path: <java-user-return-48058-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45482 invoked from network); 8 Dec 2010 13:20:07 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 8 Dec 2010 13:20:07 -0000
Received: (qmail 77661 invoked by uid 500); 8 Dec 2010 13:20:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 77467 invoked by uid 500); 8 Dec 2010 13:20:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 23981 invoked by uid 99); 8 Dec 2010 05:06:42 -0000
X-ASF-Spam-Status: No, hits=-2.8 required=10.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_HI,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of rarao2@cisco.com designates 171.71.176.117 as permitted sender)
Authentication-Results: sj-iport-6.cisco.com; dkim=neutral (message not signed) header.i=none
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: Av0EAEOh/kxAaMHG/2dsb2JhbACCBqFEcaUzmzWCFIM1BIRgiSo
X-IronPort-AV: E=Sophos;i="4.59,314,1288569600"; 
   d="scan'208,217";a="632516528"
X-MimeOLE: Produced By Microsoft Exchange V6.5
X-CR-Hashedpuzzle: BxJk CS6D DxB4 HPqx J4nK LY6Z MB9o MmD/ OMX6 PL6Q RJSx R2Au UWG9 WWeh Wz7L YYxQ;2;agBhAHYAYQAtAHUAcwBlAHIAQABsAHUAYwBlAG4AZQAuAGEAcABhAGMAaABlAC4AbwByAGcAOwBsAHUAYwBlAG4AZQAtAG4AZQB0AC0AdQBzAGUAcgBAAGwAdQBjAGUAbgBlAC4AYQBwAGEAYwBoAGUALgBvAHIAZwA=;Sosha1_v1;7;{322E9D95-D97A-4DE0-9497-96A813112770};cgBhAHIAYQBvADIAQABjAGkAcwBjAG8ALgBjAG8AbQA=;Wed, 08 Dec 2010 05:06:00 GMT;UAByAG8AYgBsAGUAbQAgAHcAaQB0AGgAIAAiAEIAbwBvAGwAZQBhAG4AUQB1AGUAcgB5AC4AVABvAG8ATQBhAG4AeQBDAGwAYQB1AHMAZQBzACIA
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01CB9695.9E615E59"
X-CR-Puzzleid: {322E9D95-D97A-4DE0-9497-96A813112770}
Content-class: urn:content-classes:message
Subject:  Problem with "BooleanQuery.TooManyClauses"
Date: Wed, 8 Dec 2010 10:36:00 +0530
Message-ID: <F790D9474379664BB03E53DA89E9218F026C6C5E@XMB-BGL-41A.cisco.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic:  Problem with "BooleanQuery.TooManyClauses"
Thread-Index: AcuWlZrqyNB9f8QhSdulc5T3DSCoMg==
From: "Raghavendra D.V Rao (rarao2)" <rarao2@cisco.com>
To: <java-user@lucene.apache.org>, <lucene-net-user@lucene.apache.org>
Cc: "Preetham Kajekar (preetham)" <preetham@cisco.com>
X-OriginalArrivalTime: 08 Dec 2010 05:06:06.0448 (UTC) FILETIME=[9E8C4F00:01CB9695]

------_=_NextPart_001_01CB9695.9E615E59
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi All,

=20

We have a requirement where in we need to construct a BooleanQuery, with
the TermQueries, whose count is large , but that it is somewhat fixed
number.  It could be around a 5000 or 6000.

=20

At present we are hitting the BooleanQuery.TooManyClauses exception, as
the  default count of max caluse is 1024.

=20

I just wanted to know if there are any performance related impact
because of setting this to some high value, using
BooleanQuery.setMaxClauseCount();

=20

Please help.

=20

Details.

Lucene Version =3D 2.4.0

=20

=20

=20

=20

Regards,

Raghav

=20


------_=_NextPart_001_01CB9695.9E615E59--

From java-user-return-48059-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 08 13:20:24 2010
Return-Path: <java-user-return-48059-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45561 invoked from network); 8 Dec 2010 13:20:24 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 8 Dec 2010 13:20:24 -0000
Received: (qmail 79465 invoked by uid 500); 8 Dec 2010 13:20:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 79433 invoked by uid 500); 8 Dec 2010 13:20:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 38563 invoked by uid 99); 8 Dec 2010 05:32:14 -0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
From: Ranjit Kumar <Ranjit.Kumar@otssolutions.com>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Subject: FW: Re: lucene3.0.2: getting incorrect no. of occurrence in file
Thread-Topic: Re: lucene3.0.2: getting incorrect no. of occurrence in file
Thread-Index: AcuWC9ijs6ogWJXFRaKiYpzuM8to0AAjZPTQ
Date: Wed, 8 Dec 2010 05:33:46 +0000
Message-ID: <AD21521D44870544AC66F4FDFC0A474C0FC8B79B@MAIL.otssolutions.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-cr-hashedpuzzle: n6w= B0q/ CMFw DDfA DU0u Do/1 Fqbw Fs0D FzXh F99Q Gx+c
 HS+4 HYNI IKi9 IjvX
 Ju2L;1;agBhAHYAYQAtAHUAcwBlAHIAQABsAHUAYwBlAG4AZQAuAGEAcABhAGMAaABlAC4AbwByAGcA;Sosha1_v1;7;{3681776F-DFD3-41C2-A40B-2A07C2EFDF50};cgBhAG4AagBpAHQALgBrAHUAbQBhAHIAQABvAHQAcwBzAG8AbAB1AHQAaQBvAG4AcwAuAGMAbwBtAA==;Wed,
 08 Dec 2010 05:33:46
 GMT;RgBXADoAIABSAGUAOgAgAGwAdQBjAGUAbgBlADMALgAwAC4AMgA6ACAAZwBlAHQAdABpAG4AZwAgAGkAbgBjAG8AcgByAGUAYwB0ACAAbgBvAC4AIABvAGYAIABvAGMAYwB1AHIAcgBlAG4AYwBlACAAaQBuACAAZgBpAGwAZQA=
x-cr-puzzleid: {3681776F-DFD3-41C2-A40B-2A07C2EFDF50}
Content-Type: multipart/alternative;
	boundary="_000_AD21521D44870544AC66F4FDFC0A474C0FC8B79BMAILotssolution_"
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

--_000_AD21521D44870544AC66F4FDFC0A474C0FC8B79BMAILotssolution_
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi,
                Thanks for your replay!!!
                                Below is code I am using for search
                                                String line=3D"sql server";
IndexReader reader =3D IndexReader.open(FSDirectory.open(new File(indexpath=
)), true);   // contains index file path
                Searcher searcher =3D new IndexSearcher(reader);
                Analyzer analyzer =3D new StandardAnalyzer(Version.LUCENE_C=
URRENT);
QueryParser parser =3D new QueryParser(Version.LUCENE_CURRENT, field, analy=
zer);
if (line !=3D null) {
                line =3D line.trim();
                Query query =3D parser.parse(line);
                int n =3D 100;
                TopDocs docs =3D searcher.search(query, n);
                TermDocs termDocs =3D reader.termDocs(new Term(field, line.=
 toLowerCase()));
                System.out.println("   " + docs.totalHits + " total matchin=
g documents\n");
                for (int i =3D 0; i < docs.scoreDocs.length; i++) {
                    int totalFreq =3D 0;
                    Document document =3D reader.document(docs.scoreDocs[i]=
.doc);
                    termDocs.skipTo(i);
                    String path =3D document.get("path");
                    System.out.println("path>>" + path);
                    totalFreq =3D termDocs.freq();
   System.out.println("totalFreq >>" + totalFreq);
                    }

                }


Thanks & Regards,
Ranjit Kumar
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D Pr=
ivate, Confidential and Privileged. This e-mail and any files and attachmen=
ts transmitted with it are confidential and/or privileged. They are intende=
d solely for the use of the intended recipient. The content of this e-mail =
and any file or attachment transmitted with it may have been changed or alt=
ered without the consent of the author. If you are not the intended recipie=
nt, please note that any review, dissemination, disclosure, alteration, pri=
nting, circulation or Transmission of this e-mail and/or any file or attach=
ment transmitted with it, is prohibited and may be unlawful. If you have re=
ceived this e-mail or any file or attachment transmitted with it in error p=
lease notify OTS Solutions at info@otssolutions.com =3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D

--_000_AD21521D44870544AC66F4FDFC0A474C0FC8B79BMAILotssolution_--

From java-user-return-48060-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 08 13:20:45 2010
Return-Path: <java-user-return-48060-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45813 invoked from network); 8 Dec 2010 13:20:44 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 8 Dec 2010 13:20:44 -0000
Received: (qmail 83192 invoked by uid 500); 8 Dec 2010 13:20:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83158 invoked by uid 500); 8 Dec 2010 13:20:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 24414 invoked by uid 99); 8 Dec 2010 07:06:48 -0000
X-ASF-Spam-Status: No, hits=-2.8 required=10.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_HI,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of rarao2@cisco.com designates 144.254.224.141 as permitted sender)
Authentication-Results: ams-iport-2.cisco.com; dkim=neutral (message not signed) header.i=none
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: AhgFAGK9/kyQ/khLgWdsb2JhbACCBqFFFgEWIiKlO5sgghSDNQSEYIkr
X-IronPort-AV: E=Sophos;i="4.59,315,1288569600"; 
   d="scan'208,217";a="14842872"
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01CB96A6.58FE2300"
Subject: RE:  Problem with "BooleanQuery.TooManyClauses"
Date: Wed, 8 Dec 2010 12:35:50 +0530
Message-ID: <F790D9474379664BB03E53DA89E9218F026C6CDC@XMB-BGL-41A.cisco.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic:  Problem with "BooleanQuery.TooManyClauses"
Thread-Index: AcuWlZrqyNB9f8QhSdulc5T3DSCoMgAEDGKQ
From: "Raghavendra D.V Rao (rarao2)" <rarao2@cisco.com>
To: "Raghavendra D.V Rao (rarao2)" <rarao2@cisco.com>,
        <java-user@lucene.apache.org>, <lucene-net-user@lucene.apache.org>
Cc: "Preetham Kajekar (preetham)" <preetham@cisco.com>
X-OriginalArrivalTime: 08 Dec 2010 07:05:51.0539 (UTC) FILETIME=[59323030:01CB96A6]

------_=_NextPart_001_01CB96A6.58FE2300
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Update on my previous query.

=20

In our application environment, our queries will typically contain
200-300 clauses. The chances of  clauses becoming 5000  is less.

=20

Hence we are interested in knowing the actual impact of setting the
setMaxClauseCount () to high value on the normal queries, containing
less number of clauses.

=20

Regards,

Raghav

=20

From: Raghavendra D.V Rao (rarao2)=20
Sent: Wednesday, December 08, 2010 10:36 AM
To: 'java-user@lucene.apache.org'; 'lucene-net-user@lucene.apache.org'
Cc: Preetham Kajekar (preetham)
Subject: Problem with "BooleanQuery.TooManyClauses"

=20

Hi All,

=20

We have a requirement where in we need to construct a BooleanQuery, with
the TermQueries, whose count is large , but that it is somewhat fixed
number.  It could be around a 5000 or 6000.

=20

At present we are hitting the BooleanQuery.TooManyClauses exception, as
the  default count of max caluse is 1024.

=20

I just wanted to know if there are any performance related impact
because of setting this to some high value, using
BooleanQuery.setMaxClauseCount();

=20

Please help.

=20

Details.

Lucene Version =3D 2.4.0

=20

=20

=20

=20

Regards,

Raghav

=20


------_=_NextPart_001_01CB96A6.58FE2300--

From java-user-return-48061-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 08 13:41:12 2010
Return-Path: <java-user-return-48061-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 52474 invoked from network); 8 Dec 2010 13:41:12 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 8 Dec 2010 13:41:12 -0000
Received: (qmail 21058 invoked by uid 500); 8 Dec 2010 13:41:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 20768 invoked by uid 500); 8 Dec 2010 13:41:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 20755 invoked by uid 99); 8 Dec 2010 13:41:09 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Dec 2010 13:41:09 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ian.lea@gmail.com designates 209.85.214.51 as permitted sender)
Received: from [209.85.214.51] (HELO mail-bw0-f51.google.com) (209.85.214.51)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Dec 2010 13:41:02 +0000
Received: by bwz8 with SMTP id 8so1371882bwz.24
        for <java-user@lucene.apache.org>; Wed, 08 Dec 2010 05:40:42 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:in-reply-to
         :references:from:date:message-id:subject:to:content-type
         :content-transfer-encoding;
        bh=Vr0vavPozqjNLkGZN6zEL59cPOHcn32HHHXMQcqJgJo=;
        b=l1YzMl0U53rg4i4/83foGyxqoypoum2oC13IM7Vkyp/kpxLYKOvKs1gVLvyGNZ82Yr
         iUeHSQvrQvvpb5zOlljpV0AOpJQ6a+OxbVr7T3auUOIXSWF7RNxUb5pDh/V1PPEqWeCs
         LNJaYct+X0al+aw8djY2qFsvfI6wYqUTtia7M=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        b=vgAuUXktAndoZKKm8DODWGsXSi3n63sunyGkCi01+sZHCu2jYhiBBXq6WXiz4hyjvu
         nO4wkgYVpLEzo46GEm9lW4K/Bv7zXUwQ6X4dGCp/ieV4pVHLKjQnspgUMRKqgN+swNrj
         F+hwUSJ3MuZV55dWXQb9Z2QNsQDhU/1Vs18Ek=
Received: by 10.204.47.87 with SMTP id m23mr1788096bkf.133.1291815642449; Wed,
 08 Dec 2010 05:40:42 -0800 (PST)
MIME-Version: 1.0
Received: by 10.204.116.212 with HTTP; Wed, 8 Dec 2010 05:40:22 -0800 (PST)
In-Reply-To: <F790D9474379664BB03E53DA89E9218F026C6CDC@XMB-BGL-41A.cisco.com>
References: <F790D9474379664BB03E53DA89E9218F026C6CDC@XMB-BGL-41A.cisco.com>
From: Ian Lea <ian.lea@gmail.com>
Date: Wed, 8 Dec 2010 13:40:22 +0000
Message-ID: <AANLkTik6SprZqZKB5tTH0T6x7q4KYjpEFXo7JyUD7rN=@mail.gmail.com>
Subject: Re: Problem with "BooleanQuery.TooManyClauses"
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

Setting it to a high value shouldn't have any noticeable effect on the
normal queries.  And since your high values aren't very high I'd
expect them to be fine too.  Try it and see.

btw 2.4.0 is ancient.


--
Ian.


On Wed, Dec 8, 2010 at 7:05 AM, Raghavendra D.V Rao (rarao2)
<rarao2@cisco.com> wrote:
> Update on my previous query.
>
>
>
> In our application environment, our queries will typically contain
> 200-300 clauses. The chances of =A0clauses becoming 5000 =A0is less.
>
>
>
> Hence we are interested in knowing the actual impact of setting the
> setMaxClauseCount () to high value on the normal queries, containing
> less number of clauses.
>
>
>
> Regards,
>
> Raghav
>
>
>
> From: Raghavendra D.V Rao (rarao2)
> Sent: Wednesday, December 08, 2010 10:36 AM
> To: 'java-user@lucene.apache.org'; 'lucene-net-user@lucene.apache.org'
> Cc: Preetham Kajekar (preetham)
> Subject: Problem with "BooleanQuery.TooManyClauses"
>
>
>
> Hi All,
>
>
>
> We have a requirement where in we need to construct a BooleanQuery, with
> the TermQueries, whose count is large , but that it is somewhat fixed
> number. =A0It could be around a 5000 or 6000.
>
>
>
> At present we are hitting the BooleanQuery.TooManyClauses exception, as
> the =A0default count of max caluse is 1024.
>
>
>
> I just wanted to know if there are any performance related impact
> because of setting this to some high value, using
> BooleanQuery.setMaxClauseCount();
>
>
>
> Please help.
>
>
>
> Details.
>
> Lucene Version =3D 2.4.0
>
>
>
>
>
>
>
>
>
> Regards,
>
> Raghav
>
>
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48062-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 08 13:44:00 2010
Return-Path: <java-user-return-48062-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 54821 invoked from network); 8 Dec 2010 13:43:59 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 8 Dec 2010 13:43:59 -0000
Received: (qmail 29302 invoked by uid 500); 8 Dec 2010 13:43:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 29038 invoked by uid 500); 8 Dec 2010 13:43:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 29030 invoked by uid 99); 8 Dec 2010 13:43:57 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Dec 2010 13:43:57 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of erickerickson@gmail.com designates 209.85.212.48 as permitted sender)
Received: from [209.85.212.48] (HELO mail-vw0-f48.google.com) (209.85.212.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Dec 2010 13:43:49 +0000
Received: by vws18 with SMTP id 18so992836vws.35
        for <java-user@lucene.apache.org>; Wed, 08 Dec 2010 05:43:28 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=v8tYAGcfiD+lGF0UFdbCqlXTAcD1ndV4KW1GrBjkxBE=;
        b=QWUmIyjE4UGF/VWacWZ0feI+8JZIkJkf1zHGonoR6kHG8DxfyUDt43sHDxvx5FdQt8
         rHCjjQsC1rN0xdyUI6yN00n1E7JM8dqIIkq3Ndgri5UeLYfti5/hFdyQbaRw/sbV7Tuw
         3evYNzEyp8W9po+s9IDK0P1j3g6W6ifegUpDQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=DhdyHAor7KbGd60XJ61r7+NWg0tZXlNt6oXWUA22HJQ0oMN4zs0ZFSQRMKyKUX97kE
         5EO2WQPgAU9wgx6J/eMNZz/ZEQY8v2t1SuUNcC+P5ng8/BnNOulDJ2IRc6Qt9aJ4vXPd
         YXDA0oyOVb62FEWZ5iTh075MhSRQMZDEJ3EgU=
MIME-Version: 1.0
Received: by 10.229.220.81 with SMTP id hx17mr7629990qcb.38.1291815808326;
 Wed, 08 Dec 2010 05:43:28 -0800 (PST)
Received: by 10.229.235.208 with HTTP; Wed, 8 Dec 2010 05:43:28 -0800 (PST)
In-Reply-To: <AD21521D44870544AC66F4FDFC0A474C0FC8B79B@MAIL.otssolutions.com>
References: <AD21521D44870544AC66F4FDFC0A474C0FC8B79B@MAIL.otssolutions.com>
Date: Wed, 8 Dec 2010 08:43:28 -0500
Message-ID: <AANLkTi=pLTHfG69jhikOXF_84FG9w2Aw79nNeyya1sPf@mail.gmail.com>
Subject: Re: FW: Re: lucene3.0.2: getting incorrect no. of occurrence in file
From: Erick Erickson <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=00163630eb235edc2f0496e64ecc
X-Virus-Checked: Checked by ClamAV on apache.org

--00163630eb235edc2f0496e64ecc
Content-Type: text/plain; charset=ISO-8859-1

I don't think this code is doing anything predictable. From the javadocs for
TermDocs.skipTo():
Skips entries to the first beyond the current whose document number is
greater than or equal to *target*.

Returns true iff there is such an entry.
You're not testing the return value from skipTo. The document IDs returned
in scoredocs aren't necessarily in ascending doc ID order so I'd guess
that skipTo is returning false a lot of the time and in that case you're
getting
the frequency of a doc that isn't in your result set.

Best
Erick


On Wed, Dec 8, 2010 at 12:33 AM, Ranjit Kumar <Ranjit.Kumar@otssolutions.com
> wrote:

> Hi,
>                Thanks for your replay!!!
>                                Below is code I am using for search
>                                                String line="sql server";
> IndexReader reader = IndexReader.open(FSDirectory.open(new
> File(indexpath)), true);   // contains index file path
>                Searcher searcher = new IndexSearcher(reader);
>                Analyzer analyzer = new
> StandardAnalyzer(Version.LUCENE_CURRENT);
> QueryParser parser = new QueryParser(Version.LUCENE_CURRENT, field,
> analyzer);
> if (line != null) {
>                line = line.trim();
>                Query query = parser.parse(line);
>                int n = 100;
>                TopDocs docs = searcher.search(query, n);
>                TermDocs termDocs = reader.termDocs(new Term(field, line.
> toLowerCase()));
>                System.out.println("   " + docs.totalHits + " total matching
> documents\n");
>                for (int i = 0; i < docs.scoreDocs.length; i++) {
>                    int totalFreq = 0;
>                    Document document =
> reader.document(docs.scoreDocs[i].doc);
>                    termDocs.skipTo(i);
>                    String path = document.get("path");
>                    System.out.println("path>>" + path);
>                    totalFreq = termDocs.freq();
>   System.out.println("totalFreq >>" + totalFreq);
>                    }
>
>                }
>
>
> Thanks & Regards,
> Ranjit Kumar
> ===================================================================================================
> Private, Confidential and Privileged. This e-mail and any files and
> attachments transmitted with it are confidential and/or privileged. They are
> intended solely for the use of the intended recipient. The content of this
> e-mail and any file or attachment transmitted with it may have been changed
> or altered without the consent of the author. If you are not the intended
> recipient, please note that any review, dissemination, disclosure,
> alteration, printing, circulation or Transmission of this e-mail and/or any
> file or attachment transmitted with it, is prohibited and may be unlawful.
> If you have received this e-mail or any file or attachment transmitted with
> it in error please notify OTS Solutions at info@otssolutions.com===================================================================================================
>

--00163630eb235edc2f0496e64ecc--

From java-user-return-48063-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 08 13:45:57 2010
Return-Path: <java-user-return-48063-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55495 invoked from network); 8 Dec 2010 13:45:57 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 8 Dec 2010 13:45:57 -0000
Received: (qmail 33512 invoked by uid 500); 8 Dec 2010 13:45:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 33335 invoked by uid 500); 8 Dec 2010 13:45:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 33327 invoked by uid 99); 8 Dec 2010 13:45:54 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Dec 2010 13:45:54 +0000
X-ASF-Spam-Status: No, hits=2.1 required=10.0
	tests=FREEMAIL_FROM,FREEMAIL_REPLYTO,RCVD_IN_DNSWL_LOW,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of simon.willnauer@googlemail.com designates 209.85.216.48 as permitted sender)
Received: from [209.85.216.48] (HELO mail-qw0-f48.google.com) (209.85.216.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Dec 2010 13:45:49 +0000
Received: by qwh6 with SMTP id 6so1340573qwh.35
        for <java-user@lucene.apache.org>; Wed, 08 Dec 2010 05:45:29 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=googlemail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:reply-to
         :in-reply-to:references:date:message-id:subject:from:to:content-type
         :content-transfer-encoding;
        bh=YvYm/9fQe8CXaJ+l8y4hy2kyUpCC+GFKwu6UODqUjFE=;
        b=CTjs/GKw1IaHUPfUA/PXGbZALPeWS1bETxYMQ8zn2O022ocn3YP+iIP6ZgsdpCrmxv
         D5BojEIqcEdkNEVQhr08cnYu2AOqqnqde9i8FV5o9O7Sw4V8UUGI8wq6CU6WMbzehnNg
         6kOAe72iKjZu5ozi0IjHdzLxpLj0B+NZ1DM3s=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=googlemail.com; s=gamma;
        h=mime-version:reply-to:in-reply-to:references:date:message-id
         :subject:from:to:content-type:content-transfer-encoding;
        b=n5h01VQU4R/a6wesm8swQ0m6GUgFGtklTMSRycXYdg3WkSNhJlYROuCnE9TmkhDYmq
         d6MZp6wHjDGHfj2xoyMniCYrNV2xacsji6M6iGQWm0bZTTY1RpYu2sFyX2h5Kk1VzFyf
         ZF5MnBqTPsKC/P8BlQ+3n9Ap6b/xFkaYzNy8I=
MIME-Version: 1.0
Received: by 10.229.241.78 with SMTP id ld14mr6805517qcb.288.1291815928622;
 Wed, 08 Dec 2010 05:45:28 -0800 (PST)
Received: by 10.229.96.139 with HTTP; Wed, 8 Dec 2010 05:45:28 -0800 (PST)
Reply-To: simon.willnauer@gmail.com
In-Reply-To: <AD21521D44870544AC66F4FDFC0A474C0FC8B79B@MAIL.otssolutions.com>
References: <AD21521D44870544AC66F4FDFC0A474C0FC8B79B@MAIL.otssolutions.com>
Date: Wed, 8 Dec 2010 14:45:28 +0100
Message-ID: <AANLkTim4YTHDVRB9VY-maAuz7vUD-sh2Ay=+p4DOZkC8@mail.gmail.com>
Subject: Re: FW: Re: lucene3.0.2: getting incorrect no. of occurrence in file
From: Simon Willnauer <simon.willnauer@googlemail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Hey there,

so let me quickly explain what is going on here.
you search for: sql server  (without quotes) which QueryParser will
turn into a BooleanQuery like sql OR server since the StandardAnalyzer
you are using splits on whitespaces. That query will return all
document either containing sql or server. So far so good. If you want
to do a phrase search you should put the terms into quotes like that:
 String line =3D "\"sql server\"";

Next you are trying to get the term frequency for "sql server" as a
single term which does not exist in your index since you used
StandardAnalyzer during indexing which again splits your text on
white-spaces. This will likely return 0 all the time ey?

hope that helps

On Wed, Dec 8, 2010 at 6:33 AM, Ranjit Kumar
<Ranjit.Kumar@otssolutions.com> wrote:
> Hi,
> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Thanks for your re=
play!!!
> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Below is code I am using for search
> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0String line=3D"sql server";
> IndexReader reader =3D IndexReader.open(FSDirectory.open(new File(indexpa=
th)), true); =C2=A0 // contains index file path
> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Searcher searcher =
=3D new IndexSearcher(reader);
> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Analyzer analyzer =
=3D new StandardAnalyzer(Version.LUCENE_CURRENT);
> QueryParser parser =3D new QueryParser(Version.LUCENE_CURRENT, field, ana=
lyzer);
> if (line !=3D null) {
> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0line =3D line.trim=
();
> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Query query =3D pa=
rser.parse(line);
> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0int n =3D 100;
> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0TopDocs docs =3D s=
earcher.search(query, n);
> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0TermDocs termDocs =
=3D reader.termDocs(new Term(field, line. toLowerCase()));
> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0System.out.println=
(" =C2=A0 " + docs.totalHits + " total matching documents\n");
> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0for (int i =3D 0; =
i < docs.scoreDocs.length; i++) {
> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0int =
totalFreq =3D 0;
> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Docu=
ment document =3D reader.document(docs.scoreDocs[i].doc);
> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0term=
Docs.skipTo(i);
> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Stri=
ng path =3D document.get("path");
> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Syst=
em.out.println("path>>" + path);
> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0tota=
lFreq =3D termDocs.freq();
> =C2=A0 System.out.println("totalFreq >>" + totalFreq);
> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0}
>
> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0}
>
>
> Thanks & Regards,
> Ranjit Kumar
> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
 Private, Confidential and Privileged. This e-mail and any files and attach=
ments transmitted with it are confidential and/or privileged. They are inte=
nded solely for the use of the intended recipient. The content of this e-ma=
il and any file or attachment transmitted with it may have been changed or =
altered without the consent of the author. If you are not the intended reci=
pient, please note that any review, dissemination, disclosure, alteration, =
printing, circulation or Transmission of this e-mail and/or any file or att=
achment transmitted with it, is prohibited and may be unlawful. If you have=
 received this e-mail or any file or attachment transmitted with it in erro=
r please notify OTS Solutions at info@otssolutions.com =3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48064-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 08 13:47:26 2010
Return-Path: <java-user-return-48064-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55803 invoked from network); 8 Dec 2010 13:47:26 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 8 Dec 2010 13:47:26 -0000
Received: (qmail 36041 invoked by uid 500); 8 Dec 2010 13:47:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35781 invoked by uid 500); 8 Dec 2010 13:47:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35772 invoked by uid 99); 8 Dec 2010 13:47:23 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Dec 2010 13:47:23 +0000
X-ASF-Spam-Status: No, hits=2.1 required=10.0
	tests=FREEMAIL_FROM,FREEMAIL_REPLYTO,RCVD_IN_DNSWL_LOW,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of simon.willnauer@googlemail.com designates 209.85.212.48 as permitted sender)
Received: from [209.85.212.48] (HELO mail-vw0-f48.google.com) (209.85.212.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Dec 2010 13:47:17 +0000
Received: by vws18 with SMTP id 18so996433vws.35
        for <java-user@lucene.apache.org>; Wed, 08 Dec 2010 05:46:56 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=googlemail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:reply-to
         :in-reply-to:references:date:message-id:subject:from:to:content-type
         :content-transfer-encoding;
        bh=Iecu8LyVesjrnvW2CBiSATOQ5JlZVznAJkw6fYulPpI=;
        b=NvJAEprPKmfdyfj7CpkG8IhZaz4JxWLwBgE+VPOmOgHeEYrfpx3pW6r8b9CmcNYrRv
         M1xfmyrMaZtw1vGDxEK1Eho61s4mJILfys3U5nCQEdt6QRDieQhJc8qBEPh9u8hDKfV5
         H5VlW3EoFLj8Xeb0sulyfubSt9m+hReJ3iwxA=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=googlemail.com; s=gamma;
        h=mime-version:reply-to:in-reply-to:references:date:message-id
         :subject:from:to:content-type:content-transfer-encoding;
        b=PPJ8xqPZ86cIDBAE8ejUNAIOeBfOL50wefj94P/qGlb2ZcgGf1RCtFjXtwsRl/E30Z
         Nl5DzcGpoXPQ9vBwYbDYJ6BddhMV0j+DzD3UgMnsAjTpo8Y66HNsd6QWaqDl52w8HA3q
         jZGB1PcqvGds94xgswsPc2P0i5EQjxp1VKbiI=
MIME-Version: 1.0
Received: by 10.229.95.11 with SMTP id b11mr6978286qcn.174.1291816016333; Wed,
 08 Dec 2010 05:46:56 -0800 (PST)
Received: by 10.229.96.139 with HTTP; Wed, 8 Dec 2010 05:46:56 -0800 (PST)
Reply-To: simon.willnauer@gmail.com
In-Reply-To: <AANLkTi=pLTHfG69jhikOXF_84FG9w2Aw79nNeyya1sPf@mail.gmail.com>
References: <AD21521D44870544AC66F4FDFC0A474C0FC8B79B@MAIL.otssolutions.com>
	<AANLkTi=pLTHfG69jhikOXF_84FG9w2Aw79nNeyya1sPf@mail.gmail.com>
Date: Wed, 8 Dec 2010 14:46:56 +0100
Message-ID: <AANLkTin5TTY_1bJM=GLMNz2FHLa2fHfjBrfoc_OHAk-f@mail.gmail.com>
Subject: Re: FW: Re: lucene3.0.2: getting incorrect no. of occurrence in file
From: Simon Willnauer <simon.willnauer@googlemail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

On Wed, Dec 8, 2010 at 2:43 PM, Erick Erickson <erickerickson@gmail.com> wr=
ote:
> I don't think this code is doing anything predictable. From the javadocs =
for
> TermDocs.skipTo():
> Skips entries to the first beyond the current whose document number is
> greater than or equal to *target*.
>
> Returns true iff there is such an entry.
> You're not testing the return value from skipTo. The document IDs returne=
d
> in scoredocs aren't necessarily in ascending doc ID order so I'd guess
> that skipTo is returning false a lot of the time and in that case you're
> getting
> the frequency of a doc that isn't in your result set.

Well I didn't even got that far in the code man :D
>
> Best
> Erick
>
>
> On Wed, Dec 8, 2010 at 12:33 AM, Ranjit Kumar <Ranjit.Kumar@otssolutions.=
com
>> wrote:
>
>> Hi,
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Thanks for your r=
eplay!!!
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Below is code I am using for searc=
h
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
=A0 =C2=A0 =C2=A0 =C2=A0String line=3D"sql server";
>> IndexReader reader =3D IndexReader.open(FSDirectory.open(new
>> File(indexpath)), true); =C2=A0 // contains index file path
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Searcher searcher=
 =3D new IndexSearcher(reader);
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Analyzer analyzer=
 =3D new
>> StandardAnalyzer(Version.LUCENE_CURRENT);
>> QueryParser parser =3D new QueryParser(Version.LUCENE_CURRENT, field,
>> analyzer);
>> if (line !=3D null) {
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0line =3D line.tri=
m();
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Query query =3D p=
arser.parse(line);
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0int n =3D 100;
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0TopDocs docs =3D =
searcher.search(query, n);
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0TermDocs termDocs=
 =3D reader.termDocs(new Term(field, line.
>> toLowerCase()));
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0System.out.printl=
n(" =C2=A0 " + docs.totalHits + " total matching
>> documents\n");
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0for (int i =3D 0;=
 i < docs.scoreDocs.length; i++) {
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0int=
 totalFreq =3D 0;
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Doc=
ument document =3D
>> reader.document(docs.scoreDocs[i].doc);
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0ter=
mDocs.skipTo(i);
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Str=
ing path =3D document.get("path");
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Sys=
tem.out.println("path>>" + path);
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0tot=
alFreq =3D termDocs.freq();
>> =C2=A0 System.out.println("totalFreq >>" + totalFreq);
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0}
>>
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0}
>>
>>
>> Thanks & Regards,
>> Ranjit Kumar
>> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
>> Private, Confidential and Privileged. This e-mail and any files and
>> attachments transmitted with it are confidential and/or privileged. They=
 are
>> intended solely for the use of the intended recipient. The content of th=
is
>> e-mail and any file or attachment transmitted with it may have been chan=
ged
>> or altered without the consent of the author. If you are not the intende=
d
>> recipient, please note that any review, dissemination, disclosure,
>> alteration, printing, circulation or Transmission of this e-mail and/or =
any
>> file or attachment transmitted with it, is prohibited and may be unlawfu=
l.
>> If you have received this e-mail or any file or attachment transmitted w=
ith
>> it in error please notify OTS Solutions at info@otssolutions.com=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
>>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48065-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 08 16:42:11 2010
Return-Path: <java-user-return-48065-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 54936 invoked from network); 8 Dec 2010 16:42:10 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 8 Dec 2010 16:42:10 -0000
Received: (qmail 36173 invoked by uid 500); 8 Dec 2010 16:42:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35803 invoked by uid 500); 8 Dec 2010 16:42:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35795 invoked by uid 99); 8 Dec 2010 16:42:03 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Dec 2010 16:42:03 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of erickerickson@gmail.com designates 209.85.212.48 as permitted sender)
Received: from [209.85.212.48] (HELO mail-vw0-f48.google.com) (209.85.212.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Dec 2010 16:41:56 +0000
Received: by vws18 with SMTP id 18so1166330vws.35
        for <java-user@lucene.apache.org>; Wed, 08 Dec 2010 08:41:35 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=e439xCyGTIoUPj2V7PVnMcz5uicmNRznBse8uQOn5PE=;
        b=TeLMcrqExDRLZNk9YgPjz+Opbdo9AAIBxWjOdm1ademJEo1j+UOUTNHWGVjo83x+J0
         rOfJRnSxxS6LOHi1PxUocBbHogqSsVWDM16kKNQgSSQQ+3f4a3wx6QQQsgl0l3T8/Muz
         +ZGjyoAWAi5M8STaPef1ToQN+QqIMCOP9fIYc=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=Mv0093IhB/hY/XU5SP+brQNevlcVeOQqH7uati1joYYROrjGMTnj3yG8atr0J5eSSl
         hfRamMx3+eTUVVFKzg/8y+VzymHyw0tnqq4SCTWXSzr9bFZzvft45nqXR3ZQoNbE0GQ7
         2WuZe9sofEGNkgrfzDfAlPJWO+FWk0T8sdkVU=
MIME-Version: 1.0
Received: by 10.229.222.13 with SMTP id ie13mr6962477qcb.283.1291826494916;
 Wed, 08 Dec 2010 08:41:34 -0800 (PST)
Received: by 10.229.235.208 with HTTP; Wed, 8 Dec 2010 08:41:34 -0800 (PST)
In-Reply-To: <AANLkTin5TTY_1bJM=GLMNz2FHLa2fHfjBrfoc_OHAk-f@mail.gmail.com>
References: <AD21521D44870544AC66F4FDFC0A474C0FC8B79B@MAIL.otssolutions.com>
	<AANLkTi=pLTHfG69jhikOXF_84FG9w2Aw79nNeyya1sPf@mail.gmail.com>
	<AANLkTin5TTY_1bJM=GLMNz2FHLa2fHfjBrfoc_OHAk-f@mail.gmail.com>
Date: Wed, 8 Dec 2010 11:41:34 -0500
Message-ID: <AANLkTimk8D9OqbO5xjZNQvyjMoE8ozBsYtzu7CxX9P7g@mail.gmail.com>
Subject: Re: FW: Re: lucene3.0.2: getting incorrect no. of occurrence in file
From: Erick Erickson <erickerickson@gmail.com>
To: java-user@lucene.apache.org, simon.willnauer@gmail.com
Content-Type: multipart/alternative; boundary=00163630f4cb5747ed0496e8cb9f
X-Virus-Checked: Checked by ClamAV on apache.org

--00163630f4cb5747ed0496e8cb9f
Content-Type: text/plain; charset=ISO-8859-1

And I kind of skipped over the query part. Between the two of us, we
might make one decent code reviewer :D

Erick

On Wed, Dec 8, 2010 at 8:46 AM, Simon Willnauer <
simon.willnauer@googlemail.com> wrote:

> On Wed, Dec 8, 2010 at 2:43 PM, Erick Erickson <erickerickson@gmail.com>
> wrote:
> > I don't think this code is doing anything predictable. From the javadocs
> for
> > TermDocs.skipTo():
> > Skips entries to the first beyond the current whose document number is
> > greater than or equal to *target*.
> >
> > Returns true iff there is such an entry.
> > You're not testing the return value from skipTo. The document IDs
> returned
> > in scoredocs aren't necessarily in ascending doc ID order so I'd guess
> > that skipTo is returning false a lot of the time and in that case you're
> > getting
> > the frequency of a doc that isn't in your result set.
>
> Well I didn't even got that far in the code man :D
> >
> > Best
> > Erick
> >
> >
> > On Wed, Dec 8, 2010 at 12:33 AM, Ranjit Kumar <
> Ranjit.Kumar@otssolutions.com
> >> wrote:
> >
> >> Hi,
> >>                Thanks for your replay!!!
> >>                                Below is code I am using for search
> >>                                                String line="sql server";
> >> IndexReader reader = IndexReader.open(FSDirectory.open(new
> >> File(indexpath)), true);   // contains index file path
> >>                Searcher searcher = new IndexSearcher(reader);
> >>                Analyzer analyzer = new
> >> StandardAnalyzer(Version.LUCENE_CURRENT);
> >> QueryParser parser = new QueryParser(Version.LUCENE_CURRENT, field,
> >> analyzer);
> >> if (line != null) {
> >>                line = line.trim();
> >>                Query query = parser.parse(line);
> >>                int n = 100;
> >>                TopDocs docs = searcher.search(query, n);
> >>                TermDocs termDocs = reader.termDocs(new Term(field, line.
> >> toLowerCase()));
> >>                System.out.println("   " + docs.totalHits + " total
> matching
> >> documents\n");
> >>                for (int i = 0; i < docs.scoreDocs.length; i++) {
> >>                    int totalFreq = 0;
> >>                    Document document =
> >> reader.document(docs.scoreDocs[i].doc);
> >>                    termDocs.skipTo(i);
> >>                    String path = document.get("path");
> >>                    System.out.println("path>>" + path);
> >>                    totalFreq = termDocs.freq();
> >>   System.out.println("totalFreq >>" + totalFreq);
> >>                    }
> >>
> >>                }
> >>
> >>
> >> Thanks & Regards,
> >> Ranjit Kumar
> >>
> ===================================================================================================
> >> Private, Confidential and Privileged. This e-mail and any files and
> >> attachments transmitted with it are confidential and/or privileged. They
> are
> >> intended solely for the use of the intended recipient. The content of
> this
> >> e-mail and any file or attachment transmitted with it may have been
> changed
> >> or altered without the consent of the author. If you are not the
> intended
> >> recipient, please note that any review, dissemination, disclosure,
> >> alteration, printing, circulation or Transmission of this e-mail and/or
> any
> >> file or attachment transmitted with it, is prohibited and may be
> unlawful.
> >> If you have received this e-mail or any file or attachment transmitted
> with
> >> it in error please notify OTS Solutions at info@otssolutions.com
> ===================================================================================================
> >>
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--00163630f4cb5747ed0496e8cb9f--

From java-user-return-48066-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 08 20:17:25 2010
Return-Path: <java-user-return-48066-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94639 invoked from network); 8 Dec 2010 20:17:25 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 8 Dec 2010 20:17:25 -0000
Received: (qmail 20330 invoked by uid 500); 8 Dec 2010 20:17:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19593 invoked by uid 500); 8 Dec 2010 20:17:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19379 invoked by uid 99); 8 Dec 2010 20:17:19 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Dec 2010 20:17:19 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of yseeley@gmail.com designates 209.85.161.47 as permitted sender)
Received: from [209.85.161.47] (HELO mail-fx0-f47.google.com) (209.85.161.47)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 08 Dec 2010 20:17:14 +0000
Received: by fxm17 with SMTP id 17so1510406fxm.6
        for <multiple recipients>; Wed, 08 Dec 2010 12:16:53 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:sender:reply-to:received
         :date:x-google-sender-auth:message-id:subject:from:to:content-type;
        bh=IKKyhfSVqJ2nt9vByo0vM9GUQnoS6bMKBz0fXCSCRjA=;
        b=COTPafQeVZdL/J2cGHkkbC41HTLiAr1Lz4vwf7R0qBoGcLRT+wKAWPscPjg/JZ/Eh5
         8UhZT0EM0pbfAnt983/IJFi5ZByXQQ5gtNF/GU4Sevfuf1RgBX2HJkzQIuGdc1Bw/fH1
         d9kQI8M9QJV7drJzorr3CGMhSMWoe8eT/DoIU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:sender:reply-to:date:x-google-sender-auth:message-id
         :subject:from:to:content-type;
        b=JrfMs7DBXzg1pmj2i/eqY9NbOLMyLBkUDoHP9XxbfWdSh49zZORKCshJ3cUV/uq6rX
         ioDLS+YlGO9bPL4j+JyWcEc7x5A/8u1CsnsYu7hkv/IJ7pfC8xteRbv6nVYFaEOCSwpK
         II1gU4X9kDnGAzFwy+uC0MWmW6lZ6WgrduoZU=
MIME-Version: 1.0
Received: by 10.223.71.201 with SMTP id i9mr8876878faj.89.1291839413294; Wed,
 08 Dec 2010 12:16:53 -0800 (PST)
Sender: yseeley@gmail.com
Reply-To: yonik@lucidimagination.com
Received: by 10.223.78.144 with HTTP; Wed, 8 Dec 2010 12:16:53 -0800 (PST)
Date: Wed, 8 Dec 2010 15:16:53 -0500
X-Google-Sender-Auth: c71a4FjkGoYK4xmeR4TQbG1gcAg
Message-ID: <AANLkTikVXuGyOY_6va_1mcL8TiLu4YgnsLbt+FabveQE@mail.gmail.com>
Subject: Webcast: Better Search Results Faster with Apache Solr and LucidWorks Enterprise
From: Yonik Seeley <yonik@lucidimagination.com>
To: solr-user@lucene.apache.org, java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1

We're holding a free webinar about relevancy enhancements in our
commercial version of Solr.  Details below.

-Yonik
http://www.lucidimagination.com

-------------------------------------------------------------------------
Join us for a free technical webcast
"Better Search Results Faster with Apache Solr and LucidWorks Enterprise"
Thursday, December 16, 2010
11:00 AM PST / 2:00 PM EST / 20:00 CET


Click here to sign up
http://www.eventsvc.com/lucidimagination/121610?trk=AP


In the key dimensions of search relevancy and query-targeted results,
users have become accustomed to internet-search style facilities like
page-rank, user-driven feedback, auto-suggest and more. Even with the
power of Apache Lucene/Solr, building such features into your own
search application is easier said than done.


Now, with LucidWorks Enterprise, the search solution development
platform built on the Solr/Lucene open source technology, developing
killer search apps with these features and more is faster, simpler,
and more powerful than ever before!


Join Andrzej Bialecki, Lucene/Solr Committer and inventor of the Luke
index utility, for a hands-on technical workshop that details how
LucidWorks Enterprise puts powerful search and relevancy at your
fingertips -- at a fraction of the time and effort required to program
them yourself with native Apache Solr. Andrzej will discuss and
present how you can use LucidWorks Enterprise for:
* Click Scoring to automatically configure relevance for most popular results
* Simplified implementation of auto-complete and "did-you-mean" functionality
* Unsupervised feedback  to automatically provide relevance
improvement on every query


Click here to sign up
http://www.eventsvc.com/lucidimagination/121610?trk=AP


--------------------------------------------------------------
About the presenter:
Andrzej Bialecki is a committer of the Apache Lucene/Solr project, a
Lucene PMC member, and chairman of the Apache Nutch project. He is
also the author of Luke, the Lucene Index Toolbox. Andrzej
participates in many commercial projects that use Lucene/Solr, Nutch
and Hadoop to implement enterprise and vertical search.
--------------------------------------------------------------
Presented by Lucid Imagination, the commercial entity exclusively
dedicated to Apache Lucene/Solr open source search technology.
LucidWorks Enterprise, our search solution development platform, helps
you build better search application more quickly and productively,
develop and We also offer solutions including SLA-based support,
professional training, best practices consulting, free developer
downloads free documentation.
Follow us on Twitter:twitter.com/LucidImagineer.
--------------------------------------------------------------
"Apache Lucene" and "Apache Solr" are trademarks of the Apache
Software Foundation.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48067-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Dec 09 00:41:25 2010
Return-Path: <java-user-return-48067-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 21533 invoked from network); 9 Dec 2010 00:41:25 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 9 Dec 2010 00:41:25 -0000
Received: (qmail 48746 invoked by uid 500); 9 Dec 2010 00:41:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 48711 invoked by uid 500); 9 Dec 2010 00:41:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 10332 invoked by uid 99); 9 Dec 2010 00:07:02 -0000
X-ASF-Spam-Status: No, hits=3.0 required=10.0
	tests=FORGED_YAHOO_RCVD,FREEMAIL_FROM,RFC_ABUSE_POST,SPF_HELO_PASS,SPF_NEUTRAL,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Date: Wed, 8 Dec 2010 16:06:35 -0800 (PST)
From: Konstantyn Smirnov <injecteer@yahoo.com>
To: java-user@lucene.apache.org
Message-ID: <1291853195267-2054691.post@n3.nabble.com>
In-Reply-To: <9ac0c6aa0904130311t29f42f28qd225e71055b48352@mail.gmail.com>
References: <5e76b0ad0904122121le52a338q74d97224fe0356a2@mail.gmail.com> <49E2EC68.7060104@gmail.com> <5e76b0ad0904130116j4c3e356oe16ad234d6948a26@mail.gmail.com> <7af3bac90904130220m29b0a6c9w466d4ff8bdf4bec4@mail.gmail.com> <9ac0c6aa0904130259g131c1a71k5dc55fd7179d67c2@mail.gmail.com> <5e76b0ad0904130301v2365f9ffn7277f45f47ff3ff0@mail.gmail.com> <9ac0c6aa0904130311t29f42f28qd225e71055b48352@mail.gmail.com>
Subject: Re: Can I run Lucene in google app engine?
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org


Hi Mike, 

can you please elaborate?
Where can I find the test?

TIA


Michael McCandless-2 wrote:
> 
> Yes, I believe so (we have a unit test asserting this).
> 
> But, there's no guarantee of cross-version compatibility of the serialized
> form.
> 
> Mike
> 

-- 
View this message in context: http://lucene.472066.n3.nabble.com/Can-I-run-Lucene-in-google-app-engine-tp560098p2054691.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48068-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Dec 09 11:00:21 2010
Return-Path: <java-user-return-48068-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 59768 invoked from network); 9 Dec 2010 11:00:21 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 9 Dec 2010 11:00:21 -0000
Received: (qmail 18515 invoked by uid 500); 9 Dec 2010 11:00:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 18352 invoked by uid 500); 9 Dec 2010 11:00:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 18344 invoked by uid 99); 9 Dec 2010 11:00:16 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Dec 2010 11:00:16 +0000
X-ASF-Spam-Status: No, hits=1.3 required=10.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [74.125.82.176] (HELO mail-wy0-f176.google.com) (74.125.82.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 09 Dec 2010 11:00:10 +0000
Received: by wye20 with SMTP id 20so2272181wye.35
        for <java-user@lucene.apache.org>; Thu, 09 Dec 2010 02:59:49 -0800 (PST)
MIME-Version: 1.0
Received: by 10.216.44.208 with SMTP id n58mr449265web.39.1291892389222; Thu,
 09 Dec 2010 02:59:49 -0800 (PST)
Received: by 10.216.93.14 with HTTP; Thu, 9 Dec 2010 02:59:48 -0800 (PST)
In-Reply-To: <1291853195267-2054691.post@n3.nabble.com>
References: <5e76b0ad0904122121le52a338q74d97224fe0356a2@mail.gmail.com>
	<49E2EC68.7060104@gmail.com>
	<5e76b0ad0904130116j4c3e356oe16ad234d6948a26@mail.gmail.com>
	<7af3bac90904130220m29b0a6c9w466d4ff8bdf4bec4@mail.gmail.com>
	<9ac0c6aa0904130259g131c1a71k5dc55fd7179d67c2@mail.gmail.com>
	<5e76b0ad0904130301v2365f9ffn7277f45f47ff3ff0@mail.gmail.com>
	<9ac0c6aa0904130311t29f42f28qd225e71055b48352@mail.gmail.com>
	<1291853195267-2054691.post@n3.nabble.com>
Date: Thu, 9 Dec 2010 05:59:48 -0500
Message-ID: <AANLkTim8obXzPtUZm-2RNuZddN4rdDAvXC+CqzNezMr_@mail.gmail.com>
Subject: Re: Can I run Lucene in google app engine?
From: Michael McCandless <lucene@mikemccandless.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

It's the testSerializable method in
org/apache/lucene/test/store/TestRAMDirectory.java

Mike

On Wed, Dec 8, 2010 at 7:06 PM, Konstantyn Smirnov <injecteer@yahoo.com> wrote:
>
> Hi Mike,
>
> can you please elaborate?
> Where can I find the test?
>
> TIA
>
>
> Michael McCandless-2 wrote:
>>
>> Yes, I believe so (we have a unit test asserting this).
>>
>> But, there's no guarantee of cross-version compatibility of the serialized
>> form.
>>
>> Mike
>>
>
> --
> View this message in context: http://lucene.472066.n3.nabble.com/Can-I-run-Lucene-in-google-app-engine-tp560098p2054691.html
> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48069-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Dec 10 08:36:13 2010
Return-Path: <java-user-return-48069-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84720 invoked from network); 10 Dec 2010 08:36:13 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 10 Dec 2010 08:36:13 -0000
Received: (qmail 61856 invoked by uid 500); 10 Dec 2010 08:36:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 61556 invoked by uid 500); 10 Dec 2010 08:36:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 61547 invoked by uid 99); 10 Dec 2010 08:36:07 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Dec 2010 08:36:07 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of seidymam@gmail.com designates 209.85.214.177 as permitted sender)
Received: from [209.85.214.177] (HELO mail-iw0-f177.google.com) (209.85.214.177)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Dec 2010 08:36:01 +0000
Received: by iwn38 with SMTP id 38so5226501iwn.8
        for <java-user@lucene.apache.org>; Fri, 10 Dec 2010 00:35:41 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:date:message-id
         :subject:from:to:content-type;
        bh=o/FwdsBoG5l63pQ04yvuLv4z6YmKbQXhvZmn1d+kYhs=;
        b=oy7C65+SI88Y3FxBSEtL0GHDD5Sk1EnKzFuYptjaMy76VPtx8jPPEPXrHhPg6zy22/
         dW6kgVER56Yq9+lA4erk3P9HAQLksZLIlE20G/ir+bYPg9oUncP4aDEjHdGJwA2zz+tQ
         DupCnilXfZ0oc+9d+ibhCCZleF7i5ka2arcAQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=M1Fy+LoPaYozZQswJ/mO0xPT5ZcJh/ylag97mHUMCYFilKbOhPQXmJzVnTyebYjPdB
         uBBF3zhmFVQtZC0I6+/fsRNXS1dfAf9pgg9i+3JjoJxESfkG3dNBK6VW7sY6nky7R3Uf
         lr8Dw1yVJOueZcnsgBaihpPn//q99as22F42Y=
MIME-Version: 1.0
Received: by 10.42.164.6 with SMTP id e6mr298774icy.93.1291970140246; Fri, 10
 Dec 2010 00:35:40 -0800 (PST)
Received: by 10.42.169.198 with HTTP; Fri, 10 Dec 2010 00:35:40 -0800 (PST)
Date: Fri, 10 Dec 2010 09:35:40 +0100
Message-ID: <AANLkTinwW2QO=+vEdUPXk15hqAEkPszAG94TwDCztaEu@mail.gmail.com>
Subject: Where is Lucene 3.0.2
From: Seid Muhie <seidymam@gmail.com>
To: java-user <java-user@lucene.apache.org>
Content-Type: multipart/alternative; boundary=90e6ba6e82c44513db04970a3d57

--90e6ba6e82c44513db04970a3d57
Content-Type: text/plain; charset=ISO-8859-1

Hi all
I was trying with semantic vector with lucene 3.0.3. It looks that version
of semantic vector have a problem and they suggest me to use lucene 3.0.2
till the bug is fixed.
But I can't find 3.0.2 on any lucene repository? Any hint

-- 
Seid M.
University of Trento, Italy
Human Language Technology and
Interfaces<http://old.disi.unitn.it/edu/hlti/courses.xml?lang=en>
Via Brennero 150, Room 105

--90e6ba6e82c44513db04970a3d57--

From java-user-return-48070-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Dec 10 09:41:38 2010
Return-Path: <java-user-return-48070-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10198 invoked from network); 10 Dec 2010 09:41:38 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 10 Dec 2010 09:41:38 -0000
Received: (qmail 29367 invoked by uid 500); 10 Dec 2010 09:41:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 29087 invoked by uid 500); 10 Dec 2010 09:41:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 29078 invoked by uid 99); 10 Dec 2010 09:41:35 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Dec 2010 09:41:35 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ian.lea@gmail.com designates 209.85.214.51 as permitted sender)
Received: from [209.85.214.51] (HELO mail-bw0-f51.google.com) (209.85.214.51)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Dec 2010 09:41:30 +0000
Received: by bwz8 with SMTP id 8so3954742bwz.24
        for <java-user@lucene.apache.org>; Fri, 10 Dec 2010 01:41:09 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:in-reply-to
         :references:from:date:message-id:subject:to:content-type;
        bh=RgcTmPXZt2KP7ZzYyVFnjgB0HMtd7Esq3HkyoElQPDA=;
        b=VcJnP61des2akSpD0rd52aXn4DX8C9KcDagi0VaqX1VxpzSNWoCxfB6OHjRmj/CRJ6
         mA4CRBX3cgOfOXXRROiVbiX+I2vvoxDsx2pb6n1amFAhR15vEt3E3breBURk0c58MMk1
         7WewgfTh1LrCrkcyI4bjJA8W26RSPpfT86rEI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=Lzp4OqXFFOfe7fxiWN0agPyQMQ6u9LnVg+opvXzR3W3EfkbZuKQgChsoQHjZ6w8hBv
         nJE29Gs2/lMzxyglgzgkzPO40+1nZohRevBFaP9ZQFtZGBnLq0O0H2pM22STcP5ng6fu
         6UOrWGbM44nIXfLPzy4zfCOZZjlt4XoYVt6NE=
Received: by 10.204.76.145 with SMTP id c17mr507868bkk.52.1291974067332; Fri,
 10 Dec 2010 01:41:07 -0800 (PST)
MIME-Version: 1.0
Received: by 10.204.116.212 with HTTP; Fri, 10 Dec 2010 01:40:47 -0800 (PST)
In-Reply-To: <AANLkTinwW2QO=+vEdUPXk15hqAEkPszAG94TwDCztaEu@mail.gmail.com>
References: <AANLkTinwW2QO=+vEdUPXk15hqAEkPszAG94TwDCztaEu@mail.gmail.com>
From: Ian Lea <ian.lea@gmail.com>
Date: Fri, 10 Dec 2010 09:40:47 +0000
Message-ID: <AANLkTimr=Y1oBQ3YwAK7LbAXyeUAj=ZMSNih0-+9xeND@mail.gmail.com>
Subject: Re: Where is Lucene 3.0.2
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1

http://archive.apache.org/dist/lucene/java/

--
Ian.


On Fri, Dec 10, 2010 at 8:35 AM, Seid Muhie <seidymam@gmail.com> wrote:
> Hi all
> I was trying with semantic vector with lucene 3.0.3. It looks that version
> of semantic vector have a problem and they suggest me to use lucene 3.0.2
> till the bug is fixed.
> But I can't find 3.0.2 on any lucene repository? Any hint
>
> --
> Seid M.
> University of Trento, Italy
> Human Language Technology and
> Interfaces<http://old.disi.unitn.it/edu/hlti/courses.xml?lang=en>
> Via Brennero 150, Room 105
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48071-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Dec 10 11:09:18 2010
Return-Path: <java-user-return-48071-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49809 invoked from network); 10 Dec 2010 11:09:18 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 10 Dec 2010 11:09:18 -0000
Received: (qmail 24473 invoked by uid 500); 10 Dec 2010 11:09:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 24154 invoked by uid 500); 10 Dec 2010 11:09:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 24146 invoked by uid 99); 10 Dec 2010 11:09:14 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Dec 2010 11:09:14 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of seidymam@gmail.com designates 209.85.213.176 as permitted sender)
Received: from [209.85.213.176] (HELO mail-yx0-f176.google.com) (209.85.213.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Dec 2010 11:09:07 +0000
Received: by yxm8 with SMTP id 8so2245705yxm.35
        for <java-user@lucene.apache.org>; Fri, 10 Dec 2010 03:08:47 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=vxTGPuT07Ulx+83yAooJhMu5AUgkjsiRx1hJB9o/T8o=;
        b=sKmh5cpisMcWQNHRGpN4hd5p6AzqCISVPTuVkLd95+V/rWj9z5sMyo7g7CsAOK7KNk
         JuQtLSrz7GBaUotj3SCxSdKiFBemEcp4NwFhpiOU/aqZ9epBthtF9Su0ojvRd8DYGBxd
         1WaqUcWe3o1B/fDTmYzBPmY/XDan3h5VZBnMA=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=fc2WLydjUPuyA+ibbXfwSG3qumJ2HXNqb+24Z0Rc8+uTjO7/nFNg4EVlGbSO0l5X5J
         m3UXT2480F3jakX1ucsAF11tx5/mOiVOnhPizr3flisAmd7yv+X8FVEQBVjOrmyMZ7fa
         ocim+fffAL+fUSN3TzOpcsjGco7dYDLpl3kfM=
MIME-Version: 1.0
Received: by 10.42.240.196 with SMTP id lb4mr380710icb.160.1291979326444; Fri,
 10 Dec 2010 03:08:46 -0800 (PST)
Received: by 10.42.169.198 with HTTP; Fri, 10 Dec 2010 03:08:46 -0800 (PST)
In-Reply-To: <AANLkTimr=Y1oBQ3YwAK7LbAXyeUAj=ZMSNih0-+9xeND@mail.gmail.com>
References: <AANLkTinwW2QO=+vEdUPXk15hqAEkPszAG94TwDCztaEu@mail.gmail.com>
	<AANLkTimr=Y1oBQ3YwAK7LbAXyeUAj=ZMSNih0-+9xeND@mail.gmail.com>
Date: Fri, 10 Dec 2010 12:08:46 +0100
Message-ID: <AANLkTi=0gkeP+5Ax7NsFb73udP8AAHjf8wXRmN6UTxPn@mail.gmail.com>
Subject: Re: Where is Lucene 3.0.2
From: Seid Muhie <seidymam@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=20cf30549b53cf56ca04970c601e
X-Virus-Checked: Checked by ClamAV on apache.org

--20cf30549b53cf56ca04970c601e
Content-Type: text/plain; charset=ISO-8859-1

Many Thanks.

On Fri, Dec 10, 2010 at 10:40 AM, Ian Lea <ian.lea@gmail.com> wrote:

> http://archive.apache.org/dist/lucene/java/
>
> --
> Ian.
>
>
> On Fri, Dec 10, 2010 at 8:35 AM, Seid Muhie <seidymam@gmail.com> wrote:
> > Hi all
> > I was trying with semantic vector with lucene 3.0.3. It looks that
> version
> > of semantic vector have a problem and they suggest me to use lucene 3.0.2
> > till the bug is fixed.
> > But I can't find 3.0.2 on any lucene repository? Any hint
> >
> > --
> > Seid M.
> > University of Trento, Italy
> > Human Language Technology and
> > Interfaces<http://old.disi.unitn.it/edu/hlti/courses.xml?lang=en>
> > Via Brennero 150, Room 105
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


-- 
Seid M.
University of Trento, Italy
Human Language Technology and
Interfaces<http://old.disi.unitn.it/edu/hlti/courses.xml?lang=en>
Via Brennero 150, Room 105

--20cf30549b53cf56ca04970c601e--

From java-user-return-48072-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Dec 10 13:07:55 2010
Return-Path: <java-user-return-48072-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 6008 invoked from network); 10 Dec 2010 13:07:54 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 10 Dec 2010 13:07:54 -0000
Received: (qmail 70393 invoked by uid 500); 10 Dec 2010 13:07:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 70149 invoked by uid 500); 10 Dec 2010 13:07:52 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 12837 invoked by uid 99); 10 Dec 2010 12:25:41 -0000
X-ASF-Spam-Status: No, hits=3.0 required=10.0
	tests=FORGED_YAHOO_RCVD,FREEMAIL_FROM,RFC_ABUSE_POST,SPF_HELO_PASS,SPF_NEUTRAL,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Date: Fri, 10 Dec 2010 04:25:14 -0800 (PST)
From: Konstantyn Smirnov <injecteer@yahoo.com>
To: java-user@lucene.apache.org
Message-ID: <1291983914360-2063140.post@n3.nabble.com>
In-Reply-To: <AANLkTim8obXzPtUZm-2RNuZddN4rdDAvXC+CqzNezMr_@mail.gmail.com>
References: <5e76b0ad0904122121le52a338q74d97224fe0356a2@mail.gmail.com> <49E2EC68.7060104@gmail.com> <5e76b0ad0904130116j4c3e356oe16ad234d6948a26@mail.gmail.com> <7af3bac90904130220m29b0a6c9w466d4ff8bdf4bec4@mail.gmail.com> <9ac0c6aa0904130259g131c1a71k5dc55fd7179d67c2@mail.gmail.com> <5e76b0ad0904130301v2365f9ffn7277f45f47ff3ff0@mail.gmail.com> <9ac0c6aa0904130311t29f42f28qd225e71055b48352@mail.gmail.com> <1291853195267-2054691.post@n3.nabble.com> <AANLkTim8obXzPtUZm-2RNuZddN4rdDAvXC+CqzNezMr_@mail.gmail.com>
Subject: Re: Can I run Lucene in google app engine?
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org


Thanks Mike, I found it.

It's a really elegant way, to serialize the object. No special serialize()
methods, just dump in to stram - that's it :)
-- 
View this message in context: http://lucene.472066.n3.nabble.com/Can-I-run-Lucene-in-google-app-engine-tp560098p2063140.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48073-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Dec 10 14:34:50 2010
Return-Path: <java-user-return-48073-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 37138 invoked from network); 10 Dec 2010 14:34:50 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 10 Dec 2010 14:34:50 -0000
Received: (qmail 99686 invoked by uid 500); 10 Dec 2010 14:34:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99468 invoked by uid 500); 10 Dec 2010 14:34:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99460 invoked by uid 99); 10 Dec 2010 14:34:47 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Dec 2010 14:34:47 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of sariny@gmail.com designates 209.85.212.48 as permitted sender)
Received: from [209.85.212.48] (HELO mail-vw0-f48.google.com) (209.85.212.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Dec 2010 14:34:39 +0000
Received: by vws18 with SMTP id 18so2236480vws.35
        for <java-user@lucene.apache.org>; Fri, 10 Dec 2010 06:34:18 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:received:date:from:to:subject
         :message-id:x-mailer:mime-version:content-type
         :content-transfer-encoding;
        bh=pzCPYpqLtuGgMg6k8UztrPNGSlUWaAZnpEkXG4eZdUY=;
        b=i1jCKtv66XmVs09ZW+SRfX8uOqIRJpUMbNQy8FhzQz4wArK6/ocIdYs0GB7/hXuqKQ
         T7oQ6x8QFGcM8SBvP61Da0WLUpd+zh3WrVWv7f0YQ0t6XE99Gv+wCvR4lMF72n/77s/J
         YOYMLW2XHOZMmoJohPeNX5/Tz81Qr714qdjlU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=date:from:to:subject:message-id:x-mailer:mime-version:content-type
         :content-transfer-encoding;
        b=VgKqVhealbEXRcbbzNGa0MGfm9zeAbcyaiZ3YODA3CgJEgG2bVR/WF+RkBLfjKJzbK
         lgyovNKuA12LSeM/znFI8AWpact7UPqaLWiieBlKT5Kt4+zDK8sZ2z/YAfx7xD85mom8
         mZHM0S4TzVF/M/AQM6vH2qtQRVxnRbfi5uGR0=
Received: by 10.220.178.73 with SMTP id bl9mr215980vcb.62.1291991658793;
        Fri, 10 Dec 2010 06:34:18 -0800 (PST)
Received: from Sarin-PC ([118.67.127.167])
        by mx.google.com with ESMTPS id j22sm808913vcr.7.2010.12.10.06.34.10
        (version=SSLv3 cipher=RC4-MD5);
        Fri, 10 Dec 2010 06:34:15 -0800 (PST)
Date: Fri, 10 Dec 2010 22:34:06 +0800
From: "Sariny" <sariny@gmail.com>
To: "java-user" <java-user@lucene.apache.org>
Subject: maybe I hit a bug of Term ?
Message-ID: <201012102233473727284@gmail.com>
X-mailer: Foxmail 6, 15, 201, 22 [cn]
Mime-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

 
		Hi, two different Term get the same hashCode,  lucene version 3.0.2

		System.out.println(new Term("manu_id",NumericUtils.intToPrefixCoded(111)).hashCode());
        System.out.println(new Term("manu_id",NumericUtils.intToPrefixCoded(402)).hashCode());

        a bug?


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48074-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Dec 10 14:57:20 2010
Return-Path: <java-user-return-48074-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 56428 invoked from network); 10 Dec 2010 14:57:20 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 10 Dec 2010 14:57:20 -0000
Received: (qmail 36591 invoked by uid 500); 10 Dec 2010 14:57:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36267 invoked by uid 500); 10 Dec 2010 14:57:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 36246 invoked by uid 99); 10 Dec 2010 14:57:16 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Dec 2010 14:57:16 +0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [85.25.71.29] (HELO mail.troja.net) (85.25.71.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Dec 2010 14:57:10 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by mail.troja.net (Postfix) with ESMTP id E3121D36007
	for <java-user@lucene.apache.org>; Fri, 10 Dec 2010 15:56:47 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at mail.troja.net
Received: from mail.troja.net ([127.0.0.1])
	by localhost (megaira.troja.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id NccFIcEqJ6Id for <java-user@lucene.apache.org>;
	Fri, 10 Dec 2010 15:56:36 +0100 (CET)
Received: from VEGA (WDC-MARE.marum.de [134.102.249.74])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mail.troja.net (Postfix) with ESMTPSA id 58345D36004
	for <java-user@lucene.apache.org>; Fri, 10 Dec 2010 15:56:36 +0100 (CET)
From: "Uwe Schindler" <uwe@thetaphi.de>
To: <java-user@lucene.apache.org>
References: <201012102233473727284@gmail.com>
In-Reply-To: <201012102233473727284@gmail.com>
Subject: RE: maybe I hit a bug of Term ?
Date: Fri, 10 Dec 2010 15:57:21 +0100
Message-ID: <001f01cb987a$8c640bb0$a52c2310$@thetaphi.de>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Outlook 14.0
Thread-Index: AQJcb2BrBKQ/Wrq34pCo3OKIsolX7JJ4Fi8Q
Content-Language: de

Hashcodes are not guaranteed to be different. See Object#hashCode()
javadocs.

-----
Uwe Schindler
H.-H.-Meier-Allee 63, D-28213 Bremen
http://www.thetaphi.de
eMail: uwe@thetaphi.de

> -----Original Message-----
> From: Sariny [mailto:sariny@gmail.com]
> Sent: Friday, December 10, 2010 3:34 PM
> To: java-user
> Subject: maybe I hit a bug of Term ?
> 
> 
> 		Hi, two different Term get the same hashCode,  lucene
> version 3.0.2
> 
> 		System.out.println(new
> Term("manu_id",NumericUtils.intToPrefixCoded(111)).hashCode());
>         System.out.println(new
> Term("manu_id",NumericUtils.intToPrefixCoded(402)).hashCode());
> 
>         a bug?
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48075-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Dec 10 17:31:55 2010
Return-Path: <java-user-return-48075-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 64355 invoked from network); 10 Dec 2010 17:31:54 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 10 Dec 2010 17:31:54 -0000
Received: (qmail 26540 invoked by uid 500); 10 Dec 2010 17:31:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 26156 invoked by uid 500); 10 Dec 2010 17:31:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 26148 invoked by uid 99); 10 Dec 2010 17:31:51 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Dec 2010 17:31:51 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of sariny@gmail.com designates 209.85.161.47 as permitted sender)
Received: from [209.85.161.47] (HELO mail-fx0-f47.google.com) (209.85.161.47)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Dec 2010 17:31:45 +0000
Received: by fxm17 with SMTP id 17so3849536fxm.6
        for <java-user@lucene.apache.org>; Fri, 10 Dec 2010 09:31:24 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:received:date:from:to:references
         :subject:message-id:x-mailer:mime-version:content-type
         :content-transfer-encoding;
        bh=bSIC8wUZ8ucadCQxUpTTqO/7ldynAcg7JDJxqRr7UbE=;
        b=UbCjEdTzitYh0JGoE6vCR9IatdWT37SsM6xzMk4EbbYzVCGJigEb6a84rtuK3g4Hx8
         cXuuqTmxcA4NYuGftiK4xvvLvcWQPeQcErCyt2ou/PW+VnnTtPhePD8f/N+y6D7YVOr+
         eqh8eH8tXmSI7c2ia0nmGQIIlolzENr+XAr9o=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=date:from:to:references:subject:message-id:x-mailer:mime-version
         :content-type:content-transfer-encoding;
        b=M6TJe+9CooqtmidROorF/GGRIg1Ih5WMu9fFmodMI0X8XEHANWKO6qrraj6p5U2htZ
         1lz5Pdf24IJkd4jDFxxJgkvWL6t37Z/llGZt1wagStwYS8LHDtPFUdVySDhJ4drafMMa
         4F7qwF+uIV5FZu9LKzOHsMzeVImWo2VZ8AMMc=
Received: by 10.223.83.14 with SMTP id d14mr1231360fal.22.1292002283273;
        Fri, 10 Dec 2010 09:31:23 -0800 (PST)
Received: from Sarin-PC ([123.125.1.226])
        by mx.google.com with ESMTPS id z1sm982199fau.45.2010.12.10.09.31.20
        (version=SSLv3 cipher=RC4-MD5);
        Fri, 10 Dec 2010 09:31:22 -0800 (PST)
Date: Sat, 11 Dec 2010 01:31:15 +0800
From: "Sariny" <sariny@gmail.com>
To: "java-user" <java-user@lucene.apache.org>
References: <201012102233473727284@gmail.com>
Subject: Re: RE: maybe I hit a bug of Term ?
Message-ID: <201012110131124712723@gmail.com>
X-mailer: Foxmail 6, 15, 201, 22 [cn]
Mime-Version: 1.0
Content-Type: text/plain;
	charset="gb2312"
Content-Transfer-Encoding: 7bit

Object.hashCode() is "implemented by converting the internal address of the object into an integer",

Term.hashCode() has override the default implemention,so,this question has nothing todo with Object.hashCode().
	
I think I should try another way to cache filter results...



>Hashcodes are not guaranteed to be different. See Object#hashCode()
>javadocs.
>
>-----
>Uwe Schindler
>H.-H.-Meier-Allee 63, D-28213 Bremen
>http://www.thetaphi.de
>eMail: uwe@thetaphi.de
>
>> -----Original Message-----
>> From: Sariny [mailto:sariny@gmail.com]
>> Sent: Friday, December 10, 2010 3:34 PM
>> To: java-user
>> Subject: maybe I hit a bug of Term ?
>> 
>> 
>> 		Hi, two different Term get the same hashCode,  lucene
>> version 3.0.2
>> 
>> 		System.out.println(new
>> Term("manu_id",NumericUtils.intToPrefixCoded(111)).hashCode());
>>         System.out.println(new
>> Term("manu_id",NumericUtils.intToPrefixCoded(402)).hashCode());
>> 
>>         a bug?
>> 
>> 
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>For additional commands, e-mail: java-user-help@lucene.apache.org
>

= = = = = = = = = = = = = = = = = = = =


Hashcodes are not guaranteed to be different. See Object#hashCode()
javadocs.

-----
Uwe Schindler
H.-H.-Meier-Allee 63, D-28213 Bremen
http://www.thetaphi.de
eMail: uwe@thetaphi.de

> -----Original Message-----
> From: Sariny [mailto:sariny@gmail.com]
> Sent: Friday, December 10, 2010 3:34 PM
> To: java-user
> Subject: maybe I hit a bug of Term ?
> 
> 
> 		Hi, two different Term get the same hashCode,  lucene
> version 3.0.2
> 
> 		System.out.println(new
> Term("manu_id",NumericUtils.intToPrefixCoded(111)).hashCode());
>         System.out.println(new
> Term("manu_id",NumericUtils.intToPrefixCoded(402)).hashCode());
> 
>         a bug?
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48076-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Dec 10 18:05:09 2010
Return-Path: <java-user-return-48076-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 77460 invoked from network); 10 Dec 2010 18:05:09 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 10 Dec 2010 18:05:09 -0000
Received: (qmail 68412 invoked by uid 500); 10 Dec 2010 18:05:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68337 invoked by uid 500); 10 Dec 2010 18:05:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68328 invoked by uid 99); 10 Dec 2010 18:05:05 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Dec 2010 18:05:05 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [209.85.213.176] (HELO mail-yx0-f176.google.com) (209.85.213.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 10 Dec 2010 18:05:00 +0000
Received: by yxm8 with SMTP id 8so2565334yxm.35
        for <java-user@lucene.apache.org>; Fri, 10 Dec 2010 10:04:39 -0800 (PST)
MIME-Version: 1.0
Received: by 10.42.166.73 with SMTP id n9mr791885icy.64.1292004278435; Fri, 10
 Dec 2010 10:04:38 -0800 (PST)
Received: by 10.42.223.9 with HTTP; Fri, 10 Dec 2010 10:04:38 -0800 (PST)
In-Reply-To: <201012110131124712723@gmail.com>
References: <201012102233473727284@gmail.com>
	<201012110131124712723@gmail.com>
Date: Fri, 10 Dec 2010 10:04:38 -0800
Message-ID: <AANLkTi=qW9B1cpCQ2qYcx+GWwk5R42vH-9fQmYPkN86f@mail.gmail.com>
Subject: Re: RE: maybe I hit a bug of Term ?
From: Tom Hill <solr-list@worldware.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

Hi Sariny,

What Uwe was saying is that the definition for hashCode is found in
the docs for Object, and it applies to all implementations of
hashCode.

It says:

"It is not required that if two objects are unequal according to the
equals(java.lang.Object) method, then calling the hashCode method on
each of the two objects must produce distinct integer results.
However, the programmer should be aware that producing distinct
integer results for unequal objects may improve the performance of
hashtables."

The implementation of Maps, etc., understand this, and use it
appropriately. So, if you write your own Map implementation, you may
have to care about this, but in the general case, you can just use any
Collection and it will work.

Tom



2010/12/10 Sariny <sariny@gmail.com>:
> Object.hashCode() is "implemented by converting the internal address of t=
he object into an integer",
>
> Term.hashCode() has override the default implemention,so,this question ha=
s nothing todo with Object.hashCode().
>
> I think I should try another way to cache filter results...
>
>
>
>>Hashcodes are not guaranteed to be different. See Object#hashCode()
>>javadocs.
>>
>>-----
>>Uwe Schindler
>>H.-H.-Meier-Allee 63, D-28213 Bremen
>>http://www.thetaphi.de
>>eMail: uwe@thetaphi.de
>>
>>> -----Original Message-----
>>> From: Sariny [mailto:sariny@gmail.com]
>>> Sent: Friday, December 10, 2010 3:34 PM
>>> To: java-user
>>> Subject: maybe I hit a bug of Term ?
>>>
>>>
>>> =A0 =A0 =A0 =A0 =A0 =A0 =A0Hi, two different Term get the same hashCode=
, =A0lucene
>>> version 3.0.2
>>>
>>> =A0 =A0 =A0 =A0 =A0 =A0 =A0System.out.println(new
>>> Term("manu_id",NumericUtils.intToPrefixCoded(111)).hashCode());
>>> =A0 =A0 =A0 =A0 System.out.println(new
>>> Term("manu_id",NumericUtils.intToPrefixCoded(402)).hashCode());
>>>
>>> =A0 =A0 =A0 =A0 a bug?
>>>
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>
> =3D =3D =3D =3D =3D =3D =3D =3D =3D =3D =3D =3D =3D =3D =3D =3D =3D =3D =
=3D =3D
>
>
> Hashcodes are not guaranteed to be different. See Object#hashCode()
> javadocs.
>
> -----
> Uwe Schindler
> H.-H.-Meier-Allee 63, D-28213 Bremen
> http://www.thetaphi.de
> eMail: uwe@thetaphi.de
>
>> -----Original Message-----
>> From: Sariny [mailto:sariny@gmail.com]
>> Sent: Friday, December 10, 2010 3:34 PM
>> To: java-user
>> Subject: maybe I hit a bug of Term ?
>>
>>
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 Hi, two different Term get the same hashCode=
, =A0lucene
>> version 3.0.2
>>
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 System.out.println(new
>> Term("manu_id",NumericUtils.intToPrefixCoded(111)).hashCode());
>> =A0 =A0 =A0 =A0 System.out.println(new
>> Term("manu_id",NumericUtils.intToPrefixCoded(402)).hashCode());
>>
>> =A0 =A0 =A0 =A0 a bug?
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48077-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Dec 11 11:25:41 2010
Return-Path: <java-user-return-48077-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 39071 invoked from network); 11 Dec 2010 11:25:40 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 11 Dec 2010 11:25:40 -0000
Received: (qmail 4484 invoked by uid 500); 11 Dec 2010 11:25:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4306 invoked by uid 500); 11 Dec 2010 11:25:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4298 invoked by uid 99); 11 Dec 2010 11:25:37 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 11 Dec 2010 11:25:37 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of dinhbaduy@gmail.com designates 209.85.213.176 as permitted sender)
Received: from [209.85.213.176] (HELO mail-yx0-f176.google.com) (209.85.213.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 11 Dec 2010 11:25:31 +0000
Received: by yxm8 with SMTP id 8so2936211yxm.35
        for <java-user@lucene.apache.org>; Sat, 11 Dec 2010 03:25:10 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=lt3SL27AiBJe9RmzZxSiMQFlP6VGHKBre8XpKJOHykk=;
        b=LiuAmmRavzlhMk95v+7P5BJGeAhHeVQ8BfhW1AjGfdrEn5VetGWw4E+wovvnHBupO3
         KSGtxNPpS+EuvOhOshVZdE2DjFvElT8l5Cqdp3bCj0Puqa60YcSses+gDMxjqSCc6rLQ
         m4zIz+iNL4q1fylsmu4XAIjg06xbUE51tuV44=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=Lm4FKfJvA9ieuo6cY6isLSWaT7wLqsxYhxP6p/nN8uWjyPa1D+7ujKXGhjpjByw+1h
         /9sn9eebeK3DSzPPg/ltglKvAm1DfI2sQHmcOFDHdvN3L3sS5IhsAqOcMoflWnlfokKF
         LGLezH3NPvMraenYzru5Z8yC9jYPyaLfWdD28=
MIME-Version: 1.0
Received: by 10.236.102.171 with SMTP id d31mr4243064yhg.19.1292066710648;
 Sat, 11 Dec 2010 03:25:10 -0800 (PST)
Received: by 10.236.109.135 with HTTP; Sat, 11 Dec 2010 03:25:10 -0800 (PST)
In-Reply-To: <AANLkTi=qW9B1cpCQ2qYcx+GWwk5R42vH-9fQmYPkN86f@mail.gmail.com>
References: <201012102233473727284@gmail.com>
	<201012110131124712723@gmail.com>
	<AANLkTi=qW9B1cpCQ2qYcx+GWwk5R42vH-9fQmYPkN86f@mail.gmail.com>
Date: Sat, 11 Dec 2010 12:25:10 +0100
Message-ID: <AANLkTi=OvzQ4EL7A2XF71NyfGnH9Mgz+J0d6nMzwr+q+@mail.gmail.com>
Subject: Re: RE: maybe I hit a bug of Term ?
From: Duy DINH <dinhbaduy@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=00235440bca350786a049720b95a
X-Virus-Checked: Checked by ClamAV on apache.org

--00235440bca350786a049720b95a
Content-Type: text/plain; charset=UTF-8

Hi Lucene community,
This is not a novel question but I tried to search on Google the query:

"how to index TREC collection with Lucene"

I found nothing about that except some of your answers about the papers
using Lucene for indexing TREC collection,
and I think that I have to write code for indexing TREC collection. But
before doing that, I would like to know if you have done that, if so, could
you share or integrate this module into Lucene, please.

Thank you very much,
Duy

On Fri, Dec 10, 2010 at 7:04 PM, Tom Hill <solr-list@worldware.com> wrote:

> Hi Sariny,
>
> What Uwe was saying is that the definition for hashCode is found in
> the docs for Object, and it applies to all implementations of
> hashCode.
>
> It says:
>
> "It is not required that if two objects are unequal according to the
> equals(java.lang.Object) method, then calling the hashCode method on
> each of the two objects must produce distinct integer results.
> However, the programmer should be aware that producing distinct
> integer results for unequal objects may improve the performance of
> hashtables."
>
> The implementation of Maps, etc., understand this, and use it
> appropriately. So, if you write your own Map implementation, you may
> have to care about this, but in the general case, you can just use any
> Collection and it will work.
>
> Tom
>
>
>
> 2010/12/10 Sariny <sariny@gmail.com>:
> > Object.hashCode() is "implemented by converting the internal address of
> the object into an integer",
> >
> > Term.hashCode() has override the default implemention,so,this question
> has nothing todo with Object.hashCode().
> >
> > I think I should try another way to cache filter results...
> >
> >
> >
> >>Hashcodes are not guaranteed to be different. See Object#hashCode()
> >>javadocs.
> >>
> >>-----
> >>Uwe Schindler
> >>H.-H.-Meier-Allee 63, D-28213 Bremen
> >>http://www.thetaphi.de
> >>eMail: uwe@thetaphi.de
> >>
> >>> -----Original Message-----
> >>> From: Sariny [mailto:sariny@gmail.com]
> >>> Sent: Friday, December 10, 2010 3:34 PM
> >>> To: java-user
> >>> Subject: maybe I hit a bug of Term ?
> >>>
> >>>
> >>>              Hi, two different Term get the same hashCode,  lucene
> >>> version 3.0.2
> >>>
> >>>              System.out.println(new
> >>> Term("manu_id",NumericUtils.intToPrefixCoded(111)).hashCode());
> >>>         System.out.println(new
> >>> Term("manu_id",NumericUtils.intToPrefixCoded(402)).hashCode());
> >>>
> >>>         a bug?
> >>>
> >>>
> >>> ---------------------------------------------------------------------
> >>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >>> For additional commands, e-mail: java-user-help@lucene.apache.org
> >>
> >>
> >>
> >>---------------------------------------------------------------------
> >>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >>For additional commands, e-mail: java-user-help@lucene.apache.org
> >>
> >
> > = = = = = = = = = = = = = = = = = = = =
> >
> >
> > Hashcodes are not guaranteed to be different. See Object#hashCode()
> > javadocs.
> >
> > -----
> > Uwe Schindler
> > H.-H.-Meier-Allee 63, D-28213 Bremen
> > http://www.thetaphi.de
> > eMail: uwe@thetaphi.de
> >
> >> -----Original Message-----
> >> From: Sariny [mailto:sariny@gmail.com]
> >> Sent: Friday, December 10, 2010 3:34 PM
> >> To: java-user
> >> Subject: maybe I hit a bug of Term ?
> >>
> >>
> >>               Hi, two different Term get the same hashCode,  lucene
> >> version 3.0.2
> >>
> >>               System.out.println(new
> >> Term("manu_id",NumericUtils.intToPrefixCoded(111)).hashCode());
> >>         System.out.println(new
> >> Term("manu_id",NumericUtils.intToPrefixCoded(402)).hashCode());
> >>
> >>         a bug?
> >>
> >>
> >> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >> For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


-- 
University: Paul Sabatier - Toulouse III
Laboratory: Institute for Research in Informatics of Toulouse
Office: (+33)5 61 55 74 40
Mobile: (+33)6 37 500 222
Email: dinhbaduy@gmail.com
Website: http://www.irit.fr/~Duy.Dinh/

--00235440bca350786a049720b95a--

From java-user-return-48078-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Dec 11 16:46:02 2010
Return-Path: <java-user-return-48078-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 39178 invoked from network); 11 Dec 2010 16:46:02 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 11 Dec 2010 16:46:02 -0000
Received: (qmail 73304 invoked by uid 500); 11 Dec 2010 16:45:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 72973 invoked by uid 500); 11 Dec 2010 16:45:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 72965 invoked by uid 99); 11 Dec 2010 16:45:55 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 11 Dec 2010 16:45:55 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ian.lea@gmail.com designates 209.85.214.51 as permitted sender)
Received: from [209.85.214.51] (HELO mail-bw0-f51.google.com) (209.85.214.51)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 11 Dec 2010 16:45:49 +0000
Received: by bwz8 with SMTP id 8so5489914bwz.24
        for <java-user@lucene.apache.org>; Sat, 11 Dec 2010 08:45:29 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:in-reply-to
         :references:from:date:message-id:subject:to:content-type
         :content-transfer-encoding;
        bh=y4LgN3gE7HZjR6P07yQA/vVZ+qz4t+OcBAjRzl4+iQo=;
        b=QI6zMUz2m2zgwX5siiAaEdaqdC36/5JbqtQyqsMPFGODpO61+O+119mISmuK/SL1Kl
         HESEjCra5Pz2nCiQryvC9WZxttQJShZ1KgLFkOjSyaqRFxTfXsTBVCCJCzFssDLTiJkE
         DuaUxV7Q3BYlpSs0pwzoNjsUnXV05cKk5RLk0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        b=OOvjG7iz1dxTZrR/7p971dMZrCrZ+RPnXCoFbXG6dlqdOOY0SNGksXVWHqOR5b/ymm
         VKvMhkNqd48wcG3GdsVDr/juHzjUXXAbLNQ3VYfDQTArZBBjKa3wSrmqzAxCk5AIxuj1
         Tgzws2h/PG/DE3yTe0u7QK6WBN+1FJHZJ4ePo=
Received: by 10.204.83.72 with SMTP id e8mr1971360bkl.118.1292085928592; Sat,
 11 Dec 2010 08:45:28 -0800 (PST)
MIME-Version: 1.0
Received: by 10.204.60.202 with HTTP; Sat, 11 Dec 2010 08:45:08 -0800 (PST)
In-Reply-To: <AANLkTi=OvzQ4EL7A2XF71NyfGnH9Mgz+J0d6nMzwr+q+@mail.gmail.com>
References: <201012102233473727284@gmail.com> <201012110131124712723@gmail.com>
 <AANLkTi=qW9B1cpCQ2qYcx+GWwk5R42vH-9fQmYPkN86f@mail.gmail.com> <AANLkTi=OvzQ4EL7A2XF71NyfGnH9Mgz+J0d6nMzwr+q+@mail.gmail.com>
From: Ian Lea <ian.lea@gmail.com>
Date: Sat, 11 Dec 2010 16:45:08 +0000
Message-ID: <AANLkTi=L0c0oNdeOuWiSppBFSLUmRgA=V1XHYX_5_7xw@mail.gmail.com>
Subject: Re: RE: maybe I hit a bug of Term ?
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

1.  Please post new questions in a new thread.

2.  Try a less specific search, maybe "lucene TREC".


--
Ian.


On Sat, Dec 11, 2010 at 11:25 AM, Duy DINH <dinhbaduy@gmail.com> wrote:
> Hi Lucene community,
> This is not a novel question but I tried to search on Google the query:
>
> "how to index TREC collection with Lucene"
>
> I found nothing about that except some of your answers about the papers
> using Lucene for indexing TREC collection,
> and I think that I have to write code for indexing TREC collection. But
> before doing that, I would like to know if you have done that, if so, cou=
ld
> you share or integrate this module into Lucene, please.
>
> Thank you very much,
> Duy
>
> On Fri, Dec 10, 2010 at 7:04 PM, Tom Hill <solr-list@worldware.com> wrote=
:
>
>> Hi Sariny,
>>
>> What Uwe was saying is that the definition for hashCode is found in
>> the docs for Object, and it applies to all implementations of
>> hashCode.
>>
>> It says:
>>
>> "It is not required that if two objects are unequal according to the
>> equals(java.lang.Object) method, then calling the hashCode method on
>> each of the two objects must produce distinct integer results.
>> However, the programmer should be aware that producing distinct
>> integer results for unequal objects may improve the performance of
>> hashtables."
>>
>> The implementation of Maps, etc., understand this, and use it
>> appropriately. So, if you write your own Map implementation, you may
>> have to care about this, but in the general case, you can just use any
>> Collection and it will work.
>>
>> Tom
>>
>>
>>
>> 2010/12/10 Sariny <sariny@gmail.com>:
>> > Object.hashCode() is "implemented by converting the internal address o=
f
>> the object into an integer",
>> >
>> > Term.hashCode() has override the default implemention,so,this question
>> has nothing todo with Object.hashCode().
>> >
>> > I think I should try another way to cache filter results...
>> >
>> >
>> >
>> >>Hashcodes are not guaranteed to be different. See Object#hashCode()
>> >>javadocs.
>> >>
>> >>-----
>> >>Uwe Schindler
>> >>H.-H.-Meier-Allee 63, D-28213 Bremen
>> >>http://www.thetaphi.de
>> >>eMail: uwe@thetaphi.de
>> >>
>> >>> -----Original Message-----
>> >>> From: Sariny [mailto:sariny@gmail.com]
>> >>> Sent: Friday, December 10, 2010 3:34 PM
>> >>> To: java-user
>> >>> Subject: maybe I hit a bug of Term ?
>> >>>
>> >>>
>> >>> =A0 =A0 =A0 =A0 =A0 =A0 =A0Hi, two different Term get the same hashC=
ode, =A0lucene
>> >>> version 3.0.2
>> >>>
>> >>> =A0 =A0 =A0 =A0 =A0 =A0 =A0System.out.println(new
>> >>> Term("manu_id",NumericUtils.intToPrefixCoded(111)).hashCode());
>> >>> =A0 =A0 =A0 =A0 System.out.println(new
>> >>> Term("manu_id",NumericUtils.intToPrefixCoded(402)).hashCode());
>> >>>
>> >>> =A0 =A0 =A0 =A0 a bug?
>> >>>
>> >>>
>> >>> --------------------------------------------------------------------=
-
>> >>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> >>> For additional commands, e-mail: java-user-help@lucene.apache.org
>> >>
>> >>
>> >>
>> >>---------------------------------------------------------------------
>> >>To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> >>For additional commands, e-mail: java-user-help@lucene.apache.org
>> >>
>> >
>> > =3D =3D =3D =3D =3D =3D =3D =3D =3D =3D =3D =3D =3D =3D =3D =3D =3D =
=3D =3D =3D
>> >
>> >
>> > Hashcodes are not guaranteed to be different. See Object#hashCode()
>> > javadocs.
>> >
>> > -----
>> > Uwe Schindler
>> > H.-H.-Meier-Allee 63, D-28213 Bremen
>> > http://www.thetaphi.de
>> > eMail: uwe@thetaphi.de
>> >
>> >> -----Original Message-----
>> >> From: Sariny [mailto:sariny@gmail.com]
>> >> Sent: Friday, December 10, 2010 3:34 PM
>> >> To: java-user
>> >> Subject: maybe I hit a bug of Term ?
>> >>
>> >>
>> >> =A0 =A0 =A0 =A0 =A0 =A0 =A0 Hi, two different Term get the same hashC=
ode, =A0lucene
>> >> version 3.0.2
>> >>
>> >> =A0 =A0 =A0 =A0 =A0 =A0 =A0 System.out.println(new
>> >> Term("manu_id",NumericUtils.intToPrefixCoded(111)).hashCode());
>> >> =A0 =A0 =A0 =A0 System.out.println(new
>> >> Term("manu_id",NumericUtils.intToPrefixCoded(402)).hashCode());
>> >>
>> >> =A0 =A0 =A0 =A0 a bug?
>> >>
>> >>
>> >> ---------------------------------------------------------------------
>> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> >> For additional commands, e-mail: java-user-help@lucene.apache.org
>> >
>> >
>> >
>> > ---------------------------------------------------------------------
>> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> > For additional commands, e-mail: java-user-help@lucene.apache.org
>> >
>> >
>> > ---------------------------------------------------------------------
>> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> > For additional commands, e-mail: java-user-help@lucene.apache.org
>> >
>> >
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>
>
> --
> University: Paul Sabatier - Toulouse III
> Laboratory: Institute for Research in Informatics of Toulouse
> Office: (+33)5 61 55 74 40
> Mobile: (+33)6 37 500 222
> Email: dinhbaduy@gmail.com
> Website: http://www.irit.fr/~Duy.Dinh/
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48079-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Dec 12 01:34:51 2010
Return-Path: <java-user-return-48079-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24711 invoked from network); 12 Dec 2010 01:34:51 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 12 Dec 2010 01:34:51 -0000
Received: (qmail 35590 invoked by uid 500); 12 Dec 2010 01:34:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35497 invoked by uid 500); 12 Dec 2010 01:34:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35485 invoked by uid 99); 12 Dec 2010 01:34:48 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 12 Dec 2010 01:34:48 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of celsowm@gmail.com designates 209.85.213.176 as permitted sender)
Received: from [209.85.213.176] (HELO mail-yx0-f176.google.com) (209.85.213.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 12 Dec 2010 01:34:41 +0000
Received: by yxm8 with SMTP id 8so3185299yxm.35
        for <java-user@lucene.apache.org>; Sat, 11 Dec 2010 17:34:20 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:from:date
         :message-id:subject:to:content-type;
        bh=AUHefJOeg+Ofq9qM6xA9evSU6d6OK7k5rG+Y55pqY0E=;
        b=JRhgUx2zNKQWOlxux2P8NqYJ7/Fz+bZmsZ/PISj81o0GEUbfrio5+rXSvGatZtN9Vr
         beGKTJD3YiZX1ujpjyLMHKHZi2RyzHHglf60nqfsPh3qpdSHeCtqd5efVJY77aIiV+fE
         wo/+A1f1I8rmCe7tAhz5KQ9SXZdf87aIqPfqQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:from:date:message-id:subject:to:content-type;
        b=mdduUy3s6gGbiuubWb8KM+R2q7d+ucqgH0Tju65kVytbGvQgX6Hs7//blHspgLoM2/
         u5JZiUl7sI0iSCElgNdUYiBFvDa38LtW8xoZDIalQT7/u4kCpmGsgJB0+00/NorNZ9/R
         0sRo7l4mTKIBJ4ELxX0hvXkjWWJkCQvKl5zWA=
Received: by 10.236.110.172 with SMTP id u32mr5411264yhg.63.1292117660619;
 Sat, 11 Dec 2010 17:34:20 -0800 (PST)
MIME-Version: 1.0
Received: by 10.236.95.34 with HTTP; Sat, 11 Dec 2010 17:34:00 -0800 (PST)
From: Celso Fontes <celsowm@gmail.com>
Date: Sat, 11 Dec 2010 23:34:00 -0200
Message-ID: <AANLkTin_qCdSR2Z_YMFQXcw1N5aqjn7LmcR8+y8dBBHy@mail.gmail.com>
Subject: Problems with "tagged" and "non tagged" text
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

Hi, i have the same text in two files:

****TXT      file: http://pastebin.com/u9Rd9VVA
****(X)HTM file: http://pastebin.com/ydHmTQZ8

And i running this Question:

   APC (adenomatous polyposis coli) actin assembly

with OR operator and SNOWBALL Analyser results in:

    +content:apc +(+content:adenomat +content:polyposi +content:coli)
+content:actin +content:assembl


But... only txt returns ok, why?


ps: if i try without "()" i got the same result....
Thanks,
Celso

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48080-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Dec 12 02:28:43 2010
Return-Path: <java-user-return-48080-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 42642 invoked from network); 12 Dec 2010 02:28:42 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 12 Dec 2010 02:28:42 -0000
Received: (qmail 52683 invoked by uid 500); 12 Dec 2010 02:28:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 52627 invoked by uid 500); 12 Dec 2010 02:28:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 52619 invoked by uid 99); 12 Dec 2010 02:28:40 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 12 Dec 2010 02:28:40 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of erickerickson@gmail.com designates 209.85.216.48 as permitted sender)
Received: from [209.85.216.48] (HELO mail-qw0-f48.google.com) (209.85.216.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 12 Dec 2010 02:28:35 +0000
Received: by qwh6 with SMTP id 6so5341053qwh.35
        for <java-user@lucene.apache.org>; Sat, 11 Dec 2010 18:28:14 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=WkVfpXwCiI0s97/jPYxWW2ZZlFOLZSFLa4Ta52rHof4=;
        b=lJdFRhKl12G0Y0gRfoCnagnIunfnXE94wem71lvoUNevSHOKxeFIAVOtszyxxPhU6P
         8keentEBLKgGP+cw8BF+hhqFU4K3lusMx5nRyCoqThzFGWQhwr+W09O386pI3CVakA1p
         u3RKCuSzIHQ3rBGPJeik9ixwKansUy34cq/gs=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=kXEMTogEK4/92nHwV6feuQjkN5lcFDoriWpvGE6587BE0OZuNq9yiMkoiw8Dnn/ObX
         MsTaTby5WAFCBlqAfDmQHzXDuBuIFsQjvVLHdD3mp11JMJr8ZYOOFbCDH5sy6sWvZfcQ
         joSXZQEsokT0Fr1YugTYcRLCSod2chj01PC6I=
MIME-Version: 1.0
Received: by 10.229.249.203 with SMTP id ml11mr2382962qcb.266.1292120894199;
 Sat, 11 Dec 2010 18:28:14 -0800 (PST)
Received: by 10.229.235.208 with HTTP; Sat, 11 Dec 2010 18:28:14 -0800 (PST)
In-Reply-To: <AANLkTin_qCdSR2Z_YMFQXcw1N5aqjn7LmcR8+y8dBBHy@mail.gmail.com>
References: <AANLkTin_qCdSR2Z_YMFQXcw1N5aqjn7LmcR8+y8dBBHy@mail.gmail.com>
Date: Sat, 11 Dec 2010 21:28:14 -0500
Message-ID: <AANLkTiknE4uPMR6wNoqCys8QgWrP3=ELqaVKKkvHcZJQ@mail.gmail.com>
Subject: Re: Problems with "tagged" and "non tagged" text
From: Erick Erickson <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016e64caa7ee7d74804972d56c1

--0016e64caa7ee7d74804972d56c1
Content-Type: text/plain; charset=ISO-8859-1

Unless you provide details on how you are indexing these documents,
it's pretty hard to help.

It's also hard to reconcile your statement that OR is the default operator
with
the results you posted, the '+' all over the place really points to AND
as the default.

There's no magic in Lucene that will automatically put the "content" of
an (X)HTM document in the content field of your document, how are you
insuring that the doc is indexed as you expect?

Luke is a very valuable tool for inspecting your index to see if it is what
you think it is...

Best
Erick

On Sat, Dec 11, 2010 at 8:34 PM, Celso Fontes <celsowm@gmail.com> wrote:

> Hi, i have the same text in two files:
>
> ****TXT      file: http://pastebin.com/u9Rd9VVA
> ****(X)HTM file: http://pastebin.com/ydHmTQZ8
>
> And i running this Question:
>
>   APC (adenomatous polyposis coli) actin assembly
>
> with OR operator and SNOWBALL Analyser results in:
>
>    +content:apc +(+content:adenomat +content:polyposi +content:coli)
> +content:actin +content:assembl
>
>
> But... only txt returns ok, why?
>
>
> ps: if i try without "()" i got the same result....
> Thanks,
> Celso
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--0016e64caa7ee7d74804972d56c1--

From java-user-return-48081-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Dec 12 02:47:12 2010
Return-Path: <java-user-return-48081-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 46247 invoked from network); 12 Dec 2010 02:47:12 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 12 Dec 2010 02:47:12 -0000
Received: (qmail 60624 invoked by uid 500); 12 Dec 2010 02:47:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60536 invoked by uid 500); 12 Dec 2010 02:47:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60528 invoked by uid 99); 12 Dec 2010 02:47:09 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 12 Dec 2010 02:47:09 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of celsowm@gmail.com designates 209.85.213.48 as permitted sender)
Received: from [209.85.213.48] (HELO mail-yw0-f48.google.com) (209.85.213.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 12 Dec 2010 02:47:04 +0000
Received: by ywo7 with SMTP id 7so3206316ywo.35
        for <java-user@lucene.apache.org>; Sat, 11 Dec 2010 18:46:43 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:in-reply-to
         :references:from:date:message-id:subject:to:content-type
         :content-transfer-encoding;
        bh=k+W29+6ZFA4IwHSSZ8fbAJh455JUyEMmsdRpFPKvWJ8=;
        b=FzU6pGijHIVZs/cdbkNaR3mHv9zO7CgEihppBpM0OPFlxSNNoSLpR7Q2+g2xSqturk
         9OMxQefQqApeeoJRjrrjcQlmgMp7L9Hy5y63PbRXTCyHpzR3fKWw3K0IbmgUBVMWCx7X
         uuApAqmEMRCo8IdyoKk1eDx1QsYGfnjJHTToE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        b=BYtsYV9VsvSDYfF6M7ykiNJCEjPufSrorQGaj0L/6bFL7dTn70bYwuN+82zdqlgTVN
         uB1eCgzqdtFYYEZeG8LzuNybTjX0wyHrMqldFAs3U4YWf01+C5hvW2oisNOJFH7Qc5qM
         1N27IYjaPoEI+bCxwneBeAhe1gOPo1ZjlUrBM=
Received: by 10.236.95.140 with SMTP id p12mr5594002yhf.24.1292122003788; Sat,
 11 Dec 2010 18:46:43 -0800 (PST)
MIME-Version: 1.0
Received: by 10.236.95.34 with HTTP; Sat, 11 Dec 2010 18:46:23 -0800 (PST)
In-Reply-To: <AANLkTiknE4uPMR6wNoqCys8QgWrP3=ELqaVKKkvHcZJQ@mail.gmail.com>
References: <AANLkTin_qCdSR2Z_YMFQXcw1N5aqjn7LmcR8+y8dBBHy@mail.gmail.com> <AANLkTiknE4uPMR6wNoqCys8QgWrP3=ELqaVKKkvHcZJQ@mail.gmail.com>
From: Celso Fontes <celsowm@gmail.com>
Date: Sun, 12 Dec 2010 00:46:23 -0200
Message-ID: <AANLkTi=kaJkfPVrOzo-vyB3rc9U6pFxB8t7Tz=yQhSav@mail.gmail.com>
Subject: Re: Problems with "tagged" and "non tagged" text
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

Dear Erick,
Sorry i am using really "AND" operator, i wrote wrong in email (i am
very tired)...
But..Follow the 'main' part of code:

            Document document =3D new Document();
            String path =3D file.getCanonicalPath();

            document.add(new Field("title", path,
                    Field.Store.YES,
                    Field.Index.ANALYZED));

            Reader reader =3D new FileReader(file);
            document.add(new Field("content", reader));

As you can see I do indexing ! and...
with the others questions, i have a good result with htm files...this
htm, for example, is good for this question:
******APC (adenomatous polyposis coli) Colon Cancer

Thanks,
Celso.

2010/12/12 Erick Erickson <erickerickson@gmail.com>:
> Unless you provide details on how you are indexing these documents,
> it's pretty hard to help.
>
> It's also hard to reconcile your statement that OR is the default operato=
r
> with
> the results you posted, the '+' all over the place really points to AND
> as the default.
>
> There's no magic in Lucene that will automatically put the "content" of
> an (X)HTM document in the content field of your document, how are you
> insuring that the doc is indexed as you expect?
>
> Luke is a very valuable tool for inspecting your index to see if it is wh=
at
> you think it is...
>
> Best
> Erick
>
> On Sat, Dec 11, 2010 at 8:34 PM, Celso Fontes <celsowm@gmail.com> wrote:
>
>> Hi, i have the same text in two files:
>>
>> ****TXT =A0 =A0 =A0file: http://pastebin.com/u9Rd9VVA
>> ****(X)HTM file: http://pastebin.com/ydHmTQZ8
>>
>> And i running this Question:
>>
>> =A0 APC (adenomatous polyposis coli) actin assembly
>>
>> with OR operator and SNOWBALL Analyser results in:
>>
>> =A0 =A0+content:apc +(+content:adenomat +content:polyposi +content:coli)
>> +content:actin +content:assembl
>>
>>
>> But... only txt returns ok, why?
>>
>>
>> ps: if i try without "()" i got the same result....
>> Thanks,
>> Celso
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48082-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Dec 12 18:42:56 2010
Return-Path: <java-user-return-48082-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20012 invoked from network); 12 Dec 2010 18:42:56 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 12 Dec 2010 18:42:56 -0000
Received: (qmail 23898 invoked by uid 500); 12 Dec 2010 18:42:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 23800 invoked by uid 500); 12 Dec 2010 18:42:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 23792 invoked by uid 99); 12 Dec 2010 18:42:53 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 12 Dec 2010 18:42:53 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of lev.alyshayev@gmail.com designates 209.85.216.48 as permitted sender)
Received: from [209.85.216.48] (HELO mail-qw0-f48.google.com) (209.85.216.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 12 Dec 2010 18:42:46 +0000
Received: by qwh6 with SMTP id 6so5768772qwh.35
        for <java-user@lucene.apache.org>; Sun, 12 Dec 2010 10:42:25 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:date:message-id
         :subject:from:to:content-type;
        bh=FYr9L24HJg1bUZ12j//VctYaRWBpnVxaEbjOAx/2SNo=;
        b=xQIZgPdIrHjIPo/Q12tt+3g5BYBVFpgyb3LmIWWsXBWK4eWTortVPBC0/PZIfBIhbj
         tA4nJPtoEGCHsd3VC4JAE0mUUSB/a5sic7EfFOY4SR6sCjySt0JAHgXXRPzGA9j3UjZ7
         KTlqav8iaMS6grg++YblX+gmAZxy8Lbx6R6jY=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=gOwbf/JKcn9lsDO2VcSHjZOuyH6+zaKAmhqWwvfn4JmoZW1zKRKeIw01936WOfg99q
         5j8KQzOBSS4b+DNONdX5GvP9ZVPZK0394wQ1aTvgCmEFCtzP+wahYB+s/JO7qy1NQl77
         I9WPD1KuMeC1hxoTdQuIQwmK32M1Xc+CjfaOE=
MIME-Version: 1.0
Received: by 10.229.185.209 with SMTP id cp17mr2895300qcb.281.1292179345830;
 Sun, 12 Dec 2010 10:42:25 -0800 (PST)
Received: by 10.229.211.5 with HTTP; Sun, 12 Dec 2010 10:42:25 -0800 (PST)
Date: Sun, 12 Dec 2010 20:42:25 +0200
Message-ID: <AANLkTi=Bxst7S_BUmCsuG7f6FKf4-h8=fQrOS+FyGecy@mail.gmail.com>
Subject: FunctionQuery
From: Lev Alyshayev <lev.alyshayev@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016363b823ee4f48b04973af213

--0016363b823ee4f48b04973af213
Content-Type: text/plain; charset=ISO-8859-1

Hello there,

I am trying to solve a problem where I use a new FunctionQuery to sort the
results by changing the score. The functionality works great when I actually
find results and it sorts them exactly the way I intended.

My problem is that when there are no results found, from some reason the
function is being used on all documents, rather then on no documents. Same
query without the function query brings no results, but when I add a
function query it returns me all documents after putting them through the
function I created.

When I search for the following I get no results:
http://localhost:8983/solr/select/?q=text:something&fl=score

Same query with the function query included, gives me all documents in the
index:
http://localhost:8983/solr/select/?q=text:something+_val_
:"eqsim(somefield,sometext)"&fl=score

Am I doing something wrong?
Thanks in advance,

Lev

--0016363b823ee4f48b04973af213--

From java-user-return-48083-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Dec 12 19:12:30 2010
Return-Path: <java-user-return-48083-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 34925 invoked from network); 12 Dec 2010 19:12:30 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 12 Dec 2010 19:12:30 -0000
Received: (qmail 48177 invoked by uid 500); 12 Dec 2010 19:12:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 48112 invoked by uid 500); 12 Dec 2010 19:12:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 48104 invoked by uid 99); 12 Dec 2010 19:12:27 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 12 Dec 2010 19:12:27 +0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [206.190.49.11] (HELO web52901.mail.re2.yahoo.com) (206.190.49.11)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 12 Dec 2010 19:12:20 +0000
Received: (qmail 95953 invoked by uid 60001); 12 Dec 2010 19:11:59 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1292181119; bh=CNB5qz5vnRHqdzOe+nnSO2Sncx0f3luZ+yWuLRFB6kM=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=6E/PmxtiMdnRoKKtseUL/7g0PPOn+GUWZsvTZkewdx8mfplXcHa5ywoiSMHI9EVANiBzMqn5vQRDBk7BgvnxVcWPEqadYT316mAMUkKOWfvVSkOSEDzcTp1iMD5tCJGCkbrw5yJOhk4AKNBGf1BWxrtYjz8cPD/AxwHJVPg2B2Q=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=RsrOL0QuDt8jdcl2I11AsnpziOUDevQChXlRgEgeyxs+DcsXhpA6dnpqxC3w37dPs748PWcYsSWeo9FPJMRKrXazTT6pirjfrMPHBZsf7G96bNIFAwcoADOsv9QXaItl58wESk/5C2IYo/hLrMcXEI2GvUezYgcQxAFLYYSgGro=;
Message-ID: <11293.89672.qm@web52901.mail.re2.yahoo.com>
X-YMail-OSG: Me5SKssVM1lVvbK0OCzYra0xeSz.PG3RqUy9VTS3.DwrDjD
 WWxkcuj8M9.QTufQ0VI9ZR9Aqg4DSe69qZoNarUBEOgekMr3cLLknczTaXk5
 8FfcUvm91NGEsJoYKzsMDT.U.cmVr055xJtoJfqlSaqckUY.q9.9pvA2xbV_
 h8AB8QnWWX2bQwCEuXM1Smddr82e5pZ7AwcOlGXgeDn799iRZN.Lgol0m91M
 1e7xTXgl8Ze5uiAQJ9diDCx0TJcyXwuPb1gxSm0o2GoJ7pwUZfPn5WaG5mc4
 Wny0g.Is9DkB2RcI4aIlbthRg.PHiwMszvS28q2xkPSYK5W.4NFOVoykgRGw
 XmcvYmMZIyDCuvpYEW6tu61vlyTN1YqdgmsabNYo2MTHCvpDK5._G2zTDJ.l
 qtl8Rsb9fgjo-
Received: from [88.231.27.253] by web52901.mail.re2.yahoo.com via HTTP; Sun, 12 Dec 2010 11:11:58 PST
X-Mailer: YahooMailClassic/11.4.20 YahooMailWebService/0.8.107.285259
Date: Sun, 12 Dec 2010 11:11:58 -0800 (PST)
From: Ahmet Arslan <iorixxx@yahoo.com>
Subject: Re: FunctionQuery
To: java-user@lucene.apache.org
In-Reply-To: <AANLkTi=Bxst7S_BUmCsuG7f6FKf4-h8=fQrOS+FyGecy@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii


--- On Sun, 12/12/10, Lev Alyshayev <lev.alyshayev@gmail.com> wrote:

> From: Lev Alyshayev <lev.alyshayev@gmail.com>
> Subject: FunctionQuery
> To: java-user@lucene.apache.org
> Date: Sunday, December 12, 2010, 8:42 PM
> Hello there,
> 
> I am trying to solve a problem where I use a new
> FunctionQuery to sort the
> results by changing the score. The functionality works
> great when I actually
> find results and it sorts them exactly the way I intended.
> 
> My problem is that when there are no results found, from
> some reason the
> function is being used on all documents, rather then on no
> documents. Same
> query without the function query brings no results, but
> when I add a
> function query it returns me all documents after putting
> them through the
> function I created.
> 
> When I search for the following I get no results:
> http://localhost:8983/solr/select/?q=text:something&fl=score
> 
> Same query with the function query included, gives me all
> documents in the
> index:
> http://localhost:8983/solr/select/?q=text:something+_val_
> :"eqsim(somefield,sometext)"&fl=score

When you use _val_ hook, it uses addition operator. 

To use multiplication (scores are multiplied) you can use http://lucene.apache.org/solr/api/org/apache/solr/search/BoostQParserPlugin.html





---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48084-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Dec 12 20:57:25 2010
Return-Path: <java-user-return-48084-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 61461 invoked from network); 12 Dec 2010 20:57:23 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 12 Dec 2010 20:57:23 -0000
Received: (qmail 5100 invoked by uid 500); 12 Dec 2010 20:57:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5043 invoked by uid 500); 12 Dec 2010 20:57:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5035 invoked by uid 99); 12 Dec 2010 20:57:21 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 12 Dec 2010 20:57:21 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of lev.alyshayev@gmail.com designates 209.85.216.176 as permitted sender)
Received: from [209.85.216.176] (HELO mail-qy0-f176.google.com) (209.85.216.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 12 Dec 2010 20:57:14 +0000
Received: by qyk10 with SMTP id 10so5009315qyk.14
        for <java-user@lucene.apache.org>; Sun, 12 Dec 2010 12:56:54 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=1gs7tfhKn+mlPxqnp7KIR6xQq2oVdQeyizkQibEfDFA=;
        b=dTVVgb6q9OKPJ5OlGPrJS3jPH0NYCBG8w7vzMYnTg90MmpgqsA/CwCQareqF/rRrAu
         b5kC18ZGJuWk9es8E5C/YAb86E6VdFfFPU8wwVtz1mwtnIWuujepGOSW/f87nZWOqq9Z
         IAi4N41KqssrVHRtjHLr99yKqToakt2pBaJFY=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=sAYLeqkYzKi8UhlyN8kCUc3hpL3Xn0z8hmJY6Ll6kUDZ7r+mrVq9GNRqbAC8Jfj11Q
         N7kgRqQjcLT/e7eXmyeMovb6Y5goW4DxB9/toErWt5WPl66ieu1ySIQscspNloRzwY+N
         tsK9gOZc3w+y3BtajC2V7/PNJ9tgddhscRjZ8=
MIME-Version: 1.0
Received: by 10.229.70.130 with SMTP id d2mr3111563qcj.53.1292187413376; Sun,
 12 Dec 2010 12:56:53 -0800 (PST)
Received: by 10.229.211.5 with HTTP; Sun, 12 Dec 2010 12:56:53 -0800 (PST)
In-Reply-To: <11293.89672.qm@web52901.mail.re2.yahoo.com>
References: <AANLkTi=Bxst7S_BUmCsuG7f6FKf4-h8=fQrOS+FyGecy@mail.gmail.com>
	<11293.89672.qm@web52901.mail.re2.yahoo.com>
Date: Sun, 12 Dec 2010 22:56:53 +0200
Message-ID: <AANLkTimxNkN3wB2hzXU8EiiLJk-Uib5GCsHQ8fFO_5c0@mail.gmail.com>
Subject: Re: FunctionQuery
From: Lev Alyshayev <lev.alyshayev@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016364d28b1c1ed2c04973cd3aa

--0016364d28b1c1ed2c04973cd3aa
Content-Type: text/plain; charset=ISO-8859-1

Ahmet, Thanks, it worked (eventually)...

On Sun, Dec 12, 2010 at 9:11 PM, Ahmet Arslan <iorixxx@yahoo.com> wrote:

>
> --- On Sun, 12/12/10, Lev Alyshayev <lev.alyshayev@gmail.com> wrote:
>
> > From: Lev Alyshayev <lev.alyshayev@gmail.com>
> > Subject: FunctionQuery
> > To: java-user@lucene.apache.org
> > Date: Sunday, December 12, 2010, 8:42 PM
> > Hello there,
> >
> > I am trying to solve a problem where I use a new
> > FunctionQuery to sort the
> > results by changing the score. The functionality works
> > great when I actually
> > find results and it sorts them exactly the way I intended.
> >
> > My problem is that when there are no results found, from
> > some reason the
> > function is being used on all documents, rather then on no
> > documents. Same
> > query without the function query brings no results, but
> > when I add a
> > function query it returns me all documents after putting
> > them through the
> > function I created.
> >
> > When I search for the following I get no results:
> > http://localhost:8983/solr/select/?q=text:something&fl=score
> >
> > Same query with the function query included, gives me all
> > documents in the
> > index:
> > http://localhost:8983/solr/select/?q=text:something+_val_
> > :"eqsim(somefield,sometext)"&fl=score
>
> When you use _val_ hook, it uses addition operator.
>
> To use multiplication (scores are multiplied) you can use
> http://lucene.apache.org/solr/api/org/apache/solr/search/BoostQParserPlugin.html
>
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--0016364d28b1c1ed2c04973cd3aa--

From java-user-return-48085-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Dec 13 06:26:25 2010
Return-Path: <java-user-return-48085-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94436 invoked from network); 13 Dec 2010 06:26:24 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 13 Dec 2010 06:26:24 -0000
Received: (qmail 55662 invoked by uid 500); 13 Dec 2010 06:26:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 55404 invoked by uid 500); 13 Dec 2010 06:26:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 55396 invoked by uid 99); 13 Dec 2010 06:26:21 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Dec 2010 06:26:21 +0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=FREEMAIL_FROM,MIME_QP_LONG_LINE,RCVD_IN_DNSWL_NONE,RFC_ABUSE_POST,SPF_NEUTRAL,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [121.101.151.211] (HELO nm1-vm0.bullet.mail.in.yahoo.com) (121.101.151.211)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 13 Dec 2010 06:26:15 +0000
Received: from [121.101.151.236] by nm1.bullet.mail.in.yahoo.com with NNFMP; 13 Dec 2010 06:25:52 -0000
Received: from [121.101.151.234] by tm1.bullet.mail.in.yahoo.com with NNFMP; 13 Dec 2010 06:25:56 -0000
Received: from [127.0.0.1] by omp1003.mail.in.yahoo.com with NNFMP; 13 Dec 2010 06:25:51 -0000
X-Yahoo-Newman-Id: 311806.37162.bm@omp1003.mail.in.yahoo.com
Received: (qmail 89014 invoked from network); 13 Dec 2010 06:25:52 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.in;
  h=DKIM-Signature:Received:X-Yahoo-SMTP:X-YMail-OSG:X-Yahoo-Newman-Property:Message-ID:From:To:Subject:Date:MIME-Version:Content-Type:Content-Transfer-Encoding:X-Priority:X-MSMail-Priority:X-Mailer:X-MimeOLE;
  b=vK7DPZxdvoNBD5X/dEZiQ+BeBhqjG7xsx2j0K7Y+LZCQi/Xpb4Bs010JI/q1+Cq2/UK0JDcI6eboN+ItS0mlhTTPtUezag4jDHI4wEBKC2YgL1da57MNBzQbuBPvzliuxdIMLpOA+yc9W2XTlv9GR7/kfOpbCRxNlqxQFjRUWws=  ;
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.co.in; s=s1024; t=1292221552; bh=7c0Ck49vx/JwmFGjf3axdlewC7kPrkWpuCFT7vQO8y0=; h=Received:X-Yahoo-SMTP:X-YMail-OSG:X-Yahoo-Newman-Property:Message-ID:From:To:Subject:Date:MIME-Version:Content-Type:Content-Transfer-Encoding:X-Priority:X-MSMail-Priority:X-Mailer:X-MimeOLE; b=O5TK5ypkWf9MqtiEkJXRL6fSFJdovtcpE6DlSPYSAOfz+Cl+VLunvyXMT22cQH0gQx/s6/WVcrraK5lOoXCk+yEMia1R3hlVXbILjd70PzIYk4TJt+BCNHEeifd2/zwiHw6CfX/BplwSXp0Ym1qgV0vUrGncpqVe7AOniE/lA74=
Received: from GaneshM (emailgane@121.244.159.130 with login)
        by smtp108.mail.in.yahoo.com with SMTP; 13 Dec 2010 11:55:52 +0530 IST
X-Yahoo-SMTP: JObyHkuswBBrNSLZp.Ycd7Boqpr_GQ--
X-YMail-OSG: J5fwpu0VM1nOWDGxm37OeVkX1GHLrNkbadsNONJun2Rp6Xp
 NE84GNnIsOkiTvXXXv9NHgW2vMqppi9eKZenQwtVsVxNmKP2ZprbUG7uTJaI
 ULgFn2YBVmKTA6T8c7dgitM70CC8MTsY23NAw7Zs7pPt5WLclTMgHaqk_h4z
 hJ5CuwAjpOV27kn5wlaHHyj3vPTSz5Apn
X-Yahoo-Newman-Property: ymail-3
Message-ID: <0FD59CD8A2DF49D5AAB65412A8F43297@sv.us.sonicwall.com>
From: "Ganesh" <emailgane@yahoo.co.in>
To: <java-user@lucene.apache.org>
Subject: Scale up design
Date: Mon, 13 Dec 2010 11:55:50 +0530
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.5931
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.5931

Hello all,

I know little bit about scale out design, Sharding the database across =
systems. Is any one in this group tried Scale up architecture? I think =
to scale up, we need to use 64 bit. How about the Lucene performance in =
64 bit? Whether we could use 8 GB RAM completely?

Could any share their thoughts on this.

Regards
Ganesh  
Send free SMS to your Friends on Mobile from your Yahoo! Messenger. Download Now! http://messenger.yahoo.com/download.php

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48086-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Dec 13 06:47:16 2010
Return-Path: <java-user-return-48086-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98325 invoked from network); 13 Dec 2010 06:47:16 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 13 Dec 2010 06:47:16 -0000
Received: (qmail 67725 invoked by uid 500); 13 Dec 2010 06:47:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 67506 invoked by uid 500); 13 Dec 2010 06:47:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 67498 invoked by uid 99); 13 Dec 2010 06:47:13 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Dec 2010 06:47:13 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of pksinghus@gmail.com designates 209.85.210.176 as permitted sender)
Received: from [209.85.210.176] (HELO mail-iy0-f176.google.com) (209.85.210.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Dec 2010 06:47:08 +0000
Received: by iyb26 with SMTP id 26so851568iyb.35
        for <java-user@lucene.apache.org>; Sun, 12 Dec 2010 22:46:47 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=4cD7H5KOu3BdH2RwP3z/0v0pMfBtVzy7YXoPBQ5gurY=;
        b=b0Q01OlWwh51BlM79E0DyKGZxsPW1se8/1TKX1TcLOdgWA86VAHLWZDRRyV+Z7rNJy
         3RUL/NeFQ1t0x9bGCe7F+Ho/ZmX0BM75nrdUJm3OKdbWIb3b6YQAZGGzOG+FaSImswoA
         oJ9K9lh4M9V6R6Gi74SX/yZyW1xLM/SuwNssw=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=DZFS0rmu+hs2ErymC8HvLOoTCNhQpYBdgWvwBLod8etyee3wHIaCyr/89Ex/u8i9vF
         yA8rCQHEE4LHD13U3NUUW8NQpXfma6JyYKA230UD/MsXaNTb95OslI58esXTGUzfeprn
         PPzAU7aZl1RJ9ntPJDdi+0SAAfLdKnnjt7k10=
MIME-Version: 1.0
Received: by 10.231.207.84 with SMTP id fx20mr1532950ibb.62.1292222807848;
 Sun, 12 Dec 2010 22:46:47 -0800 (PST)
Received: by 10.231.173.85 with HTTP; Sun, 12 Dec 2010 22:46:47 -0800 (PST)
In-Reply-To: <0FD59CD8A2DF49D5AAB65412A8F43297@sv.us.sonicwall.com>
References: <0FD59CD8A2DF49D5AAB65412A8F43297@sv.us.sonicwall.com>
Date: Sun, 12 Dec 2010 22:46:47 -0800
Message-ID: <AANLkTimN2xt6stZ049TC95HZp7=tdoNeg_cqCxxZx6iG@mail.gmail.com>
Subject: Re: Scale up design
From: Pradeep Singh <pksinghus@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=90e6ba4fc5146eb8960497451171

--90e6ba4fc5146eb8960497451171
Content-Type: text/plain; charset=ISO-8859-1

8GB is used on laptops. For servers you need more.

On Sun, Dec 12, 2010 at 10:25 PM, Ganesh <emailgane@yahoo.co.in> wrote:

> Hello all,
>
> I know little bit about scale out design, Sharding the database across
> systems. Is any one in this group tried Scale up architecture? I think to
> scale up, we need to use 64 bit. How about the Lucene performance in 64 bit?
> Whether we could use 8 GB RAM completely?
>
> Could any share their thoughts on this.
>
> Regards
> Ganesh
> Send free SMS to your Friends on Mobile from your Yahoo! Messenger.
> Download Now! http://messenger.yahoo.com/download.php
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--90e6ba4fc5146eb8960497451171--

From java-user-return-48087-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Dec 13 07:01:57 2010
Return-Path: <java-user-return-48087-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 987 invoked from network); 13 Dec 2010 07:01:56 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 13 Dec 2010 07:01:56 -0000
Received: (qmail 73252 invoked by uid 500); 13 Dec 2010 07:01:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73066 invoked by uid 500); 13 Dec 2010 07:01:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73058 invoked by uid 99); 13 Dec 2010 07:01:51 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Dec 2010 07:01:51 +0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=FREEMAIL_FROM,MIME_QP_LONG_LINE,RCVD_IN_DNSWL_NONE,RFC_ABUSE_POST,SPF_NEUTRAL,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [121.101.151.226] (HELO nm4.bullet.mail.in.yahoo.com) (121.101.151.226)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 13 Dec 2010 07:01:43 +0000
Received: from [121.101.151.238] by nm4.bullet.mail.in.yahoo.com with NNFMP; 13 Dec 2010 07:01:30 -0000
Received: from [121.101.151.234] by tm3.bullet.mail.in.yahoo.com with NNFMP; 13 Dec 2010 07:01:24 -0000
Received: from [127.0.0.1] by omp1003.mail.in.yahoo.com with NNFMP; 13 Dec 2010 07:01:20 -0000
X-Yahoo-Newman-Id: 491259.21624.bm@omp1003.mail.in.yahoo.com
Received: (qmail 66586 invoked from network); 13 Dec 2010 07:01:21 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.in;
  h=DKIM-Signature:Received:X-Yahoo-SMTP:X-YMail-OSG:X-Yahoo-Newman-Property:Message-ID:From:To:References:Subject:Date:MIME-Version:Content-Type:Content-Transfer-Encoding:X-Priority:X-MSMail-Priority:X-Mailer:X-MimeOLE;
  b=ciCF8C97ZP332jqQF7Z9T+6vhOA0AKteoyWg6zRjWOygxZgrYGdlOqGOyVc2Ja7RmMA3pfMy+6PUyZMiXTUU2DQv/FEdXZYBWp3U+iPVpE0UVT6S1K9Y2keGXwwCmmtKEV8/VaRc4uFw7ISSa2c8O9Yy7MuUIsLnKFAqfrZZeUQ=  ;
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.co.in; s=s1024; t=1292223681; bh=cqmOPCzdezAe4SdIOO4zpfGWMyQjUZBR0MhkehzlzTc=; h=Received:X-Yahoo-SMTP:X-YMail-OSG:X-Yahoo-Newman-Property:Message-ID:From:To:References:Subject:Date:MIME-Version:Content-Type:Content-Transfer-Encoding:X-Priority:X-MSMail-Priority:X-Mailer:X-MimeOLE; b=Zw1DgN/7q+c0ggyBlKPB1C5dusuj8Ov2BOBLeoz+dwxQhGBjKEynjyHQCVfOZBz7KUYRyFlXok7LjYevBzB3xUb5Gf1nFSpjvw350MzFoEdAfmVmVK0VLB44I97HY/Fu6CcmXdcVSDCsZc3xDoInuZdNLJRkyTiVj9rpFkX022c=
Received: from GaneshM (emailgane@121.244.159.130 with login)
        by smtp107.mail.in.yahoo.com with SMTP; 13 Dec 2010 12:31:21 +0530 IST
X-Yahoo-SMTP: JObyHkuswBBrNSLZp.Ycd7Boqpr_GQ--
X-YMail-OSG: GyDqGKAVM1ndhPq8yh617EqV4JLLAfMhzeWGX5AYLgTHDnu
 sJyDSBgoOoYmwIGH3VCH9QsxKWXsXOAukjS_gTBhJ1YtmOvvjHK6fqJENoMV
 uqvuifBsUQlTYQINPxvmeRz05W4UuiCvH3ewnAitG26PufY9nOhcgR34d_.k
 DTIb2TpR3kqCS0z8SKFQtVFDfSDj0L4QxwOPvtvyGwPnbZgKqi9NxkjkYAYh
 ezfXJdNxVYR9WD4kFzBYwYRKT37y2ogY3QtQ_cNIC4nCj8vchjg--
X-Yahoo-Newman-Property: ymail-3
Message-ID: <7C07295C4C3A410B989D9334001248B7@sv.us.sonicwall.com>
From: "Ganesh" <emailgane@yahoo.co.in>
To: <java-user@lucene.apache.org>
References: <0FD59CD8A2DF49D5AAB65412A8F43297@sv.us.sonicwall.com> <AANLkTimN2xt6stZ049TC95HZp7=tdoNeg_cqCxxZx6iG@mail.gmail.com>
Subject: Re: Scale up design
Date: Mon, 13 Dec 2010 12:31:20 +0530
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.5931
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.5931
X-Virus-Checked: Checked by ClamAV on apache.org

Have you tried using Lucene in 64 Bit with more than 8 GB RAM.

Regards
Ganesh

----- Original Message -----=20
From: "Pradeep Singh" <pksinghus@gmail.com>
To: <java-user@lucene.apache.org>
Sent: Monday, December 13, 2010 12:16 PM
Subject: Re: Scale up design


> 8GB is used on laptops. For servers you need more.
>=20
> On Sun, Dec 12, 2010 at 10:25 PM, Ganesh <emailgane@yahoo.co.in> =
wrote:
>=20
>> Hello all,
>>
>> I know little bit about scale out design, Sharding the database =
across
>> systems. Is any one in this group tried Scale up architecture? I =
think to
>> scale up, we need to use 64 bit. How about the Lucene performance in =
64 bit?
>> Whether we could use 8 GB RAM completely?
>>
>> Could any share their thoughts on this.
>>
>> Regards
>> Ganesh
>> Send free SMS to your Friends on Mobile from your Yahoo! Messenger.
>> Download Now! http://messenger.yahoo.com/download.php
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>
Send free SMS to your Friends on Mobile from your Yahoo! Messenger. Download Now! http://messenger.yahoo.com/download.php

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48088-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Dec 13 08:16:34 2010
Return-Path: <java-user-return-48088-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 38290 invoked from network); 13 Dec 2010 08:16:33 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 13 Dec 2010 08:16:33 -0000
Received: (qmail 50727 invoked by uid 500); 13 Dec 2010 08:16:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50519 invoked by uid 500); 13 Dec 2010 08:16:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50511 invoked by uid 99); 13 Dec 2010 08:16:30 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Dec 2010 08:16:30 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of torindan@gmail.com designates 209.85.216.176 as permitted sender)
Received: from [209.85.216.176] (HELO mail-qy0-f176.google.com) (209.85.216.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Dec 2010 08:16:25 +0000
Received: by qyk10 with SMTP id 10so5397069qyk.14
        for <java-user@lucene.apache.org>; Mon, 13 Dec 2010 00:16:05 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:in-reply-to
         :references:from:date:message-id:subject:to:content-type;
        bh=EbmJfvPj6lgKuUlfcAHgTk+AJ9mlRiqnbBXlXtHleBE=;
        b=njxXJFZEXs5GWXKMHCqlZe3FDXswXiyJhauaiwgyfNmoQyE5IfxZcrqEVXKGn87iYk
         UZV4Y+aNHQpnV8V53MAEFkbEmdZGLpWbD/kxiIcxjCdUX3EzWg1clUIesvDmCkJIGCoa
         7pJAxosWBYlfK7KLSHAGickKogkEVGxDptkng=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=aSR5RAl7lj1gQk4SvqMFAnStEfsivZeTfam9iDzdwgmn9cDX2fbrqxOrv9H6koW2bO
         kyF6ddG7H3Efuy7c8yI8Kg9tp22vVUca53UN1VVaMMRDi+WWsRq8ycVdyZYnpp5lQOPF
         f7Ek+ZPeKo15AnkVpgalUhIzgLWYB4R5DX0ks=
Received: by 10.229.224.196 with SMTP id ip4mr3368141qcb.169.1292228164809;
 Mon, 13 Dec 2010 00:16:04 -0800 (PST)
MIME-Version: 1.0
Received: by 10.229.241.79 with HTTP; Mon, 13 Dec 2010 00:15:44 -0800 (PST)
In-Reply-To: <7C07295C4C3A410B989D9334001248B7@sv.us.sonicwall.com>
References: <0FD59CD8A2DF49D5AAB65412A8F43297@sv.us.sonicwall.com>
 <AANLkTimN2xt6stZ049TC95HZp7=tdoNeg_cqCxxZx6iG@mail.gmail.com> <7C07295C4C3A410B989D9334001248B7@sv.us.sonicwall.com>
From: =?UTF-8?B?RGFuaWwgxaJPUklO?= <torindan@gmail.com>
Date: Mon, 13 Dec 2010 10:15:44 +0200
Message-ID: <AANLkTi=+zFAKqEi9ghXT7oNNag5a2bKVTiOtGxdHMASw@mail.gmail.com>
Subject: Re: Scale up design
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8

GC times on large heaps are pretty painfull right now (haven't tried
G1 collector, knowledgeable people : please advise)

Also it's very dependent on your index and query pattern, so you could
improve it by using some -XX magic.

My recommendation is to scale horizontally (spit index into shards),
this way you'll be able to scale up much easier than moving to even
beefier server.
Initially if your server is big enough, you may host all your shards
on it, just in separate jvms.

If you are thinking on BIG indexes, you probably don't want to loose
them, so you also must think of replication, standbys and so on.
And from my experience overall cost (for same availability) is cheaper
when you use many smaller servers than few large ones.

On Mon, Dec 13, 2010 at 09:01, Ganesh <emailgane@yahoo.co.in> wrote:
> Have you tried using Lucene in 64 Bit with more than 8 GB RAM.
>
> Regards
> Ganesh
>
> ----- Original Message -----
> From: "Pradeep Singh" <pksinghus@gmail.com>
> To: <java-user@lucene.apache.org>
> Sent: Monday, December 13, 2010 12:16 PM
> Subject: Re: Scale up design
>
>
>> 8GB is used on laptops. For servers you need more.
>>
>> On Sun, Dec 12, 2010 at 10:25 PM, Ganesh <emailgane@yahoo.co.in> wrote:
>>
>>> Hello all,
>>>
>>> I know little bit about scale out design, Sharding the database across
>>> systems. Is any one in this group tried Scale up architecture? I think to
>>> scale up, we need to use 64 bit. How about the Lucene performance in 64 bit?
>>> Whether we could use 8 GB RAM completely?
>>>
>>> Could any share their thoughts on this.
>>>
>>> Regards
>>> Ganesh
>>> Send free SMS to your Friends on Mobile from your Yahoo! Messenger.
>>> Download Now! http://messenger.yahoo.com/download.php
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>
>>>
>>
> Send free SMS to your Friends on Mobile from your Yahoo! Messenger. Download Now! http://messenger.yahoo.com/download.php
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48089-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Dec 13 11:33:37 2010
Return-Path: <java-user-return-48089-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 8071 invoked from network); 13 Dec 2010 11:33:37 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 13 Dec 2010 11:33:37 -0000
Received: (qmail 34915 invoked by uid 500); 13 Dec 2010 11:33:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34652 invoked by uid 500); 13 Dec 2010 11:33:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34644 invoked by uid 99); 13 Dec 2010 11:33:34 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Dec 2010 11:33:34 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [209.85.214.174] (HELO mail-iw0-f174.google.com) (209.85.214.174)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Dec 2010 11:33:27 +0000
Received: by iwn9 with SMTP id 9so9123166iwn.5
        for <java-user@lucene.apache.org>; Mon, 13 Dec 2010 03:33:05 -0800 (PST)
Received: by 10.42.171.137 with SMTP id j9mr2659962icz.80.1292239985256; Mon,
 13 Dec 2010 03:33:05 -0800 (PST)
References: <0FD59CD8A2DF49D5AAB65412A8F43297@sv.us.sonicwall.com>
 <AANLkTimN2xt6stZ049TC95HZp7=tdoNeg_cqCxxZx6iG@mail.gmail.com>
 <7C07295C4C3A410B989D9334001248B7@sv.us.sonicwall.com> <AANLkTi=+zFAKqEi9ghXT7oNNag5a2bKVTiOtGxdHMASw@mail.gmail.com>
From: William Newport <billy@billynewport.com>
In-Reply-To: <AANLkTi=+zFAKqEi9ghXT7oNNag5a2bKVTiOtGxdHMASw@mail.gmail.com>
Mime-Version: 1.0 (iPhone Mail 8C148)
Date: Mon, 13 Dec 2010 05:33:03 -0600
Message-ID: <8707487473613519815@unknownmsgid>
Subject: Re: Scale up design
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

I've used 30-35gb heaps and it is painful.

Sent from my iPhone

On Dec 13, 2010, at 2:16 AM, "Danil =C5=A2ORIN" <torindan@gmail.com> wrote:

> GC times on large heaps are pretty painfull right now (haven't tried
> G1 collector, knowledgeable people : please advise)
>
> Also it's very dependent on your index and query pattern, so you could
> improve it by using some -XX magic.
>
> My recommendation is to scale horizontally (spit index into shards),
> this way you'll be able to scale up much easier than moving to even
> beefier server.
> Initially if your server is big enough, you may host all your shards
> on it, just in separate jvms.
>
> If you are thinking on BIG indexes, you probably don't want to loose
> them, so you also must think of replication, standbys and so on.
> And from my experience overall cost (for same availability) is cheaper
> when you use many smaller servers than few large ones.
>
> On Mon, Dec 13, 2010 at 09:01, Ganesh <emailgane@yahoo.co.in> wrote:
>> Have you tried using Lucene in 64 Bit with more than 8 GB RAM.
>>
>> Regards
>> Ganesh
>>
>> ----- Original Message -----
>> From: "Pradeep Singh" <pksinghus@gmail.com>
>> To: <java-user@lucene.apache.org>
>> Sent: Monday, December 13, 2010 12:16 PM
>> Subject: Re: Scale up design
>>
>>
>>> 8GB is used on laptops. For servers you need more.
>>>
>>> On Sun, Dec 12, 2010 at 10:25 PM, Ganesh <emailgane@yahoo.co.in> wrote:
>>>
>>>> Hello all,
>>>>
>>>> I know little bit about scale out design, Sharding the database across
>>>> systems. Is any one in this group tried Scale up architecture? I think=
 to
>>>> scale up, we need to use 64 bit. How about the Lucene performance in 6=
4 bit?
>>>> Whether we could use 8 GB RAM completely?
>>>>
>>>> Could any share their thoughts on this.
>>>>
>>>> Regards
>>>> Ganesh
>>>> Send free SMS to your Friends on Mobile from your Yahoo! Messenger.
>>>> Download Now! http://messenger.yahoo.com/download.php
>>>>
>>>> ---------------------------------------------------------------------
>>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>>
>>>>
>>>
>> Send free SMS to your Friends on Mobile from your Yahoo! Messenger. Down=
load Now! http://messenger.yahoo.com/download.php
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48090-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Dec 13 13:30:36 2010
Return-Path: <java-user-return-48090-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 86028 invoked from network); 13 Dec 2010 13:30:35 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 13 Dec 2010 13:30:35 -0000
Received: (qmail 87268 invoked by uid 500); 13 Dec 2010 13:30:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 86992 invoked by uid 500); 13 Dec 2010 13:30:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 86984 invoked by uid 99); 13 Dec 2010 13:30:31 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Dec 2010 13:30:31 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of erickerickson@gmail.com designates 209.85.216.48 as permitted sender)
Received: from [209.85.216.48] (HELO mail-qw0-f48.google.com) (209.85.216.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Dec 2010 13:30:27 +0000
Received: by qwh6 with SMTP id 6so6549509qwh.35
        for <java-user@lucene.apache.org>; Mon, 13 Dec 2010 05:30:06 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=Sm6FClJKuMWBkE6O4Fg/+v+dzFxwrUNIfuzMBdR4HRE=;
        b=oWHjDKrDwek8nUgBbuSd3IjA5cp1JDKevphTAS62RZxgHxDzdw9c1Sp7BmpI9gD14w
         QnMc2ybnRI3mFKaQMOaf3neNZ7NBhin9T66ur+mLLGRgSXcKXn0UoWRb6Yd+H/VZa2Po
         ngcZMHTyVNv4WzbfYl+6bUJnyTgTkWqMTbAMU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=T0/yXnvn2t0dmnLKB0Fwh/L5DYL412FRb+BFby/x+38XxryHghPY+D8HFj3KWQC8NJ
         JYyBq1k9PUA+TmEnW2ywWpT+s20r3P9U0b2g34jEw1ZiP5coFptcEc4YmTer+Jl6C0sn
         1GIXbnEqUOxOwNy8yVinEfiLnIrkXRlg+jpaQ=
MIME-Version: 1.0
Received: by 10.229.230.80 with SMTP id jl16mr3962624qcb.114.1292247006413;
 Mon, 13 Dec 2010 05:30:06 -0800 (PST)
Received: by 10.229.235.208 with HTTP; Mon, 13 Dec 2010 05:30:06 -0800 (PST)
In-Reply-To: <8707487473613519815@unknownmsgid>
References: <0FD59CD8A2DF49D5AAB65412A8F43297@sv.us.sonicwall.com>
	<AANLkTimN2xt6stZ049TC95HZp7=tdoNeg_cqCxxZx6iG@mail.gmail.com>
	<7C07295C4C3A410B989D9334001248B7@sv.us.sonicwall.com>
	<AANLkTi=+zFAKqEi9ghXT7oNNag5a2bKVTiOtGxdHMASw@mail.gmail.com>
	<8707487473613519815@unknownmsgid>
Date: Mon, 13 Dec 2010 08:30:06 -0500
Message-ID: <AANLkTi=YmMa15u3AUvd2X=G-Cnm-NvNxCxL0mN9e0vUa@mail.gmail.com>
Subject: Re: Scale up design
From: Erick Erickson <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016364ecfa4c7ad4e04974ab3a3

--0016364ecfa4c7ad4e04974ab3a3
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Here's a great intro to the garbage collection options:
http://www.lucidimagination.com/blog/2009/09/19/java-garbage-collection-boo=
t-camp-draft/

@Ganesh:
The issue with 64 bit isn't really performance, it's that you can't allocat=
e
much of
your memory to the JVM. So by definition your performance will tank much
earlier
with a 32-bit JVM no matter what physical hardware you're running on becaus=
e
you're constrained by how much of the physical memory you *can* use.

Best
Erick

On Mon, Dec 13, 2010 at 6:33 AM, William Newport <billy@billynewport.com>wr=
ote:

> I've used 30-35gb heaps and it is painful.
>
> Sent from my iPhone
>
> On Dec 13, 2010, at 2:16 AM, "Danil =C5=A2ORIN" <torindan@gmail.com> wrot=
e:
>
> > GC times on large heaps are pretty painfull right now (haven't tried
> > G1 collector, knowledgeable people : please advise)
> >
> > Also it's very dependent on your index and query pattern, so you could
> > improve it by using some -XX magic.
> >
> > My recommendation is to scale horizontally (spit index into shards),
> > this way you'll be able to scale up much easier than moving to even
> > beefier server.
> > Initially if your server is big enough, you may host all your shards
> > on it, just in separate jvms.
> >
> > If you are thinking on BIG indexes, you probably don't want to loose
> > them, so you also must think of replication, standbys and so on.
> > And from my experience overall cost (for same availability) is cheaper
> > when you use many smaller servers than few large ones.
> >
> > On Mon, Dec 13, 2010 at 09:01, Ganesh <emailgane@yahoo.co.in> wrote:
> >> Have you tried using Lucene in 64 Bit with more than 8 GB RAM.
> >>
> >> Regards
> >> Ganesh
> >>
> >> ----- Original Message -----
> >> From: "Pradeep Singh" <pksinghus@gmail.com>
> >> To: <java-user@lucene.apache.org>
> >> Sent: Monday, December 13, 2010 12:16 PM
> >> Subject: Re: Scale up design
> >>
> >>
> >>> 8GB is used on laptops. For servers you need more.
> >>>
> >>> On Sun, Dec 12, 2010 at 10:25 PM, Ganesh <emailgane@yahoo.co.in>
> wrote:
> >>>
> >>>> Hello all,
> >>>>
> >>>> I know little bit about scale out design, Sharding the database acro=
ss
> >>>> systems. Is any one in this group tried Scale up architecture? I thi=
nk
> to
> >>>> scale up, we need to use 64 bit. How about the Lucene performance in
> 64 bit?
> >>>> Whether we could use 8 GB RAM completely?
> >>>>
> >>>> Could any share their thoughts on this.
> >>>>
> >>>> Regards
> >>>> Ganesh
> >>>> Send free SMS to your Friends on Mobile from your Yahoo! Messenger.
> >>>> Download Now! http://messenger.yahoo.com/download.php
> >>>>
> >>>> --------------------------------------------------------------------=
-
> >>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >>>> For additional commands, e-mail: java-user-help@lucene.apache.org
> >>>>
> >>>>
> >>>
> >> Send free SMS to your Friends on Mobile from your Yahoo! Messenger.
> Download Now! http://messenger.yahoo.com/download.php
> >>
> >> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >> For additional commands, e-mail: java-user-help@lucene.apache.org
> >>
> >>
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--0016364ecfa4c7ad4e04974ab3a3--

From java-user-return-48091-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Dec 13 19:26:47 2010
Return-Path: <java-user-return-48091-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93946 invoked from network); 13 Dec 2010 19:26:47 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 13 Dec 2010 19:26:47 -0000
Received: (qmail 55307 invoked by uid 500); 13 Dec 2010 19:26:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 55234 invoked by uid 500); 13 Dec 2010 19:26:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 55226 invoked by uid 99); 13 Dec 2010 19:26:44 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Dec 2010 19:26:44 +0000
X-ASF-Spam-Status: No, hits=3.7 required=10.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of bhurt42@gmail.com designates 209.85.215.176 as permitted sender)
Received: from [209.85.215.176] (HELO mail-ey0-f176.google.com) (209.85.215.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Dec 2010 19:26:37 +0000
Received: by eyz10 with SMTP id 10so3892503eyz.7
        for <java-user@lucene.apache.org>; Mon, 13 Dec 2010 11:26:16 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:date:message-id
         :subject:from:to:content-type;
        bh=CH8crfATgrZ4LdXrYHW2iVn4guMDUtua4ArAGopMCAg=;
        b=mDUYki1uej8d+6eMTG6pna7p/b637KpDjy90SsoStIloW22llrA/g4emw3YnL2/qmA
         8eY8q3lD40vPj/AS8/KOEiI/L8A167s0vOQqb1aRMHJhBmuMYo46tK1bk5RVhsBOL2lI
         isqnbW08ui4dLYtotRJvJ1F5xmJvjeIh5JAiE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=VjtwEWQkXHkQV4j8tYhFifTupWfj9oT7daAQu6LxbiFYcmcoIcNA7h/vQmsvCe167w
         14y/qFAhtOynmd9qgu6tVB2QKGRLN4rYkOHIPdiMFlk8QQ2ESp0N5E7GpU/z294d/FDc
         wBRDOXEdWUL5lFQXQEiG2b8QxTs2SFDdy7GQs=
MIME-Version: 1.0
Received: by 10.213.17.1 with SMTP id q1mr60373eba.9.1292267404042; Mon, 13
 Dec 2010 11:10:04 -0800 (PST)
Received: by 10.213.17.131 with HTTP; Mon, 13 Dec 2010 11:10:03 -0800 (PST)
Date: Mon, 13 Dec 2010 14:10:03 -0500
Message-ID: <AANLkTimV1bf8sxWBSwfY8LoaBLpYz5OApeMoSQRQG7D+@mail.gmail.com>
Subject: The logic of QueryParser
From: Brian Hurt <bhurt42@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=000e0cd1e16492a81e04974f7396

--000e0cd1e16492a81e04974f7396
Content-Type: text/plain; charset=ISO-8859-1

I just encountered an unexpected behavior in query parser.  So, if you pass
in a query that is multiple terms, like "cat hat", the query that is
returned uses an or between the two term searches, instead of an and.  That
is, the query will return all documents with the given field containing
either "cat" or "hat".  Now, I know about phrase queries, using "\"cat
hat\"", and I know about +, "+cat +hat".  So there are ways to work around
the problem- the behavior was just unintuitive for me and several others.  I
was just wondering what the logic was for defaulting to or instead of and.

I have googled the mailing list archives and didn't find anything.  But if
this has been discussed to death, please just point me to the threads in the
archive. rather than stirring up some old flame war.  Or just tell me what
to google for (the terms I've tried haven't yielded anything useful).
Thanks.

Brian

--000e0cd1e16492a81e04974f7396--

From java-user-return-48092-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Dec 13 19:35:40 2010
Return-Path: <java-user-return-48092-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98168 invoked from network); 13 Dec 2010 19:35:39 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 13 Dec 2010 19:35:39 -0000
Received: (qmail 90811 invoked by uid 500); 13 Dec 2010 19:35:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 90768 invoked by uid 500); 13 Dec 2010 19:35:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 90760 invoked by uid 99); 13 Dec 2010 19:35:37 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Dec 2010 19:35:37 +0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [206.190.49.14] (HELO web52904.mail.re2.yahoo.com) (206.190.49.14)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 13 Dec 2010 19:35:28 +0000
Received: (qmail 11320 invoked by uid 60001); 13 Dec 2010 19:35:07 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1292268907; bh=w44UW2As86OZz2eEcOy5JgXobr2YJKG87V4y8gPCB0U=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding; b=QR0fPscRIG90qUaMpiFMFsdEP6Z0r5V2bWUvU96xRC9HFeOAtm0mxz90IeNuJ4o0ODLXnXDPHtcIsSzwitkAL8bJ0+sR4gdabroSm//4Y0sfBd6hqD9r4SpejExwo9LJo7eGtT+2Y1o97ll9OoXUvON30iD2vEvEUZ8ibWn6joM=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=0qZWnMPL4cn7rCSM7EPSRubRWTJyBZk+Yxf0/VJ1nf/OOUIrkNxuGjKClgHMRgQvfKyzue0iSuETqBTljFeGWUd8UScxbV1gjMglcirrrEes1j6Uqyqs+AGOfuwFYQ5FywsNLv6ydBuySSE4Lsu+yMAJ8vRKp2KUAdbuSuv1X4M=;
Message-ID: <328389.8920.qm@web52904.mail.re2.yahoo.com>
X-YMail-OSG: 1PpvOqQVM1mHW9nFSW8C0iaSgReSAun8yYawI1Fg6yV1muH
 aoc8oQlVlU7BpWQutqmPSxwDFyqgUQAXxbz0hk5kLNWWcaV5nlJWWnrKycTd
 NWq2e_Yk452cQtNJPgOg5eFL7uxI.HFrmg1z.GbHXhR7bNNMK6h1U93KqXn3
 tSRoDO137izBTvpFMZ4TwKM206xKk2F7rQNJqTmOy7wznVOTwgcoAVxqp6ri
 x00l.w21OWuYPuMJBUPyxily0GL2AC9i.pUZ.62pYx_QdrTAHojjd2MFm81Y
 gtUhpDrNLTJJodaVyINSW8endIJmWmsmaJwRP3bw4WAdYf_aqAet5dJR4OFy
 kPen7W8vCjxiXfIZA.2l7GWT.DWaJ.33tRmcEZKfTmkN.d2OOQUcJ0nxhWpt
 AhgUy6AFOJOo-
Received: from [78.169.74.124] by web52904.mail.re2.yahoo.com via HTTP; Mon, 13 Dec 2010 11:35:07 PST
X-Mailer: YahooMailClassic/11.4.20 YahooMailWebService/0.8.107.285259
Date: Mon, 13 Dec 2010 11:35:07 -0800 (PST)
From: Ahmet Arslan <iorixxx@yahoo.com>
Subject: Re: The logic of QueryParser
To: java-user@lucene.apache.org
In-Reply-To: <AANLkTimV1bf8sxWBSwfY8LoaBLpYz5OApeMoSQRQG7D+@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

> I have googled the mailing list archives and didn't find=0A> anything.=A0=
 But if=0A> this has been discussed to death, please just point me to=0A> t=
he threads in the=0A> archive. rather than stirring up some old flame war.=
=A0=0A> Or just tell me what=0A> to google for (the terms I've tried haven'=
t yielded=0A> anything useful).=0A=0A=0Aorg.apache.lucene.queryParser.Query=
Parser.setDefaultOperator()=0A=0A=0A      

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48093-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Dec 13 19:36:36 2010
Return-Path: <java-user-return-48093-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98583 invoked from network); 13 Dec 2010 19:36:35 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 13 Dec 2010 19:36:35 -0000
Received: (qmail 93673 invoked by uid 500); 13 Dec 2010 19:36:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 93632 invoked by uid 500); 13 Dec 2010 19:36:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 93624 invoked by uid 99); 13 Dec 2010 19:36:33 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Dec 2010 19:36:33 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of rcmuir@gmail.com designates 209.85.214.51 as permitted sender)
Received: from [209.85.214.51] (HELO mail-bw0-f51.google.com) (209.85.214.51)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Dec 2010 19:36:27 +0000
Received: by bwz8 with SMTP id 8so7489898bwz.24
        for <java-user@lucene.apache.org>; Mon, 13 Dec 2010 11:36:05 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:in-reply-to
         :references:from:date:message-id:subject:to:content-type
         :content-transfer-encoding;
        bh=yowW77Iagry2+xlDZwD7PEWxk5g/TE/153iRegeioLo=;
        b=A4lTQ+z9fnaCY7L7KirmeR7ize4SYZVNb63lsfH5dPeQS9Q142Kh0rFgTIVAtMYY4I
         Pz5piItJP4vx+XCXdxo6D0RZqTO1CvotWGMuLImetEMvJvbAU37hcPyiMX7lp5EeqC3z
         ZLiqRyB8yEzANG1jkgmUUOMv1s1F984X1jwnw=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        b=Jt+wgyLyTso8KjFOvBbu0jqOhDoBpCZKZlUdPdma3ocGFi5bxRNHdkiX8vOUYCmzEy
         m2DRgoudQjoqb8u+grQxWEgsm9zsoz8Ir90GPS3ABCEUKxe5uRinDK8mTLv7U/7MOZZH
         hqRyVd8hwA8Pa67mxAws3jFw9KFW7u/4UrpaU=
Received: by 10.204.47.198 with SMTP id o6mr3171817bkf.147.1292268965860; Mon,
 13 Dec 2010 11:36:05 -0800 (PST)
MIME-Version: 1.0
Received: by 10.204.75.146 with HTTP; Mon, 13 Dec 2010 11:35:45 -0800 (PST)
In-Reply-To: <AANLkTimV1bf8sxWBSwfY8LoaBLpYz5OApeMoSQRQG7D+@mail.gmail.com>
References: <AANLkTimV1bf8sxWBSwfY8LoaBLpYz5OApeMoSQRQG7D+@mail.gmail.com>
From: Robert Muir <rcmuir@gmail.com>
Date: Mon, 13 Dec 2010 14:35:45 -0500
Message-ID: <AANLkTi=ww-Vf7kEFoghBgiYyfOU_RWsP__UMA-a=OdfE@mail.gmail.com>
Subject: Re: The logic of QueryParser
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On Mon, Dec 13, 2010 at 2:10 PM, Brian Hurt <bhurt42@gmail.com> wrote:
> I just encountered an unexpected behavior in query parser. =C2=A0So, if y=
ou pass
> in a query that is multiple terms, like "cat hat", the query that is
> returned uses an or between the two term searches, instead of an and. =C2=
=A0That
> is, the query will return all documents with the given field containing
> either "cat" or "hat". =C2=A0Now, I know about phrase queries, using "\"c=
at
> hat\"", and I know about +, "+cat +hat". =C2=A0So there are ways to work =
around
> the problem- the behavior was just unintuitive for me and several others.=
 =C2=A0I
> was just wondering what the logic was for defaulting to or instead of and=
.
>
> I have googled the mailing list archives and didn't find anything. =C2=A0=
But if
> this has been discussed to death, please just point me to the threads in =
the
> archive. rather than stirring up some old flame war. =C2=A0Or just tell m=
e what
> to google for (the terms I've tried haven't yielded anything useful).
> Thanks.
>

Well its not quite a pure OR query, since it also incorporates
Similarity.coord() which boosts documents that contain more of the
query terms.
But to understand the default, imagine a more natural query of "where
is the cat in the hat".
The default OR query will still give good results, including boosting
documents that contain both 'cat' and 'hat', but with AND you would
get nothing if all of those low-value terms for some reason were not
in that document.

However, if your queries are more restricted, maybe you want to either:

1) adjust Similarity.coord() to make this boost better for your app
(for example, maybe only give a boost if overlap =3D=3D maxOverlap, and
maybe play with the amount of boost)
 or
2) set your queryParser's default operator to AND with the
.setDefaultOperator() method..., but realize this could exclude very
relevant results that happen to be missing some useless keywords.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48094-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Dec 13 19:43:53 2010
Return-Path: <java-user-return-48094-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 959 invoked from network); 13 Dec 2010 19:43:53 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 13 Dec 2010 19:43:53 -0000
Received: (qmail 12780 invoked by uid 500); 13 Dec 2010 19:43:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 12741 invoked by uid 500); 13 Dec 2010 19:43:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 12733 invoked by uid 99); 13 Dec 2010 19:43:50 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Dec 2010 19:43:50 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of yseeley@gmail.com designates 209.85.161.47 as permitted sender)
Received: from [209.85.161.47] (HELO mail-fx0-f47.google.com) (209.85.161.47)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Dec 2010 19:43:43 +0000
Received: by fxm17 with SMTP id 17so6358421fxm.6
        for <java-user@lucene.apache.org>; Mon, 13 Dec 2010 11:43:23 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:sender:reply-to:received
         :in-reply-to:references:date:x-google-sender-auth:message-id:subject
         :from:to:content-type:content-transfer-encoding;
        bh=jdh9L0pb/5DkQd601gzM/Cr647SXORMV6Ti3/9339MQ=;
        b=ad+I5oW6OD1C6N9mE0mucTZyv+omuyOROabBN3+24mygCWj3JIX5YX9F0I19mpdi5Y
         EApkn3AIQGPfIe/YuJLjfpUK5+AU+1U7vUGd5Wr3HhOq2nkRrxJ6OVrY1+I1j5KlvvzU
         2xQQZcqxdrVpNw9iYJGXLcNzyZMcIO8olkjf8=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:sender:reply-to:in-reply-to:references:date
         :x-google-sender-auth:message-id:subject:from:to:content-type
         :content-transfer-encoding;
        b=wgMdGDGLoQCurj+K/TsNiuOFdPam5CjIPyjnuiNMJkEYxDeAziDrJZ3bdsUJ6ogOJW
         SrPk0w9FY3ooxjFtXeGeNAWmQdskT51VrxySLhETwlSfYrSRO2vEl+XztTwiFphjDI/7
         c5nPZH04Vm424Hhq9LX0/jpSWr4wkDDGgCSNM=
MIME-Version: 1.0
Received: by 10.223.96.195 with SMTP id i3mr3415731fan.32.1292269403445; Mon,
 13 Dec 2010 11:43:23 -0800 (PST)
Sender: yseeley@gmail.com
Reply-To: yonik@lucidimagination.com
Received: by 10.223.78.141 with HTTP; Mon, 13 Dec 2010 11:43:23 -0800 (PST)
In-Reply-To: <AANLkTimV1bf8sxWBSwfY8LoaBLpYz5OApeMoSQRQG7D+@mail.gmail.com>
References: <AANLkTimV1bf8sxWBSwfY8LoaBLpYz5OApeMoSQRQG7D+@mail.gmail.com>
Date: Mon, 13 Dec 2010 14:43:23 -0500
X-Google-Sender-Auth: UxgFVXPeLwuw0xm_FhobCcqfdEI
Message-ID: <AANLkTinSjbV-cisExLvLziVmPO2XK8coy5prVO6Krtd0@mail.gmail.com>
Subject: Re: The logic of QueryParser
From: Yonik Seeley <yonik@lucidimagination.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

On Mon, Dec 13, 2010 at 2:10 PM, Brian Hurt <bhurt42@gmail.com> wrote:
> =A0I was just wondering what the logic was for defaulting to or instead o=
f and.

Largely historical.  I think the original rational was that it
probably fit better with the traditional vector space model.
There's also not a good reason to change the default, given that
QueryParser isn't meant for end users.

-Yonik
http://lucidimagination.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48095-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Dec 13 19:52:35 2010
Return-Path: <java-user-return-48095-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 4602 invoked from network); 13 Dec 2010 19:52:34 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 13 Dec 2010 19:52:34 -0000
Received: (qmail 28200 invoked by uid 500); 13 Dec 2010 19:52:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 28163 invoked by uid 500); 13 Dec 2010 19:52:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 28155 invoked by uid 99); 13 Dec 2010 19:52:32 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Dec 2010 19:52:32 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of rcmuir@gmail.com designates 209.85.214.51 as permitted sender)
Received: from [209.85.214.51] (HELO mail-bw0-f51.google.com) (209.85.214.51)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Dec 2010 19:52:25 +0000
Received: by bwz8 with SMTP id 8so7507882bwz.24
        for <java-user@lucene.apache.org>; Mon, 13 Dec 2010 11:52:05 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:in-reply-to
         :references:from:date:message-id:subject:to:content-type
         :content-transfer-encoding;
        bh=b9owyflD+HIK9z8TBAUHKCtatR7ngsInL1CilSmV8nU=;
        b=QnaGYQmTTpHTq5aAMdZsduoeq4A92oObEZo0WZIQjJv2gpZqO3PUqnmse+zQqUrIBe
         jgy2ROt4IrUHCqmmYf86PNd2EQDQPimaV1h3m4eOVKrq3+nkF6B33ztmtXaPM3Ikzaa+
         QZxO3ydrPlroxTNEFIatGchKzX6/qgoUeriUw=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        b=eb+InmduXrBcOA1DJBZhG7iwjj8vi+dNxqngPM3ee0DvUDP+9CyXxLl1ZTWiONmeDV
         IT2rijcxwOpMmRs4BnpWIwU2sWLkdntsjheRFD6WnkClntWBlUeWduKLeNAa5UrkmPLB
         JIdlzM2vNH9VAixG/WyracgyvctVw172HhCPY=
Received: by 10.204.126.230 with SMTP id d38mr951224bks.120.1292269925040;
 Mon, 13 Dec 2010 11:52:05 -0800 (PST)
MIME-Version: 1.0
Received: by 10.204.75.146 with HTTP; Mon, 13 Dec 2010 11:51:44 -0800 (PST)
In-Reply-To: <AANLkTinSjbV-cisExLvLziVmPO2XK8coy5prVO6Krtd0@mail.gmail.com>
References: <AANLkTimV1bf8sxWBSwfY8LoaBLpYz5OApeMoSQRQG7D+@mail.gmail.com> <AANLkTinSjbV-cisExLvLziVmPO2XK8coy5prVO6Krtd0@mail.gmail.com>
From: Robert Muir <rcmuir@gmail.com>
Date: Mon, 13 Dec 2010 14:51:44 -0500
Message-ID: <AANLkTikk6w3cS7yvDsuxr3r0uRJG3x0p+3inFwwnGzGy@mail.gmail.com>
Subject: Re: The logic of QueryParser
To: java-user@lucene.apache.org, yonik@lucidimagination.com
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

On Mon, Dec 13, 2010 at 2:43 PM, Yonik Seeley
<yonik@lucidimagination.com> wrote:
> On Mon, Dec 13, 2010 at 2:10 PM, Brian Hurt <bhurt42@gmail.com> wrote:
>> =C2=A0I was just wondering what the logic was for defaulting to or inste=
ad of and.
>
> Largely historical. =C2=A0I think the original rational was that it
> probably fit better with the traditional vector space model.
> There's also not a good reason to change the default, given that
> QueryParser isn't meant for end users.
>

Thats pretty misleading Yonik.

"In other words, the query parser is designed for human-entered text,
not for program-generated text."
http://lucene.apache.org/java/3_0_3/queryparsersyntax.html

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48096-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Dec 13 19:57:29 2010
Return-Path: <java-user-return-48096-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5817 invoked from network); 13 Dec 2010 19:57:29 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 13 Dec 2010 19:57:29 -0000
Received: (qmail 38013 invoked by uid 500); 13 Dec 2010 19:57:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37954 invoked by uid 500); 13 Dec 2010 19:57:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37941 invoked by uid 99); 13 Dec 2010 19:57:26 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Dec 2010 19:57:26 +0000
X-ASF-Spam-Status: No, hits=3.7 required=10.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of bhurt42@gmail.com designates 209.85.215.53 as permitted sender)
Received: from [209.85.215.53] (HELO mail-ew0-f53.google.com) (209.85.215.53)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Dec 2010 19:57:18 +0000
Received: by ewy6 with SMTP id 6so4452367ewy.26
        for <java-user@lucene.apache.org>; Mon, 13 Dec 2010 11:56:58 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=zPtJuSWOogT8RPgf89Aa7mPYt/lcwFz7dp4sLi6hykE=;
        b=ZEQi6FhMDbArfYz5oSOQlKGSMN+SaREj4A6I2aZLlLjnzMgnpL7qdZYotQLrYVu7+i
         Yd1yaNBAUuP6oE9mUYX4UN2rq5v6U0+FAJ91ujtkWCavJN9xRScCCKUV3CwKxWODZL2x
         S4cENNAkVwu5nnvWM+Bg1SGvbD2n5XDU6LEpE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=H03KOevTqyW3QaziVUOdRckyFclBfGpv4R8gECYAzl0ooUzJHeWKRunQ2JaYubMW2P
         3pHmYo/dWLK8mHT5EBSxxwYGdg2vtwlewCbgbT6jnRoJfQV7g1GqUTWtGQZxV/b6Iv6B
         osxkGLVlGYpBFx8ngfSCtCwAwI8kpWqZlY8hs=
MIME-Version: 1.0
Received: by 10.213.32.208 with SMTP id e16mr4312932ebd.35.1292269290104; Mon,
 13 Dec 2010 11:41:30 -0800 (PST)
Received: by 10.213.17.131 with HTTP; Mon, 13 Dec 2010 11:41:29 -0800 (PST)
In-Reply-To: <328389.8920.qm@web52904.mail.re2.yahoo.com>
References: <AANLkTimV1bf8sxWBSwfY8LoaBLpYz5OApeMoSQRQG7D+@mail.gmail.com>
	<328389.8920.qm@web52904.mail.re2.yahoo.com>
Date: Mon, 13 Dec 2010 14:41:29 -0500
Message-ID: <AANLkTinFpM6hJgQF0pKgUDiYOom51OGhRXW844PawnMM@mail.gmail.com>
Subject: Re: The logic of QueryParser
From: Brian Hurt <bhurt42@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=000e0cd50a70fdac1904974fe394
X-Virus-Checked: Checked by ClamAV on apache.org

--000e0cd50a70fdac1904974fe394
Content-Type: text/plain; charset=ISO-8859-1

On Mon, Dec 13, 2010 at 2:35 PM, Ahmet Arslan <iorixxx@yahoo.com> wrote:

> > I have googled the mailing list archives and didn't find
> > anything.  But if
> > this has been discussed to death, please just point me to
> > the threads in the
> > archive. rather than stirring up some old flame war.
> > Or just tell me what
> > to google for (the terms I've tried haven't yielded
> > anything useful).
>
>
> org.apache.lucene.queryParser.QueryParser.setDefaultOperator()
>
>
>
Even better.  I had missed that.  Thank you very much!

Brian

--000e0cd50a70fdac1904974fe394--

From java-user-return-48097-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Dec 13 20:05:25 2010
Return-Path: <java-user-return-48097-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16657 invoked from network); 13 Dec 2010 20:05:25 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 13 Dec 2010 20:05:25 -0000
Received: (qmail 50991 invoked by uid 500); 13 Dec 2010 20:05:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50951 invoked by uid 500); 13 Dec 2010 20:05:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50943 invoked by uid 99); 13 Dec 2010 20:05:23 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Dec 2010 20:05:23 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of yseeley@gmail.com designates 209.85.161.47 as permitted sender)
Received: from [209.85.161.47] (HELO mail-fx0-f47.google.com) (209.85.161.47)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Dec 2010 20:05:16 +0000
Received: by fxm17 with SMTP id 17so6382277fxm.6
        for <java-user@lucene.apache.org>; Mon, 13 Dec 2010 12:04:56 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:sender:reply-to:received
         :in-reply-to:references:date:x-google-sender-auth:message-id:subject
         :from:to:content-type:content-transfer-encoding;
        bh=qAf07hJ3WvelLnyrIUh9dPdTv5yGj4br+Qhc0Ckr9r8=;
        b=AlbhX7wrH21H4z1liZKeHKwhDTFGroroi9NIP2690NHtW6cJKs10vFqbO9AuKlPcKO
         kdnU0aJ0BvLfQm+eNOAiYwGB+Q/e10HzrT6CSwLZwtL+u604+Nfia/hFgIMC1sX+chze
         TvRGlGoLtCurNxB7ezrXYgvCYbKDZXYhLTcM0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:sender:reply-to:in-reply-to:references:date
         :x-google-sender-auth:message-id:subject:from:to:content-type
         :content-transfer-encoding;
        b=kGmUY+UvM5l6YXPFlWKyRps8mQL+w1EEBG/MPT/SaXnC68htDZ8FJRsS+AiPzth/aO
         cALz7Q4FpU/baD3fQfbRkDhgBtwqH6rqweJku8XA3MYDWjq3EQa3ZoIUjJwBUpKCNeJD
         la3x5GHpa2Mzino5/G745S7uwI6UvBFXrXPds=
MIME-Version: 1.0
Received: by 10.223.71.201 with SMTP id i9mr4716888faj.89.1292270696068; Mon,
 13 Dec 2010 12:04:56 -0800 (PST)
Sender: yseeley@gmail.com
Reply-To: yonik@lucidimagination.com
Received: by 10.223.78.141 with HTTP; Mon, 13 Dec 2010 12:04:55 -0800 (PST)
In-Reply-To: <AANLkTikk6w3cS7yvDsuxr3r0uRJG3x0p+3inFwwnGzGy@mail.gmail.com>
References: <AANLkTimV1bf8sxWBSwfY8LoaBLpYz5OApeMoSQRQG7D+@mail.gmail.com>
	<AANLkTinSjbV-cisExLvLziVmPO2XK8coy5prVO6Krtd0@mail.gmail.com>
	<AANLkTikk6w3cS7yvDsuxr3r0uRJG3x0p+3inFwwnGzGy@mail.gmail.com>
Date: Mon, 13 Dec 2010 15:04:55 -0500
X-Google-Sender-Auth: tNDwvWNliQgTrEFD1U3c87duD90
Message-ID: <AANLkTimUDCCtcEFSsv1oLj9nL36bTZpPhnUafOUpnTvm@mail.gmail.com>
Subject: Re: The logic of QueryParser
From: Yonik Seeley <yonik@lucidimagination.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

On Mon, Dec 13, 2010 at 2:51 PM, Robert Muir <rcmuir@gmail.com> wrote:
> On Mon, Dec 13, 2010 at 2:43 PM, Yonik Seeley
> <yonik@lucidimagination.com> wrote:
>> On Mon, Dec 13, 2010 at 2:10 PM, Brian Hurt <bhurt42@gmail.com> wrote:
>>> =A0I was just wondering what the logic was for defaulting to or instead=
 of and.
>>
>> Largely historical. =A0I think the original rational was that it
>> probably fit better with the traditional vector space model.
>> There's also not a good reason to change the default, given that
>> QueryParser isn't meant for end users.
>>
> Thats pretty misleading Yonik.
>
> "In other words, the query parser is designed for human-entered text,
> not for program-generated text."
> http://lucene.apache.org/java/3_0_3/queryparsersyntax.html

*shrugs*, I didn't recall that phrase... but I'm not clear if you
disagree with what I'm saying, or if you just think that it's
inconsistent with the documentation.

I think of the Lucene QueryParser like SQL. SQL is text based and also
meant for human entered text - but for either very expert users, or
programmatically created queries.  You normally don't want to pass
text from a search box directly to an SQL database or to the Lucene
QueryParser.

-Yonik
http://www.lucidimagination.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48098-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Dec 13 20:07:56 2010
Return-Path: <java-user-return-48098-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 18670 invoked from network); 13 Dec 2010 20:07:56 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 13 Dec 2010 20:07:56 -0000
Received: (qmail 56528 invoked by uid 500); 13 Dec 2010 20:07:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 56479 invoked by uid 500); 13 Dec 2010 20:07:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 56470 invoked by uid 99); 13 Dec 2010 20:07:54 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Dec 2010 20:07:54 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of rcmuir@gmail.com designates 209.85.214.51 as permitted sender)
Received: from [209.85.214.51] (HELO mail-bw0-f51.google.com) (209.85.214.51)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Dec 2010 20:07:47 +0000
Received: by bwz8 with SMTP id 8so7524573bwz.24
        for <java-user@lucene.apache.org>; Mon, 13 Dec 2010 12:07:27 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:in-reply-to
         :references:from:date:message-id:subject:to:content-type
         :content-transfer-encoding;
        bh=jhNsZ5gxX/BqV5+hKqr5wAZcyS/N2EVvg4D+ToXZmU8=;
        b=JuwYrqm1LlQvLtGICqE8DLHOrDR44+ap4TpbSIfIu2J6OzIEdN2vUYleMnLFESH45m
         0GbIHesvXSJO/uw+H49f75FHBG6YtZP8ap7jqtGIZ8J2R+1MrfWgdFMn5P1kPXAlTdbv
         NTuoPbLs2fVD/fAnnqhXAfMCPXItc/XsxRC7s=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        b=Q0CCU28vZHbBfo+vlj9vi6cxi5NSPy8fTkK/KZSyfgJPVTqbmtGBmcLW72IxVr2GO7
         ExnZ1FmOlT5sHyJVPXvBAftbgwiQNwLid9nR4VO0wdo3ydcx+lSqQTe1lJtO9qZUzqEd
         if/x+YZyJi2NrzzjraMfXmHBcOh3hyZh7PiEY=
Received: by 10.204.47.198 with SMTP id o6mr3202662bkf.147.1292270846926; Mon,
 13 Dec 2010 12:07:26 -0800 (PST)
MIME-Version: 1.0
Received: by 10.204.75.146 with HTTP; Mon, 13 Dec 2010 12:07:06 -0800 (PST)
In-Reply-To: <AANLkTimUDCCtcEFSsv1oLj9nL36bTZpPhnUafOUpnTvm@mail.gmail.com>
References: <AANLkTimV1bf8sxWBSwfY8LoaBLpYz5OApeMoSQRQG7D+@mail.gmail.com>
 <AANLkTinSjbV-cisExLvLziVmPO2XK8coy5prVO6Krtd0@mail.gmail.com>
 <AANLkTikk6w3cS7yvDsuxr3r0uRJG3x0p+3inFwwnGzGy@mail.gmail.com> <AANLkTimUDCCtcEFSsv1oLj9nL36bTZpPhnUafOUpnTvm@mail.gmail.com>
From: Robert Muir <rcmuir@gmail.com>
Date: Mon, 13 Dec 2010 15:07:06 -0500
Message-ID: <AANLkTimWJoxB0djp2PWC2AecRRWA2JHW-jeFF4P9J444@mail.gmail.com>
Subject: Re: The logic of QueryParser
To: java-user@lucene.apache.org, yonik@lucidimagination.com
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

On Mon, Dec 13, 2010 at 3:04 PM, Yonik Seeley
<yonik@lucidimagination.com> wrote:
> I think of the Lucene QueryParser like SQL. SQL is text based and also
> meant for human entered text - but for either very expert users, or
> programmatically created queries. =C2=A0You normally don't want to pass
> text from a search box directly to an SQL database or to the Lucene
> QueryParser.
>

Then why does solr use it by default?

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48099-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Dec 13 20:17:01 2010
Return-Path: <java-user-return-48099-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 21872 invoked from network); 13 Dec 2010 20:17:00 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 13 Dec 2010 20:17:00 -0000
Received: (qmail 73829 invoked by uid 500); 13 Dec 2010 20:16:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 73788 invoked by uid 500); 13 Dec 2010 20:16:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 73780 invoked by uid 99); 13 Dec 2010 20:16:58 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Dec 2010 20:16:58 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of yseeley@gmail.com designates 209.85.161.47 as permitted sender)
Received: from [209.85.161.47] (HELO mail-fx0-f47.google.com) (209.85.161.47)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Dec 2010 20:16:53 +0000
Received: by fxm17 with SMTP id 17so6394211fxm.6
        for <java-user@lucene.apache.org>; Mon, 13 Dec 2010 12:16:32 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:sender:reply-to:received
         :in-reply-to:references:date:x-google-sender-auth:message-id:subject
         :from:to:content-type:content-transfer-encoding;
        bh=pl+SxIhtfrlXmeY/uzcesVTKeMt3Z5RHJLLwa6FX+FM=;
        b=xu0URoagCjiosQR59Nm3xVUABcLxoBaEIXM7vOl3D94JN8yQ7WfN/2/N4FDgrJI2MF
         G5AWLaKyqpwVEUUo8ZSesl5iutLgllJrBwJvT3tYybmwzhxChj+6EtTEc5acS+tvcGIO
         BTSQ+2ngFLdrKY/oNAcnz0ek/B1mdd81DuuJ4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:sender:reply-to:in-reply-to:references:date
         :x-google-sender-auth:message-id:subject:from:to:content-type
         :content-transfer-encoding;
        b=H7vOUQ7T8GKf99nhyT4DO+Kgz8VDqi9fj0U5t6gfN1PDrbPL6eHoFU02XtGvkUqy5i
         bYNePzXtowOYsbl9yKYRIgNZAQTmtQc3fapsNtxW3MRpm0v5RK+5jyjG3eKgEWM2or6+
         XNkNmc7XMOeghcMtMlaeEDjM2CbrrxsQ0DOmY=
MIME-Version: 1.0
Received: by 10.223.116.1 with SMTP id k1mr4732277faq.51.1292271391456; Mon,
 13 Dec 2010 12:16:31 -0800 (PST)
Sender: yseeley@gmail.com
Reply-To: yonik@lucidimagination.com
Received: by 10.223.78.141 with HTTP; Mon, 13 Dec 2010 12:16:31 -0800 (PST)
In-Reply-To: <AANLkTimWJoxB0djp2PWC2AecRRWA2JHW-jeFF4P9J444@mail.gmail.com>
References: <AANLkTimV1bf8sxWBSwfY8LoaBLpYz5OApeMoSQRQG7D+@mail.gmail.com>
	<AANLkTinSjbV-cisExLvLziVmPO2XK8coy5prVO6Krtd0@mail.gmail.com>
	<AANLkTikk6w3cS7yvDsuxr3r0uRJG3x0p+3inFwwnGzGy@mail.gmail.com>
	<AANLkTimUDCCtcEFSsv1oLj9nL36bTZpPhnUafOUpnTvm@mail.gmail.com>
	<AANLkTimWJoxB0djp2PWC2AecRRWA2JHW-jeFF4P9J444@mail.gmail.com>
Date: Mon, 13 Dec 2010 15:16:31 -0500
X-Google-Sender-Auth: P3O11OMW5VhCuwl8DJBVAupIaQ0
Message-ID: <AANLkTinV+pGduh6M9Vj=xnonxgM6qx9D6MG7D1aDdoSz@mail.gmail.com>
Subject: Re: The logic of QueryParser
From: Yonik Seeley <yonik@lucidimagination.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

On Mon, Dec 13, 2010 at 3:07 PM, Robert Muir <rcmuir@gmail.com> wrote:
> On Mon, Dec 13, 2010 at 3:04 PM, Yonik Seeley
> <yonik@lucidimagination.com> wrote:
>> I think of the Lucene QueryParser like SQL. SQL is text based and also
>> meant for human entered text - but for either very expert users, or
>> programmatically created queries. =A0You normally don't want to pass
>> text from a search box directly to an SQL database or to the Lucene
>> QueryParser.
>>
>
> Then why does solr use it by default?

Because it's a decent default?  It was also the only choice when Solr
was first created.  I don't see a compelling reason to change that.

Solr fits about the same place a database does in many applications...
it's certainly not meant for users to query directly.  There's
normally a web application that handles interaction with the user and
creates/submits queries to Solr.

-Yonik
http://www.lucidimagination.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48100-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Dec 13 20:28:01 2010
Return-Path: <java-user-return-48100-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 26982 invoked from network); 13 Dec 2010 20:28:01 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 13 Dec 2010 20:28:01 -0000
Received: (qmail 93678 invoked by uid 500); 13 Dec 2010 20:27:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 93607 invoked by uid 500); 13 Dec 2010 20:27:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 93598 invoked by uid 99); 13 Dec 2010 20:27:59 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Dec 2010 20:27:59 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of rcmuir@gmail.com designates 209.85.214.51 as permitted sender)
Received: from [209.85.214.51] (HELO mail-bw0-f51.google.com) (209.85.214.51)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 13 Dec 2010 20:27:52 +0000
Received: by bwz8 with SMTP id 8so7549213bwz.24
        for <java-user@lucene.apache.org>; Mon, 13 Dec 2010 12:27:32 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:in-reply-to
         :references:from:date:message-id:subject:to:content-type
         :content-transfer-encoding;
        bh=LsSV6oEYOF9a5cKOM+s5JxdtkY32Yry6FeL89LxaKtM=;
        b=R6xVnQ8IVVJIeMK6DbbNH+qhWQVQJRJ8U5GD4PdaOfIGGgSLVu5O7eZiNq6tm/qRAg
         gW7/JR955tCtQEDn3+wRLZDU5ej392tzMgLjGS2C6ZeNVS1x+ID68fEEOQuJnPHDbjbE
         QkM2KneNn6KCfvY+IRBlOrmAoAoH+vYjCw2AE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        b=LhqCyrPqNqnUMIN2ww0IoPBREHgKjaX4E8YLOsVcUGUUQejr9VbZSmdOUz14h3C0oB
         6W7uJBzX0+H+Lzb6a4ujz3SNb5mh50M2519QnuiS7Ador7N+usGTu0ZzOrojPrx6nYYR
         kbyRrZqEpTQYiZ7FNCfJCB4nOi/5N+41dbhoc=
Received: by 10.204.50.209 with SMTP id a17mr4043585bkg.93.1292272052201; Mon,
 13 Dec 2010 12:27:32 -0800 (PST)
MIME-Version: 1.0
Received: by 10.204.75.146 with HTTP; Mon, 13 Dec 2010 12:27:11 -0800 (PST)
In-Reply-To: <AANLkTinV+pGduh6M9Vj=xnonxgM6qx9D6MG7D1aDdoSz@mail.gmail.com>
References: <AANLkTimV1bf8sxWBSwfY8LoaBLpYz5OApeMoSQRQG7D+@mail.gmail.com>
 <AANLkTinSjbV-cisExLvLziVmPO2XK8coy5prVO6Krtd0@mail.gmail.com>
 <AANLkTikk6w3cS7yvDsuxr3r0uRJG3x0p+3inFwwnGzGy@mail.gmail.com>
 <AANLkTimUDCCtcEFSsv1oLj9nL36bTZpPhnUafOUpnTvm@mail.gmail.com>
 <AANLkTimWJoxB0djp2PWC2AecRRWA2JHW-jeFF4P9J444@mail.gmail.com> <AANLkTinV+pGduh6M9Vj=xnonxgM6qx9D6MG7D1aDdoSz@mail.gmail.com>
From: Robert Muir <rcmuir@gmail.com>
Date: Mon, 13 Dec 2010 15:27:11 -0500
Message-ID: <AANLkTimqhmAQq6E5+r9j4jmEeefmPj9HC6wUJEHJRtV8@mail.gmail.com>
Subject: Re: The logic of QueryParser
To: java-user@lucene.apache.org, yonik@lucidimagination.com
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

On Mon, Dec 13, 2010 at 3:16 PM, Yonik Seeley
<yonik@lucidimagination.com> wrote:
> On Mon, Dec 13, 2010 at 3:07 PM, Robert Muir <rcmuir@gmail.com> wrote:
>> On Mon, Dec 13, 2010 at 3:04 PM, Yonik Seeley
>> <yonik@lucidimagination.com> wrote:
>>> I think of the Lucene QueryParser like SQL. SQL is text based and also
>>> meant for human entered text - but for either very expert users, or
>>> programmatically created queries. =C2=A0You normally don't want to pass
>>> text from a search box directly to an SQL database or to the Lucene
>>> QueryParser.
>>>
>>
>> Then why does solr use it by default?
>
> Because it's a decent default? =C2=A0It was also the only choice when Sol=
r
> was first created. =C2=A0I don't see a compelling reason to change that.

Right, for the same reason its a good way for a lot of lucene apps to
get started quickly.

>
> Solr fits about the same place a database does in many applications...
> it's certainly not meant for users to query directly. =C2=A0There's
> normally a web application that handles interaction with the user and
> creates/submits queries to Solr.
>

Sure, but just because Solr "fits the same place as a database" for
some apps doesn't suddenly make the queryparser "not for human
consumption".

There's definitely some human-oriented stuff in there that I'm not a
huge fan of (believe it or not, the whole way that its localized for
one), but that doesn't mean it should be treated like SQL. For lots of
apps it works just fine as a start.

And this is even more the reason to have the default as a coordinated
OR query, it works ok for both short and long queries, for both
synthetic languages where AND seems like it would make sense, and for
more analytic languages where AND as a default is completely stupid.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48101-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Dec 14 03:33:45 2010
Return-Path: <java-user-return-48101-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19419 invoked from network); 14 Dec 2010 03:33:45 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 14 Dec 2010 03:33:45 -0000
Received: (qmail 68681 invoked by uid 500); 14 Dec 2010 03:33:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 68365 invoked by uid 500); 14 Dec 2010 03:33:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 68348 invoked by uid 99); 14 Dec 2010 03:33:42 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Dec 2010 03:33:42 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of earlhood@gmail.com designates 209.85.210.48 as permitted sender)
Received: from [209.85.210.48] (HELO mail-pz0-f48.google.com) (209.85.210.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Dec 2010 03:33:34 +0000
Received: by pzk26 with SMTP id 26so40068pzk.35
        for <java-user@lucene.apache.org>; Mon, 13 Dec 2010 19:33:12 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:sender:received:date
         :x-google-sender-auth:message-id:subject:from:to:content-type;
        bh=hnvgtSlbKubbVF98O5XK1qCdmsmEcJkbYNxEKxocN+M=;
        b=kX9mrpx4XmJVgI2N+yckVEOxNo0879673zuA+PVVFiCx4gwT4zIY883LbXNpZ6ZA9e
         WGeXioKHBFaZuTPM9aE52wA8EgRXEBRx8zS9+fmGMzikQDq2M7+p/sfTBaw1U+p5hT1z
         PSgG+Y2ezTSDluFsSjVmdLwAOyD28fqvShpyA=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:sender:date:x-google-sender-auth:message-id:subject
         :from:to:content-type;
        b=Pplqz5OYYjf/KHeTIvL5dBo9M9LvnL1T77oMqeEVrrX/BwWk2uT7IeArrRCFyU5gYL
         dev8p8Or8YPOW1Pk1jThJWLUrkISQ/nA80Zbjly64Xt4DxM0yO+5+83TkqJSfNHAdP5z
         KUbTM1Wi0ydMHalLWT3KkxWbuYGtoPh+sZV1w=
MIME-Version: 1.0
Received: by 10.142.187.14 with SMTP id k14mr3885672wff.431.1292297592838;
 Mon, 13 Dec 2010 19:33:12 -0800 (PST)
Sender: earlhood@gmail.com
Received: by 10.142.171.4 with HTTP; Mon, 13 Dec 2010 19:33:12 -0800 (PST)
Date: Mon, 13 Dec 2010 21:33:12 -0600
X-Google-Sender-Auth: EOEqDJC-N2pU73HOKD8X-f8OuSA
Message-ID: <AANLkTimm69AuyOwB03qSahOCUE3vwW3kBJJzf-91YoRU@mail.gmail.com>
Subject: Forcing specific index file names
From: Earl Hood <earl@earlhood.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

It is possible to always have Lucene end up with the
same set of index filenames for each index generation
process?

I have an application that creates an index for a
set of files, and generally, the index files created
are the following:

_0.cfs  segments_2  segments.gen

However, it appears sometimes, I get the following:

_2.cfs  segments_4  segments.gen

Not sure what triggers the difference, however, is
there a "rename" operation so I can rename
the files to be like the first list?

Thanks,

--ewh

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48102-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Dec 14 06:05:26 2010
Return-Path: <java-user-return-48102-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 81586 invoked from network); 14 Dec 2010 06:05:26 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 14 Dec 2010 06:05:26 -0000
Received: (qmail 65738 invoked by uid 500); 14 Dec 2010 06:05:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 65480 invoked by uid 500); 14 Dec 2010 06:05:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 65472 invoked by uid 99); 14 Dec 2010 06:05:22 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Dec 2010 06:05:22 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,HTML_OBFUSCATE_05_10,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of lahiruts@gmail.com designates 209.85.210.176 as permitted sender)
Received: from [209.85.210.176] (HELO mail-iy0-f176.google.com) (209.85.210.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Dec 2010 06:05:14 +0000
Received: by iyb26 with SMTP id 26so169810iyb.35
        for <java-user@lucene.apache.org>; Mon, 13 Dec 2010 22:04:53 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:date:message-id
         :subject:from:to:content-type;
        bh=BjOCrhRCWOPJnsu2is+htkXNE5LcPW7ymgxHRjCWqGs=;
        b=YUVCOzhFFay0HEyP0kQRfx6HRMBXQiYQ0PaAjHpjv73zyKLWuyC9246pyI9LeTP04G
         8VfA/bCPXsMPHk4USw4iJ+BvuFCS0yimA6ubYpRUw2zJorMbUxmulZV6uvk5Xgo+69xt
         nn2VaV00SFrE3EGgob9FEXgMcBvkcBsWXpBlg=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=vKXYxMU/h+4bS5W/7fs/ZpIHJM7j2g1A4rJb57ChZcWgTO+Vo6yDTIHrRGSXWdXnfF
         PYMAbeZuxqCRmNUCtpw9KDG/8bnlg9TCvGDP7Aarkc6RxkZW/YyeHwoT3kW7NqIBryGa
         KgrvH7jHkeJFYf/QS+W1+gN7VB0Q+hsBFRsRM=
MIME-Version: 1.0
Received: by 10.231.34.200 with SMTP id m8mr1029060ibd.89.1292306693514; Mon,
 13 Dec 2010 22:04:53 -0800 (PST)
Received: by 10.231.27.195 with HTTP; Mon, 13 Dec 2010 22:04:53 -0800 (PST)
Date: Tue, 14 Dec 2010 11:34:53 +0530
Message-ID: <AANLkTimd8trt0vqGZ_NDPfRWtCQtnC8cS=mCfvjWCb-o@mail.gmail.com>
Subject: java.lang.NoClassDefFoundError: org/apache/lucene/util/CharacterUtils
From: Lahiru Samarakoon <lahiruts@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=000325574d4e6867a90497589913
X-Virus-Checked: Checked by ClamAV on apache.org

--000325574d4e6867a90497589913
Content-Type: text/plain; charset=ISO-8859-1

Hi All,

I am using *lucene-3.0.2*  with *spring framework-3.0.5*. Spring context
initialization failed due to a *java.lang.NoClassDefFoundError:
org/apache/lucene/util/CharacterUtils*. But that class can not be found in
the jars shipped with *lucene-3.0.2*. I am stumped here. Please advice.

Thanks,
Lahiru

--000325574d4e6867a90497589913--

From java-user-return-48103-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Dec 14 06:48:03 2010
Return-Path: <java-user-return-48103-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93966 invoked from network); 14 Dec 2010 06:48:03 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 14 Dec 2010 06:48:03 -0000
Received: (qmail 88378 invoked by uid 500); 14 Dec 2010 06:48:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88070 invoked by uid 500); 14 Dec 2010 06:48:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88061 invoked by uid 99); 14 Dec 2010 06:48:00 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Dec 2010 06:47:59 +0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [85.25.71.29] (HELO mail.troja.net) (85.25.71.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Dec 2010 06:47:52 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by mail.troja.net (Postfix) with ESMTP id 75775D3600A
	for <java-user@lucene.apache.org>; Tue, 14 Dec 2010 07:47:31 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at mail.troja.net
Received: from mail.troja.net ([127.0.0.1])
	by localhost (megaira.troja.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id guCNn1MGXM20 for <java-user@lucene.apache.org>;
	Tue, 14 Dec 2010 07:47:26 +0100 (CET)
Received: from VEGA (unknown [89.204.137.64])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mail.troja.net (Postfix) with ESMTPSA id C4198D36002
	for <java-user@lucene.apache.org>; Tue, 14 Dec 2010 07:47:22 +0100 (CET)
From: "Uwe Schindler" <uwe@thetaphi.de>
To: <java-user@lucene.apache.org>
References: <AANLkTimd8trt0vqGZ_NDPfRWtCQtnC8cS=mCfvjWCb-o@mail.gmail.com>
In-Reply-To: <AANLkTimd8trt0vqGZ_NDPfRWtCQtnC8cS=mCfvjWCb-o@mail.gmail.com>
Subject: RE: java.lang.NoClassDefFoundError: org/apache/lucene/util/CharacterUtils
Date: Tue, 14 Dec 2010 07:48:04 +0100
Message-ID: <002501cb9b5a$e0c6adb0$a2540910$@thetaphi.de>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Outlook 14.0
Thread-Index: AQHsuFvq5y3tF/uti/DOqKwIWMrscJNdRNQg
Content-Language: de
X-Virus-Checked: Checked by ClamAV on apache.org

This class is Lucene 3.1+ only, currently not released. What package wants
to link with it?

-----
Uwe Schindler
H.-H.-Meier-Allee 63, D-28213 Bremen
http://www.thetaphi.de
eMail: uwe@thetaphi.de

> -----Original Message-----
> From: Lahiru Samarakoon [mailto:lahiruts@gmail.com]
> Sent: Tuesday, December 14, 2010 7:05 AM
> To: java-user@lucene.apache.org
> Subject: java.lang.NoClassDefFoundError:
> org/apache/lucene/util/CharacterUtils
> 
> Hi All,
> 
> I am using *lucene-3.0.2*  with *spring framework-3.0.5*. Spring context
> initialization failed due to a *java.lang.NoClassDefFoundError:
> org/apache/lucene/util/CharacterUtils*. But that class can not be found in
> the jars shipped with *lucene-3.0.2*. I am stumped here. Please advice.
> 
> Thanks,
> Lahiru


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48104-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Dec 14 06:53:33 2010
Return-Path: <java-user-return-48104-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 94713 invoked from network); 14 Dec 2010 06:53:33 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 14 Dec 2010 06:53:33 -0000
Received: (qmail 99880 invoked by uid 500); 14 Dec 2010 06:53:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 99757 invoked by uid 500); 14 Dec 2010 06:53:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 99749 invoked by uid 99); 14 Dec 2010 06:53:30 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Dec 2010 06:53:30 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of hossman_lucene@fucit.org designates 208.69.42.181 as permitted sender)
Received: from [208.69.42.181] (HELO radix.cryptio.net) (208.69.42.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Dec 2010 06:53:25 +0000
Received: by radix.cryptio.net (Postfix, from userid 1007)
	id 9561B71C1B0; Mon, 13 Dec 2010 22:53:05 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by radix.cryptio.net (Postfix) with ESMTP id 64D7271C0BC
	for <java-user@lucene.apache.org>; Mon, 13 Dec 2010 22:53:05 -0800 (PST)
Date: Mon, 13 Dec 2010 22:53:05 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Forcing specific index file names
In-Reply-To: <AANLkTimm69AuyOwB03qSahOCUE3vwW3kBJJzf-91YoRU@mail.gmail.com>
Message-ID: <alpine.DEB.1.10.1012132251230.18109@radix.cryptio.net>
References: <AANLkTimm69AuyOwB03qSahOCUE3vwW3kBJJzf-91YoRU@mail.gmail.com>
User-Agent: Alpine 1.10 (DEB 962 2008-03-14)
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII


: It is possible to always have Lucene end up with the
: same set of index filenames for each index generation
: process?

this smells like an XY problem .... why do you car what the file names 
are? that's an implementtaion detail of lucene -- the directory as a whole 
is the index -- what are you trying to do that you are concerned about 
wanting to "rename" the files?

http://people.apache.org/~hossman/#xyproblem
XY Problem

Your question appears to be an "XY Problem" ... that is: you are dealing
with "X", you are assuming "Y" will help you, and you are asking about "Y"
without giving more details about the "X" so that we can understand the
full issue.  Perhaps the best solution doesn't involve "Y" at all?
See Also: http://www.perlmonks.org/index.pl?node_id=542341



-Hoss

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48105-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Dec 14 07:00:10 2010
Return-Path: <java-user-return-48105-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 96100 invoked from network); 14 Dec 2010 07:00:10 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 14 Dec 2010 07:00:10 -0000
Received: (qmail 5913 invoked by uid 500); 14 Dec 2010 07:00:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5701 invoked by uid 500); 14 Dec 2010 07:00:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5693 invoked by uid 99); 14 Dec 2010 07:00:06 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Dec 2010 07:00:06 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of lahiruts@gmail.com designates 209.85.214.176 as permitted sender)
Received: from [209.85.214.176] (HELO mail-iw0-f176.google.com) (209.85.214.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Dec 2010 07:00:00 +0000
Received: by iwn2 with SMTP id 2so461113iwn.35
        for <java-user@lucene.apache.org>; Mon, 13 Dec 2010 22:59:39 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=a670ri4/48ac3Bu5DysM6YkLtYcUOe+sN2GZsw9T4/w=;
        b=L+QxAXs1NDs2/QUGZ70dTwLlZD5YGN9svzXwAm1rU0WU5CMernDUq7VwIsacAlLZNb
         7SESNgUb1RTBSLnSjPU1DQTAb9/vtZhrq/hWYYjAeP7B75mqELt7xKol6O0Op1Ygerdq
         OZ7YsxcaeJBo4NYbGMFkhffzaTFALE9q2WxfY=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=LD2V5eybEey7cKIJT4e1WRf7w8yO2yRcwCkRpbprpwNGACUgdCzczQHSk5SIkKgPiy
         YzQYy8feenBUb5LzOfb67z8a9Yv1/ipfry8pwZNrjkA8g34zsXYZ9q41SbMxe/sFzI74
         1WmSmD6iP1rBcvzr1uF/vskUniYRrsu2cBBiI=
MIME-Version: 1.0
Received: by 10.231.13.133 with SMTP id c5mr2895911iba.39.1292309978929; Mon,
 13 Dec 2010 22:59:38 -0800 (PST)
Received: by 10.231.27.195 with HTTP; Mon, 13 Dec 2010 22:59:38 -0800 (PST)
In-Reply-To: <002501cb9b5a$e0c6adb0$a2540910$@thetaphi.de>
References: <AANLkTimd8trt0vqGZ_NDPfRWtCQtnC8cS=mCfvjWCb-o@mail.gmail.com>
	<002501cb9b5a$e0c6adb0$a2540910$@thetaphi.de>
Date: Tue, 14 Dec 2010 12:29:38 +0530
Message-ID: <AANLkTimVhAnyAiUet9n6xWwjDfg1xo3CUiMorRehOJWx@mail.gmail.com>
Subject: Re: java.lang.NoClassDefFoundError: org/apache/lucene/util/CharacterUtils
From: Lahiru Samarakoon <lahiruts@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0022158c10993bdce60497595d11
X-Virus-Checked: Checked by ClamAV on apache.org

--0022158c10993bdce60497595d11
Content-Type: text/plain; charset=ISO-8859-1

org.apache.lucene.analysis.standard.StandardAnalyzer

On Tue, Dec 14, 2010 at 12:18 PM, Uwe Schindler <uwe@thetaphi.de> wrote:

> This class is Lucene 3.1+ only, currently not released. What package wants
> to link with it?
>
> -----
> Uwe Schindler
> H.-H.-Meier-Allee 63, D-28213 Bremen
> http://www.thetaphi.de
> eMail: uwe@thetaphi.de
>
> > -----Original Message-----
> > From: Lahiru Samarakoon [mailto:lahiruts@gmail.com]
> > Sent: Tuesday, December 14, 2010 7:05 AM
> > To: java-user@lucene.apache.org
> > Subject: java.lang.NoClassDefFoundError:
> > org/apache/lucene/util/CharacterUtils
> >
> > Hi All,
> >
> > I am using *lucene-3.0.2*  with *spring framework-3.0.5*. Spring context
> > initialization failed due to a *java.lang.NoClassDefFoundError:
> > org/apache/lucene/util/CharacterUtils*. But that class can not be found
> in
> > the jars shipped with *lucene-3.0.2*. I am stumped here. Please advice.
> >
> > Thanks,
> > Lahiru
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--0022158c10993bdce60497595d11--

From java-user-return-48106-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Dec 14 07:12:51 2010
Return-Path: <java-user-return-48106-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 6523 invoked from network); 14 Dec 2010 07:12:51 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 14 Dec 2010 07:12:51 -0000
Received: (qmail 13495 invoked by uid 500); 14 Dec 2010 07:12:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13106 invoked by uid 500); 14 Dec 2010 07:12:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13090 invoked by uid 99); 14 Dec 2010 07:12:48 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Dec 2010 07:12:48 +0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [85.25.71.29] (HELO mail.troja.net) (85.25.71.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Dec 2010 07:12:40 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by mail.troja.net (Postfix) with ESMTP id 01ED2D3600A
	for <java-user@lucene.apache.org>; Tue, 14 Dec 2010 08:12:20 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at mail.troja.net
Received: from mail.troja.net ([127.0.0.1])
	by localhost (megaira.troja.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id fns7IkkNNpSy for <java-user@lucene.apache.org>;
	Tue, 14 Dec 2010 08:12:15 +0100 (CET)
Received: from VEGA (unknown [89.204.137.64])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mail.troja.net (Postfix) with ESMTPSA id 7C233D36002
	for <java-user@lucene.apache.org>; Tue, 14 Dec 2010 08:12:09 +0100 (CET)
From: "Uwe Schindler" <uwe@thetaphi.de>
To: <java-user@lucene.apache.org>
References: <AANLkTimd8trt0vqGZ_NDPfRWtCQtnC8cS=mCfvjWCb-o@mail.gmail.com>	<002501cb9b5a$e0c6adb0$a2540910$@thetaphi.de> <AANLkTimVhAnyAiUet9n6xWwjDfg1xo3CUiMorRehOJWx@mail.gmail.com>
In-Reply-To: <AANLkTimVhAnyAiUet9n6xWwjDfg1xo3CUiMorRehOJWx@mail.gmail.com>
Subject: RE: java.lang.NoClassDefFoundError: org/apache/lucene/util/CharacterUtils
Date: Tue, 14 Dec 2010 08:12:44 +0100
Message-ID: <002901cb9b5e$57ed1f20$07c75d60$@thetaphi.de>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Outlook 14.0
Thread-Index: AQHsuFvq5y3tF/uti/DOqKwIWMrscAFzsPqTAgjIoYGTQWdHwA==
Content-Language: de
X-Virus-Checked: Checked by ClamAV on apache.org

Then it seems that you have a classpath mismatch. Can it be that you are
mixing different Lucene versions (like the unreleased 3.x-Branch).
StandardAnalyzer in 3.0.2 definitely does not use CharacterUtils (and also
not in later versions). WhitespaceTokenizer in 3.x uses it.

So you should review your classpath and remove all additional Lucene JAR
files/class files that may be somewhere inside.

There is nothing else that we can suggest.

Uwe

-----
Uwe Schindler
H.-H.-Meier-Allee 63, D-28213 Bremen
http://www.thetaphi.de
eMail: uwe@thetaphi.de


> -----Original Message-----
> From: Lahiru Samarakoon [mailto:lahiruts@gmail.com]
> Sent: Tuesday, December 14, 2010 8:00 AM
> To: java-user@lucene.apache.org
> Subject: Re: java.lang.NoClassDefFoundError:
> org/apache/lucene/util/CharacterUtils
> 
> org.apache.lucene.analysis.standard.StandardAnalyzer
> 
> On Tue, Dec 14, 2010 at 12:18 PM, Uwe Schindler <uwe@thetaphi.de> wrote:
> 
> > This class is Lucene 3.1+ only, currently not released. What package
> > wants to link with it?
> >
> > -----
> > Uwe Schindler
> > H.-H.-Meier-Allee 63, D-28213 Bremen
> > http://www.thetaphi.de
> > eMail: uwe@thetaphi.de
> >
> > > -----Original Message-----
> > > From: Lahiru Samarakoon [mailto:lahiruts@gmail.com]
> > > Sent: Tuesday, December 14, 2010 7:05 AM
> > > To: java-user@lucene.apache.org
> > > Subject: java.lang.NoClassDefFoundError:
> > > org/apache/lucene/util/CharacterUtils
> > >
> > > Hi All,
> > >
> > > I am using *lucene-3.0.2*  with *spring framework-3.0.5*. Spring
> > > context initialization failed due to a
*java.lang.NoClassDefFoundError:
> > > org/apache/lucene/util/CharacterUtils*. But that class can not be
> > > found
> > in
> > > the jars shipped with *lucene-3.0.2*. I am stumped here. Please
advice.
> > >
> > > Thanks,
> > > Lahiru
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48107-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Dec 14 07:43:38 2010
Return-Path: <java-user-return-48107-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 12293 invoked from network); 14 Dec 2010 07:43:37 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 14 Dec 2010 07:43:37 -0000
Received: (qmail 36313 invoked by uid 500); 14 Dec 2010 07:43:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36068 invoked by uid 500); 14 Dec 2010 07:43:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 36060 invoked by uid 99); 14 Dec 2010 07:43:34 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Dec 2010 07:43:34 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of lahiruts@gmail.com designates 209.85.214.176 as permitted sender)
Received: from [209.85.214.176] (HELO mail-iw0-f176.google.com) (209.85.214.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Dec 2010 07:43:28 +0000
Received: by iwn2 with SMTP id 2so505095iwn.35
        for <java-user@lucene.apache.org>; Mon, 13 Dec 2010 23:43:01 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=lGzvcoY8Sg9ko6VJlHEk96KSflgmOr4JJ//Fw59tcDE=;
        b=Z4vCoSWRb+BJxvBcCmoWja6IUd6nIxmH8t2+DW9mHRL8kkSHzO5bSbymRqy3fkUnKU
         FjEezeZ2uObg7c7RDlB/NpSGUJHR1RK1tod1qnicVtdnCNF7Xeg0qPVr3Y3EIMpOU6Xh
         pk/gGgbn4UOZj3XAF2/ohNYnXissuotNxEAN0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=m9MBCtzm433KievfFmi2bED+tKmf2bZ8GFwCNV4GPLlfgfOIEAxP7WaEDU+OBskTsQ
         Ks39Y8CPGtjrWEd4aK3tgL4pJAEO49nfyJFHNS7vd18JLX51J4YfU1jVYMRSZEG7LHwM
         +1zUZ62WMh+gcFrGhBlJJUCpZVZ8Hh/fGRlZo=
MIME-Version: 1.0
Received: by 10.231.11.139 with SMTP id t11mr2859652ibt.189.1292312581438;
 Mon, 13 Dec 2010 23:43:01 -0800 (PST)
Received: by 10.231.27.195 with HTTP; Mon, 13 Dec 2010 23:43:01 -0800 (PST)
In-Reply-To: <002901cb9b5e$57ed1f20$07c75d60$@thetaphi.de>
References: <AANLkTimd8trt0vqGZ_NDPfRWtCQtnC8cS=mCfvjWCb-o@mail.gmail.com>
	<002501cb9b5a$e0c6adb0$a2540910$@thetaphi.de>
	<AANLkTimVhAnyAiUet9n6xWwjDfg1xo3CUiMorRehOJWx@mail.gmail.com>
	<002901cb9b5e$57ed1f20$07c75d60$@thetaphi.de>
Date: Tue, 14 Dec 2010 13:13:01 +0530
Message-ID: <AANLkTi=7suSMwR_o5es1YZugW3o09A9R0J25zzzmi0LR@mail.gmail.com>
Subject: Re: java.lang.NoClassDefFoundError: org/apache/lucene/util/CharacterUtils
From: Lahiru Samarakoon <lahiruts@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0003255749625afec1049759f850

--0003255749625afec1049759f850
Content-Type: text/plain; charset=ISO-8859-1

Dear Uwe,

I remove additional jar files and it is working. Thanks a lot for the
guidance.

Regards,
Lahiru

--0003255749625afec1049759f850--

From java-user-return-48108-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Dec 14 07:44:23 2010
Return-Path: <java-user-return-48108-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 12380 invoked from network); 14 Dec 2010 07:44:23 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 14 Dec 2010 07:44:23 -0000
Received: (qmail 38182 invoked by uid 500); 14 Dec 2010 07:44:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 37979 invoked by uid 500); 14 Dec 2010 07:44:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 37971 invoked by uid 99); 14 Dec 2010 07:44:21 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Dec 2010 07:44:21 +0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=RCVD_IN_DNSWL_NONE,SPF_HELO_PASS,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [212.227.17.9] (HELO moutng.kundenserver.de) (212.227.17.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Dec 2010 07:44:13 +0000
Received: from [192.168.178.47] (srbk-5d803cc0.pool.mediaWays.net [93.128.60.192])
	by mrelayeu.kundenserver.de (node=mreu0) with ESMTP (Nemesis)
	id 0LeyRX-1QFDgW1d0h-00qiR4; Tue, 14 Dec 2010 08:43:51 +0100
Content-Type: text/plain; charset=iso-8859-1
Mime-Version: 1.0 (Apple Message framework v1082)
Subject: Re: java.lang.NoClassDefFoundError: org/apache/lucene/util/CharacterUtils
From: Paul Libbrecht <paul@hoplahup.net>
In-Reply-To: <002901cb9b5e$57ed1f20$07c75d60$@thetaphi.de>
Date: Tue, 14 Dec 2010 08:43:50 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <E25260B9-C7C4-4399-8739-E1ADA6129498@hoplahup.net>
References: <AANLkTimd8trt0vqGZ_NDPfRWtCQtnC8cS=mCfvjWCb-o@mail.gmail.com> <002501cb9b5a$e0c6adb0$a2540910$@thetaphi.de> <AANLkTimVhAnyAiUet9n6xWwjDfg1xo3CUiMorRehOJWx@mail.gmail.com> <002901cb9b5e$57ed1f20$07c75d60$@thetaphi.de>
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.1082)
X-Provags-ID: V02:K0:i739RDvE0mPUMADmfeIjxIU4X/D7jDwA+aPV5WvGC+5
 y/BjafJZqARoNhhCWp8u8TleCusMrr/DhF+7rl9H3IC7cUyU0P
 WXb2xTvL7VEm2o4XpmycQG/A93wjsgbJRBQMoxWE9T6zpx/WDA
 k+FocUobW3fEztyzV6T1vripvUvLr8Nk3F/CjZdJd1Tk06VlrX
 Gg9C1iYehyKj38Vub2GSgoYRSrzIZ4k96OxyTjFVWI=
X-Virus-Checked: Checked by ClamAV on apache.org

Allow me to recommend a little trick to track the origin of a class =
which works often:

  =
org.apache.lucene.analysis.WhitespaceAnalyzer.class.getResource("Whitespac=
eAnalyzer.class")

will give you a URL that should be the URL of the jar, followed by an =
exclamation mark, followed by the jar-internal path. Or a URL to the =
class file.

paul


Le 14 d=E9c. 2010 =E0 08:12, Uwe Schindler a =E9crit :

> Then it seems that you have a classpath mismatch. Can it be that you =
are
> mixing different Lucene versions (like the unreleased 3.x-Branch).
> StandardAnalyzer in 3.0.2 definitely does not use CharacterUtils (and =
also
> not in later versions). WhitespaceTokenizer in 3.x uses it.
>=20
> So you should review your classpath and remove all additional Lucene =
JAR
> files/class files that may be somewhere inside.
>=20
> There is nothing else that we can suggest.
>=20
> Uwe
>=20
> -----
> Uwe Schindler
> H.-H.-Meier-Allee 63, D-28213 Bremen
> http://www.thetaphi.de
> eMail: uwe@thetaphi.de
>=20
>=20
>> -----Original Message-----
>> From: Lahiru Samarakoon [mailto:lahiruts@gmail.com]
>> Sent: Tuesday, December 14, 2010 8:00 AM
>> To: java-user@lucene.apache.org
>> Subject: Re: java.lang.NoClassDefFoundError:
>> org/apache/lucene/util/CharacterUtils
>>=20
>> org.apache.lucene.analysis.standard.StandardAnalyzer
>>=20
>> On Tue, Dec 14, 2010 at 12:18 PM, Uwe Schindler <uwe@thetaphi.de> =
wrote:
>>=20
>>> This class is Lucene 3.1+ only, currently not released. What package
>>> wants to link with it?
>>>=20
>>> -----
>>> Uwe Schindler
>>> H.-H.-Meier-Allee 63, D-28213 Bremen
>>> http://www.thetaphi.de
>>> eMail: uwe@thetaphi.de
>>>=20
>>>> -----Original Message-----
>>>> From: Lahiru Samarakoon [mailto:lahiruts@gmail.com]
>>>> Sent: Tuesday, December 14, 2010 7:05 AM
>>>> To: java-user@lucene.apache.org
>>>> Subject: java.lang.NoClassDefFoundError:
>>>> org/apache/lucene/util/CharacterUtils
>>>>=20
>>>> Hi All,
>>>>=20
>>>> I am using *lucene-3.0.2*  with *spring framework-3.0.5*. Spring
>>>> context initialization failed due to a
> *java.lang.NoClassDefFoundError:
>>>> org/apache/lucene/util/CharacterUtils*. But that class can not be
>>>> found
>>> in
>>>> the jars shipped with *lucene-3.0.2*. I am stumped here. Please
> advice.
>>>>=20
>>>> Thanks,
>>>> Lahiru
>>>=20
>>>=20
>>> =
---------------------------------------------------------------------
>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>=20
>>>=20
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48109-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Dec 14 08:00:59 2010
Return-Path: <java-user-return-48109-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15428 invoked from network); 14 Dec 2010 08:00:59 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 14 Dec 2010 08:00:59 -0000
Received: (qmail 46844 invoked by uid 500); 14 Dec 2010 08:00:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46692 invoked by uid 500); 14 Dec 2010 08:00:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 46684 invoked by uid 99); 14 Dec 2010 08:00:55 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Dec 2010 08:00:55 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of lahiruts@gmail.com designates 209.85.214.176 as permitted sender)
Received: from [209.85.214.176] (HELO mail-iw0-f176.google.com) (209.85.214.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Dec 2010 08:00:49 +0000
Received: by iwn2 with SMTP id 2so522157iwn.35
        for <java-user@lucene.apache.org>; Tue, 14 Dec 2010 00:00:28 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=1mu6wVE1neCL4kzk2cUPgh/7juX7hDZ+9TRyVW4Cyl8=;
        b=P0NaAitR49lxAlkr0Ymstte0VzOmjE5wRIFq5Uc2jgqR7HELu9dBE/OGcTu8KUQouu
         /1kgYLw4OAW/tiuOCXul0rdTzv9pAhlisGbniPlD9CS49d6iHJmrOnqmU01EU+DwekEt
         wpOjVGujppnu/OyGQUNIizUkY0Q19O1C+uzdg=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=c+XQxUxXpHmCHVQpwYc+gkpAFz1YgF0yHksmIhSvO50ujhn6Uqr/e9TLK6H6RiOHhE
         VE9bPB2991a4UMxDs6OjbTkK+G6mwwy7dzbFHhbuo29W6zBzeCN+O82eii4t9Ujvmk5U
         b6IAHjpHT4f/QEPf9wsCBRZ0k+hp7LbVPfsKg=
MIME-Version: 1.0
Received: by 10.231.14.136 with SMTP id g8mr2902865iba.114.1292313628064; Tue,
 14 Dec 2010 00:00:28 -0800 (PST)
Received: by 10.231.27.195 with HTTP; Tue, 14 Dec 2010 00:00:28 -0800 (PST)
In-Reply-To: <E25260B9-C7C4-4399-8739-E1ADA6129498@hoplahup.net>
References: <AANLkTimd8trt0vqGZ_NDPfRWtCQtnC8cS=mCfvjWCb-o@mail.gmail.com>
	<002501cb9b5a$e0c6adb0$a2540910$@thetaphi.de>
	<AANLkTimVhAnyAiUet9n6xWwjDfg1xo3CUiMorRehOJWx@mail.gmail.com>
	<002901cb9b5e$57ed1f20$07c75d60$@thetaphi.de>
	<E25260B9-C7C4-4399-8739-E1ADA6129498@hoplahup.net>
Date: Tue, 14 Dec 2010 13:30:28 +0530
Message-ID: <AANLkTin=NWWQF0TumBGLk8QkegjFwpio6S025u_s356V@mail.gmail.com>
Subject: Re: java.lang.NoClassDefFoundError: org/apache/lucene/util/CharacterUtils
From: Lahiru Samarakoon <lahiruts@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0003255745bebd558a04975a36ca
X-Virus-Checked: Checked by ClamAV on apache.org

--0003255745bebd558a04975a36ca
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

Hi Paul,

it is working and very helpful.

Thanks,
Lahiru

On Tue, Dec 14, 2010 at 1:13 PM, Paul Libbrecht <paul@hoplahup.net> wrote:

> Allow me to recommend a little trick to track the origin of a class which
> works often:
>
>
>  org.apache.lucene.analysis.WhitespaceAnalyzer.class.getResource("Whitesp=
aceAnalyzer.class")
>
> will give you a URL that should be the URL of the jar, followed by an
> exclamation mark, followed by the jar-internal path. Or a URL to the clas=
s
> file.
>
> paul
>
>
> Le 14 d=E9c. 2010 =E0 08:12, Uwe Schindler a =E9crit :
>
> > Then it seems that you have a classpath mismatch. Can it be that you ar=
e
> > mixing different Lucene versions (like the unreleased 3.x-Branch).
> > StandardAnalyzer in 3.0.2 definitely does not use CharacterUtils (and
> also
> > not in later versions). WhitespaceTokenizer in 3.x uses it.
> >
> > So you should review your classpath and remove all additional Lucene JA=
R
> > files/class files that may be somewhere inside.
> >
> > There is nothing else that we can suggest.
> >
> > Uwe
> >
> > -----
> > Uwe Schindler
> > H.-H.-Meier-Allee 63, D-28213 Bremen
> > http://www.thetaphi.de
> > eMail: uwe@thetaphi.de
> >
> >
> >> -----Original Message-----
> >> From: Lahiru Samarakoon [mailto:lahiruts@gmail.com]
> >> Sent: Tuesday, December 14, 2010 8:00 AM
> >> To: java-user@lucene.apache.org
> >> Subject: Re: java.lang.NoClassDefFoundError:
> >> org/apache/lucene/util/CharacterUtils
> >>
> >> org.apache.lucene.analysis.standard.StandardAnalyzer
> >>
> >> On Tue, Dec 14, 2010 at 12:18 PM, Uwe Schindler <uwe@thetaphi.de>
> wrote:
> >>
> >>> This class is Lucene 3.1+ only, currently not released. What package
> >>> wants to link with it?
> >>>
> >>> -----
> >>> Uwe Schindler
> >>> H.-H.-Meier-Allee 63, D-28213 Bremen
> >>> http://www.thetaphi.de
> >>> eMail: uwe@thetaphi.de
> >>>
> >>>> -----Original Message-----
> >>>> From: Lahiru Samarakoon [mailto:lahiruts@gmail.com]
> >>>> Sent: Tuesday, December 14, 2010 7:05 AM
> >>>> To: java-user@lucene.apache.org
> >>>> Subject: java.lang.NoClassDefFoundError:
> >>>> org/apache/lucene/util/CharacterUtils
> >>>>
> >>>> Hi All,
> >>>>
> >>>> I am using *lucene-3.0.2*  with *spring framework-3.0.5*. Spring
> >>>> context initialization failed due to a
> > *java.lang.NoClassDefFoundError:
> >>>> org/apache/lucene/util/CharacterUtils*. But that class can not be
> >>>> found
> >>> in
> >>>> the jars shipped with *lucene-3.0.2*. I am stumped here. Please
> > advice.
> >>>>
> >>>> Thanks,
> >>>> Lahiru
> >>>
> >>>
> >>> ---------------------------------------------------------------------
> >>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >>> For additional commands, e-mail: java-user-help@lucene.apache.org
> >>>
> >>>
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--0003255745bebd558a04975a36ca--

From java-user-return-48110-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Dec 14 14:47:20 2010
Return-Path: <java-user-return-48110-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95881 invoked from network); 14 Dec 2010 14:47:20 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 14 Dec 2010 14:47:20 -0000
Received: (qmail 44710 invoked by uid 500); 14 Dec 2010 14:47:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44441 invoked by uid 500); 14 Dec 2010 14:47:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44433 invoked by uid 99); 14 Dec 2010 14:47:17 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Dec 2010 14:47:17 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of earlhood@gmail.com designates 209.85.210.48 as permitted sender)
Received: from [209.85.210.48] (HELO mail-pz0-f48.google.com) (209.85.210.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Dec 2010 14:47:10 +0000
Received: by pzk26 with SMTP id 26so151040pzk.35
        for <java-user@lucene.apache.org>; Tue, 14 Dec 2010 06:46:49 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:sender:received
         :in-reply-to:references:date:x-google-sender-auth:message-id:subject
         :from:to:content-type;
        bh=VTEY/Wu6T/ZomlR1YQyFGXVICbjpyHxe2u4ua8Afybs=;
        b=MiGqaJLrlN8XgKwwU+Dl98p+TldNO280S45d/Fe1NkcndJmAv3AWbAFm4QH/y8FhVB
         5GJnQMzywE86hbbKWmtU4rU1wOT39ze9k3VI6TVsN9cTpD28AwlsGs4rNfLgNFhL52kw
         GOo+DiKcg8SlRpZoAaxKNL+2FVhv7ABDkBrlk=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:sender:in-reply-to:references:date
         :x-google-sender-auth:message-id:subject:from:to:content-type;
        b=O7uGgCpcvIdy4J3K5U4hYqtgvDqQA5oghYxQgaJXJcm7b6YXAT47xklAbwYL2H/y2J
         dKD4/wGBVUw2vZz4ouDa0ZBz6tdryPtxRbj7pQtchvt+dquavJYKQyJMfZ3hMhWxzbCy
         AaRLClm1KPF2SfnCgX5XqMlTYTw5K4KKHwyyA=
MIME-Version: 1.0
Received: by 10.142.82.8 with SMTP id f8mr4385636wfb.317.1292338009424; Tue,
 14 Dec 2010 06:46:49 -0800 (PST)
Sender: earlhood@gmail.com
Received: by 10.142.171.4 with HTTP; Tue, 14 Dec 2010 06:46:49 -0800 (PST)
In-Reply-To: <alpine.DEB.1.10.1012132251230.18109@radix.cryptio.net>
References: <AANLkTimm69AuyOwB03qSahOCUE3vwW3kBJJzf-91YoRU@mail.gmail.com>
	<alpine.DEB.1.10.1012132251230.18109@radix.cryptio.net>
Date: Tue, 14 Dec 2010 08:46:49 -0600
X-Google-Sender-Auth: O2iDzccUtdIZ5MZ4jkcOT2j5_jg
Message-ID: <AANLkTinwnP+_DU1sPiWOk2P4+N+a=JosM7K=KaDZ8Tp9@mail.gmail.com>
Subject: Re: Forcing specific index file names
From: Earl Hood <earl@earlhood.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

On Tue, Dec 14, 2010 at 12:53 AM, Chris Hostetter
<hossman_lucene@fucit.org> wrote:
>
> : It is possible to always have Lucene end up with the
> : same set of index filenames for each index generation
> : process?
>
> this smells like an XY problem .... why do you car what the file names
> are? that's an implementtaion detail of lucene -- the directory as a whole
> is the index -- what are you trying to do that you are concerned about
> wanting to "rename" the files?

I have to create patch sets against two version of a data
set in a directory tree structure, and the data set contains
a lucene index.

However, if the filenames are not consistent for the index,
then the delta program thinks they are completely new
files vs just doing an xdelta on the index data.

If renaming is not possible, the delta program will
have to have lucene awareness about variations in
the filenames between two versions of a data set
tree.  I guess I will have to do this if I am going
to be lectured about how to develop software.

>From a design perspective, I figured if the process
that builds the data sets and the lucene index can
be modified to make sure the lucene index files are
consistently named, the delta computation program
can stay agnostic about lucene and just do a basic
tree differencing algorithm.

--ewh

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48111-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Dec 14 15:46:24 2010
Return-Path: <java-user-return-48111-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 22594 invoked from network); 14 Dec 2010 15:46:24 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 14 Dec 2010 15:46:24 -0000
Received: (qmail 41118 invoked by uid 500); 14 Dec 2010 15:46:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40758 invoked by uid 500); 14 Dec 2010 15:46:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40750 invoked by uid 99); 14 Dec 2010 15:46:18 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Dec 2010 15:46:18 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of erickerickson@gmail.com designates 209.85.216.48 as permitted sender)
Received: from [209.85.216.48] (HELO mail-qw0-f48.google.com) (209.85.216.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Dec 2010 15:46:13 +0000
Received: by qwh6 with SMTP id 6so873171qwh.35
        for <java-user@lucene.apache.org>; Tue, 14 Dec 2010 07:45:52 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=2Qyi150n9LhW61R0OF5NLik6JWsYAz2Hbs8HwyIaLNA=;
        b=GAKbj2xyQS5iiIdW+IKw1wai7PKstjQmZdS3nhHS58++POtYc3rJ7QaXWacrmwJCwG
         JjJCqLcfVW2VrYIlB9n8jwk+aUBCXSIWNe7gbNpSgqjJah6CSdLpM8jtTEXYBWUslPqG
         vhMf4JrevwJ4Vxq7ncXUqsZooNhtCmTGK7IFU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=LQ7AfBA2Q5tpxBcTXpnNmTrky7Jyj28zdgHCHmSKj03Sx4je/gtsLtqH9NmkuiYppU
         /eIpdPdYWgadJ9BZG49aAdjC4SiJql+Hie1r3z6AsFbWOtapN5EMpEx04vEt4HRSOz92
         yWuh2vHaabYqKtthg0q5Xmty9bJk7S2i/8HC8=
MIME-Version: 1.0
Received: by 10.229.241.13 with SMTP id lc13mr85505qcb.190.1292341552213; Tue,
 14 Dec 2010 07:45:52 -0800 (PST)
Received: by 10.229.235.208 with HTTP; Tue, 14 Dec 2010 07:45:52 -0800 (PST)
In-Reply-To: <AANLkTinwnP+_DU1sPiWOk2P4+N+a=JosM7K=KaDZ8Tp9@mail.gmail.com>
References: <AANLkTimm69AuyOwB03qSahOCUE3vwW3kBJJzf-91YoRU@mail.gmail.com>
	<alpine.DEB.1.10.1012132251230.18109@radix.cryptio.net>
	<AANLkTinwnP+_DU1sPiWOk2P4+N+a=JosM7K=KaDZ8Tp9@mail.gmail.com>
Date: Tue, 14 Dec 2010 10:45:52 -0500
Message-ID: <AANLkTi=f2d6jr0UCif8qWG5SiKD6hDMavjA_3AKNMLoo@mail.gmail.com>
Subject: Re: Forcing specific index file names
From: Erick Erickson <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016363b8efc25efe8049760b75f

--0016363b8efc25efe8049760b75f
Content-Type: text/plain; charset=ISO-8859-1

I'm missing something here. You mention "two versions of
a data set in a directory tree structure". The Lucene indexes
will have different names if they have been merged. Usually
this is a result of changing the data, issuing an optimize, etc.
That is, the data *is* different so it seems perfectly appropriate
to consider them new...

Lucene never changes an existing segments file once it is committed.
It only merges segments then deletes the old ones. So if the file names
are different, then it seems that renaming them wouldn't be what you
really want.

So either it really is an XY problem (as in "I really don't think you want
to do that") or I completely  misunderstand what
you're trying to do.

Best
Erick

On Tue, Dec 14, 2010 at 9:46 AM, Earl Hood <earl@earlhood.com> wrote:

> On Tue, Dec 14, 2010 at 12:53 AM, Chris Hostetter
> <hossman_lucene@fucit.org> wrote:
> >
> > : It is possible to always have Lucene end up with the
> > : same set of index filenames for each index generation
> > : process?
> >
> > this smells like an XY problem .... why do you car what the file names
> > are? that's an implementtaion detail of lucene -- the directory as a
> whole
> > is the index -- what are you trying to do that you are concerned about
> > wanting to "rename" the files?
>
> I have to create patch sets against two version of a data
> set in a directory tree structure, and the data set contains
> a lucene index.
>
> However, if the filenames are not consistent for the index,
> then the delta program thinks they are completely new
> files vs just doing an xdelta on the index data.
>
> If renaming is not possible, the delta program will
> have to have lucene awareness about variations in
> the filenames between two versions of a data set
> tree.  I guess I will have to do this if I am going
> to be lectured about how to develop software.
>
> From a design perspective, I figured if the process
> that builds the data sets and the lucene index can
> be modified to make sure the lucene index files are
> consistently named, the delta computation program
> can stay agnostic about lucene and just do a basic
> tree differencing algorithm.
>
> --ewh
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--0016363b8efc25efe8049760b75f--

From java-user-return-48112-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Dec 14 16:38:47 2010
Return-Path: <java-user-return-48112-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 51551 invoked from network); 14 Dec 2010 16:38:46 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 14 Dec 2010 16:38:46 -0000
Received: (qmail 50632 invoked by uid 500); 14 Dec 2010 16:38:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50044 invoked by uid 500); 14 Dec 2010 16:38:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50036 invoked by uid 99); 14 Dec 2010 16:38:40 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Dec 2010 16:38:40 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of earlhood@gmail.com designates 74.125.83.176 as permitted sender)
Received: from [74.125.83.176] (HELO mail-pv0-f176.google.com) (74.125.83.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Dec 2010 16:38:34 +0000
Received: by pvb32 with SMTP id 32so181623pvb.35
        for <java-user@lucene.apache.org>; Tue, 14 Dec 2010 08:38:14 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:sender:received
         :in-reply-to:references:date:x-google-sender-auth:message-id:subject
         :from:to:content-type:content-transfer-encoding;
        bh=v85lH10uVsdZOm6Cau+KlaYdlG5c7vLZya9sLVslxuQ=;
        b=WP9uwjKy6zmoCXMLYaDIJUc8Ius0jfebusT/syVgY8hFgYnneSkpWvZ8L3mIzUZgX2
         y31mI8DPu/dpx7GN9dE5sXGBNYyAowF90jiFr0PC9cghBrs1U4T+xHMbWTUmx32qOM/3
         dYI/lmy2qPNHsQEFPuTz4c24oErMdGSEonLfM=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:sender:in-reply-to:references:date
         :x-google-sender-auth:message-id:subject:from:to:content-type
         :content-transfer-encoding;
        b=iXOIfhKfyKOkDgvDmI5o7zfzcLsORqnRZxpwE1+xksM4CQrB9M7wUPMxpGYhJhhpgA
         93gukOLV1SDhUo1ZUYGWZUQBEQCNkaF/JqlPHnKAcDLKAyG6yFJcC4yDYWv6gD/amD06
         7VBJ3WOaBQ5jN5R61hOJucBD0UdOLxvu3UTy0=
MIME-Version: 1.0
Received: by 10.143.41.8 with SMTP id t8mr4555613wfj.89.1292344694369; Tue, 14
 Dec 2010 08:38:14 -0800 (PST)
Sender: earlhood@gmail.com
Received: by 10.142.171.4 with HTTP; Tue, 14 Dec 2010 08:38:14 -0800 (PST)
In-Reply-To: <AANLkTi=f2d6jr0UCif8qWG5SiKD6hDMavjA_3AKNMLoo@mail.gmail.com>
References: <AANLkTimm69AuyOwB03qSahOCUE3vwW3kBJJzf-91YoRU@mail.gmail.com>
	<alpine.DEB.1.10.1012132251230.18109@radix.cryptio.net>
	<AANLkTinwnP+_DU1sPiWOk2P4+N+a=JosM7K=KaDZ8Tp9@mail.gmail.com>
	<AANLkTi=f2d6jr0UCif8qWG5SiKD6hDMavjA_3AKNMLoo@mail.gmail.com>
Date: Tue, 14 Dec 2010 10:38:14 -0600
X-Google-Sender-Auth: 0enUgUdq5tPcxH_v2t2XkyUU6p8
Message-ID: <AANLkTinJtB_keyUvF6K1-t4_vmyBPEG0na1RzUbfoMPu@mail.gmail.com>
Subject: Re: Forcing specific index file names
From: Earl Hood <earl@earlhood.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

On Tue, Dec 14, 2010 at 9:45 AM, Erick Erickson <erickerickson@gmail.com> w=
rote:
> Lucene never changes an existing segments file once it is committed.
> It only merges segments then deletes the old ones. So if the file names
> are different, then it seems that renaming them wouldn't be what you
> really want.
>
> So either it really is an XY problem (as in "I really don't think you wan=
t
> to do that") or I completely =A0misunderstand what
> you're trying to do.

In my testing, when the filenames are the same, doing an xdelta on the
files (mainly the file that contains most of the data, the .cfs file),
there is a significant reduction in the size of the patch file created.

Since bandwidth is a critical factor in the project I'm on, the
reduction in size is very beneficial.  The changes in the data
set are of nature that the search index data itself should not
be drastically different, and hence, xdelta being able to provide
a smaller patch file than the entire new .cfs file.

I could make an exception in the patch creation program to detect
that there is a lucene directly, and diff the .cfs files, even if
they have different names, but was seeing if I can avoid that
so the patch program can be agnostic about the contents of the
directory tree.

--ewh

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48113-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Dec 14 17:27:13 2010
Return-Path: <java-user-return-48113-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 76149 invoked from network); 14 Dec 2010 17:27:12 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 14 Dec 2010 17:27:12 -0000
Received: (qmail 42506 invoked by uid 500); 14 Dec 2010 17:27:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 42452 invoked by uid 500); 14 Dec 2010 17:27:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 42444 invoked by uid 99); 14 Dec 2010 17:27:09 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Dec 2010 17:27:09 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [193.49.104.30] (HELO kirkenes.lirmm.fr) (193.49.104.30)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Dec 2010 17:27:01 +0000
Received: from [10.1.12.44] (fe-0-3.fw1.capo.montpellier-agglo.com [91.213.82.241])
	by kirkenes.lirmm.fr (Postfix) with ESMTPSA id 7C925A4F38
	for <java-user@lucene.apache.org>; Tue, 14 Dec 2010 18:26:40 +0100 (CET)
Message-ID: <4D07A8D0.4090105@lirmm.fr>
Date: Tue, 14 Dec 2010 18:26:40 +0100
From: Hassan Saneifar <hassan.saneifar@lirmm.fr>
User-Agent: Thunderbird 2.0.0.24 (X11/20101027)
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: query formulation
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Hello,
I'm wondering if there is a way to configure the query in lucene to use 
the logical operation ?
In fact, I would like to force retrieval of documents which contain 
obligatory a given keyword or do not contain an other one. I can do that 
by a preprocessing (filter the documents which contain the keyword) but 
I would like to that in the query formulation.
Many thanks

-- 
Hassan Saneifar, 


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48114-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Dec 14 20:50:48 2010
Return-Path: <java-user-return-48114-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65828 invoked from network); 14 Dec 2010 20:50:48 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 14 Dec 2010 20:50:48 -0000
Received: (qmail 28989 invoked by uid 500); 14 Dec 2010 20:50:46 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 28857 invoked by uid 500); 14 Dec 2010 20:50:46 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 28849 invoked by uid 99); 14 Dec 2010 20:50:46 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Dec 2010 20:50:46 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of erickerickson@gmail.com designates 209.85.216.48 as permitted sender)
Received: from [209.85.216.48] (HELO mail-qw0-f48.google.com) (209.85.216.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 14 Dec 2010 20:50:39 +0000
Received: by qwh6 with SMTP id 6so1162386qwh.35
        for <java-user@lucene.apache.org>; Tue, 14 Dec 2010 12:50:18 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=ACOzmrbAOKlWIWfuGuCDzZ0Payi6XTZLp5pp21MYeW4=;
        b=SdbKDWSR15Rq1jsVrm6puA9UKDNPZtxQzHG9M59b+QvXYYmccjPk92ko6Uzr1PNu0v
         lE3QiY/UfYxZqMS0O2EztsmxT5pGlgmSXudLItFTD7UPhWAHf8MSkcR5jyp8adU2INoV
         iJ6slMefwtA4iUxfthZMKBjvkBtGZHOX+/Ky0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=HO16A0tk/r7LXGDFZZRKDZLX1v06s+jhtthGgxJZ0t5mCh8pSOuP2trsEIAcLOluRn
         Al04SpRZySWvxVRNL7JqLt5NBy5a1O1hRwnXMSNsG0LidXJ2tHycS1XjqZ0Dw2nkuWEA
         G5wN8kgKyBlDe8vLXh/W9umyp8P3HGAMbx+wU=
MIME-Version: 1.0
Received: by 10.224.10.208 with SMTP id q16mr5703459qaq.65.1292359818815; Tue,
 14 Dec 2010 12:50:18 -0800 (PST)
Received: by 10.229.235.208 with HTTP; Tue, 14 Dec 2010 12:50:18 -0800 (PST)
In-Reply-To: <4D07A8D0.4090105@lirmm.fr>
References: <4D07A8D0.4090105@lirmm.fr>
Date: Tue, 14 Dec 2010 15:50:18 -0500
Message-ID: <AANLkTi=m79HSyjwUrgBKqtfXmvdnnfePrYMviiSJzrsF@mail.gmail.com>
Subject: Re: query formulation
From: Erick Erickson <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0015175cd692ec33b0049764f72d
X-Virus-Checked: Checked by ClamAV on apache.org

--0015175cd692ec33b0049764f72d
Content-Type: text/plain; charset=ISO-8859-1

Hmmmm, have you seen this page?
http://lucene.apache.org/java/3_0_3/queryparsersyntax.html
<http://lucene.apache.org/java/3_0_3/queryparsersyntax.html>If that doesn't
help, perhaps you can explain what it is that you're trying to do that the
syntax
is inadequate for.

Do note that Lucene query syntax is better thought of with the +/-/ / syntax
(this last is a blank
operator standing for "should". It's not true boolean logic.

Best
Erick

On Tue, Dec 14, 2010 at 12:26 PM, Hassan Saneifar
<hassan.saneifar@lirmm.fr>wrote:

> Hello,
> I'm wondering if there is a way to configure the query in lucene to use the
> logical operation ?
> In fact, I would like to force retrieval of documents which contain
> obligatory a given keyword or do not contain an other one. I can do that by
> a preprocessing (filter the documents which contain the keyword) but I would
> like to that in the query formulation.
> Many thanks
>
> --
> Hassan Saneifar,
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--0015175cd692ec33b0049764f72d--

From java-user-return-48115-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 15 08:42:43 2010
Return-Path: <java-user-return-48115-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35388 invoked from network); 15 Dec 2010 08:42:42 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 15 Dec 2010 08:42:42 -0000
Received: (qmail 36277 invoked by uid 500); 15 Dec 2010 08:42:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35808 invoked by uid 500); 15 Dec 2010 08:42:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35798 invoked by uid 99); 15 Dec 2010 08:42:36 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Dec 2010 08:42:36 +0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=FREEMAIL_FROM,MIME_QP_LONG_LINE,RCVD_IN_DNSWL_NONE,RFC_ABUSE_POST,SPF_NEUTRAL,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [121.101.151.213] (HELO nm4-vm0.bullet.mail.in.yahoo.com) (121.101.151.213)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 15 Dec 2010 08:42:31 +0000
Received: from [121.101.151.236] by nm4.bullet.mail.in.yahoo.com with NNFMP; 15 Dec 2010 08:42:17 -0000
Received: from [121.101.151.234] by tm1.bullet.mail.in.yahoo.com with NNFMP; 15 Dec 2010 08:42:12 -0000
Received: from [127.0.0.1] by omp1003.mail.in.yahoo.com with NNFMP; 15 Dec 2010 08:42:06 -0000
X-Yahoo-Newman-Id: 985641.2404.bm@omp1003.mail.in.yahoo.com
Received: (qmail 51518 invoked from network); 15 Dec 2010 08:42:08 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.in;
  h=DKIM-Signature:Received:X-Yahoo-SMTP:X-YMail-OSG:X-Yahoo-Newman-Property:Message-ID:From:To:References:Subject:Date:MIME-Version:Content-Type:Content-Transfer-Encoding:X-Priority:X-MSMail-Priority:X-Mailer:X-MimeOLE;
  b=STmVn61SgbPBbqK77e3a7h8iq36kr4D8HYQjZYvZ8B76+9Zct5LJt+Y4gNwJ+ZJyRPdKnJxXhr9+JBry0NoV4eMJPjmfKK17xy5e4EDT4o0cKRxX+lF5vPjpYNoA706NY+3hEuYnfSRC09uyrQ7ICR7OS7v+iJC6+55EvNt8J+A=  ;
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.co.in; s=s1024; t=1292402528; bh=5dPs10RBaT8Xp7bJnSYKChcFDK41gLo6Ut8wYbQmKC0=; h=Received:X-Yahoo-SMTP:X-YMail-OSG:X-Yahoo-Newman-Property:Message-ID:From:To:References:Subject:Date:MIME-Version:Content-Type:Content-Transfer-Encoding:X-Priority:X-MSMail-Priority:X-Mailer:X-MimeOLE; b=Xy379tdhpUFtQY2W4m0UPSgEbSf+80JOHLAB8FndS/KblaApKS6H5Zjc0I5aTGIniMx33GoGV9fIboCmL2OG7MFAJaA7ORFOcdBgd5boTtuQJK4xUBKnw4Cl9kFckcdoU+jr3SJzhYqzUdipbOngQ9ZYDPzgrED/Xwx5WE8J+o8=
Received: from GaneshM (emailgane@121.244.159.130 with login)
        by smtp106.mail.in.yahoo.com with SMTP; 15 Dec 2010 14:12:07 +0530 IST
X-Yahoo-SMTP: JObyHkuswBBrNSLZp.Ycd7Boqpr_GQ--
X-YMail-OSG: Nu3fS9wVM1lNybIilRJEKc9NJSOgKlGebQjUDzRcty2Pg0w
 3dnIgQivhBoKrENRSv1nNY0ceDXspjSNtwv0Gc7Q.mWD7ZbRWdTrpxdI_jYb
 HFtdbSIRzVlge4wlR3i5F055KUTfdpLM67SBTSjVAjTjV2jrDDhnzAgaukad
 Qs6MsiU0az2BL7MdMXPlW2Ec3HdUZ2GlIzwf85qpcBUfrwDPo3EGFSD2GxUF
 EvR7uESGLwh0Xhc5euO_FWkKisDm2ZcbcxRQkGt6ZhOHzhzGpww--
X-Yahoo-Newman-Property: ymail-3
Message-ID: <16B30E8CC7BF41A0BB8D0D3E7E732CFA@sv.us.sonicwall.com>
From: "Ganesh" <emailgane@yahoo.co.in>
To: <java-user@lucene.apache.org>
References: <0FD59CD8A2DF49D5AAB65412A8F43297@sv.us.sonicwall.com><AANLkTimN2xt6stZ049TC95HZp7=tdoNeg_cqCxxZx6iG@mail.gmail.com><7C07295C4C3A410B989D9334001248B7@sv.us.sonicwall.com><AANLkTi=+zFAKqEi9ghXT7oNNag5a2bKVTiOtGxdHMASw@mail.gmail.com><8707487473613519815@unknownmsgid> <AANLkTi=YmMa15u3AUvd2X=G-Cnm-NvNxCxL0mN9e0vUa@mail.gmail.com>
Subject: Re: Scale up design
Date: Wed, 15 Dec 2010 14:12:07 +0530
MIME-Version: 1.0
Content-Type: text/plain;
	charset="UTF-8"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.5931
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.5931

What is the advantage of going for 64 Bit. People claim performance and =
usage of more RAM.=20

In 32 Bit OS, JVM handles 1 to 1.5 GB of RAM then in case of 64 Bit, =
Single JVM cannot use more than 1.5 GB RAM? What if we host multiple JVM =
instance in the single system.=20

Please help me with some more ideas. We need to design whether to scale =
out or scale up.=20

Regards
Ganesh
=20


----- Original Message -----=20
From: "Erick Erickson" <erickerickson@gmail.com>
To: <java-user@lucene.apache.org>
Sent: Monday, December 13, 2010 7:00 PM
Subject: Re: Scale up design


Here's a great intro to the garbage collection options:
http://www.lucidimagination.com/blog/2009/09/19/java-garbage-collection-b=
oot-camp-draft/

@Ganesh:
The issue with 64 bit isn't really performance, it's that you can't =
allocate
much of
your memory to the JVM. So by definition your performance will tank much
earlier
with a 32-bit JVM no matter what physical hardware you're running on =
because
you're constrained by how much of the physical memory you *can* use.

Best
Erick

On Mon, Dec 13, 2010 at 6:33 AM, William Newport =
<billy@billynewport.com>wrote:

> I've used 30-35gb heaps and it is painful.
>
> Sent from my iPhone
>
> On Dec 13, 2010, at 2:16 AM, "Danil =C5=A2ORIN" <torindan@gmail.com> =
wrote:
>
> > GC times on large heaps are pretty painfull right now (haven't tried
> > G1 collector, knowledgeable people : please advise)
> >
> > Also it's very dependent on your index and query pattern, so you =
could
> > improve it by using some -XX magic.
> >
> > My recommendation is to scale horizontally (spit index into shards),
> > this way you'll be able to scale up much easier than moving to even
> > beefier server.
> > Initially if your server is big enough, you may host all your shards
> > on it, just in separate jvms.
> >
> > If you are thinking on BIG indexes, you probably don't want to loose
> > them, so you also must think of replication, standbys and so on.
> > And from my experience overall cost (for same availability) is =
cheaper
> > when you use many smaller servers than few large ones.
> >
> > On Mon, Dec 13, 2010 at 09:01, Ganesh <emailgane@yahoo.co.in> wrote:
> >> Have you tried using Lucene in 64 Bit with more than 8 GB RAM.
> >>
> >> Regards
> >> Ganesh
> >>
> >> ----- Original Message -----
> >> From: "Pradeep Singh" <pksinghus@gmail.com>
> >> To: <java-user@lucene.apache.org>
> >> Sent: Monday, December 13, 2010 12:16 PM
> >> Subject: Re: Scale up design
> >>
> >>
> >>> 8GB is used on laptops. For servers you need more.
> >>>
> >>> On Sun, Dec 12, 2010 at 10:25 PM, Ganesh <emailgane@yahoo.co.in>
> wrote:
> >>>
> >>>> Hello all,
> >>>>
> >>>> I know little bit about scale out design, Sharding the database =
across
> >>>> systems. Is any one in this group tried Scale up architecture? I =
think
> to
> >>>> scale up, we need to use 64 bit. How about the Lucene performance =
in
> 64 bit?
> >>>> Whether we could use 8 GB RAM completely?
> >>>>
> >>>> Could any share their thoughts on this.
> >>>>
> >>>> Regards
> >>>> Ganesh
> >>>> Send free SMS to your Friends on Mobile from your Yahoo! =
Messenger.
> >>>> Download Now! http://messenger.yahoo.com/download.php
> >>>>
> >>>> =
---------------------------------------------------------------------
> >>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >>>> For additional commands, e-mail: java-user-help@lucene.apache.org
> >>>>
> >>>>
> >>>
> >> Send free SMS to your Friends on Mobile from your Yahoo! Messenger.
> Download Now! http://messenger.yahoo.com/download.php
> >>
> >> =
---------------------------------------------------------------------
> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >> For additional commands, e-mail: java-user-help@lucene.apache.org
> >>
> >>
> >
> > =
---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

Send free SMS to your Friends on Mobile from your Yahoo! Messenger. Download Now! http://messenger.yahoo.com/download.php

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48116-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 15 11:00:43 2010
Return-Path: <java-user-return-48116-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92914 invoked from network); 15 Dec 2010 11:00:42 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 15 Dec 2010 11:00:42 -0000
Received: (qmail 72169 invoked by uid 500); 15 Dec 2010 11:00:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71840 invoked by uid 500); 15 Dec 2010 11:00:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 71831 invoked by uid 99); 15 Dec 2010 11:00:39 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Dec 2010 11:00:39 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [130.225.24.68] (HELO sbexch03.sb.statsbiblioteket.dk) (130.225.24.68)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Dec 2010 11:00:29 +0000
Received: from [130.225.25.198] (130.225.25.198) by
 sbexch03.sb.statsbiblioteket.dk (130.225.24.68) with Microsoft SMTP Server id
 8.3.106.1; Wed, 15 Dec 2010 12:00:09 +0100
Subject: Re: Scale up design
From: Toke Eskildsen <te@statsbiblioteket.dk>
Reply-To: te@statsbiblioteket.dk
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
In-Reply-To: <16B30E8CC7BF41A0BB8D0D3E7E732CFA@sv.us.sonicwall.com>
References: <0FD59CD8A2DF49D5AAB65412A8F43297@sv.us.sonicwall.com>
	 <AANLkTimN2xt6stZ049TC95HZp7=tdoNeg_cqCxxZx6iG@mail.gmail.com>
	 <7C07295C4C3A410B989D9334001248B7@sv.us.sonicwall.com>
	 <AANLkTi=+zFAKqEi9ghXT7oNNag5a2bKVTiOtGxdHMASw@mail.gmail.com>
	 <8707487473613519815@unknownmsgid>
	 <AANLkTi=YmMa15u3AUvd2X=G-Cnm-NvNxCxL0mN9e0vUa@mail.gmail.com>
	 <16B30E8CC7BF41A0BB8D0D3E7E732CFA@sv.us.sonicwall.com>
Content-Type: text/plain; charset="UTF-8"
Organization: State and University Library, Denmark
Date: Wed, 15 Dec 2010 12:06:16 +0100
Message-ID: <1292411176.19302.168.camel@te-prime>
MIME-Version: 1.0
X-Mailer: Evolution 2.28.3 
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

On Wed, 2010-12-15 at 09:42 +0100, Ganesh wrote:
> What is the advantage of going for 64 Bit.

Larger maximum heap, more memory in the machine.

> People claim performance and usage of more RAM.

Yes, pointers normally take up 64bit on a 64bit machine. Depending on
the application, the overhead can be anything from practically
non-existing to close to 100%. You can set an option for the JVM to try
and use smaller pointers on 64bit machines. This limits the maximum
memory allocation in the JVM to 32GB, which seems like a fair compromise
at this point in time.
http://wikis.sun.com/display/HotSpotInternals/CompressedOops

> In 32 Bit OS, JVM handles 1 to 1.5 GB of RAM then in case
> of 64 Bit, Single JVM cannot use more than 1.5 GB RAM?

Say what? When running on a 64bit, the JVM heap limit is normally the
system's per-process memory limit. For Linux this is generally well
above any real world hardware. For Windows it seems like you need to
enable something:
http://msdn.microsoft.com/en-us/library/aa366778%28v=vs.85%29.aspx
(note: I have no experience with 64bit Windows)

> Please help me with some more ideas. We need to design whether
> to scale out or scale up.

Maybe you could describe your vision in more detail? What scale are you
looking at? How large is your index in GB, how many documents, how fast
do you need the searcher to respond, are you doing any sorting or
faceting (and do you facet on a few unique values or things like title
or author)?

It makes little sense to try and get a single machine to handle billions
of documents with large faceting, but it seems silly to distribute 10GB
of index with 1 million documents. As a general rule of thumb. As always
your mileage might wary.

For the record, our current index is 40GB/9 million records. We're doing
sorting on title and faceting on 15 fields, out of which 2 has 4-6
million unique values. This runs on a single machine (okay, 2, but they
are mirrored) with 6GB of RAM and it works fine with sub-second response
times (normally <300ms AFAIR). Our experimental setup can get by with
1.2GB and would thus not require 64bit.


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48117-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 15 13:50:11 2010
Return-Path: <java-user-return-48117-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 74007 invoked from network); 15 Dec 2010 13:50:11 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 15 Dec 2010 13:50:11 -0000
Received: (qmail 49677 invoked by uid 500); 15 Dec 2010 13:50:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49191 invoked by uid 500); 15 Dec 2010 13:50:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 49181 invoked by uid 99); 15 Dec 2010 13:50:08 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Dec 2010 13:50:08 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of cdoronc@gmail.com designates 74.125.83.46 as permitted sender)
Received: from [74.125.83.46] (HELO mail-gw0-f46.google.com) (74.125.83.46)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Dec 2010 13:50:01 +0000
Received: by gwj20 with SMTP id 20so1312045gwj.5
        for <java-user@lucene.apache.org>; Wed, 15 Dec 2010 05:49:41 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=CrhcYqim3Fl3FpYWjfTWfnT8Td13YVdsPsBA55NqVKw=;
        b=TEa3SCMIsL2lRyhwUVGN3z6TqIorW7/PBcqo+KALjGRsHAcBU6MZLBj2TrGSdf6/Bz
         UyIAZOv1ToSnZn3ZcjVsJRHh6q+mSb5btEmJWNdTb+ZTDQZtfkJi8/JgztcGoGP95QT2
         3kxufNZ+AIhKXyAYZ2wrpXzPGEhOmV//2Ht84=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=TSOGHH+nYPKqvzKj7anzX8o4lO3PbricioIkix50mwIOzQjbDskdIJlzxSxllo4H+U
         lQZyHkVkEU6/L13V2lHtlBDdRucDMRAzW8vz7GehMlR1+bdTmjjx6Yg8j5m0ghf/o9he
         oexb34AecN13RjxMJ9kluhrX3VZaceuKr9tOo=
MIME-Version: 1.0
Received: by 10.90.82.3 with SMTP id f3mr8313017agb.83.1292420979909; Wed, 15
 Dec 2010 05:49:39 -0800 (PST)
Received: by 10.90.92.3 with HTTP; Wed, 15 Dec 2010 05:49:39 -0800 (PST)
In-Reply-To: <AANLkTinJtB_keyUvF6K1-t4_vmyBPEG0na1RzUbfoMPu@mail.gmail.com>
References: <AANLkTimm69AuyOwB03qSahOCUE3vwW3kBJJzf-91YoRU@mail.gmail.com>
	<alpine.DEB.1.10.1012132251230.18109@radix.cryptio.net>
	<AANLkTinwnP+_DU1sPiWOk2P4+N+a=JosM7K=KaDZ8Tp9@mail.gmail.com>
	<AANLkTi=f2d6jr0UCif8qWG5SiKD6hDMavjA_3AKNMLoo@mail.gmail.com>
	<AANLkTinJtB_keyUvF6K1-t4_vmyBPEG0na1RzUbfoMPu@mail.gmail.com>
Date: Wed, 15 Dec 2010 15:49:39 +0200
Message-ID: <AANLkTinp7TsrrUen6zJEbBp1UMJpRdZ4v4-j6aH3Am7a@mail.gmail.com>
Subject: Re: Forcing specific index file names
From: Doron Cohen <cdoronc@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016e64f90486867570497733598

--0016e64f90486867570497733598
Content-Type: text/plain; charset=ISO-8859-1

> I could make an exception in the patch creation program to detect
> that there is a lucene directly, and diff the .cfs files, even if
> they have different names, but was seeing if I can avoid that
> so the patch program can be agnostic about the contents of the
> directory tree.
>

Doing only this is insufficient - .cfs files are referred to (by name) by
segments files. There can be multiple .cfs files. There can be multiple
segments files. See Lucene's File Format documentation - e.g.
http://lucene.apache.org/java/3_0_3/fileformats.html#Segments%20File.

As Erick pointed, when exactly the same indexing scenario takes place you
should have ended up with the same index files (content and name). So if
running into different file names is something that happens only in your
test env, better make sure that indeed the tests behavior reflect actual
"field behavior" - just to make sure you are not spending too much time on
optimizing a scenario that can happen in your tests but will never happen in
"production".

Assuming you check this and find that the scenario that creates identical
indexes with different file names is possible and common and should be
optimized, then a more involved solution would be required to make sure that
the decision not to copy a certain file is correct.

Perhaps I'll change my mind after understanding the scenario that creates
this, but for now I'd rather not to ignore the file names differences.

Doron

--0016e64f90486867570497733598--

From java-user-return-48118-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 15 14:38:22 2010
Return-Path: <java-user-return-48118-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 96046 invoked from network); 15 Dec 2010 14:38:22 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 15 Dec 2010 14:38:22 -0000
Received: (qmail 49213 invoked by uid 500); 15 Dec 2010 14:38:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 48990 invoked by uid 500); 15 Dec 2010 14:38:19 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 48982 invoked by uid 99); 15 Dec 2010 14:38:19 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Dec 2010 14:38:19 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of earlhood@gmail.com designates 74.125.83.176 as permitted sender)
Received: from [74.125.83.176] (HELO mail-pv0-f176.google.com) (74.125.83.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Dec 2010 14:38:12 +0000
Received: by pvb32 with SMTP id 32so401768pvb.35
        for <java-user@lucene.apache.org>; Wed, 15 Dec 2010 06:37:52 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:sender:received
         :in-reply-to:references:date:x-google-sender-auth:message-id:subject
         :from:to:content-type;
        bh=j1PuXvw3vJ8I3rQFIBX1nBmKFJXmlSfJAxIBIz4Z8io=;
        b=d3qa6eYL2+YS0z0vuMfj83g7SCa1PwqU+sD4IWkVqDMY8PyOFysJNUy3y5YYWVKNJc
         W+l5lKqkkakovlEYRCLTNU0ETgAEhbCFW0PVu+2nuA+cvD5XiOac622vf5w7mNiEAC4h
         dwvci7vBs7W8lZA4zXFw4R68d46rl4FYwE/g0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:sender:in-reply-to:references:date
         :x-google-sender-auth:message-id:subject:from:to:content-type;
        b=j3DAGcCWETyF41dupc0QaJ2V6cBq7wVJAjm4qLWhMnMrWXBU2szK0/LwDPWS2Nlr2k
         yduhI27qxJvn9PD5RWc80Yyzp9puet9w6pQ1FpSaQGpDFeno9WiZ0/DNDcRYjOlsluPi
         g5vQlE6XKUrMJ7KoefLe50Q3d15FBfaMfpoQg=
MIME-Version: 1.0
Received: by 10.142.109.14 with SMTP id h14mr5586269wfc.260.1292423872196;
 Wed, 15 Dec 2010 06:37:52 -0800 (PST)
Sender: earlhood@gmail.com
Received: by 10.142.171.4 with HTTP; Wed, 15 Dec 2010 06:37:52 -0800 (PST)
In-Reply-To: <AANLkTinp7TsrrUen6zJEbBp1UMJpRdZ4v4-j6aH3Am7a@mail.gmail.com>
References: <AANLkTimm69AuyOwB03qSahOCUE3vwW3kBJJzf-91YoRU@mail.gmail.com>
	<alpine.DEB.1.10.1012132251230.18109@radix.cryptio.net>
	<AANLkTinwnP+_DU1sPiWOk2P4+N+a=JosM7K=KaDZ8Tp9@mail.gmail.com>
	<AANLkTi=f2d6jr0UCif8qWG5SiKD6hDMavjA_3AKNMLoo@mail.gmail.com>
	<AANLkTinJtB_keyUvF6K1-t4_vmyBPEG0na1RzUbfoMPu@mail.gmail.com>
	<AANLkTinp7TsrrUen6zJEbBp1UMJpRdZ4v4-j6aH3Am7a@mail.gmail.com>
Date: Wed, 15 Dec 2010 08:37:52 -0600
X-Google-Sender-Auth: 4oNlfGKSNVwOWY-X3h5CMUajXFg
Message-ID: <AANLkTikJrXv5TgaqYqSZMXDteHNQqK2y3sHx_zs9wTv2@mail.gmail.com>
Subject: Re: Forcing specific index file names
From: Earl Hood <earl@earlhood.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1

On Wed, Dec 15, 2010 at 7:49 AM, Doron Cohen wrote:
> Perhaps I'll change my mind after understanding the scenario that creates
> this, but for now I'd rather not to ignore the file names differences.

It may be possible to control the data generation process, so
the filenames are consistent.  Changes in the filenames seem
to happen when doing incremental builds of the data sets, but
we may be allowed to require full builds of the data sets
for purposes of creating patch sets.

I do realize that the segment file is important also, so I would
take the collection of files (3 files that I know of) into account
if I have to deal with filename differences.

Since it appears that index file renaming is not readily available,
I will wait and see how some real-world scenarios work out to
determine if the different index filenames will be a major concern for
the project.

Thanks for everyone's feedback,

--ewh

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48119-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 15 15:29:35 2010
Return-Path: <java-user-return-48119-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19031 invoked from network); 15 Dec 2010 15:29:35 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 15 Dec 2010 15:29:35 -0000
Received: (qmail 58980 invoked by uid 500); 15 Dec 2010 15:29:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58680 invoked by uid 500); 15 Dec 2010 15:29:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58660 invoked by uid 99); 15 Dec 2010 15:29:28 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Dec 2010 15:29:28 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of chardex@gmail.com designates 209.85.216.48 as permitted sender)
Received: from [209.85.216.48] (HELO mail-qw0-f48.google.com) (209.85.216.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Dec 2010 15:29:20 +0000
Received: by qwh6 with SMTP id 6so2090653qwh.35
        for <multiple recipients>; Wed, 15 Dec 2010 07:29:00 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:date:message-id
         :subject:from:to:content-type;
        bh=xNHU/DFUmYUrunsOC3yqQ42Qdf6okcmWgXSllbcZV1U=;
        b=pz7Dvzwa9UmMI8cEJ1+BMyBAuACEIes37sJoOOP0EDK20Z9FFafv1J3IsVeqokQV7W
         kMAKQzTJ4W9MlA6VuURnlNelDbmPlp4V7IsgwbFnQI07y6jnMZKBBil781HhAd8nfK5l
         v8ZTjDs/XRkNvmNxMqoWb4jlPexKGqYU9OyV4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=YSSkzDPL7ejCZND5swPWGnh2b/MExbMvUtq3Jxk5E5h/KYDnirl6yxnGVpaq1a127/
         3/lVSD8O90SazqXAY1Ux8yV4eTzVNu4jf0y/S2vXqJtK3kf+KtFs2QG5MH+E4X8rlUz3
         Z+cIjYHwM+Qh/0ccu1xQlksnpqWq0wJZAudHw=
MIME-Version: 1.0
Received: by 10.229.91.194 with SMTP id o2mr623341qcm.138.1292426940031; Wed,
 15 Dec 2010 07:29:00 -0800 (PST)
Received: by 10.229.35.8 with HTTP; Wed, 15 Dec 2010 07:28:59 -0800 (PST)
Date: Wed, 15 Dec 2010 18:28:59 +0300
Message-ID: <AANLkTimQ2W2x95P8hT52ODSerQ+EvdZhiipVorze5Fe=@mail.gmail.com>
Subject: Custom scoring for searhing geographic objects
From: Pavel Minchenkov <chardex@gmail.com>
To: solr-user@lucene.apache.org, java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016364ee640a8a4dc0497749827
X-Virus-Checked: Checked by ClamAV on apache.org

--0016364ee640a8a4dc0497749827
Content-Type: text/plain; charset=ISO-8859-1

Hi,
Please give me advise how to create custom scoring. I need to result that
documents were in order, depending on how popular each term in the document
(popular = how many times it appears in the index) and length of the
document (less terms - higher in search results).

For example, index contains following data:

ID    | SEARCH_FIELD
------------------------------
1     | Russia
2     | Russia, Moscow
3     | Russia, Volgograd
4     | Russia, Ivanovo
5     | Russia, Ivanovo, Altayskaya street 45
6     | Russia, Moscow, Kremlin
7     | Russia, Moscow, Altayskaya street
8     | Russia, Moscow, Altayskaya street 15
9     | Russia, Moscow, Altayskaya street 15/26


And I should get next results:


Query                     | Document result set
----------------------------------------------
Russia                    | 1,2,4,3,6,7,8,9,5
Moscow                  | 2,6,7,8,9
Ivanovo                    | 4,5
Altayskaya              | 7,8,9,5

In fact --- it is a search for geographic objects (cities, streets, houses).
At the same time can be given only part of the address, and the results
should appear the most relevant results.

Thanks.
-- 
Pavel Minchenkov

--0016364ee640a8a4dc0497749827--

From java-user-return-48120-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 15 15:44:50 2010
Return-Path: <java-user-return-48120-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23522 invoked from network); 15 Dec 2010 15:44:50 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 15 Dec 2010 15:44:50 -0000
Received: (qmail 84956 invoked by uid 500); 15 Dec 2010 15:44:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84490 invoked by uid 500); 15 Dec 2010 15:44:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84482 invoked by uid 99); 15 Dec 2010 15:44:47 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Dec 2010 15:44:47 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ian.lea@gmail.com designates 209.85.214.51 as permitted sender)
Received: from [209.85.214.51] (HELO mail-bw0-f51.google.com) (209.85.214.51)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Dec 2010 15:44:39 +0000
Received: by bwz8 with SMTP id 8so2449769bwz.24
        for <java-user@lucene.apache.org>; Wed, 15 Dec 2010 07:44:18 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:in-reply-to
         :references:from:date:message-id:subject:to:content-type
         :content-transfer-encoding;
        bh=OYtJslZqlK+bqXpAcNFIhctrhjCNxDUR3tF6ucaBpao=;
        b=gGGBYkbmguec0eJ8oGSNiA8jJYngPPiOlLqciy8PtHQwkD7GrsGRNB0OaYvc5gBPUg
         VrBIO40X74qOYGrZSf/roX7JVQcV0R5LgMKDgKNVF/WYVj1q5bhkEZkRoJb3QaksXTmo
         QMToPezq2N8J0r1pzypIXe2900BQfw/1O774A=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        b=TATfw8nMJcujDB3yQtVpK2lUOvvmYYfBxq+gig/KNcRp5jMLV9xQ6GfMOGiNDLaYdW
         hmzM305Q472JgeXea0FFMxJT3pZLEGrlcPhfp5TvsaMMomdpgl2hK1PwSWB7vebxp8Wi
         Dy6Ds9jqC67eMZWLGeVkDtFrMQ9Njm6IXiJB8=
Received: by 10.204.101.83 with SMTP id b19mr1303123bko.199.1292427858878;
 Wed, 15 Dec 2010 07:44:18 -0800 (PST)
MIME-Version: 1.0
Received: by 10.204.60.202 with HTTP; Wed, 15 Dec 2010 07:43:58 -0800 (PST)
In-Reply-To: <AANLkTimQ2W2x95P8hT52ODSerQ+EvdZhiipVorze5Fe=@mail.gmail.com>
References: <AANLkTimQ2W2x95P8hT52ODSerQ+EvdZhiipVorze5Fe=@mail.gmail.com>
From: Ian Lea <ian.lea@gmail.com>
Date: Wed, 15 Dec 2010 15:43:58 +0000
Message-ID: <AANLkTimsTUj++JSPW3tHcStMf5N60-tmoOc=vwweoDKC@mail.gmail.com>
Subject: Re: Custom scoring for searhing geographic objects
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

Sounds to me that lucene should do a pretty good job without any extra
work on your part.  See javadocs for
org.apache.lucene.search.Similarity
for details on how it works.  You can change things by providing your
own implementation.

There is also the org.apache.lucene.search.function package but that
is much more complex.


A web search for "lucene scoring" should find you lots of info.


--
Ian.


On Wed, Dec 15, 2010 at 3:28 PM, Pavel Minchenkov <chardex@gmail.com> wrote=
:
> Hi,
> Please give me advise how to create custom scoring. I need to result that
> documents were in order, depending on how popular each term in the docume=
nt
> (popular =3D how many times it appears in the index) and length of the
> document (less terms - higher in search results).
>
> For example, index contains following data:
>
> ID =A0 =A0| SEARCH_FIELD
> ------------------------------
> 1 =A0 =A0 | Russia
> 2 =A0 =A0 | Russia, Moscow
> 3 =A0 =A0 | Russia, Volgograd
> 4 =A0 =A0 | Russia, Ivanovo
> 5 =A0 =A0 | Russia, Ivanovo, Altayskaya street 45
> 6 =A0 =A0 | Russia, Moscow, Kremlin
> 7 =A0 =A0 | Russia, Moscow, Altayskaya street
> 8 =A0 =A0 | Russia, Moscow, Altayskaya street 15
> 9 =A0 =A0 | Russia, Moscow, Altayskaya street 15/26
>
>
> And I should get next results:
>
>
> Query =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 | Document result set
> ----------------------------------------------
> Russia =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0| 1,2,4,3,6,7,8,9,5
> Moscow =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0| 2,6,7,8,9
> Ivanovo =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0| 4,5
> Altayskaya =A0 =A0 =A0 =A0 =A0 =A0 =A0| 7,8,9,5
>
> In fact --- it is a search for geographic objects (cities, streets, house=
s).
> At the same time can be given only part of the address, and the results
> should appear the most relevant results.
>
> Thanks.
> --
> Pavel Minchenkov
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48121-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 15 16:04:57 2010
Return-Path: <java-user-return-48121-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30720 invoked from network); 15 Dec 2010 16:04:57 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 15 Dec 2010 16:04:57 -0000
Received: (qmail 11635 invoked by uid 500); 15 Dec 2010 16:04:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11217 invoked by uid 500); 15 Dec 2010 16:04:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 11209 invoked by uid 99); 15 Dec 2010 16:04:53 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Dec 2010 16:04:53 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=10.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [193.16.154.33] (HELO timmy.zylon.net) (193.16.154.33)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 15 Dec 2010 16:04:44 +0000
Received: (qmail 7644 invoked by uid 89); 15 Dec 2010 16:04:24 -0000
Received: from unknown (HELO ?192.168.1.112?) (dennis.hendriksen@kalooga.com@193.138.250.18)
  by 0 with SMTP; 15 Dec 2010 16:04:24 -0000
Subject: Multivalued scoring
From: Dennis Hendriksen <dennis.hendriksen@kalooga.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset="UTF-8"
Organization: Kalooga
Date: Wed, 15 Dec 2010 17:04:24 +0100
Message-ID: <1292429064.2413.37.camel@kalooga-dennis>
Mime-Version: 1.0
X-Mailer: Evolution 2.28.1 
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

We are using a Lucene 3.x index to search for photo albums based on
textual properties such as photo album title/author/URL and photo
captions/URLs. Goal is to find the most relevant photo albums for a user
query and display the best matching photos for these albums.

In our current solution we append, for each photo album, all photo
captions in a catchall field and do a search. For each search result we
get the URL and do a look up in another Lucene index where each document
contains individual photo properties to find the best matching photos in
a photo album. These indexes are very small, but there is one for each
photo album. (see example below)

I've tried to use multivalued fields and exploit the fact that the
values are ordered so that for example the 2nd value of field:caption is
related to the 2nd value of field:URL.

The problem with this solution is that it is not possible to find the
best matching photos in the best photo albums (scoring of multivalued
fields is performed on all values together). As a workaround I've tried
storing some fields and creating the photo indexes on the fly using a
RAMDirectory. Besides the fact that this is not an elegant solution, the
increase in index size is unacceptable in our current setup.

What would be a better way to solve this problem?

Thanks for your time,
Dennis

---

Example:

index: photo albums
doc1( field:title, field:author, field:url_album, field:id=unique_id )
doc2( field:title, field:author, field:url_album, field:id=unique_id )
...

index: <unique_id>
doc1(field:caption, field:url_photo)
doc1(field:caption, field:url_photo)
doc1(field:caption, field:url_photo)



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48122-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 15 16:10:41 2010
Return-Path: <java-user-return-48122-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40390 invoked from network); 15 Dec 2010 16:10:41 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 15 Dec 2010 16:10:41 -0000
Received: (qmail 17895 invoked by uid 500); 15 Dec 2010 16:10:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17748 invoked by uid 500); 15 Dec 2010 16:10:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17740 invoked by uid 99); 15 Dec 2010 16:10:38 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Dec 2010 16:10:38 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of cdoronc@gmail.com designates 209.85.213.48 as permitted sender)
Received: from [209.85.213.48] (HELO mail-yw0-f48.google.com) (209.85.213.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Dec 2010 16:10:30 +0000
Received: by ywo7 with SMTP id 7so1288077ywo.35
        for <java-user@lucene.apache.org>; Wed, 15 Dec 2010 08:10:09 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=lkJ6UPE3ZIvDeA4BZc1o4x7KG2W0LkD5SCR0cCbwuQo=;
        b=uxPBojYiMFgt5OKzKx8p5YtsUeEsII+BA9IlGJgsPz7EvGtX2l7mx3AuCbQHm96N5a
         083jAPRi590didmSWg3NPQzEPN+FrCBXpF1oS40BeOHAcr7FwVp0CaPiDHqnCVXirRgP
         if+nTVJpoZLcTEwp4LtmExMKIwalwFTj+ktK4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=oJlwQDAtVZyvSSlJqI8p6Tl+l3tKLTsQdriwN4i8NWpmyF7KniAW2IAY/V5oASCqzf
         /nVjZqIf7Rt9aRngvEAHeRyXAD704rzCSGYvTl4WpCuOf/ibkDHGcthiDDW9heXhrTIb
         JXWU7gpmEImmV5ebf+RtfPnNtqWTdLJx/mEa0=
MIME-Version: 1.0
Received: by 10.90.52.13 with SMTP id z13mr8576458agz.137.1292429409059; Wed,
 15 Dec 2010 08:10:09 -0800 (PST)
Received: by 10.90.92.3 with HTTP; Wed, 15 Dec 2010 08:10:08 -0800 (PST)
In-Reply-To: <AANLkTimsTUj++JSPW3tHcStMf5N60-tmoOc=vwweoDKC@mail.gmail.com>
References: <AANLkTimQ2W2x95P8hT52ODSerQ+EvdZhiipVorze5Fe=@mail.gmail.com>
	<AANLkTimsTUj++JSPW3tHcStMf5N60-tmoOc=vwweoDKC@mail.gmail.com>
Date: Wed, 15 Dec 2010 18:10:08 +0200
Message-ID: <AANLkTi=AFQpZ823z3OQ5Efngt+LFYPN=roBFNqGQ+2mj@mail.gmail.com>
Subject: Re: Custom scoring for searhing geographic objects
From: Doron Cohen <cdoronc@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016363105cfd307c30497752b30
X-Virus-Checked: Checked by ClamAV on apache.org

--0016363105cfd307c30497752b30
Content-Type: text/plain; charset=ISO-8859-1

Also, when taking the Similarity suggestion below note two things in
Lucene's default behavior that you seem to wish to avoid:

The first is IDF - but only for multi-term queries - otherwise ignore this
comment.
For multi term queries to only consider term frequency and doc length, you
may want to always return 1 for idf() in your Similarity impl (otherwise
terms appearing in more documents will contribute less to the score, which
you seem to wish to avoid).

The second is doc length normalization inaccuracy - as doc lengths are
encoded lossly at search time Lucene might not distinguish the difference
between two documents whose lengths are almost the same. For this, at
indexing time, your Similarity impl for lengthNorm() could be e.g. 1/(10 *
numTokens) - this way reducing the chances that two docs of different length
have the same search time norm.

Doron

On Wed, Dec 15, 2010 at 5:43 PM, Ian Lea <ian.lea@gmail.com> wrote:

> Sounds to me that lucene should do a pretty good job without any extra
> work on your part.  See javadocs for
> org.apache.lucene.search.Similarity
> for details on how it works.  You can change things by providing your
> own implementation.
>
> There is also the org.apache.lucene.search.function package but that
> is much more complex.
>
>
> A web search for "lucene scoring" should find you lots of info.
>
>
> --
> Ian.
>
>
> On Wed, Dec 15, 2010 at 3:28 PM, Pavel Minchenkov <chardex@gmail.com>
> wrote:
> > Hi,
> > Please give me advise how to create custom scoring. I need to result that
> > documents were in order, depending on how popular each term in the
> document
> > (popular = how many times it appears in the index) and length of the
> > document (less terms - higher in search results).
> >
> > For example, index contains following data:
> >
> > ID    | SEARCH_FIELD
> > ------------------------------
> > 1     | Russia
> > 2     | Russia, Moscow
> > 3     | Russia, Volgograd
> > 4     | Russia, Ivanovo
> > 5     | Russia, Ivanovo, Altayskaya street 45
> > 6     | Russia, Moscow, Kremlin
> > 7     | Russia, Moscow, Altayskaya street
> > 8     | Russia, Moscow, Altayskaya street 15
> > 9     | Russia, Moscow, Altayskaya street 15/26
> >
> >
> > And I should get next results:
> >
> >
> > Query                     | Document result set
> > ----------------------------------------------
> > Russia                    | 1,2,4,3,6,7,8,9,5
> > Moscow                  | 2,6,7,8,9
> > Ivanovo                    | 4,5
> > Altayskaya              | 7,8,9,5
> >
> > In fact --- it is a search for geographic objects (cities, streets,
> houses).
> > At the same time can be given only part of the address, and the results
> > should appear the most relevant results.
> >
> > Thanks.
> > --
> > Pavel Minchenkov
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--0016363105cfd307c30497752b30--

From java-user-return-48123-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 15 19:41:53 2010
Return-Path: <java-user-return-48123-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 38753 invoked from network); 15 Dec 2010 19:41:53 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 15 Dec 2010 19:41:53 -0000
Received: (qmail 31898 invoked by uid 500); 15 Dec 2010 19:41:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31841 invoked by uid 500); 15 Dec 2010 19:41:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 31833 invoked by uid 99); 15 Dec 2010 19:41:50 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Dec 2010 19:41:50 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of hossman_lucene@fucit.org designates 208.69.42.181 as permitted sender)
Received: from [208.69.42.181] (HELO radix.cryptio.net) (208.69.42.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Dec 2010 19:41:44 +0000
Received: by radix.cryptio.net (Postfix, from userid 1007)
	id 8EF1571C217; Wed, 15 Dec 2010 11:41:23 -0800 (PST)
Received: from localhost (localhost [127.0.0.1])
	by radix.cryptio.net (Postfix) with ESMTP id 8CDE371C198
	for <java-user@lucene.apache.org>; Wed, 15 Dec 2010 11:41:23 -0800 (PST)
Date: Wed, 15 Dec 2010 11:41:23 -0800 (PST)
From: Chris Hostetter <hossman_lucene@fucit.org>
To: java-user@lucene.apache.org
Subject: Re: Forcing specific index file names
In-Reply-To: <AANLkTinJtB_keyUvF6K1-t4_vmyBPEG0na1RzUbfoMPu@mail.gmail.com>
Message-ID: <alpine.DEB.1.10.1012151138350.1698@radix.cryptio.net>
References: <AANLkTimm69AuyOwB03qSahOCUE3vwW3kBJJzf-91YoRU@mail.gmail.com> <alpine.DEB.1.10.1012132251230.18109@radix.cryptio.net> <AANLkTinwnP+_DU1sPiWOk2P4+N+a=JosM7K=KaDZ8Tp9@mail.gmail.com> <AANLkTi=f2d6jr0UCif8qWG5SiKD6hDMavjA_3AKNMLoo@mail.gmail.com>
 <AANLkTinJtB_keyUvF6K1-t4_vmyBPEG0na1RzUbfoMPu@mail.gmail.com>
User-Agent: Alpine 1.10 (DEB 962 2008-03-14)
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII


: In my testing, when the filenames are the same, doing an xdelta on the
: files (mainly the file that contains most of the data, the .cfs file),
: there is a significant reduction in the size of the patch file created.

AS noted elsewhere in this thread, the filenames themselves are 
significant because they are tracked in the segments file and indicate 
generational information.

files with the same names should be the same, files with differnet names 
should be very different -- but if your binary diff tool is finding 
commonalities between files in new segments as the index grows overtime, 
and you feel like you can take advantage of this, then i would suggest 
using a simple tool like "tar" to combine all of the index files int oa 
single file with a predictable name before running your diff tool.


-Hoss

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48124-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 15 20:30:05 2010
Return-Path: <java-user-return-48124-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 59166 invoked from network); 15 Dec 2010 20:30:05 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 15 Dec 2010 20:30:05 -0000
Received: (qmail 92983 invoked by uid 500); 15 Dec 2010 20:30:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 92942 invoked by uid 500); 15 Dec 2010 20:30:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 92934 invoked by uid 99); 15 Dec 2010 20:30:02 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Dec 2010 20:30:02 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of earlhood@gmail.com designates 209.85.212.181 as permitted sender)
Received: from [209.85.212.181] (HELO mail-px0-f181.google.com) (209.85.212.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Dec 2010 20:29:57 +0000
Received: by pxi2 with SMTP id 2so434081pxi.12
        for <java-user@lucene.apache.org>; Wed, 15 Dec 2010 12:29:36 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:sender:received
         :in-reply-to:references:date:x-google-sender-auth:message-id:subject
         :from:to:content-type;
        bh=4VCf+mbUCewLj0SqrhCZ/x4zJfqxHV0mhmpeMBSZebU=;
        b=XHe/BRfFC/qEzOdYWl09ivMJWDLDD+y7Ez+hvQkiKyf0A4NqAJPKmt5SZJ7/kv5oYa
         8e4Tqj4qdzjulhPP5TFbjqYArMTubO8srYS3KDgBpytGGnZSGJI+mnHiqbQVXtYLZxxd
         z5Av5NNZy51/o13qoE30YcpcruIcTYfrN3IWM=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:sender:in-reply-to:references:date
         :x-google-sender-auth:message-id:subject:from:to:content-type;
        b=kPjQuwiMFYxC1uYj0LPz3zRwIv/0fw2Mq8leRDBJ1KJCTlSwAYw3Go3Sv+5c+mUaAZ
         3l4gpIymbuxh2Q1q8qkO7nXbY3yZi4xg+l4WRvfTKy3VytjhxXtt8msrTnotUzALJdSZ
         oPY5LwKxyWack6tT/pSfgF/c01q5jTKAtI1RY=
MIME-Version: 1.0
Received: by 10.142.187.14 with SMTP id k14mr5997123wff.431.1292444976831;
 Wed, 15 Dec 2010 12:29:36 -0800 (PST)
Sender: earlhood@gmail.com
Received: by 10.142.171.4 with HTTP; Wed, 15 Dec 2010 12:29:36 -0800 (PST)
In-Reply-To: <alpine.DEB.1.10.1012151138350.1698@radix.cryptio.net>
References: <AANLkTimm69AuyOwB03qSahOCUE3vwW3kBJJzf-91YoRU@mail.gmail.com>
	<alpine.DEB.1.10.1012132251230.18109@radix.cryptio.net>
	<AANLkTinwnP+_DU1sPiWOk2P4+N+a=JosM7K=KaDZ8Tp9@mail.gmail.com>
	<AANLkTi=f2d6jr0UCif8qWG5SiKD6hDMavjA_3AKNMLoo@mail.gmail.com>
	<AANLkTinJtB_keyUvF6K1-t4_vmyBPEG0na1RzUbfoMPu@mail.gmail.com>
	<alpine.DEB.1.10.1012151138350.1698@radix.cryptio.net>
Date: Wed, 15 Dec 2010 14:29:36 -0600
X-Google-Sender-Auth: sL-tVEObmOJcMu5XyrsVHCdJY6U
Message-ID: <AANLkTinjuoBc3y1tJQ6xshe_T-L1c96A+8XVE-UZBDq1@mail.gmail.com>
Subject: Re: Forcing specific index file names
From: Earl Hood <earl@earlhood.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1

On Wed, Dec 15, 2010 at 1:41 PM, Chris Hostetter
<hossman_lucene@fucit.org> wrote:
> files with the same names should be the same, files with differnet names
> should be very different -- but if your binary diff tool is finding
> commonalities between files in new segments as the index grows overtime,
> and you feel like you can take advantage of this, then i would suggest
> using a simple tool like "tar" to combine all of the index files int oa
> single file with a predictable name before running your diff tool.

I've considered that tar-style approach.

My initial query to the list was to see if I can avoid making
the patch creation program agnostic to the set of files.

Anyway, the tar-style approach seems the way to go if testing
confirms it is needed.

Thanks,

--ewh

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48125-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 15 21:24:56 2010
Return-Path: <java-user-return-48125-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79622 invoked from network); 15 Dec 2010 21:24:55 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 15 Dec 2010 21:24:55 -0000
Received: (qmail 59208 invoked by uid 500); 15 Dec 2010 21:24:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 59051 invoked by uid 500); 15 Dec 2010 21:24:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 59043 invoked by uid 99); 15 Dec 2010 21:24:53 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Dec 2010 21:24:53 +0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [140.211.11.9] (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 15 Dec 2010 21:24:52 +0000
Received: (qmail 79578 invoked by uid 99); 15 Dec 2010 21:24:32 -0000
Received: from localhost.apache.org (HELO [10.0.0.77]) (127.0.0.1)
  (smtp-auth username gsingers, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Dec 2010 21:24:32 +0000
Subject: Re: Custom scoring for searhing geographic objects
Mime-Version: 1.0 (Apple Message framework v1082)
Content-Type: text/plain; charset=us-ascii
From: Grant Ingersoll <gsingers@apache.org>
In-Reply-To: <AANLkTimQ2W2x95P8hT52ODSerQ+EvdZhiipVorze5Fe=@mail.gmail.com>
Date: Wed, 15 Dec 2010 16:24:30 -0500
Cc: java-user@lucene.apache.org
Content-Transfer-Encoding: quoted-printable
Message-Id: <1226A292-2779-4CDC-A642-5642F9E8F0C1@apache.org>
References: <AANLkTimQ2W2x95P8hT52ODSerQ+EvdZhiipVorze5Fe=@mail.gmail.com>
To: solr-user@lucene.apache.org
X-Mailer: Apple Mail (2.1082)

Have a look at http://lucene.apache.org/java/3_0_2/scoring.html on how =
Lucene's scoring works.  You can override the Similarity class in Solr =
as well via the schema.xml file. =20

On Dec 15, 2010, at 10:28 AM, Pavel Minchenkov wrote:

> Hi,
> Please give me advise how to create custom scoring. I need to result =
that
> documents were in order, depending on how popular each term in the =
document
> (popular =3D how many times it appears in the index) and length of the
> document (less terms - higher in search results).
>=20
> For example, index contains following data:
>=20
> ID    | SEARCH_FIELD
> ------------------------------
> 1     | Russia
> 2     | Russia, Moscow
> 3     | Russia, Volgograd
> 4     | Russia, Ivanovo
> 5     | Russia, Ivanovo, Altayskaya street 45
> 6     | Russia, Moscow, Kremlin
> 7     | Russia, Moscow, Altayskaya street
> 8     | Russia, Moscow, Altayskaya street 15
> 9     | Russia, Moscow, Altayskaya street 15/26
>=20
>=20
> And I should get next results:
>=20
>=20
> Query                     | Document result set
> ----------------------------------------------
> Russia                    | 1,2,4,3,6,7,8,9,5
> Moscow                  | 2,6,7,8,9
> Ivanovo                    | 4,5
> Altayskaya              | 7,8,9,5
>=20
> In fact --- it is a search for geographic objects (cities, streets, =
houses).
> At the same time can be given only part of the address, and the =
results
> should appear the most relevant results.
>=20
> Thanks.
> --=20
> Pavel Minchenkov

--------------------------
Grant Ingersoll
http://www.lucidimagination.com


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48126-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 15 21:39:55 2010
Return-Path: <java-user-return-48126-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84317 invoked from network); 15 Dec 2010 21:39:54 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 15 Dec 2010 21:39:54 -0000
Received: (qmail 86477 invoked by uid 500); 15 Dec 2010 21:39:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 86286 invoked by uid 500); 15 Dec 2010 21:39:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 86270 invoked by uid 99); 15 Dec 2010 21:39:48 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Dec 2010 21:39:48 +0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received: from [140.211.11.9] (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 15 Dec 2010 21:39:47 +0000
Received: (qmail 84287 invoked by uid 99); 15 Dec 2010 21:39:27 -0000
Received: from localhost.apache.org (HELO [10.0.0.77]) (127.0.0.1)
  (smtp-auth username gsingers, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Dec 2010 21:39:27 +0000
From: Grant Ingersoll <gsingers@apache.org>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: quoted-printable
Subject: [ANN] General Availability of LucidWorks Enterprise
Date: Wed, 15 Dec 2010 16:39:25 -0500
Message-Id: <91887ABC-1FC4-4066-BA54-89ACB7435386@apache.org>
To: solr-user@lucene.apache.org,
 java-user@lucene.apache.org
Mime-Version: 1.0 (Apple Message framework v1082)
X-Mailer: Apple Mail (2.1082)

Lucid Imagination is pleased to announce the general availability of our =
Apache Solr/Lucene powered LucidWorks Enterprise (LWE).  LWE is designed =
to make it easier for people to get up to speed on search by providing =
easier management, integration with libraries commonly used in building =
search applications (such as crawling) as well as value add components =
developed by Lucid Imagination all packaged on top of Apache Solr while =
still giving access to Solr.

You can get more info in the press release: =
http://www.lucidimagination.com/About/Company-News/Lucid-Imagination-Annou=
nces-General-Availability-and-Free-Download-LucidWorks-Ent

Other Details:
Download LucidWorks Enterprise software: =
www.lucidimagination.com/lwe/download
View free documentation: http://lucidworks.lucidimagination.com
View a demonstration of LucidWorks Enterprise: =
http://www.lucidimagination.com/lwe/demos=20
Access LucidWorks Enterprise whitepapers and tutorials: =
www.lucidimagination.com/lwe/whitepapers
Read further commentary on the Lucid Imagination blog

Cheers,
Grant

--------------------------
Grant Ingersoll
http://www.lucidimagination.com


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48127-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 15 23:07:05 2010
Return-Path: <java-user-return-48127-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 35255 invoked from network); 15 Dec 2010 23:07:04 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 15 Dec 2010 23:07:04 -0000
Received: (qmail 4122 invoked by uid 500); 15 Dec 2010 23:07:02 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4071 invoked by uid 500); 15 Dec 2010 23:07:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4063 invoked by uid 99); 15 Dec 2010 23:07:02 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Dec 2010 23:07:02 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ryan@glassdoor.com designates 69.50.2.38 as permitted sender)
Received: from [69.50.2.38] (HELO ht1.hostedexchange.local) (69.50.2.38)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 15 Dec 2010 23:06:54 +0000
Received: from mbx2.hostedexchange.local ([172.16.69.30]) by
 ht2.hostedexchange.local ([172.16.69.40]) with mapi; Wed, 15 Dec 2010
 15:06:33 -0800
From: Ryan Aylward <ryan@glassdoor.com>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Date: Wed, 15 Dec 2010 15:06:29 -0800
Subject: RE: Multivalued scoring
Thread-Topic: Multivalued scoring
Thread-Index: AcuccdN26bXVqat1S265GHRI8ZC+kwAOm9KA
Message-ID: <E1E61A9983E3F94DAA95AEDE2D487E700606CFDFEF@mbx2.hostedexchange.local>
References: <1292429064.2413.37.camel@kalooga-dennis>
In-Reply-To: <1292429064.2413.37.camel@kalooga-dennis>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

V291bGQgeW91IGJlIGFibGUgdG8gY3JlYXRlIGEgc2luZ2xlIGluZGV4IHdpdGggYWxsIHBob3Rv
cz8gWW91ciBzZWFyY2hlcyB3b3VsZCBnbyBhZ2FpbnN0IHRoZSBwaG90byBpbmRleC4gQXQgdGhh
dCBwb2ludCwgeW91IHdvdWxkIGhhdmUgdGhlIG1vc3QgcmVsZXZhbnQgcGhvdG9zIHJlZ2FyZGxl
c3Mgb2YgYWxidW0uIFlvdSBjb3VsZCB0aGVuIGludHJvZHVjZSBhIHNvcnQgdG8geW91ciBMdWNl
bmUgc2VhcmNoIHRvIGVuc3VyZSBhbGwgcGhvdG9zIGZyb20gYSBnaXZlbiBhbGJ1bSBhcmUgZ3Jv
dXBlZCB0b2dldGhlci4NCg0KU28geW91ciByZXN1bHQgd291bGQgYmUgc29tZXRoaW5nIGxpa2U6
DQoNCkFsYnVtIDEgUGhvdG8gMWENCkFsYnVtIDEgUGhvdG8gMWINCkFsYnVtIDIgUGhvdG8gMmEN
CkFsYnVtIDMgUGhvdG8gM2ENCkFsYnVtIDMgUGhvdG8gM2INCg0KDQotLS0tLU9yaWdpbmFsIE1l
c3NhZ2UtLS0tLQ0KRnJvbTogRGVubmlzIEhlbmRyaWtzZW4gW21haWx0bzpkZW5uaXMuaGVuZHJp
a3NlbkBrYWxvb2dhLmNvbV0gDQpTZW50OiBXZWRuZXNkYXksIERlY2VtYmVyIDE1LCAyMDEwIDg6
MDQgQU0NClRvOiBqYXZhLXVzZXJAbHVjZW5lLmFwYWNoZS5vcmcNClN1YmplY3Q6IE11bHRpdmFs
dWVkIHNjb3JpbmcNCg0KSGksDQoNCldlIGFyZSB1c2luZyBhIEx1Y2VuZSAzLnggaW5kZXggdG8g
c2VhcmNoIGZvciBwaG90byBhbGJ1bXMgYmFzZWQgb24NCnRleHR1YWwgcHJvcGVydGllcyBzdWNo
IGFzIHBob3RvIGFsYnVtIHRpdGxlL2F1dGhvci9VUkwgYW5kIHBob3RvDQpjYXB0aW9ucy9VUkxz
LiBHb2FsIGlzIHRvIGZpbmQgdGhlIG1vc3QgcmVsZXZhbnQgcGhvdG8gYWxidW1zIGZvciBhIHVz
ZXINCnF1ZXJ5IGFuZCBkaXNwbGF5IHRoZSBiZXN0IG1hdGNoaW5nIHBob3RvcyBmb3IgdGhlc2Ug
YWxidW1zLg0KDQpJbiBvdXIgY3VycmVudCBzb2x1dGlvbiB3ZSBhcHBlbmQsIGZvciBlYWNoIHBo
b3RvIGFsYnVtLCBhbGwgcGhvdG8NCmNhcHRpb25zIGluIGEgY2F0Y2hhbGwgZmllbGQgYW5kIGRv
IGEgc2VhcmNoLiBGb3IgZWFjaCBzZWFyY2ggcmVzdWx0IHdlDQpnZXQgdGhlIFVSTCBhbmQgZG8g
YSBsb29rIHVwIGluIGFub3RoZXIgTHVjZW5lIGluZGV4IHdoZXJlIGVhY2ggZG9jdW1lbnQNCmNv
bnRhaW5zIGluZGl2aWR1YWwgcGhvdG8gcHJvcGVydGllcyB0byBmaW5kIHRoZSBiZXN0IG1hdGNo
aW5nIHBob3RvcyBpbg0KYSBwaG90byBhbGJ1bS4gVGhlc2UgaW5kZXhlcyBhcmUgdmVyeSBzbWFs
bCwgYnV0IHRoZXJlIGlzIG9uZSBmb3IgZWFjaA0KcGhvdG8gYWxidW0uIChzZWUgZXhhbXBsZSBi
ZWxvdykNCg0KSSd2ZSB0cmllZCB0byB1c2UgbXVsdGl2YWx1ZWQgZmllbGRzIGFuZCBleHBsb2l0
IHRoZSBmYWN0IHRoYXQgdGhlDQp2YWx1ZXMgYXJlIG9yZGVyZWQgc28gdGhhdCBmb3IgZXhhbXBs
ZSB0aGUgMm5kIHZhbHVlIG9mIGZpZWxkOmNhcHRpb24gaXMNCnJlbGF0ZWQgdG8gdGhlIDJuZCB2
YWx1ZSBvZiBmaWVsZDpVUkwuDQoNClRoZSBwcm9ibGVtIHdpdGggdGhpcyBzb2x1dGlvbiBpcyB0
aGF0IGl0IGlzIG5vdCBwb3NzaWJsZSB0byBmaW5kIHRoZQ0KYmVzdCBtYXRjaGluZyBwaG90b3Mg
aW4gdGhlIGJlc3QgcGhvdG8gYWxidW1zIChzY29yaW5nIG9mIG11bHRpdmFsdWVkDQpmaWVsZHMg
aXMgcGVyZm9ybWVkIG9uIGFsbCB2YWx1ZXMgdG9nZXRoZXIpLiBBcyBhIHdvcmthcm91bmQgSSd2
ZSB0cmllZA0Kc3RvcmluZyBzb21lIGZpZWxkcyBhbmQgY3JlYXRpbmcgdGhlIHBob3RvIGluZGV4
ZXMgb24gdGhlIGZseSB1c2luZyBhDQpSQU1EaXJlY3RvcnkuIEJlc2lkZXMgdGhlIGZhY3QgdGhh
dCB0aGlzIGlzIG5vdCBhbiBlbGVnYW50IHNvbHV0aW9uLCB0aGUNCmluY3JlYXNlIGluIGluZGV4
IHNpemUgaXMgdW5hY2NlcHRhYmxlIGluIG91ciBjdXJyZW50IHNldHVwLg0KDQpXaGF0IHdvdWxk
IGJlIGEgYmV0dGVyIHdheSB0byBzb2x2ZSB0aGlzIHByb2JsZW0/DQoNClRoYW5rcyBmb3IgeW91
ciB0aW1lLA0KRGVubmlzDQoNCi0tLQ0KDQpFeGFtcGxlOg0KDQppbmRleDogcGhvdG8gYWxidW1z
DQpkb2MxKCBmaWVsZDp0aXRsZSwgZmllbGQ6YXV0aG9yLCBmaWVsZDp1cmxfYWxidW0sIGZpZWxk
OmlkPXVuaXF1ZV9pZCApDQpkb2MyKCBmaWVsZDp0aXRsZSwgZmllbGQ6YXV0aG9yLCBmaWVsZDp1
cmxfYWxidW0sIGZpZWxkOmlkPXVuaXF1ZV9pZCApDQouLi4NCg0KaW5kZXg6IDx1bmlxdWVfaWQ+
DQpkb2MxKGZpZWxkOmNhcHRpb24sIGZpZWxkOnVybF9waG90bykNCmRvYzEoZmllbGQ6Y2FwdGlv
biwgZmllbGQ6dXJsX3Bob3RvKQ0KZG9jMShmaWVsZDpjYXB0aW9uLCBmaWVsZDp1cmxfcGhvdG8p
DQoNCg0KDQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0NClRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IGphdmEtdXNlci11
bnN1YnNjcmliZUBsdWNlbmUuYXBhY2hlLm9yZw0KRm9yIGFkZGl0aW9uYWwgY29tbWFuZHMsIGUt
bWFpbDogamF2YS11c2VyLWhlbHBAbHVjZW5lLmFwYWNoZS5vcmcNCg0K


From java-user-return-48128-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Dec 16 00:04:53 2010
Return-Path: <java-user-return-48128-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49701 invoked from network); 16 Dec 2010 00:04:53 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 16 Dec 2010 00:04:53 -0000
Received: (qmail 62052 invoked by uid 500); 16 Dec 2010 00:04:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 61993 invoked by uid 500); 16 Dec 2010 00:04:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 61985 invoked by uid 99); 16 Dec 2010 00:04:49 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Dec 2010 00:04:49 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of erickerickson@gmail.com designates 209.85.216.169 as permitted sender)
Received: from [209.85.216.169] (HELO mail-qy0-f169.google.com) (209.85.216.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Dec 2010 00:04:44 +0000
Received: by qyk7 with SMTP id 7so158542qyk.14
        for <java-user@lucene.apache.org>; Wed, 15 Dec 2010 16:04:23 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=JbYXVTenQfhGfqsPay5lnizhuoUj//IEVcJZYZmnsHI=;
        b=Mq+rJ/2z1PcY6wiRb7rDwJGHIOKgpz2v0nA2110froIZ2kB/VON9XSUSS28qBQnd1g
         mImbfu60qYgSb8Z8pHHMuUOzVPcHt0q48C27U528EVCm55N0bHYlm3ZhDRBpqfkr3tG+
         dE9OZ+adDIMgj0ekoJUpjIJsVUhCB9I1Rqoas=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=YbumMqs9dvlrP7p23SIxXQPsb3EzQmz5P7MimFXn4NO5msXWKe4nDPkpEuTeBJSYpm
         ev7SmzS+zFCyQ0uwtxSRxjSf1/icJCjOtDL1Zix2a70ku/htprQpshZ+MUlj9sufACRU
         nYLRAh8OyxMIcbrPiEd5l8HECquID8HZ8Sa2A=
MIME-Version: 1.0
Received: by 10.229.183.135 with SMTP id cg7mr1239529qcb.38.1292457863044;
 Wed, 15 Dec 2010 16:04:23 -0800 (PST)
Received: by 10.229.235.208 with HTTP; Wed, 15 Dec 2010 16:04:22 -0800 (PST)
In-Reply-To: <1292429064.2413.37.camel@kalooga-dennis>
References: <1292429064.2413.37.camel@kalooga-dennis>
Date: Wed, 15 Dec 2010 19:04:22 -0500
Message-ID: <AANLkTinJkUOJOiUkFASoex88xXg9xxte2SP+w6zF+-J0@mail.gmail.com>
Subject: Re: Multivalued scoring
From: Erick Erickson <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016364d2c91d05d3a04977bcb66

--0016364d2c91d05d3a04977bcb66
Content-Type: text/plain; charset=ISO-8859-1

As Ryan mentions, you really should consider piling them all into
a single index. Yes, it seems really wasteful to re-index author,
URL with every last photo, but try it and see if the size is acceptable.
Or, more accurately, whether performance is acceptable.

Best
Erick

On Wed, Dec 15, 2010 at 11:04 AM, Dennis Hendriksen <
dennis.hendriksen@kalooga.com> wrote:

> Hi,
>
> We are using a Lucene 3.x index to search for photo albums based on
> textual properties such as photo album title/author/URL and photo
> captions/URLs. Goal is to find the most relevant photo albums for a user
> query and display the best matching photos for these albums.
>
> In our current solution we append, for each photo album, all photo
> captions in a catchall field and do a search. For each search result we
> get the URL and do a look up in another Lucene index where each document
> contains individual photo properties to find the best matching photos in
> a photo album. These indexes are very small, but there is one for each
> photo album. (see example below)
>
> I've tried to use multivalued fields and exploit the fact that the
> values are ordered so that for example the 2nd value of field:caption is
> related to the 2nd value of field:URL.
>
> The problem with this solution is that it is not possible to find the
> best matching photos in the best photo albums (scoring of multivalued
> fields is performed on all values together). As a workaround I've tried
> storing some fields and creating the photo indexes on the fly using a
> RAMDirectory. Besides the fact that this is not an elegant solution, the
> increase in index size is unacceptable in our current setup.
>
> What would be a better way to solve this problem?
>
> Thanks for your time,
> Dennis
>
> ---
>
> Example:
>
> index: photo albums
> doc1( field:title, field:author, field:url_album, field:id=unique_id )
> doc2( field:title, field:author, field:url_album, field:id=unique_id )
> ...
>
> index: <unique_id>
> doc1(field:caption, field:url_photo)
> doc1(field:caption, field:url_photo)
> doc1(field:caption, field:url_photo)
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--0016364d2c91d05d3a04977bcb66--

From java-user-return-48129-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Dec 16 01:50:08 2010
Return-Path: <java-user-return-48129-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92358 invoked from network); 16 Dec 2010 01:50:08 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 16 Dec 2010 01:50:08 -0000
Received: (qmail 22509 invoked by uid 500); 16 Dec 2010 01:50:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 22292 invoked by uid 500); 16 Dec 2010 01:50:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 22284 invoked by uid 99); 16 Dec 2010 01:50:06 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Dec 2010 01:50:06 +0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,RFC_ABUSE_POST,SPF_NEUTRAL,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [217.146.182.251] (HELO nm10.bullet.mail.ukl.yahoo.com) (217.146.182.251)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 16 Dec 2010 01:49:55 +0000
Received: from [217.146.183.213] by nm10.bullet.mail.ukl.yahoo.com with NNFMP; 16 Dec 2010 01:49:34 -0000
Received: from [217.146.183.74] by tm6.bullet.mail.ukl.yahoo.com with NNFMP; 16 Dec 2010 01:49:34 -0000
Received: from [127.0.0.1] by omp1035.mail.ukl.yahoo.com with NNFMP; 16 Dec 2010 01:49:34 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 352615.16199.bm@omp1035.mail.ukl.yahoo.com
Received: (qmail 15931 invoked by uid 60001); 16 Dec 2010 01:49:34 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.co.uk; s=s1024; t=1292464174; bh=8oUSmJeno30DtN7ExAsd1QoBvq3aRc6qM+mdZ169Emk=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding; b=Pre2HjdfE0g9JMYhdBUFZJwF05gfrMRPNWmyfmG4A3od5be2T42KX6qVr9Cjbtt74+nTGzjU7/3tnuQFZPjwQmywPDQpQhmGfD3tpAiDv+sJPPgPh6LE86fY55he7vUAZ9NwUq+g0FvaYZR1h7JmJU9hvscYuJEneguhPJ3/G40=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=jlP2jDHZHSZOVPtnqytAunhX7GQ11Xde206BjN0u24pH0FRtURldXB+SYkpLDwmf1kIfdcQ37d2qzfMnQfKIaRzES9nFJIBAxC/tzw8sCPdvbLOcCJ4mBvH7efG4vxGSyGqGKAEiarcYT/660jZXBc4fZrZi3ajzCVC+QLYH2/w=;
Message-ID: <215672.4965.qm@web25907.mail.ukl.yahoo.com>
X-YMail-OSG: qtSuO54VM1mISOp_x7eePwtymBliofG5kf0NBcJvfM_tb09
 2_0sX01Irj6F15vBCSdA60CS6byUhhNoGPzXRzsUVieX7aU6AM6mTCyYvUCF
 1jZczPRHlmlwWP8pit2DXBLmw2eTY3mVwvQfe.xkUzRhoRqGhWu11Z5TwxI.
 7Nzabcd.P33KHugzf.N0yR7trEZJjliHfkbA6AcJcl7V53LibcgF4LfJoaUE
 ZJprlZeHdUG1Cww--
Received: from [92.17.199.7] by web25907.mail.ukl.yahoo.com via HTTP; Thu, 16 Dec 2010 01:49:34 GMT
X-Mailer: YahooMailRC/553 YahooMailWebService/0.8.107.285259
Date: Thu, 16 Dec 2010 01:49:34 +0000 (GMT)
From: Mike Cawson <mike.cawson@yahoo.co.uk>
Subject: Where does Lucene recognise it has encountered a new term for the first time?
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

I=E2=80=99m using Lucene to index database records and text documents.=0A=
=0AI want to provide efficient fuzzy queries over the data so I=E2=80=99m u=
sing a secondary =0ALucene index for all of the distinct terms encountered =
in the primary index.=0A=0AEach =E2=80=98document=E2=80=99 in the secondary=
 index is a term from the primary index with =0Afields for its q-grams, pho=
netic key(s) and synonyms.=0A=0AIt=E2=80=99s easy to populate the secondary=
 index after indexing all of the records and =0Atext documents using an Ind=
exReader. However, to keep the secondary index up to =0Adate I need to reco=
gnise when new terms are encountered for the first time, but =0Aeven lookin=
g deep into Lucene code and stepping through the indexing process =0Ahasn=
=E2=80=99t revealed where this occurs =E2=80=93 I presume because it doesn=
=E2=80=99t happen in a =0Asingle place but rather once in the in-memory ter=
m cache, once when the cache is =0Aflushed into a segment, and again when s=
egments are optimised.=0A=0AIs this correct? Can anyone suggest how to main=
tain a secondary index of terms? =0APerhaps only when the main index is opt=
imised?=0A=0AThanks, Mike=0A=0A=0A      

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48130-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Dec 16 01:57:01 2010
Return-Path: <java-user-return-48130-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93761 invoked from network); 16 Dec 2010 01:57:01 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 16 Dec 2010 01:57:01 -0000
Received: (qmail 26001 invoked by uid 500); 16 Dec 2010 01:56:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 25926 invoked by uid 500); 16 Dec 2010 01:56:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 25916 invoked by uid 99); 16 Dec 2010 01:56:59 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Dec 2010 01:56:59 +0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,RFC_ABUSE_POST,SPF_NEUTRAL,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [217.146.183.190] (HELO nm16.bullet.mail.ukl.yahoo.com) (217.146.183.190)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 16 Dec 2010 01:56:50 +0000
Received: from [217.146.183.183] by nm16.bullet.mail.ukl.yahoo.com with NNFMP; 16 Dec 2010 01:56:28 -0000
Received: from [217.146.183.172] by tm14.bullet.mail.ukl.yahoo.com with NNFMP; 16 Dec 2010 01:56:28 -0000
Received: from [127.0.0.1] by omp1013.mail.ukl.yahoo.com with NNFMP; 16 Dec 2010 01:56:28 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 900993.91549.bm@omp1013.mail.ukl.yahoo.com
Received: (qmail 63087 invoked by uid 60001); 16 Dec 2010 01:56:28 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.co.uk; s=s1024; t=1292464588; bh=hokBT99Se3+uEtSh5oazDD31xJFv3Q1c1/VHXhEM+Qs=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding; b=hr0YMGNz33PivyWmuzxnDoI85jN8XD0jJULczxbZ/N6j8tO4Mskdx1mW8WTvvpl9L83O7prjf2hT2Ce2+A++r0l9EC0x1W4DyeBPkvLR9osRhTn7sAAVNIuz0F/1CHd5w3eA+RAovg4x7alZVohg1mL6B1WefXgPzCiRSVKv/ig=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.uk;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=yCAF0ZLhdiRCYgLZKp8qaS5zarbCexAlFc63iKxbk/mJBwZWaNEnmgKhr+qZQtsIVpa7ZNjGY6FIXIAjxKbWQe6M7zKlR24jYBmJYvZh0D9i5FDVXZjc8hzqC/72q1KB4txVU99navgWFhUfU4opVHFboNUnTM3/Qy4XYkCJcmo=;
Message-ID: <696238.60053.qm@web25904.mail.ukl.yahoo.com>
X-YMail-OSG: aKgmhw0VM1nNVvZdD5No5o7LrhVQDH_2O.Q7TG6ena.Ram5
 zyXjWgEBr68GSLdaA4NF3zP6HCTb8KC1KTzrQktSH6WQWkQga3LzJJyY8YMU
 tKOT3vTNxJYD__QJ2oVyyLxckELciPcuJoT_24laLjBEH_pzmZ8xwWGE06U8
 p_u.TEzKUe5pICAyHtIp5VZ0tgeZfVgycYDDvtidwEqaot16YWFrpxYCSuKs
 q_MpJG_MS_D5RJw--
Received: from [92.17.199.7] by web25904.mail.ukl.yahoo.com via HTTP; Thu, 16 Dec 2010 01:56:28 GMT
X-Mailer: YahooMailRC/553 YahooMailWebService/0.8.107.285259
Date: Thu, 16 Dec 2010 01:56:28 +0000 (GMT)
From: Mike Cawson <mike.cawson@yahoo.co.uk>
Subject: Scoring problem with MultiPhraseQuery?
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable

I'm using MultiPhraseQuery to implement a fuzzy phrase query.=0A=0AE.g. use=
r enters "blue lorry" and I expand 'blue' to 'turquoise', and 'glue' and =
=0A=0A=0A'lorry' to 'truck', 'van', 'lory' and 'lorrie'. I can then constru=
ct a =0AMultiPhraseQuery with those lists of terms.=0A=0AThe search works c=
orrectly but the score is always the total number of terms (N) =0A=0A=0Atha=
t I put into the MultiPhraseQuery (N=3D8 in this example)!=0A=0AI've tried =
using a boost of 1/N but the boost appears to be ignored.=0A=0AI can't thin=
k of a reason why this should be intentional beheviour so I assume =0Athere=
's a bug.=0A=0AI'm using Lucene 3.0.=0A=0AThanks,=0AMike Cawson=0A=0A=0A   =
   

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48131-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Dec 16 03:42:14 2010
Return-Path: <java-user-return-48131-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28892 invoked from network); 16 Dec 2010 03:42:13 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 16 Dec 2010 03:42:13 -0000
Received: (qmail 1302 invoked by uid 500); 16 Dec 2010 03:42:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 1023 invoked by uid 500); 16 Dec 2010 03:42:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 1015 invoked by uid 99); 16 Dec 2010 03:42:10 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Dec 2010 03:42:10 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of fancyerii@gmail.com designates 74.125.82.176 as permitted sender)
Received: from [74.125.82.176] (HELO mail-wy0-f176.google.com) (74.125.82.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Dec 2010 03:42:02 +0000
Received: by wye20 with SMTP id 20so2317688wye.35
        for <java-user@lucene.apache.org>; Wed, 15 Dec 2010 19:41:42 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type
         :content-transfer-encoding;
        bh=hCdNSUwWEpCV2LLJDoeL+rETekP42PtS756DQfPD9IQ=;
        b=fr1R7Lpdwf5TY6BeYjHoun3318WoJNe/N+bjlTxg1MwwHYzF2qMBdKfVomfiR35C22
         oA7dKLzJEXk0wIQnc2pRG4rTz89MWQYx7zmDqG8sLu6QJQEgdqzoBjrivvd8wyPyDKKN
         vH6AmHqvkFuq9pXRSg1dBh5ZN8a4/RMl1bbrc=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        b=cmxBI3JX4FfQrrbzSLEgqLcjjDrwqJOMet3tw858y12b8Uaf10TxXPGnibwbbNIP7A
         inSnuwmus07Sz9DZzKtjnMoYYCExkZRhZjizMA4ofeGX3asTlntaljzr2gq+7xsY4/LW
         Roxxc04Oed+eTTPMDfM0LHJl6fPpWJq8ylGfw=
MIME-Version: 1.0
Received: by 10.216.30.144 with SMTP id k16mr1715274wea.19.1292470902459; Wed,
 15 Dec 2010 19:41:42 -0800 (PST)
Received: by 10.216.53.71 with HTTP; Wed, 15 Dec 2010 19:41:42 -0800 (PST)
In-Reply-To: <215672.4965.qm@web25907.mail.ukl.yahoo.com>
References: <215672.4965.qm@web25907.mail.ukl.yahoo.com>
Date: Thu, 16 Dec 2010 11:41:42 +0800
Message-ID: <AANLkTikbcFpiYfv6KWAimpiUSFfKeYAjhgjhuSvuDTEc@mail.gmail.com>
Subject: Re: Where does Lucene recognise it has encountered a new term for the
 first time?
From: Li Li <fancyerii@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=windows-1252
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

  I don't understand your problem well. but needing know when a new
term occur is a hard problem because when new document is added, it
will be added to a new segment. I think you can only do this in the
last merge in optimization stage. You can  read the codes in
SegmentMerger.mergeTermInfos() . It merges all the terms of the merged
segments. because terms are order by fieldName then term, it can use
very small memory to merge terms.
    Or if you need knowing the new terms in current segment when
building index, FreqProxTermsWriterPerField.newTerm will be called if
the term occured for the first time.

2010/12/16 Mike Cawson <mike.cawson@yahoo.co.uk>:
> I=92m using Lucene to index database records and text documents.
>
> I want to provide efficient fuzzy queries over the data so I=92m using a =
secondary
> Lucene index for all of the distinct terms encountered in the primary ind=
ex.
>
> Each =91document=92 in the secondary index is a term from the primary ind=
ex with
> fields for its q-grams, phonetic key(s) and synonyms.
>
> It=92s easy to populate the secondary index after indexing all of the rec=
ords and
> text documents using an IndexReader. However, to keep the secondary index=
 up to
> date I need to recognise when new terms are encountered for the first tim=
e, but
> even looking deep into Lucene code and stepping through the indexing proc=
ess
> hasn=92t revealed where this occurs =96 I presume because it doesn=92t ha=
ppen in a
> single place but rather once in the in-memory term cache, once when the c=
ache is
> flushed into a segment, and again when segments are optimised.
>
> Is this correct? Can anyone suggest how to maintain a secondary index of =
terms?
> Perhaps only when the main index is optimised?
>
> Thanks, Mike
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48132-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Dec 16 04:06:51 2010
Return-Path: <java-user-return-48132-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 41988 invoked from network); 16 Dec 2010 04:06:51 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 16 Dec 2010 04:06:51 -0000
Received: (qmail 18069 invoked by uid 500); 16 Dec 2010 04:06:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 17822 invoked by uid 500); 16 Dec 2010 04:06:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 17814 invoked by uid 99); 16 Dec 2010 04:06:48 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Dec 2010 04:06:48 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of dhill@eweb-service.com designates 67.18.52.14 as permitted sender)
Received: from [67.18.52.14] (HELO gateway06.websitewelcome.com) (67.18.52.14)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 16 Dec 2010 04:06:38 +0000
Received: (qmail 6204 invoked from network); 16 Dec 2010 04:06:32 -0000
Received: from somerset.websitewelcome.com (174.120.80.2)
  by gateway06.websitewelcome.com with SMTP; 16 Dec 2010 04:06:32 -0000
Received: from c-24-15-236-250.hsd1.il.comcast.net ([24.15.236.250]:49200 helo=dhill-osx.local)
	by somerset.websitewelcome.com with esmtpa (Exim 4.69)
	(envelope-from <dhill@eweb-service.com>)
	id 1PT56d-0008CK-Ll
	for java-user@lucene.apache.org; Wed, 15 Dec 2010 22:06:15 -0600
Message-ID: <4D099038.7020607@eweb-service.com>
Date: Wed, 15 Dec 2010 22:06:16 -0600
From: Donld Hill <dhill@eweb-service.com>
User-Agent: Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.6; en-US; rv:1.9.2.8) Gecko/20100802 Lightning/1.0b2 Thunderbird/3.1.2
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: lucene locking
Content-Type: multipart/alternative;
 boundary="------------050405050900040204010909"
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - somerset.websitewelcome.com
X-AntiAbuse: Original Domain - lucene.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - eweb-service.com
X-Virus-Checked: Checked by ClamAV on apache.org

--------------050405050900040204010909
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

  I have a app that seems to be locking on some search calls. I am 
including the stacktrace for the blocked and blocker thread. We are 
using the following jars lucene-snowball-2.1.0.jar and lucene-2.1.0.jar. 
The indexes are located on the local disk. We are running on multiple 
JVM's against the store. On a 2 CPU zion quad core box. Any thoughts or 
suggestions on how to troubleshoot this locking?


"TP-Processor177" daemon prio=10 tid=0x0000002c8a96c800 nid=0x769d 
waiting for monitor entry [0x000000004e60a000..0x000000004e60dcb0]
    java.lang.Thread.State: BLOCKED (on object monitor)
         at 
org.apache.lucene.index.SegmentReader.norms(SegmentReader.java:450)
         - locked <0x0000002aa0a4f5a8> (a 
org.apache.lucene.index.SegmentReader)
         at 
org.apache.lucene.search.TermQuery$TermWeight.scorer(TermQuery.java:69)
         at 
org.apache.lucene.search.BooleanQuery$BooleanWeight2.scorer(BooleanQuery.java:355)
         at 
org.apache.lucene.search.BooleanQuery$BooleanWeight2.scorer(BooleanQuery.java:355)
         at 
org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:130)
         at 
org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:111)
         at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:66)
         at org.apache.lucene.search.Hits.<init>(Hits.java:53)
         at org.apache.lucene.search.Searcher.search(Searcher.java:54)


Here is the executing thread that is doing the blocking

"TP-Processor97" daemon prio=10 tid=0x0000002c8fe35400 nid=0x75ce 
runnable [0x00000000497bc000..0x00000000497bfdb0]
    java.lang.Thread.State: RUNNABLE
         at 
org.apache.lucene.index.SegmentReader.isDeleted(SegmentReader.java:346)
         - locked <0x0000002aa0a4f5a8> (a 
org.apache.lucene.index.SegmentReader)
         at 
org.apache.lucene.index.SegmentReader.document(SegmentReader.java:339)
         - locked <0x0000002aa0a4f5a8> (a 
org.apache.lucene.index.SegmentReader)
         at 
org.apache.lucene.index.IndexReader.document(IndexReader.java:368)
         at 
org.apache.lucene.search.IndexSearcher.doc(IndexSearcher.java:84)
         at org.apache.lucene.search.Hits.doc(Hits.java:104)


--------------050405050900040204010909--

From java-user-return-48133-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Dec 16 06:00:12 2010
Return-Path: <java-user-return-48133-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 80642 invoked from network); 16 Dec 2010 06:00:11 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 16 Dec 2010 06:00:11 -0000
Received: (qmail 71437 invoked by uid 500); 16 Dec 2010 06:00:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 71245 invoked by uid 500); 16 Dec 2010 06:00:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 71237 invoked by uid 99); 16 Dec 2010 06:00:08 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Dec 2010 06:00:08 +0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=FREEMAIL_FROM,MIME_QP_LONG_LINE,RCVD_IN_DNSWL_NONE,RFC_ABUSE_POST,SPF_NEUTRAL,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [121.101.151.226] (HELO nm4.bullet.mail.in.yahoo.com) (121.101.151.226)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 16 Dec 2010 06:00:00 +0000
Received: from [121.101.151.238] by nm4.bullet.mail.in.yahoo.com with NNFMP; 16 Dec 2010 05:59:47 -0000
Received: from [121.101.151.232] by tm3.bullet.mail.in.yahoo.com with NNFMP; 16 Dec 2010 05:59:41 -0000
Received: from [127.0.0.1] by omp1001.mail.in.yahoo.com with NNFMP; 16 Dec 2010 06:00:01 -0000
X-Yahoo-Newman-Id: 165275.32632.bm@omp1001.mail.in.yahoo.com
Received: (qmail 48719 invoked from network); 16 Dec 2010 05:59:38 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.in;
  h=DKIM-Signature:Received:X-Yahoo-SMTP:X-YMail-OSG:X-Yahoo-Newman-Property:Message-ID:From:To:References:Subject:Date:MIME-Version:Content-Type:Content-Transfer-Encoding:X-Priority:X-MSMail-Priority:X-Mailer:X-MimeOLE;
  b=1DGsNwyhlGtJl46OSh4sfCeq3b55FvH/qTIdnOrW8Rk/mGz2CgtboGPzQqVNPzwmsAfIe/iWScsgbh6PuZEko2RJN5JuvaD/Zj4TxobCXm0IBRzW0MRa08Mp0gfioEu0tKUj2if3i8PtsMIpA8EadxyA769MG/7cSnuxav+AFqM=  ;
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.co.in; s=s1024; t=1292479177; bh=qAx8S8lz0P8CEoDeaIcc7qbISElQmar6Q4lTKT05JQU=; h=Received:X-Yahoo-SMTP:X-YMail-OSG:X-Yahoo-Newman-Property:Message-ID:From:To:References:Subject:Date:MIME-Version:Content-Type:Content-Transfer-Encoding:X-Priority:X-MSMail-Priority:X-Mailer:X-MimeOLE; b=IBrk1QyVcB3qC3wu1ZNqRRvbsawf86XxzuCXfM//3dOhRUbLLtm09/wybGoiFWjc13zrj9w6TQopnfOwuDvzZd5TKYnL76mB/kbyqTl+lBhks+FNGwxUE1NABwbYfZ6oE1bBioWIs4Cd2jz2OXmNemIoBxVY6V7Goz7M3ws6d6g=
Received: from GaneshM (emailgane@121.244.159.130 with login)
        by smtp101.mail.in.yahoo.com with SMTP; 16 Dec 2010 11:29:37 +0530 IST
X-Yahoo-SMTP: JObyHkuswBBrNSLZp.Ycd7Boqpr_GQ--
X-YMail-OSG: noeENeQVM1kS0zhFG0gjpCZe_tOF1TMvDnxEMbMvlDQDIZU
 4ZDtCL9SF1hi6t.jR0TCFCpmFpmFgHWNJ2F8yUMzmDLIxlQAH_tK.lHU.raZ
 Sho9cX5M_.imieDkwbirAxecOP24Pr6i2vp4DrWfP_iwVjRaimTKMG97T1N8
 yifITejbHZOXZ4MzU7wt59HA1aszVvG7X2jkmnvK__lOIumLlq3_6UVNpGMB
 fDFG5N0MEQaNAAZE5sDasWL94ZdjVHD0HNvLcf790e8RiOxCCww--
X-Yahoo-Newman-Property: ymail-3
Message-ID: <7409CFE47DFB4B26AEE7D3E684C86E0E@sv.us.sonicwall.com>
From: "Ganesh" <emailgane@yahoo.co.in>
To: <java-user@lucene.apache.org>
References: <0FD59CD8A2DF49D5AAB65412A8F43297@sv.us.sonicwall.com> <AANLkTimN2xt6stZ049TC95HZp7=tdoNeg_cqCxxZx6iG@mail.gmail.com> <7C07295C4C3A410B989D9334001248B7@sv.us.sonicwall.com> <AANLkTi=+zFAKqEi9ghXT7oNNag5a2bKVTiOtGxdHMASw@mail.gmail.com> <8707487473613519815@unknownmsgid> <AANLkTi=YmMa15u3AUvd2X=G-Cnm-NvNxCxL0mN9e0vUa@mail.gmail.com> <16B30E8CC7BF41A0BB8D0D3E7E732CFA@sv.us.sonicwall.com> <1292411176.19302.168.camel@te-prime>
Subject: Re: Re: Scale up design
Date: Thu, 16 Dec 2010 11:29:36 +0530
MIME-Version: 1.0
Content-Type: text/plain;
	charset="UTF-8"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.5931
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.5931
X-Virus-Checked: Checked by ClamAV on apache.org


Thanks for your information.

My current stats:
250 GB of data, 40 GB of Index Size, 60 million records is working fine =
with 1 GB RAM. We are storing minmal amount of data in index. We are =
doing sorting on Date. Even in single system, the database are shard.=20

We are planning to build hosted solution. This stats will increase by =
minimum 10 times in 2 - 3 years. I plan to use 64 Bit, with 8 - 10 GB =
RAM allocated to JVM. Will i face any issues? Its good to scale up as it =
would be easy to backup and maintanance. If i scale out then i may =
require atleast 5 system.=20

Any thoughts?

Regards
Ganesh =20
=20

----- Original Message -----=20
From: "Toke Eskildsen" <te@statsbiblioteket.dk>
To: <java-user@lucene.apache.org>
Sent: Wednesday, December 15, 2010 4:36 PM
Subject: [Bulk] Re: Scale up design


> On Wed, 2010-12-15 at 09:42 +0100, Ganesh wrote:
>> What is the advantage of going for 64 Bit.
>=20
> Larger maximum heap, more memory in the machine.
>=20
>> People claim performance and usage of more RAM.
>=20
> Yes, pointers normally take up 64bit on a 64bit machine. Depending on
> the application, the overhead can be anything from practically
> non-existing to close to 100%. You can set an option for the JVM to =
try
> and use smaller pointers on 64bit machines. This limits the maximum
> memory allocation in the JVM to 32GB, which seems like a fair =
compromise
> at this point in time.
> http://wikis.sun.com/display/HotSpotInternals/CompressedOops
>=20
>> In 32 Bit OS, JVM handles 1 to 1.5 GB of RAM then in case
>> of 64 Bit, Single JVM cannot use more than 1.5 GB RAM?
>=20
> Say what? When running on a 64bit, the JVM heap limit is normally the
> system's per-process memory limit. For Linux this is generally well
> above any real world hardware. For Windows it seems like you need to
> enable something:
> http://msdn.microsoft.com/en-us/library/aa366778%28v=3Dvs.85%29.aspx
> (note: I have no experience with 64bit Windows)
>=20
>> Please help me with some more ideas. We need to design whether
>> to scale out or scale up.
>=20
> Maybe you could describe your vision in more detail? What scale are =
you
> looking at? How large is your index in GB, how many documents, how =
fast
> do you need the searcher to respond, are you doing any sorting or
> faceting (and do you facet on a few unique values or things like title
> or author)?
>=20
> It makes little sense to try and get a single machine to handle =
billions
> of documents with large faceting, but it seems silly to distribute =
10GB
> of index with 1 million documents. As a general rule of thumb. As =
always
> your mileage might wary.
>=20
> For the record, our current index is 40GB/9 million records. We're =
doing
> sorting on title and faceting on 15 fields, out of which 2 has 4-6
> million unique values. This runs on a single machine (okay, 2, but =
they
> are mirrored) with 6GB of RAM and it works fine with sub-second =
response
> times (normally <300ms AFAIR). Our experimental setup can get by with
> 1.2GB and would thus not require 64bit.
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
Send free SMS to your Friends on Mobile from your Yahoo! Messenger. Download Now! http://messenger.yahoo.com/download.php

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48134-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Dec 16 06:32:00 2010
Return-Path: <java-user-return-48134-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 373 invoked from network); 16 Dec 2010 06:31:59 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 16 Dec 2010 06:31:59 -0000
Received: (qmail 98556 invoked by uid 500); 16 Dec 2010 06:31:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 98299 invoked by uid 500); 16 Dec 2010 06:31:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 61515 invoked by uid 99); 15 Dec 2010 22:27:39 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_NONE,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 228702.10127.bm@omp1053.mail.sp2.yahoo.com
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1292452030; bh=QxfvxVRaP+D2GRh9oZJ7w+4zNZKD3Jdi4cJmnOC3WLA=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding; b=Iya3m5LGKRYyZk+9I6WYpWFwJi/hzaDe+PrN6zmzPtAB2oK6d0wZysLn//DrB9zu2nXWwdZII8EZ31KNLjkZoibUAnwm+oCevUi99K1Tpja69puSi98r8qfklQBvoLaIaxYDniEubadSdu7h6hYZaCA3mRK4lCaOJ1w5bQj89Kk=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=G39ytSl13K/GMz36Bm0D5c2PA66D54mH446jACNTHE9raEhh/II/uNoe/opNIi/Hk134I4U32lepMvpTdejZSjIDmiOM/y3N1LQ0JM9JtCLdU6caytCxIBO4VAHwSWBUN26v+z3+OVOR0rLFCD7rWlD1zkQAu59rF+rJXgYlij0=;
Message-ID: <681709.96534.qm@web111312.mail.gq1.yahoo.com>
X-YMail-OSG: 8VSg9hkVM1m9O1V0vyWcYdl515queSKqjJ3InrBZPoYxPn1
 PIdhoeL61cKMzfVe2SoYkaY40Z6k37IDkfcOLL2QrnH4tmbZEoCqB_sGelNN
 sdcOvCpG8qQ7mXE2ozglcHtka2z0BLPDh7D.ozunbs7J1iQ3c.5EHVaXWkeG
 cIv1jrv3tC5n_EnTCBKFodVoH_Yh8.dYRC2zG.mpx_ihfl80iLHBdPG_6mNr
 JhSjM.f0yywuZ_6pFJv2Un7JiL2Tg_Pa_X.u9vjBoxpCLaySne9HpoEcisRo
 96jTW9bYk1ancM5v.mpttUVGy79qFjL7qAELXRlH9o_GhcGOyHckvnPK.l5e
 GDSDxVXApjKsjBuWVNi3N1PB4T.5WkqT9aDdn.Q6jfc4tX.whtu7kAtmictf
 QyN10UyL.yeU-
X-Mailer: YahooMailClassic/11.4.20 YahooMailWebService/0.8.107.285259
Date: Wed, 15 Dec 2010 14:27:10 -0800 (PST)
From: Andy <angelflow@yahoo.com>
Subject: Re: [ANN] General Availability of LucidWorks Enterprise
To: solr-user@lucene.apache.org, java-user@lucene.apache.org
In-Reply-To: <91887ABC-1FC4-4066-BA54-89ACB7435386@apache.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

Congrats!=0A=0AA couple questions:=0A=0A1) Which version of Solr is this ba=
sed on?=0A2) How is LWE different from standard Solr? How should one choose=
 between the two?=0A=0AThanks.=0A=0A--- On Wed, 12/15/10, Grant Ingersoll <=
gsingers@apache.org> wrote:=0A=0A> From: Grant Ingersoll <gsingers@apache.o=
rg>=0A> Subject: [ANN] General Availability of LucidWorks Enterprise=0A> To=
: solr-user@lucene.apache.org, java-user@lucene.apache.org=0A> Date: Wednes=
day, December 15, 2010, 4:39 PM=0A> Lucid Imagination is pleased to=0A> ann=
ounce the general availability of our Apache Solr/Lucene=0A> powered LucidW=
orks Enterprise (LWE).=A0 LWE is designed=0A> to make it easier for people =
to get up to speed on search by=0A> providing easier management, integratio=
n with libraries=0A> commonly used in building search applications (such as=
=0A> crawling) as well as value add components developed by Lucid=0A> Imagi=
nation all packaged on top of Apache Solr while still=0A> giving access to =
Solr.=0A> =0A> You can get more info in the press release: http://www.lucid=
imagination.com/About/Company-News/Lucid-Imagination-Announces-General-Avai=
lability-and-Free-Download-LucidWorks-Ent=0A> =0A> Other Details:=0A> Downl=
oad LucidWorks Enterprise software:=0A> www.lucidimagination.com/lwe/downlo=
ad=0A> View free documentation: http://lucidworks.lucidimagination.com=0A> =
View a demonstration of LucidWorks Enterprise: http://www.lucidimagination.=
com/lwe/demos=0A> =0A> Access LucidWorks Enterprise whitepapers and tutoria=
ls:=0A> www.lucidimagination.com/lwe/whitepapers=0A> Read further commentar=
y on the Lucid Imagination blog=0A> =0A> Cheers,=0A> Grant=0A> =0A> -------=
-------------------=0A> Grant Ingersoll=0A> http://www.lucidimagination.com=
=0A> =0A> =0A=0A=0A      

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48135-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Dec 16 08:09:59 2010
Return-Path: <java-user-return-48135-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 34743 invoked from network); 16 Dec 2010 08:09:59 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 16 Dec 2010 08:09:59 -0000
Received: (qmail 80203 invoked by uid 500); 16 Dec 2010 08:09:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 79852 invoked by uid 500); 16 Dec 2010 08:09:56 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 79842 invoked by uid 99); 16 Dec 2010 08:09:55 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Dec 2010 08:09:55 +0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [85.25.71.29] (HELO mail.troja.net) (85.25.71.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Dec 2010 08:09:49 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by mail.troja.net (Postfix) with ESMTP id 7802B45F340
	for <java-user@lucene.apache.org>; Thu, 16 Dec 2010 09:09:21 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at mail.troja.net
Received: from mail.troja.net ([127.0.0.1])
	by localhost (megaira.troja.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id UhF+mM0iMbuM for <java-user@lucene.apache.org>;
	Thu, 16 Dec 2010 09:09:12 +0100 (CET)
Received: from VEGA (unknown [89.204.153.85])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by mail.troja.net (Postfix) with ESMTPSA id DCAF645F071
	for <java-user@lucene.apache.org>; Thu, 16 Dec 2010 09:09:11 +0100 (CET)
From: "Uwe Schindler" <uwe@thetaphi.de>
To: <java-user@lucene.apache.org>
References: <4D099038.7020607@eweb-service.com>
In-Reply-To: <4D099038.7020607@eweb-service.com>
Subject: RE: lucene locking
Date: Thu, 16 Dec 2010 09:10:00 +0100
Message-ID: <004b01cb9cf8$a537ef80$efa7ce80$@thetaphi.de>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Outlook 14.0
Thread-index: AQJVcLJAW44W9UaLmIpdLdthYyd9/5KPD7mQ
Content-Language: de

I would recommend upgrading Lucene to at least 2.9.4. Your version is very
antique.

-----
Uwe Schindler
H.-H.-Meier-Allee 63, D-28213 Bremen
http://www.thetaphi.de
eMail: uwe@thetaphi.de

> -----Original Message-----
> From: Donld Hill [mailto:dhill@eweb-service.com]
> Sent: Thursday, December 16, 2010 5:06 AM
> To: java-user@lucene.apache.org
> Subject: lucene locking
> 
>   I have a app that seems to be locking on some search calls. I am
including
> the stacktrace for the blocked and blocker thread. We are using the
following
> jars lucene-snowball-2.1.0.jar and lucene-2.1.0.jar.
> The indexes are located on the local disk. We are running on multiple
JVM's
> against the store. On a 2 CPU zion quad core box. Any thoughts or
> suggestions on how to troubleshoot this locking?
> 
> 
> "TP-Processor177" daemon prio=10 tid=0x0000002c8a96c800 nid=0x769d
> waiting for monitor entry [0x000000004e60a000..0x000000004e60dcb0]
>     java.lang.Thread.State: BLOCKED (on object monitor)
>          at
> org.apache.lucene.index.SegmentReader.norms(SegmentReader.java:450)
>          - locked <0x0000002aa0a4f5a8> (a
> org.apache.lucene.index.SegmentReader)
>          at
> org.apache.lucene.search.TermQuery$TermWeight.scorer(TermQuery.java:
> 69)
>          at
> org.apache.lucene.search.BooleanQuery$BooleanWeight2.scorer(BooleanQ
> uery.java:355)
>          at
> org.apache.lucene.search.BooleanQuery$BooleanWeight2.scorer(BooleanQ
> uery.java:355)
>          at
> org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:130)
>          at
> org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:111)
>          at org.apache.lucene.search.Hits.getMoreDocs(Hits.java:66)
>          at org.apache.lucene.search.Hits.<init>(Hits.java:53)
>          at org.apache.lucene.search.Searcher.search(Searcher.java:54)
> 
> 
> Here is the executing thread that is doing the blocking
> 
> "TP-Processor97" daemon prio=10 tid=0x0000002c8fe35400 nid=0x75ce
> runnable [0x00000000497bc000..0x00000000497bfdb0]
>     java.lang.Thread.State: RUNNABLE
>          at
> org.apache.lucene.index.SegmentReader.isDeleted(SegmentReader.java:34
> 6)
>          - locked <0x0000002aa0a4f5a8> (a
> org.apache.lucene.index.SegmentReader)
>          at
> org.apache.lucene.index.SegmentReader.document(SegmentReader.java:3
> 39)
>          - locked <0x0000002aa0a4f5a8> (a
> org.apache.lucene.index.SegmentReader)
>          at
> org.apache.lucene.index.IndexReader.document(IndexReader.java:368)
>          at
> org.apache.lucene.search.IndexSearcher.doc(IndexSearcher.java:84)
>          at org.apache.lucene.search.Hits.doc(Hits.java:104)



---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48136-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Dec 16 09:24:02 2010
Return-Path: <java-user-return-48136-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 61624 invoked from network); 16 Dec 2010 09:24:01 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 16 Dec 2010 09:24:01 -0000
Received: (qmail 64949 invoked by uid 500); 16 Dec 2010 09:23:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64603 invoked by uid 500); 16 Dec 2010 09:23:59 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 64595 invoked by uid 99); 16 Dec 2010 09:23:58 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Dec 2010 09:23:58 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ian.lea@gmail.com designates 209.85.214.51 as permitted sender)
Received: from [209.85.214.51] (HELO mail-bw0-f51.google.com) (209.85.214.51)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Dec 2010 09:23:52 +0000
Received: by bwz8 with SMTP id 8so3408646bwz.24
        for <java-user@lucene.apache.org>; Thu, 16 Dec 2010 01:23:31 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:in-reply-to
         :references:from:date:message-id:subject:to:content-type;
        bh=aqr4Li868Rj7qezeFtJHAjSVAUPBfPVcYVZ5zCo9Zpc=;
        b=HLB1A4u7xGiiUkNOcKl084nNt4gPfMqrYcJmdZsDrRqActIdfZX/X5Pv4DUx4+CVZq
         dD/LwjkXidoS0KTFx0q2Av1YdY/1zUMyTWo3rc7JECy+g3owHAbNOPPeJdRrEKXcxpG2
         XY4eeKq4E2OLBFVllWroojIT8b4R36XYVJlb0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=fbl3MoaK3i5zwFOe0+TY4bc6joHxNzfdrir8ejOObmu+Av/CEdHjrbm4vXCu46zHMP
         k3cQGJDS6sV58vvHayQAG1TcpW6Y9Hg/5UpHnrG9CI9uwYDRXPIR4ZdWFD2yLDcf5d3F
         IoptFnN/9fqOBHBHSbE+Ozu2ryiQRxPouVypU=
Received: by 10.204.98.201 with SMTP id r9mr8244790bkn.37.1292491411122; Thu,
 16 Dec 2010 01:23:31 -0800 (PST)
MIME-Version: 1.0
Received: by 10.204.60.202 with HTTP; Thu, 16 Dec 2010 01:23:10 -0800 (PST)
In-Reply-To: <696238.60053.qm@web25904.mail.ukl.yahoo.com>
References: <696238.60053.qm@web25904.mail.ukl.yahoo.com>
From: Ian Lea <ian.lea@gmail.com>
Date: Thu, 16 Dec 2010 09:23:10 +0000
Message-ID: <AANLkTimcEBQ61Pbu8mYDn508PhVNLO-kW8fsFfB1FzD=@mail.gmail.com>
Subject: Re: Scoring problem with MultiPhraseQuery?
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1

More likely to be a bug in your code rather than in lucene.  I suggest
you post the smallest possible self-contained program or test case
that demonstrates the problem.


--
Ian.


On Thu, Dec 16, 2010 at 1:56 AM, Mike Cawson <mike.cawson@yahoo.co.uk> wrote:
> I'm using MultiPhraseQuery to implement a fuzzy phrase query.
>
> E.g. user enters "blue lorry" and I expand 'blue' to 'turquoise', and 'glue' and
>
>
> 'lorry' to 'truck', 'van', 'lory' and 'lorrie'. I can then construct a
> MultiPhraseQuery with those lists of terms.
>
> The search works correctly but the score is always the total number of terms (N)
>
>
> that I put into the MultiPhraseQuery (N=8 in this example)!
>
> I've tried using a boost of 1/N but the boost appears to be ignored.
>
> I can't think of a reason why this should be intentional beheviour so I assume
> there's a bug.
>
> I'm using Lucene 3.0.
>
> Thanks,
> Mike Cawson
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48137-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Dec 16 10:06:18 2010
Return-Path: <java-user-return-48137-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 80413 invoked from network); 16 Dec 2010 10:06:18 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 16 Dec 2010 10:06:18 -0000
Received: (qmail 12123 invoked by uid 500); 16 Dec 2010 10:06:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11815 invoked by uid 500); 16 Dec 2010 10:06:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 11807 invoked by uid 99); 16 Dec 2010 10:06:14 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Dec 2010 10:06:14 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of cdoronc@gmail.com designates 209.85.213.48 as permitted sender)
Received: from [209.85.213.48] (HELO mail-yw0-f48.google.com) (209.85.213.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Dec 2010 10:06:06 +0000
Received: by ywo7 with SMTP id 7so1769858ywo.35
        for <java-user@lucene.apache.org>; Thu, 16 Dec 2010 02:05:45 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=mL6fd01JFfeg05ORE8IDUzXrT0B/ebO+7e7V4R7b9r8=;
        b=mRjS+Yd/picTbHyUf/cAbMCPBYm1nY40nPlNv3KfZz1jKF2UmOggkOfAuforpYR5QZ
         6T8m0taRTV01V6lOceJMKT0RwR651DHp3aKVIvkoLpyzU8YNqO2OSgaQydCGRJDAuPRw
         hkjUZKzMPLDwcHAmpV3UobPfggYDl+s9vPg00=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=Pkwt01UioOwaqvW7GU8Dm6nzqDt6qmsQIpGkDht3LWFtsS/mbIeRACesHYxv2O0eD/
         BJTWhKbX9EmUVEIEi7sQ0vw/ZQV27DBbp7q4DUJaHKqX3/C5nsdMBg5qdVGYOuihDwM0
         mTw0Df2Qrc3oq3ivnQ0//O4hjRGBj2RgN2EVk=
MIME-Version: 1.0
Received: by 10.90.104.16 with SMTP id b16mr487705agc.110.1292493945517; Thu,
 16 Dec 2010 02:05:45 -0800 (PST)
Received: by 10.90.92.3 with HTTP; Thu, 16 Dec 2010 02:05:45 -0800 (PST)
In-Reply-To: <004b01cb9cf8$a537ef80$efa7ce80$@thetaphi.de>
References: <4D099038.7020607@eweb-service.com>
	<004b01cb9cf8$a537ef80$efa7ce80$@thetaphi.de>
Date: Thu, 16 Dec 2010 12:05:45 +0200
Message-ID: <AANLkTik+ebfWuurJZ_PPLA-8kovu5Fe=wpBD0h8Ud4r1@mail.gmail.com>
Subject: Re: lucene locking
From: Doron Cohen <cdoronc@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016362835807f3677049784323e
X-Virus-Checked: Checked by ClamAV on apache.org

--0016362835807f3677049784323e
Content-Type: text/plain; charset=ISO-8859-1

>
> >   I have a app that seems to be locking on some search calls. I am
> including
> > the stacktrace for the blocked and blocker thread.
>

Is it daedlock for sure?
No search deadlock fixes were done since 2.1.0, so perhaps it is something
else...

> "TP-Processor177" daemon prio=10 tid=0x0000002c8a96c800 nid=0x769d
> > waiting for monitor entry [0x000000004e60a000..0x000000004e60dcb0]
> >     java.lang.Thread.State: BLOCKED (on object monitor)
> >          at
> org.apache.lucene.index.SegmentReader.norms(SegmentReader.java:450)
> >          - locked <0x0000002aa0a4f5a8> (a
> org.apache.lucene.index.SegmentReader)
>

Indeed this guy is blocked.

> Here is the executing thread that is doing the blocking

But this guy seems to be running...?

> "TP-Processor97" daemon prio=10 tid=0x0000002c8fe35400 nid=0x75ce
> runnable [0x00000000497bc000..0x00000000497bfdb0]
>     java.lang.Thread.State: RUNNABLE
>          at
org.apache.lucene.index.SegmentReader.isDeleted(SegmentReader.java:346)
>          at
org.apache.lucene.index.IndexReader.document(IndexReader.java:368)
>          at
org.apache.lucene.search.IndexSearcher.doc(IndexSearcher.java:84)
>          at org.apache.lucene.search.Hits.doc(Hits.java:104)

Also, not sure for how many docs your app is loading like this (calling
Hits.docs()), but documents loading is costly... is there a chance that many
docs are being loaded and things just take long, not a deadlock?

Doron

--0016362835807f3677049784323e--

From java-user-return-48138-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Dec 16 10:44:57 2010
Return-Path: <java-user-return-48138-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93496 invoked from network); 16 Dec 2010 10:44:57 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 16 Dec 2010 10:44:57 -0000
Received: (qmail 67176 invoked by uid 500); 16 Dec 2010 10:44:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 65349 invoked by uid 500); 16 Dec 2010 10:44:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 64571 invoked by uid 99); 16 Dec 2010 10:44:47 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Dec 2010 10:44:47 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [130.225.24.68] (HELO sbexch03.sb.statsbiblioteket.dk) (130.225.24.68)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Dec 2010 10:44:39 +0000
Received: from [130.225.25.198] (130.225.25.198) by
 sbexch03.sb.statsbiblioteket.dk (130.225.24.68) with Microsoft SMTP Server id
 8.3.106.1; Thu, 16 Dec 2010 11:44:17 +0100
Subject: Re: Re: Scale up design
From: Toke Eskildsen <te@statsbiblioteket.dk>
Reply-To: te@statsbiblioteket.dk
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
In-Reply-To: <7409CFE47DFB4B26AEE7D3E684C86E0E@sv.us.sonicwall.com>
References: <0FD59CD8A2DF49D5AAB65412A8F43297@sv.us.sonicwall.com>
	 <AANLkTimN2xt6stZ049TC95HZp7=tdoNeg_cqCxxZx6iG@mail.gmail.com>
	 <7C07295C4C3A410B989D9334001248B7@sv.us.sonicwall.com>
	 <AANLkTi=+zFAKqEi9ghXT7oNNag5a2bKVTiOtGxdHMASw@mail.gmail.com>
	 <8707487473613519815@unknownmsgid>
	 <AANLkTi=YmMa15u3AUvd2X=G-Cnm-NvNxCxL0mN9e0vUa@mail.gmail.com>
	 <16B30E8CC7BF41A0BB8D0D3E7E732CFA@sv.us.sonicwall.com>
	 <1292411176.19302.168.camel@te-prime>
	 <7409CFE47DFB4B26AEE7D3E684C86E0E@sv.us.sonicwall.com>
Content-Type: text/plain; charset="UTF-8"
Organization: State and University Library, Denmark
Date: Thu, 16 Dec 2010 11:50:38 +0100
Message-ID: <1292496638.19302.389.camel@te-prime>
MIME-Version: 1.0
X-Mailer: Evolution 2.28.3 
Content-Transfer-Encoding: 7bit

On Thu, 2010-12-16 at 06:59 +0100, Ganesh wrote:
> 250 GB of data, 40 GB of Index Size, 60 million records is
> working fine with 1 GB RAM. We are storing minmal amount
> of data in index. We are doing sorting on Date. Even in
> single system, the database are shard.

Looking back in the list, I see that you're sharding on weeks with 50+
weeks in the index.

> build hosted solution. This stats will
> increase by minimum 10 times in 2 - 3 years. I plan to use
> 64 Bit, with 8 - 10 GB RAM allocated to JVM.

When making a conservative estimate and multiplying with 10, you must
remember to do the same for the system memory available for disk cache.

If your shards are searched sequentially, you could measure the response
time for a single shard (after warm up and with different queries), then
create a test-shard by merging 10 shards and measure response-time for
that. Subtracting the two numbers (to remove the overhead of the
front-end layer) and multiplying with 50 should give you a rough
estimate for the performance of an upscaled setup.

Another measurement suggestion: Divide the current performance of the
full setup with the performance of a single shard, then multiply the
performance of a single created by merging 10 shards with that number.

Regards,
Toke Eskildsen


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48139-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Dec 16 14:36:37 2010
Return-Path: <java-user-return-48139-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 96472 invoked from network); 16 Dec 2010 14:36:36 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 16 Dec 2010 14:36:36 -0000
Received: (qmail 46665 invoked by uid 500); 16 Dec 2010 14:36:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46447 invoked by uid 500); 16 Dec 2010 14:36:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 46434 invoked by uid 99); 16 Dec 2010 14:36:33 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Dec 2010 14:36:32 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of dhill@eweb-service.com designates 67.18.68.2 as permitted sender)
Received: from [67.18.68.2] (HELO gateway14.websitewelcome.com) (67.18.68.2)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 16 Dec 2010 14:36:24 +0000
Received: (qmail 609 invoked from network); 16 Dec 2010 14:37:51 -0000
Received: from somerset.websitewelcome.com (174.120.80.2)
  by gateway14.websitewelcome.com with SMTP; 16 Dec 2010 14:37:51 -0000
Received: from [96.24.128.65] (port=49233 helo=96-24-128-65.chi.clearwire-wmx.net)
	by somerset.websitewelcome.com with esmtpa (Exim 4.69)
	(envelope-from <dhill@eweb-service.com>)
	id 1PTEw6-0002SL-JM
	for java-user@lucene.apache.org; Thu, 16 Dec 2010 08:36:02 -0600
Message-ID: <4D0A23D3.5080806@eweb-service.com>
Date: Thu, 16 Dec 2010 08:36:03 -0600
From: Donld Hill <dhill@eweb-service.com>
User-Agent: Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.6; en-US; rv:1.9.2.8) Gecko/20100802 Lightning/1.0b2 Thunderbird/3.1.2
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: lucene locking
References: <4D099038.7020607@eweb-service.com>	<004b01cb9cf8$a537ef80$efa7ce80$@thetaphi.de> <AANLkTik+ebfWuurJZ_PPLA-8kovu5Fe=wpBD0h8Ud4r1@mail.gmail.com>
In-Reply-To: <AANLkTik+ebfWuurJZ_PPLA-8kovu5Fe=wpBD0h8Ud4r1@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - somerset.websitewelcome.com
X-AntiAbuse: Original Domain - lucene.apache.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - eweb-service.com

  So will updating to a newer version of Lucene help with the 
performance when loading DOCS. I will also do some research to see what 
is being loaded as this is a 3rd party that's using Lucene.

Can I safely upgrade to a newer version, do I need to perform any 
updates on the actual indices?
On 12/16/10 4:05 AM, Doron Cohen wrote:
>>>    I have a app that seems to be locking on some search calls. I am
>> including
>>> the stacktrace for the blocked and blocker thread.
> Is it daedlock for sure?
> No search deadlock fixes were done since 2.1.0, so perhaps it is something
> else...
>
>> "TP-Processor177" daemon prio=10 tid=0x0000002c8a96c800 nid=0x769d
>>> waiting for monitor entry [0x000000004e60a000..0x000000004e60dcb0]
>>>      java.lang.Thread.State: BLOCKED (on object monitor)
>>>           at
>> org.apache.lucene.index.SegmentReader.norms(SegmentReader.java:450)
>>>           - locked<0x0000002aa0a4f5a8>  (a
>> org.apache.lucene.index.SegmentReader)
>>
> Indeed this guy is blocked.
>
>> Here is the executing thread that is doing the blocking
> But this guy seems to be running...?
>
>> "TP-Processor97" daemon prio=10 tid=0x0000002c8fe35400 nid=0x75ce
>> runnable [0x00000000497bc000..0x00000000497bfdb0]
>>      java.lang.Thread.State: RUNNABLE
>>           at
> org.apache.lucene.index.SegmentReader.isDeleted(SegmentReader.java:346)
>>           at
> org.apache.lucene.index.IndexReader.document(IndexReader.java:368)
>>           at
> org.apache.lucene.search.IndexSearcher.doc(IndexSearcher.java:84)
>>           at org.apache.lucene.search.Hits.doc(Hits.java:104)
> Also, not sure for how many docs your app is loading like this (calling
> Hits.docs()), but documents loading is costly... is there a chance that many
> docs are being loaded and things just take long, not a deadlock?
>
> Doron
>


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48140-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Dec 16 14:44:29 2010
Return-Path: <java-user-return-48140-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 568 invoked from network); 16 Dec 2010 14:44:29 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 16 Dec 2010 14:44:29 -0000
Received: (qmail 60487 invoked by uid 500); 16 Dec 2010 14:44:27 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60283 invoked by uid 500); 16 Dec 2010 14:44:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60266 invoked by uid 99); 16 Dec 2010 14:44:26 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Dec 2010 14:44:26 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of earlhood@gmail.com designates 209.85.212.181 as permitted sender)
Received: from [209.85.212.181] (HELO mail-px0-f181.google.com) (209.85.212.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Dec 2010 14:44:20 +0000
Received: by pxi2 with SMTP id 2so579779pxi.12
        for <java-user@lucene.apache.org>; Thu, 16 Dec 2010 06:43:59 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:sender:received
         :in-reply-to:references:date:x-google-sender-auth:message-id:subject
         :from:to:content-type;
        bh=YO2CgRGgSUMsL+WRkD47T18HFZ9V7l89jLGYSPIyV4E=;
        b=XdQS8aPbxG0j82vf7s494rt5gNAmni4qlOMATTYeHLGNgP3gP3ZFvKsSStCaJcp5g7
         yA04iq2MQiiCkZ9Y8NdvH0zjhomrlxCH53qaK9v0Zfz/HvhnvEIgNljwrImFlSOsDhLt
         myegiI5mOcJYOpo2M+mdBxqg7gN5PcKvmrzfI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:sender:in-reply-to:references:date
         :x-google-sender-auth:message-id:subject:from:to:content-type;
        b=I0JNJLSpcXVOVOUr2TmRlWYkYPRLVjhkeIYJW2QXBo1gFUmAUZeZTdOfseNyHr6Ael
         pthtxG5qNUjrySsww/latpaeP2D2OVeKhNESIa21YsBx+SN3+6nUMnv+iRIA7R93QEBt
         UqSVcgCOO5YKfsvLdT4XDMLLcGrI92t8ft4k0=
MIME-Version: 1.0
Received: by 10.142.239.13 with SMTP id m13mr6776695wfh.374.1292510639025;
 Thu, 16 Dec 2010 06:43:59 -0800 (PST)
Sender: earlhood@gmail.com
Received: by 10.142.171.4 with HTTP; Thu, 16 Dec 2010 06:43:58 -0800 (PST)
In-Reply-To: <4D0A23D3.5080806@eweb-service.com>
References: <4D099038.7020607@eweb-service.com>
	<004b01cb9cf8$a537ef80$efa7ce80$@thetaphi.de>
	<AANLkTik+ebfWuurJZ_PPLA-8kovu5Fe=wpBD0h8Ud4r1@mail.gmail.com>
	<4D0A23D3.5080806@eweb-service.com>
Date: Thu, 16 Dec 2010 08:43:58 -0600
X-Google-Sender-Auth: 2OV8-956fKY4j61I5Py5qmgx9BE
Message-ID: <AANLkTinmTE6k-vWesOstsR-LUWSh=0ipSsxwM2na=S8Q@mail.gmail.com>
Subject: Re: lucene locking
From: Earl Hood <earl@earlhood.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

On Thu, Dec 16, 2010 at 8:36 AM, Donld Hill <dhill@eweb-service.com> wrote:
> Can I safely upgrade to a newer version, do I need to perform any updates on
> the actual indices?

>From my personal experience, upgrading from v2 to v3 required rebuilds
of indices since we experienced some problems performing queries
against v2 built indices.

I would guess if you stick with v2 (v2.9), you may be okay, but others
will have to confirm this.

--ewh

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48141-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Dec 16 20:00:17 2010
Return-Path: <java-user-return-48141-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 71004 invoked from network); 16 Dec 2010 20:00:17 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 16 Dec 2010 20:00:17 -0000
Received: (qmail 66262 invoked by uid 500); 16 Dec 2010 20:00:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 65940 invoked by uid 500); 16 Dec 2010 20:00:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 65485 invoked by uid 99); 16 Dec 2010 20:00:06 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Dec 2010 20:00:06 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of glen.newton@gmail.com designates 209.85.216.48 as permitted sender)
Received: from [209.85.216.48] (HELO mail-qw0-f48.google.com) (209.85.216.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 16 Dec 2010 20:00:00 +0000
Received: by qwh6 with SMTP id 6so3581916qwh.35
        for <multiple recipients>; Thu, 16 Dec 2010 11:59:39 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:in-reply-to
         :references:from:date:message-id:subject:to:content-type
         :content-transfer-encoding;
        bh=9rhY3OEYUpOUJGP+WjgbjO6qmWYdqCzyToteNLiNowk=;
        b=uuzR93RXP8XBRdURfb1aJPab5AZzg45QXwUQVo3D2E0e2B0ZCDae9MmD6blpyOiCF8
         6uAPFwKDowt4BzoHYbuyBzE1epqAKWyKQ/YLIRFJ33BuOxpYRdQoxAbmwNbxCilccP5n
         eUyWpOrrsJ8v2wVYiQA3CWIwIcVjrEI2SVnN4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        b=nDGmfAeMcK7n2YB7tfNEBZ0kLLq1RScpg2N8TyhiA2h6As+FJcwOJB5+mbeq48/iNq
         h8ZJovNtwaCQGSGROEyL6xscDca+hr5EERzS+dU8D1e5Pc3maHWbAwloZLTe0xgQvjOS
         nihIorQiTQexO6sTTp99Uq+KyEpS5B/qgoEyI=
Received: by 10.229.238.17 with SMTP id kq17mr1949457qcb.79.1292529579079;
 Thu, 16 Dec 2010 11:59:39 -0800 (PST)
MIME-Version: 1.0
Received: by 10.229.89.69 with HTTP; Thu, 16 Dec 2010 11:59:18 -0800 (PST)
In-Reply-To: <8F0D0142CA7ECC4287A9EC1BD8CB880C16B23FDF6D@USLVDCMBVP01.ingramcontent.com>
References: <8D76FD45-165F-4B3E-9C1F-666A70568323@dubture.com>
 <AANLkTimkqTU1sybgwm96ZCf-YQbAEZMsigr4q5a8sApV@mail.gmail.com>
 <8EB0069F-4E36-4EFF-9D77-461DFD057021@dubture.com> <9F8B39CB3B7C6D4594293EA29CCF438B0198B903@ICQ-MAIL.icq.il.office.aol.com>
 <8F0D0142CA7ECC4287A9EC1BD8CB880C16B23FDF6D@USLVDCMBVP01.ingramcontent.com>
From: Glen Newton <glen.newton@gmail.com>
Date: Thu, 16 Dec 2010 14:59:18 -0500
Message-ID: <AANLkTikQMfPbHrgQ8+qEwHXw5iE8qaZPJH2HJmqHyFoT@mail.gmail.com>
Subject: Re: Dataimport performance
To: solr-user@lucene.apache.org, java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

LuSqlv2 beta comes out in the next few weeks, and is designed to
address this issue (among others).

LuSql original (http://lab.cisti-icist.nrc-cnrc.gc.ca/cistilabswiki/index.p=
hp/LuSql
now moved to: https://code.google.com/p/lusql/) is a JDBC-->Lucene
high performance loader.

You may have seen my posts on this list suggesting LuSql as high
performance alternative to DIH, for a subset of use cases.

LuSqlV2 has evolved into a full extract-transform-load (ETL) high
performance engine, focusing on many of the issues of interest to the
Lucene/SOLR community.
It has a pipelined, pluggable, multithreaded architecture.
It is basically: pluggable source --> 0 or more pluggable filters -->
pluggable sink

Source plugins implemented:
- JDBC, Lucene, SOLR (SolrJ), BDB, CSV, RMI, Java Serialization
Sink plugins implemented:
- JDBC, Lucene, SOLR (SolrJ), BDB, XML, RMI, Java Serialization, Tee,
NullSink [I am working on a memcached Sink]
A number of different filters implemented (i.e. get PDF file from
filesystem based on SQL field and convert & get test, etc) including:
BDBJoinFIlter, JDBCJoinFilter

--

This particular problem is one of the unit tests I have: given a
simple database of:
1- table Name
2- table City
3- table nameCityJoin
4- table Job
5- table nameJobJoin

run a JDBC-->BDB LuSql instance each for of City+nameCityJoin and
Job+nameJobJoin; then run a JDBC-->SolrJ on table Name, adding 2
BDBJoinFIlters, each which take the BDB generated earlier and do the
join (you just tell the filters which field from the JDBC-generated to
use against the BDB key).

So your use case use a larger example of this.

Also of interest:
- Java RMI (Remote Method Invocation): both an RMISink(Server) and
RMISource(Client) are implemented. This means you can set up N
machines which are doing something, and have one or more clients (on
their own machines) that are pulling this data and doing something
with it. For example, JDBC-->PDFToTextFilter-->RMI (converting PDF
files to text based on the contents of a SQL database, with text files
in the file system): basically doing some heavy lifting, and then
start up an RMI-->SolrJ (or Lucene) which is a client to the N PDF
converting machines, doing only the Lucene/SOLR indexing. The client
does a pull when it needs more data. You can have N servers x M
clients! Oh, string fields length > 1024 are automatically gzipped by
the RMI Sink(Server), to reduce network (at the cost of cpu:
selectable). I am looking into RMI alternatives, like Thrift, ProtoBuf
for my next Source/Sinks to implement. Another example is the reverse
use case: when the indexing is more expensive getting the data.
Example: One JDBC-->RMISink(Server) instance, N
RMISource(Client)-->Lucene instances; this allows multiple Lucenes to
be fed from a single JDBC source, across machines.

- TeeSink: the Tee sink hides N sinks, so you can split the pipeline
into multiple Sinks. I've used it to send the same content to Lucene
as well as BDB in one fell swoop. Can you say index and content store
in one step?

I am working on cleaning up the code, writing docs (I made the mistake
of making great docs for LusqlV1, so I have work to do...!), and
making a couple more tests.

I will announce the beta on this and the Lucene list.

If you have any questions, please contact me.

Thanks,
Glen Newton
http://zzzoot.blogspot.com

--> Old LuSql benchmarks:
http://zzzoot.blogspot.com/2008/11/lucene-231-vs-24-benchmarks-using-lusql.=
html

On Thu, Dec 16, 2010 at 12:04 PM, Dyer, James <James.Dyer@ingrambook.com> w=
rote:
> We have ~50 long-running SQL queries that need to be joined and denormali=
zed. =C2=A0Not all of the queries are to the same db, and some data comes f=
rom fixed-width data feeds. =C2=A0Our current search engine (that we are co=
nverting to SOLR) has a fast disk-caching mechanism that lets you cache all=
 of these data sources and then it will join them locally prior to indexing=
.
>
> I'm in the process of developing something similar for DIH that uses the =
Berkley db to do the same thing. =C2=A0Its good enough that I can do nightl=
y full re-indexes of all our data while developing the front-end, but it is=
 still very rough. =C2=A0Possibly I would like to get this refined enough t=
o eventually submit as a jira ticket / patch as it seems this is a somewhat=
 common problem that needs solving.
>
> Even with our current search engine, the join & denormalize step is alway=
s the longest-running part of the process. =C2=A0However, I have it running=
 fairly fast by partitioning the data by a modulus of the primary key and t=
hen running several jobs in parallel. =C2=A0The trick is not to get I/O bou=
nd. =C2=A0Things run fast if you can set it up to maximize CPU.
>
> James Dyer
> E-Commerce Systems
> Ingram Content Group
> (615) 213-4311
>
>
> -----Original Message-----
> From: Ephraim Ofir [mailto:EphraimO@icq.com]
> Sent: Thursday, December 16, 2010 3:04 AM
> To: solr-user@lucene.apache.org
> Subject: RE: Dataimport performance
>
> Check out http://mail-archives.apache.org/mod_mbox/lucene-solr-user/20100=
8.mbox/%3C9F8B39CB3B7C6D4594293EA29CCF438B01702F22@ICQ-MAIL.icq.il.office.a=
ol.com%3E
> This approach of not using sub entities really improved our load time.
>
> Ephraim Ofir
>
> -----Original Message-----
> From: Robert Gr=C3=BCndler [mailto:robert@dubture.com]
> Sent: Wednesday, December 15, 2010 4:49 PM
> To: solr-user@lucene.apache.org
> Subject: Re: Dataimport performance
>
> i've benchmarked the import already with 500k records, one time without t=
he artists subquery, and one time without the join in the main query:
>
>
> Without subquery: 500k in 3 min 30 sec
>
> Without join and without subquery: 500k in 2 min 30.
>
> With subquery and with left join: =C2=A0 320k in 6 Min 30
>
>
> so the joins / subqueries are definitely a bottleneck.
>
> How exactly did you implement the custom data import?
>
> In our case, we need to de-normalize the relations of the sql data for th=
e index,
> so i fear i can't really get rid of the join / subquery.
>
>
> -robert
>
>
>
>
>
> On Dec 15, 2010, at 15:43 , Tim Heckman wrote:
>
>> 2010/12/15 Robert Gr=C3=BCndler <robert@dubture.com>:
>>> The data-config.xml looks like this (only 1 entity):
>>>
>>> =C2=A0 =C2=A0 =C2=A0<entity name=3D"track" query=3D"select t.id as id, =
t.title as title, l.title as label from track t left join label l on (l.id =
=3D t.label_id) where t.deleted =3D 0" transformer=3D"TemplateTransformer">
>>> =C2=A0 =C2=A0 =C2=A0 =C2=A0<field column=3D"title" name=3D"title_t" />
>>> =C2=A0 =C2=A0 =C2=A0 =C2=A0<field column=3D"label" name=3D"label_t" />
>>> =C2=A0 =C2=A0 =C2=A0 =C2=A0<field column=3D"id" name=3D"sf_meta_id" />
>>> =C2=A0 =C2=A0 =C2=A0 =C2=A0<field column=3D"metaclass" template=3D"Trac=
k" name=3D"sf_meta_class"/>
>>> =C2=A0 =C2=A0 =C2=A0 =C2=A0<field column=3D"metaid" template=3D"${track=
.id}" name=3D"sf_meta_id"/>
>>> =C2=A0 =C2=A0 =C2=A0 =C2=A0<field column=3D"uniqueid" template=3D"Track=
_${track.id}" name=3D"sf_unique_id"/>
>>>
>>> =C2=A0 =C2=A0 =C2=A0 =C2=A0<entity name=3D"artists" query=3D"select a.n=
ame as artist from artist a left join track_artist ta on (ta.artist_id =3D =
a.id) where ta.track_id=3D${track.id}">
>>> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0<field column=3D"artist" name=3D"arti=
sts_t" />
>>> =C2=A0 =C2=A0 =C2=A0 =C2=A0</entity>
>>>
>>> =C2=A0 =C2=A0 =C2=A0</entity>
>>
>> So there's one track entity with an artist sub-entity. My (admittedly
>> rather limited) experience has been that sub-entities, where you have
>> to run a separate query for every row in the parent entity, really
>> slow down data import. For my own purposes, I wrote a custom data
>> import using SolrJ to improve the performance (from 3 hours to 10
>> minutes).
>>
>> Just as a test, how long does it take if you comment out the artists ent=
ity?
>
>



--=20

-

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48142-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Dec 17 06:13:38 2010
Return-Path: <java-user-return-48142-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 68920 invoked from network); 17 Dec 2010 06:13:35 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 17 Dec 2010 06:13:35 -0000
Received: (qmail 34276 invoked by uid 500); 17 Dec 2010 06:13:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 33969 invoked by uid 500); 17 Dec 2010 06:13:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 33960 invoked by uid 99); 17 Dec 2010 06:13:32 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Dec 2010 06:13:32 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of gogogo45@126.com designates 123.125.50.112 as permitted sender)
Received: from [123.125.50.112] (HELO m50-112.126.com) (123.125.50.112)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Dec 2010 06:13:25 +0000
Received: from lixukun-584f02a (unknown [59.151.54.34])
	by smtp6 (Coremail) with SMTP id j9KowLDrD51h_wpNUV0IAg--.718S2;
	Fri, 17 Dec 2010 14:12:49 +0800 (CST)
Date: Fri, 17 Dec 2010 14:12:59 +0800
From: "gogogo45" <gogogo45@126.com>
To: "java-user" <java-user@lucene.apache.org>
Subject: Lucene Input/Output error
Message-ID: <201012171412583433298@126.com>
X-mailer: Foxmail 6, 15, 201, 21 [cn]
Mime-Version: 1.0
Content-Type: multipart/alternative;
	boundary="=====003_Dragon082542132026_====="
X-CM-TRANSID:j9KowLDrD51h_wpNUV0IAg--.718S2
X-Coremail-Antispam: 1Uf129KBjvJXoWxJrWxZF4kAw4rAw45ZF47Jwb_yoW8uF1xpr
	Zakw40qw4UAryFkr1UXa48Zr13Kw18Jas8Ga18ZF1Ygw1UGr1xWry8tF909F1Ivw4xZF9F
	qr1jgw18XFn8Aa7anT9S1TB71UUUUUUqnTZGkaVYY2UrUUUUjbIjqfuFe4nvWSU5nxnvy2
	9KBjDUYxBIdaVFxhVjvjDU0xZFpf9x07UkR67UUUUU=
X-CM-SenderInfo: 5jrj0wrruvqiyswou0bp/1tbi6AmqJkzBs5gPIgAAsm

--=====003_Dragon082542132026_=====
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

Hello All,

I'm new to lucene, and i'm confronted with an input/output error exception listed as below.
As designed, I have one machine writing to an index stored on an NFS mount, and other machine(s) 
reading (and periodically re-opening the index). 

I use a thread to maintain all the IndexSearchers and reopen them periodically,  when i reopen an 
IndexReader, there may be some queries still running using this reader. Could this to be the cause my 
Input/Output error?

I'm using the Lucene 3.0.1 version.

Please give me some idea. 
Thanks.

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
2010-12-16 17:27:32 [0JThreadPool-1] ERROR - IO Exception
java.io.IOException: Input/output error
at sun.nio.ch.FileDispatcher.pread0(Native Method)
at sun.nio.ch.FileDispatcher.pread(FileDispatcher.java:31)
at sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:230)
at sun.nio.ch.IOUtil.read(IOUtil.java:206)
at sun.nio.ch.FileChannelImpl.read(FileChannelImpl.java:625)
at org.apache.lucene.store.NIOFSDirectory$NIOFSIndexInput.readInternal(NIOFSDirectory.java:157)
at org.apache.lucene.store.BufferedIndexInput.refill(BufferedIndexInput.java:160)
at org.apache.lucene.store.BufferedIndexInput.readByte(BufferedIndexInput.java:39)
at org.apache.lucene.store.IndexInput.readInt(IndexInput.java:69)
at org.apache.lucene.store.IndexInput.readLong(IndexInput.java:92)
at org.apache.lucene.index.FieldsReader.doc(FieldsReader.java:218)
at org.apache.lucene.index.SegmentReader.document(SegmentReader.java:901)
at org.apache.lucene.index.DirectoryReader.document(DirectoryReader.java:525)
at org.apache.lucene.index.IndexReader.document(IndexReader.java:658)
at org.apache.lucene.search.IndexSearcher.doc(IndexSearcher.java:144)
at org.apache.lucene.search.MultiSearcher.doc(MultiSearcher.java:173)


2010-12-17 



Allan

--=====003_Dragon082542132026_=====--



From java-user-return-48143-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Dec 17 15:52:46 2010
Return-Path: <java-user-return-48143-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15927 invoked from network); 17 Dec 2010 15:52:46 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 17 Dec 2010 15:52:46 -0000
Received: (qmail 34746 invoked by uid 500); 17 Dec 2010 15:52:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34439 invoked by uid 500); 17 Dec 2010 15:52:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34431 invoked by uid 99); 17 Dec 2010 15:52:41 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Dec 2010 15:52:41 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ian.lea@gmail.com designates 209.85.214.50 as permitted sender)
Received: from [209.85.214.50] (HELO mail-bw0-f50.google.com) (209.85.214.50)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Dec 2010 15:52:33 +0000
Received: by bwg12 with SMTP id 12so1027716bwg.23
        for <java-user@lucene.apache.org>; Fri, 17 Dec 2010 07:52:13 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:in-reply-to
         :references:from:date:message-id:subject:to:content-type
         :content-transfer-encoding;
        bh=d7KtZvPuJ9UW1OaGlEl0n2G3Kc/uiGlDnAd+pn/Hx10=;
        b=HGeQVQkYBX7/gZzm/3drwUhK045ULGGhGv78dn05tnqxai/Dbg3SA/PrsOAHgq0DZv
         lD4GRz7OwG8af3jTzCHezumfM8FTcoC6ekUvdXBuLrN7Z4B5gLpYnoNUYNTFjW6bDFC/
         4NkKMQnko6keG/+i3IG/yTo6SFwgFpW0fFyc0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        b=S/qSJt0FHZGbTkFnroFSZQWsbe/0fJAlKutqLe7UmxmHmeQtcnD+/xpYkQLrIhxbzh
         L+a01JCMZ9mQ45Rgi3DVak5VS2SAgcJSkJ+9oa2PTWQgiuoNxLGEyS5n7TllQam2iDuF
         ZZeEL61BUZB+TF7DKF4WBbwjZ4b/3EI34lhdE=
Received: by 10.204.61.74 with SMTP id s10mr781445bkh.91.1292601132901; Fri,
 17 Dec 2010 07:52:12 -0800 (PST)
MIME-Version: 1.0
Received: by 10.204.60.202 with HTTP; Fri, 17 Dec 2010 07:51:52 -0800 (PST)
In-Reply-To: <201012171412583433298@126.com>
References: <201012171412583433298@126.com>
From: Ian Lea <ian.lea@gmail.com>
Date: Fri, 17 Dec 2010 15:51:52 +0000
Message-ID: <AANLkTi=6LjLtoHAYMQ2oXNLV8QisuBEwi398jVdpYqCM@mail.gmail.com>
Subject: Re: Lucene Input/Output error
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

"Input/Output error" is not the most descriptive error message.  Are
you using a custom IndexDeletionPolicy?  See the javadocs for some
comments on using lucene over NFS.


--
Ian.


On Fri, Dec 17, 2010 at 6:12 AM, gogogo45 <gogogo45@126.com> wrote:
> Hello All,
>
> I'm new to lucene, and i'm confronted with an input/output error exceptio=
n listed as below.
> As designed, I have one machine writing to an index stored on an NFS moun=
t, and other machine(s)
> reading (and periodically re-opening the index).
>
> I use a thread to maintain all the IndexSearchers and reopen them periodi=
cally, =A0when i reopen an
> IndexReader, there may be some queries still running using this reader. C=
ould this to be the cause my
> Input/Output error?
>
> I'm using the Lucene 3.0.1 version.
>
> Please give me some idea.
> Thanks.
>
> /////////////////////////////////////////////////////////////////////////=
////////////////////////////////////////////////////////////////
> 2010-12-16 17:27:32 [0JThreadPool-1] ERROR - IO Exception
> java.io.IOException: Input/output error
> at sun.nio.ch.FileDispatcher.pread0(Native Method)
> at sun.nio.ch.FileDispatcher.pread(FileDispatcher.java:31)
> at sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:230)
> at sun.nio.ch.IOUtil.read(IOUtil.java:206)
> at sun.nio.ch.FileChannelImpl.read(FileChannelImpl.java:625)
> at org.apache.lucene.store.NIOFSDirectory$NIOFSIndexInput.readInternal(NI=
OFSDirectory.java:157)
> at org.apache.lucene.store.BufferedIndexInput.refill(BufferedIndexInput.j=
ava:160)
> at org.apache.lucene.store.BufferedIndexInput.readByte(BufferedIndexInput=
.java:39)
> at org.apache.lucene.store.IndexInput.readInt(IndexInput.java:69)
> at org.apache.lucene.store.IndexInput.readLong(IndexInput.java:92)
> at org.apache.lucene.index.FieldsReader.doc(FieldsReader.java:218)
> at org.apache.lucene.index.SegmentReader.document(SegmentReader.java:901)
> at org.apache.lucene.index.DirectoryReader.document(DirectoryReader.java:=
525)
> at org.apache.lucene.index.IndexReader.document(IndexReader.java:658)
> at org.apache.lucene.search.IndexSearcher.doc(IndexSearcher.java:144)
> at org.apache.lucene.search.MultiSearcher.doc(MultiSearcher.java:173)
>
>
> 2010-12-17
>
>
>
> Allan
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48144-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Dec 17 16:19:05 2010
Return-Path: <java-user-return-48144-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 32083 invoked from network); 17 Dec 2010 16:19:04 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 17 Dec 2010 16:19:04 -0000
Received: (qmail 83622 invoked by uid 500); 17 Dec 2010 16:18:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 82015 invoked by uid 500); 17 Dec 2010 16:18:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81988 invoked by uid 99); 17 Dec 2010 16:18:54 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Dec 2010 16:18:54 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [209.85.215.176] (HELO mail-ey0-f176.google.com) (209.85.215.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Dec 2010 16:18:48 +0000
Received: by eyz10 with SMTP id 10so348338eyz.7
        for <multiple recipients>; Fri, 17 Dec 2010 08:18:25 -0800 (PST)
MIME-Version: 1.0
Received: by 10.216.154.141 with SMTP id h13mr648154wek.67.1292602705615; Fri,
 17 Dec 2010 08:18:25 -0800 (PST)
Received: by 10.216.255.81 with HTTP; Fri, 17 Dec 2010 08:18:25 -0800 (PST)
Date: Fri, 17 Dec 2010 11:18:25 -0500
Message-ID: <AANLkTi=Q5e1SZ0Pxo6kbu2NVa4uig-mdunH1SScOaLzz@mail.gmail.com>
Subject: WARNING: re-index all trunk indices!
From: Michael McCandless <lucene@mikemccandless.com>
To: Lucene Users <java-user@lucene.apache.org>, solr-user@lucene.apache.org, 
	dev@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1

If you are using Lucene's trunk (nightly build) release, read on...

I just committed a change (for LUCENE-2811) that changes the index
format on trunk, thus breaking (w/ likely strange exceptions on
reading the segments_N file) any trunk indices created in the past
week or so.

Mike

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48145-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Dec 17 16:48:40 2010
Return-Path: <java-user-return-48145-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40257 invoked from network); 17 Dec 2010 16:48:40 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 17 Dec 2010 16:48:40 -0000
Received: (qmail 36498 invoked by uid 500); 17 Dec 2010 16:48:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 35653 invoked by uid 500); 17 Dec 2010 16:48:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 35333 invoked by uid 99); 17 Dec 2010 16:48:31 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Dec 2010 16:48:31 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of yseeley@gmail.com designates 209.85.161.47 as permitted sender)
Received: from [209.85.161.47] (HELO mail-fx0-f47.google.com) (209.85.161.47)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 17 Dec 2010 16:48:26 +0000
Received: by fxm17 with SMTP id 17so799628fxm.6
        for <multiple recipients>; Fri, 17 Dec 2010 08:48:05 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:sender:reply-to:received
         :in-reply-to:references:date:x-google-sender-auth:message-id:subject
         :from:to:cc:content-type;
        bh=U3rUAWvygGiCv8tdiXkpSbLNEguWQxpUB/wVchS0oEA=;
        b=P8eUw/CQmOynjOU76bAW1a8LqtU3VimMY+Ui2Fh9MnWyKZUox0ne8iTrk4WqwmLH9c
         Mi3/iwykJs4Q0Y6tGccCe4ISUYhlWF/E7UlmDdPpTriFTr2oYStqxPWo40+aoKlvYW3i
         pf5vlZzLbTDcYnriG2v+AqrnVJGXkV8JQnsEo=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:sender:reply-to:in-reply-to:references:date
         :x-google-sender-auth:message-id:subject:from:to:cc:content-type;
        b=CfOEP5vdc6uc49+Vk+SAg1y7otVbOJUKzDWqgEpK2DdhHRB/N9uPbjJqudCV8WhnhE
         yOkvvYb49FR4x4r+MQWJsRpRJPphow9quGLHzEZ+eiVKVzx7Aa85YyCN09ET/QRa1bk7
         nBkRP8i8WY9UH0cYaT+p4LT6qOKf8esFUzuXI=
MIME-Version: 1.0
Received: by 10.223.116.1 with SMTP id k1mr1320797faq.51.1292604484980; Fri,
 17 Dec 2010 08:48:04 -0800 (PST)
Sender: yseeley@gmail.com
Reply-To: yonik@lucidimagination.com
Received: by 10.223.78.141 with HTTP; Fri, 17 Dec 2010 08:48:04 -0800 (PST)
In-Reply-To: <AANLkTi=Q5e1SZ0Pxo6kbu2NVa4uig-mdunH1SScOaLzz@mail.gmail.com>
References: <AANLkTi=Q5e1SZ0Pxo6kbu2NVa4uig-mdunH1SScOaLzz@mail.gmail.com>
Date: Fri, 17 Dec 2010 11:48:04 -0500
X-Google-Sender-Auth: 12dU_yBerjhnIDZpRxJFsw9JOP8
Message-ID: <AANLkTikKi9r0Dr50TgDeCL6+4kw57XcWa4aYcy8Y4xA5@mail.gmail.com>
Subject: Re: WARNING: re-index all trunk indices!
From: Yonik Seeley <yonik@lucidimagination.com>
To: dev@lucene.apache.org
Cc: Lucene Users <java-user@lucene.apache.org>, solr-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1

On Fri, Dec 17, 2010 at 11:18 AM, Michael McCandless
<lucene@mikemccandless.com> wrote:
> If you are using Lucene's trunk (nightly build) release, read on...
>
> I just committed a change (for LUCENE-2811) that changes the index
> format on trunk, thus breaking (w/ likely strange exceptions on
> reading the segments_N file) any trunk indices created in the past
> week or so.

For reference, the exception I got trying to start Solr with an older
index on Windows is below.

-Yonik
http://www.lucidimagination.com


SEVERE: java.lang.RuntimeException: java.io.IOException: read past EOF
        at org.apache.solr.core.SolrCore.getSearcher(SolrCore.java:1095)
        at org.apache.solr.core.SolrCore.<init>(SolrCore.java:587)
        at org.apache.solr.core.CoreContainer.create(CoreContainer.java:660)
        at org.apache.solr.core.CoreContainer.load(CoreContainer.java:412)
        at org.apache.solr.core.CoreContainer.load(CoreContainer.java:294)
        at org.apache.solr.core.CoreContainer$Initializer.initialize(CoreContainer.java:243)
        at org.apache.solr.servlet.SolrDispatchFilter.init(SolrDispatchFilter.java:86)
        at org.mortbay.jetty.servlet.FilterHolder.doStart(FilterHolder.java:97)
        at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
        at org.mortbay.jetty.servlet.ServletHandler.initialize(ServletHandler.java:713)
        at org.mortbay.jetty.servlet.Context.startContext(Context.java:140)
        at org.mortbay.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1282)
        at org.mortbay.jetty.handler.ContextHandler.doStart(ContextHandler.java:518)
        at org.mortbay.jetty.webapp.WebAppContext.doStart(WebAppContext.java:499)
        at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
        at org.mortbay.jetty.handler.HandlerCollection.doStart(HandlerCollection.java:152)
        at org.mortbay.jetty.handler.ContextHandlerCollection.doStart(ContextHandlerCollection.java:156)
        at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
        at org.mortbay.jetty.handler.HandlerCollection.doStart(HandlerCollection.java:152)
        at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
        at org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:130)
        at org.mortbay.jetty.Server.doStart(Server.java:224)
        at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
        at org.mortbay.xml.XmlConfiguration.main(XmlConfiguration.java:985)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:597)
        at org.mortbay.start.Main.invokeMain(Main.java:194)
        at org.mortbay.start.Main.start(Main.java:534)
        at org.mortbay.start.Main.start(Main.java:441)
        at org.mortbay.start.Main.main(Main.java:119)
Caused by: java.io.IOException: read past EOF
        at org.apache.lucene.store.MMapDirectory$MMapIndexInput.readBytes(MMapDirectory.java:242)
        at org.apache.lucene.store.ChecksumIndexInput.readBytes(ChecksumIndexInput.java:48)
        at org.apache.lucene.store.DataInput.readString(DataInput.java:121)
        at org.apache.lucene.store.DataInput.readStringStringMap(DataInput.java:148)
        at org.apache.lucene.index.SegmentInfo.<init>(SegmentInfo.java:192)
        at org.apache.lucene.index.codecs.DefaultSegmentInfosReader.read(DefaultSegmentInfosReader.java:57)
        at org.apache.lucene.index.SegmentInfos.read(SegmentInfos.java:220)
        at org.apache.lucene.index.DirectoryReader$1.doBody(DirectoryReader.java:90)
        at org.apache.lucene.index.SegmentInfos$FindSegmentsFile.run(SegmentInfos.java:623)
        at org.apache.lucene.index.DirectoryReader.open(DirectoryReader.java:86)
        at org.apache.lucene.index.IndexReader.open(IndexReader.java:437)
        at org.apache.lucene.index.IndexReader.open(IndexReader.java:316)
        at org.apache.solr.core.StandardIndexReaderFactory.newReader(StandardIndexReaderFactory.java:38)
        at org.apache.solr.core.SolrCore.getSearcher(SolrCore.java:1084)
        ... 31 more

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48146-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Dec 18 09:49:25 2010
Return-Path: <java-user-return-48146-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 48263 invoked from network); 18 Dec 2010 09:49:25 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 18 Dec 2010 09:49:25 -0000
Received: (qmail 36245 invoked by uid 500); 18 Dec 2010 09:49:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36032 invoked by uid 500); 18 Dec 2010 09:49:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 36024 invoked by uid 99); 18 Dec 2010 09:49:19 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 18 Dec 2010 09:49:19 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of pankajiitdyn@gmail.com designates 209.85.216.176 as permitted sender)
Received: from [209.85.216.176] (HELO mail-qy0-f176.google.com) (209.85.216.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 18 Dec 2010 09:49:13 +0000
Received: by qyk10 with SMTP id 10so1454586qyk.14
        for <java-user@lucene.apache.org>; Sat, 18 Dec 2010 01:48:52 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:date:message-id
         :subject:from:to:content-type;
        bh=6Eo1Ps+/3cxcYbHY6qQbjANKv/TXepSLvfKWAMLMssk=;
        b=skD7mR7Fm86is9o2oWfFvFMj7c4f7F2sW6fyOgD8xK1kjPKiWsx4M0cSiCXvJyeNAv
         rIiuP99PxmQHrLwFAZuveATKLmNJ2+vJi32v3IxLulRw89YOCl6UnpuqVO8e3EbbOoTg
         gSTKDUAGbLn0g0gqdwHQw6ojHHe4p3PWJ22Lo=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=VOjTHi/cPP+I5/JRGn04PdygVf4rlv8KzUgl9pG4Yv+htqW+tf5tWrbKLPmpiFyV4t
         RLQJFK79L4efNczw8/kykqQpXp9JKoocjUpVJ9v+W4VwGEVCrMUmzeDGU2j6r6QZzSMl
         J04jq3XDBMH1RaXRfYl8FJWfgi3iNHHeI6M6Q=
MIME-Version: 1.0
Received: by 10.229.75.3 with SMTP id w3mr1696354qcj.82.1292665732556; Sat, 18
 Dec 2010 01:48:52 -0800 (PST)
Received: by 10.229.111.66 with HTTP; Sat, 18 Dec 2010 01:48:52 -0800 (PST)
Date: Sat, 18 Dec 2010 15:18:52 +0530
Message-ID: <AANLkTi=a8-S=MhBr30gA7arPDGJ62tun33MWkW8R4zqn@mail.gmail.com>
Subject: Multifield query parser
From: Pankaj Malhotra <pankajiitdyn@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=00163646c12ecd68fe0497ac318b

--00163646c12ecd68fe0497ac318b
Content-Type: text/plain; charset=ISO-8859-1

Hi,
While searching across multiple fields using MultiFieldQueryParser, when a
doc is returned how do I know in this doc which field(among the multiple
fields i queried over) contained the query term?

Regards
Pankaj

--00163646c12ecd68fe0497ac318b--

From java-user-return-48147-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Dec 18 14:50:11 2010
Return-Path: <java-user-return-48147-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49253 invoked from network); 18 Dec 2010 14:50:11 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 18 Dec 2010 14:50:11 -0000
Received: (qmail 13889 invoked by uid 500); 18 Dec 2010 14:50:09 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 13545 invoked by uid 500); 18 Dec 2010 14:50:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 13529 invoked by uid 99); 18 Dec 2010 14:50:07 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 18 Dec 2010 14:50:07 +0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FREEMAIL_FROM,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [98.138.90.124] (HELO web121703.mail.ne1.yahoo.com) (98.138.90.124)
    by apache.org (qpsmtpd/0.29) with SMTP; Sat, 18 Dec 2010 14:50:00 +0000
Received: (qmail 90543 invoked by uid 60001); 18 Dec 2010 14:49:39 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1292683779; bh=eCgPVMhmLXL7iqpuljMGCcaxdSudXPTMjhqWBAWUb7c=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=NK4eElfmQZHZh6eKz7+yKyydbnrNVYxaUMiVRD+Tsh1Pjhy3h7pNmRrZG/loTb2T8CseqPYDqOGE8wQcfabx70yDzVK/z0fbELFXE+eJJFvQmwHgdUwIrYCIU9G3w74PW2XUW+Zj05A02zlhJnWzJKVAJKYscU1+0VRMZfZYYhg=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=YfC3Ruqqq34VVQwX9tMZgstwz5m4wDWBmi+f99bUT3K1JBnxIc77Ji1Zp9ib/gtbMQ0rAIAnrgi6f/WHClSLl9FBnqGEdbk4bwJx5+KorPbHKZSy+q2p/5xmNJ6asyJ9E/sOYefbKtyYVDMF3pWFE9SW1ZiR8+++B6vgD0hWt7g=;
Message-ID: <292381.90424.qm@web121703.mail.ne1.yahoo.com>
X-YMail-OSG: JHG1Ih8VM1kxiKpeboZBzB0xEUqyXk9ccfm3L0luPvBsGnz
 V4IU8H0.y46KeF.4CxhfenKmePg57sbvXTzd2QW5c7lCl4u80_LV9E2yQDBL
 8I1dJadTt3pIrSAdzk1tn.WQXPKr4gGefI_AbcPHbGovPXORT45jzTEYkIm6
 UTQcrGMx8XQVrXqNHzgzUjRRFTk.v3Yr7DZOOD7jLFeK4HZVbu9MH6H4tFww
 2fwiDAghUxlwhJ4k4Etukpw9VVVhUfPxUoTDQJPkaO8_oy6RrKCe5Hwt0UaJ
 nLcJ9zlfTEZ_g5UacFUowYw--
Received: from [78.161.200.143] by web121703.mail.ne1.yahoo.com via HTTP; Sat, 18 Dec 2010 06:49:39 PST
X-Mailer: YahooMailClassic/11.4.20 YahooMailWebService/0.8.107.285259
Date: Sat, 18 Dec 2010 06:49:39 -0800 (PST)
From: Ahmet Arslan <iorixxx@yahoo.com>
Subject: Re: Multifield query parser
To: java-user@lucene.apache.org
In-Reply-To: <AANLkTi=a8-S=MhBr30gA7arPDGJ62tun33MWkW8R4zqn@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii

> While searching across multiple fields using
> MultiFieldQueryParser, when a
> doc is returned how do I know in this doc which field(among
> the multiple
> fields i queried over) contained the query term?

You can extract that info from org.apache.lucene.search.Explanation.

http://lucene.apache.org/java/2_9_3/api/core/org/apache/lucene/search/Explanation.html


      

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48148-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Dec 19 21:35:43 2010
Return-Path: <java-user-return-48148-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 98993 invoked from network); 19 Dec 2010 21:35:42 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 19 Dec 2010 21:35:42 -0000
Received: (qmail 55018 invoked by uid 500); 19 Dec 2010 21:35:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 54416 invoked by uid 500); 19 Dec 2010 21:35:36 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53913 invoked by uid 99); 19 Dec 2010 21:35:36 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 19 Dec 2010 21:35:36 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aserba@gmail.com designates 209.85.216.48 as permitted sender)
Received: from [209.85.216.48] (HELO mail-qw0-f48.google.com) (209.85.216.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 19 Dec 2010 21:35:30 +0000
Received: by qwh6 with SMTP id 6so2354478qwh.35
        for <multiple recipients>; Sun, 19 Dec 2010 13:35:09 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:cc:content-type
         :content-transfer-encoding;
        bh=d7P3RS0PAFivyGlgAU1g/hfNaL/YOFt5VgWjglokn1k=;
        b=uhktwl7aqfVOHFJUyipJvSg9YySdUy6euZX9zEGBy6qx/dvqtsieuoXYoew0i1Ij2l
         dQBHYmu8xmKoOx43keIHDrqh37EQjL7wwAt2mEBTQanNsNNCp+w1dz1EKl5Sz++fmY3y
         fb05ePMN+Eq9QR1UY5aaXBzscgxnTF3CNhI7o=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :cc:content-type:content-transfer-encoding;
        b=l4+8ltxOPKX7cQEisFQcasFzZWlzK+Nh4Ph/xQ6kzdjhSYk8BxrFMAHY+9fjMMy3A7
         5ZdF4Dc9NpjDTl4G5bwVDZQZYpbk/cxkAxd9M7jvzcnmhq95j2Qrj7eUxsMea/HVW76O
         WMWRxPdiF6tIEDAxflx3a8S7gOSoJV1iRR+qo=
MIME-Version: 1.0
Received: by 10.229.229.18 with SMTP id jg18mr1955169qcb.276.1292794509160;
 Sun, 19 Dec 2010 13:35:09 -0800 (PST)
Received: by 10.229.248.202 with HTTP; Sun, 19 Dec 2010 13:35:09 -0800 (PST)
In-Reply-To: <AANLkTimQ2W2x95P8hT52ODSerQ+EvdZhiipVorze5Fe=@mail.gmail.com>
References: <AANLkTimQ2W2x95P8hT52ODSerQ+EvdZhiipVorze5Fe=@mail.gmail.com>
Date: Mon, 20 Dec 2010 00:35:09 +0300
Message-ID: <AANLkTik8swH818V7qA8mM+ND-ycVFMOjg7TBActu4CBj@mail.gmail.com>
Subject: Re: Custom scoring for searhing geographic objects
From: Alexey Serba <aserba@gmail.com>
To: java-user@lucene.apache.org
Cc: solr-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

Hi Pavel,

I had the similar problem several years ago - I had to find
geographical locations in textual descriptions, geocode these objects
to lat/long during indexing process and allow users to filter/sort
search results to specific geographical areas. The important issue was
that there were several types of geographical objects - street < town
< region < country. The idea was to geocode to most narrow
geographical area as possible. Relevance logic in this case could be
specified as "find the most narrow result that is unique identified by
your text or search query".  So I came up with custom algorithm that
was quite good in terms of performance and precision/recall. Here's
the simple description:
* You can intersect all text/searchquery terms with locations
dictionary to find only geo terms
* Search in your locations Lucene index and filter only street objects
(the most narrow areas). Due to tf*idf formula you'll get the most
relevant results. Then you need to post process N (3/5/10) results and
verify that they are matches indeed. I did intersect search terms with
result's terms and make another lucene search to verify if these terms
are unique identifying the match. If it's then return matching street.
If there's no any match proceed using the same algorithm with towns,
regions, countries.

HTH,
Alexey

On Wed, Dec 15, 2010 at 6:28 PM, Pavel Minchenkov <chardex@gmail.com> wrote=
:
> Hi,
> Please give me advise how to create custom scoring. I need to result that
> documents were in order, depending on how popular each term in the docume=
nt
> (popular =3D how many times it appears in the index) and length of the
> document (less terms - higher in search results).
>
> For example, index contains following data:
>
> ID =A0 =A0| SEARCH_FIELD
> ------------------------------
> 1 =A0 =A0 | Russia
> 2 =A0 =A0 | Russia, Moscow
> 3 =A0 =A0 | Russia, Volgograd
> 4 =A0 =A0 | Russia, Ivanovo
> 5 =A0 =A0 | Russia, Ivanovo, Altayskaya street 45
> 6 =A0 =A0 | Russia, Moscow, Kremlin
> 7 =A0 =A0 | Russia, Moscow, Altayskaya street
> 8 =A0 =A0 | Russia, Moscow, Altayskaya street 15
> 9 =A0 =A0 | Russia, Moscow, Altayskaya street 15/26
>
>
> And I should get next results:
>
>
> Query =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 | Document result set
> ----------------------------------------------
> Russia =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0| 1,2,4,3,6,7,8,9,5
> Moscow =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0| 2,6,7,8,9
> Ivanovo =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0| 4,5
> Altayskaya =A0 =A0 =A0 =A0 =A0 =A0 =A0| 7,8,9,5
>
> In fact --- it is a search for geographic objects (cities, streets, house=
s).
> At the same time can be given only part of the address, and the results
> should appear the most relevant results.
>
> Thanks.
> --
> Pavel Minchenkov
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48149-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Dec 20 05:12:05 2010
Return-Path: <java-user-return-48149-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78583 invoked from network); 20 Dec 2010 05:12:05 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 20 Dec 2010 05:12:05 -0000
Received: (qmail 66303 invoked by uid 500); 20 Dec 2010 05:12:03 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66170 invoked by uid 500); 20 Dec 2010 05:12:03 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66156 invoked by uid 99); 20 Dec 2010 05:12:02 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 20 Dec 2010 05:12:02 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ridabenjelloun@gmail.com designates 209.85.214.176 as permitted sender)
Received: from [209.85.214.176] (HELO mail-iw0-f176.google.com) (209.85.214.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 20 Dec 2010 05:11:57 +0000
Received: by iwn2 with SMTP id 2so3259149iwn.35
        for <java-user@lucene.apache.org>; Sun, 19 Dec 2010 21:11:37 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:sender:received:date
         :x-google-sender-auth:message-id:subject:from:to:content-type;
        bh=CL49TXeVrx8kmSBIHdVOIegJ8l834ZAyvRSNHybuMbc=;
        b=AuNSbrREkUApHXaNl8yhycFsPm1W5w8PO42CANCQiMQFkcwrRFx/PeaM+yYUozJy3+
         cliRyIlHtprVRG3X/YgyzrAHtNkKQGycuVIu/jLsM85TWW1h/xc04hwCb9GAVB8Z8Ytw
         sbWkw/3Qcvx+10O9EYCvOyvZvDVkRjmLWOMag=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:sender:date:x-google-sender-auth:message-id:subject
         :from:to:content-type;
        b=D+xoVEZB0gFWPpr/781w7FEKvlCatMtSrS7ezfepPhgAGVm7xd5peVe/GutK12Q/Xy
         DxcOC/18qU0IkQjLh7PkLKqBZZd5qGdLvCV8YOUH0G/DitQ0sz96uqU39kEQMsQvS0Rj
         2PRWh3YJjfpYCtfp6T57EWMaXSMbRU058RV6o=
MIME-Version: 1.0
Received: by 10.42.229.5 with SMTP id jg5mr3679128icb.353.1292821897271; Sun,
 19 Dec 2010 21:11:37 -0800 (PST)
Sender: ridabenjelloun@gmail.com
Received: by 10.42.219.69 with HTTP; Sun, 19 Dec 2010 21:11:37 -0800 (PST)
Date: Mon, 20 Dec 2010 00:11:37 -0500
X-Google-Sender-Auth: jYmprdASH5nX_BC36hSxiW3bSQ8
Message-ID: <AANLkTikZW8Ait6y-aYS0GY5c17+rcSz+W9txgOawM57i@mail.gmail.com>
Subject: The Constellio team is proud to release its version 1.1
From: Rida Benjelloun <rida.benjelloun@doculibre.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=20cf30549a5df1d8b80497d08d56

--20cf30549a5df1d8b80497d08d56
Content-Type: text/plain; charset=ISO-8859-1

The Constellio team is proud to release its version 1.1

Constellio Open Source Enterprise Search is based on Apache Solr and using
Google Search Appliances connectors architecture, it allows, with a single
click, to find all relevant content in your organization (Web, email, ECM,
CRM etc.).

Please be advised that the GPL v.3.0 Constellio licence has been changed for
the version LGPL v.3.0.

The new licence LGPL v.3.0 gives more flexibility to developers interested
in plugs-in/modules development or the integration of Constellio to other
solutions. The SVN (svn.constellio.com) and the issue tracker (
issues.constellio.com) are now also open.

Many important changes have been done in this new version.

Here are some of new features developed in the 1.1 version:

   - Constellio multi-platform installer
   - Federeted search
   - Document security
   - Autocomplete for simple search base on most popular queries
   - Configurable advanced search interface and autocomplete based on field
content
   - Solr connector (upload your schema.xml and content - xml and binary -
files)
   - Activation of Solr HTTP Web services and make Constellio spell checker
available through these services
   - Implementation of multiselect faceting
   - Configuration of display fields
   - Documents consultation used in the relevance calculation of search
results
   - Add field boost, document boost, and Solr dismax (relevance)
   - Add Carrot2 for faceting
   - Web crawler improvements
   - Add new theme
   - and more ...
 Your comments/suggestions are also welcomed !


-- 
---------------------------------------------------------
Rida Benjelloun
Constellio -  Doculibre
ridabenjelloun@apache.org
rida.benjelloun@doculibre.com
---------------------------------------------------------

--20cf30549a5df1d8b80497d08d56--

From java-user-return-48150-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Dec 20 07:40:31 2010
Return-Path: <java-user-return-48150-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 26247 invoked from network); 20 Dec 2010 07:40:31 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 20 Dec 2010 07:40:31 -0000
Received: (qmail 36535 invoked by uid 500); 20 Dec 2010 07:40:29 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36165 invoked by uid 500); 20 Dec 2010 07:40:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 36156 invoked by uid 99); 20 Dec 2010 07:40:28 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 20 Dec 2010 07:40:28 +0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=FREEMAIL_FROM,MIME_QP_LONG_LINE,RCVD_IN_DNSWL_NONE,RFC_ABUSE_POST,SPF_NEUTRAL,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [121.101.151.226] (HELO nm4.bullet.mail.in.yahoo.com) (121.101.151.226)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 20 Dec 2010 07:40:20 +0000
Received: from [121.101.151.238] by nm4.bullet.mail.in.yahoo.com with NNFMP; 20 Dec 2010 07:40:06 -0000
Received: from [121.101.151.232] by tm3.bullet.mail.in.yahoo.com with NNFMP; 20 Dec 2010 07:40:01 -0000
Received: from [127.0.0.1] by omp1001.mail.in.yahoo.com with NNFMP; 20 Dec 2010 07:40:21 -0000
X-Yahoo-Newman-Id: 40776.51885.bm@omp1001.mail.in.yahoo.com
Received: (qmail 72011 invoked from network); 20 Dec 2010 07:39:57 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.in;
  h=DKIM-Signature:Received:X-Yahoo-SMTP:X-YMail-OSG:X-Yahoo-Newman-Property:Message-ID:From:To:References:Subject:Date:MIME-Version:Content-Type:Content-Transfer-Encoding:X-Priority:X-MSMail-Priority:X-Mailer:X-MimeOLE;
  b=qNtyVcVnbmNgNaHPPh7CKEVP6IMqwyaDSDiEeF2XrA5DVzoh7stPDzSfx+8Sx1rwtn0jvLtqNqOP0m2zCkrfF734z3YZmMZgL4dRPXFRvqc9kBAMQJwjTrKfkyVNqfwANlcTTk9dBgbuUkvAbzCL45s37+I84fthhBpPCShLTlM=  ;
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.co.in; s=s1024; t=1292830797; bh=V1trC6Glb64u4N6rOIkq/dFEiC8oH4bo0GcuNiMkJC4=; h=Received:X-Yahoo-SMTP:X-YMail-OSG:X-Yahoo-Newman-Property:Message-ID:From:To:References:Subject:Date:MIME-Version:Content-Type:Content-Transfer-Encoding:X-Priority:X-MSMail-Priority:X-Mailer:X-MimeOLE; b=TLcauEUI/dpmmLRsHbvhMDrD+RcWv7eCKAELsE7iDavxD4niqhBPT/GctY90MBLh7eAFcwiBZQNyq24LR70F31cw6BAhwqqPk1mtC/1oAUHkPDOhFU4rE6jb5mGJDxVpcHH/LTK92IeSAsHX2HHdIhuBrXnG6H0KzfrI1f9S/Eo=
Received: from GaneshM (emailgane@121.244.159.130 with login)
        by smtp104.mail.in.yahoo.com with SMTP; 20 Dec 2010 13:09:57 +0530 IST
X-Yahoo-SMTP: JObyHkuswBBrNSLZp.Ycd7Boqpr_GQ--
X-YMail-OSG: 2zDXeGoVM1mHP76heEAWX44yQBiumySP83.2WM0Eb.cfw6b
 J3CEV7M9y1.4YfPufb6QV3AFNRJwgTQ_6g3C1pOXJuX8BnoipT3fW8HczxhX
 dQqTtjG5wFzFF_O4dhcuXqY3J1kh2sFrXsXjSpRGD049x9hL3lkPfUtjQnhd
 aCqsq_eyjdvqKVpIS6p4LTheYLAyhGZqrTfdL.2oQz9R_V.WhXTA7lQSO1C0
 kwwzzkE24kDhesoJ1tzfXVR3_CNVP6J9zNL4o4FGp7tyayd0p3Q--
X-Yahoo-Newman-Property: ymail-3
Message-ID: <2A4F903F65174B92AA6863A5CBDB7B12@sv.us.sonicwall.com>
From: "Ganesh" <emailgane@yahoo.co.in>
To: <java-user@lucene.apache.org>
References: <0FD59CD8A2DF49D5AAB65412A8F43297@sv.us.sonicwall.com> <AANLkTimN2xt6stZ049TC95HZp7=tdoNeg_cqCxxZx6iG@mail.gmail.com> <7C07295C4C3A410B989D9334001248B7@sv.us.sonicwall.com> <AANLkTi=+zFAKqEi9ghXT7oNNag5a2bKVTiOtGxdHMASw@mail.gmail.com> <8707487473613519815@unknownmsgid> <AANLkTi=YmMa15u3AUvd2X=G-Cnm-NvNxCxL0mN9e0vUa@mail.gmail.com> <16B30E8CC7BF41A0BB8D0D3E7E732CFA@sv.us.sonicwall.com> <1292411176.19302.168.camel@te-prime> <7409CFE47DFB4B26AEE7D3E684C86E0E@sv.us.sonicwall.com> <1292496638.19302.389.camel@te-prime>
Subject: Re: Re: Scale up design
Date: Mon, 20 Dec 2010 13:09:56 +0530
MIME-Version: 1.0
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.5931
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.5931
X-Virus-Checked: Checked by ClamAV on apache.org

I have done some benchmarking and based on that my estimate of RAM =
requirement would be 3 - 4 GB. My question is to go for 64 bit or scale =
out with 3 systems?

Regards
Ganesh
 =20
----- Original Message -----=20
From: "Toke Eskildsen" <te@statsbiblioteket.dk>
To: <java-user@lucene.apache.org>
Sent: Thursday, December 16, 2010 4:20 PM
Subject: Re: Re: Scale up design


> On Thu, 2010-12-16 at 06:59 +0100, Ganesh wrote:
>> 250 GB of data, 40 GB of Index Size, 60 million records is
>> working fine with 1 GB RAM. We are storing minmal amount
>> of data in index. We are doing sorting on Date. Even in
>> single system, the database are shard.
>=20
> Looking back in the list, I see that you're sharding on weeks with 50+
> weeks in the index.
>=20
>> build hosted solution. This stats will
>> increase by minimum 10 times in 2 - 3 years. I plan to use
>> 64 Bit, with 8 - 10 GB RAM allocated to JVM.
>=20
> When making a conservative estimate and multiplying with 10, you must
> remember to do the same for the system memory available for disk =
cache.
>=20
> If your shards are searched sequentially, you could measure the =
response
> time for a single shard (after warm up and with different queries), =
then
> create a test-shard by merging 10 shards and measure response-time for
> that. Subtracting the two numbers (to remove the overhead of the
> front-end layer) and multiplying with 50 should give you a rough
> estimate for the performance of an upscaled setup.
>=20
> Another measurement suggestion: Divide the current performance of the
> full setup with the performance of a single shard, then multiply the
> performance of a single created by merging 10 shards with that number.
>=20
> Regards,
> Toke Eskildsen
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
Send free SMS to your Friends on Mobile from your Yahoo! Messenger. Download Now! http://messenger.yahoo.com/download.php

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48151-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Dec 20 08:41:42 2010
Return-Path: <java-user-return-48151-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 48064 invoked from network); 20 Dec 2010 08:41:42 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 20 Dec 2010 08:41:42 -0000
Received: (qmail 83657 invoked by uid 500); 20 Dec 2010 08:41:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 83284 invoked by uid 500); 20 Dec 2010 08:41:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 83271 invoked by uid 99); 20 Dec 2010 08:41:39 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 20 Dec 2010 08:41:39 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of simon.willnauer@googlemail.com designates 209.85.216.169 as permitted sender)
Received: from [209.85.216.169] (HELO mail-qy0-f169.google.com) (209.85.216.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 20 Dec 2010 08:41:33 +0000
Received: by qyk7 with SMTP id 7so3335704qyk.14
        for <java-user@lucene.apache.org>; Mon, 20 Dec 2010 00:41:12 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=googlemail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:reply-to
         :in-reply-to:references:date:message-id:subject:from:to:content-type;
        bh=otx3jeCLs4On5BO3IRkq7F4tUaxCzK6kM4MRKS4ktFo=;
        b=mzQT99JazuHc+xPdLws48atgSnRlLSnLGWHCyADUmQDO1L6cZ5NGZ4sDHOki05aoNT
         sqOqvF//+mgXe8fTG+Qu5lPC+gkwq8DZrPhHuJExfn+Xd0JdAGAYHvOP8VAKLXlifWM2
         WAZ2Nn8wrt1GzdsfJxU5kzDll2SulfjQGmEcY=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=googlemail.com; s=gamma;
        h=mime-version:reply-to:in-reply-to:references:date:message-id
         :subject:from:to:content-type;
        b=lZutgdRdYXdXmXaF9uU7PX0o1igUppZY5nU4MhTtdwYVp14tBu6hOCnzLXFYo139hr
         qh9ZWhzDXz68X+B30mxs62G0jRgL7S+FdnFdk6jF1hhUAfEVEb6Gx1YYvbPKPHhuQXmh
         F7sR7rmdRSyTsv8FMNmVmiuURofoeiU6ydbcw=
MIME-Version: 1.0
Received: by 10.229.183.147 with SMTP id cg19mr3671949qcb.37.1292834472526;
 Mon, 20 Dec 2010 00:41:12 -0800 (PST)
Received: by 10.220.183.4 with HTTP; Mon, 20 Dec 2010 00:41:12 -0800 (PST)
Reply-To: simon.willnauer@gmail.com
In-Reply-To: <2A4F903F65174B92AA6863A5CBDB7B12@sv.us.sonicwall.com>
References: <0FD59CD8A2DF49D5AAB65412A8F43297@sv.us.sonicwall.com>
	<AANLkTimN2xt6stZ049TC95HZp7=tdoNeg_cqCxxZx6iG@mail.gmail.com>
	<7C07295C4C3A410B989D9334001248B7@sv.us.sonicwall.com>
	<AANLkTi=+zFAKqEi9ghXT7oNNag5a2bKVTiOtGxdHMASw@mail.gmail.com>
	<8707487473613519815@unknownmsgid>
	<AANLkTi=YmMa15u3AUvd2X=G-Cnm-NvNxCxL0mN9e0vUa@mail.gmail.com>
	<16B30E8CC7BF41A0BB8D0D3E7E732CFA@sv.us.sonicwall.com>
	<1292411176.19302.168.camel@te-prime>
	<7409CFE47DFB4B26AEE7D3E684C86E0E@sv.us.sonicwall.com>
	<1292496638.19302.389.camel@te-prime>
	<2A4F903F65174B92AA6863A5CBDB7B12@sv.us.sonicwall.com>
Date: Mon, 20 Dec 2010 09:41:12 +0100
Message-ID: <AANLkTimJgJio_F2-taGpfE6GGD-AmY3NFyFapKuEsdGE@mail.gmail.com>
Subject: Re: Re: Scale up design
From: Simon Willnauer <simon.willnauer@googlemail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Mon, Dec 20, 2010 at 8:39 AM, Ganesh <emailgane@yahoo.co.in> wrote:
> I have done some benchmarking and based on that my estimate of RAM requirement would be 3 - 4 GB. My question is to go for 64 bit or scale out with 3 systems?
What keeps you from moving to 64bit, I mean if you have those RAM req.
for JAVA HeapSpace I don't see much of a choice. You could try some
address space extensions which are around but I don't think its worth
it. Any reason why you hesitate?

simon
>
> Regards
> Ganesh
>
> ----- Original Message -----
> From: "Toke Eskildsen" <te@statsbiblioteket.dk>
> To: <java-user@lucene.apache.org>
> Sent: Thursday, December 16, 2010 4:20 PM
> Subject: Re: Re: Scale up design
>
>
>> On Thu, 2010-12-16 at 06:59 +0100, Ganesh wrote:
>>> 250 GB of data, 40 GB of Index Size, 60 million records is
>>> working fine with 1 GB RAM. We are storing minmal amount
>>> of data in index. We are doing sorting on Date. Even in
>>> single system, the database are shard.
>>
>> Looking back in the list, I see that you're sharding on weeks with 50+
>> weeks in the index.
>>
>>> build hosted solution. This stats will
>>> increase by minimum 10 times in 2 - 3 years. I plan to use
>>> 64 Bit, with 8 - 10 GB RAM allocated to JVM.
>>
>> When making a conservative estimate and multiplying with 10, you must
>> remember to do the same for the system memory available for disk cache.
>>
>> If your shards are searched sequentially, you could measure the response
>> time for a single shard (after warm up and with different queries), then
>> create a test-shard by merging 10 shards and measure response-time for
>> that. Subtracting the two numbers (to remove the overhead of the
>> front-end layer) and multiplying with 50 should give you a rough
>> estimate for the performance of an upscaled setup.
>>
>> Another measurement suggestion: Divide the current performance of the
>> full setup with the performance of a single shard, then multiply the
>> performance of a single created by merging 10 shards with that number.
>>
>> Regards,
>> Toke Eskildsen
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
> Send free SMS to your Friends on Mobile from your Yahoo! Messenger. Download Now! http://messenger.yahoo.com/download.php
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48152-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Dec 21 03:51:33 2010
Return-Path: <java-user-return-48152-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13716 invoked from network); 21 Dec 2010 03:51:32 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 21 Dec 2010 03:51:32 -0000
Received: (qmail 59161 invoked by uid 500); 21 Dec 2010 03:51:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58329 invoked by uid 500); 21 Dec 2010 03:51:27 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58312 invoked by uid 99); 21 Dec 2010 03:51:25 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Dec 2010 03:51:25 +0000
X-ASF-Spam-Status: No, hits=3.7 required=10.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of manjula53@gmail.com designates 209.85.216.169 as permitted sender)
Received: from [209.85.216.169] (HELO mail-qy0-f169.google.com) (209.85.216.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Dec 2010 03:51:19 +0000
Received: by qyk7 with SMTP id 7so4328643qyk.14
        for <java-user@lucene.apache.org>; Mon, 20 Dec 2010 19:50:58 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:date:message-id
         :subject:from:to:content-type;
        bh=5YwM1SCaQ8u1eFycYfN8nIBgTgTAbVQuh9SpcSBZIt4=;
        b=nhqCyyjAJDgggDUf107dTQ4ST9RzjkWt+Ib6CDo6Um1Xw5coxgr9KrTGAWxuX5xU6B
         9mpv1muYlPZScKrAeIfctOGjzmytSXNeC9iWJSB/8yPJ4EJdQuOjSggcgL/AQRh04wDi
         gKgIk7gbYG0tLhQxc01l7FRL9Fk788V9nVHLQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=gOvPvnE9fpUf5kI77d7eVlmtBCuoIkZFF0foxK5B9s5hALu6dDVFTJcwtnxE2CPPgK
         XWkFhCASnbHei/ii6SBZfQUYtxAHHOfG8o/jNnNFwT3UKLpbSEhRnxPWXgPMKesv7DV/
         OK4LBnyr1T+DiWwU6Xl9OmGlBRXZRUFVo3O3c=
MIME-Version: 1.0
Received: by 10.224.28.66 with SMTP id l2mr4862721qac.14.1292903458195; Mon,
 20 Dec 2010 19:50:58 -0800 (PST)
Received: by 10.220.181.3 with HTTP; Mon, 20 Dec 2010 19:50:58 -0800 (PST)
Date: Tue, 21 Dec 2010 09:20:58 +0530
Message-ID: <AANLkTikkBaeNznkf-RvJpQYJWTWVSzEdENC9X4NiKYen@mail.gmail.com>
Subject: Editing StopWordList
From: manjula wijewickrema <manjula53@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0015175cb17a5aca170497e38b01

--0015175cb17a5aca170497e38b01
Content-Type: text/plain; charset=ISO-8859-1

Hi,

1) In my application, I need to add more words to the stop word list.
Therefore, is it possible to add more words into the default lucene stop
word list?

2) If is it possible, then how can I do this?

Appreciate any comment from you.

Thanks,
Manjula.

--0015175cb17a5aca170497e38b01--

From java-user-return-48153-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Dec 21 05:07:46 2010
Return-Path: <java-user-return-48153-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 60822 invoked from network); 21 Dec 2010 05:07:46 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 21 Dec 2010 05:07:46 -0000
Received: (qmail 24060 invoked by uid 500); 21 Dec 2010 05:07:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 23610 invoked by uid 500); 21 Dec 2010 05:07:43 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 23600 invoked by uid 99); 21 Dec 2010 05:07:43 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Dec 2010 05:07:43 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of anshumg@gmail.com designates 74.125.82.176 as permitted sender)
Received: from [74.125.82.176] (HELO mail-wy0-f176.google.com) (74.125.82.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Dec 2010 05:07:37 +0000
Received: by wye20 with SMTP id 20so3831148wye.35
        for <java-user@lucene.apache.org>; Mon, 20 Dec 2010 21:07:16 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:in-reply-to
         :references:from:date:message-id:subject:to:content-type;
        bh=gVNVFq8v3pOsJva5n1wGTKqTXcT6yW08j5aRTGLG7ZA=;
        b=h917uOZ1qdYDp3BUgP+barAZe1vcW2I2oMC7luCEmxv91kaVSzR9NUhZ6gHuGzPzAK
         RdqkvEE/mMrEpTooMEejV18YtaeaqO9xKa54FmIVPiNodRWsnGMwJySgb+6wFxGAYaoB
         ARVVhpmmO94bc5NuFUXllfg54VmYCthigSQgc=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=LxISB6l725FjvEvz0abUwAWqNbOg1BlIxEbeI79v+CltjtHuoq06BOpaJKICKWRZpQ
         33bo0d8gpYdtdLw42t36QcB2JMtqd2g88v9+sY9h6CpP1OtcPYAvNGUFrgTUXpIVxg9C
         rLWOQizdWt48hx3DoE4JOgtBcheXOZOa1cDvk=
Received: by 10.227.141.71 with SMTP id l7mr3103853wbu.119.1292908036385; Mon,
 20 Dec 2010 21:07:16 -0800 (PST)
MIME-Version: 1.0
Received: by 10.227.149.6 with HTTP; Mon, 20 Dec 2010 21:06:56 -0800 (PST)
In-Reply-To: <AANLkTikkBaeNznkf-RvJpQYJWTWVSzEdENC9X4NiKYen@mail.gmail.com>
References: <AANLkTikkBaeNznkf-RvJpQYJWTWVSzEdENC9X4NiKYen@mail.gmail.com>
From: Anshum <anshumg@gmail.com>
Date: Tue, 21 Dec 2010 10:36:56 +0530
Message-ID: <AANLkTintzSQO-rEP+9pBWME5vsafKmDJ+1J_98F+mPhz@mail.gmail.com>
Subject: Re: Editing StopWordList
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016364d2ac13c6ab80497e49c84

--0016364d2ac13c6ab80497e49c84
Content-Type: text/plain; charset=ISO-8859-1

Hi Manjula,
You could initialize the Analyzer using a modified stop word set. Use
the *StopAnalyzer.ENGLISH_STOP_WORDS_SET
*to get the default stopset and then add your own words to it. You could
then initialize the analyzer using this new stop set instead of the default
stop set.
Hope that helps.

--
Anshum Gupta
http://ai-cafe.blogspot.com


On Tue, Dec 21, 2010 at 9:20 AM, manjula wijewickrema
<manjula53@gmail.com>wrote:

> Hi,
>
> 1) In my application, I need to add more words to the stop word list.
> Therefore, is it possible to add more words into the default lucene stop
> word list?
>
> 2) If is it possible, then how can I do this?
>
> Appreciate any comment from you.
>
> Thanks,
> Manjula.
>

--0016364d2ac13c6ab80497e49c84--

From java-user-return-48154-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Dec 21 10:18:52 2010
Return-Path: <java-user-return-48154-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15009 invoked from network); 21 Dec 2010 10:18:51 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 21 Dec 2010 10:18:51 -0000
Received: (qmail 2673 invoked by uid 500); 21 Dec 2010 10:18:49 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2204 invoked by uid 500); 21 Dec 2010 10:18:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2189 invoked by uid 99); 21 Dec 2010 10:18:47 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Dec 2010 10:18:47 +0000
X-ASF-Spam-Status: No, hits=4.2 required=10.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,FREEMAIL_FROM,SPF_NEUTRAL,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: 216.139.236.26 is neither permitted nor denied by domain of romijain3186@gmail.com)
Received: from [216.139.236.26] (HELO sam.nabble.com) (216.139.236.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Dec 2010 10:18:41 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by sam.nabble.com with esmtp (Exim 4.69)
	(envelope-from <romijain3186@gmail.com>)
	id 1PUzIS-0006fY-Eu
	for java-user@lucene.apache.org; Tue, 21 Dec 2010 02:18:20 -0800
Date: Tue, 21 Dec 2010 02:18:20 -0800 (PST)
From: Romi <romijain3186@gmail.com>
To: java-user@lucene.apache.org
Message-ID: <1292926700434-2125264.post@n3.nabble.com>
Subject: FieldComparator.compare(int slot1, int slot2)
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org


Hi,
   We are migrating from Lucene2.4 to Lucene3.0.2. Please tell me in
FieldComparator how i access int slot in compare(int slot1, int slot2) which
was compare(ScoreDoc i, ScoreDoc j) in ScoreDocComparator.
and what this slot indicates here.


-----
Romi
-- 
View this message in context: http://lucene.472066.n3.nabble.com/FieldComparator-compare-int-slot1-int-slot2-tp2125264p2125264.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48155-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Dec 21 10:25:20 2010
Return-Path: <java-user-return-48155-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15921 invoked from network); 21 Dec 2010 10:25:20 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 21 Dec 2010 10:25:20 -0000
Received: (qmail 9707 invoked by uid 500); 21 Dec 2010 10:25:18 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9478 invoked by uid 500); 21 Dec 2010 10:25:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 9465 invoked by uid 99); 21 Dec 2010 10:25:17 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Dec 2010 10:25:17 +0000
X-ASF-Spam-Status: No, hits=3.7 required=10.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of manjula53@gmail.com designates 209.85.216.169 as permitted sender)
Received: from [209.85.216.169] (HELO mail-qy0-f169.google.com) (209.85.216.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Dec 2010 10:25:09 +0000
Received: by qyk7 with SMTP id 7so4584093qyk.14
        for <java-user@lucene.apache.org>; Tue, 21 Dec 2010 02:24:48 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=YFPMiiUzvHbhRgIPoLDAQmy8GC51oXG4oIlbZJYq2zo=;
        b=Cnq+n3F+a5TbHAoYR0WcTybwi0Vvt3t7IQd8d/KjOZkNUeMWcOJFUj/QRC6STDstur
         yB2oEFQ8gUJ/+ULQYAOl7XnFHudp0oEL3NzpJr92taB5sjEBZetQx0VcT7TQgemWvfwA
         ibA1Bnt45WhHzlGq98KBlUQWxhattL4j0gvtU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=P+uTT6F5zh6Pxazs4gYLYBeb3FrSJ3e2zPDK17YULJT594xoxkn3lyj2EhDRDAlj6C
         IBDbL5sRbgpx2pXdvI1a/Wkb3nm8MYpoVTr8Ttr2fbG/h+knQv1vp5GbLKd7WmKJuXwh
         1U63y9SWhR4CyIisNSSXNaF9pCh2wqoW45QUQ=
MIME-Version: 1.0
Received: by 10.229.74.206 with SMTP id v14mr4523664qcj.187.1292927088017;
 Tue, 21 Dec 2010 02:24:48 -0800 (PST)
Received: by 10.220.181.3 with HTTP; Tue, 21 Dec 2010 02:24:47 -0800 (PST)
In-Reply-To: <AANLkTintzSQO-rEP+9pBWME5vsafKmDJ+1J_98F+mPhz@mail.gmail.com>
References: <AANLkTikkBaeNznkf-RvJpQYJWTWVSzEdENC9X4NiKYen@mail.gmail.com>
	<AANLkTintzSQO-rEP+9pBWME5vsafKmDJ+1J_98F+mPhz@mail.gmail.com>
Date: Tue, 21 Dec 2010 15:54:47 +0530
Message-ID: <AANLkTikwhmrdijqYg7Ywn3qu7EdzAS4Md2ViqbcO_4Si@mail.gmail.com>
Subject: Re: Editing StopWordList
From: manjula wijewickrema <manjula53@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=00163646d9afcd42c90497e90b0d
X-Virus-Checked: Checked by ClamAV on apache.org

--00163646d9afcd42c90497e90b0d
Content-Type: text/plain; charset=ISO-8859-1

Hi Gupta,

Thanx a lot for your reply. But I could not understand whether I could
modify (adding more words) to the default stop word list or should I have to
make a new list as an array as follows.
public string[] NEW_STOP_WORDS = { "a", "and", "are", "as", "at", "be",
"but", "by", "for", "if", "in", "into", "is", "no", "not", "of", "on", "or",

"s", "such", "t", "that", "the", "their", "then", "there", "these", "they",
"this", "to", "was", "will", "with",
"inc","incorporated","co.","ltd","ltd.", "we", "you", "your", "us",
etc...};

then call it as follows,

SnowballAnalyzer analyzer = *new* SnowballAnalyzer("English",
StopAnalyzer.NEW_STOP_WORDS );
Am I correct?
Or if not could you explain me how can I do this?

Thanx in advance.
Manjula.

On Tue, Dec 21, 2010 at 10:36 AM, Anshum <anshumg@gmail.com> wrote:

> Hi Manjula,
> You could initialize the Analyzer using a modified stop word set. Use
> the *StopAnalyzer.ENGLISH_STOP_WORDS_SET
> *to get the default stopset and then add your own words to it. You could
> then initialize the analyzer using this new stop set instead of the default
> stop set.
> Hope that helps.
>
> --
> Anshum Gupta
> http://ai-cafe.blogspot.com
>
>
> On Tue, Dec 21, 2010 at 9:20 AM, manjula wijewickrema
> <manjula53@gmail.com>wrote:
>
> > Hi,
> >
> > 1) In my application, I need to add more words to the stop word list.
> > Therefore, is it possible to add more words into the default lucene stop
> > word list?
> >
> > 2) If is it possible, then how can I do this?
> >
> > Appreciate any comment from you.
> >
> > Thanks,
> > Manjula.
> >
>

--00163646d9afcd42c90497e90b0d--

From java-user-return-48156-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Dec 21 10:32:32 2010
Return-Path: <java-user-return-48156-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17245 invoked from network); 21 Dec 2010 10:32:32 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 21 Dec 2010 10:32:32 -0000
Received: (qmail 19768 invoked by uid 500); 21 Dec 2010 10:32:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19489 invoked by uid 500); 21 Dec 2010 10:32:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19481 invoked by uid 99); 21 Dec 2010 10:32:29 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Dec 2010 10:32:29 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of anshumg@gmail.com designates 74.125.82.176 as permitted sender)
Received: from [74.125.82.176] (HELO mail-wy0-f176.google.com) (74.125.82.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 21 Dec 2010 10:32:21 +0000
Received: by wye20 with SMTP id 20so4042782wye.35
        for <java-user@lucene.apache.org>; Tue, 21 Dec 2010 02:32:01 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:in-reply-to
         :references:from:date:message-id:subject:to:content-type;
        bh=1EHSCUFXC7c9MdXaYkuZ10uC+5JGOBFevjXGk2YkBmI=;
        b=uJQInGqR1l7BupHqpjNv1N9L5GIifcqVE6U0CscB2P/YWZ1kQx71LLyWJA4bSRrohf
         8kSQtlqwsIm8Iy1CkXECuUc7wzjw+znPzmuP0hJdXAlT9rGRnmE6Apl47qH2/HLg78BG
         ZYsumzaarZXLwaNH5eoZFoT9IZ8hzuZqL+O3M=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=LF86Pnun1K0yOpkAP2DQFhSlEWaJoPyf5NriaWgSPwjb3Ww9OLDMe5xleGMWK4MGYe
         ElQijoSjnmOu+K9M0n2PrpTcqaXpp3GQA47iHBxmRAlizrEi7/ZwVu54L1Ik/xrc/cXs
         d9s4fu6cLbpYPTl89wX4hscxIThXTZIIsvV/U=
Received: by 10.227.128.73 with SMTP id j9mr3315905wbs.90.1292927521625; Tue,
 21 Dec 2010 02:32:01 -0800 (PST)
MIME-Version: 1.0
Received: by 10.227.149.6 with HTTP; Tue, 21 Dec 2010 02:31:41 -0800 (PST)
In-Reply-To: <AANLkTikwhmrdijqYg7Ywn3qu7EdzAS4Md2ViqbcO_4Si@mail.gmail.com>
References: <AANLkTikkBaeNznkf-RvJpQYJWTWVSzEdENC9X4NiKYen@mail.gmail.com>
 <AANLkTintzSQO-rEP+9pBWME5vsafKmDJ+1J_98F+mPhz@mail.gmail.com> <AANLkTikwhmrdijqYg7Ywn3qu7EdzAS4Md2ViqbcO_4Si@mail.gmail.com>
From: Anshum <anshumg@gmail.com>
Date: Tue, 21 Dec 2010 16:01:41 +0530
Message-ID: <AANLkTi=YU960UL4fwAS-ATJAGGXdRPQLi-Ke3Pbywr+y@mail.gmail.com>
Subject: Re: Editing StopWordList
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016e65a07a4a596bd0497e9257c
X-Virus-Checked: Checked by ClamAV on apache.org

--0016e65a07a4a596bd0497e9257c
Content-Type: text/plain; charset=ISO-8859-1

The default stopword list is final and so you'd have to copy this to some
other object and add terms to it instead of being able to directly modify
it. So all said and done, what I meant when I said you could use it was that
you could read that object and construct your own set (almost as case 2
below).


--
Anshum Gupta
http://ai-cafe.blogspot.com


On Tue, Dec 21, 2010 at 3:54 PM, manjula wijewickrema
<manjula53@gmail.com>wrote:

> Hi Gupta,
>
> Thanx a lot for your reply. But I could not understand whether I could
> modify (adding more words) to the default stop word list or should I have
> to
> make a new list as an array as follows.
> * public string[] NEW_STOP_WORDS = { "a", "and", "are", "as", "at", "be",
> "but", "by", "for", "if", "in", "into", "is", "no", "not", "of", "on",
> "or",
>
> "s", "such", "t", "that", "the", "their", "then", "there", "these", "they",
> "this", "to", "was", "will", "with",
> "inc","incorporated","co.","ltd","ltd.", "we", "you", "your", "us",
> etc...};
> *
> then call it as follows,
>
> SnowballAnalyzer analyzer = *new* SnowballAnalyzer("English",
> StopAnalyzer.NEW_STOP_WORDS );
> Am I correct?
> Or if not could you explain me how can I do this?
>
> Thanx in advance.
> Manjula.
>
> On Tue, Dec 21, 2010 at 10:36 AM, Anshum <anshumg@gmail.com> wrote:
>
> > Hi Manjula,
> > You could initialize the Analyzer using a modified stop word set. Use
> > the *StopAnalyzer.ENGLISH_STOP_WORDS_SET
> > *to get the default stopset and then add your own words to it. You could
> > then initialize the analyzer using this new stop set instead of the
> default
> > stop set.
> > Hope that helps.
> >
> > --
> > Anshum Gupta
> > http://ai-cafe.blogspot.com
> >
> >
> > On Tue, Dec 21, 2010 at 9:20 AM, manjula wijewickrema
> > <manjula53@gmail.com>wrote:
> >
> > > Hi,
> > >
> > > 1) In my application, I need to add more words to the stop word list.
> > > Therefore, is it possible to add more words into the default lucene
> stop
> > > word list?
> > >
> > > 2) If is it possible, then how can I do this?
> > >
> > > Appreciate any comment from you.
> > >
> > > Thanks,
> > > Manjula.
> > >
> >
>

--0016e65a07a4a596bd0497e9257c--

From java-user-return-48157-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 22 05:02:09 2010
Return-Path: <java-user-return-48157-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15088 invoked from network); 22 Dec 2010 05:02:08 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 22 Dec 2010 05:02:08 -0000
Received: (qmail 77900 invoked by uid 500); 22 Dec 2010 05:02:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 77625 invoked by uid 500); 22 Dec 2010 05:02:02 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 77617 invoked by uid 99); 22 Dec 2010 05:02:01 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Dec 2010 05:02:01 +0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=FREEMAIL_FROM,MIME_QP_LONG_LINE,RCVD_IN_DNSWL_NONE,RFC_ABUSE_POST,SPF_NEUTRAL,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [121.101.151.210] (HELO nm2-vm0.bullet.mail.in.yahoo.com) (121.101.151.210)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 22 Dec 2010 05:01:53 +0000
Received: from [121.101.151.238] by nm2.bullet.mail.in.yahoo.com with NNFMP; 22 Dec 2010 05:01:29 -0000
Received: from [121.101.151.235] by tm3.bullet.mail.in.yahoo.com with NNFMP; 22 Dec 2010 05:01:35 -0000
Received: from [127.0.0.1] by omp1004.mail.in.yahoo.com with NNFMP; 22 Dec 2010 05:01:58 -0000
X-Yahoo-Newman-Id: 609587.59576.bm@omp1004.mail.in.yahoo.com
Received: (qmail 71383 invoked from network); 22 Dec 2010 05:01:31 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.in;
  h=DKIM-Signature:Received:X-Yahoo-SMTP:X-YMail-OSG:X-Yahoo-Newman-Property:Message-ID:From:To:References:Subject:Date:MIME-Version:Content-Type:Content-Transfer-Encoding:X-Priority:X-MSMail-Priority:X-Mailer:X-MimeOLE;
  b=fqNhupKffmuZver6MqS36V0XQ5dcF87F+m+g+BERePjf8NAw287VlFX1BHaXn0qq+avsci/WD5WUIBh0iMb6CJj0snZssDO0fVffq/AwLXHEKPZRpqsCiqN0BdKq9NcVgNftX+tEUk7uvbpGtjoDeOrnJ7UiuWW2fBIkEqwqSOs=  ;
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.co.in; s=s1024; t=1292994091; bh=xHt1mSKLPxYkyR8xHIsCPVwWgSdYdn+ojuXCjFIzpv0=; h=Received:X-Yahoo-SMTP:X-YMail-OSG:X-Yahoo-Newman-Property:Message-ID:From:To:References:Subject:Date:MIME-Version:Content-Type:Content-Transfer-Encoding:X-Priority:X-MSMail-Priority:X-Mailer:X-MimeOLE; b=QV1hnK43zwG3feXTA7PTRy6Lvl1dRf0NmQOtIVcC8TZUS/5PZ+acHOE8JyFrc2H2sG8NWO/1tqcNUFl/g/lK3IqaD4T1J7mP3lFw8+h6vTxueQNT2fkZa9lMo+nbjmglqy8HtpsYiu0NpnNtCJl6FFbwJnh5OA1X8o3nJv4QNqM=
Received: from GaneshM (emailgane@121.244.159.130 with login)
        by smtp109.mail.in.yahoo.com with SMTP; 22 Dec 2010 10:31:31 +0530 IST
X-Yahoo-SMTP: JObyHkuswBBrNSLZp.Ycd7Boqpr_GQ--
X-YMail-OSG: vg1L8UYVM1l1i7wt9BGW0xeP7tgjrmvoBubERkS4W3Y9PC.
 NH7JYGqNAMzcN8L5G5elgA1M_W_V1EXq3XWdOHMREasHy0CPBnj7Ww6E1H4D
 sq.Pd_EVA_YW6fW5PcQUn0FgRBT0r.CL8Fr1BJdyJI_f33QihCbEiywBbk5C
 c.wuaS7Mc6ea2TLcPXgZioyNNZydn1_ZeSyGt8fUur0zkkR88GU79bBc7wUb
 S8ndMe7KXi.8qMYSuVe5FdFUK_q5Zz0cDTXEWnEh3mtuWEAEdIw--
X-Yahoo-Newman-Property: ymail-3
Message-ID: <781DC540F8AA488F838771C2580482BA@sv.us.sonicwall.com>
From: "Ganesh" <emailgane@yahoo.co.in>
To: <java-user@lucene.apache.org>, <simon.willnauer@gmail.com>
References: <0FD59CD8A2DF49D5AAB65412A8F43297@sv.us.sonicwall.com><AANLkTimN2xt6stZ049TC95HZp7=tdoNeg_cqCxxZx6iG@mail.gmail.com><7C07295C4C3A410B989D9334001248B7@sv.us.sonicwall.com><AANLkTi=+zFAKqEi9ghXT7oNNag5a2bKVTiOtGxdHMASw@mail.gmail.com><8707487473613519815@unknownmsgid><AANLkTi=YmMa15u3AUvd2X=G-Cnm-NvNxCxL0mN9e0vUa@mail.gmail.com><16B30E8CC7BF41A0BB8D0D3E7E732CFA@sv.us.sonicwall.com><1292411176.19302.168.camel@te-prime><7409CFE47DFB4B26AEE7D3E684C86E0E@sv.us.sonicwall.com><1292496638.19302.389.camel@te-prime><2A4F903F65174B92AA6863A5CBDB7B12@sv.us.sonicwall.com> <AANLkTimJgJio_F2-taGpfE6GGD-AmY3NFyFapKuEsdGE@mail.gmail.com>
Subject: Re: Re: Scale up design
Date: Wed, 22 Dec 2010 10:31:30 +0530
MIME-Version: 1.0
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.5931
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.5931
X-Virus-Checked: Checked by ClamAV on apache.org

Hello Simon,

I don't hesitate to move to 64 bit. I require a suggestion whether to =
move to 64 bit (Scale up) or scale out with multiple system. I have =
started investigating 64 bit,  i want to know about its performance and =
if anyone in this group has already tried using it.

Regards
Ganesh

----- Original Message -----=20
From: "Simon Willnauer" <simon.willnauer@googlemail.com>
To: <java-user@lucene.apache.org>
Sent: Monday, December 20, 2010 2:11 PM
Subject: Re: Re: Scale up design


> On Mon, Dec 20, 2010 at 8:39 AM, Ganesh <emailgane@yahoo.co.in> wrote:
>> I have done some benchmarking and based on that my estimate of RAM =
requirement would be 3 - 4 GB. My question is to go for 64 bit or scale =
out with 3 systems?
> What keeps you from moving to 64bit, I mean if you have those RAM req.
> for JAVA HeapSpace I don't see much of a choice. You could try some
> address space extensions which are around but I don't think its worth
> it. Any reason why you hesitate?
>=20
> simon
>>
>> Regards
>> Ganesh
>>
>> ----- Original Message -----
>> From: "Toke Eskildsen" <te@statsbiblioteket.dk>
>> To: <java-user@lucene.apache.org>
>> Sent: Thursday, December 16, 2010 4:20 PM
>> Subject: Re: Re: Scale up design
>>
>>
>>> On Thu, 2010-12-16 at 06:59 +0100, Ganesh wrote:
>>>> 250 GB of data, 40 GB of Index Size, 60 million records is
>>>> working fine with 1 GB RAM. We are storing minmal amount
>>>> of data in index. We are doing sorting on Date. Even in
>>>> single system, the database are shard.
>>>
>>> Looking back in the list, I see that you're sharding on weeks with =
50+
>>> weeks in the index.
>>>
>>>> build hosted solution. This stats will
>>>> increase by minimum 10 times in 2 - 3 years. I plan to use
>>>> 64 Bit, with 8 - 10 GB RAM allocated to JVM.
>>>
>>> When making a conservative estimate and multiplying with 10, you =
must
>>> remember to do the same for the system memory available for disk =
cache.
>>>
>>> If your shards are searched sequentially, you could measure the =
response
>>> time for a single shard (after warm up and with different queries), =
then
>>> create a test-shard by merging 10 shards and measure response-time =
for
>>> that. Subtracting the two numbers (to remove the overhead of the
>>> front-end layer) and multiplying with 50 should give you a rough
>>> estimate for the performance of an upscaled setup.
>>>
>>> Another measurement suggestion: Divide the current performance of =
the
>>> full setup with the performance of a single shard, then multiply the
>>> performance of a single created by merging 10 shards with that =
number.
>>>
>>> Regards,
>>> Toke Eskildsen
>>>
>>>
>>> =
---------------------------------------------------------------------
>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>
>> Send free SMS to your Friends on Mobile from your Yahoo! Messenger. =
Download Now! http://messenger.yahoo.com/download.php
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
Send free SMS to your Friends on Mobile from your Yahoo! Messenger. Download Now! http://messenger.yahoo.com/download.php

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48158-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 22 07:14:54 2010
Return-Path: <java-user-return-48158-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 78752 invoked from network); 22 Dec 2010 07:14:53 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 22 Dec 2010 07:14:53 -0000
Received: (qmail 8650 invoked by uid 500); 22 Dec 2010 07:14:51 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 8276 invoked by uid 500); 22 Dec 2010 07:14:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 8268 invoked by uid 99); 22 Dec 2010 07:14:50 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Dec 2010 07:14:50 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of torindan@gmail.com designates 209.85.216.169 as permitted sender)
Received: from [209.85.216.169] (HELO mail-qy0-f169.google.com) (209.85.216.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Dec 2010 07:14:46 +0000
Received: by qyk7 with SMTP id 7so5576727qyk.14
        for <java-user@lucene.apache.org>; Tue, 21 Dec 2010 23:14:25 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:in-reply-to
         :references:from:date:message-id:subject:to:content-type
         :content-transfer-encoding;
        bh=Fo0zw4w92CcaOtKeZ7guJpLJv9cDhN4BqQx+auv7nxU=;
        b=S4R3HwwbzCm2GEslOiCU24rr5kTZ1BZqjUTUDuYeWjAFNhh/Hu+iNDHRlgzB9yUBfH
         zqwm0P2JHdjrxktryOQUBsxnnhv5zrypr1Q1AvoavYOYbiJmmJSwb1zKmgudWukofvAN
         MS72Z0Dg/hsZa/e0UKmBze6/UF74zVm6d7N6Y=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        b=c4l6fESYRWI1ygMm3lL4yPwK52GQHAuA36OKV85GysLhxSy+geV6zTQC9mh8UCYr4j
         Ue/rKM5OSZKqzw1Y5plMdezSARWava6OaN/t3TyISp6BXNrmPyF67MXeFbIPNbOPHAed
         b0SIpd7j0kGMGpCHJxRWm0F8HPffxjM3l4W5s=
Received: by 10.229.186.141 with SMTP id cs13mr5664447qcb.283.1293002065528;
 Tue, 21 Dec 2010 23:14:25 -0800 (PST)
MIME-Version: 1.0
Received: by 10.229.66.93 with HTTP; Tue, 21 Dec 2010 23:14:04 -0800 (PST)
In-Reply-To: <781DC540F8AA488F838771C2580482BA@sv.us.sonicwall.com>
References: <0FD59CD8A2DF49D5AAB65412A8F43297@sv.us.sonicwall.com>
 <AANLkTimN2xt6stZ049TC95HZp7=tdoNeg_cqCxxZx6iG@mail.gmail.com>
 <7C07295C4C3A410B989D9334001248B7@sv.us.sonicwall.com> <AANLkTi=+zFAKqEi9ghXT7oNNag5a2bKVTiOtGxdHMASw@mail.gmail.com>
 <8707487473613519815@unknownmsgid> <AANLkTi=YmMa15u3AUvd2X=G-Cnm-NvNxCxL0mN9e0vUa@mail.gmail.com>
 <16B30E8CC7BF41A0BB8D0D3E7E732CFA@sv.us.sonicwall.com> <1292411176.19302.168.camel@te-prime>
 <7409CFE47DFB4B26AEE7D3E684C86E0E@sv.us.sonicwall.com> <1292496638.19302.389.camel@te-prime>
 <2A4F903F65174B92AA6863A5CBDB7B12@sv.us.sonicwall.com> <AANLkTimJgJio_F2-taGpfE6GGD-AmY3NFyFapKuEsdGE@mail.gmail.com>
 <781DC540F8AA488F838771C2580482BA@sv.us.sonicwall.com>
From: =?UTF-8?B?RGFuaWwgxaJPUklO?= <torindan@gmail.com>
Date: Wed, 22 Dec 2010 09:14:04 +0200
Message-ID: <AANLkTinPCejsTbPACpdfQ3DwnK7Xkn2g3Wt5sYe0x9Qs@mail.gmail.com>
Subject: Re: Re: Scale up design
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

There are no noticeable performance gains/loses when moving to 64 bit,
assuming is the exactly same hardware (just 64bit OS), same index and
reasonable amount of java heap
(keep in mind that if you had 2gb on 32 bit you'll need almost 3gb on
64 bit due to lager pointer representation)

But once your index grows...heap grows, GC pauses might be quite
unpredictable on such large heaps.
That's why most people for 10 fold growth will recommend scale out,
instead of scale up.

But it depends a lot on how your index is structured, what kind of
queries you run, how often you update your index, and so on.

YMMV...the only to find out what works for you is to try it.

On Wed, Dec 22, 2010 at 07:01, Ganesh <emailgane@yahoo.co.in> wrote:
> Hello Simon,
>
> I don't hesitate to move to 64 bit. I require a suggestion whether to mov=
e to 64 bit (Scale up) or scale out with multiple system. I have started in=
vestigating 64 bit, =C2=A0i want to know about its performance and if anyon=
e in this group has already tried using it.
>
> Regards
> Ganesh
>
> ----- Original Message -----
> From: "Simon Willnauer" <simon.willnauer@googlemail.com>
> To: <java-user@lucene.apache.org>
> Sent: Monday, December 20, 2010 2:11 PM
> Subject: Re: Re: Scale up design
>
>
>> On Mon, Dec 20, 2010 at 8:39 AM, Ganesh <emailgane@yahoo.co.in> wrote:
>>> I have done some benchmarking and based on that my estimate of RAM requ=
irement would be 3 - 4 GB. My question is to go for 64 bit or scale out wit=
h 3 systems?
>> What keeps you from moving to 64bit, I mean if you have those RAM req.
>> for JAVA HeapSpace I don't see much of a choice. You could try some
>> address space extensions which are around but I don't think its worth
>> it. Any reason why you hesitate?
>>
>> simon
>>>
>>> Regards
>>> Ganesh
>>>
>>> ----- Original Message -----
>>> From: "Toke Eskildsen" <te@statsbiblioteket.dk>
>>> To: <java-user@lucene.apache.org>
>>> Sent: Thursday, December 16, 2010 4:20 PM
>>> Subject: Re: Re: Scale up design
>>>
>>>
>>>> On Thu, 2010-12-16 at 06:59 +0100, Ganesh wrote:
>>>>> 250 GB of data, 40 GB of Index Size, 60 million records is
>>>>> working fine with 1 GB RAM. We are storing minmal amount
>>>>> of data in index. We are doing sorting on Date. Even in
>>>>> single system, the database are shard.
>>>>
>>>> Looking back in the list, I see that you're sharding on weeks with 50+
>>>> weeks in the index.
>>>>
>>>>> build hosted solution. This stats will
>>>>> increase by minimum 10 times in 2 - 3 years. I plan to use
>>>>> 64 Bit, with 8 - 10 GB RAM allocated to JVM.
>>>>
>>>> When making a conservative estimate and multiplying with 10, you must
>>>> remember to do the same for the system memory available for disk cache=
.
>>>>
>>>> If your shards are searched sequentially, you could measure the respon=
se
>>>> time for a single shard (after warm up and with different queries), th=
en
>>>> create a test-shard by merging 10 shards and measure response-time for
>>>> that. Subtracting the two numbers (to remove the overhead of the
>>>> front-end layer) and multiplying with 50 should give you a rough
>>>> estimate for the performance of an upscaled setup.
>>>>
>>>> Another measurement suggestion: Divide the current performance of the
>>>> full setup with the performance of a single shard, then multiply the
>>>> performance of a single created by merging 10 shards with that number.
>>>>
>>>> Regards,
>>>> Toke Eskildsen
>>>>
>>>>
>>>> ---------------------------------------------------------------------
>>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>>
>>> Send free SMS to your Friends on Mobile from your Yahoo! Messenger. Dow=
nload Now! http://messenger.yahoo.com/download.php
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>
>>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
> Send free SMS to your Friends on Mobile from your Yahoo! Messenger. Downl=
oad Now! http://messenger.yahoo.com/download.php
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48159-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 22 07:19:26 2010
Return-Path: <java-user-return-48159-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79566 invoked from network); 22 Dec 2010 07:19:25 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 22 Dec 2010 07:19:25 -0000
Received: (qmail 12512 invoked by uid 500); 22 Dec 2010 07:19:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 12346 invoked by uid 500); 22 Dec 2010 07:19:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 58349 invoked by uid 99); 22 Dec 2010 04:32:27 -0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of jlal@chambal.com designates 74.125.82.48 as permitted sender)
MIME-Version: 1.0
In-Reply-To: <AANLkTin=Zbwr99gGpx2yVximm6HZQKoSqDEQktotv6uV@mail.gmail.com>
References: <AANLkTin=Zbwr99gGpx2yVximm6HZQKoSqDEQktotv6uV@mail.gmail.com>
Date: Wed, 22 Dec 2010 10:01:59 +0530
Message-ID: <AANLkTimetV7ZyMbd4WM3c_V7e+ygDTYBeJ_82kUvj5DQ@mail.gmail.com>
Subject: Re: Can I generate two word phrases from Lucene Index
From: Jawahar Lal <jlal@chambal.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016e64c1bbee08aa20497f83bd7

--0016e64c1bbee08aa20497f83bd7
Content-Type: text/plain; charset=ISO-8859-1

On 21 December 2010 11:09, Jawahar Lal <jlal@chambal.com> wrote:

> Hi,
>
>  I indexed the web pages content.  I want to generate following information
> from the indexes.
>
>
>    1. All the keywords in the index, and their no. of frequency.
>    I can get this using *indexReader.terms()
>    *
>    2. I also want to generate TWO Word Phrase from the index ???
>
>
>  For example:-
>
> Document:- This is about how to index contents using lucene.
>
> After Index:-
> 1. *Getting all keyword ==*> this, is,about,how,to, index, contents,
> using, lucene  (Suppose no filtering is done for stop words)
> 2. *Getting Two Word Phrase ==>* index contents, using lucene etc...
>
> How can I get the second result data from index ?
>
> Thanks
>

--0016e64c1bbee08aa20497f83bd7--

From java-user-return-48160-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 22 07:38:08 2010
Return-Path: <java-user-return-48160-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 86454 invoked from network); 22 Dec 2010 07:38:08 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 22 Dec 2010 07:38:08 -0000
Received: (qmail 35292 invoked by uid 500); 22 Dec 2010 07:38:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34926 invoked by uid 500); 22 Dec 2010 07:38:06 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34917 invoked by uid 99); 22 Dec 2010 07:38:05 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Dec 2010 07:38:05 +0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=FREEMAIL_FROM,MIME_QP_LONG_LINE,RCVD_IN_DNSWL_NONE,RFC_ABUSE_POST,SPF_NEUTRAL,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [121.101.151.225] (HELO nm3.bullet.mail.in.yahoo.com) (121.101.151.225)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 22 Dec 2010 07:37:59 +0000
Received: from [121.101.151.236] by nm3.bullet.mail.in.yahoo.com with NNFMP; 22 Dec 2010 07:37:38 -0000
Received: from [121.101.151.232] by tm1.bullet.mail.in.yahoo.com with NNFMP; 22 Dec 2010 07:37:39 -0000
Received: from [127.0.0.1] by omp1001.mail.in.yahoo.com with NNFMP; 22 Dec 2010 07:37:58 -0000
X-Yahoo-Newman-Id: 839648.78925.bm@omp1001.mail.in.yahoo.com
Received: (qmail 39529 invoked from network); 22 Dec 2010 07:37:35 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.in;
  h=DKIM-Signature:Received:X-Yahoo-SMTP:X-YMail-OSG:X-Yahoo-Newman-Property:Message-ID:From:To:References:Subject:Date:MIME-Version:Content-Type:Content-Transfer-Encoding:X-Priority:X-MSMail-Priority:X-Mailer:X-MimeOLE;
  b=tb438ryXfePy8rYVHlPeiTmX+4Y3s5aG48os21da4dsXwaN6Q5+GoSuosPZ6RyTIQnYsU3H+MIjBQZhrCeS0nXVBvMRYHQp+RPMlRToguQ6EcgMjfuw7qRINYYnnphWHIXGtJ6uFfCp3xhgMnomfuNQOG4a8/GZhk1sBopjqClM=  ;
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.co.in; s=s1024; t=1293003455; bh=9ps9dhYUDj+Vj7Y2+i2YABQlfDe4p1DKp+Qz4bAy3gY=; h=Received:X-Yahoo-SMTP:X-YMail-OSG:X-Yahoo-Newman-Property:Message-ID:From:To:References:Subject:Date:MIME-Version:Content-Type:Content-Transfer-Encoding:X-Priority:X-MSMail-Priority:X-Mailer:X-MimeOLE; b=HXReqAJsHGsshrP1EHwYNKi2ZAEx/ju74vQQmps/o44s+aG4/shezoB1cuVpYXZsxRbpLAvmjnTNTFHqbSAk708m3mKw0qSE4J4dyy+xKlTd9IZcqmLt89kewvV9vFMKuidy/KnweaUWuuMf4sR4fzKw5LBHJeDXZaIQFhES7+o=
Received: from GaneshM (emailgane@121.244.159.130 with login)
        by smtp103.mail.in.yahoo.com with SMTP; 22 Dec 2010 13:07:35 +0530 IST
X-Yahoo-SMTP: JObyHkuswBBrNSLZp.Ycd7Boqpr_GQ--
X-YMail-OSG: dWRdX6AVM1llJt5tSHIqOowAnJHkZrmLCuAuMBo2vLiDp_R
 i72mIRBWwTc4P9quMkI71JBCslEeGmUPeUB.HcQiJfaxTfgE2dJPRRo6J15z
 G.1vcNEd0qvxRrZokb6PuePmcRg4yCDuwFhj2HKVpsKIUwVkkNZREHsZOVo.
 QpJyaqsjKA2QetpZq12XjvBPg59OpMX0fTFm_YOjWrkO3kRySI.OnMuOvxV9
 8X5kCrf20utjVQ9vWntgZ8kQIiGFKAxadJHQL7z00wgXtchSzHw--
X-Yahoo-Newman-Property: ymail-3
Message-ID: <51304452C11D4655BAB0A3B5499D9851@sv.us.sonicwall.com>
From: "Ganesh" <emailgane@yahoo.co.in>
To: <java-user@lucene.apache.org>
References: <0FD59CD8A2DF49D5AAB65412A8F43297@sv.us.sonicwall.com> <AANLkTimN2xt6stZ049TC95HZp7=tdoNeg_cqCxxZx6iG@mail.gmail.com> <7C07295C4C3A410B989D9334001248B7@sv.us.sonicwall.com> <AANLkTi=+zFAKqEi9ghXT7oNNag5a2bKVTiOtGxdHMASw@mail.gmail.com> <8707487473613519815@unknownmsgid> <AANLkTi=YmMa15u3AUvd2X=G-Cnm-NvNxCxL0mN9e0vUa@mail.gmail.com> <16B30E8CC7BF41A0BB8D0D3E7E732CFA@sv.us.sonicwall.com> <1292411176.19302.168.camel@te-prime> <7409CFE47DFB4B26AEE7D3E684C86E0E@sv.us.sonicwall.com> <1292496638.19302.389.camel@te-prime> <2A4F903F65174B92AA6863A5CBDB7B12@sv.us.sonicwall.com> <AANLkTimJgJio_F2-taGpfE6GGD-AmY3NFyFapKuEsdGE@mail.gmail.com> <781DC540F8AA488F838771C2580482BA@sv.us.sonicwall.com> <AANLkTinPCejsTbPACpdfQ3DwnK7Xkn2g3Wt5sYe0x9Qs@mail.gmail.com>
Subject: Re: Re: Scale up design
Date: Wed, 22 Dec 2010 13:07:34 +0530
MIME-Version: 1.0
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: quoted-printable
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.5931
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.5931

Thanks. I going to try in 64 bit. I will post some update in a day or =
two.

Do I need to compile the Lucene and analyzer code in 64 bit JVM?
Do I need to use MMAPDirectory in 64 bit?

Any other tips targeting 64 bit?

Regards
Ganesh =20

----- Original Message -----=20
From: "Danil =C5=A2ORIN" <torindan@gmail.com>
To: <java-user@lucene.apache.org>
Sent: Wednesday, December 22, 2010 12:44 PM
Subject: Re: Re: Scale up design


There are no noticeable performance gains/loses when moving to 64 bit,
assuming is the exactly same hardware (just 64bit OS), same index and
reasonable amount of java heap
(keep in mind that if you had 2gb on 32 bit you'll need almost 3gb on
64 bit due to lager pointer representation)

But once your index grows...heap grows, GC pauses might be quite
unpredictable on such large heaps.
That's why most people for 10 fold growth will recommend scale out,
instead of scale up.

But it depends a lot on how your index is structured, what kind of
queries you run, how often you update your index, and so on.

YMMV...the only to find out what works for you is to try it.

On Wed, Dec 22, 2010 at 07:01, Ganesh <emailgane@yahoo.co.in> wrote:
> Hello Simon,
>
> I don't hesitate to move to 64 bit. I require a suggestion whether to =
move to 64 bit (Scale up) or scale out with multiple system. I have =
started investigating 64 bit, i want to know about its performance and =
if anyone in this group has already tried using it.
>
> Regards
> Ganesh
>
> ----- Original Message -----
> From: "Simon Willnauer" <simon.willnauer@googlemail.com>
> To: <java-user@lucene.apache.org>
> Sent: Monday, December 20, 2010 2:11 PM
> Subject: Re: Re: Scale up design
>
>
>> On Mon, Dec 20, 2010 at 8:39 AM, Ganesh <emailgane@yahoo.co.in> =
wrote:
>>> I have done some benchmarking and based on that my estimate of RAM =
requirement would be 3 - 4 GB. My question is to go for 64 bit or scale =
out with 3 systems?
>> What keeps you from moving to 64bit, I mean if you have those RAM =
req.
>> for JAVA HeapSpace I don't see much of a choice. You could try some
>> address space extensions which are around but I don't think its worth
>> it. Any reason why you hesitate?
>>
>> simon
>>>
>>> Regards
>>> Ganesh
>>>
>>> ----- Original Message -----
>>> From: "Toke Eskildsen" <te@statsbiblioteket.dk>
>>> To: <java-user@lucene.apache.org>
>>> Sent: Thursday, December 16, 2010 4:20 PM
>>> Subject: Re: Re: Scale up design
>>>
>>>
>>>> On Thu, 2010-12-16 at 06:59 +0100, Ganesh wrote:
>>>>> 250 GB of data, 40 GB of Index Size, 60 million records is
>>>>> working fine with 1 GB RAM. We are storing minmal amount
>>>>> of data in index. We are doing sorting on Date. Even in
>>>>> single system, the database are shard.
>>>>
>>>> Looking back in the list, I see that you're sharding on weeks with =
50+
>>>> weeks in the index.
>>>>
>>>>> build hosted solution. This stats will
>>>>> increase by minimum 10 times in 2 - 3 years. I plan to use
>>>>> 64 Bit, with 8 - 10 GB RAM allocated to JVM.
>>>>
>>>> When making a conservative estimate and multiplying with 10, you =
must
>>>> remember to do the same for the system memory available for disk =
cache.
>>>>
>>>> If your shards are searched sequentially, you could measure the =
response
>>>> time for a single shard (after warm up and with different queries), =
then
>>>> create a test-shard by merging 10 shards and measure response-time =
for
>>>> that. Subtracting the two numbers (to remove the overhead of the
>>>> front-end layer) and multiplying with 50 should give you a rough
>>>> estimate for the performance of an upscaled setup.
>>>>
>>>> Another measurement suggestion: Divide the current performance of =
the
>>>> full setup with the performance of a single shard, then multiply =
the
>>>> performance of a single created by merging 10 shards with that =
number.
>>>>
>>>> Regards,
>>>> Toke Eskildsen
>>>>
>>>>
>>>> =
---------------------------------------------------------------------
>>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>>
>>> Send free SMS to your Friends on Mobile from your Yahoo! Messenger. =
Download Now! http://messenger.yahoo.com/download.php
>>>
>>> =
---------------------------------------------------------------------
>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>
>>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
> Send free SMS to your Friends on Mobile from your Yahoo! Messenger. =
Download Now! http://messenger.yahoo.com/download.php
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org

Send free SMS to your Friends on Mobile from your Yahoo! Messenger. Download Now! http://messenger.yahoo.com/download.php

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48161-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 22 09:49:17 2010
Return-Path: <java-user-return-48161-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 47641 invoked from network); 22 Dec 2010 09:49:16 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 22 Dec 2010 09:49:16 -0000
Received: (qmail 5267 invoked by uid 500); 22 Dec 2010 09:49:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 4858 invoked by uid 500); 22 Dec 2010 09:49:14 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 4850 invoked by uid 99); 22 Dec 2010 09:49:13 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Dec 2010 09:49:13 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of findbestopensource@gmail.com designates 209.85.161.47 as permitted sender)
Received: from [209.85.161.47] (HELO mail-fx0-f47.google.com) (209.85.161.47)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Dec 2010 09:49:09 +0000
Received: by fxm17 with SMTP id 17so4938208fxm.6
        for <java-user@lucene.apache.org>; Wed, 22 Dec 2010 01:48:48 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=naFsET1mmDqOrfk2t09O9WUDMJRS4qb2IVaRFd36kHc=;
        b=sm1XSHTf0nXlFDxDfAdgkNuUCeWOR+yIx5m4pnVVF/EvaIIRdwRDxD/Ji9Wv/4NylH
         1CFOo5lbfuT8FdKcqrmb72iPN0preFIs/Dqch/ojle9zFXhNC/0IK+eoDLMH0f8W6844
         bJLvtaeabM0rFXV6yokqRt30RtXS5Ave65I08=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=Zcj39276NGqgpzw53nlfTV22FL1zBVUqpttg7kWORJHW0oKqiJ6lW3xgIfUwYsKhvn
         QljlpZMhjan1XQZrYuVWNwp34MZgeIgB5JLWHOfdJBdh7Z68suApox1Jci5ALCsz+VZk
         sKLflmyZfEfiFsYMz4/d505Dpol5xA3NJaHqE=
MIME-Version: 1.0
Received: by 10.223.86.65 with SMTP id r1mr7115013fal.24.1293011327905; Wed,
 22 Dec 2010 01:48:47 -0800 (PST)
Received: by 10.223.164.134 with HTTP; Wed, 22 Dec 2010 01:48:47 -0800 (PST)
In-Reply-To: <51304452C11D4655BAB0A3B5499D9851@sv.us.sonicwall.com>
References: <0FD59CD8A2DF49D5AAB65412A8F43297@sv.us.sonicwall.com>
	<AANLkTimN2xt6stZ049TC95HZp7=tdoNeg_cqCxxZx6iG@mail.gmail.com>
	<7C07295C4C3A410B989D9334001248B7@sv.us.sonicwall.com>
	<AANLkTi=+zFAKqEi9ghXT7oNNag5a2bKVTiOtGxdHMASw@mail.gmail.com>
	<8707487473613519815@unknownmsgid>
	<AANLkTi=YmMa15u3AUvd2X=G-Cnm-NvNxCxL0mN9e0vUa@mail.gmail.com>
	<16B30E8CC7BF41A0BB8D0D3E7E732CFA@sv.us.sonicwall.com>
	<1292411176.19302.168.camel@te-prime>
	<7409CFE47DFB4B26AEE7D3E684C86E0E@sv.us.sonicwall.com>
	<1292496638.19302.389.camel@te-prime>
	<2A4F903F65174B92AA6863A5CBDB7B12@sv.us.sonicwall.com>
	<AANLkTimJgJio_F2-taGpfE6GGD-AmY3NFyFapKuEsdGE@mail.gmail.com>
	<781DC540F8AA488F838771C2580482BA@sv.us.sonicwall.com>
	<AANLkTinPCejsTbPACpdfQ3DwnK7Xkn2g3Wt5sYe0x9Qs@mail.gmail.com>
	<51304452C11D4655BAB0A3B5499D9851@sv.us.sonicwall.com>
Date: Wed, 22 Dec 2010 15:18:47 +0530
Message-ID: <AANLkTinTPrgZsyLBEGoK0gT0c3_1YWwrjwOz9L1iqwZ9@mail.gmail.com>
Subject: Re: Re: Scale up design
From: findbestopensource <findbestopensource@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=20cf3054a703e3f1d70497fca854

--20cf3054a703e3f1d70497fca854
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

>>Do I need to compile the Lucene and analyzer code in 64 bit JVM?
You don't need to compile. Just drop your jars in 64 Bit JVM in 64 Bit OS.

Regards
Aditya
www.findbestopensource.com



On Wed, Dec 22, 2010 at 1:07 PM, Ganesh <emailgane@yahoo.co.in> wrote:

> Thanks. I going to try in 64 bit. I will post some update in a day or two=
.
>
> Do I need to compile the Lucene and analyzer code in 64 bit JVM?
> Do I need to use MMAPDirectory in 64 bit?
>
> Any other tips targeting 64 bit?
>
> Regards
> Ganesh
>
> ----- Original Message -----
> From: "Danil =C5=A2ORIN" <torindan@gmail.com>
> To: <java-user@lucene.apache.org>
>  Sent: Wednesday, December 22, 2010 12:44 PM
> Subject: Re: Re: Scale up design
>
>
> There are no noticeable performance gains/loses when moving to 64 bit,
> assuming is the exactly same hardware (just 64bit OS), same index and
> reasonable amount of java heap
> (keep in mind that if you had 2gb on 32 bit you'll need almost 3gb on
> 64 bit due to lager pointer representation)
>
> But once your index grows...heap grows, GC pauses might be quite
> unpredictable on such large heaps.
> That's why most people for 10 fold growth will recommend scale out,
> instead of scale up.
>
> But it depends a lot on how your index is structured, what kind of
> queries you run, how often you update your index, and so on.
>
> YMMV...the only to find out what works for you is to try it.
>
> On Wed, Dec 22, 2010 at 07:01, Ganesh <emailgane@yahoo.co.in> wrote:
> > Hello Simon,
> >
> > I don't hesitate to move to 64 bit. I require a suggestion whether to
> move to 64 bit (Scale up) or scale out with multiple system. I have start=
ed
> investigating 64 bit, i want to know about its performance and if anyone =
in
> this group has already tried using it.
> >
> > Regards
> > Ganesh
> >
> > ----- Original Message -----
> > From: "Simon Willnauer" <simon.willnauer@googlemail.com>
> > To: <java-user@lucene.apache.org>
> > Sent: Monday, December 20, 2010 2:11 PM
> > Subject: Re: Re: Scale up design
> >
> >
> >> On Mon, Dec 20, 2010 at 8:39 AM, Ganesh <emailgane@yahoo.co.in> wrote:
> >>> I have done some benchmarking and based on that my estimate of RAM
> requirement would be 3 - 4 GB. My question is to go for 64 bit or scale o=
ut
> with 3 systems?
> >> What keeps you from moving to 64bit, I mean if you have those RAM req.
> >> for JAVA HeapSpace I don't see much of a choice. You could try some
> >> address space extensions which are around but I don't think its worth
> >> it. Any reason why you hesitate?
> >>
> >> simon
> >>>
> >>> Regards
> >>> Ganesh
> >>>
> >>> ----- Original Message -----
> >>> From: "Toke Eskildsen" <te@statsbiblioteket.dk>
> >>> To: <java-user@lucene.apache.org>
> >>> Sent: Thursday, December 16, 2010 4:20 PM
> >>> Subject: Re: Re: Scale up design
> >>>
> >>>
> >>>> On Thu, 2010-12-16 at 06:59 +0100, Ganesh wrote:
> >>>>> 250 GB of data, 40 GB of Index Size, 60 million records is
> >>>>> working fine with 1 GB RAM. We are storing minmal amount
> >>>>> of data in index. We are doing sorting on Date. Even in
> >>>>> single system, the database are shard.
> >>>>
> >>>> Looking back in the list, I see that you're sharding on weeks with 5=
0+
> >>>> weeks in the index.
> >>>>
> >>>>> build hosted solution. This stats will
> >>>>> increase by minimum 10 times in 2 - 3 years. I plan to use
> >>>>> 64 Bit, with 8 - 10 GB RAM allocated to JVM.
> >>>>
> >>>> When making a conservative estimate and multiplying with 10, you mus=
t
> >>>> remember to do the same for the system memory available for disk
> cache.
> >>>>
> >>>> If your shards are searched sequentially, you could measure the
> response
> >>>> time for a single shard (after warm up and with different queries),
> then
> >>>> create a test-shard by merging 10 shards and measure response-time f=
or
> >>>> that. Subtracting the two numbers (to remove the overhead of the
> >>>> front-end layer) and multiplying with 50 should give you a rough
> >>>> estimate for the performance of an upscaled setup.
> >>>>
> >>>> Another measurement suggestion: Divide the current performance of th=
e
> >>>> full setup with the performance of a single shard, then multiply the
> >>>> performance of a single created by merging 10 shards with that numbe=
r.
> >>>>
> >>>> Regards,
> >>>> Toke Eskildsen
> >>>>
> >>>>
> >>>> --------------------------------------------------------------------=
-
> >>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >>>> For additional commands, e-mail: java-user-help@lucene.apache.org
> >>>>
> >>> Send free SMS to your Friends on Mobile from your Yahoo! Messenger.
> Download Now! http://messenger.yahoo.com/download.php
> >>>
> >>> ---------------------------------------------------------------------
> >>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >>> For additional commands, e-mail: java-user-help@lucene.apache.org
> >>>
> >>>
> >>
> >> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >> For additional commands, e-mail: java-user-help@lucene.apache.org
> >>
> > Send free SMS to your Friends on Mobile from your Yahoo! Messenger.
> Download Now! http://messenger.yahoo.com/download.php
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
> Send free SMS to your Friends on Mobile from your Yahoo! Messenger.
> Download Now! http://messenger.yahoo.com/download.php
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--20cf3054a703e3f1d70497fca854--

From java-user-return-48162-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 22 12:00:44 2010
Return-Path: <java-user-return-48162-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28625 invoked from network); 22 Dec 2010 12:00:44 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 22 Dec 2010 12:00:44 -0000
Received: (qmail 66208 invoked by uid 500); 22 Dec 2010 12:00:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 65906 invoked by uid 500); 22 Dec 2010 12:00:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 65889 invoked by uid 99); 22 Dec 2010 12:00:40 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Dec 2010 12:00:40 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of lahiruts@gmail.com designates 209.85.214.176 as permitted sender)
Received: from [209.85.214.176] (HELO mail-iw0-f176.google.com) (209.85.214.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Dec 2010 12:00:33 +0000
Received: by iwn2 with SMTP id 2so5866621iwn.35
        for <java-user@lucene.apache.org>; Wed, 22 Dec 2010 04:00:13 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:date:message-id
         :subject:from:to:content-type;
        bh=isE36F/54Me37Smse7MuV7MO1wycKpOMuHn+pn1BFl0=;
        b=D39xRzH0v5+qDm2f/Ihr3s24qXm/R3Ok4H7mKxtu3947mJsThGw4T4XrCEbGVl1jxT
         xsmXieU66f8v1XmdckF+BSP+Al55ovxHoOa3aL/4ttkDcV6bj+lNrjApz9u7gjBHX7Bs
         VaRzQ8mKYtc/+EUnX8b7mtZIPPqjUr83UDifI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=LdtaFZ1JJIveuPQMfY9k0v+xv1+hAuAYzNo0cCuyqxrk41PRpL/eYRItYHY51SFuuv
         cZdNMTn7nXi0magVvQPPWxVwWPKnDR6g3TX6MOrCNxca5wFXJJyYnRHVyBBDOzYJs3Nj
         gY/SY3nEvRyqUpekR8UEYGEl/CQEd9L6v5UwE=
MIME-Version: 1.0
Received: by 10.231.13.133 with SMTP id c5mr6736214iba.39.1293019213251; Wed,
 22 Dec 2010 04:00:13 -0800 (PST)
Received: by 10.231.27.195 with HTTP; Wed, 22 Dec 2010 04:00:13 -0800 (PST)
Date: Wed, 22 Dec 2010 17:30:13 +0530
Message-ID: <AANLkTinAnvpbuxcqe37ojpAGao=p=3+Ov4a24ukW-8uE@mail.gmail.com>
Subject: How to see results of an analyzer
From: Lahiru Samarakoon <lahiruts@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0022158c1099e4c49a0497fe7e30

--0022158c1099e4c49a0497fe7e30
Content-Type: text/plain; charset=ISO-8859-1

Dear All,

How can I see (or print) the result of a lucene analyzer.

I believe the analyzing happens when the *writer.addDocument* or *
writer.updateDocument* methods are called.
Can anyone suggest me a method to see the analyzing process as it happens.

If it is not possible in real time, how can i see the analyzed text ?

Thank you,

Best Regards,
Lahiru.

--0022158c1099e4c49a0497fe7e30--

From java-user-return-48163-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 22 13:58:19 2010
Return-Path: <java-user-return-48163-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92234 invoked from network); 22 Dec 2010 13:58:19 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 22 Dec 2010 13:58:19 -0000
Received: (qmail 34903 invoked by uid 500); 22 Dec 2010 13:58:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 34558 invoked by uid 500); 22 Dec 2010 13:58:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 34549 invoked by uid 99); 22 Dec 2010 13:58:16 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Dec 2010 13:58:16 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ian.lea@gmail.com designates 209.85.214.50 as permitted sender)
Received: from [209.85.214.50] (HELO mail-bw0-f50.google.com) (209.85.214.50)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Dec 2010 13:58:09 +0000
Received: by bwg12 with SMTP id 12so5602370bwg.23
        for <java-user@lucene.apache.org>; Wed, 22 Dec 2010 05:57:49 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:in-reply-to
         :references:from:date:message-id:subject:to:content-type;
        bh=Rhq1c/G1VBVz9ogn1vEtNUdOKsu+IY2V8iIkfgeTVW4=;
        b=akSjP2PuO9A4IQ2U+GR5LDZEE9iY8TJFEHsUCT0s9+M1aAg6kCpeIVsEAiuP37dfQL
         Ovm+z5kqoz/yXHUKeSmtGJCkoKhCEWdaR4PL3zah2GWxvOKiLhHGJqKqYn9CxP8RFvqC
         vA9kLYLQuEYtL/YKmsAgoY3A49LGPTfFP3BiE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=eojwVNp7tR0M4xBucAoZh9Di2IwMg4gvTOagbcAhFsB2n85qOnEMDMtVee4PqvBQAx
         1TYqG7cxkF0nXGpaZPWquSmHlm3tNZvbrnNoqg3/1jR/RdCKTVBK+jrxsGfXUkaIDa2t
         298ypwGXLqlmverVLbXYBZMX2VIMkHk3KeKkw=
Received: by 10.204.113.75 with SMTP id z11mr4089760bkp.90.1293026269088; Wed,
 22 Dec 2010 05:57:49 -0800 (PST)
MIME-Version: 1.0
Received: by 10.204.57.143 with HTTP; Wed, 22 Dec 2010 05:57:28 -0800 (PST)
In-Reply-To: <AANLkTinAnvpbuxcqe37ojpAGao=p=3+Ov4a24ukW-8uE@mail.gmail.com>
References: <AANLkTinAnvpbuxcqe37ojpAGao=p=3+Ov4a24ukW-8uE@mail.gmail.com>
From: Ian Lea <ian.lea@gmail.com>
Date: Wed, 22 Dec 2010 13:57:28 +0000
Message-ID: <AANLkTimf7wG8Heiw7kWRm=gtR9FG5u+3oC8_zmyKqcqU@mail.gmail.com>
Subject: Re: How to see results of an analyzer
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

I don't believe you can see anything in real time.  Luke will show you
pretty much anything about an index or see
http://www.gossamer-threads.com/lists/lucene/java-user/112180 for a
way to feed text into an analyzer and see what comes out.


--
Ian.


On Wed, Dec 22, 2010 at 12:00 PM, Lahiru Samarakoon <lahiruts@gmail.com> wrote:
> Dear All,
>
> How can I see (or print) the result of a lucene analyzer.
>
> I believe the analyzing happens when the *writer.addDocument* or *
> writer.updateDocument* methods are called.
> Can anyone suggest me a method to see the analyzing process as it happens.
>
> If it is not possible in real time, how can i see the analyzed text ?
>
> Thank you,
>
> Best Regards,
> Lahiru.
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48164-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 22 15:58:59 2010
Return-Path: <java-user-return-48164-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 54870 invoked from network); 22 Dec 2010 15:58:59 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 22 Dec 2010 15:58:59 -0000
Received: (qmail 62772 invoked by uid 500); 22 Dec 2010 15:58:57 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 62465 invoked by uid 500); 22 Dec 2010 15:58:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 62457 invoked by uid 99); 22 Dec 2010 15:58:56 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Dec 2010 15:58:56 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of lahiruts@gmail.com designates 209.85.210.176 as permitted sender)
Received: from [209.85.210.176] (HELO mail-iy0-f176.google.com) (209.85.210.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Dec 2010 15:58:48 +0000
Received: by iyb26 with SMTP id 26so4945461iyb.35
        for <java-user@lucene.apache.org>; Wed, 22 Dec 2010 07:58:27 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=oGtBnlNaaxCWikqksXvp1OSfIUOa8ba4C0miYBBvq4s=;
        b=Q46gXprlSzKQZyDi31xL9keOX+fK+u9TgpbjrFVhbVUkdykDw1j9uoUzB/xhy4ZRAA
         kCmTEScRchb6BudJiqrAEkyyN7b6gjv9pqyGyzLvpAGSstRNtHQEMOrst+snfQz5TU59
         Q48HJmokXqwSGYQsrgK2jC9dG3ICE2H597QOU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=v8EM0ys4neVv7WOFtT2S8g8fYTE0ZOUns6GifiJMVV+gaZP+JYXEOSHgUTpxks4Pgx
         IIZROrDnIbcfehL/4syf4PR0flAwD3RwxLX/+7ONmaXA7Le+ptBEV6BPkOb/ZOlBbMX5
         H6mZijdW6+FpxsxToKEGgH/XuoJ0IfR8W99LE=
MIME-Version: 1.0
Received: by 10.231.34.200 with SMTP id m8mr6920337ibd.89.1293033507785; Wed,
 22 Dec 2010 07:58:27 -0800 (PST)
Received: by 10.231.27.195 with HTTP; Wed, 22 Dec 2010 07:58:27 -0800 (PST)
In-Reply-To: <AANLkTimf7wG8Heiw7kWRm=gtR9FG5u+3oC8_zmyKqcqU@mail.gmail.com>
References: <AANLkTinAnvpbuxcqe37ojpAGao=p=3+Ov4a24ukW-8uE@mail.gmail.com>
	<AANLkTimf7wG8Heiw7kWRm=gtR9FG5u+3oC8_zmyKqcqU@mail.gmail.com>
Date: Wed, 22 Dec 2010 21:28:27 +0530
Message-ID: <AANLkTin6XVeeTBxewqJEfe2i-wdRkjnaONsp38tvaajw@mail.gmail.com>
Subject: Re: How to see results of an analyzer
From: Lahiru Samarakoon <lahiruts@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=000325574d4eea0c14049801d2fb
X-Virus-Checked: Checked by ClamAV on apache.org

--000325574d4eea0c14049801d2fb
Content-Type: text/plain; charset=ISO-8859-1

Hi Ian,

Luke works for me.

Thanks,
Lahiru.

--000325574d4eea0c14049801d2fb--

From java-user-return-48165-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 22 16:37:01 2010
Return-Path: <java-user-return-48165-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 76203 invoked from network); 22 Dec 2010 16:37:01 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 22 Dec 2010 16:37:01 -0000
Received: (qmail 32979 invoked by uid 500); 22 Dec 2010 16:36:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 32871 invoked by uid 500); 22 Dec 2010 16:36:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 32862 invoked by uid 99); 22 Dec 2010 16:36:56 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Dec 2010 16:36:56 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=10.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [128.230.18.82] (HELO smtp1.syr.edu) (128.230.18.82)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Dec 2010 16:36:49 +0000
Received: from suex07-hub-01.ad.syr.edu (suex07-hub-01.ad.syr.edu [128.230.108.195])
	by smtp1.syr.edu (8.14.3/8.14.3) with ESMTP id oBMGaR67032446
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=FAIL)
	for <java-user@lucene.apache.org>; Wed, 22 Dec 2010 11:36:28 -0500
Received: from suex07-mbx-03.ad.syr.edu ([128.230.108.133]) by
 suex07-hub-01.ad.syr.edu ([128.230.108.195]) with mapi; Wed, 22 Dec 2010
 11:36:27 -0500
From: Steven A Rowe <sarowe@syr.edu>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
Date: Wed, 22 Dec 2010 11:36:15 -0500
Subject: RE: Re: Scale up design
Thread-Topic: Re: Scale up design
Thread-Index: AcuhqzEf+wnsEQt2RJKgEXPY43xj8wAScexw
Message-ID: <2D127F11DC79714E9B6A43AC9458147F88737ABE@suex07-mbx-03.ad.syr.edu>
References: <0FD59CD8A2DF49D5AAB65412A8F43297@sv.us.sonicwall.com>
 <AANLkTimN2xt6stZ049TC95HZp7=tdoNeg_cqCxxZx6iG@mail.gmail.com>
 <7C07295C4C3A410B989D9334001248B7@sv.us.sonicwall.com>
 <AANLkTi=+zFAKqEi9ghXT7oNNag5a2bKVTiOtGxdHMASw@mail.gmail.com>
 <8707487473613519815@unknownmsgid>
 <AANLkTi=YmMa15u3AUvd2X=G-Cnm-NvNxCxL0mN9e0vUa@mail.gmail.com>
 <16B30E8CC7BF41A0BB8D0D3E7E732CFA@sv.us.sonicwall.com>
 <1292411176.19302.168.camel@te-prime>
 <7409CFE47DFB4B26AEE7D3E684C86E0E@sv.us.sonicwall.com>
 <1292496638.19302.389.camel@te-prime>
 <2A4F903F65174B92AA6863A5CBDB7B12@sv.us.sonicwall.com>
 <AANLkTimJgJio_F2-taGpfE6GGD-AmY3NFyFapKuEsdGE@mail.gmail.com>
 <781DC540F8AA488F838771C2580482BA@sv.us.sonicwall.com>
 <AANLkTinPCejsTbPACpdfQ3DwnK7Xkn2g3Wt5sYe0x9Qs@mail.gmail.com>
 <51304452C11D4655BAB0A3B5499D9851@sv.us.sonicwall.com>
In-Reply-To: <51304452C11D4655BAB0A3B5499D9851@sv.us.sonicwall.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-Proofpoint-Virus-Version: vendor=fsecure engine=2.50.10432:5.2.15,1.0.148,0.0.0000
 definitions=2010-12-22_08:2010-12-22,2010-12-22,1970-01-01 signatures=0
X-Proofpoint-Spam-Reason: safe

T24gMTIvMjIvMjAxMCBhdCAyOjM4IEFNLCBHYW5lc2ggd3JvdGU6DQo+IEFueSBvdGhlciB0aXBz
IHRhcmdldGluZyA2NCBiaXQ/DQoNCklmIG1lbW9yeSB1c2FnZSBpcyBhbiBpc3N1ZSwgeW91IG1p
Z2h0IGNvbnNpZGVyIHVzaW5nIEhvdFNwb3QncyAiY29tcHJlc3NlZCBvb3BzIiBvcHRpb246DQoN
CjxodHRwOi8vd2lraXMuc3VuLmNvbS9kaXNwbGF5L0hvdFNwb3RJbnRlcm5hbHMvQ29tcHJlc3Nl
ZE9vcHM+DQo8aHR0cDovL2Jsb2cuanVtYS5tZS51ay8yMDA4LzEwLzE0LzMyLWJpdC1vci02NC1i
aXQtanZtLWhvdy1hYm91dC1hLWh5YnJpZC8+DQoNCkJlbnNvbiBNYXJndWxpZXMgaGFzIHdyaXR0
ZW4gdGhhdCB0aGUgbWVtb3J5IHNhdmluZ3MgZnJvbSB1c2luZyAiY29tcHJlc3NlZCBvb3BzIiBp
c24ndCBuZWNlc3NhcmlseSBmcmVlIC0gaXQgY2FuIGltcGFjdCBwZXJmb3JtYW5jZToNCg0KPGh0
dHA6Ly9saXN0cy5hcHBsZS5jb20vYXJjaGl2ZXMvamF2YS1kZXYvMjAxMC9BcHIvbXNnMDAxNTcu
aHRtbD4NCg0KU3RldmUNCg0K


From java-user-return-48166-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 22 23:29:23 2010
Return-Path: <java-user-return-48166-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 76391 invoked from network); 22 Dec 2010 23:29:23 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 22 Dec 2010 23:29:23 -0000
Received: (qmail 16023 invoked by uid 500); 22 Dec 2010 23:29:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 15948 invoked by uid 500); 22 Dec 2010 23:29:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 15940 invoked by uid 99); 22 Dec 2010 23:29:20 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 22 Dec 2010 23:29:20 +0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FREEMAIL_FROM,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [98.138.90.123] (HELO web121702.mail.ne1.yahoo.com) (98.138.90.123)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 22 Dec 2010 23:29:11 +0000
Received: (qmail 60463 invoked by uid 60001); 22 Dec 2010 23:28:49 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1293060529; bh=BLneBBGs3fUmueHiZkQXX11s21xUMtUHSmtxxEuL5dM=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=C/KD7o+KvzEVDnZX3vFDduNptFBeu8FsIkx73lnmoBjYzogiyaIg4/E0e7Lgq5GNzwmCBwQ7f7c+lzXr5yKy5LdUbbpEfhfZbDBkPGCta8XPJHYH7Ih3E+o637ch4ndGDeedkTflogRGwUqCshHY72FhQKc616rteQn1+R+tcqk=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=eSdS7dJ/QuPh/HoVdShvI+ridcjjEJV7J8VwEKbfzRDJlV2zQxWzJk/HEoh4p4bUMDLE/2kcLYV9+t1LY5PEQcW6CjJektq0zgfaHLWr1Udl3y6qD4qe5PYvC2PaafrEYAWJLLZ0rpY68IdRfj9DMQ6dtVA1iKDJbZ6JiGOTvNk=;
Message-ID: <628032.58725.qm@web121702.mail.ne1.yahoo.com>
X-YMail-OSG: QUJR_14VM1n7FKcP7LML0wewUvdsBF1I96EvlBwv53bcejd
 HZu5Vx68tKq4a7s_SG5DYOBq4_iBbdb_2LDMqVpmQmV2O.CCtiKNnBfFtjH_
 QEcy_IE.fQH1DilRKEPh06zIrIIrVTuNQTOR1sybw1CFzBQykZ2wRAX5uzmW
 BJbYMQHlcL27NOZdVmQfqWEctPiBpVSc9Fud0k01BxfT8K2yo85TSooGS0XH
 x0r_oQeMKM61KZgpfwjQUdSd.nlTO2EuW25ClIXa_Zm2ImBVs0koWI3pZy2O
 LzQIJU.4jeHeMTQnJVrZpAA--
Received: from [78.161.200.143] by web121702.mail.ne1.yahoo.com via HTTP; Wed, 22 Dec 2010 15:28:49 PST
X-Mailer: YahooMailClassic/11.4.20 YahooMailWebService/0.8.107.285259
Date: Wed, 22 Dec 2010 15:28:49 -0800 (PST)
From: Ahmet Arslan <iorixxx@yahoo.com>
Subject: Re: Can I generate two word phrases from Lucene Index
To: java-user@lucene.apache.org
In-Reply-To: <AANLkTimetV7ZyMbd4WM3c_V7e+ygDTYBeJ_82kUvj5DQ@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Virus-Checked: Checked by ClamAV on apache.org

> > 2. *Getting Two Word Phrase ==>* index contents,
> using lucene etc...
> >

You can add ShingleFilter to your analyzer chain.

http://lucene.apache.org/java/3_0_1/api/all/org/apache/lucene/analysis/shingle/ShingleFilter.html


      

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48167-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Dec 23 07:01:26 2010
Return-Path: <java-user-return-48167-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20006 invoked from network); 23 Dec 2010 07:01:25 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 23 Dec 2010 07:01:25 -0000
Received: (qmail 9589 invoked by uid 500); 23 Dec 2010 07:01:23 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9319 invoked by uid 500); 23 Dec 2010 07:01:22 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 9311 invoked by uid 99); 23 Dec 2010 07:01:22 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Dec 2010 07:01:21 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of umesh.iitk@gmail.com designates 74.125.82.176 as permitted sender)
Received: from [74.125.82.176] (HELO mail-wy0-f176.google.com) (74.125.82.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Dec 2010 07:01:15 +0000
Received: by wye20 with SMTP id 20so6143689wye.35
        for <java-user@lucene.apache.org>; Wed, 22 Dec 2010 23:00:54 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:in-reply-to
         :references:from:date:message-id:subject:to:content-type;
        bh=BgGyqyCRRhvQ1d8UbNpf3mRn4Foi8ceNc6qbm76Z/Sw=;
        b=SvmpGEDLoM84NUp1RfF0A56WKUvHbE0V3JmRxTcpTQfSmH+GSNGTHG75Kn3tgbL50c
         aINA/t8HbbLML52mEMo99Ka0FlVrRfcjnlrALATv1iqErSPPxwF+0+iUa/kxOLT2ABJ8
         ExfQfM4QSrkLIPzQdYZVFF8OsxYfluAFuDbMA=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=k/uolRmfCQTnO7FCJPyAgK4vZCC9EGsS6MXNQ/ZvLyYub+U9e/epfr6hVdQvLsSTNB
         vEaSyAn4n2D+9Aj8KnjNAIZuKiB90DPZJrevS/cyXzaxi3fQR15YDQkiZUqWiqBLaD4R
         +QAJKlpOfeB/ktjjhzL9XdehB4pZEk8qEs0dY=
Received: by 10.216.22.131 with SMTP id t3mr3851971wet.2.1293087637438; Wed,
 22 Dec 2010 23:00:37 -0800 (PST)
MIME-Version: 1.0
Received: by 10.216.27.10 with HTTP; Wed, 22 Dec 2010 23:00:11 -0800 (PST)
In-Reply-To: <AANLkTin6XVeeTBxewqJEfe2i-wdRkjnaONsp38tvaajw@mail.gmail.com>
References: <AANLkTinAnvpbuxcqe37ojpAGao=p=3+Ov4a24ukW-8uE@mail.gmail.com>
 <AANLkTimf7wG8Heiw7kWRm=gtR9FG5u+3oC8_zmyKqcqU@mail.gmail.com> <AANLkTin6XVeeTBxewqJEfe2i-wdRkjnaONsp38tvaajw@mail.gmail.com>
From: Umesh Prasad <umesh.iitk@gmail.com>
Date: Thu, 23 Dec 2010 12:30:11 +0530
Message-ID: <AANLkTim=4w0X4Pr0UBmCbXueLVYijDt5xx1d-0BjB2K3@mail.gmail.com>
Subject: Re: How to see results of an analyzer
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016364c79494b623604980e6dfd

--0016364c79494b623604980e6dfd
Content-Type: text/plain; charset=ISO-8859-1

For small texts, you can call tokenstream of Analyzer directly. That way you
don't have to crate an index.


http://lucene.apache.org/java/3_0_3/api/core/org/apache/lucene/analysis/Analyzer.html
http://lucene.apache.org/java/3_0_3/api/core/org/apache/lucene/analysis/TokenStream.html

Analyzer analyzer =  // create your analyzer.

TokenSteam ts = analyzer.tokenStream(fieldName, new
StringReader(fieldValue));

TermAttribute termAtt = ts.addAttribute(TermAttribute.class);
OffsetAttribute offsetAtt = ts.addAttribute(OffsetAttribute.class);
PositionIncrementAttribute posAtt =
ts.addAttribute(PositionIncrementAttribute.class);

while(ts.incrementToken())
{
  System.out.println(offset + "\t" + termAtt.term()  + "\t" +
posAtt.getPositionIncrement());
}


Hope that helps.



On Wed, Dec 22, 2010 at 9:28 PM, Lahiru Samarakoon <lahiruts@gmail.com>wrote:

> Hi Ian,
>
> Luke works for me.
>
> Thanks,
> Lahiru.
>



-- 
---
Thanks & Regards
Umesh Prasad

--0016364c79494b623604980e6dfd--

From java-user-return-48168-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Dec 23 13:43:18 2010
Return-Path: <java-user-return-48168-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 70093 invoked from network); 23 Dec 2010 13:43:17 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 23 Dec 2010 13:43:17 -0000
Received: (qmail 50523 invoked by uid 500); 23 Dec 2010 13:43:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50193 invoked by uid 500); 23 Dec 2010 13:43:15 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50178 invoked by uid 99); 23 Dec 2010 13:43:14 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Dec 2010 13:43:14 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of lahiruts@gmail.com designates 209.85.214.176 as permitted sender)
Received: from [209.85.214.176] (HELO mail-iw0-f176.google.com) (209.85.214.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Dec 2010 13:43:07 +0000
Received: by iwn2 with SMTP id 2so7059139iwn.35
        for <java-user@lucene.apache.org>; Thu, 23 Dec 2010 05:42:46 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=6RBfqBi4Y/WCK6gR6YdnC3kM8xvhBWJostCKK0yD56g=;
        b=ohyeILSr9SI78DbvBFN9iOX2MN3KnnmaoFm+ZeVvJhIh1fwRrXysXIH+PoyHXAOwkU
         hCW5QDJ6nuWaf3ongn032LG0wbo55QhvH3vcRm0qwuLHmO5da9dBdmY8XBVL8C+wSJGU
         vHiePoU7d9YUvg1Imdlbc72Cvfpuun6VyzKg0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=SPtrU15wFm4bHrsz3PSKZiHLvjgFN45qGskkoNwpJx10mUkDbU0lOBLPSRCPY1GIOg
         5rQ/UDsTSNuFZHV3jh6W1uIV8wlqcLlLdte4fRCO4Nh6ta0Mt+n5yBfOC96svRMjnCk2
         xb2MobwO1r707j55UaqNLxwzJ5/eICo0vI0lo=
MIME-Version: 1.0
Received: by 10.231.14.9 with SMTP id e9mr8098092iba.64.1293111765904; Thu, 23
 Dec 2010 05:42:45 -0800 (PST)
Received: by 10.231.27.195 with HTTP; Thu, 23 Dec 2010 05:42:45 -0800 (PST)
In-Reply-To: <AANLkTim=4w0X4Pr0UBmCbXueLVYijDt5xx1d-0BjB2K3@mail.gmail.com>
References: <AANLkTinAnvpbuxcqe37ojpAGao=p=3+Ov4a24ukW-8uE@mail.gmail.com>
	<AANLkTimf7wG8Heiw7kWRm=gtR9FG5u+3oC8_zmyKqcqU@mail.gmail.com>
	<AANLkTin6XVeeTBxewqJEfe2i-wdRkjnaONsp38tvaajw@mail.gmail.com>
	<AANLkTim=4w0X4Pr0UBmCbXueLVYijDt5xx1d-0BjB2K3@mail.gmail.com>
Date: Thu, 23 Dec 2010 19:12:45 +0530
Message-ID: <AANLkTikWtnuU5E1=S837rtodxvASTR95wL060shPSL1W@mail.gmail.com>
Subject: Re: How to see results of an analyzer
From: Lahiru Samarakoon <lahiruts@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0003255755c2762e8d0498140be9
X-Virus-Checked: Checked by ClamAV on apache.org

--0003255755c2762e8d0498140be9
Content-Type: text/plain; charset=ISO-8859-1

Hi Umesh,

Thanks for the descriptive answer.
Using your method I can test my custom analyzers without creating an index.

Best Regards,
Lahiru

--0003255755c2762e8d0498140be9--

From java-user-return-48169-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Dec 23 20:24:01 2010
Return-Path: <java-user-return-48169-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92704 invoked from network); 23 Dec 2010 20:24:01 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 23 Dec 2010 20:24:01 -0000
Received: (qmail 98769 invoked by uid 500); 23 Dec 2010 20:23:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 98720 invoked by uid 500); 23 Dec 2010 20:23:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 98712 invoked by uid 99); 23 Dec 2010 20:23:58 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Dec 2010 20:23:58 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of jsaardchit@go2.com designates 38.97.64.35 as permitted sender)
Received: from [38.97.64.35] (HELO mail.go2.com) (38.97.64.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Dec 2010 20:23:49 +0000
Received: from [10.0.1.4] ([75.82.49.1]) by mail.go2.com over TLS secured channel with Microsoft SMTPSVC(6.0.3790.4675);
	 Thu, 23 Dec 2010 15:23:28 -0500
From: Jordon Saardchit <jsaardchit@go2.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: quoted-printable
Subject: Get Analyzed/Tokenized Field List
Date: Thu, 23 Dec 2010 12:23:25 -0800
Message-Id: <E65782AA-EA1D-453C-8F1C-1C743B72E35E@go2.com>
To: java-user@lucene.apache.org
Mime-Version: 1.0 (Apple Message framework v1082)
X-Mailer: Apple Mail (2.1082)
X-OriginalArrivalTime: 23 Dec 2010 20:23:28.0185 (UTC) FILETIME=[422D1A90:01CBA2DF]
X-Virus-Checked: Checked by ClamAV on apache.org

Is there an easy way to retrieve a collection of fields (or field names) =
that are analyzed/tokenized from any given index?

Jordon=

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48170-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Dec 23 21:31:14 2010
Return-Path: <java-user-return-48170-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 14913 invoked from network); 23 Dec 2010 21:31:14 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 23 Dec 2010 21:31:14 -0000
Received: (qmail 64026 invoked by uid 500); 23 Dec 2010 21:31:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 63970 invoked by uid 500); 23 Dec 2010 21:31:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 63962 invoked by uid 99); 23 Dec 2010 21:31:11 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Dec 2010 21:31:11 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of erickerickson@gmail.com designates 209.85.216.176 as permitted sender)
Received: from [209.85.216.176] (HELO mail-qy0-f176.google.com) (209.85.216.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Dec 2010 21:31:05 +0000
Received: by qyk10 with SMTP id 10so6721347qyk.14
        for <java-user@lucene.apache.org>; Thu, 23 Dec 2010 13:30:44 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=PR+FN4diwN/9iJVE6fHVvzj70qDVGpWw74zwN5//AE0=;
        b=cw6VqwKe4CVAvL2O607EPTBasQge55K/p8qFnkVzBtQpDvuxQ5GMyJjlaj4dT0f7ko
         IqjTTk/7BqVMPlxgXb3O0OhqGKw84HAn+piaDTyFzi6tGvzV7FWRtMrTjz51WKDQrjTG
         JYAZ3oj65jYO6P23EW9fkddEN+qZ0dX8c83pg=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=AQqO5h9X2DGqF4d6bo7OC+ESa5fwfEf2obUM0lSC/xNAErXGLhatdMcO6luvxS3bRm
         VXLU+Ucl73jisYmxE9acri6iLcQWqMSwo1ND99lHk0sm/WgO3+v2VD82k2rN+EfQP6Un
         AQoGt7C+WDKZqyEZ75DHLvGI0fSMLFH/kaJtg=
MIME-Version: 1.0
Received: by 10.229.183.135 with SMTP id cg7mr728604qcb.38.1293139844203; Thu,
 23 Dec 2010 13:30:44 -0800 (PST)
Received: by 10.229.235.208 with HTTP; Thu, 23 Dec 2010 13:30:44 -0800 (PST)
In-Reply-To: <E65782AA-EA1D-453C-8F1C-1C743B72E35E@go2.com>
References: <E65782AA-EA1D-453C-8F1C-1C743B72E35E@go2.com>
Date: Thu, 23 Dec 2010 16:30:44 -0500
Message-ID: <AANLkTimpMwE-mp3fFspLUa4gR_-QbT_b0NkGLE5QqXLi@mail.gmail.com>
Subject: Re: Get Analyzed/Tokenized Field List
From: Erick Erickson <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016364d2c910f03fb04981a959f
X-Virus-Checked: Checked by ClamAV on apache.org

--0016364d2c910f03fb04981a959f
Content-Type: text/plain; charset=ISO-8859-1

Have you looked at IndexReader.getFieldNames()?

Best
Erick

On Thu, Dec 23, 2010 at 3:23 PM, Jordon Saardchit <jsaardchit@go2.com>wrote:

> Is there an easy way to retrieve a collection of fields (or field names)
> that are analyzed/tokenized from any given index?
>
> Jordon
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--0016364d2c910f03fb04981a959f--

From java-user-return-48171-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Dec 23 21:44:19 2010
Return-Path: <java-user-return-48171-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 18627 invoked from network); 23 Dec 2010 21:44:19 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 23 Dec 2010 21:44:19 -0000
Received: (qmail 75461 invoked by uid 500); 23 Dec 2010 21:44:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75416 invoked by uid 500); 23 Dec 2010 21:44:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75408 invoked by uid 99); 23 Dec 2010 21:44:17 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Dec 2010 21:44:17 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of jsaardchit@go2.com designates 38.97.64.35 as permitted sender)
Received: from [38.97.64.35] (HELO mail.go2.com) (38.97.64.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Dec 2010 21:44:09 +0000
Received: from [10.0.1.4] ([75.82.49.1]) by mail.go2.com over TLS secured channel with Microsoft SMTPSVC(6.0.3790.4675);
	 Thu, 23 Dec 2010 16:43:49 -0500
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Apple Message framework v1082)
Subject: Re: Get Analyzed/Tokenized Field List
From: Jordon Saardchit <jsaardchit@go2.com>
In-Reply-To: <AANLkTimpMwE-mp3fFspLUa4gR_-QbT_b0NkGLE5QqXLi@mail.gmail.com>
Date: Thu, 23 Dec 2010 13:43:47 -0800
Content-Transfer-Encoding: quoted-printable
Message-Id: <1A297333-56F0-4485-BD74-8E3DC96AE39E@go2.com>
References: <E65782AA-EA1D-453C-8F1C-1C743B72E35E@go2.com> <AANLkTimpMwE-mp3fFspLUa4gR_-QbT_b0NkGLE5QqXLi@mail.gmail.com>
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.1082)
X-OriginalArrivalTime: 23 Dec 2010 21:43:49.0400 (UTC) FILETIME=[7BD82180:01CBA2EA]
X-Virus-Checked: Checked by ClamAV on apache.org

Yes I have, and after testing each of the various options denoted in =
IndexReader.FieldOption, I cannot retrieve fieldnames that are indexed =
(analyzed), and unstored.  I figured this would be relatively easy to do =
and I was simply overlooking something.  Is it perhaps not possible to =
do this?

Jordon

On Dec 23, 2010, at 1:30 PM, Erick Erickson wrote:

> Have you looked at IndexReader.getFieldNames()?
>=20
> Best
> Erick
>=20
> On Thu, Dec 23, 2010 at 3:23 PM, Jordon Saardchit =
<jsaardchit@go2.com>wrote:
>=20
>> Is there an easy way to retrieve a collection of fields (or field =
names)
>> that are analyzed/tokenized from any given index?
>>=20
>> Jordon
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>=20
>>=20


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48172-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Dec 23 22:51:57 2010
Return-Path: <java-user-return-48172-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40913 invoked from network); 23 Dec 2010 22:51:56 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 23 Dec 2010 22:51:56 -0000
Received: (qmail 32918 invoked by uid 500); 23 Dec 2010 22:51:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 32875 invoked by uid 500); 23 Dec 2010 22:51:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 32867 invoked by uid 99); 23 Dec 2010 22:51:54 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Dec 2010 22:51:54 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of erickerickson@gmail.com designates 209.85.216.169 as permitted sender)
Received: from [209.85.216.169] (HELO mail-qy0-f169.google.com) (209.85.216.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Dec 2010 22:51:47 +0000
Received: by qyk7 with SMTP id 7so7489079qyk.14
        for <java-user@lucene.apache.org>; Thu, 23 Dec 2010 14:51:27 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=O6yDPc60p/YA1piCg4e1pnuuBraxoVGP/m2fK1CNfcE=;
        b=lthhQ5WiUyX0pM2IMrxCVuKaREyIMozJle4k7ND+RsbisP6VV2Ji5wJ8UDej8xwYjP
         Iwr2+qp22kQ19wdrRHnsGJKvuQFOYCNjUm/S40+m5ROJF/CwHud5POkUwGZ8lGwRsjcN
         2DI3j7b7Ob8WSDv3m6+MxIaSGvTm1rIYnNq5k=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=toD/1YzxHuqPVNbIWwgyt7VQkrs8v6TaBi9kbsDFgd7sFHkiAAVftsdzdOVfqnErqj
         CWkDqWLzlSNb4CnJx8kUhDX5ikneQmJ3l87xMv52YnfLd/i6mg3A9sRrdP8aZXivVvJU
         m/SxFeFI+qmZDmIEGMAFylD0TWiMFbHDbm3Tk=
MIME-Version: 1.0
Received: by 10.229.186.141 with SMTP id cs13mr7524144qcb.283.1293144687121;
 Thu, 23 Dec 2010 14:51:27 -0800 (PST)
Received: by 10.229.235.208 with HTTP; Thu, 23 Dec 2010 14:51:27 -0800 (PST)
In-Reply-To: <1A297333-56F0-4485-BD74-8E3DC96AE39E@go2.com>
References: <E65782AA-EA1D-453C-8F1C-1C743B72E35E@go2.com>
	<AANLkTimpMwE-mp3fFspLUa4gR_-QbT_b0NkGLE5QqXLi@mail.gmail.com>
	<1A297333-56F0-4485-BD74-8E3DC96AE39E@go2.com>
Date: Thu, 23 Dec 2010 17:51:27 -0500
Message-ID: <AANLkTim+4bSQ8WFhSR5sJ1MAH2Nmqd8hVfwNQFTVZzPm@mail.gmail.com>
Subject: Re: Get Analyzed/Tokenized Field List
From: Erick Erickson <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016362848bcb814e904981bb5ec
X-Virus-Checked: Checked by ClamAV on apache.org

--0016362848bcb814e904981bb5ec
Content-Type: text/plain; charset=ISO-8859-1

Ah, you didn't mention indexed but unstored in your original message,
just indexed/analyzed....

I don't think you can (someone jump in here if I'm wrong, please). The
problem
is that Lucene doesn't require any sort of schema. So if you are perfectly
free to
store a field in one document and NOT store it in another. All the variants
specified in IndexReader.fieldOption can quickly be determined by just
looking at the
various index files. But you'd have to spin through all the #documents# in
order
to answer the question "is this field ever stored?". Sounds like a table
scan in the
DB world.

I don't think Lucene keeps meta-data for this, and spinning through all the
documents
would be expensive...

Why do you want to know? Perhaps there's another way to satisfy the
use-case.

I could be way off base here, I'm speaking from general principles not
knowledge of
the code...

Best
Erick

On Thu, Dec 23, 2010 at 4:43 PM, Jordon Saardchit <jsaardchit@go2.com>wrote:

> Yes I have, and after testing each of the various options denoted in
> IndexReader.FieldOption, I cannot retrieve fieldnames that are indexed
> (analyzed), and unstored.  I figured this would be relatively easy to do and
> I was simply overlooking something.  Is it perhaps not possible to do this?
>
> Jordon
>
> On Dec 23, 2010, at 1:30 PM, Erick Erickson wrote:
>
> > Have you looked at IndexReader.getFieldNames()?
> >
> > Best
> > Erick
> >
> > On Thu, Dec 23, 2010 at 3:23 PM, Jordon Saardchit <jsaardchit@go2.com
> >wrote:
> >
> >> Is there an easy way to retrieve a collection of fields (or field names)
> >> that are analyzed/tokenized from any given index?
> >>
> >> Jordon
> >> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >> For additional commands, e-mail: java-user-help@lucene.apache.org
> >>
> >>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--0016362848bcb814e904981bb5ec--

From java-user-return-48173-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Dec 23 23:33:11 2010
Return-Path: <java-user-return-48173-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55593 invoked from network); 23 Dec 2010 23:33:10 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 23 Dec 2010 23:33:10 -0000
Received: (qmail 50832 invoked by uid 500); 23 Dec 2010 23:33:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50778 invoked by uid 500); 23 Dec 2010 23:33:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50770 invoked by uid 99); 23 Dec 2010 23:33:08 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Dec 2010 23:33:08 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of jsaardchit@go2.com designates 38.97.64.35 as permitted sender)
Received: from [38.97.64.35] (HELO mail.go2.com) (38.97.64.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 23 Dec 2010 23:33:02 +0000
Received: from [10.0.1.4] ([75.82.49.1]) by mail.go2.com over TLS secured channel with Microsoft SMTPSVC(6.0.3790.4675);
	 Thu, 23 Dec 2010 18:32:41 -0500
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Apple Message framework v1082)
Subject: Re: Get Analyzed/Tokenized Field List
From: Jordon Saardchit <jsaardchit@go2.com>
In-Reply-To: <AANLkTim+4bSQ8WFhSR5sJ1MAH2Nmqd8hVfwNQFTVZzPm@mail.gmail.com>
Date: Thu, 23 Dec 2010 15:32:38 -0800
Content-Transfer-Encoding: quoted-printable
Message-Id: <EFB94529-E150-4155-938C-4AE8432895C4@go2.com>
References: <E65782AA-EA1D-453C-8F1C-1C743B72E35E@go2.com> <AANLkTimpMwE-mp3fFspLUa4gR_-QbT_b0NkGLE5QqXLi@mail.gmail.com> <1A297333-56F0-4485-BD74-8E3DC96AE39E@go2.com> <AANLkTim+4bSQ8WFhSR5sJ1MAH2Nmqd8hVfwNQFTVZzPm@mail.gmail.com>
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.1082)
X-OriginalArrivalTime: 23 Dec 2010 23:32:41.0568 (UTC) FILETIME=[B151DE00:01CBA2F9]

The basic use case is determiniation of rules in regards to building a =
query.  I've got an application that programmatically builds queries =
(without any pre existing knowledge of the contents of the index it is =
searching).  We have a custom designed analyzer and filter chain.  =
However, it is applied to certain fields at index time.  The fields it =
is applied to are unstored.

On the search side, I want to be able to determine at runtime which =
field the analyzer should be applied to, and which field not to.  I =
could be approaching the solution incorrectly, but I figured this would =
be a pretty common or natural use case.

Jordon

On Dec 23, 2010, at 2:51 PM, Erick Erickson wrote:

> Ah, you didn't mention indexed but unstored in your original message,
> just indexed/analyzed....
>=20
> I don't think you can (someone jump in here if I'm wrong, please). The
> problem
> is that Lucene doesn't require any sort of schema. So if you are =
perfectly
> free to
> store a field in one document and NOT store it in another. All the =
variants
> specified in IndexReader.fieldOption can quickly be determined by just
> looking at the
> various index files. But you'd have to spin through all the =
#documents# in
> order
> to answer the question "is this field ever stored?". Sounds like a =
table
> scan in the
> DB world.
>=20
> I don't think Lucene keeps meta-data for this, and spinning through =
all the
> documents
> would be expensive...
>=20
> Why do you want to know? Perhaps there's another way to satisfy the
> use-case.
>=20
> I could be way off base here, I'm speaking from general principles not
> knowledge of
> the code...
>=20
> Best
> Erick
>=20
> On Thu, Dec 23, 2010 at 4:43 PM, Jordon Saardchit =
<jsaardchit@go2.com>wrote:
>=20
>> Yes I have, and after testing each of the various options denoted in
>> IndexReader.FieldOption, I cannot retrieve fieldnames that are =
indexed
>> (analyzed), and unstored.  I figured this would be relatively easy to =
do and
>> I was simply overlooking something.  Is it perhaps not possible to do =
this?
>>=20
>> Jordon
>>=20
>> On Dec 23, 2010, at 1:30 PM, Erick Erickson wrote:
>>=20
>>> Have you looked at IndexReader.getFieldNames()?
>>>=20
>>> Best
>>> Erick
>>>=20
>>> On Thu, Dec 23, 2010 at 3:23 PM, Jordon Saardchit =
<jsaardchit@go2.com
>>> wrote:
>>>=20
>>>> Is there an easy way to retrieve a collection of fields (or field =
names)
>>>> that are analyzed/tokenized from any given index?
>>>>=20
>>>> Jordon
>>>> =
---------------------------------------------------------------------
>>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>>=20
>>>>=20
>>=20
>>=20
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>=20
>>=20


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48174-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Dec 24 02:00:10 2010
Return-Path: <java-user-return-48174-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 9274 invoked from network); 24 Dec 2010 02:00:10 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 24 Dec 2010 02:00:10 -0000
Received: (qmail 75707 invoked by uid 500); 24 Dec 2010 02:00:04 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 75584 invoked by uid 500); 24 Dec 2010 02:00:04 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 75576 invoked by uid 99); 24 Dec 2010 02:00:04 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 24 Dec 2010 02:00:04 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of erickerickson@gmail.com designates 209.85.216.48 as permitted sender)
Received: from [209.85.216.48] (HELO mail-qw0-f48.google.com) (209.85.216.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 24 Dec 2010 01:59:58 +0000
Received: by qwh6 with SMTP id 6so7001744qwh.35
        for <java-user@lucene.apache.org>; Thu, 23 Dec 2010 17:59:37 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=Sm180uMpHPg7MhKcA/fIdqOlROQc8Qh0E++JOD6dUwo=;
        b=NEyBTTFwJCpR6zXFpgTe8KWJ22Jw86D/EsV8EA00S+6BkiToPHJBLrCSlkWOX3XYhW
         /Wl9CjgGk/wVZG0igsLBHh/uBXfsM7b5jVgFg5OkS9GwqBlMfASXmdVhN4RUzmGleJUq
         9WSGYRD+cu0RG0sJENZ2vDZZDzb+w9B4t+0Nw=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=Te2ipySLf+4Ev3G1kGg76Fne65swFapw3Q0AKL5aMZbrk14w6pfTn60IUv76GTa4yg
         3V3hr9yBLMgeg0p+jQpsxN/rBUCBtZWal0vkyMd8ndaO6t3zqme7Z3r8QD5dEVWWVmos
         JXYqeXR0na57w7rE/JbUOizcbOO8wKtf7p9rs=
MIME-Version: 1.0
Received: by 10.229.82.80 with SMTP id a16mr7562630qcl.76.1293155977463; Thu,
 23 Dec 2010 17:59:37 -0800 (PST)
Received: by 10.229.235.208 with HTTP; Thu, 23 Dec 2010 17:59:37 -0800 (PST)
In-Reply-To: <EFB94529-E150-4155-938C-4AE8432895C4@go2.com>
References: <E65782AA-EA1D-453C-8F1C-1C743B72E35E@go2.com>
	<AANLkTimpMwE-mp3fFspLUa4gR_-QbT_b0NkGLE5QqXLi@mail.gmail.com>
	<1A297333-56F0-4485-BD74-8E3DC96AE39E@go2.com>
	<AANLkTim+4bSQ8WFhSR5sJ1MAH2Nmqd8hVfwNQFTVZzPm@mail.gmail.com>
	<EFB94529-E150-4155-938C-4AE8432895C4@go2.com>
Date: Thu, 23 Dec 2010 20:59:37 -0500
Message-ID: <AANLkTikJb4oD5nvGeek+=vDrBihgGBuWg=PsAKe8c+g5@mail.gmail.com>
Subject: Re: Get Analyzed/Tokenized Field List
From: Erick Erickson <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016364ee404ad09a204981e5681

--0016364ee404ad09a204981e5681
Content-Type: text/plain; charset=ISO-8859-1

I guess I'm missing the point. The fact that it is stored is irrelevant for
searching. Stored
fields really only govern whether Document.getField("fieldname") returns
anything #after#
the search. You can find out if a field is stored-only by asking
IndexReader.getFields
for UNINDEXED, and you can search on anything that is INDEXED.

So if, say, you're creating a drop-down with a selection of fields to choose
from, you
should be able to get the list by looking for INDEXED.

But somewhere you've got to insure that the analyzers used at index time are
identical
or compatible with those used at query time. If all you're concerned is
building up a string
like "+text:stuff +title:nonsense" and handing that off to the app that
knows how the index
was built (so it can use the right analyzers for the text and title fields
when parsing the input)
looking for INDEXED should be fine.

If you're #only# using  your custom analyzer for searchable fields, it's
fine because any INDEXED
field can use the your custom analyzer.

But if you use different analyzers for different searchable fields, there's
no way I know of to
analyze an index and answer the question "what analyzer was this field
created with",
that knowledge is built a-priori into the app as far as I know.


Best
Erick


On Thu, Dec 23, 2010 at 6:32 PM, Jordon Saardchit <jsaardchit@go2.com>wrote:

> The basic use case is determiniation of rules in regards to building a
> query.  I've got an application that programmatically builds queries
> (without any pre existing knowledge of the contents of the index it is
> searching).  We have a custom designed analyzer and filter chain.  However,
> it is applied to certain fields at index time.  The fields it is applied to
> are unstored.
>
> On the search side, I want to be able to determine at runtime which field
> the analyzer should be applied to, and which field not to.  I could be
> approaching the solution incorrectly, but I figured this would be a pretty
> common or natural use case.
>
> Jordon
>
> On Dec 23, 2010, at 2:51 PM, Erick Erickson wrote:
>
> > Ah, you didn't mention indexed but unstored in your original message,
> > just indexed/analyzed....
> >
> > I don't think you can (someone jump in here if I'm wrong, please). The
> > problem
> > is that Lucene doesn't require any sort of schema. So if you are
> perfectly
> > free to
> > store a field in one document and NOT store it in another. All the
> variants
> > specified in IndexReader.fieldOption can quickly be determined by just
> > looking at the
> > various index files. But you'd have to spin through all the #documents#
> in
> > order
> > to answer the question "is this field ever stored?". Sounds like a table
> > scan in the
> > DB world.
> >
> > I don't think Lucene keeps meta-data for this, and spinning through all
> the
> > documents
> > would be expensive...
> >
> > Why do you want to know? Perhaps there's another way to satisfy the
> > use-case.
> >
> > I could be way off base here, I'm speaking from general principles not
> > knowledge of
> > the code...
> >
> > Best
> > Erick
> >
> > On Thu, Dec 23, 2010 at 4:43 PM, Jordon Saardchit <jsaardchit@go2.com
> >wrote:
> >
> >> Yes I have, and after testing each of the various options denoted in
> >> IndexReader.FieldOption, I cannot retrieve fieldnames that are indexed
> >> (analyzed), and unstored.  I figured this would be relatively easy to do
> and
> >> I was simply overlooking something.  Is it perhaps not possible to do
> this?
> >>
> >> Jordon
> >>
> >> On Dec 23, 2010, at 1:30 PM, Erick Erickson wrote:
> >>
> >>> Have you looked at IndexReader.getFieldNames()?
> >>>
> >>> Best
> >>> Erick
> >>>
> >>> On Thu, Dec 23, 2010 at 3:23 PM, Jordon Saardchit <jsaardchit@go2.com
> >>> wrote:
> >>>
> >>>> Is there an easy way to retrieve a collection of fields (or field
> names)
> >>>> that are analyzed/tokenized from any given index?
> >>>>
> >>>> Jordon
> >>>> ---------------------------------------------------------------------
> >>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >>>> For additional commands, e-mail: java-user-help@lucene.apache.org
> >>>>
> >>>>
> >>
> >>
> >> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >> For additional commands, e-mail: java-user-help@lucene.apache.org
> >>
> >>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--0016364ee404ad09a204981e5681--

From java-user-return-48175-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Dec 24 05:10:32 2010
Return-Path: <java-user-return-48175-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 81220 invoked from network); 24 Dec 2010 05:10:32 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 24 Dec 2010 05:10:32 -0000
Received: (qmail 58423 invoked by uid 500); 24 Dec 2010 05:10:30 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58193 invoked by uid 500); 24 Dec 2010 05:10:29 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58180 invoked by uid 99); 24 Dec 2010 05:10:29 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 24 Dec 2010 05:10:29 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of jlal@chambal.com designates 74.125.82.176 as permitted sender)
Received: from [74.125.82.176] (HELO mail-wy0-f176.google.com) (74.125.82.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 24 Dec 2010 05:10:21 +0000
Received: by wye20 with SMTP id 20so7094128wye.35
        for <java-user@lucene.apache.org>; Thu, 23 Dec 2010 21:10:00 -0800 (PST)
MIME-Version: 1.0
Received: by 10.216.178.138 with SMTP id f10mr9712691wem.98.1293167400783;
 Thu, 23 Dec 2010 21:10:00 -0800 (PST)
Received: by 10.216.255.147 with HTTP; Thu, 23 Dec 2010 21:10:00 -0800 (PST)
Date: Fri, 24 Dec 2010 10:40:00 +0530
Message-ID: <AANLkTinADJ+sSN3F49WBay-Ahzb96KfRMR03GO9XF8n+@mail.gmail.com>
Subject: Getting
From: Jawahar Lal <jlal@chambal.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016364266458f0e14049820ff2c
X-Virus-Checked: Checked by ClamAV on apache.org

--0016364266458f0e14049820ff2c
Content-Type: text/plain; charset=ISO-8859-1

Hi,

  I search for an query. Total searched records are 5000. I only shows 100
records on one page. So I passed 100 as nDocs.

I write the code in this way.

           IndexSearcher searcher = new IndexSearcher(FSDirectory.open(new
File(path)));

            Query query = new QueryParser(Version.LUCENE_30, "field1", new
StandardAnalyzer(Version.LUCENE_30)).parse("query");
            Query query1 = new QueryParser(Version.LUCENE_30, "field2", new
StandardAnalyzer(Version.LUCENE_30)).parse("query2");
            BooleanQuery lucBoolQueryOTHER = new BooleanQuery();
            lucBoolQueryOTHER.add(query, Occur.MUST);
            lucBoolQueryOTHER.add(query1, Occur.MUST);

            TopDocs hits=searcher.search(query, null, 100);

            System.err.println("Total searched " + hits.totalHits);   >>
5000
            System.err.println("Total docs " + hits.scoreDocs.length);  >>
100

// The code to print 100 records on first page
            for(int i=0;i<hits.scoreDocs.length;i++){

System.out.println(searcher.doc(hits.scoreDocs[i].doc).getField("filename"));
            }

it worked fine.

// Now I want to show all next search documents on Second Pages...when I
tried in this way, I got the error.
            for(int i=100;i<hits.totalHits;i++){

System.out.println(searcher.doc(hits.scoreDocs[i].doc).getField("filename"));
            }

            searcher.close();

java.lang.ArrayIndexOutOfBoundsException: 100
        at Test.searchIndex(Test.java:96)
        at Test.main(Test.java:54)

Would need to perform searching again with different parameters to fetch
next bunch of records ?




Thanks

--0016364266458f0e14049820ff2c--

From java-user-return-48176-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Dec 24 07:00:29 2010
Return-Path: <java-user-return-48176-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 33286 invoked from network); 24 Dec 2010 07:00:29 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 24 Dec 2010 07:00:29 -0000
Received: (qmail 11503 invoked by uid 500); 24 Dec 2010 07:00:26 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11276 invoked by uid 500); 24 Dec 2010 07:00:26 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 11267 invoked by uid 99); 24 Dec 2010 07:00:25 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 24 Dec 2010 07:00:25 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of senthilruban@gmail.com designates 209.85.216.169 as permitted sender)
Received: from [209.85.216.169] (HELO mail-qy0-f169.google.com) (209.85.216.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 24 Dec 2010 07:00:18 +0000
Received: by qyk7 with SMTP id 7so7692519qyk.14
        for <java-user@lucene.apache.org>; Thu, 23 Dec 2010 22:59:57 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=A/CS2oEIzvxLjtjpmHREL/JCyCJKehyo0e6DbCfcxMA=;
        b=gBmM7seaHbQCepBMZ42O6x4w+zVWsNbUL9LBLFLchtpjNMdtu9G11jGTtgx77QmOWN
         7FDQXqzIvFTFZ/AmZN4+QXaMEnq/Ca7yGfCV6SN7OZ0A74eZGASRiseZm2uAm/X9J2/m
         pSyiB1n7HjW7ytKO6DZOqwAZABxJraV2nQyec=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=qRm5CgkPKET/+ikLUS9sucAZqPtSXM0ryCMFHaHB8tYortnIftGg3jFw2gjuRZNEO3
         +gE4QLf704hQa5Z5eNtzYSeOQRSdB5xl2DqBpESBUre4inSJLGTMqJfJQKyg2a0fG/aZ
         ts3zFZF0sgcvdx/LCAU1kRGsGgOunWvT/HVaQ=
MIME-Version: 1.0
Received: by 10.229.229.68 with SMTP id jh4mr7824521qcb.103.1293173997592;
 Thu, 23 Dec 2010 22:59:57 -0800 (PST)
Received: by 10.229.92.13 with HTTP; Thu, 23 Dec 2010 22:59:57 -0800 (PST)
In-Reply-To: <AANLkTinADJ+sSN3F49WBay-Ahzb96KfRMR03GO9XF8n+@mail.gmail.com>
References: <AANLkTinADJ+sSN3F49WBay-Ahzb96KfRMR03GO9XF8n+@mail.gmail.com>
Date: Fri, 24 Dec 2010 19:59:57 +1300
Message-ID: <AANLkTik7hso36KHDJamWQV7xdd3yEf=sL-BOxfX4BgLD@mail.gmail.com>
Subject: Re: Getting
From: Senthil <senthilruban@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=00163630f519c2607804982288ef
X-Virus-Checked: Checked by ClamAV on apache.org

--00163630f519c2607804982288ef
Content-Type: text/plain; charset=ISO-8859-1

Hi

 As long as your code request for 100 results, it definitely return of max
of 100 documents only.
   See your code:
    TopDocs hits=searcher.search(query, null, *100*);

Regards
Senthil

On Fri, Dec 24, 2010 at 6:10 PM, Jawahar Lal <jlal@chambal.com> wrote:

> Hi,
>
>  I search for an query. Total searched records are 5000. I only shows 100
> records on one page. So I passed 100 as nDocs.
>
> I write the code in this way.
>
>           IndexSearcher searcher = new IndexSearcher(FSDirectory.open(new
> File(path)));
>
>            Query query = new QueryParser(Version.LUCENE_30, "field1", new
> StandardAnalyzer(Version.LUCENE_30)).parse("query");
>            Query query1 = new QueryParser(Version.LUCENE_30, "field2", new
> StandardAnalyzer(Version.LUCENE_30)).parse("query2");
>            BooleanQuery lucBoolQueryOTHER = new BooleanQuery();
>            lucBoolQueryOTHER.add(query, Occur.MUST);
>            lucBoolQueryOTHER.add(query1, Occur.MUST);
>
>            TopDocs hits=searcher.search(query, null, 100);
>
>            System.err.println("Total searched " + hits.totalHits);   >>
> 5000
>            System.err.println("Total docs " + hits.scoreDocs.length);  >>
> 100
>
> // The code to print 100 records on first page
>            for(int i=0;i<hits.scoreDocs.length;i++){
>
>
> System.out.println(searcher.doc(hits.scoreDocs[i].doc).getField("filename"));
>            }
>
> it worked fine.
>
> // Now I want to show all next search documents on Second Pages...when I
> tried in this way, I got the error.
>            for(int i=100;i<hits.totalHits;i++){
>
>
> System.out.println(searcher.doc(hits.scoreDocs[i].doc).getField("filename"));
>            }
>
>            searcher.close();
>
> java.lang.ArrayIndexOutOfBoundsException: 100
>        at Test.searchIndex(Test.java:96)
>        at Test.main(Test.java:54)
>
> Would need to perform searching again with different parameters to fetch
> next bunch of records ?
>
>
>
>
> Thanks
>

--00163630f519c2607804982288ef--

From java-user-return-48177-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Dec 24 07:06:44 2010
Return-Path: <java-user-return-48177-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 42035 invoked from network); 24 Dec 2010 07:06:44 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 24 Dec 2010 07:06:44 -0000
Received: (qmail 14454 invoked by uid 500); 24 Dec 2010 07:06:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 14322 invoked by uid 500); 24 Dec 2010 07:06:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 14314 invoked by uid 99); 24 Dec 2010 07:06:41 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 24 Dec 2010 07:06:41 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of umesh.iitk@gmail.com designates 74.125.82.176 as permitted sender)
Received: from [74.125.82.176] (HELO mail-wy0-f176.google.com) (74.125.82.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 24 Dec 2010 07:06:37 +0000
Received: by wye20 with SMTP id 20so7145084wye.35
        for <java-user@lucene.apache.org>; Thu, 23 Dec 2010 23:06:15 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:in-reply-to
         :references:from:date:message-id:subject:to:content-type;
        bh=1jnbjVqRvwGZQS0vLVXliLi3D6Swj1owyh4S+zbK94c=;
        b=RsWrIt7LEEfeWnYNls+1uA9JmxiV4Sk3bpQvN2089Q1Mftx12QjHLvahnPzx3gjfNj
         1VIy4m7QprTeUGbyqvnm5tIbZMPwzZmW+bVKaItLU8YdvU7zqonBKXvPJIP1Bi2DyTMl
         wGryKtrahwnCLlJR8yG89AohYcspaYpBszlgI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=iev2lqI/txLk9J0yATjc9/23xSwKoabgYtHs0hDjuIW1++H1cTJV0cpUfa66EDoEub
         vTtxeb6mYxxXoRyHvxokutbgaKh1ACYneJUB/73LNLhBPfg8KDxG/QCeRAOQMN07F0k8
         GfNGvYk4VRR2Mrd9UcX7DqRsTaDZ3D7iOo3KM=
Received: by 10.216.183.209 with SMTP id q59mr9682411wem.17.1293174373757;
 Thu, 23 Dec 2010 23:06:13 -0800 (PST)
MIME-Version: 1.0
Received: by 10.216.27.10 with HTTP; Thu, 23 Dec 2010 23:05:53 -0800 (PST)
In-Reply-To: <AANLkTinADJ+sSN3F49WBay-Ahzb96KfRMR03GO9XF8n+@mail.gmail.com>
References: <AANLkTinADJ+sSN3F49WBay-Ahzb96KfRMR03GO9XF8n+@mail.gmail.com>
From: Umesh Prasad <umesh.iitk@gmail.com>
Date: Fri, 24 Dec 2010 12:35:53 +0530
Message-ID: <AANLkTikVT3qfXmKpYJp27XiLo=oUNeY7XMd+nT3-1Ne1@mail.gmail.com>
Subject: Re: Getting
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=001636416f192e31e90498229f40

--001636416f192e31e90498229f40
Content-Type: text/plain; charset=ISO-8859-1

Hi Jawahar,
   http://search-lucene.com/m/duTpc14AmzV
See Uwe's reply.



Regards
Umesh

PS: I would use search-lucene.com to 1st check if a solution is posted
already. It is really good.

------------------------
QUOTED UWE's reply
----------------------

To get the second page,
Take:
int hitsPerPage = 10;
int pageOffset = 10;
TopDocCollector collector = new TopDocCollector(hitsPerPage + pageOffset);

For page third page take int pageOffset = 20; and so on

After that your results are in hits[], for the first page in [0] to [9], the
second page in [10] to [19] and so on:

To display use something like:
For (int i=pageOffset; Math.min(hitsPerPage + pageOffset,
collector.topDocs().totalhits); i++)

In general, you cannot retrieve a range directly, you can only retrieve the
top docs. As most people will not go beyond say page 10 when searching, you
have no memory problem, as scoreDocs will contain at most 100 doc ids.

---------------
-------------------


On Fri, Dec 24, 2010 at 10:40 AM, Jawahar Lal <jlal@chambal.com> wrote:

> Hi,
>
>  I search for an query. Total searched records are 5000. I only shows 100
> records on one page. So I passed 100 as nDocs.
>
> I write the code in this way.
>
>           IndexSearcher searcher = new IndexSearcher(FSDirectory.open(new
> File(path)));
>
>            Query query = new QueryParser(Version.LUCENE_30, "field1", new
> StandardAnalyzer(Version.LUCENE_30)).parse("query");
>            Query query1 = new QueryParser(Version.LUCENE_30, "field2", new
> StandardAnalyzer(Version.LUCENE_30)).parse("query2");
>            BooleanQuery lucBoolQueryOTHER = new BooleanQuery();
>            lucBoolQueryOTHER.add(query, Occur.MUST);
>            lucBoolQueryOTHER.add(query1, Occur.MUST);
>
>            TopDocs hits=searcher.search(query, null, 100);
>
>            System.err.println("Total searched " + hits.totalHits);   >>
> 5000
>            System.err.println("Total docs " + hits.scoreDocs.length);  >>
> 100
>
> // The code to print 100 records on first page
>            for(int i=0;i<hits.scoreDocs.length;i++){
>
>
> System.out.println(searcher.doc(hits.scoreDocs[i].doc).getField("filename"));
>            }
>
> it worked fine.
>
> // Now I want to show all next search documents on Second Pages...when I
> tried in this way, I got the error.
>            for(int i=100;i<hits.totalHits;i++){
>
>
> System.out.println(searcher.doc(hits.scoreDocs[i].doc).getField("filename"));
>            }
>
>            searcher.close();
>
> java.lang.ArrayIndexOutOfBoundsException: 100
>        at Test.searchIndex(Test.java:96)
>        at Test.main(Test.java:54)
>
> Would need to perform searching again with different parameters to fetch
> next bunch of records ?
>
>
>
>
> Thanks
>



-- 
---
Thanks & Regards
Umesh Prasad

--001636416f192e31e90498229f40--

From java-user-return-48178-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Dec 24 09:19:27 2010
Return-Path: <java-user-return-48178-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93037 invoked from network); 24 Dec 2010 09:19:27 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 24 Dec 2010 09:19:27 -0000
Received: (qmail 88333 invoked by uid 500); 24 Dec 2010 09:19:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88173 invoked by uid 500); 24 Dec 2010 09:19:24 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88161 invoked by uid 99); 24 Dec 2010 09:19:24 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 24 Dec 2010 09:19:24 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of jlal@chambal.com designates 74.125.82.48 as permitted sender)
Received: from [74.125.82.48] (HELO mail-ww0-f48.google.com) (74.125.82.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 24 Dec 2010 09:19:17 +0000
Received: by wwd20 with SMTP id 20so6736421wwd.5
        for <java-user@lucene.apache.org>; Fri, 24 Dec 2010 01:18:57 -0800 (PST)
MIME-Version: 1.0
Received: by 10.216.13.194 with SMTP id b44mr9906710web.68.1293182336100; Fri,
 24 Dec 2010 01:18:56 -0800 (PST)
Received: by 10.216.255.147 with HTTP; Fri, 24 Dec 2010 01:18:56 -0800 (PST)
In-Reply-To: <AANLkTikVT3qfXmKpYJp27XiLo=oUNeY7XMd+nT3-1Ne1@mail.gmail.com>
References: <AANLkTinADJ+sSN3F49WBay-Ahzb96KfRMR03GO9XF8n+@mail.gmail.com>
	<AANLkTikVT3qfXmKpYJp27XiLo=oUNeY7XMd+nT3-1Ne1@mail.gmail.com>
Date: Fri, 24 Dec 2010 14:48:56 +0530
Message-ID: <AANLkTi=EsDhBc8RMunLC-ouxyME_MFZPwV6TPD=YdCzZ@mail.gmail.com>
Subject: Re: Getting
From: Jawahar Lal <jlal@chambal.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016e64c1bbec5e912049824790a
X-Virus-Checked: Checked by ClamAV on apache.org

--0016e64c1bbec5e912049824790a
Content-Type: text/plain; charset=ISO-8859-1

ok, I understand.

It means, that we have to fetch total no. of docs i.e.

Suppose we need to show 100 docs per page

Page No.     NDocs       No. of documents to be shown on Page
1                  100            0-99
2                   200           100-199
3                   300            200-299  & so on...





On 24 December 2010 12:35, Umesh Prasad <umesh.iitk@gmail.com> wrote:

> Hi Jawahar,
>   http://search-lucene.com/m/duTpc14AmzV
> See Uwe's reply.
>
>
>
> Regards
> Umesh
>
> PS: I would use search-lucene.com to 1st check if a solution is posted
> already. It is really good.
>
> ------------------------
> QUOTED UWE's reply
> ----------------------
>
> To get the second page,
> Take:
> int hitsPerPage = 10;
> int pageOffset = 10;
> TopDocCollector collector = new TopDocCollector(hitsPerPage + pageOffset);
>
> For page third page take int pageOffset = 20; and so on
>
> After that your results are in hits[], for the first page in [0] to [9],
> the
> second page in [10] to [19] and so on:
>
> To display use something like:
> For (int i=pageOffset; Math.min(hitsPerPage + pageOffset,
> collector.topDocs().totalhits); i++)
>
> In general, you cannot retrieve a range directly, you can only retrieve the
> top docs. As most people will not go beyond say page 10 when searching, you
> have no memory problem, as scoreDocs will contain at most 100 doc ids.
>
> ---------------
> -------------------
>
>
> On Fri, Dec 24, 2010 at 10:40 AM, Jawahar Lal <jlal@chambal.com> wrote:
>
> > Hi,
> >
> >  I search for an query. Total searched records are 5000. I only shows 100
> > records on one page. So I passed 100 as nDocs.
> >
> > I write the code in this way.
> >
> >           IndexSearcher searcher = new IndexSearcher(FSDirectory.open(new
> > File(path)));
> >
> >            Query query = new QueryParser(Version.LUCENE_30, "field1", new
> > StandardAnalyzer(Version.LUCENE_30)).parse("query");
> >            Query query1 = new QueryParser(Version.LUCENE_30, "field2",
> new
> > StandardAnalyzer(Version.LUCENE_30)).parse("query2");
> >            BooleanQuery lucBoolQueryOTHER = new BooleanQuery();
> >            lucBoolQueryOTHER.add(query, Occur.MUST);
> >            lucBoolQueryOTHER.add(query1, Occur.MUST);
> >
> >            TopDocs hits=searcher.search(query, null, 100);
> >
> >            System.err.println("Total searched " + hits.totalHits);   >>
> > 5000
> >            System.err.println("Total docs " + hits.scoreDocs.length);  >>
> > 100
> >
> > // The code to print 100 records on first page
> >            for(int i=0;i<hits.scoreDocs.length;i++){
> >
> >
> >
> System.out.println(searcher.doc(hits.scoreDocs[i].doc).getField("filename"));
> >            }
> >
> > it worked fine.
> >
> > // Now I want to show all next search documents on Second Pages...when I
> > tried in this way, I got the error.
> >            for(int i=100;i<hits.totalHits;i++){
> >
> >
> >
> System.out.println(searcher.doc(hits.scoreDocs[i].doc).getField("filename"));
> >            }
> >
> >            searcher.close();
> >
> > java.lang.ArrayIndexOutOfBoundsException: 100
> >        at Test.searchIndex(Test.java:96)
> >        at Test.main(Test.java:54)
> >
> > Would need to perform searching again with different parameters to fetch
> > next bunch of records ?
> >
> >
> >
> >
> > Thanks
> >
>
>
>
> --
> ---
> Thanks & Regards
> Umesh Prasad
>

--0016e64c1bbec5e912049824790a--

From java-user-return-48179-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Dec 24 10:56:34 2010
Return-Path: <java-user-return-48179-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 25868 invoked from network); 24 Dec 2010 10:56:34 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 24 Dec 2010 10:56:34 -0000
Received: (qmail 51240 invoked by uid 500); 24 Dec 2010 10:56:32 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 51185 invoked by uid 500); 24 Dec 2010 10:56:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 51177 invoked by uid 99); 24 Dec 2010 10:56:32 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 24 Dec 2010 10:56:32 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of umesh.iitk@gmail.com designates 74.125.82.48 as permitted sender)
Received: from [74.125.82.48] (HELO mail-ww0-f48.google.com) (74.125.82.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 24 Dec 2010 10:56:25 +0000
Received: by wwd20 with SMTP id 20so6795542wwd.5
        for <java-user@lucene.apache.org>; Fri, 24 Dec 2010 02:56:05 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:in-reply-to
         :references:from:date:message-id:subject:to:content-type;
        bh=U+baCsgA+iwRcm9oWJWycQbbW0/1DdfVOkFjwGV3kdo=;
        b=jcHGObZkDQtm8r5ZSszocZhyUY7nxZUlY3p4Dmr49QKFsQqO2jey3evBvSbVRIWQbd
         hlZTYMlu1hqmRly/5N+Zk0mSSOYk95K69KwRCHuTPr9B4jGyIDS/Jj3f0EqftNkwYBTt
         Cle9BVyJSca4DQaMpUu5uDEFA88tCn5RHdLqQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=JyqJk8vrIzNaGhZti/lOLilnOXv87ZGN6SqOAF6tGRlKbE+Ze1gKkoKFE+crEZEhwd
         9HodQvdP00lTCWjn5DLbKdOYCukxIjt4uGjo3jjFjURAJHySrUVWDUYqjNE50hGuiSHp
         BB94Pffz+NnRcTBC9Bwj6wq/J2KjlQdojzNxQ=
Received: by 10.216.8.141 with SMTP id 13mr10438717wer.47.1293188164971; Fri,
 24 Dec 2010 02:56:04 -0800 (PST)
MIME-Version: 1.0
Received: by 10.216.27.10 with HTTP; Fri, 24 Dec 2010 02:55:42 -0800 (PST)
In-Reply-To: <AANLkTi=EsDhBc8RMunLC-ouxyME_MFZPwV6TPD=YdCzZ@mail.gmail.com>
References: <AANLkTinADJ+sSN3F49WBay-Ahzb96KfRMR03GO9XF8n+@mail.gmail.com>
 <AANLkTikVT3qfXmKpYJp27XiLo=oUNeY7XMd+nT3-1Ne1@mail.gmail.com> <AANLkTi=EsDhBc8RMunLC-ouxyME_MFZPwV6TPD=YdCzZ@mail.gmail.com>
From: Umesh Prasad <umesh.iitk@gmail.com>
Date: Fri, 24 Dec 2010 16:25:42 +0530
Message-ID: <AANLkTin16j57sxiBR5s3wEt_rFe9fONVGkQ4F0WDermp@mail.gmail.com>
Subject: Re: Getting
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016364d1e23336ea4049825d574
X-Virus-Checked: Checked by ClamAV on apache.org

--0016364d1e23336ea4049825d574
Content-Type: text/plain; charset=ISO-8859-1

Yes.

Also note that , topdocs.totalhits will always give u total number of hits,
regardless of the number of score doc u choose to retrieve.
 topdocs.scoredocs will have min(totalhits, ndocs) docs populated.


On Fri, Dec 24, 2010 at 2:48 PM, Jawahar Lal <jlal@chambal.com> wrote:

> ok, I understand.
>
> It means, that we have to fetch total no. of docs i.e.
>
> Suppose we need to show 100 docs per page
>
> Page No.     NDocs       No. of documents to be shown on Page
> 1                  100            0-99
> 2                   200           100-199
> 3                   300            200-299  & so on...
>
>
>
>
>
> On 24 December 2010 12:35, Umesh Prasad <umesh.iitk@gmail.com> wrote:
>
> > Hi Jawahar,
> >   http://search-lucene.com/m/duTpc14AmzV
> > See Uwe's reply.
> >
> >
> >
> > Regards
> > Umesh
> >
> > PS: I would use search-lucene.com to 1st check if a solution is posted
> > already. It is really good.
> >
> > ------------------------
> > QUOTED UWE's reply
> > ----------------------
> >
> > To get the second page,
> > Take:
> > int hitsPerPage = 10;
> > int pageOffset = 10;
> > TopDocCollector collector = new TopDocCollector(hitsPerPage +
> pageOffset);
> >
> > For page third page take int pageOffset = 20; and so on
> >
> > After that your results are in hits[], for the first page in [0] to [9],
> > the
> > second page in [10] to [19] and so on:
> >
> > To display use something like:
> > For (int i=pageOffset; Math.min(hitsPerPage + pageOffset,
> > collector.topDocs().totalhits); i++)
> >
> > In general, you cannot retrieve a range directly, you can only retrieve
> the
> > top docs. As most people will not go beyond say page 10 when searching,
> you
> > have no memory problem, as scoreDocs will contain at most 100 doc ids.
> >
> > ---------------
> > -------------------
> >
> >
> > On Fri, Dec 24, 2010 at 10:40 AM, Jawahar Lal <jlal@chambal.com> wrote:
> >
> > > Hi,
> > >
> > >  I search for an query. Total searched records are 5000. I only shows
> 100
> > > records on one page. So I passed 100 as nDocs.
> > >
> > > I write the code in this way.
> > >
> > >           IndexSearcher searcher = new
> IndexSearcher(FSDirectory.open(new
> > > File(path)));
> > >
> > >            Query query = new QueryParser(Version.LUCENE_30, "field1",
> new
> > > StandardAnalyzer(Version.LUCENE_30)).parse("query");
> > >            Query query1 = new QueryParser(Version.LUCENE_30, "field2",
> > new
> > > StandardAnalyzer(Version.LUCENE_30)).parse("query2");
> > >            BooleanQuery lucBoolQueryOTHER = new BooleanQuery();
> > >            lucBoolQueryOTHER.add(query, Occur.MUST);
> > >            lucBoolQueryOTHER.add(query1, Occur.MUST);
> > >
> > >            TopDocs hits=searcher.search(query, null, 100);
> > >
> > >            System.err.println("Total searched " + hits.totalHits);   >>
> > > 5000
> > >            System.err.println("Total docs " + hits.scoreDocs.length);
>  >>
> > > 100
> > >
> > > // The code to print 100 records on first page
> > >            for(int i=0;i<hits.scoreDocs.length;i++){
> > >
> > >
> > >
> >
> System.out.println(searcher.doc(hits.scoreDocs[i].doc).getField("filename"));
> > >            }
> > >
> > > it worked fine.
> > >
> > > // Now I want to show all next search documents on Second Pages...when
> I
> > > tried in this way, I got the error.
> > >            for(int i=100;i<hits.totalHits;i++){
> > >
> > >
> > >
> >
> System.out.println(searcher.doc(hits.scoreDocs[i].doc).getField("filename"));
> > >            }
> > >
> > >            searcher.close();
> > >
> > > java.lang.ArrayIndexOutOfBoundsException: 100
> > >        at Test.searchIndex(Test.java:96)
> > >        at Test.main(Test.java:54)
> > >
> > > Would need to perform searching again with different parameters to
> fetch
> > > next bunch of records ?
> > >
> > >
> > >
> > >
> > > Thanks
> > >
> >
> >
> >
> > --
> > ---
> > Thanks & Regards
> > Umesh Prasad
> >
>



-- 
---
Thanks & Regards
Umesh Prasad

--0016364d1e23336ea4049825d574--

From java-user-return-48180-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Dec 24 11:06:34 2010
Return-Path: <java-user-return-48180-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 37247 invoked from network); 24 Dec 2010 11:06:33 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 24 Dec 2010 11:06:33 -0000
Received: (qmail 60526 invoked by uid 500); 24 Dec 2010 11:06:31 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 60319 invoked by uid 500); 24 Dec 2010 11:06:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 60307 invoked by uid 99); 24 Dec 2010 11:06:30 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 24 Dec 2010 11:06:30 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of jlal@chambal.com designates 74.125.82.48 as permitted sender)
Received: from [74.125.82.48] (HELO mail-ww0-f48.google.com) (74.125.82.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 24 Dec 2010 11:06:24 +0000
Received: by wwd20 with SMTP id 20so6801781wwd.5
        for <java-user@lucene.apache.org>; Fri, 24 Dec 2010 03:06:03 -0800 (PST)
MIME-Version: 1.0
Received: by 10.216.171.68 with SMTP id q46mr12862219wel.98.1293188763007;
 Fri, 24 Dec 2010 03:06:03 -0800 (PST)
Received: by 10.216.255.147 with HTTP; Fri, 24 Dec 2010 03:06:02 -0800 (PST)
In-Reply-To: <AANLkTin16j57sxiBR5s3wEt_rFe9fONVGkQ4F0WDermp@mail.gmail.com>
References: <AANLkTinADJ+sSN3F49WBay-Ahzb96KfRMR03GO9XF8n+@mail.gmail.com>
	<AANLkTikVT3qfXmKpYJp27XiLo=oUNeY7XMd+nT3-1Ne1@mail.gmail.com>
	<AANLkTi=EsDhBc8RMunLC-ouxyME_MFZPwV6TPD=YdCzZ@mail.gmail.com>
	<AANLkTin16j57sxiBR5s3wEt_rFe9fONVGkQ4F0WDermp@mail.gmail.com>
Date: Fri, 24 Dec 2010 16:36:02 +0530
Message-ID: <AANLkTimrv+_7OqcTYEPKu4pAUKAAPTy4ChO3Q72nnCc0@mail.gmail.com>
Subject: Re: Getting
From: Jawahar Lal <jlal@chambal.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016e65b64f2d8baa3049825f8e6
X-Virus-Checked: Checked by ClamAV on apache.org

--0016e65b64f2d8baa3049825f8e6
Content-Type: text/plain; charset=ISO-8859-1

Thanks Umesh

 I want to know more about Filters, how to use that using lucene 3.0.3

Can I get links to learn how/when to use filters.

jawahar

On 24 December 2010 16:25, Umesh Prasad <umesh.iitk@gmail.com> wrote:

> Yes.
>
> Also note that , topdocs.totalhits will always give u total number of hits,
> regardless of the number of score doc u choose to retrieve.
>  topdocs.scoredocs will have min(totalhits, ndocs) docs populated.
>
>
> On Fri, Dec 24, 2010 at 2:48 PM, Jawahar Lal <jlal@chambal.com> wrote:
>
> > ok, I understand.
> >
> > It means, that we have to fetch total no. of docs i.e.
> >
> > Suppose we need to show 100 docs per page
> >
> > Page No.     NDocs       No. of documents to be shown on Page
> > 1                  100            0-99
> > 2                   200           100-199
> > 3                   300            200-299  & so on...
> >
> >
> >
> >
> >
> > On 24 December 2010 12:35, Umesh Prasad <umesh.iitk@gmail.com> wrote:
> >
> > > Hi Jawahar,
> > >   http://search-lucene.com/m/duTpc14AmzV
> > > See Uwe's reply.
> > >
> > >
> > >
> > > Regards
> > > Umesh
> > >
> > > PS: I would use search-lucene.com to 1st check if a solution is posted
> > > already. It is really good.
> > >
> > > ------------------------
> > > QUOTED UWE's reply
> > > ----------------------
> > >
> > > To get the second page,
> > > Take:
> > > int hitsPerPage = 10;
> > > int pageOffset = 10;
> > > TopDocCollector collector = new TopDocCollector(hitsPerPage +
> > pageOffset);
> > >
> > > For page third page take int pageOffset = 20; and so on
> > >
> > > After that your results are in hits[], for the first page in [0] to
> [9],
> > > the
> > > second page in [10] to [19] and so on:
> > >
> > > To display use something like:
> > > For (int i=pageOffset; Math.min(hitsPerPage + pageOffset,
> > > collector.topDocs().totalhits); i++)
> > >
> > > In general, you cannot retrieve a range directly, you can only retrieve
> > the
> > > top docs. As most people will not go beyond say page 10 when searching,
> > you
> > > have no memory problem, as scoreDocs will contain at most 100 doc ids.
> > >
> > > ---------------
> > > -------------------
> > >
> > >
> > > On Fri, Dec 24, 2010 at 10:40 AM, Jawahar Lal <jlal@chambal.com>
> wrote:
> > >
> > > > Hi,
> > > >
> > > >  I search for an query. Total searched records are 5000. I only shows
> > 100
> > > > records on one page. So I passed 100 as nDocs.
> > > >
> > > > I write the code in this way.
> > > >
> > > >           IndexSearcher searcher = new
> > IndexSearcher(FSDirectory.open(new
> > > > File(path)));
> > > >
> > > >            Query query = new QueryParser(Version.LUCENE_30, "field1",
> > new
> > > > StandardAnalyzer(Version.LUCENE_30)).parse("query");
> > > >            Query query1 = new QueryParser(Version.LUCENE_30,
> "field2",
> > > new
> > > > StandardAnalyzer(Version.LUCENE_30)).parse("query2");
> > > >            BooleanQuery lucBoolQueryOTHER = new BooleanQuery();
> > > >            lucBoolQueryOTHER.add(query, Occur.MUST);
> > > >            lucBoolQueryOTHER.add(query1, Occur.MUST);
> > > >
> > > >            TopDocs hits=searcher.search(query, null, 100);
> > > >
> > > >            System.err.println("Total searched " + hits.totalHits);
> >>
> > > > 5000
> > > >            System.err.println("Total docs " + hits.scoreDocs.length);
> >  >>
> > > > 100
> > > >
> > > > // The code to print 100 records on first page
> > > >            for(int i=0;i<hits.scoreDocs.length;i++){
> > > >
> > > >
> > > >
> > >
> >
> System.out.println(searcher.doc(hits.scoreDocs[i].doc).getField("filename"));
> > > >            }
> > > >
> > > > it worked fine.
> > > >
> > > > // Now I want to show all next search documents on Second
> Pages...when
> > I
> > > > tried in this way, I got the error.
> > > >            for(int i=100;i<hits.totalHits;i++){
> > > >
> > > >
> > > >
> > >
> >
> System.out.println(searcher.doc(hits.scoreDocs[i].doc).getField("filename"));
> > > >            }
> > > >
> > > >            searcher.close();
> > > >
> > > > java.lang.ArrayIndexOutOfBoundsException: 100
> > > >        at Test.searchIndex(Test.java:96)
> > > >        at Test.main(Test.java:54)
> > > >
> > > > Would need to perform searching again with different parameters to
> > fetch
> > > > next bunch of records ?
> > > >
> > > >
> > > >
> > > >
> > > > Thanks
> > > >
> > >
> > >
> > >
> > > --
> > > ---
> > > Thanks & Regards
> > > Umesh Prasad
> > >
> >
>
>
>
> --
> ---
> Thanks & Regards
> Umesh Prasad
>

--0016e65b64f2d8baa3049825f8e6--

From java-user-return-48181-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Dec 24 11:44:23 2010
Return-Path: <java-user-return-48181-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 44606 invoked from network); 24 Dec 2010 11:44:23 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 24 Dec 2010 11:44:23 -0000
Received: (qmail 79812 invoked by uid 500); 24 Dec 2010 11:44:21 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 79521 invoked by uid 500); 24 Dec 2010 11:44:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 79513 invoked by uid 99); 24 Dec 2010 11:44:19 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 24 Dec 2010 11:44:19 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of jlal@chambal.com designates 74.125.82.194 as permitted sender)
Received: from [74.125.82.194] (HELO mail-wy0-f194.google.com) (74.125.82.194)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 24 Dec 2010 11:44:15 +0000
Received: by wyf23 with SMTP id 23so2403206wyf.5
        for <java-user@lucene.apache.org>; Fri, 24 Dec 2010 03:43:53 -0800 (PST)
MIME-Version: 1.0
Received: by 10.216.56.65 with SMTP id l43mr12821365wec.113.1293191033245;
 Fri, 24 Dec 2010 03:43:53 -0800 (PST)
Received: by 10.216.255.147 with HTTP; Fri, 24 Dec 2010 03:43:53 -0800 (PST)
In-Reply-To: <AANLkTimrv+_7OqcTYEPKu4pAUKAAPTy4ChO3Q72nnCc0@mail.gmail.com>
References: <AANLkTinADJ+sSN3F49WBay-Ahzb96KfRMR03GO9XF8n+@mail.gmail.com>
	<AANLkTikVT3qfXmKpYJp27XiLo=oUNeY7XMd+nT3-1Ne1@mail.gmail.com>
	<AANLkTi=EsDhBc8RMunLC-ouxyME_MFZPwV6TPD=YdCzZ@mail.gmail.com>
	<AANLkTin16j57sxiBR5s3wEt_rFe9fONVGkQ4F0WDermp@mail.gmail.com>
	<AANLkTimrv+_7OqcTYEPKu4pAUKAAPTy4ChO3Q72nnCc0@mail.gmail.com>
Date: Fri, 24 Dec 2010 17:13:53 +0530
Message-ID: <AANLkTinrVdubg2rPv0FX6TV6mk5E-rFSo6xmPv80pgbi@mail.gmail.com>
Subject: Re: Getting
From: Jawahar Lal <jlal@chambal.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016e6dd975029d08e04982680d1

--0016e6dd975029d08e04982680d1
Content-Type: text/plain; charset=ISO-8859-1

I open a IndexReader. I want to see how many docs are indexed, to get this
count I used

objReader.maxDoc()  ... its returning me 0.

How can I get the total no. of docs in index?

On 24 December 2010 16:36, Jawahar Lal <jlal@chambal.com> wrote:

> Thanks Umesh
>
>  I want to know more about Filters, how to use that using lucene 3.0.3
>
> Can I get links to learn how/when to use filters.
>
> jawahar
>
>
> On 24 December 2010 16:25, Umesh Prasad <umesh.iitk@gmail.com> wrote:
>
>> Yes.
>>
>> Also note that , topdocs.totalhits will always give u total number of
>> hits,
>> regardless of the number of score doc u choose to retrieve.
>>  topdocs.scoredocs will have min(totalhits, ndocs) docs populated.
>>
>>
>> On Fri, Dec 24, 2010 at 2:48 PM, Jawahar Lal <jlal@chambal.com> wrote:
>>
>> > ok, I understand.
>> >
>> > It means, that we have to fetch total no. of docs i.e.
>> >
>> > Suppose we need to show 100 docs per page
>> >
>> > Page No.     NDocs       No. of documents to be shown on Page
>> > 1                  100            0-99
>> > 2                   200           100-199
>> > 3                   300            200-299  & so on...
>> >
>> >
>> >
>> >
>> >
>> > On 24 December 2010 12:35, Umesh Prasad <umesh.iitk@gmail.com> wrote:
>> >
>> > > Hi Jawahar,
>> > >   http://search-lucene.com/m/duTpc14AmzV
>> > > See Uwe's reply.
>> > >
>> > >
>> > >
>> > > Regards
>> > > Umesh
>> > >
>> > > PS: I would use search-lucene.com to 1st check if a solution is
>> posted
>> > > already. It is really good.
>> > >
>> > > ------------------------
>> > > QUOTED UWE's reply
>> > > ----------------------
>> > >
>> > > To get the second page,
>> > > Take:
>> > > int hitsPerPage = 10;
>> > > int pageOffset = 10;
>> > > TopDocCollector collector = new TopDocCollector(hitsPerPage +
>> > pageOffset);
>> > >
>> > > For page third page take int pageOffset = 20; and so on
>> > >
>> > > After that your results are in hits[], for the first page in [0] to
>> [9],
>> > > the
>> > > second page in [10] to [19] and so on:
>> > >
>> > > To display use something like:
>> > > For (int i=pageOffset; Math.min(hitsPerPage + pageOffset,
>> > > collector.topDocs().totalhits); i++)
>> > >
>> > > In general, you cannot retrieve a range directly, you can only
>> retrieve
>> > the
>> > > top docs. As most people will not go beyond say page 10 when
>> searching,
>> > you
>> > > have no memory problem, as scoreDocs will contain at most 100 doc ids.
>> > >
>> > > ---------------
>> > > -------------------
>> > >
>> > >
>> > > On Fri, Dec 24, 2010 at 10:40 AM, Jawahar Lal <jlal@chambal.com>
>> wrote:
>> > >
>> > > > Hi,
>> > > >
>> > > >  I search for an query. Total searched records are 5000. I only
>> shows
>> > 100
>> > > > records on one page. So I passed 100 as nDocs.
>> > > >
>> > > > I write the code in this way.
>> > > >
>> > > >           IndexSearcher searcher = new
>> > IndexSearcher(FSDirectory.open(new
>> > > > File(path)));
>> > > >
>> > > >            Query query = new QueryParser(Version.LUCENE_30,
>> "field1",
>> > new
>> > > > StandardAnalyzer(Version.LUCENE_30)).parse("query");
>> > > >            Query query1 = new QueryParser(Version.LUCENE_30,
>> "field2",
>> > > new
>> > > > StandardAnalyzer(Version.LUCENE_30)).parse("query2");
>> > > >            BooleanQuery lucBoolQueryOTHER = new BooleanQuery();
>> > > >            lucBoolQueryOTHER.add(query, Occur.MUST);
>> > > >            lucBoolQueryOTHER.add(query1, Occur.MUST);
>> > > >
>> > > >            TopDocs hits=searcher.search(query, null, 100);
>> > > >
>> > > >            System.err.println("Total searched " + hits.totalHits);
>> >>
>> > > > 5000
>> > > >            System.err.println("Total docs " +
>> hits.scoreDocs.length);
>> >  >>
>> > > > 100
>> > > >
>> > > > // The code to print 100 records on first page
>> > > >            for(int i=0;i<hits.scoreDocs.length;i++){
>> > > >
>> > > >
>> > > >
>> > >
>> >
>> System.out.println(searcher.doc(hits.scoreDocs[i].doc).getField("filename"));
>> > > >            }
>> > > >
>> > > > it worked fine.
>> > > >
>> > > > // Now I want to show all next search documents on Second
>> Pages...when
>> > I
>> > > > tried in this way, I got the error.
>> > > >            for(int i=100;i<hits.totalHits;i++){
>> > > >
>> > > >
>> > > >
>> > >
>> >
>> System.out.println(searcher.doc(hits.scoreDocs[i].doc).getField("filename"));
>> > > >            }
>> > > >
>> > > >            searcher.close();
>> > > >
>> > > > java.lang.ArrayIndexOutOfBoundsException: 100
>> > > >        at Test.searchIndex(Test.java:96)
>> > > >        at Test.main(Test.java:54)
>> > > >
>> > > > Would need to perform searching again with different parameters to
>> > fetch
>> > > > next bunch of records ?
>> > > >
>> > > >
>> > > >
>> > > >
>> > > > Thanks
>> > > >
>> > >
>> > >
>> > >
>> > > --
>> > > ---
>> > > Thanks & Regards
>> > > Umesh Prasad
>> > >
>> >
>>
>>
>>
>> --
>> ---
>> Thanks & Regards
>> Umesh Prasad
>>
>
>

--0016e6dd975029d08e04982680d1--

From java-user-return-48182-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Dec 24 12:11:28 2010
Return-Path: <java-user-return-48182-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 59568 invoked from network); 24 Dec 2010 12:11:27 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 24 Dec 2010 12:11:27 -0000
Received: (qmail 3094 invoked by uid 500); 24 Dec 2010 12:11:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 2777 invoked by uid 500); 24 Dec 2010 12:11:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 2466 invoked by uid 99); 24 Dec 2010 12:11:24 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 24 Dec 2010 12:11:24 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of jlal@chambal.com designates 74.125.82.48 as permitted sender)
Received: from [74.125.82.48] (HELO mail-ww0-f48.google.com) (74.125.82.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 24 Dec 2010 12:11:20 +0000
Received: by wwd20 with SMTP id 20so6843982wwd.5
        for <java-user@lucene.apache.org>; Fri, 24 Dec 2010 04:10:58 -0800 (PST)
MIME-Version: 1.0
Received: by 10.216.13.194 with SMTP id b44mr10086903web.68.1293192656801;
 Fri, 24 Dec 2010 04:10:56 -0800 (PST)
Received: by 10.216.255.147 with HTTP; Fri, 24 Dec 2010 04:10:56 -0800 (PST)
In-Reply-To: <AANLkTinrVdubg2rPv0FX6TV6mk5E-rFSo6xmPv80pgbi@mail.gmail.com>
References: <AANLkTinADJ+sSN3F49WBay-Ahzb96KfRMR03GO9XF8n+@mail.gmail.com>
	<AANLkTikVT3qfXmKpYJp27XiLo=oUNeY7XMd+nT3-1Ne1@mail.gmail.com>
	<AANLkTi=EsDhBc8RMunLC-ouxyME_MFZPwV6TPD=YdCzZ@mail.gmail.com>
	<AANLkTin16j57sxiBR5s3wEt_rFe9fONVGkQ4F0WDermp@mail.gmail.com>
	<AANLkTimrv+_7OqcTYEPKu4pAUKAAPTy4ChO3Q72nnCc0@mail.gmail.com>
	<AANLkTinrVdubg2rPv0FX6TV6mk5E-rFSo6xmPv80pgbi@mail.gmail.com>
Date: Fri, 24 Dec 2010 17:40:56 +0530
Message-ID: <AANLkTi=nAmpv+Gzqg+MiNVtUFoaytLn4xhM5k-S7-1cp@mail.gmail.com>
Subject: Re: Getting
From: Jawahar Lal <jlal@chambal.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016e64c1bbeef53ee049826e0b4

--0016e64c1bbeef53ee049826e0b4
Content-Type: text/plain; charset=ISO-8859-1

>Also note that , topdocs.totalhits will always give u total number of hits,
>regardless of the number of score doc u choose to retrieve.
> topdocs.scoredocs will have min(totalhits, ndocs) docs populated.

Is it Ok use Integer.MaxValue as nDoc ?

On 24 December 2010 17:13, Jawahar Lal <jlal@chambal.com> wrote:

> I open a IndexReader. I want to see how many docs are indexed, to get this
> count I used
>
> objReader.maxDoc()  ... its returning me 0.
>
> How can I get the total no. of docs in index?
>
>
> On 24 December 2010 16:36, Jawahar Lal <jlal@chambal.com> wrote:
>
>> Thanks Umesh
>>
>>  I want to know more about Filters, how to use that using lucene 3.0.3
>>
>> Can I get links to learn how/when to use filters.
>>
>> jawahar
>>
>>
>> On 24 December 2010 16:25, Umesh Prasad <umesh.iitk@gmail.com> wrote:
>>
>>> Yes.
>>>
>>> Also note that , topdocs.totalhits will always give u total number of
>>> hits,
>>> regardless of the number of score doc u choose to retrieve.
>>>  topdocs.scoredocs will have min(totalhits, ndocs) docs populated.
>>>
>>>
>>> On Fri, Dec 24, 2010 at 2:48 PM, Jawahar Lal <jlal@chambal.com> wrote:
>>>
>>> > ok, I understand.
>>> >
>>> > It means, that we have to fetch total no. of docs i.e.
>>> >
>>> > Suppose we need to show 100 docs per page
>>> >
>>> > Page No.     NDocs       No. of documents to be shown on Page
>>> > 1                  100            0-99
>>> > 2                   200           100-199
>>> > 3                   300            200-299  & so on...
>>> >
>>> >
>>> >
>>> >
>>> >
>>> > On 24 December 2010 12:35, Umesh Prasad <umesh.iitk@gmail.com> wrote:
>>> >
>>> > > Hi Jawahar,
>>> > >   http://search-lucene.com/m/duTpc14AmzV
>>> > > See Uwe's reply.
>>> > >
>>> > >
>>> > >
>>> > > Regards
>>> > > Umesh
>>> > >
>>> > > PS: I would use search-lucene.com to 1st check if a solution is
>>> posted
>>> > > already. It is really good.
>>> > >
>>> > > ------------------------
>>> > > QUOTED UWE's reply
>>> > > ----------------------
>>> > >
>>> > > To get the second page,
>>> > > Take:
>>> > > int hitsPerPage = 10;
>>> > > int pageOffset = 10;
>>> > > TopDocCollector collector = new TopDocCollector(hitsPerPage +
>>> > pageOffset);
>>> > >
>>> > > For page third page take int pageOffset = 20; and so on
>>> > >
>>> > > After that your results are in hits[], for the first page in [0] to
>>> [9],
>>> > > the
>>> > > second page in [10] to [19] and so on:
>>> > >
>>> > > To display use something like:
>>> > > For (int i=pageOffset; Math.min(hitsPerPage + pageOffset,
>>> > > collector.topDocs().totalhits); i++)
>>> > >
>>> > > In general, you cannot retrieve a range directly, you can only
>>> retrieve
>>> > the
>>> > > top docs. As most people will not go beyond say page 10 when
>>> searching,
>>> > you
>>> > > have no memory problem, as scoreDocs will contain at most 100 doc
>>> ids.
>>> > >
>>> > > ---------------
>>> > > -------------------
>>> > >
>>> > >
>>> > > On Fri, Dec 24, 2010 at 10:40 AM, Jawahar Lal <jlal@chambal.com>
>>> wrote:
>>> > >
>>> > > > Hi,
>>> > > >
>>> > > >  I search for an query. Total searched records are 5000. I only
>>> shows
>>> > 100
>>> > > > records on one page. So I passed 100 as nDocs.
>>> > > >
>>> > > > I write the code in this way.
>>> > > >
>>> > > >           IndexSearcher searcher = new
>>> > IndexSearcher(FSDirectory.open(new
>>> > > > File(path)));
>>> > > >
>>> > > >            Query query = new QueryParser(Version.LUCENE_30,
>>> "field1",
>>> > new
>>> > > > StandardAnalyzer(Version.LUCENE_30)).parse("query");
>>> > > >            Query query1 = new QueryParser(Version.LUCENE_30,
>>> "field2",
>>> > > new
>>> > > > StandardAnalyzer(Version.LUCENE_30)).parse("query2");
>>> > > >            BooleanQuery lucBoolQueryOTHER = new BooleanQuery();
>>> > > >            lucBoolQueryOTHER.add(query, Occur.MUST);
>>> > > >            lucBoolQueryOTHER.add(query1, Occur.MUST);
>>> > > >
>>> > > >            TopDocs hits=searcher.search(query, null, 100);
>>> > > >
>>> > > >            System.err.println("Total searched " + hits.totalHits);
>>>   >>
>>> > > > 5000
>>> > > >            System.err.println("Total docs " +
>>> hits.scoreDocs.length);
>>> >  >>
>>> > > > 100
>>> > > >
>>> > > > // The code to print 100 records on first page
>>> > > >            for(int i=0;i<hits.scoreDocs.length;i++){
>>> > > >
>>> > > >
>>> > > >
>>> > >
>>> >
>>> System.out.println(searcher.doc(hits.scoreDocs[i].doc).getField("filename"));
>>> > > >            }
>>> > > >
>>> > > > it worked fine.
>>> > > >
>>> > > > // Now I want to show all next search documents on Second
>>> Pages...when
>>> > I
>>> > > > tried in this way, I got the error.
>>> > > >            for(int i=100;i<hits.totalHits;i++){
>>> > > >
>>> > > >
>>> > > >
>>> > >
>>> >
>>> System.out.println(searcher.doc(hits.scoreDocs[i].doc).getField("filename"));
>>> > > >            }
>>> > > >
>>> > > >            searcher.close();
>>> > > >
>>> > > > java.lang.ArrayIndexOutOfBoundsException: 100
>>> > > >        at Test.searchIndex(Test.java:96)
>>> > > >        at Test.main(Test.java:54)
>>> > > >
>>> > > > Would need to perform searching again with different parameters to
>>> > fetch
>>> > > > next bunch of records ?
>>> > > >
>>> > > >
>>> > > >
>>> > > >
>>> > > > Thanks
>>> > > >
>>> > >
>>> > >
>>> > >
>>> > > --
>>> > > ---
>>> > > Thanks & Regards
>>> > > Umesh Prasad
>>> > >
>>> >
>>>
>>>
>>>
>>> --
>>> ---
>>> Thanks & Regards
>>> Umesh Prasad
>>>
>>
>>
>

--0016e64c1bbeef53ee049826e0b4--

From java-user-return-48183-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Dec 24 13:54:24 2010
Return-Path: <java-user-return-48183-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 93070 invoked from network); 24 Dec 2010 13:54:24 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 24 Dec 2010 13:54:24 -0000
Received: (qmail 56819 invoked by uid 500); 24 Dec 2010 13:54:22 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 56526 invoked by uid 500); 24 Dec 2010 13:54:21 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 56518 invoked by uid 99); 24 Dec 2010 13:54:20 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 24 Dec 2010 13:54:20 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of erickerickson@gmail.com designates 209.85.216.48 as permitted sender)
Received: from [209.85.216.48] (HELO mail-qw0-f48.google.com) (209.85.216.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 24 Dec 2010 13:54:16 +0000
Received: by qwh6 with SMTP id 6so7393063qwh.35
        for <java-user@lucene.apache.org>; Fri, 24 Dec 2010 05:53:55 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=pYHSL1gCoD3UQVh4hEDtJpfaM5dpaOpx0mkyd/TwOK4=;
        b=NWboFteMbvnCNRERfX1+PI/heELmWjgH8SvuWqHt1dr7zashCizImu6yo2yPTwDAVc
         JCBUWE4i9eVYBxjQFIWOH1lvh0TxYd7u8ei0H6TAuTdHd93aSRRi736fuEv1a02EMsOY
         nKuAUO/5nUnzM0k4NY9g2IKL8D4neU642ZX3Y=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=rUho4CoI2kAP7DIOJcAdYr9x0hcSA3wEdTV3HSlroGfDveGyE5NZCYYDDIHdT0cYk1
         hrLuW68Cza/5S0+4MGxpxCLM8qdiqZVayUrEbzbE8uGCrpbmErCh7vG2pJ2f3F/ZQby3
         9mmdzgie99cseATZoqgdTR5CNiqdDbaQNfbkA=
MIME-Version: 1.0
Received: by 10.229.241.13 with SMTP id lc13mr8986347qcb.190.1293198834922;
 Fri, 24 Dec 2010 05:53:54 -0800 (PST)
Received: by 10.229.235.208 with HTTP; Fri, 24 Dec 2010 05:53:54 -0800 (PST)
In-Reply-To: <AANLkTi=nAmpv+Gzqg+MiNVtUFoaytLn4xhM5k-S7-1cp@mail.gmail.com>
References: <AANLkTinADJ+sSN3F49WBay-Ahzb96KfRMR03GO9XF8n+@mail.gmail.com>
	<AANLkTikVT3qfXmKpYJp27XiLo=oUNeY7XMd+nT3-1Ne1@mail.gmail.com>
	<AANLkTi=EsDhBc8RMunLC-ouxyME_MFZPwV6TPD=YdCzZ@mail.gmail.com>
	<AANLkTin16j57sxiBR5s3wEt_rFe9fONVGkQ4F0WDermp@mail.gmail.com>
	<AANLkTimrv+_7OqcTYEPKu4pAUKAAPTy4ChO3Q72nnCc0@mail.gmail.com>
	<AANLkTinrVdubg2rPv0FX6TV6mk5E-rFSo6xmPv80pgbi@mail.gmail.com>
	<AANLkTi=nAmpv+Gzqg+MiNVtUFoaytLn4xhM5k-S7-1cp@mail.gmail.com>
Date: Fri, 24 Dec 2010 08:53:54 -0500
Message-ID: <AANLkTin8b=w-6CW1uAW5cwk0S2hvL-hbKhnA8XmU05bC@mail.gmail.com>
Subject: Re: Getting
From: Erick Erickson <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016363b8efc2df71c04982851d3

--0016363b8efc2df71c04982851d3
Content-Type: text/plain; charset=ISO-8859-1

>From Hossman's Apache Page:

When starting a new discussion on a mailing list, please do not reply to
an existing message, instead start a fresh email.  Even if you change the
subject line of your email, other mail headers still track which thread
you replied to and your question is "hidden" in that thread and gets less
attention.   It makes following discussions in the mailing list archives
particularly difficult.

Erick

On Fri, Dec 24, 2010 at 7:10 AM, Jawahar Lal <jlal@chambal.com> wrote:

> >Also note that , topdocs.totalhits will always give u total number of
> hits,
> >regardless of the number of score doc u choose to retrieve.
> > topdocs.scoredocs will have min(totalhits, ndocs) docs populated.
>
> Is it Ok use Integer.MaxValue as nDoc ?
>
> On 24 December 2010 17:13, Jawahar Lal <jlal@chambal.com> wrote:
>
> > I open a IndexReader. I want to see how many docs are indexed, to get
> this
> > count I used
> >
> > objReader.maxDoc()  ... its returning me 0.
> >
> > How can I get the total no. of docs in index?
> >
> >
> > On 24 December 2010 16:36, Jawahar Lal <jlal@chambal.com> wrote:
> >
> >> Thanks Umesh
> >>
> >>  I want to know more about Filters, how to use that using lucene 3.0.3
> >>
> >> Can I get links to learn how/when to use filters.
> >>
> >> jawahar
> >>
> >>
> >> On 24 December 2010 16:25, Umesh Prasad <umesh.iitk@gmail.com> wrote:
> >>
> >>> Yes.
> >>>
> >>> Also note that , topdocs.totalhits will always give u total number of
> >>> hits,
> >>> regardless of the number of score doc u choose to retrieve.
> >>>  topdocs.scoredocs will have min(totalhits, ndocs) docs populated.
> >>>
> >>>
> >>> On Fri, Dec 24, 2010 at 2:48 PM, Jawahar Lal <jlal@chambal.com> wrote:
> >>>
> >>> > ok, I understand.
> >>> >
> >>> > It means, that we have to fetch total no. of docs i.e.
> >>> >
> >>> > Suppose we need to show 100 docs per page
> >>> >
> >>> > Page No.     NDocs       No. of documents to be shown on Page
> >>> > 1                  100            0-99
> >>> > 2                   200           100-199
> >>> > 3                   300            200-299  & so on...
> >>> >
> >>> >
> >>> >
> >>> >
> >>> >
> >>> > On 24 December 2010 12:35, Umesh Prasad <umesh.iitk@gmail.com>
> wrote:
> >>> >
> >>> > > Hi Jawahar,
> >>> > >   http://search-lucene.com/m/duTpc14AmzV
> >>> > > See Uwe's reply.
> >>> > >
> >>> > >
> >>> > >
> >>> > > Regards
> >>> > > Umesh
> >>> > >
> >>> > > PS: I would use search-lucene.com to 1st check if a solution is
> >>> posted
> >>> > > already. It is really good.
> >>> > >
> >>> > > ------------------------
> >>> > > QUOTED UWE's reply
> >>> > > ----------------------
> >>> > >
> >>> > > To get the second page,
> >>> > > Take:
> >>> > > int hitsPerPage = 10;
> >>> > > int pageOffset = 10;
> >>> > > TopDocCollector collector = new TopDocCollector(hitsPerPage +
> >>> > pageOffset);
> >>> > >
> >>> > > For page third page take int pageOffset = 20; and so on
> >>> > >
> >>> > > After that your results are in hits[], for the first page in [0] to
> >>> [9],
> >>> > > the
> >>> > > second page in [10] to [19] and so on:
> >>> > >
> >>> > > To display use something like:
> >>> > > For (int i=pageOffset; Math.min(hitsPerPage + pageOffset,
> >>> > > collector.topDocs().totalhits); i++)
> >>> > >
> >>> > > In general, you cannot retrieve a range directly, you can only
> >>> retrieve
> >>> > the
> >>> > > top docs. As most people will not go beyond say page 10 when
> >>> searching,
> >>> > you
> >>> > > have no memory problem, as scoreDocs will contain at most 100 doc
> >>> ids.
> >>> > >
> >>> > > ---------------
> >>> > > -------------------
> >>> > >
> >>> > >
> >>> > > On Fri, Dec 24, 2010 at 10:40 AM, Jawahar Lal <jlal@chambal.com>
> >>> wrote:
> >>> > >
> >>> > > > Hi,
> >>> > > >
> >>> > > >  I search for an query. Total searched records are 5000. I only
> >>> shows
> >>> > 100
> >>> > > > records on one page. So I passed 100 as nDocs.
> >>> > > >
> >>> > > > I write the code in this way.
> >>> > > >
> >>> > > >           IndexSearcher searcher = new
> >>> > IndexSearcher(FSDirectory.open(new
> >>> > > > File(path)));
> >>> > > >
> >>> > > >            Query query = new QueryParser(Version.LUCENE_30,
> >>> "field1",
> >>> > new
> >>> > > > StandardAnalyzer(Version.LUCENE_30)).parse("query");
> >>> > > >            Query query1 = new QueryParser(Version.LUCENE_30,
> >>> "field2",
> >>> > > new
> >>> > > > StandardAnalyzer(Version.LUCENE_30)).parse("query2");
> >>> > > >            BooleanQuery lucBoolQueryOTHER = new BooleanQuery();
> >>> > > >            lucBoolQueryOTHER.add(query, Occur.MUST);
> >>> > > >            lucBoolQueryOTHER.add(query1, Occur.MUST);
> >>> > > >
> >>> > > >            TopDocs hits=searcher.search(query, null, 100);
> >>> > > >
> >>> > > >            System.err.println("Total searched " +
> hits.totalHits);
> >>>   >>
> >>> > > > 5000
> >>> > > >            System.err.println("Total docs " +
> >>> hits.scoreDocs.length);
> >>> >  >>
> >>> > > > 100
> >>> > > >
> >>> > > > // The code to print 100 records on first page
> >>> > > >            for(int i=0;i<hits.scoreDocs.length;i++){
> >>> > > >
> >>> > > >
> >>> > > >
> >>> > >
> >>> >
> >>>
> System.out.println(searcher.doc(hits.scoreDocs[i].doc).getField("filename"));
> >>> > > >            }
> >>> > > >
> >>> > > > it worked fine.
> >>> > > >
> >>> > > > // Now I want to show all next search documents on Second
> >>> Pages...when
> >>> > I
> >>> > > > tried in this way, I got the error.
> >>> > > >            for(int i=100;i<hits.totalHits;i++){
> >>> > > >
> >>> > > >
> >>> > > >
> >>> > >
> >>> >
> >>>
> System.out.println(searcher.doc(hits.scoreDocs[i].doc).getField("filename"));
> >>> > > >            }
> >>> > > >
> >>> > > >            searcher.close();
> >>> > > >
> >>> > > > java.lang.ArrayIndexOutOfBoundsException: 100
> >>> > > >        at Test.searchIndex(Test.java:96)
> >>> > > >        at Test.main(Test.java:54)
> >>> > > >
> >>> > > > Would need to perform searching again with different parameters
> to
> >>> > fetch
> >>> > > > next bunch of records ?
> >>> > > >
> >>> > > >
> >>> > > >
> >>> > > >
> >>> > > > Thanks
> >>> > > >
> >>> > >
> >>> > >
> >>> > >
> >>> > > --
> >>> > > ---
> >>> > > Thanks & Regards
> >>> > > Umesh Prasad
> >>> > >
> >>> >
> >>>
> >>>
> >>>
> >>> --
> >>> ---
> >>> Thanks & Regards
> >>> Umesh Prasad
> >>>
> >>
> >>
> >
>

--0016363b8efc2df71c04982851d3--

From java-user-return-48184-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Dec 24 18:16:53 2010
Return-Path: <java-user-return-48184-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 97793 invoked from network); 24 Dec 2010 18:16:53 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 24 Dec 2010 18:16:53 -0000
Received: (qmail 51189 invoked by uid 500); 24 Dec 2010 18:16:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 51094 invoked by uid 500); 24 Dec 2010 18:16:49 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50969 invoked by uid 99); 24 Dec 2010 18:16:49 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 24 Dec 2010 18:16:49 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of jsaardchit@go2.com designates 38.97.64.35 as permitted sender)
Received: from [38.97.64.35] (HELO mail.go2.com) (38.97.64.35)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 24 Dec 2010 18:16:43 +0000
Received: from [10.0.1.4] ([75.82.49.1]) by mail.go2.com over TLS secured channel with Microsoft SMTPSVC(6.0.3790.4675);
	 Fri, 24 Dec 2010 13:16:21 -0500
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Apple Message framework v1082)
Subject: Re: Get Analyzed/Tokenized Field List
From: Jordon Saardchit <jsaardchit@go2.com>
In-Reply-To: <AANLkTikJb4oD5nvGeek+=vDrBihgGBuWg=PsAKe8c+g5@mail.gmail.com>
Date: Fri, 24 Dec 2010 10:16:19 -0800
Content-Transfer-Encoding: quoted-printable
Message-Id: <377595C7-92FB-4643-9457-2731AED8F10E@go2.com>
References: <E65782AA-EA1D-453C-8F1C-1C743B72E35E@go2.com> <AANLkTimpMwE-mp3fFspLUa4gR_-QbT_b0NkGLE5QqXLi@mail.gmail.com> <1A297333-56F0-4485-BD74-8E3DC96AE39E@go2.com> <AANLkTim+4bSQ8WFhSR5sJ1MAH2Nmqd8hVfwNQFTVZzPm@mail.gmail.com> <EFB94529-E150-4155-938C-4AE8432895C4@go2.com> <AANLkTikJb4oD5nvGeek+=vDrBihgGBuWg=PsAKe8c+g5@mail.gmail.com>
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.1082)
X-OriginalArrivalTime: 24 Dec 2010 18:16:22.0164 (UTC) FILETIME=[AB206540:01CBA396]

Heh, yes, all stuff I know.  My question was if an index contained any =
meta data which revealed whether or not a certain indexed field had been =
analyzed or not, which I think you are saying it does not.

Our searching and indexing is isolated into 2 completely seperate =
packages which can be deployed independantly of each other.  The only =
common dependency (obviously) is the index itself.  That being said, I =
was trying to determine from the search runtime if the given =
fieldname/input pair should be analyzed or not when building the query =
without having any knowledge of how the index was created.

Jordon

On Dec 23, 2010, at 5:59 PM, Erick Erickson wrote:

> I guess I'm missing the point. The fact that it is stored is =
irrelevant for
> searching. Stored
> fields really only govern whether Document.getField("fieldname") =
returns
> anything #after#
> the search. You can find out if a field is stored-only by asking
> IndexReader.getFields
> for UNINDEXED, and you can search on anything that is INDEXED.
>=20
> So if, say, you're creating a drop-down with a selection of fields to =
choose
> from, you
> should be able to get the list by looking for INDEXED.
>=20
> But somewhere you've got to insure that the analyzers used at index =
time are
> identical
> or compatible with those used at query time. If all you're concerned =
is
> building up a string
> like "+text:stuff +title:nonsense" and handing that off to the app =
that
> knows how the index
> was built (so it can use the right analyzers for the text and title =
fields
> when parsing the input)
> looking for INDEXED should be fine.
>=20
> If you're #only# using  your custom analyzer for searchable fields, =
it's
> fine because any INDEXED
> field can use the your custom analyzer.
>=20
> But if you use different analyzers for different searchable fields, =
there's
> no way I know of to
> analyze an index and answer the question "what analyzer was this field
> created with",
> that knowledge is built a-priori into the app as far as I know.
>=20
>=20
> Best
> Erick
>=20
>=20
> On Thu, Dec 23, 2010 at 6:32 PM, Jordon Saardchit =
<jsaardchit@go2.com>wrote:
>=20
>> The basic use case is determiniation of rules in regards to building =
a
>> query.  I've got an application that programmatically builds queries
>> (without any pre existing knowledge of the contents of the index it =
is
>> searching).  We have a custom designed analyzer and filter chain.  =
However,
>> it is applied to certain fields at index time.  The fields it is =
applied to
>> are unstored.
>>=20
>> On the search side, I want to be able to determine at runtime which =
field
>> the analyzer should be applied to, and which field not to.  I could =
be
>> approaching the solution incorrectly, but I figured this would be a =
pretty
>> common or natural use case.
>>=20
>> Jordon
>>=20
>> On Dec 23, 2010, at 2:51 PM, Erick Erickson wrote:
>>=20
>>> Ah, you didn't mention indexed but unstored in your original =
message,
>>> just indexed/analyzed....
>>>=20
>>> I don't think you can (someone jump in here if I'm wrong, please). =
The
>>> problem
>>> is that Lucene doesn't require any sort of schema. So if you are
>> perfectly
>>> free to
>>> store a field in one document and NOT store it in another. All the
>> variants
>>> specified in IndexReader.fieldOption can quickly be determined by =
just
>>> looking at the
>>> various index files. But you'd have to spin through all the =
#documents#
>> in
>>> order
>>> to answer the question "is this field ever stored?". Sounds like a =
table
>>> scan in the
>>> DB world.
>>>=20
>>> I don't think Lucene keeps meta-data for this, and spinning through =
all
>> the
>>> documents
>>> would be expensive...
>>>=20
>>> Why do you want to know? Perhaps there's another way to satisfy the
>>> use-case.
>>>=20
>>> I could be way off base here, I'm speaking from general principles =
not
>>> knowledge of
>>> the code...
>>>=20
>>> Best
>>> Erick
>>>=20
>>> On Thu, Dec 23, 2010 at 4:43 PM, Jordon Saardchit =
<jsaardchit@go2.com
>>> wrote:
>>>=20
>>>> Yes I have, and after testing each of the various options denoted =
in
>>>> IndexReader.FieldOption, I cannot retrieve fieldnames that are =
indexed
>>>> (analyzed), and unstored.  I figured this would be relatively easy =
to do
>> and
>>>> I was simply overlooking something.  Is it perhaps not possible to =
do
>> this?
>>>>=20
>>>> Jordon
>>>>=20
>>>> On Dec 23, 2010, at 1:30 PM, Erick Erickson wrote:
>>>>=20
>>>>> Have you looked at IndexReader.getFieldNames()?
>>>>>=20
>>>>> Best
>>>>> Erick
>>>>>=20
>>>>> On Thu, Dec 23, 2010 at 3:23 PM, Jordon Saardchit =
<jsaardchit@go2.com
>>>>> wrote:
>>>>>=20
>>>>>> Is there an easy way to retrieve a collection of fields (or field
>> names)
>>>>>> that are analyzed/tokenized from any given index?
>>>>>>=20
>>>>>> Jordon
>>>>>> =
---------------------------------------------------------------------
>>>>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>>>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>>>>=20
>>>>>>=20
>>>>=20
>>>>=20
>>>> =
---------------------------------------------------------------------
>>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>>>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>>>=20
>>>>=20
>>=20
>>=20
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>=20
>>=20


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48185-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Dec 24 20:18:19 2010
Return-Path: <java-user-return-48185-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 56856 invoked from network); 24 Dec 2010 20:18:19 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 24 Dec 2010 20:18:19 -0000
Received: (qmail 30269 invoked by uid 500); 24 Dec 2010 20:18:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 30222 invoked by uid 500); 24 Dec 2010 20:18:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 30214 invoked by uid 99); 24 Dec 2010 20:18:17 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 24 Dec 2010 20:18:17 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of erickerickson@gmail.com designates 209.85.216.48 as permitted sender)
Received: from [209.85.216.48] (HELO mail-qw0-f48.google.com) (209.85.216.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 24 Dec 2010 20:18:09 +0000
Received: by qwh6 with SMTP id 6so7619401qwh.35
        for <java-user@lucene.apache.org>; Fri, 24 Dec 2010 12:17:48 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=aasHRGvNs2Ec2ux/r3fhj4g3bWp7pvTvIeWJCE1zxaY=;
        b=wy1hces+aGswgELQvHXv502iaZaGoKcD/qkgGEPuGWtIBvxPa5TCM2Vpy0uGhQyXz7
         uAlVlaUtunRa8iDdwevQRf6xuf+abIXk/s7z8/FDQbXXhbqzFz9EuidBztmQvk2y040H
         2uQEvH2wvThflApztLf7Q0QHCaOCjauqmzcjU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=sY3kQrJuacTYp8mzWtQXLwUtwJFHxRveR08+y95YMBVwhOuxs66vlSexk907Ptgkjp
         ijHevzAU64KKShqmMeR8t/qVd+e6jDBGLcyf3d7tw3x/gOWHmd/0jzX4OVpyQ4etErA3
         YLto2ZRNkVM2wNubxRMUvzOKKWsXkPmOtbHRI=
MIME-Version: 1.0
Received: by 10.229.241.13 with SMTP id lc13mr9337173qcb.190.1293221868681;
 Fri, 24 Dec 2010 12:17:48 -0800 (PST)
Received: by 10.229.235.208 with HTTP; Fri, 24 Dec 2010 12:17:48 -0800 (PST)
In-Reply-To: <377595C7-92FB-4643-9457-2731AED8F10E@go2.com>
References: <E65782AA-EA1D-453C-8F1C-1C743B72E35E@go2.com>
	<AANLkTimpMwE-mp3fFspLUa4gR_-QbT_b0NkGLE5QqXLi@mail.gmail.com>
	<1A297333-56F0-4485-BD74-8E3DC96AE39E@go2.com>
	<AANLkTim+4bSQ8WFhSR5sJ1MAH2Nmqd8hVfwNQFTVZzPm@mail.gmail.com>
	<EFB94529-E150-4155-938C-4AE8432895C4@go2.com>
	<AANLkTikJb4oD5nvGeek+=vDrBihgGBuWg=PsAKe8c+g5@mail.gmail.com>
	<377595C7-92FB-4643-9457-2731AED8F10E@go2.com>
Date: Fri, 24 Dec 2010 15:17:48 -0500
Message-ID: <AANLkTikDCG4KvX3zexkwv6rZkr1Lot3Yk4wZOasWWVOM@mail.gmail.com>
Subject: Re: Get Analyzed/Tokenized Field List
From: Erick Erickson <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016363b8efc193ba204982daef0
X-Virus-Checked: Checked by ClamAV on apache.org

--0016363b8efc193ba204982daef0
Content-Type: text/plain; charset=ISO-8859-1

Well, not to my knowledge. In fact there's no guarantee that the #same#
index
has the #same# analyzer used on the #same# field in different documents, so
I don't
see how there could be a robust implementation of what you want.

You could populate a field with a particular analyzer (or none at all),
close your writer and open another with any other random analyzer (or
none at all) for the same field and Lucene wouldn't complain.

Solr handles this with the schema file. I guess you could abstract the
field definitions into a library and use the library in both apps, but
otherwise
the apps have to "just know".

Best
Erick

On Fri, Dec 24, 2010 at 1:16 PM, Jordon Saardchit <jsaardchit@go2.com>wrote:

> Heh, yes, all stuff I know.  My question was if an index contained any meta
> data which revealed whether or not a certain indexed field had been analyzed
> or not, which I think you are saying it does not.
>
> Our searching and indexing is isolated into 2 completely seperate packages
> which can be deployed independantly of each other.  The only common
> dependency (obviously) is the index itself.  That being said, I was trying
> to determine from the search runtime if the given fieldname/input pair
> should be analyzed or not when building the query without having any
> knowledge of how the index was created.
>
> Jordon
>
> On Dec 23, 2010, at 5:59 PM, Erick Erickson wrote:
>
> > I guess I'm missing the point. The fact that it is stored is irrelevant
> for
> > searching. Stored
> > fields really only govern whether Document.getField("fieldname") returns
> > anything #after#
> > the search. You can find out if a field is stored-only by asking
> > IndexReader.getFields
> > for UNINDEXED, and you can search on anything that is INDEXED.
> >
> > So if, say, you're creating a drop-down with a selection of fields to
> choose
> > from, you
> > should be able to get the list by looking for INDEXED.
> >
> > But somewhere you've got to insure that the analyzers used at index time
> are
> > identical
> > or compatible with those used at query time. If all you're concerned is
> > building up a string
> > like "+text:stuff +title:nonsense" and handing that off to the app that
> > knows how the index
> > was built (so it can use the right analyzers for the text and title
> fields
> > when parsing the input)
> > looking for INDEXED should be fine.
> >
> > If you're #only# using  your custom analyzer for searchable fields, it's
> > fine because any INDEXED
> > field can use the your custom analyzer.
> >
> > But if you use different analyzers for different searchable fields,
> there's
> > no way I know of to
> > analyze an index and answer the question "what analyzer was this field
> > created with",
> > that knowledge is built a-priori into the app as far as I know.
> >
> >
> > Best
> > Erick
> >
> >
> > On Thu, Dec 23, 2010 at 6:32 PM, Jordon Saardchit <jsaardchit@go2.com
> >wrote:
> >
> >> The basic use case is determiniation of rules in regards to building a
> >> query.  I've got an application that programmatically builds queries
> >> (without any pre existing knowledge of the contents of the index it is
> >> searching).  We have a custom designed analyzer and filter chain.
>  However,
> >> it is applied to certain fields at index time.  The fields it is applied
> to
> >> are unstored.
> >>
> >> On the search side, I want to be able to determine at runtime which
> field
> >> the analyzer should be applied to, and which field not to.  I could be
> >> approaching the solution incorrectly, but I figured this would be a
> pretty
> >> common or natural use case.
> >>
> >> Jordon
> >>
> >> On Dec 23, 2010, at 2:51 PM, Erick Erickson wrote:
> >>
> >>> Ah, you didn't mention indexed but unstored in your original message,
> >>> just indexed/analyzed....
> >>>
> >>> I don't think you can (someone jump in here if I'm wrong, please). The
> >>> problem
> >>> is that Lucene doesn't require any sort of schema. So if you are
> >> perfectly
> >>> free to
> >>> store a field in one document and NOT store it in another. All the
> >> variants
> >>> specified in IndexReader.fieldOption can quickly be determined by just
> >>> looking at the
> >>> various index files. But you'd have to spin through all the #documents#
> >> in
> >>> order
> >>> to answer the question "is this field ever stored?". Sounds like a
> table
> >>> scan in the
> >>> DB world.
> >>>
> >>> I don't think Lucene keeps meta-data for this, and spinning through all
> >> the
> >>> documents
> >>> would be expensive...
> >>>
> >>> Why do you want to know? Perhaps there's another way to satisfy the
> >>> use-case.
> >>>
> >>> I could be way off base here, I'm speaking from general principles not
> >>> knowledge of
> >>> the code...
> >>>
> >>> Best
> >>> Erick
> >>>
> >>> On Thu, Dec 23, 2010 at 4:43 PM, Jordon Saardchit <jsaardchit@go2.com
> >>> wrote:
> >>>
> >>>> Yes I have, and after testing each of the various options denoted in
> >>>> IndexReader.FieldOption, I cannot retrieve fieldnames that are indexed
> >>>> (analyzed), and unstored.  I figured this would be relatively easy to
> do
> >> and
> >>>> I was simply overlooking something.  Is it perhaps not possible to do
> >> this?
> >>>>
> >>>> Jordon
> >>>>
> >>>> On Dec 23, 2010, at 1:30 PM, Erick Erickson wrote:
> >>>>
> >>>>> Have you looked at IndexReader.getFieldNames()?
> >>>>>
> >>>>> Best
> >>>>> Erick
> >>>>>
> >>>>> On Thu, Dec 23, 2010 at 3:23 PM, Jordon Saardchit <
> jsaardchit@go2.com
> >>>>> wrote:
> >>>>>
> >>>>>> Is there an easy way to retrieve a collection of fields (or field
> >> names)
> >>>>>> that are analyzed/tokenized from any given index?
> >>>>>>
> >>>>>> Jordon
> >>>>>>
> ---------------------------------------------------------------------
> >>>>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >>>>>> For additional commands, e-mail: java-user-help@lucene.apache.org
> >>>>>>
> >>>>>>
> >>>>
> >>>>
> >>>> ---------------------------------------------------------------------
> >>>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >>>> For additional commands, e-mail: java-user-help@lucene.apache.org
> >>>>
> >>>>
> >>
> >>
> >> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> >> For additional commands, e-mail: java-user-help@lucene.apache.org
> >>
> >>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--0016363b8efc193ba204982daef0--

From java-user-return-48186-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Dec 25 10:21:35 2010
Return-Path: <java-user-return-48186-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 36156 invoked from network); 25 Dec 2010 10:21:35 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 25 Dec 2010 10:21:35 -0000
Received: (qmail 31756 invoked by uid 500); 25 Dec 2010 10:21:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 31428 invoked by uid 500); 25 Dec 2010 10:21:32 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 56013 invoked by uid 99); 25 Dec 2010 05:45:22 -0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
From: Ranjit Kumar <Ranjit.Kumar@otssolutions.com>
To: "java-user@lucene.apache.org" <java-user@lucene.apache.org>
CC: "java-user-help@lucene.apache.org" <java-user-help@lucene.apache.org>
Subject: Lucene: how to get frequency of Boolean query
Thread-Topic: Lucene: how to get frequency of Boolean query
Thread-Index: Acuj9wbu40myFBOjSM6Xu0ZvOUG99A==
Date: Sat, 25 Dec 2010 05:46:07 +0000
Message-ID: <AD21521D44870544AC66F4FDFC0A474C1615C94B@MAIL.otssolutions.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: yes
X-MS-TNEF-Correlator:
Content-Type: multipart/related;
	boundary="_004_AD21521D44870544AC66F4FDFC0A474C1615C94BMAILotssolution_";
	type="multipart/alternative"
MIME-Version: 1.0

--_004_AD21521D44870544AC66F4FDFC0A474C1615C94BMAILotssolution_
Content-Type: multipart/alternative;
	boundary="_000_AD21521D44870544AC66F4FDFC0A474C1615C94BMAILotssolution_"

--_000_AD21521D44870544AC66F4FDFC0A474C1615C94BMAILotssolution_
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi,
    Merry Christmas!!

In case of Boolean query like 'sql AND server' .
I am using parser to get correct document containing both sql and server. I=
nside for loop in below code I get correct documented and to get frequency =
I need to sum frequency of 'sql' and 'server' individually with the help of=
 termDocs.read().
As I am searching through millions of document. So, to calculate frequency =
it takes about 160 Second for 80k document.

Is there any way to get frequency of 'Boolean query' directly without manip=
ulation. As it takes lots of time. In case of single term  and phrase query=
, I got frequency for 80k document within 10 Seconds.

QueryParser parser =3D new QueryParser(Version.LUCENE_CURRENT, field, analy=
zer);
parser.setDefaultOperator(QueryParser.AND_OPERATOR);
Query query =3D parser.parse("sql AND server");
TopDocs docs =3D searcher.search(query, null, n);
TermDocs termDocs =3D reader.termDocs();
                   termDocs.seek(new Term(field, query.toString(field).spli=
t(" ")[0].toLowerCase()));
                    int[] ints =3D new int[docs.totalHits];
                    int[] ints1 =3D new int[docs.totalHits];
                    termDocs.read(ints, ints1);
                    List lsts =3D Arrays.asList(ArrayUtils.toObject(ints));
                    List lsts1 =3D Arrays.asList(ArrayUtils.toObject(ints1)=
);

                    termDocs.seek(new Term(field, query.toString(field).spl=
it(" ")[1].toLowerCase()));
                    int[] inta =3D new int[docs.totalHits];
                    int[] inta1 =3D new int[docs.totalHits];
                    termDocs.read(inta, inta1);
                    List lsta =3D Arrays.asList(ArrayUtils.toObject(inta));
                    List lsta1 =3D Arrays.asList(ArrayUtils.toObject(inta1)=
);

                    int totalFreq =3D 0;
                    int docId =3D -1;
                    String a =3D null;
                    int contId =3D 0;
                    String path=3Dnull;
for (int i =3D 0; i < docs2.scoreDocs.length; i++) {
                     docId =3D docs2.scoreDocs[i].doc;
                     path=3Dreader.document(docId).get("path");
                     a =3D path.substring(path.lastIndexOf("\\") + 1, path.=
lastIndexOf("."));
                        try {
                              if(a.indexOf("e")>-1){
                                     contId =3D Integer.parseInt(a.substrin=
g(0, a.length()-1));
                              }else{
                                contId =3D Integer.parseInt(a);
                              }
                            } catch (Exception e) {
//                                e.printStackTrace();
                            }

                        if ((lsts.indexOf(docId) > -1 && lsta.indexOf(docId=
) > -1) || (lsta.indexOf(docId) > -1) && lsts.indexOf(docId) > -1) {
                            totalFreq =3D (Integer) lsts1.get(lsts.indexOf(=
docId)) + (Integer) lsta1.get(lsta.indexOf(docId));
                        } else if (lsts.indexOf(docId) > -1) {
                            totalFreq =3D (Integer) lsts1.get(lsts.indexOf(=
docId));
                        } else if (lsta.indexOf(docId) > -1) {
                            totalFreq =3D (Integer) lsta1.get(lsta.indexOf(=
docId));
                        }

                        w.write(contId+"\t"+ID+"\t"+totalFreq+"\t"+reader.d=
ocument(docId).get("path")+"\n");
                    }


Thanks & Regards,
Ranjit Kumar
Associate Software Engineer

[cid:image002.jpg@01CB7089.C0069B40]

US:       +1 408.540.0001
UK:       +44 208.099.1660
India:   +91 124.474.8100 | +91 124.410.1350
FAX:     +1 408.516.9050
http://www.otssolutions.com

=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D Pr=
ivate, Confidential and Privileged. This e-mail and any files and attachmen=
ts transmitted with it are confidential and/or privileged. They are intende=
d solely for the use of the intended recipient. The content of this e-mail =
and any file or attachment transmitted with it may have been changed or alt=
ered without the consent of the author. If you are not the intended recipie=
nt, please note that any review, dissemination, disclosure, alteration, pri=
nting, circulation or Transmission of this e-mail and/or any file or attach=
ment transmitted with it, is prohibited and may be unlawful. If you have re=
ceived this e-mail or any file or attachment transmitted with it in error p=
lease notify OTS Solutions at info@otssolutions.com =3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D

--_000_AD21521D44870544AC66F4FDFC0A474C1615C94BMAILotssolution_
Content-Type: text/html; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

<html xmlns:v=3D"urn:schemas-microsoft-com:vml" xmlns:o=3D"urn:schemas-micr=
osoft-com:office:office" xmlns:w=3D"urn:schemas-microsoft-com:office:word" =
xmlns:m=3D"http://schemas.microsoft.com/office/2004/12/omml" xmlns=3D"http:=
//www.w3.org/TR/REC-html40">
<head>
<meta http-equiv=3D"Content-Type" content=3D"text/html; charset=3Dus-ascii"=
>
<meta name=3D"Generator" content=3D"Microsoft Word 12 (filtered medium)">
<!--[if !mso]><style>v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style><![endif]--><style><!--
/* Font Definitions */
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:"Palatino Linotype";
	panose-1:2 4 5 2 5 5 5 3 3 4;}
/* Style Definitions */
p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
a:link, span.MsoHyperlink
	{mso-style-priority:99;
	color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{mso-style-priority:99;
	color:purple;
	text-decoration:underline;}
p.MsoAcetate, li.MsoAcetate, div.MsoAcetate
	{mso-style-priority:99;
	mso-style-link:"Balloon Text Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:8.0pt;
	font-family:"Tahoma","sans-serif";}
span.EmailStyle17
	{mso-style-type:personal-compose;
	font-family:"Calibri","sans-serif";
	color:windowtext;}
span.BalloonTextChar
	{mso-style-name:"Balloon Text Char";
	mso-style-priority:99;
	mso-style-link:"Balloon Text";
	font-family:"Tahoma","sans-serif";}
.MsoChpDefault
	{mso-style-type:export-only;}
@page WordSection1
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.0in;}
div.WordSection1
	{page:WordSection1;}
--></style><!--[if gte mso 9]><xml>
<o:shapedefaults v:ext=3D"edit" spidmax=3D"2050" />
</xml><![endif]--><!--[if gte mso 9]><xml>
<o:shapelayout v:ext=3D"edit">
<o:idmap v:ext=3D"edit" data=3D"1" />
</o:shapelayout></xml><![endif]-->
</head>
<body lang=3D"EN-US" link=3D"blue" vlink=3D"purple">
<div class=3D"WordSection1">
<p class=3D"MsoNormal" style=3D"mso-margin-top-alt:auto;mso-margin-bottom-a=
lt:auto">Hi,<o:p></o:p></p>
<p class=3D"MsoNormal" style=3D"mso-margin-top-alt:auto;margin-right:.9pt;m=
argin-left:17.6pt;text-autospace:none">
&nbsp;&nbsp;&nbsp; <span style=3D"font-size:10.0pt;color:black">Merry Chris=
tmas!!</span><o:p></o:p></p>
<p class=3D"MsoNormal" style=3D"mso-margin-top-alt:auto;mso-margin-bottom-a=
lt:auto">&nbsp;<o:p></o:p></p>
<p class=3D"MsoNormal" style=3D"mso-margin-top-alt:auto;mso-margin-bottom-a=
lt:auto;text-indent:.5in">
In case of Boolean query like <b>&#8217;sql AND server&#8217; </b>.<o:p></o=
:p></p>
<p class=3D"MsoNormal" style=3D"mso-margin-top-alt:auto;mso-margin-bottom-a=
lt:auto;margin-left:.5in">
I am using parser to get correct document containing both <b>sql</b> and <b=
>server</b>. Inside for loop in below code I get correct documented and to =
get frequency I need to sum frequency of &#8216;sql&#8217; and &#8216;serve=
r&#8217; individually with the help of
<b>termDocs.read(). </b><o:p></o:p></p>
<p class=3D"MsoNormal" style=3D"mso-margin-top-alt:auto;mso-margin-bottom-a=
lt:auto;margin-left:.5in">
As I am searching through millions of document. So, to calculate frequency =
it takes about
<b>160 Second</b> for <b>80k</b> document. &nbsp;&nbsp;<o:p></o:p></p>
<p class=3D"MsoNormal" style=3D"mso-margin-top-alt:auto;mso-margin-bottom-a=
lt:auto;margin-left:.5in">
&nbsp;<o:p></o:p></p>
<p class=3D"MsoNormal" style=3D"mso-margin-top-alt:auto;mso-margin-bottom-a=
lt:auto;margin-left:.5in">
Is there any way to get frequency of &#8216;<b>Boolean query&#8217; </b>dir=
ectly without manipulation. As it takes lots of time. In case of single ter=
m&nbsp; and phrase query, I got frequency for 80k document within 10 Second=
s. &nbsp;&nbsp;<o:p></o:p></p>
<p class=3D"MsoNormal" style=3D"mso-margin-top-alt:auto;mso-margin-bottom-a=
lt:auto;margin-left:.5in">
&nbsp;<o:p></o:p></p>
<p class=3D"MsoNormal" style=3D"mso-margin-top-alt:auto;mso-margin-bottom-a=
lt:auto;margin-left:.5in">
<b>QueryParser parser =3D new QueryParser(Version.LUCENE_CURRENT, field, an=
alyzer);</b><o:p></o:p></p>
<p class=3D"MsoNormal" style=3D"mso-margin-top-alt:auto;mso-margin-bottom-a=
lt:auto;margin-left:.5in">
<b>parser.setDefaultOperator(QueryParser.AND_OPERATOR);</b><o:p></o:p></p>
<p class=3D"MsoNormal" style=3D"mso-margin-top-alt:auto;mso-margin-bottom-a=
lt:auto;margin-left:.5in">
<b>Query query =3D parser.parse(&#8220;sql AND server&#8221;);</b><o:p></o:=
p></p>
<p class=3D"MsoNormal" style=3D"mso-margin-top-alt:auto;mso-margin-bottom-a=
lt:auto;margin-left:.5in">
<b>TopDocs docs =3D searcher.search(query, null, n);</b><o:p></o:p></p>
<p class=3D"MsoNormal" style=3D"mso-margin-top-alt:auto;mso-margin-bottom-a=
lt:auto;margin-left:.5in">
<b>TermDocs termDocs =3D reader.termDocs();</b><o:p></o:p></p>
<p class=3D"MsoNormal" style=3D"mso-margin-top-alt:auto;mso-margin-bottom-a=
lt:auto;margin-left:.5in">
<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;termDocs.seek(new Term(field, query.to=
String(field).split(&quot; &quot;)[0].toLowerCase()));</b><o:p></o:p></p>
<p class=3D"MsoNormal" style=3D"mso-margin-top-alt:auto;mso-margin-bottom-a=
lt:auto;margin-left:.5in">
<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int[] ints =3D new int[docs.tota=
lHits];</b><o:p></o:p></p>
<p class=3D"MsoNormal" style=3D"mso-margin-top-alt:auto;mso-margin-bottom-a=
lt:auto;margin-left:.5in">
<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int[] ints1 =3D new int[docs.tot=
alHits];</b><o:p></o:p></p>
<p class=3D"MsoNormal" style=3D"mso-margin-top-alt:auto;mso-margin-bottom-a=
lt:auto;margin-left:.5in">
<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; termDocs.read(ints, ints1);</b><=
o:p></o:p></p>
<p class=3D"MsoNormal" style=3D"mso-margin-top-alt:auto;mso-margin-bottom-a=
lt:auto;margin-left:.5in">
<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; List lsts =3D Arrays.asList(Arra=
yUtils.toObject(ints));</b><o:p></o:p></p>
<p class=3D"MsoNormal" style=3D"mso-margin-top-alt:auto;mso-margin-bottom-a=
lt:auto;margin-left:.5in">
<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; List lsts1 =3D Arrays.asList(Arr=
ayUtils.toObject(ints1));</b><o:p></o:p></p>
<p class=3D"MsoNormal" style=3D"mso-margin-top-alt:auto;mso-margin-bottom-a=
lt:auto;margin-left:.5in">
<b>&nbsp;</b><o:p></o:p></p>
<p class=3D"MsoNormal" style=3D"mso-margin-top-alt:auto;mso-margin-bottom-a=
lt:auto;margin-left:.5in">
<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; termDocs.seek(new Term(field, qu=
ery.toString(field).split(&quot; &quot;)[1].toLowerCase()));</b><o:p></o:p>=
</p>
<p class=3D"MsoNormal" style=3D"mso-margin-top-alt:auto;mso-margin-bottom-a=
lt:auto;margin-left:.5in">
<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int[] inta =3D new int[docs.tota=
lHits];</b><o:p></o:p></p>
<p class=3D"MsoNormal" style=3D"mso-margin-top-alt:auto;mso-margin-bottom-a=
lt:auto;margin-left:.5in">
<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int[] inta1 =3D new int[docs.tot=
alHits];</b><o:p></o:p></p>
<p class=3D"MsoNormal" style=3D"mso-margin-top-alt:auto;mso-margin-bottom-a=
lt:auto;margin-left:.5in">
<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; termDocs.read(inta, inta1);</b><=
o:p></o:p></p>
<p class=3D"MsoNormal" style=3D"mso-margin-top-alt:auto;mso-margin-bottom-a=
lt:auto;margin-left:.5in">
<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; List lsta =3D Arrays.asList(Arra=
yUtils.toObject(inta));</b><o:p></o:p></p>
<p class=3D"MsoNormal" style=3D"mso-margin-top-alt:auto;mso-margin-bottom-a=
lt:auto;margin-left:.5in">
<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; List lsta1 =3D Arrays.asList(Arr=
ayUtils.toObject(inta1));</b><o:p></o:p></p>
<p class=3D"MsoNormal" style=3D"mso-margin-top-alt:auto;mso-margin-bottom-a=
lt:auto;margin-left:.5in">
<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp; </b><o:p></o:p></p>
<p class=3D"MsoNormal" style=3D"mso-margin-top-alt:auto;mso-margin-bottom-a=
lt:auto;margin-left:.5in">
<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; int totalFreq =3D 0;</b><o:p></o:p></=
p>
<p class=3D"MsoNormal" style=3D"mso-margin-top-alt:auto;mso-margin-bottom-a=
lt:auto;margin-left:.5in">
<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int docId =3D -1;</b><o:p></o:p>=
</p>
<p class=3D"MsoNormal" style=3D"mso-margin-top-alt:auto;mso-margin-bottom-a=
lt:auto;margin-left:.5in">
<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String a =3D null;</b><o:p></o:p=
></p>
<p class=3D"MsoNormal" style=3D"mso-margin-top-alt:auto;mso-margin-bottom-a=
lt:auto;margin-left:.5in">
<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int contId =3D 0;</b><o:p></o:p>=
</p>
<p class=3D"MsoNormal" style=3D"mso-margin-top-alt:auto;mso-margin-bottom-a=
lt:auto;margin-left:.5in">
<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String path=3Dnull;</b><o:p></o:=
p></p>
<p class=3D"MsoNormal" style=3D"mso-margin-top-alt:auto;mso-margin-bottom-a=
lt:auto;text-indent:.5in">
<b>for (int i =3D 0; i &lt; docs2.scoreDocs.length; i&#43;&#43;) {&nbsp; &n=
bsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp; </b><o:p></o:p></p>
<p class=3D"MsoNormal" style=3D"mso-margin-top-alt:auto;mso-margin-bottom-a=
lt:auto;margin-left:.5in">
<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;docId =3D docs2.score=
Docs[i].doc;</b><o:p></o:p></p>
<p class=3D"MsoNormal" style=3D"mso-margin-top-alt:auto;mso-margin-bottom-a=
lt:auto;margin-left:.5in">
<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; path=3Dreader.document(doc=
Id).get(&quot;path&quot;);</b><o:p></o:p></p>
<p class=3D"MsoNormal" style=3D"mso-margin-top-alt:auto;mso-margin-bottom-a=
lt:auto;margin-left:.5in">
<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a =3D path.substring(path.=
lastIndexOf(&quot;\\&quot;) &#43; 1, path.lastIndexOf(&quot;.&quot;));</b><=
o:p></o:p></p>
<p class=3D"MsoNormal" style=3D"mso-margin-top-alt:auto;mso-margin-bottom-a=
lt:auto;margin-left:.5in">
<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try {</b=
><o:p></o:p></p>
<p class=3D"MsoNormal" style=3D"mso-margin-top-alt:auto;mso-margin-bottom-a=
lt:auto;margin-left:.5in">
<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp; if(a.indexOf(&quot;e&quot;)&gt;-1){</b><o:p></o=
:p></p>
<p class=3D"MsoNormal" style=3D"mso-margin-top-alt:auto;mso-margin-bottom-a=
lt:auto;margin-left:.5in">
<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; contI=
d =3D Integer.parseInt(a.substring(0, a.length()-1));</b><o:p></o:p></p>
<p class=3D"MsoNormal" style=3D"mso-margin-top-alt:auto;mso-margin-bottom-a=
lt:auto;margin-left:.5in">
<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp;&nbsp;&nbsp;}else{</b><o:p></o:p></p>
<p class=3D"MsoNormal" style=3D"mso-margin-top-alt:auto;mso-margin-bottom-a=
lt:auto;margin-left:.5in">
<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; contId =3D Integer.parseInt(a);</b>=
<o:p></o:p></p>
<p class=3D"MsoNormal" style=3D"mso-margin-top-alt:auto;mso-margin-bottom-a=
lt:auto;margin-left:.5in">
<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp; }</b><o:p></o:p></p>
<p class=3D"MsoNormal" style=3D"mso-margin-top-alt:auto;mso-margin-bottom-a=
lt:auto;margin-left:.5in">
<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp; } catch (Exception e) {</b><o:p></o:p></p>
<p class=3D"MsoNormal" style=3D"mso-margin-top-alt:auto;mso-margin-bottom-a=
lt:auto;margin-left:.5in">
<b>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; e.printStackTrace();</b><o:p></o:=
p></p>
<p class=3D"MsoNormal" style=3D"mso-margin-top-alt:auto;mso-margin-bottom-a=
lt:auto;margin-left:.5in">
<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp; }</b><o:p></o:p></p>
<p class=3D"MsoNormal" style=3D"mso-margin-top-alt:auto;mso-margin-bottom-a=
lt:auto;margin-left:.5in">
<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </b><o:p=
></o:p></p>
<p class=3D"MsoNormal" style=3D"mso-margin-top-alt:auto;mso-margin-bottom-a=
lt:auto;margin-left:.5in">
<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if =
((lsts.indexOf(docId) &gt; -1 &amp;&amp; lsta.indexOf(docId) &gt; -1) || (l=
sta.indexOf(docId) &gt; -1) &amp;&amp; lsts.indexOf(docId) &gt; -1) {</b><o=
:p></o:p></p>
<p class=3D"MsoNormal" style=3D"mso-margin-top-alt:auto;mso-margin-bottom-a=
lt:auto;margin-left:.5in">
<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp; totalFreq =3D (Integer) lsts1.get(lsts.indexOf(docId)) &#43=
; (Integer) lsta1.get(lsta.indexOf(docId));</b><o:p></o:p></p>
<p class=3D"MsoNormal" style=3D"mso-margin-top-alt:auto;mso-margin-bottom-a=
lt:auto;margin-left:.5in">
<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } else i=
f (lsts.indexOf(docId) &gt; -1) {</b><o:p></o:p></p>
<p class=3D"MsoNormal" style=3D"mso-margin-top-alt:auto;mso-margin-bottom-a=
lt:auto;margin-left:.5in">
<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp; totalFreq =3D (Integer) lsts1.get(lsts.indexOf(docId));</b>=
<o:p></o:p></p>
<p class=3D"MsoNormal" style=3D"mso-margin-top-alt:auto;mso-margin-bottom-a=
lt:auto;margin-left:.5in">
<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } else i=
f (lsta.indexOf(docId) &gt; -1) {</b><o:p></o:p></p>
<p class=3D"MsoNormal" style=3D"mso-margin-top-alt:auto;mso-margin-bottom-a=
lt:auto;margin-left:.5in">
<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp;totalFreq =3D (Integer) lsta1.get(lsta.indexOf(docId));</b>=
<o:p></o:p></p>
<p class=3D"MsoNormal" style=3D"mso-margin-top-alt:auto;mso-margin-bottom-a=
lt:auto;margin-left:.5in">
<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</b><o:=
p></o:p></p>
<p class=3D"MsoNormal" style=3D"mso-margin-top-alt:auto;mso-margin-bottom-a=
lt:auto;margin-left:.5in">
<b>&nbsp;</b><o:p></o:p></p>
<p class=3D"MsoNormal" style=3D"mso-margin-top-alt:auto;mso-margin-bottom-a=
lt:auto;margin-left:.5in">
<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; w.write(=
contId&#43;&quot;\t&quot;&#43;ID&#43;&quot;\t&quot;&#43;totalFreq&#43;&quot=
;\t&quot;&#43;reader.document(docId).get(&quot;path&quot;)&#43;&quot;\n&quo=
t;);</b><o:p></o:p></p>
<p class=3D"MsoNormal" style=3D"mso-margin-top-alt:auto;mso-margin-bottom-a=
lt:auto;margin-left:.5in">
<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</b><o:p></o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
<p class=3D"MsoNormal"><span style=3D"font-family:&quot;Palatino Linotype&q=
uot;,&quot;serif&quot;;color:navy">Thanks &amp; Regards,</span><span style=
=3D"font-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;color:navy"=
><o:p></o:p></span></p>
<p class=3D"MsoNormal"><b><span style=3D"font-family:&quot;Palatino Linotyp=
e&quot;,&quot;serif&quot;;color:purple">Ranjit Kumar&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></b><b><span style=3D"font-size:12.0pt;font-family:&quot;Palatino Li=
notype&quot;,&quot;serif&quot;;color:purple"><o:p></o:p></span></b></p>
<p class=3D"MsoNormal"><span style=3D"font-family:&quot;Palatino Linotype&q=
uot;,&quot;serif&quot;;color:navy">Associate Software Engineer<o:p></o:p></=
span></p>
<p class=3D"MsoNormal"><span style=3D"font-family:&quot;Palatino Linotype&q=
uot;,&quot;serif&quot;;color:navy"><o:p>&nbsp;</o:p></span></p>
<p class=3D"MsoNormal"><span style=3D"font-family:&quot;Palatino Linotype&q=
uot;,&quot;serif&quot;;color:navy"><img width=3D"236" height=3D"53" id=3D"P=
icture_x0020_1" src=3D"cid:image001.jpg@01CBA425.17A7CFD0" alt=3D"cid:image=
002.jpg@01CB7089.C0069B40"><o:p></o:p></span></p>
<p class=3D"MsoNormal"><span style=3D"font-family:&quot;Palatino Linotype&q=
uot;,&quot;serif&quot;;color:navy"><o:p>&nbsp;</o:p></span></p>
<p class=3D"MsoNormal"><b><span style=3D"font-family:&quot;Palatino Linotyp=
e&quot;,&quot;serif&quot;;color:navy">US:</span></b><span style=3D"font-fam=
ily:&quot;Palatino Linotype&quot;,&quot;serif&quot;;color:navy"> &nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp; &#43;1 408.540.0001
<o:p></o:p></span></p>
<p class=3D"MsoNormal"><b><span style=3D"font-family:&quot;Palatino Linotyp=
e&quot;,&quot;serif&quot;;color:navy">UK:</span></b><span style=3D"font-fam=
ily:&quot;Palatino Linotype&quot;,&quot;serif&quot;;color:navy"> &nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp; &#43;44 208.099.1660<o:p></o:p></span></p>
<p class=3D"MsoNormal"><b><span style=3D"font-family:&quot;Palatino Linotyp=
e&quot;,&quot;serif&quot;;color:navy">India:</span></b><span style=3D"font-=
family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;color:navy"> &nbsp;&=
nbsp;&#43;91 124.474.8100 | &#43;91 124.410.1350<o:p></o:p></span></p>
<p class=3D"MsoNormal" style=3D"margin-bottom:12.0pt"><b><span style=3D"fon=
t-family:&quot;Palatino Linotype&quot;,&quot;serif&quot;;color:navy">FAX:</=
span></b><span style=3D"font-family:&quot;Palatino Linotype&quot;,&quot;ser=
if&quot;;color:navy"> &nbsp;&nbsp;&nbsp; &#43;1 408.516.9050<o:p></o:p></sp=
an></p>
<p class=3D"MsoNormal"><span style=3D"font-family:&quot;Palatino Linotype&q=
uot;,&quot;serif&quot;;color:navy"><a href=3D"http://www.otssolutions.com">=
<span style=3D"color:blue">http://www.otssolutions.com</span></a><o:p></o:p=
></span></p>
<p class=3D"MsoNormal"><o:p>&nbsp;</o:p></p>
</div>
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D Pr=
ivate, Confidential and Privileged. This e-mail and any files and attachmen=
ts transmitted with it are confidential and/or privileged. They are intende=
d solely
 for the use of the intended recipient. The content of this e-mail and any =
file or attachment transmitted with it may have been changed or altered wit=
hout the consent of the author. If you are not the intended recipient, plea=
se note that any review, dissemination,
 disclosure, alteration, printing, circulation or Transmission of this e-ma=
il and/or any file or attachment transmitted with it, is prohibited and may=
 be unlawful. If you have received this e-mail or any file or attachment tr=
ansmitted with it in error please
 notify OTS Solutions at info@otssolutions.com =3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
</body>
</html>

--_000_AD21521D44870544AC66F4FDFC0A474C1615C94BMAILotssolution_--

--_004_AD21521D44870544AC66F4FDFC0A474C1615C94BMAILotssolution_--

From java-user-return-48187-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Mon Dec 27 02:59:16 2010
Return-Path: <java-user-return-48187-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 45021 invoked from network); 27 Dec 2010 02:59:16 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 27 Dec 2010 02:59:16 -0000
Received: (qmail 61768 invoked by uid 500); 27 Dec 2010 02:59:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 61545 invoked by uid 500); 27 Dec 2010 02:59:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 61536 invoked by uid 99); 27 Dec 2010 02:59:11 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 27 Dec 2010 02:59:11 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of fancyerii@gmail.com designates 74.125.82.48 as permitted sender)
Received: from [74.125.82.48] (HELO mail-ww0-f48.google.com) (74.125.82.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 27 Dec 2010 02:59:04 +0000
Received: by wwd20 with SMTP id 20so8108990wwd.5
        for <java-user@lucene.apache.org>; Sun, 26 Dec 2010 18:58:43 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=nrx/sb1CbvqoNwTtjy0XHltu5tonDY8H16VHRRQ1G+o=;
        b=mdXvZqoy3qSVOWZAzLDtCZwCesg317ohHTa7Ny/KBwooTpx2rrrs+cWAEoF+GDFpaj
         IiVMb4NpcgMSYKf+kvV92YDGRL5hLPkzvJEjsCLWxeRzE3V7adXafXRLHp55CNN2euhU
         saoFerlslmunwzvLYw52Vy1tV9SWE1oiL8du4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=AvALx5n0tFMiq7jKX6RjUa0Q9iGPrdduoA3U4kEnOu9QCy4ZUB3Ql8H3d69cHW/MNv
         9O3WRYmtoLK+5MMiDXrT4vhEpal+jEXbuPUSKkF5hugKFDDf1UsFOwPi3YN4w/auf1wj
         tHVi2iRlYMTygx2/hJ/2XZ7FwA7ufe0sHQBIw=
MIME-Version: 1.0
Received: by 10.216.59.143 with SMTP id s15mr7958262wec.49.1293418722285; Sun,
 26 Dec 2010 18:58:42 -0800 (PST)
Received: by 10.216.53.71 with HTTP; Sun, 26 Dec 2010 18:58:42 -0800 (PST)
In-Reply-To: <AD21521D44870544AC66F4FDFC0A474C1615C94B@MAIL.otssolutions.com>
References: <AD21521D44870544AC66F4FDFC0A474C1615C94B@MAIL.otssolutions.com>
Date: Mon, 27 Dec 2010 10:58:42 +0800
Message-ID: <AANLkTik4tEt25Yas3q4_yJeah606pmnno8JpRvkcvAsc@mail.gmail.com>
Subject: Re: Lucene: how to get frequency of Boolean query
From: Li Li <fancyerii@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=000e0ce0f8a47cd7ed04985b83ed
X-Virus-Checked: Checked by ClamAV on apache.org

--000e0ce0f8a47cd7ed04985b83ed
Content-Type: text/plain; charset=windows-1252
Content-Transfer-Encoding: quoted-printable

do you mean get tf of the hited documents when doing search?
it's a difficult problem because only TermScorer has TermDocs and using tf
in score() function.
but this we can't know whether these doc is selected because we use a
priorityQueue in TopScoreDocCollector

  public void collect(int doc) throws IOException {
      float score =3D scorer.score();

      // This collector cannot handle these scores:
      assert score !=3D Float.NEGATIVE_INFINITY;
      assert !Float.isNaN(score);

      totalHits++;
      if (score <=3D pqTop.score) {
        // Since docs are returned in-order (i.e., increasing doc Id), a
document
        // with equal score to pqTop.score cannot compete since HitQueue
favors
        // documents with lower doc Ids. Therefore reject those docs too.
        return;
      }
      pqTop.doc =3D doc + docBase;
      pqTop.score =3D score;
      pqTop =3D (ScoreDoc) pq.updateTop();
    }
    Because the scorer in BooleanScorer2 is
ConjuctionScorer(DisjuctionScorer). it can not get tf.
    If you want to do this. you have to modify many codes
2010/12/25 Ranjit Kumar <Ranjit.Kumar@otssolutions.com>

>  Hi,
>
>     Merry Christmas!!
>
>
>
> In case of Boolean query like *=92sql AND server=92 *.
>
> I am using parser to get correct document containing both *sql* and *
> server*. Inside for loop in below code I get correct documented and to ge=
t
> frequency I need to sum frequency of =91sql=92 and =91server=92 individua=
lly with
> the help of *termDocs.read(). *
>
> As I am searching through millions of document. So, to calculate frequenc=
y
> it takes about *160 Second* for *80k* document.
>
>
>
> Is there any way to get frequency of =91*Boolean query=92 *directly witho=
ut
> manipulation. As it takes lots of time. In case of single term  and phras=
e
> query, I got frequency for 80k document within 10 Seconds.
>
>
>
> *QueryParser parser =3D new QueryParser(Version.LUCENE_CURRENT, field,
> analyzer);*
>
> *parser.setDefaultOperator(QueryParser.AND_OPERATOR);*
>
> *Query query =3D parser.parse(=93sql AND server=94);*
>
> *TopDocs docs =3D searcher.search(query, null, n);*
>
> *TermDocs termDocs =3D reader.termDocs();*
>
> *                   termDocs.seek(new Term(field,
> query.toString(field).split(" ")[0].toLowerCase()));*
>
> *                    int[] ints =3D new int[docs.totalHits];*
>
> *                    int[] ints1 =3D new int[docs.totalHits];*
>
> *                    termDocs.read(ints, ints1);*
>
> *                    List lsts =3D Arrays.asList(ArrayUtils.toObject(ints=
));
> *
>
> *                    List lsts1 =3D
> Arrays.asList(ArrayUtils.toObject(ints1));*
>
> * *
>
> *                    termDocs.seek(new Term(field,
> query.toString(field).split(" ")[1].toLowerCase()));*
>
> *                    int[] inta =3D new int[docs.totalHits];*
>
> *                    int[] inta1 =3D new int[docs.totalHits];*
>
> *                    termDocs.read(inta, inta1);*
>
> *                    List lsta =3D Arrays.asList(ArrayUtils.toObject(inta=
));
> *
>
> *                    List lsta1 =3D
> Arrays.asList(ArrayUtils.toObject(inta1));*
>
> *                *
>
> *                    int totalFreq =3D 0;*
>
> *                    int docId =3D -1;*
>
> *                    String a =3D null;*
>
> *                    int contId =3D 0;*
>
> *                    String path=3Dnull;*
>
> *for (int i =3D 0; i < docs2.scoreDocs.length; i++) {                  *
>
> *                     docId =3D docs2.scoreDocs[i].doc;*
>
> *                     path=3Dreader.document(docId).get("path");*
>
> *                     a =3D path.substring(path.lastIndexOf("\\") + 1,
> path.lastIndexOf("."));*
>
> *                        try {*
>
> *                              if(a.indexOf("e")>-1){*
>
> *                                     contId =3D
> Integer.parseInt(a.substring(0, a.length()-1));*
>
> *                              }else{*
>
> *                                contId =3D Integer.parseInt(a);*
>
> *                              }*
>
> *                            } catch (Exception e) {*
>
> *//                                e.printStackTrace();*
>
> *                            }*
>
> *                        *
>
> *                        if ((lsts.indexOf(docId) > -1 &&
> lsta.indexOf(docId) > -1) || (lsta.indexOf(docId) > -1) &&
> lsts.indexOf(docId) > -1) {*
>
> *                            totalFreq =3D (Integer)
> lsts1.get(lsts.indexOf(docId)) + (Integer) lsta1.get(lsta.indexOf(docId))=
;
> *
>
> *                        } else if (lsts.indexOf(docId) > -1) {*
>
> *                            totalFreq =3D (Integer)
> lsts1.get(lsts.indexOf(docId));*
>
> *                        } else if (lsta.indexOf(docId) > -1) {*
>
> *                            totalFreq =3D (Integer)
> lsta1.get(lsta.indexOf(docId));*
>
> *                        }*
>
> * *
>
> *
> w.write(contId+"\t"+ID+"\t"+totalFreq+"\t"+reader.document(docId).get("pa=
th")+"\n");
> *
>
> *                    }*
>
>
>
>
>
> Thanks & Regards,
>
> *Ranjit Kumar                       ***
>
> Associate Software Engineer
>
>
>
> [image: cid:image002.jpg@01CB7089.C0069B40]
>
>
>
> *US:*       +1 408.540.0001
>
> *UK:*       +44 208.099.1660
>
> *India:*   +91 124.474.8100 | +91 124.410.1350
>
> *FAX:*     +1 408.516.9050
>
> http://www.otssolutions.com
>
>
> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
> Private, Confidential and Privileged. This e-mail and any files and
> attachments transmitted with it are confidential and/or privileged. They =
are
> intended solely for the use of the intended recipient. The content of thi=
s
> e-mail and any file or attachment transmitted with it may have been chang=
ed
> or altered without the consent of the author. If you are not the intended
> recipient, please note that any review, dissemination, disclosure,
> alteration, printing, circulation or Transmission of this e-mail and/or a=
ny
> file or attachment transmitted with it, is prohibited and may be unlawful=
.
> If you have received this e-mail or any file or attachment transmitted wi=
th
> it in error please notify OTS Solutions at info@otssolutions.com=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
>
>

--000e0ce0f8a47cd7ed04985b83ed--

From java-user-return-48188-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Dec 28 07:00:37 2010
Return-Path: <java-user-return-48188-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 17045 invoked from network); 28 Dec 2010 07:00:37 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 28 Dec 2010 07:00:37 -0000
Received: (qmail 48198 invoked by uid 500); 28 Dec 2010 07:00:34 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47916 invoked by uid 500); 28 Dec 2010 07:00:31 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47908 invoked by uid 99); 28 Dec 2010 07:00:30 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Dec 2010 07:00:30 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of jlal@chambal.com designates 74.125.82.42 as permitted sender)
Received: from [74.125.82.42] (HELO mail-ww0-f42.google.com) (74.125.82.42)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Dec 2010 07:00:23 +0000
Received: by wwi17 with SMTP id 17so9418824wwi.5
        for <java-user@lucene.apache.org>; Mon, 27 Dec 2010 23:00:02 -0800 (PST)
MIME-Version: 1.0
Received: by 10.216.171.68 with SMTP id q46mr16562825wel.98.1293519602306;
 Mon, 27 Dec 2010 23:00:02 -0800 (PST)
Received: by 10.216.255.147 with HTTP; Mon, 27 Dec 2010 23:00:02 -0800 (PST)
Date: Tue, 28 Dec 2010 12:30:02 +0530
Message-ID: <AANLkTinafMEkYwYuEdtGUkM7koo06Bov5Fp_-Msq5U6S@mail.gmail.com>
Subject: Outof memory exception on using Integer.MaxValue
From: Jawahar Lal <jlal@chambal.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016e65b64f267cf8604987300f9

--0016e65b64f267cf8604987300f9
Content-Type: text/plain; charset=ISO-8859-1

Hi,

  I am using multiSearcher as

objMultiSearcher.search(query,null,Integer.MaxValue);

I searched a query, which should & does not return any hit. As I run the
query, the above statement throw OutofMemory exception. I change the
Integer.MaxValue TO 100, then I again searched, it returned 0 hit.

Why its thowing memory exception, even there is not hit found for the query
?

Thanks

--0016e65b64f267cf8604987300f9--

From java-user-return-48189-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Dec 28 08:36:56 2010
Return-Path: <java-user-return-48189-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 77390 invoked from network); 28 Dec 2010 08:36:56 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 28 Dec 2010 08:36:56 -0000
Received: (qmail 97138 invoked by uid 500); 28 Dec 2010 08:36:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 96823 invoked by uid 500); 28 Dec 2010 08:36:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 96815 invoked by uid 99); 28 Dec 2010 08:36:52 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Dec 2010 08:36:52 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of lmenaria@chambal.com designates 209.85.216.48 as permitted sender)
Received: from [209.85.216.48] (HELO mail-qw0-f48.google.com) (209.85.216.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Dec 2010 08:36:47 +0000
Received: by qwh6 with SMTP id 6so9504990qwh.35
        for <java-user@lucene.apache.org>; Tue, 28 Dec 2010 00:36:27 -0800 (PST)
MIME-Version: 1.0
Received: by 10.229.212.5 with SMTP id gq5mr11875632qcb.64.1293525387041; Tue,
 28 Dec 2010 00:36:27 -0800 (PST)
Received: by 10.229.189.211 with HTTP; Tue, 28 Dec 2010 00:36:26 -0800 (PST)
In-Reply-To: <AANLkTinafMEkYwYuEdtGUkM7koo06Bov5Fp_-Msq5U6S@mail.gmail.com>
References: <AANLkTinafMEkYwYuEdtGUkM7koo06Bov5Fp_-Msq5U6S@mail.gmail.com>
Date: Tue, 28 Dec 2010 14:06:26 +0530
Message-ID: <AANLkTimFx42dvNKhjmruBmJCVXQ+XZP8heQmA+Ar6ZaV@mail.gmail.com>
Subject: Re: Outof memory exception on using Integer.MaxValue
From: Laxmilal Menariya <lmenaria@chambal.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=00163631030533dc3e0498745942

--00163631030533dc3e0498745942
Content-Type: text/plain; charset=ISO-8859-1

Which version you are trying of lucene ?

On Tue, Dec 28, 2010 at 12:30 PM, Jawahar Lal <jlal@chambal.com> wrote:

> Hi,
>
>  I am using multiSearcher as
>
> objMultiSearcher.search(query,null,Integer.MaxValue);
>
> I searched a query, which should & does not return any hit. As I run the
> query, the above statement throw OutofMemory exception. I change the
> Integer.MaxValue TO 100, then I again searched, it returned 0 hit.
>
> Why its thowing memory exception, even there is not hit found for the query
> ?
>
> Thanks
>



-- 
Thanks,
Laxmilal Menariya

--00163631030533dc3e0498745942--

From java-user-return-48190-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Dec 28 09:05:16 2010
Return-Path: <java-user-return-48190-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19769 invoked from network); 28 Dec 2010 09:05:15 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 28 Dec 2010 09:05:15 -0000
Received: (qmail 15335 invoked by uid 500); 28 Dec 2010 09:05:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 15097 invoked by uid 500); 28 Dec 2010 09:05:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 15089 invoked by uid 99); 28 Dec 2010 09:05:11 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Dec 2010 09:05:11 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of jlal@chambal.com designates 74.125.82.66 as permitted sender)
Received: from [74.125.82.66] (HELO mail-ww0-f66.google.com) (74.125.82.66)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Dec 2010 09:05:05 +0000
Received: by wwb24 with SMTP id 24so3272338wwb.5
        for <java-user@lucene.apache.org>; Tue, 28 Dec 2010 01:04:44 -0800 (PST)
MIME-Version: 1.0
Received: by 10.216.173.15 with SMTP id u15mr13722375wel.83.1293527084670;
 Tue, 28 Dec 2010 01:04:44 -0800 (PST)
Received: by 10.216.255.147 with HTTP; Tue, 28 Dec 2010 01:04:44 -0800 (PST)
In-Reply-To: <AANLkTimFx42dvNKhjmruBmJCVXQ+XZP8heQmA+Ar6ZaV@mail.gmail.com>
References: <AANLkTinafMEkYwYuEdtGUkM7koo06Bov5Fp_-Msq5U6S@mail.gmail.com>
	<AANLkTimFx42dvNKhjmruBmJCVXQ+XZP8heQmA+Ar6ZaV@mail.gmail.com>
Date: Tue, 28 Dec 2010 14:34:44 +0530
Message-ID: <AANLkTikVf6Jic-SUmf8C54gcCGz=tHzHRuDvEkVmGh6w@mail.gmail.com>
Subject: Re: Outof memory exception on using Integer.MaxValue
From: Jawahar Lal <jlal@chambal.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=00163641691b639edf049874be0a
X-Virus-Checked: Checked by ClamAV on apache.org

--00163641691b639edf049874be0a
Content-Type: text/plain; charset=ISO-8859-1

I am using lucene 3.0.3

On 28 December 2010 14:06, Laxmilal Menariya <lmenaria@chambal.com> wrote:

> Which version you are trying of lucene ?
>
> On Tue, Dec 28, 2010 at 12:30 PM, Jawahar Lal <jlal@chambal.com> wrote:
>
> > Hi,
> >
> >  I am using multiSearcher as
> >
> > objMultiSearcher.search(query,null,Integer.MaxValue);
> >
> > I searched a query, which should & does not return any hit. As I run the
> > query, the above statement throw OutofMemory exception. I change the
> > Integer.MaxValue TO 100, then I again searched, it returned 0 hit.
> >
> > Why its thowing memory exception, even there is not hit found for the
> query
> > ?
> >
> > Thanks
> >
>
>
>
> --
> Thanks,
> Laxmilal Menariya
>

--00163641691b639edf049874be0a--

From java-user-return-48191-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Dec 28 09:13:36 2010
Return-Path: <java-user-return-48191-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 31344 invoked from network); 28 Dec 2010 09:13:35 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 28 Dec 2010 09:13:35 -0000
Received: (qmail 27093 invoked by uid 500); 28 Dec 2010 09:13:33 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 26900 invoked by uid 500); 28 Dec 2010 09:13:33 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 26892 invoked by uid 99); 28 Dec 2010 09:13:32 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Dec 2010 09:13:32 +0000
X-ASF-Spam-Status: No, hits=2.1 required=10.0
	tests=FREEMAIL_FROM,FREEMAIL_REPLYTO,RCVD_IN_DNSWL_LOW,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of simon.willnauer@googlemail.com designates 209.85.216.176 as permitted sender)
Received: from [209.85.216.176] (HELO mail-qy0-f176.google.com) (209.85.216.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Dec 2010 09:13:26 +0000
Received: by qyk10 with SMTP id 10so9358050qyk.14
        for <java-user@lucene.apache.org>; Tue, 28 Dec 2010 01:13:05 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=googlemail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:reply-to
         :in-reply-to:references:date:message-id:subject:from:to:content-type
         :content-transfer-encoding;
        bh=Hlj604hcQOfBIelt1q5IWi0LB+rOSAlgAJ96xoRgiXE=;
        b=MNw8AM4kSqh56WRqMjM/UOab82d/2Aoo10bpGW6sp+ho4rpcM8HXX2vLZGOqll+wzo
         Z6muJUufnQxfZVH58K2U+VHh3hGzy7S6oP9REBpbpZyYe6nk04K8UeKOXlaRqmnq/zhQ
         1e/6yxTNq8szCUo5LdVV4ANh0RZyaxDtP0xBE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=googlemail.com; s=gamma;
        h=mime-version:reply-to:in-reply-to:references:date:message-id
         :subject:from:to:content-type:content-transfer-encoding;
        b=YMSRaUtUIYTlN6Hd1nh3z3Ts5lSDut/1LYDovtChuTmkqKJKj5UA6xsIDQfFONsFry
         GdyjXCQxhCjQmjZKLccW0YeJWwyP/tZk7SFVMWo9AUVvLKndl88zlaAEkQ+eY+NsVTO0
         870E5SqClxrCm8IYRPq53k1UYNYxtsdPKQxpU=
MIME-Version: 1.0
Received: by 10.224.67.79 with SMTP id q15mr12432726qai.394.1293527585817;
 Tue, 28 Dec 2010 01:13:05 -0800 (PST)
Received: by 10.220.183.4 with HTTP; Tue, 28 Dec 2010 01:13:05 -0800 (PST)
Reply-To: simon.willnauer@gmail.com
In-Reply-To: <AANLkTinafMEkYwYuEdtGUkM7koo06Bov5Fp_-Msq5U6S@mail.gmail.com>
References: <AANLkTinafMEkYwYuEdtGUkM7koo06Bov5Fp_-Msq5U6S@mail.gmail.com>
Date: Tue, 28 Dec 2010 10:13:05 +0100
Message-ID: <AANLkTimdDDJHVjfhHg8B7FU0DrJ3-sgP4HXPaUe+cbpM@mail.gmail.com>
Subject: Re: Outof memory exception on using Integer.MaxValue
From: Simon Willnauer <simon.willnauer@googlemail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

MultiSearcher uses the given integer as the expected number of results
and creates a hitqueue for it. Since you are asking for INT_MAX hits
Lucene creates a hitQueue for either INT_MAX or maxDoc() documents and
preallocates that memory. So in the worst case it creates an Object
array with INTEGER_MAX elements - each taking 8 bytes as the object
reference on a 64 bit VM - unless you have lots of heap space this
will make your vm barf.

you should only specify the number of documents you really want no
blindly get all of them.

why your query returns 0 docs is a different question.

simon

On Tue, Dec 28, 2010 at 8:00 AM, Jawahar Lal <jlal@chambal.com> wrote:
> Hi,
>
> =C2=A0I am using multiSearcher as
>
> objMultiSearcher.search(query,null,Integer.MaxValue);
>
> I searched a query, which should & does not return any hit. As I run the
> query, the above statement throw OutofMemory exception. I change the
> Integer.MaxValue TO 100, then I again searched, it returned 0 hit.
>
> Why its thowing memory exception, even there is not hit found for the que=
ry
> ?
>
> Thanks
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48192-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Dec 28 09:55:40 2010
Return-Path: <java-user-return-48192-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 57796 invoked from network); 28 Dec 2010 09:55:40 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 28 Dec 2010 09:55:40 -0000
Received: (qmail 50277 invoked by uid 500); 28 Dec 2010 09:55:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49854 invoked by uid 500); 28 Dec 2010 09:55:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 49846 invoked by uid 99); 28 Dec 2010 09:55:36 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Dec 2010 09:55:36 +0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [85.25.71.29] (HELO mail.troja.net) (85.25.71.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Dec 2010 09:55:29 +0000
Received: from localhost (localhost.localdomain [127.0.0.1])
	by mail.troja.net (Postfix) with ESMTP id CCA68D36008
	for <java-user@lucene.apache.org>; Tue, 28 Dec 2010 10:55:09 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at mail.troja.net
Received: from mail.troja.net ([127.0.0.1])
	by localhost (megaira.troja.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id xt7nDshV7xXp for <java-user@lucene.apache.org>;
	Tue, 28 Dec 2010 10:55:03 +0100 (CET)
Received: from [192.168.1.36] (dslb-088-065-120-051.pools.arcor-ip.net [88.65.120.51])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mail.troja.net (Postfix) with ESMTPSA id 2D84BD36009
	for <java-user@lucene.apache.org>; Tue, 28 Dec 2010 10:55:02 +0100 (CET)
X-User-Agent: K-9 Mail for Android
References: <AANLkTinafMEkYwYuEdtGUkM7koo06Bov5Fp_-Msq5U6S@mail.gmail.com> <AANLkTimFx42dvNKhjmruBmJCVXQ+XZP8heQmA+Ar6ZaV@mail.gmail.com> <AANLkTikVf6Jic-SUmf8C54gcCGz=tHzHRuDvEkVmGh6w@mail.gmail.com>
In-Reply-To: <AANLkTikVf6Jic-SUmf8C54gcCGz=tHzHRuDvEkVmGh6w@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
 charset=utf-8
Content-Transfer-Encoding: 8bit
Subject: Re: Outof memory exception on using Integer.MaxValue
From: Uwe Schindler <uwe@thetaphi.de>
Date: Tue, 28 Dec 2010 10:32:38 +0100
To: java-user@lucene.apache.org
Message-ID: <5acf8d6c-cf7e-448f-a40e-e2a74842ec68@email.android.com>
X-Virus-Checked: Checked by ClamAV on apache.org

The TopDocs returning methods are not intended to get all results, so Max Int is not a valid value. The maximum hit count allocates a PriorityQueue with so many slots. To retrieve all hits (unsorted) you have to write your own collector. But that is not the natural use case for a full text engine, which is to return the top n ranking results. For this reason its not allowed to go beyond page 50 or like that in Google (just as example). So choose n as big as how many top ranking results you are interested in. This number is normally not so big, as most users are only interested in top ranking results.

Uwe



"Jawahar Lal" <jlal@chambal.com> schrieb:

>I am using lucene 3.0.3
>
>On 28 December 2010 14:06, Laxmilal Menariya <lmenaria@chambal.com>
>wrote:
>
>> Which version you are trying of lucene ?
>>
>> On Tue, Dec 28, 2010 at 12:30 PM, Jawahar Lal <jlal@chambal.com>
>wrote:
>>
>> > Hi,
>> >
>> >  I am using multiSearcher as
>> >
>> > objMultiSearcher.search(query,null,Integer.MaxValue);
>> >
>> > I searched a query, which should & does not return any hit. As I
>run the
>> > query, the above statement throw OutofMemory exception. I change
>the
>> > Integer.MaxValue TO 100, then I again searched, it returned 0 hit.
>> >
>> > Why its thowing memory exception, even there is not hit found for
>the
>> query
>> > ?
>> >
>> > Thanks
>> >
>>
>>
>>
>> --
>> Thanks,
>> Laxmilal Menariya
>>

--
Uwe Schindler
H.-H.-Meier-Allee 63, 28213 Bremen
http://www.thetaphi.de

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48193-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Dec 28 10:24:38 2010
Return-Path: <java-user-return-48193-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 79824 invoked from network); 28 Dec 2010 10:24:38 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 28 Dec 2010 10:24:38 -0000
Received: (qmail 69862 invoked by uid 500); 28 Dec 2010 10:24:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 69580 invoked by uid 500); 28 Dec 2010 10:24:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 69572 invoked by uid 99); 28 Dec 2010 10:24:34 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Dec 2010 10:24:34 +0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=RCVD_IN_DNSWL_NONE,SPF_HELO_PASS,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [212.227.17.9] (HELO moutng.kundenserver.de) (212.227.17.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Dec 2010 10:24:28 +0000
Received: from [10.0.2.4] (adsl-84-226-29-250.adslplus.ch [84.226.29.250])
	by mrelayeu.kundenserver.de (node=mreu1) with ESMTP (Nemesis)
	id 0Ldqqt-1QFcqj3ZPX-00iPP8; Tue, 28 Dec 2010 11:24:07 +0100
Content-Type: text/plain; charset=iso-8859-1
Mime-Version: 1.0 (Apple Message framework v1082)
Subject: Re: Outof memory exception on using Integer.MaxValue
From: Paul Libbrecht <paul@hoplahup.net>
In-Reply-To: <5acf8d6c-cf7e-448f-a40e-e2a74842ec68@email.android.com>
Date: Tue, 28 Dec 2010 11:24:05 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <035E6663-BF28-4F58-A7D9-B2DFE56AC6B1@hoplahup.net>
References: <AANLkTinafMEkYwYuEdtGUkM7koo06Bov5Fp_-Msq5U6S@mail.gmail.com> <AANLkTimFx42dvNKhjmruBmJCVXQ+XZP8heQmA+Ar6ZaV@mail.gmail.com> <AANLkTikVf6Jic-SUmf8C54gcCGz=tHzHRuDvEkVmGh6w@mail.gmail.com> <5acf8d6c-cf7e-448f-a40e-e2a74842ec68@email.android.com>
To: java-user@lucene.apache.org
X-Mailer: Apple Mail (2.1082)
X-Provags-ID: V02:K0:jWztlPahSOTJRLRY4QwFTugOTVlyv3/lZtzoEvTkmBY
 y002D1TzQQ3wSseMUGtjblPQZYJPHs60HajSejwjVmchbXFF0O
 9oyIWMEZZdiX14iPMQsBFWNvakPXfa8JhBjdRrtPrhENtW/WnP
 jINsz95mNqAjE8zulJ8i3P+z5WWn7UiufFN/miVh4HrsA0iazd
 yAlPVp/32yM2zNz0a9s426LgRK2BIHiN9PkN4B0E7Q=
X-Virus-Checked: Checked by ClamAV on apache.org

I also not that this is a fundamental characteristic of the great =
performance of Lucene and its related products since it allows cleanly =
managed resources. "this" is generally called paging.

paul


Le 28 d=E9c. 2010 =E0 10:32, Uwe Schindler a =E9crit :

> The TopDocs returning methods are not intended to get all results, so =
Max Int is not a valid value. The maximum hit count allocates a =
PriorityQueue with so many slots. To retrieve all hits (unsorted) you =
have to write your own collector. But that is not the natural use case =
for a full text engine, which is to return the top n ranking results. =
For this reason its not allowed to go beyond page 50 or like that in =
Google (just as example). So choose n as big as how many top ranking =
results you are interested in. This number is normally not so big, as =
most users are only interested in top ranking results.
>=20
> Uwe
>=20
>=20
>=20
> "Jawahar Lal" <jlal@chambal.com> schrieb:
>=20
>> I am using lucene 3.0.3
>>=20
>> On 28 December 2010 14:06, Laxmilal Menariya <lmenaria@chambal.com>
>> wrote:
>>=20
>>> Which version you are trying of lucene ?
>>>=20
>>> On Tue, Dec 28, 2010 at 12:30 PM, Jawahar Lal <jlal@chambal.com>
>> wrote:
>>>=20
>>>> Hi,
>>>>=20
>>>> I am using multiSearcher as
>>>>=20
>>>> objMultiSearcher.search(query,null,Integer.MaxValue);
>>>>=20
>>>> I searched a query, which should & does not return any hit. As I
>> run the
>>>> query, the above statement throw OutofMemory exception. I change
>> the
>>>> Integer.MaxValue TO 100, then I again searched, it returned 0 hit.
>>>>=20
>>>> Why its thowing memory exception, even there is not hit found for
>> the
>>> query
>>>> ?
>>>>=20
>>>> Thanks
>>>>=20
>>>=20
>>>=20
>>>=20
>>> --
>>> Thanks,
>>> Laxmilal Menariya
>>>=20
>=20
> --
> Uwe Schindler
> H.-H.-Meier-Allee 63, 28213 Bremen
> http://www.thetaphi.de
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>=20


---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48194-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Dec 28 10:34:12 2010
Return-Path: <java-user-return-48194-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 84291 invoked from network); 28 Dec 2010 10:34:12 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 28 Dec 2010 10:34:12 -0000
Received: (qmail 76839 invoked by uid 500); 28 Dec 2010 10:34:10 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 76576 invoked by uid 500); 28 Dec 2010 10:34:09 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 76568 invoked by uid 99); 28 Dec 2010 10:34:08 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Dec 2010 10:34:08 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of jlal@chambal.com designates 74.125.82.194 as permitted sender)
Received: from [74.125.82.194] (HELO mail-wy0-f194.google.com) (74.125.82.194)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Dec 2010 10:34:04 +0000
Received: by wyf23 with SMTP id 23so3297295wyf.5
        for <java-user@lucene.apache.org>; Tue, 28 Dec 2010 02:33:42 -0800 (PST)
MIME-Version: 1.0
Received: by 10.216.13.194 with SMTP id b44mr13832409web.68.1293532422288;
 Tue, 28 Dec 2010 02:33:42 -0800 (PST)
Received: by 10.216.255.147 with HTTP; Tue, 28 Dec 2010 02:33:42 -0800 (PST)
In-Reply-To: <035E6663-BF28-4F58-A7D9-B2DFE56AC6B1@hoplahup.net>
References: <AANLkTinafMEkYwYuEdtGUkM7koo06Bov5Fp_-Msq5U6S@mail.gmail.com>
	<AANLkTimFx42dvNKhjmruBmJCVXQ+XZP8heQmA+Ar6ZaV@mail.gmail.com>
	<AANLkTikVf6Jic-SUmf8C54gcCGz=tHzHRuDvEkVmGh6w@mail.gmail.com>
	<5acf8d6c-cf7e-448f-a40e-e2a74842ec68@email.android.com>
	<035E6663-BF28-4F58-A7D9-B2DFE56AC6B1@hoplahup.net>
Date: Tue, 28 Dec 2010 16:03:42 +0530
Message-ID: <AANLkTimNc05s5+4Gn6AyxSWGEnMexumx3QOG2B8UOSQy@mail.gmail.com>
Subject: Re: Outof memory exception on using Integer.MaxValue
From: Jawahar Lal <jlal@chambal.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016e64c1bbe89363e049875fcc1

--0016e64c1bbe89363e049875fcc1
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

Thanks all of you.

On 28 December 2010 15:54, Paul Libbrecht <paul@hoplahup.net> wrote:

> I also not that this is a fundamental characteristic of the great
> performance of Lucene and its related products since it allows cleanly
> managed resources. "this" is generally called paging.
>
> paul
>
>
> Le 28 d=E9c. 2010 =E0 10:32, Uwe Schindler a =E9crit :
>
> > The TopDocs returning methods are not intended to get all results, so M=
ax
> Int is not a valid value. The maximum hit count allocates a PriorityQueue
> with so many slots. To retrieve all hits (unsorted) you have to write you=
r
> own collector. But that is not the natural use case for a full text engin=
e,
> which is to return the top n ranking results. For this reason its not
> allowed to go beyond page 50 or like that in Google (just as example). So
> choose n as big as how many top ranking results you are interested in. Th=
is
> number is normally not so big, as most users are only interested in top
> ranking results.
> >
> > Uwe
> >
> >
> >
> > "Jawahar Lal" <jlal@chambal.com> schrieb:
> >
> >> I am using lucene 3.0.3
> >>
> >> On 28 December 2010 14:06, Laxmilal Menariya <lmenaria@chambal.com>
> >> wrote:
> >>
> >>> Which version you are trying of lucene ?
> >>>
> >>> On Tue, Dec 28, 2010 at 12:30 PM, Jawahar Lal <jlal@chambal.com>
> >> wrote:
> >>>
> >>>> Hi,
> >>>>
> >>>> I am using multiSearcher as
> >>>>
> >>>> objMultiSearcher.search(query,null,Integer.MaxValue);
> >>>>
> >>>> I searched a query, which should & does not return any hit. As I
> >> run the
> >>>> query, the above statement throw OutofMemory exception. I change
> >> the
> >>>> Integer.MaxValue TO 100, then I again searched, it returned 0 hit.
> >>>>
> >>>> Why its thowing memory exception, even there is not hit found for
> >> the
> >>> query
> >>>> ?
> >>>>
> >>>> Thanks
> >>>>
> >>>
> >>>
> >>>
> >>> --
> >>> Thanks,
> >>> Laxmilal Menariya
> >>>
> >
> > --
> > Uwe Schindler
> > H.-H.-Meier-Allee 63, 28213 Bremen
> > http://www.thetaphi.de
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--0016e64c1bbe89363e049875fcc1--

From java-user-return-48195-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Dec 28 20:11:39 2010
Return-Path: <java-user-return-48195-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 87463 invoked from network); 28 Dec 2010 20:11:38 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 28 Dec 2010 20:11:38 -0000
Received: (qmail 44866 invoked by uid 500); 28 Dec 2010 20:11:36 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 44791 invoked by uid 500); 28 Dec 2010 20:11:35 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 44774 invoked by uid 99); 28 Dec 2010 20:11:35 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Dec 2010 20:11:35 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of alertli@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Dec 2010 20:11:26 +0000
Received: by fxm2 with SMTP id 2so9293154fxm.35
        for <multiple recipients>; Tue, 28 Dec 2010 12:11:06 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:date:message-id
         :subject:from:to:cc:content-type;
        bh=31ydFnk9pX4n0s0MTzJ1I0Kh+oDZ73MEoKBJpeNeYHI=;
        b=Ew4C5ndzLhDif1Qa+6zOYqo6Zz2Vt6yLaVCYfCqoQG6ZXpiaZsDyApYfWge3Z2WsF2
         k09epO1Amyu5B91y3y00sMvD1HVd09uCq1PKTs4/ruD+DGnsMPY9dG9EFBQ1qGnEzJmh
         5rsUJR/JDBQKAFIERdctXq/5YYFMjJPcMtQik=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:cc:content-type;
        b=GB4kEZtL5mWMsby/j8USdugOeINYIiAI6ws5VBPBVibqxXId5cOChTwiFp7nueOc1f
         h0nER/CrkoedkFW/VJx62qeinR0FdDEJG9Zji1JSV0FZLKbQ7aBIfFI3f3Lb3Qn+Huoi
         5PlZkfqRFq6PZB2gVFbYLFq2orZDjlFBgCLOg=
MIME-Version: 1.0
Received: by 10.223.101.138 with SMTP id c10mr5513121fao.120.1293567066307;
 Tue, 28 Dec 2010 12:11:06 -0800 (PST)
Received: by 10.223.104.141 with HTTP; Tue, 28 Dec 2010 12:11:06 -0800 (PST)
Date: Tue, 28 Dec 2010 15:11:06 -0500
Message-ID: <AANLkTimB9m59WL+1uihim_yWF3xwPq-fLn_iFX9RKcO4@mail.gmail.com>
Subject: relevant score calculation
From: Qi Li <alertli@gmail.com>
To: java-user@lucene.apache.org
Cc: "java-user-help@lucene.apache.org" <java-user-help@lucene.apache.org>
Content-Type: multipart/alternative; boundary=20cf304341f87afe1c04987e0d36
X-Virus-Checked: Checked by ClamAV on apache.org

--20cf304341f87afe1c04987e0d36
Content-Type: text/plain; charset=ISO-8859-1

Happy Holidays !

Test case
    doc1 :   test -- one two three
    doc2 :   test, one two three
    doc3 :   one two three

Search query :  "one two three" by QueryParser and StandardAnalyzer

Question:  why all of three documents have the same score?  I really want
the doc3 has higher score because it is an exact match and short.   Can
anybody explain this?  I will appreciate a lot

Here is my code and its output

public class Test {

    public static void main(String[] args){
        test();
    }

    private static void test(){
        String[] contents = {"test -- one two three",
                             "test, one two three",
                             "one two three"};

        Directory dir = new RAMDirectory();
        try {
            IndexWriter writer = new IndexWriter(dir, new
StandardAnalyzer(Version.LUCENE_30), IndexWriter.MaxFieldLength.UNLIMITED);
            for (int i=0; i<contents.length; i++){
                Document doc = new Document();
                doc.add(new Field("de", contents[i], Field.Store.YES,
Field.Index.ANALYZED));
                writer.addDocument(doc);
            }
            writer.close();

            IndexSearcher searcher = new IndexSearcher(dir);
            QueryParser parser = new QueryParser(Version.LUCENE_30,"de", new
StandardAnalyzer(Version.LUCENE_30));

            Query q = parser.parse("one two three");
            TopDocs topDocs = searcher.search(q, 10);
            for (ScoreDoc scoreDoc : topDocs.scoreDocs){
                Document doc = searcher.doc(scoreDoc.doc);
                System.out.println(doc.get("de"));
                Explanation explan = searcher.explain(q, scoreDoc.doc);
                System.out.println(explan.toString());
            }

        } catch (CorruptIndexException e) {
            e.printStackTrace();
        } catch (LockObtainFailedException e) {
            e.printStackTrace();
        } catch (ParseException e) {
            e.printStackTrace();
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}


test -- one two three
0.6168854 = (MATCH) sum of:
  0.20562847 = (MATCH) weight(de:one in 0), product of:
    0.57735026 = queryWeight(de:one), product of:
      0.71231794 = idf(docFreq=3, maxDocs=3)
      0.8105233 = queryNorm
    0.35615897 = (MATCH) fieldWeight(de:one in 0), product of:
      1.0 = tf(termFreq(de:one)=1)
      0.71231794 = idf(docFreq=3, maxDocs=3)
      0.5 = fieldNorm(field=de, doc=0)
  0.20562847 = (MATCH) weight(de:two in 0), product of:
    0.57735026 = queryWeight(de:two), product of:
      0.71231794 = idf(docFreq=3, maxDocs=3)
      0.8105233 = queryNorm
    0.35615897 = (MATCH) fieldWeight(de:two in 0), product of:
      1.0 = tf(termFreq(de:two)=1)
      0.71231794 = idf(docFreq=3, maxDocs=3)
      0.5 = fieldNorm(field=de, doc=0)
  0.20562847 = (MATCH) weight(de:three in 0), product of:
    0.57735026 = queryWeight(de:three), product of:
      0.71231794 = idf(docFreq=3, maxDocs=3)
      0.8105233 = queryNorm
    0.35615897 = (MATCH) fieldWeight(de:three in 0), product of:
      1.0 = tf(termFreq(de:three)=1)
      0.71231794 = idf(docFreq=3, maxDocs=3)
      0.5 = fieldNorm(field=de, doc=0)

test, one two three
0.6168854 = (MATCH) sum of:
  0.20562847 = (MATCH) weight(de:one in 1), product of:
    0.57735026 = queryWeight(de:one), product of:
      0.71231794 = idf(docFreq=3, maxDocs=3)
      0.8105233 = queryNorm
    0.35615897 = (MATCH) fieldWeight(de:one in 1), product of:
      1.0 = tf(termFreq(de:one)=1)
      0.71231794 = idf(docFreq=3, maxDocs=3)
      0.5 = fieldNorm(field=de, doc=1)
  0.20562847 = (MATCH) weight(de:two in 1), product of:
    0.57735026 = queryWeight(de:two), product of:
      0.71231794 = idf(docFreq=3, maxDocs=3)
      0.8105233 = queryNorm
    0.35615897 = (MATCH) fieldWeight(de:two in 1), product of:
      1.0 = tf(termFreq(de:two)=1)
      0.71231794 = idf(docFreq=3, maxDocs=3)
      0.5 = fieldNorm(field=de, doc=1)
  0.20562847 = (MATCH) weight(de:three in 1), product of:
    0.57735026 = queryWeight(de:three), product of:
      0.71231794 = idf(docFreq=3, maxDocs=3)
      0.8105233 = queryNorm
    0.35615897 = (MATCH) fieldWeight(de:three in 1), product of:
      1.0 = tf(termFreq(de:three)=1)
      0.71231794 = idf(docFreq=3, maxDocs=3)
      0.5 = fieldNorm(field=de, doc=1)

one two three
0.6168854 = (MATCH) sum of:
  0.20562847 = (MATCH) weight(de:one in 2), product of:
    0.57735026 = queryWeight(de:one), product of:
      0.71231794 = idf(docFreq=3, maxDocs=3)
      0.8105233 = queryNorm
    0.35615897 = (MATCH) fieldWeight(de:one in 2), product of:
      1.0 = tf(termFreq(de:one)=1)
      0.71231794 = idf(docFreq=3, maxDocs=3)
      0.5 = fieldNorm(field=de, doc=2)
  0.20562847 = (MATCH) weight(de:two in 2), product of:
    0.57735026 = queryWeight(de:two), product of:
      0.71231794 = idf(docFreq=3, maxDocs=3)
      0.8105233 = queryNorm
    0.35615897 = (MATCH) fieldWeight(de:two in 2), product of:
      1.0 = tf(termFreq(de:two)=1)
      0.71231794 = idf(docFreq=3, maxDocs=3)
      0.5 = fieldNorm(field=de, doc=2)
  0.20562847 = (MATCH) weight(de:three in 2), product of:
    0.57735026 = queryWeight(de:three), product of:
      0.71231794 = idf(docFreq=3, maxDocs=3)
      0.8105233 = queryNorm
    0.35615897 = (MATCH) fieldWeight(de:three in 2), product of:
      1.0 = tf(termFreq(de:three)=1)
      0.71231794 = idf(docFreq=3, maxDocs=3)
      0.5 = fieldNorm(field=de, doc=2)

Best regards,
Qi Li

--20cf304341f87afe1c04987e0d36--

From java-user-return-48196-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Dec 28 22:07:14 2010
Return-Path: <java-user-return-48196-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 29127 invoked from network); 28 Dec 2010 22:07:14 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 28 Dec 2010 22:07:14 -0000
Received: (qmail 88644 invoked by uid 500); 28 Dec 2010 22:07:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 88456 invoked by uid 500); 28 Dec 2010 22:07:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 88448 invoked by uid 99); 28 Dec 2010 22:07:12 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Dec 2010 22:07:12 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of softwarevisualization@gmail.com designates 209.85.214.48 as permitted sender)
Received: from [209.85.214.48] (HELO mail-bw0-f48.google.com) (209.85.214.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Dec 2010 22:07:06 +0000
Received: by bwz8 with SMTP id 8so10014027bwz.35
        for <java-user@lucene.apache.org>; Tue, 28 Dec 2010 14:06:44 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:reply-to:date
         :message-id:subject:from:to:content-type;
        bh=5ip+zNcXArdgSizs69VykMvhHGRyk60msaQodPsKn8g=;
        b=U/89mCnYCXIhjzjRlfCpYvPcFu6pMpDPPiJt9NbC3Qatl1nopdkHJFOv9R7IX3ut3h
         vMLi+wKQ0X2AxW2Un6LnHycehEAaRBo7OPnvQSPeZxA6lJUewnvRRn3f+KlBOmCC1OfN
         DpMW9CHvBHzrAjlH6AN4Yi87AC8bg0Ixt1cXU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:reply-to:date:message-id:subject:from:to:content-type;
        b=syqvZrUC1FLF7ctez1beIFjOvvy/QJwSP1161mqa7YoZc5ssM9PjyU3V2KIgLCPfca
         tpGh3guG7VYPBXYCpBUmY1nb/CscDa0qvHBgajzaQJyZHH2WT3cq9gpPgzUOqZYBdt0L
         GxHPPdWiRNHepQvreRNSdD9DAjhOaUVx21bIw=
MIME-Version: 1.0
Received: by 10.204.25.207 with SMTP id a15mr4746594bkc.111.1293574004702;
 Tue, 28 Dec 2010 14:06:44 -0800 (PST)
Received: by 10.204.65.81 with HTTP; Tue, 28 Dec 2010 14:06:44 -0800 (PST)
Reply-To: softwarevisualization@gmail.com
Date: Tue, 28 Dec 2010 17:06:44 -0500
Message-ID: <AANLkTimtMxLJGCNA+s23TbxF6wjisdx3z3mvf_fWejRJ@mail.gmail.com>
Subject: Using Lucene to search live, being-edited documents
From: software visualization <softwarevisualization@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0003255579560a85b904987fabcf

--0003255579560a85b904987fabcf
Content-Type: text/plain; charset=ISO-8859-1

This has probably been asked before but I couldn't find it, so...

Is it possible / advisable / practical to use Lucene as the  basis of a live
document search capability? By "live document" I mean a largish document
such as a word processor might be able to handle which is being edited
currently. Examples would be Word documents of some size that are begin
written, really huge Java files, etc.

The user is sitting there typing away and of course everything is changing
in real time. This seems to be orthogonal to the idea of a Lucene index
which is costly to construct  and costly to update.

TIA

--0003255579560a85b904987fabcf--

From java-user-return-48197-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Tue Dec 28 22:53:42 2010
Return-Path: <java-user-return-48197-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 40501 invoked from network); 28 Dec 2010 22:53:42 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 28 Dec 2010 22:53:42 -0000
Received: (qmail 40796 invoked by uid 500); 28 Dec 2010 22:53:40 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40727 invoked by uid 500); 28 Dec 2010 22:53:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40710 invoked by uid 99); 28 Dec 2010 22:53:40 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Dec 2010 22:53:40 +0000
X-ASF-Spam-Status: No, hits=-2.7 required=10.0
	tests=ASF_LIST_OPS,FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ridabenjelloun@gmail.com designates 209.85.214.194 as permitted sender)
Received: from [209.85.214.194] (HELO mail-iw0-f194.google.com) (209.85.214.194)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 28 Dec 2010 22:53:35 +0000
Received: by iwn42 with SMTP id 42so5453682iwn.5
        for <multiple recipients>; Tue, 28 Dec 2010 14:53:14 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:sender:received:date
         :x-google-sender-auth:message-id:subject:from:to:content-type;
        bh=oP/jvzN/19rd/mHbU6GsrbT30MO6pnKR8tscIeWRhgQ=;
        b=dEbE66iA7iKELnBKIYgzrQiGKHScMmijYP+sxO2vIaGgv5jgF5pZY0g1mklHHAjYRs
         GHFRua2roF0xLyNBWAMmRm7lZxLWA6NDFrtz2YoZtA7yMybcqGJNCq7Gf1Yvbnx0yVUQ
         iHfeMrtWh76E1DXRFbUbHVvxkWvaoMQbAEbvs=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:sender:date:x-google-sender-auth:message-id:subject
         :from:to:content-type;
        b=fTi2nOQ2aEd54GTzMjaBwC5gdN9NjKZEaYxXsqqE6ODmSQ0RazTePelPZyskL8OSFG
         i8NeGfj8rL8ny3OmtUqFl6yV+skUsJW7qsraJ1m5xpCPlQ08OeynKCPvKOU2I4gOYCHG
         ix9X+RNj1kaC0lJZpdyKW/UPOY2aXRcaROQx4=
MIME-Version: 1.0
Received: by 10.42.241.135 with SMTP id le7mr13975384icb.328.1293576793793;
 Tue, 28 Dec 2010 14:53:13 -0800 (PST)
Sender: ridabenjelloun@gmail.com
Received: by 10.42.219.194 with HTTP; Tue, 28 Dec 2010 14:53:13 -0800 (PST)
Date: Wed, 29 Dec 2010 06:53:13 +0800
X-Google-Sender-Auth: fj30OtZcO2mkrYSOK2E8l2dv5DE
Message-ID: <AANLkTim2FR0hmn60Gkk3qf-Z0vcMxCquWH7CjB0dXAnM@mail.gmail.com>
Subject: Re:
From: Rida Benjelloun <rida.benjelloun@doculibre.com>
To: java-user@lucene.apache.org, java-user-subscribe@lucene.apache.org, 
	jayantg@gmail.com, jean-francois.leonard@cspq.gouv.qc.ca, jlhenry@tc2l.ca, 
	Jean.Chamberlain@msg.gouv.qc.ca, jerome.charron@gmail.com, 
	Joane.Gendron@sit.ulaval.ca, js_letellier@hotmail.com, 
	jukka.zitting@gmail.com, jukka@apache.org, Jus@panayainc.com, 
	kbennett@bbsinc.biz, khawar011@yahoo.com, latifajaouhari@yahoo.fr, 
	lecler05@gel.ulaval.ca, legal-archive@apache.org, Pascal.Lepage@ddsm.ca, 
	lhawthorn@google.com, lgenois@tc2l.ca
Content-Type: text/plain; charset=ISO-8859-1

I bought some items from a commercial site, because of the unique
channel of purchases,
product prices unexpected, I think you can go to see: elesales.com ,
high-quality products can also attract you.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48198-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 29 04:02:09 2010
Return-Path: <java-user-return-48198-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 38439 invoked from network); 29 Dec 2010 04:02:08 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 29 Dec 2010 04:02:08 -0000
Received: (qmail 65061 invoked by uid 500); 29 Dec 2010 04:02:06 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 64761 invoked by uid 500); 29 Dec 2010 04:02:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 64753 invoked by uid 99); 29 Dec 2010 04:02:05 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Dec 2010 04:02:05 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of anshumg@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Dec 2010 04:01:57 +0000
Received: by fxm2 with SMTP id 2so9499041fxm.35
        for <java-user@lucene.apache.org>; Tue, 28 Dec 2010 20:01:37 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:in-reply-to
         :references:from:date:message-id:subject:to:content-type;
        bh=MUjfpy5naIuZKpIOAXRSWNOufJWjTVZumArkoDQxf40=;
        b=Wgp3l0xAZAcy7dfbeozk73rRlaa0jaWc4kqfq7F2N8csL58wXPKHDY9Gu6BT0gepY5
         +vQej3cA0CV5OtjTbttvPA5uUeMTwCSfar8hEvg5wvwGwJadmMqu8hjejTvq2pcO0hfR
         b+kbvyHcbjda8Pl5W6W4d+SdIgEspLkwVTEzU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=ix92sKGZAbWobJLcW5PuHYxWj7oKUlhSX8QJDG5UZJFHtEEmuXegSZe6e1fnTPv7LC
         S8+HAf/UeeFRqX5L5dzZjnh8lgNSwMRKr1jkHn97PLGl1lsb/d+NV5vt7+TLR0khWi1R
         SyNUhQIhvy5Ao5ZCWIoXrhw2y1f+6d1U+4w7o=
Received: by 10.223.79.67 with SMTP id o3mr2184314fak.129.1293595297170; Tue,
 28 Dec 2010 20:01:37 -0800 (PST)
MIME-Version: 1.0
Received: by 10.223.144.71 with HTTP; Tue, 28 Dec 2010 20:01:17 -0800 (PST)
In-Reply-To: <AANLkTimtMxLJGCNA+s23TbxF6wjisdx3z3mvf_fWejRJ@mail.gmail.com>
References: <AANLkTimtMxLJGCNA+s23TbxF6wjisdx3z3mvf_fWejRJ@mail.gmail.com>
From: Anshum <anshumg@gmail.com>
Date: Wed, 29 Dec 2010 09:31:17 +0530
Message-ID: <AANLkTi=EENF_jdq=_4ySiJSqUQ2iLkqf_e0_qEdLx=hm@mail.gmail.com>
Subject: Re: Using Lucene to search live, being-edited documents
To: java-user@lucene.apache.org, softwarevisualization@gmail.com
Content-Type: multipart/alternative; boundary=20cf3054a87d2bc68d049884a0eb
X-Virus-Checked: Checked by ClamAV on apache.org

--20cf3054a87d2bc68d049884a0eb
Content-Type: text/plain; charset=ISO-8859-1

Hi,
An update on each word/character typed is not a practical thing to do for
lucene (as per the current scheme of things). Though there's something
called the Real Time search, which lets you search on an updated document,
though the assumption is that the frequency is not as that of a word type.
--
Anshum Gupta
http://ai-cafe.blogspot.com


On Wed, Dec 29, 2010 at 3:36 AM, software visualization <
softwarevisualization@gmail.com> wrote:

> This has probably been asked before but I couldn't find it, so...
>
> Is it possible / advisable / practical to use Lucene as the  basis of a
> live
> document search capability? By "live document" I mean a largish document
> such as a word processor might be able to handle which is being edited
> currently. Examples would be Word documents of some size that are begin
> written, really huge Java files, etc.
>
> The user is sitting there typing away and of course everything is changing
> in real time. This seems to be orthogonal to the idea of a Lucene index
> which is costly to construct  and costly to update.
>
> TIA
>

--20cf3054a87d2bc68d049884a0eb--

From java-user-return-48199-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 29 04:37:30 2010
Return-Path: <java-user-return-48199-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50831 invoked from network); 29 Dec 2010 04:37:30 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 29 Dec 2010 04:37:30 -0000
Received: (qmail 81842 invoked by uid 500); 29 Dec 2010 04:37:28 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 81581 invoked by uid 500); 29 Dec 2010 04:37:28 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 81573 invoked by uid 99); 29 Dec 2010 04:37:27 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Dec 2010 04:37:27 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of rcmuir@gmail.com designates 209.85.214.48 as permitted sender)
Received: from [209.85.214.48] (HELO mail-bw0-f48.google.com) (209.85.214.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Dec 2010 04:37:19 +0000
Received: by bwz8 with SMTP id 8so10170310bwz.35
        for <java-user@lucene.apache.org>; Tue, 28 Dec 2010 20:36:59 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:in-reply-to
         :references:from:date:message-id:subject:to:content-type
         :content-transfer-encoding;
        bh=x+AZLz/Jl8KRR/i48mMJejopSY23RYLyRtxqesZ+uzU=;
        b=MppdWPjaObLQPS8EpGELB14lq/ifwUZ8z+bH8/BCjopwNFjK3tAlHRVvPokOkqpI2+
         gXm2kCCBLC/njgCKp/5oYHBkFBXWtXDBdQSwpZ9Q0GBgyst+yEgzsGPrDlldTrStjPSK
         08ZJ+WtDJX5YWErqHj77tJVSWNYvffDkFQ+AA=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        b=u8l/Cuxxug0JXdZvUZIRhnFg53kzP1qxrLToK62P19Yt8v9+XwIXYAXw81hrBa25H2
         P3mjyN/1s2c4pM3ulln9rnA/IkORTLrvOhsbxvSdP9CNo/R1TcZIXbweMr5a6R9a6yyH
         0Se6ilqAJ2kBE2I40T/fnrbbxBsoQjeRAyOKk=
Received: by 10.204.98.75 with SMTP id p11mr11920638bkn.12.1293597419515; Tue,
 28 Dec 2010 20:36:59 -0800 (PST)
MIME-Version: 1.0
Received: by 10.204.80.85 with HTTP; Tue, 28 Dec 2010 20:36:39 -0800 (PST)
In-Reply-To: <AANLkTimtMxLJGCNA+s23TbxF6wjisdx3z3mvf_fWejRJ@mail.gmail.com>
References: <AANLkTimtMxLJGCNA+s23TbxF6wjisdx3z3mvf_fWejRJ@mail.gmail.com>
From: Robert Muir <rcmuir@gmail.com>
Date: Tue, 28 Dec 2010 23:36:39 -0500
Message-ID: <AANLkTikMFxJHonVwuAKj9hX5K8K6FUU8kp6T6h6u+1wJ@mail.gmail.com>
Subject: Re: Using Lucene to search live, being-edited documents
To: java-user@lucene.apache.org, softwarevisualization@gmail.com
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

On Tue, Dec 28, 2010 at 5:06 PM, software visualization
<softwarevisualization@gmail.com> wrote:
> The user is sitting there typing away and of course everything is changin=
g
> in real time. This seems to be orthogonal to the idea of a Lucene index
> which is costly to construct =C2=A0and costly to update.
>

yes, but if they are typing away, they likely aren't also searching at
the same time unless they have two keyboards and four hands... so why
update anything in real time?

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48200-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 29 05:10:45 2010
Return-Path: <java-user-return-48200-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 64267 invoked from network); 29 Dec 2010 05:10:45 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 29 Dec 2010 05:10:45 -0000
Received: (qmail 7813 invoked by uid 500); 29 Dec 2010 05:10:43 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 7565 invoked by uid 500); 29 Dec 2010 05:10:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 7557 invoked by uid 99); 29 Dec 2010 05:10:41 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Dec 2010 05:10:41 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of umesh.iitk@gmail.com designates 74.125.82.176 as permitted sender)
Received: from [74.125.82.176] (HELO mail-wy0-f176.google.com) (74.125.82.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Dec 2010 05:10:34 +0000
Received: by wye20 with SMTP id 20so10403362wye.35
        for <java-user@lucene.apache.org>; Tue, 28 Dec 2010 21:10:14 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:in-reply-to
         :references:from:date:message-id:subject:to:cc:content-type;
        bh=D/3qsddtZ+uynZgb9uAF8/gzspV093ERcUz1IjisL3o=;
        b=FtH3baI4QlYV1oB2sRn+Qm3Vyh6y0Ou5RL09JFGuU1I7AWVQ7v8MqE1OWhMKFP3n0L
         t1SHHqIaZS6TCEX6P4YSRAXXSNyhOB1oWOzWjyhsMVLH0AZR0Qc8oPl9dZFqdgyLzman
         fR2jAkFW8zlJWXFmld6nIdH8BGrvJjwBIVPw4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :cc:content-type;
        b=XPPMgvEYUS6cOLWhMSm3TBP7BhEiVB1Uop6xL+ujX/KaoxfIES72bP52+RrHZJOUq1
         sLSzP46Kb8eZnkaV8GaOmEgOx/ycXPfbTGSwgywP35JlFATeeB6+1u0EM+pqsK1WSXlz
         nJSYaSQkS9b+kXGSnpyBazxXs1PNXvqxe1jXg=
Received: by 10.216.22.131 with SMTP id t3mr10490294wet.2.1293599412801; Tue,
 28 Dec 2010 21:10:12 -0800 (PST)
MIME-Version: 1.0
Received: by 10.216.27.10 with HTTP; Tue, 28 Dec 2010 21:09:51 -0800 (PST)
In-Reply-To: <AANLkTikMFxJHonVwuAKj9hX5K8K6FUU8kp6T6h6u+1wJ@mail.gmail.com>
References: <AANLkTimtMxLJGCNA+s23TbxF6wjisdx3z3mvf_fWejRJ@mail.gmail.com> <AANLkTikMFxJHonVwuAKj9hX5K8K6FUU8kp6T6h6u+1wJ@mail.gmail.com>
From: Umesh Prasad <umesh.iitk@gmail.com>
Date: Wed, 29 Dec 2010 10:39:51 +0530
Message-ID: <AANLkTikhtReHb2QqPSuDVdFBvKb-t16aVJu7=AsY2Hng@mail.gmail.com>
Subject: Re: Using Lucene to search live, being-edited documents
To: java-user@lucene.apache.org
Cc: softwarevisualization@gmail.com
Content-Type: multipart/alternative; boundary=0016364c79497b524804988595f2
X-Virus-Checked: Checked by ClamAV on apache.org

--0016364c79497b524804988595f2
Content-Type: text/plain; charset=ISO-8859-1

You can also look at Zoie and see if it fits your needs.  This is a
contribution by linkedin.

http://snaprojects.jira.com/wiki/display/ZOIE/Home

Also look at MemoryIndex .. This is good for creating single document index
and searching on it.

http://lucene.apache.org/java/3_0_3/api/all/org/apache/lucene/index/memory/MemoryIndex.html


Thanks
Umesh

On Wed, Dec 29, 2010 at 10:06 AM, Robert Muir <rcmuir@gmail.com> wrote:

> On Tue, Dec 28, 2010 at 5:06 PM, software visualization
> <softwarevisualization@gmail.com> wrote:
> > The user is sitting there typing away and of course everything is
> changing
> > in real time. This seems to be orthogonal to the idea of a Lucene index
> > which is costly to construct  and costly to update.
> >
>
> yes, but if they are typing away, they likely aren't also searching at
> the same time unless they have two keyboards and four hands... so why
> update anything in real time?
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


-- 
---
Thanks & Regards
Umesh Prasad

--0016364c79497b524804988595f2--

From java-user-return-48201-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 29 05:25:41 2010
Return-Path: <java-user-return-48201-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 66678 invoked from network); 29 Dec 2010 05:25:41 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 29 Dec 2010 05:25:41 -0000
Received: (qmail 23312 invoked by uid 500); 29 Dec 2010 05:25:39 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 23148 invoked by uid 500); 29 Dec 2010 05:25:39 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 23140 invoked by uid 99); 29 Dec 2010 05:25:38 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Dec 2010 05:25:38 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of anshumg@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Dec 2010 05:25:33 +0000
Received: by fxm2 with SMTP id 2so9527071fxm.35
        for <java-user@lucene.apache.org>; Tue, 28 Dec 2010 21:25:12 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:in-reply-to
         :references:from:date:message-id:subject:to:content-type;
        bh=iqCmeqg2dts2PVMVWENmP/3Jzj/vHpDOCZ13RauF4cw=;
        b=TuAV1gS5Rpr9KvL0l0sGpOSSEor3i1nwydocjpIzTgMQPmgLvpI9MUtG9cH71FBtaP
         N2ap8Wp59+CYHk8qHlc8JcogmjZBVE6Wq6ZWcvUaWNJVl0JoTTaGW2znm17lLnAlUnkb
         fjlDk0mUzNPXu+gJ5fx8hMt0JaUKEMTV2WTso=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=G30ndDwJCLiILoMBPblKkPm8xVGSZRYEVuH+Ud/xhBK/9bDOlHpPpHVT2gef8pC7n0
         Gmoas4zGMYbiq8Kp07InWTaAJb5cZqE5zoMS6+xlDCP5GhEtGS0HkKGJVhs13sA47njm
         PwAv7dtbcv5VGoUmF7zd6KIUc9o9JSlXGXf1s=
Received: by 10.223.107.9 with SMTP id z9mr61441fao.148.1293600312604; Tue, 28
 Dec 2010 21:25:12 -0800 (PST)
MIME-Version: 1.0
Received: by 10.223.144.71 with HTTP; Tue, 28 Dec 2010 21:24:52 -0800 (PST)
In-Reply-To: <AANLkTikhtReHb2QqPSuDVdFBvKb-t16aVJu7=AsY2Hng@mail.gmail.com>
References: <AANLkTimtMxLJGCNA+s23TbxF6wjisdx3z3mvf_fWejRJ@mail.gmail.com>
 <AANLkTikMFxJHonVwuAKj9hX5K8K6FUU8kp6T6h6u+1wJ@mail.gmail.com> <AANLkTikhtReHb2QqPSuDVdFBvKb-t16aVJu7=AsY2Hng@mail.gmail.com>
From: Anshum <anshumg@gmail.com>
Date: Wed, 29 Dec 2010 10:54:52 +0530
Message-ID: <AANLkTinmU1XAEigN-8d=qqnW0ou++z2_pzvfGHNs-z=O@mail.gmail.com>
Subject: Re: Using Lucene to search live, being-edited documents
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=001636eef32f1d3986049885cbdd

--001636eef32f1d3986049885cbdd
Content-Type: text/plain; charset=ISO-8859-1

Hi Umesh,
I'm not really confident that Zoie or anything built on the current version
of Lucene would be able to handle search as you type kind of a setup.

--
Anshum Gupta
http://ai-cafe.blogspot.com


On Wed, Dec 29, 2010 at 10:39 AM, Umesh Prasad <umesh.iitk@gmail.com> wrote:

> You can also look at Zoie and see if it fits your needs.  This is a
> contribution by linkedin.
>
> http://snaprojects.jira.com/wiki/display/ZOIE/Home
>
> Also look at MemoryIndex .. This is good for creating single document index
> and searching on it.
>
>
> http://lucene.apache.org/java/3_0_3/api/all/org/apache/lucene/index/memory/MemoryIndex.html
>
>
> Thanks
> Umesh
>
> On Wed, Dec 29, 2010 at 10:06 AM, Robert Muir <rcmuir@gmail.com> wrote:
>
> > On Tue, Dec 28, 2010 at 5:06 PM, software visualization
> > <softwarevisualization@gmail.com> wrote:
> > > The user is sitting there typing away and of course everything is
> > changing
> > > in real time. This seems to be orthogonal to the idea of a Lucene index
> > > which is costly to construct  and costly to update.
> > >
> >
> > yes, but if they are typing away, they likely aren't also searching at
> > the same time unless they have two keyboards and four hands... so why
> > update anything in real time?
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> > For additional commands, e-mail: java-user-help@lucene.apache.org
> >
> >
>
>
> --
> ---
> Thanks & Regards
> Umesh Prasad
>

--001636eef32f1d3986049885cbdd--

From java-user-return-48202-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 29 07:01:58 2010
Return-Path: <java-user-return-48202-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 13630 invoked from network); 29 Dec 2010 07:01:57 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 29 Dec 2010 07:01:57 -0000
Received: (qmail 78936 invoked by uid 500); 29 Dec 2010 07:01:55 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78556 invoked by uid 500); 29 Dec 2010 07:01:55 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 78548 invoked by uid 99); 29 Dec 2010 07:01:54 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Dec 2010 07:01:54 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of shashi.mit@gmail.com designates 74.125.82.176 as permitted sender)
Received: from [74.125.82.176] (HELO mail-wy0-f176.google.com) (74.125.82.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Dec 2010 07:01:48 +0000
Received: by wye20 with SMTP id 20so10446877wye.35
        for <java-user@lucene.apache.org>; Tue, 28 Dec 2010 23:01:26 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:sender:received
         :in-reply-to:references:from:date:x-google-sender-auth:message-id
         :subject:to:cc:content-type;
        bh=K2f6E6om6KRpsLexRUQLBhAVB9MK4i2YIWF4qbFiQV4=;
        b=mGKapkEOrcy/UygzZezcb34QIzbtkJfPzuSiyErf1Wd87IQ/kwcPgVl0j4zdF9arQc
         WmlLpS0HspDaJ5a24N/0qOfHeBiHxIAcyFIlLBKTpAckhVRvPdvwHMmjCtEaNjIFIjUF
         NgxrCG/andc4BF266bcNhVKGXCCADvZS+LJjA=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:sender:in-reply-to:references:from:date
         :x-google-sender-auth:message-id:subject:to:cc:content-type;
        b=Zg+T8QIBtEjgR/x9KmJHP6g0OonnGnSayzU0KT5aUlIrddggaVklU+Gbbn/aA9jzZq
         g/BybGcQH7VyD6akqsGE9SHPwIXb/oKJFqvY8CuGlsys5BXZPoYDpfqOxZ3lrnq+Sx9A
         xQMgAv94ux3YoopT/2Vc5qfjF96ox0H9WtDJI=
Received: by 10.216.51.135 with SMTP id b7mr18487002wec.29.1293606086627; Tue,
 28 Dec 2010 23:01:26 -0800 (PST)
MIME-Version: 1.0
Sender: shashi.mit@gmail.com
Received: by 10.216.134.84 with HTTP; Tue, 28 Dec 2010 23:00:56 -0800 (PST)
In-Reply-To: <AANLkTikMFxJHonVwuAKj9hX5K8K6FUU8kp6T6h6u+1wJ@mail.gmail.com>
References: <AANLkTimtMxLJGCNA+s23TbxF6wjisdx3z3mvf_fWejRJ@mail.gmail.com> <AANLkTikMFxJHonVwuAKj9hX5K8K6FUU8kp6T6h6u+1wJ@mail.gmail.com>
From: Shashi Kant <skant@sloan.mit.edu>
Date: Wed, 29 Dec 2010 02:00:56 -0500
X-Google-Sender-Auth: SRIQl2u-mYKCM2FB9ai2Jj9ROz0
Message-ID: <AANLkTikSGSmwO1mdfUMv57onhVJo-6gqKPw8pi=E3ke2@mail.gmail.com>
Subject: Re: Using Lucene to search live, being-edited documents
To: java-user@lucene.apache.org
Cc: softwarevisualization@gmail.com
Content-Type: text/plain; charset=ISO-8859-1

> yes, but if they are typing away, they likely aren't also searching at
> the same time unless they have two keyboards and four hands... so why
> update anything in real time?


Presumably the OP meant user-A was editing the doc and other Users ,
or a monitoring app, are searching said doc simultaneously.
Is that along the right track?

BTW have you looked at profanity filters, spellcheckers etc. which
might be more suited to what you are looking for.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48203-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 29 07:36:44 2010
Return-Path: <java-user-return-48203-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 28983 invoked from network); 29 Dec 2010 07:36:44 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 29 Dec 2010 07:36:44 -0000
Received: (qmail 5619 invoked by uid 500); 29 Dec 2010 07:36:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 5455 invoked by uid 500); 29 Dec 2010 07:36:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 5444 invoked by uid 99); 29 Dec 2010 07:36:41 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Dec 2010 07:36:41 +0000
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_DSN,FREEMAIL_FROM,FROM_EXCESS_BASE64,HTML_MESSAGE,HTML_NONELEMENT_30_40,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of spacehero@foxmail.com designates 64.71.138.44 as permitted sender)
Received: from [64.71.138.44] (HELO smtpbg55.qq.com) (64.71.138.44)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 29 Dec 2010 07:36:32 +0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=qq.com; s=s0907;
	t=1293608160; bh=IMKL0PPqYxrTsQaj95QuIJn/3xAV0aA+ra1JX+M9L4w=;
	h=X-QQ-mid:Received:X-QQ-SSF:X-QQ-SSF:X-QQ-BUSINESS-ORIGIN:
	 X-Originating-IP:From:To:Subject:Mime-Version:Content-Type:
	 Content-Transfer-Encoding:Date:X-Priority:Message-ID:X-QQ-MIME:
	 X-Mailer:X-QQ-Mailer;
	b=FGn2Ok/ZfxOI9bTUvMRM9BlQATsV3dHwz2M5KTC8KKopQiJSDSdmJXAg6RhUOIO1v
	 fQu3VKcz/5ED36z9ZuapddCEj64RL8KDAHtfEHPkeZio0EB/DXWQQnvLazuQ81U
X-QQ-mid:esmtp10t1293608158t179t20597
Received: from smtpbg52.qq.com (unknown [64.71.138.43])
	by esmtp4.qq.com (ESMTP) with SMTP id 0
	for <java-user@lucene.apache.org>; Wed, 29 Dec 2010 15:35:54 +0800 (CST)
X-QQ-SSF:0000000000000000601200000000000
X-QQ-SSF:0000000000000090
X-QQ-BUSINESS-ORIGIN:2
X-Originating-IP: 124.207.80.194
From: "=?ISO-8859-1?B?U2Vhbg==?=" <spacehero@foxmail.com>
To: "=?ISO-8859-1?B?amF2YS11c2Vy?=" <java-user@lucene.apache.org>
Subject: Re:Using Lucene to search live, being-edited documents
Mime-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_4D1AE4B5_DC103F00_2A0C9842"
Content-Transfer-Encoding: 8Bit
Date: Wed, 29 Dec 2010 15:35:17 +0800
X-Priority: 3
Message-ID: <tencent_016058B91870538D7A4400B4@qq.com>
X-QQ-MIME: TCMime 1.0 by Tencent
X-Mailer: QQMail 2.x
X-QQ-Mailer: QQMail 2.x
X-Virus-Checked: Checked by ClamAV on apache.org

------=_NextPart_4D1AE4B5_DC103F00_2A0C9842
Content-Type: text/plain;
	charset="ISO-8859-1"
Content-Transfer-Encoding: base64

RG9lcyBpdCBtYWtlIGFueSBzZW5zZT8NCiBFdmVyeSB0aW1lIGEgc2VhcmNoIHJlc3VsdCBp
cyBzaG93biwgdGhlIG9yaWdpbmFsIGRvY3VtZW50IGNvdWxkIGhhdmUgYmVlbiBjaGFuZ2Vk
LCAgbm8gbWF0dGVyIGhvdyBmYXN0IHRoZSBpbmRleGluZyBzcGVlZCBpcy4NCklmIHlvdSBj
YW4gYWNjZXB0IHRoaXMgaW5jb25zaXN0ZW5jeSwgeW91IGRvIG5vdCBuZWVkIHRvIGluZGV4
IHNvIGZyZXF1ZW50bHkgYXQgYWxsLg0KIA0KIA0KLS0tLS0tLS0tLS0tLS0tLS0tIE9yaWdp
bmFsIC0tLS0tLS0tLS0tLS0tLS0tLQ0KRnJvbTogICJzb2Z0d2FyZSB2aXN1YWxpemF0aW9u
Ijxzb2Z0d2FyZXZpc3VhbGl6YXRpb25AZ21haWwuY29tPjsNCkRhdGU6ICBXZWQsIERlYyAy
OSwgMjAxMCAwNjowNiBBTQ0KVG86ICAiamF2YS11c2VyIjxqYXZhLXVzZXJAbHVjZW5lLmFw
YWNoZS5vcmc+OyANCg0KU3ViamVjdDogIFVzaW5nIEx1Y2VuZSB0byBzZWFyY2ggbGl2ZSwg
YmVpbmctZWRpdGVkIGRvY3VtZW50cw0KDQogDQpUaGlzIGhhcyBwcm9iYWJseSBiZWVuIGFz
a2VkIGJlZm9yZSBidXQgSSBjb3VsZG4ndCBmaW5kIGl0LCBzby4uLg0KDQpJcyBpdCBwb3Nz
aWJsZSAvIGFkdmlzYWJsZSAvIHByYWN0aWNhbCB0byB1c2UgTHVjZW5lIGFzIHRoZSAgYmFz
aXMgb2YgYSBsaXZlDQpkb2N1bWVudCBzZWFyY2ggY2FwYWJpbGl0eT8gQnkgImxpdmUgZG9j
dW1lbnQiIEkgbWVhbiBhIGxhcmdpc2ggZG9jdW1lbnQNCnN1Y2ggYXMgYSB3b3JkIHByb2Nl
c3NvciBtaWdodCBiZSBhYmxlIHRvIGhhbmRsZSB3aGljaCBpcyBiZWluZyBlZGl0ZWQNCmN1
cnJlbnRseS4gRXhhbXBsZXMgd291bGQgYmUgV29yZCBkb2N1bWVudHMgb2Ygc29tZSBzaXpl
IHRoYXQgYXJlIGJlZ2luDQp3cml0dGVuLCByZWFsbHkgaHVnZSBKYXZhIGZpbGVzLCBldGMu
DQoNClRoZSB1c2VyIGlzIHNpdHRpbmcgdGhlcmUgdHlwaW5nIGF3YXkgYW5kIG9mIGNvdXJz
ZSBldmVyeXRoaW5nIGlzIGNoYW5naW5nDQppbiByZWFsIHRpbWUuIFRoaXMgc2VlbXMgdG8g
YmUgb3J0aG9nb25hbCB0byB0aGUgaWRlYSBvZiBhIEx1Y2VuZSBpbmRleA0Kd2hpY2ggaXMg
Y29zdGx5IHRvIGNvbnN0cnVjdCAgYW5kIGNvc3RseSB0byB1cGRhdGUuDQoNClRJQQ==

------=_NextPart_4D1AE4B5_DC103F00_2A0C9842--


From java-user-return-48204-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 29 07:44:47 2010
Return-Path: <java-user-return-48204-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30362 invoked from network); 29 Dec 2010 07:44:47 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 29 Dec 2010 07:44:47 -0000
Received: (qmail 11292 invoked by uid 500); 29 Dec 2010 07:44:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 11153 invoked by uid 500); 29 Dec 2010 07:44:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 11145 invoked by uid 99); 29 Dec 2010 07:44:44 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Dec 2010 07:44:44 +0000
X-ASF-Spam-Status: No, hits=2.3 required=10.0
	tests=DNS_FROM_RFC_DSN,FREEMAIL_FROM,FROM_EXCESS_BASE64,HTML_MESSAGE,HTML_NONELEMENT_30_40,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of spacehero@foxmail.com designates 64.71.138.44 as permitted sender)
Received: from [64.71.138.44] (HELO smtpbg55.qq.com) (64.71.138.44)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 29 Dec 2010 07:44:35 +0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=qq.com; s=s0907;
	t=1293608643; bh=gQp378t5JNnf/Ot1+xOu4AVoPRlV1zCnIUUHTL5NrKY=;
	h=X-QQ-mid:Received:X-QQ-SSF:X-QQ-SSF:X-QQ-BUSINESS-ORIGIN:
	 X-Originating-IP:From:To:Subject:Mime-Version:Content-Type:
	 Content-Transfer-Encoding:Date:X-Priority:Message-ID:X-QQ-MIME:
	 X-Mailer:X-QQ-Mailer;
	b=j6UCPcgCKY7Kq5S0ZWsI+3/jYMBrWftFGrox4ly4a/WJr7DQdMoMXVO6OBUpnwJPC
	 Osh7RKGC+hr8qyYr50MP1FdeEqJ2ck5GNEJ/099E4IDix89rCImxdGJHzz5LImv
X-QQ-mid:esmtp10t1293608641t242t24734
Received: from smtpbg52.qq.com (unknown [64.71.138.43])
	by esmtp4.qq.com (ESMTP) with SMTP id 0
	for <java-user@lucene.apache.org>; Wed, 29 Dec 2010 15:43:55 +0800 (CST)
X-QQ-SSF:0000000000000000601200000000000
X-QQ-SSF:0000000000000090
X-QQ-BUSINESS-ORIGIN:2
X-Originating-IP: 124.207.80.194
From: "=?ISO-8859-1?B?U2Vhbg==?=" <spacehero@foxmail.com>
To: "=?ISO-8859-1?B?amF2YS11c2Vy?=" <java-user@lucene.apache.org>
Subject: Re:Using Lucene to search live, being-edited documents
Mime-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_4D1AE6B3_DC52AD48_4C9CC32D"
Content-Transfer-Encoding: 8Bit
Date: Wed, 29 Dec 2010 15:43:47 +0800
X-Priority: 3
Message-ID: <tencent_49A8C6AD10E1684D22D01484@qq.com>
X-QQ-MIME: TCMime 1.0 by Tencent
X-Mailer: QQMail 2.x
X-QQ-Mailer: QQMail 2.x
X-Virus-Checked: Checked by ClamAV on apache.org

------=_NextPart_4D1AE6B3_DC52AD48_4C9CC32D
Content-Type: text/plain;
	charset="ISO-8859-1"
Content-Transfer-Encoding: base64

RG9lcyBpdCBtYWtlIGFueSBzZW5zZT8NCiBFdmVyeSB0aW1lIGEgc2VhcmNoIHJlc3VsdCBp
cyBzaG93biwgdGhlIG9yaWdpbmFsIGRvY3VtZW50IGNvdWxkIGhhdmUgYmVlbiBjaGFuZ2Vk
LCAgbm8gbWF0dGVyIGhvdyBmYXN0IHRoZSBpbmRleGluZyBzcGVlZCBpcy4NCklmIHlvdSBj
YW4gYWNjZXB0IHRoaXMgaW5jb25zaXN0ZW5jeSwgeW91IGRvIG5vdCBuZWVkIHRvIGluZGV4
IHNvIGZyZXF1ZW50bHkgYXQgYWxsLg0KIA0KIA0KLS0tLS0tLS0tLS0tLS0tLS0tIE9yaWdp
bmFsIC0tLS0tLS0tLS0tLS0tLS0tLQ0KRnJvbTogICJzb2Z0d2FyZSB2aXN1YWxpemF0aW9u
Ijxzb2Z0d2FyZXZpc3VhbGl6YXRpb25AZ21haWwuY29tPjsNCkRhdGU6ICBXZWQsIERlYyAy
OSwgMjAxMCAwNjowNiBBTQ0KVG86ICAiamF2YS11c2VyIjxqYXZhLXVzZXJAbHVjZW5lLmFw
YWNoZS5vcmc+OyANCg0KU3ViamVjdDogIFVzaW5nIEx1Y2VuZSB0byBzZWFyY2ggbGl2ZSwg
YmVpbmctZWRpdGVkIGRvY3VtZW50cw0KDQogDQpUaGlzIGhhcyBwcm9iYWJseSBiZWVuIGFz
a2VkIGJlZm9yZSBidXQgSSBjb3VsZG4ndCBmaW5kIGl0LCBzby4uLg0KDQpJcyBpdCBwb3Nz
aWJsZSAvIGFkdmlzYWJsZSAvIHByYWN0aWNhbCB0byB1c2UgTHVjZW5lIGFzIHRoZSAgYmFz
aXMgb2YgYSBsaXZlDQpkb2N1bWVudCBzZWFyY2ggY2FwYWJpbGl0eT8gQnkgImxpdmUgZG9j
dW1lbnQiIEkgbWVhbiBhIGxhcmdpc2ggZG9jdW1lbnQNCnN1Y2ggYXMgYSB3b3JkIHByb2Nl
c3NvciBtaWdodCBiZSBhYmxlIHRvIGhhbmRsZSB3aGljaCBpcyBiZWluZyBlZGl0ZWQNCmN1
cnJlbnRseS4gRXhhbXBsZXMgd291bGQgYmUgV29yZCBkb2N1bWVudHMgb2Ygc29tZSBzaXpl
IHRoYXQgYXJlIGJlZ2luDQp3cml0dGVuLCByZWFsbHkgaHVnZSBKYXZhIGZpbGVzLCBldGMu
DQoNClRoZSB1c2VyIGlzIHNpdHRpbmcgdGhlcmUgdHlwaW5nIGF3YXkgYW5kIG9mIGNvdXJz
ZSBldmVyeXRoaW5nIGlzIGNoYW5naW5nDQppbiByZWFsIHRpbWUuIFRoaXMgc2VlbXMgdG8g
YmUgb3J0aG9nb25hbCB0byB0aGUgaWRlYSBvZiBhIEx1Y2VuZSBpbmRleA0Kd2hpY2ggaXMg
Y29zdGx5IHRvIGNvbnN0cnVjdCAgYW5kIGNvc3RseSB0byB1cGRhdGUuDQoNClRJQQ==

------=_NextPart_4D1AE6B3_DC52AD48_4C9CC32D--


From java-user-return-48205-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 29 08:52:13 2010
Return-Path: <java-user-return-48205-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49676 invoked from network); 29 Dec 2010 08:52:13 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 29 Dec 2010 08:52:13 -0000
Received: (qmail 52815 invoked by uid 500); 29 Dec 2010 08:52:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 52580 invoked by uid 500); 29 Dec 2010 08:52:10 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 52570 invoked by uid 99); 29 Dec 2010 08:52:09 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Dec 2010 08:52:09 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of beuking@gmail.com designates 74.125.82.176 as permitted sender)
Received: from [74.125.82.176] (HELO mail-wy0-f176.google.com) (74.125.82.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Dec 2010 08:52:03 +0000
Received: by wye20 with SMTP id 20so10498331wye.35
        for <java-user@lucene.apache.org>; Wed, 29 Dec 2010 00:51:42 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:date:message-id
         :subject:from:to:content-type;
        bh=nyjksBDhUCDHsXk/863pkRmq4mT/3G3FwqV9IjWNTEo=;
        b=cB2H25RwCBCixHP34DaU+2jJafrO1GXXQbB9eKPwzaEOUBQkQ1OE6iYjvXv5y+dO8U
         xyhgMuLirnOC+Kwbz1lqeEHeAt0weOjjklAggZFOywy63akGCRQKgufBgc3tZsIXAQw2
         +iUtp+G+JHSPx+sYoFTWJI3T4XCE2UnOHnOfA=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=HdDMTCNSAZ2OqwUejHMDFGspYGnxDLxFzRnQtNsq3BIG0si4UDOZvHZPwShyR8sIKz
         YBOHIM3G7n8ofuFW6CVwDsv7Or6yAuvZ7zPCr4wXDsuMKu0v1Iy401fJKLRxFtBav2xD
         rv4iB6eYGTZetLtyRr93l6CVbUNAjS0FyptYY=
MIME-Version: 1.0
Received: by 10.216.64.1 with SMTP id b1mr9574810wed.77.1293612701966; Wed, 29
 Dec 2010 00:51:41 -0800 (PST)
Received: by 10.216.197.158 with HTTP; Wed, 29 Dec 2010 00:51:41 -0800 (PST)
Date: Wed, 29 Dec 2010 15:51:41 +0700
Message-ID: <AANLkTi=BUoE=0PwfpJsV_FNJVPveswnTWGxNEzvTmB2O@mail.gmail.com>
Subject: Lucene index
From: King JKing <beuking@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=000e0ce0b8c893e297049888ad7e

--000e0ce0b8c893e297049888ad7e
Content-Type: text/plain; charset=ISO-8859-1

Dear all,

I use Lucene to index document content 6 field (int) and 1 file (string)

I log the index process. Log said that,

 INFO [CONTENT-FILTER INDEX-TIMER] 2010-12-29 15:45:52,707 Index 55 item in
10576 miliseconds
 INFO [CONTENT-FILTER INDEX-TIMER] 2010-12-29 15:46:13,378 Index 19 item in
20670 miliseconds
 INFO [CONTENT-FILTER INDEX-TIMER] 2010-12-29 15:46:28,391 Index 35 item in
15013 miliseconds

Why Lucene take much time for just index small amount of document?

Could you give me the best performance of Lucence and How to improve
performance?

Here is my code
Document doc = new Document();
                doc.add(new Field("system_id", data.systemId + "",
                        Field.Store.YES, Index.NOT_ANALYZED));
                doc.add(new Field("app_id", data.appId + "",
Field.Store.YES,
                        Index.NOT_ANALYZED));
                doc.add(new Field("object_id", data.objectId + "",
                        Field.Store.YES, Index.NOT_ANALYZED));
                doc.add(new Field("content_id", data.contentId + "",
                        Field.Store.YES, Index.NOT_ANALYZED));
                doc.add(new Field("owner_id", data.ownerId + "",
                        Field.Store.YES, Index.NOT_ANALYZED));
                doc.add(new Field("to_user_id", data.toUserId + "",
                        Field.Store.YES, Index.NOT_ANALYZED));
                doc.add(new Field("parent_id", data.parentId + "",
                        Field.Store.YES, Index.NOT_ANALYZED));
                doc.add(new Field("content", data.content + "",
                        Field.Store.YES, Index.ANALYZED));
                doc.add(new Field("id", System.nanoTime() + "",
                        Field.Store.YES, Index.NOT_ANALYZED));
                iWriter.addDocument(doc);

Thank a lot for suppot.

--000e0ce0b8c893e297049888ad7e--

From java-user-return-48206-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 29 09:28:01 2010
Return-Path: <java-user-return-48206-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 63803 invoked from network); 29 Dec 2010 09:28:01 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 29 Dec 2010 09:28:01 -0000
Received: (qmail 85035 invoked by uid 500); 29 Dec 2010 09:27:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84804 invoked by uid 500); 29 Dec 2010 09:27:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84796 invoked by uid 99); 29 Dec 2010 09:27:58 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Dec 2010 09:27:58 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of anshumg@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Dec 2010 09:27:51 +0000
Received: by fxm2 with SMTP id 2so9620428fxm.35
        for <java-user@lucene.apache.org>; Wed, 29 Dec 2010 01:27:30 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:in-reply-to
         :references:from:date:message-id:subject:to:content-type;
        bh=Un05S1JBcPg7+Bjlqz27k6GbzIz+RQF1K9j86D6Qe94=;
        b=Vc5lFCLuOUUz0GYcX1MUyXLAUrj0rjFahZ9z9gvwRe9Js+fjkEknpoUmL4HaYMrsai
         UOQTW92f2Pa7ZoRTbEX20VewC7GcZvus8lGhIZ3YN+VkrJTxg+avA4Y0GVRM4P3IfrBD
         m7nV52c4RD1DOeBj+OQgl6HWopMS/pzfGiyEQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=XOmL5psKG86A9OrurJmBYEqkkYqVTBC/uerM8ZDz+Xqlx5ETGf4p1JbF7EzTS78abP
         m/YorACZTd9tERSHEjBJlxCmHxZWcsv44Wpe3Rkkx2vd/ZBEWzYicxll2+0ClqMrC2xd
         TYVzU9FETNEDE21YGnTSRMCtA5pWTGEUVpoAY=
Received: by 10.223.74.5 with SMTP id s5mr5173721faj.72.1293614850751; Wed, 29
 Dec 2010 01:27:30 -0800 (PST)
MIME-Version: 1.0
Received: by 10.223.144.71 with HTTP; Wed, 29 Dec 2010 01:27:10 -0800 (PST)
In-Reply-To: <AANLkTi=BUoE=0PwfpJsV_FNJVPveswnTWGxNEzvTmB2O@mail.gmail.com>
References: <AANLkTi=BUoE=0PwfpJsV_FNJVPveswnTWGxNEzvTmB2O@mail.gmail.com>
From: Anshum <anshumg@gmail.com>
Date: Wed, 29 Dec 2010 14:57:10 +0530
Message-ID: <AANLkTik7nq7Wm3W+pY7dmfAHCRaNMhejrnyQitLJfcAh@mail.gmail.com>
Subject: Re: Lucene index
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=20cf3054a38fa7bd0d0498892d91
X-Virus-Checked: Checked by ClamAV on apache.org

--20cf3054a38fa7bd0d0498892d91
Content-Type: text/plain; charset=ISO-8859-1

Lucene intermittently takes longer as
1. It flushes the buffered docs from memory to the disk and
2. It merges the smaller index segments to form a larger segment on regular
intervals as per the index writer settings.
You may have a look at various IndexWriter params in the javadoc on the
lucene page, starting at
http://lucene.apache.org/java/2_9_1/api/all/org/apache/lucene/index/IndexWriter.html#DEFAULT_RAM_BUFFER_SIZE_MB
<http://lucene.apache.org/java/2_9_1/api/all/org/apache/lucene/index/IndexWriter.html#DEFAULT_RAM_BUFFER_SIZE_MB>
--
Anshum Gupta
http://ai-cafe.blogspot.com


On Wed, Dec 29, 2010 at 2:21 PM, King JKing <beuking@gmail.com> wrote:

> Dear all,
>
> I use Lucene to index document content 6 field (int) and 1 file (string)
>
> I log the index process. Log said that,
>
>  INFO [CONTENT-FILTER INDEX-TIMER] 2010-12-29 15:45:52,707 Index 55 item in
> 10576 miliseconds
>  INFO [CONTENT-FILTER INDEX-TIMER] 2010-12-29 15:46:13,378 Index 19 item in
> 20670 miliseconds
>  INFO [CONTENT-FILTER INDEX-TIMER] 2010-12-29 15:46:28,391 Index 35 item in
> 15013 miliseconds
>
> Why Lucene take much time for just index small amount of document?
>
> Could you give me the best performance of Lucence and How to improve
> performance?
>
> Here is my code
> Document doc = new Document();
>                doc.add(new Field("system_id", data.systemId + "",
>                        Field.Store.YES, Index.NOT_ANALYZED));
>                doc.add(new Field("app_id", data.appId + "",
> Field.Store.YES,
>                        Index.NOT_ANALYZED));
>                doc.add(new Field("object_id", data.objectId + "",
>                        Field.Store.YES, Index.NOT_ANALYZED));
>                doc.add(new Field("content_id", data.contentId + "",
>                        Field.Store.YES, Index.NOT_ANALYZED));
>                doc.add(new Field("owner_id", data.ownerId + "",
>                        Field.Store.YES, Index.NOT_ANALYZED));
>                doc.add(new Field("to_user_id", data.toUserId + "",
>                        Field.Store.YES, Index.NOT_ANALYZED));
>                doc.add(new Field("parent_id", data.parentId + "",
>                        Field.Store.YES, Index.NOT_ANALYZED));
>                doc.add(new Field("content", data.content + "",
>                        Field.Store.YES, Index.ANALYZED));
>                doc.add(new Field("id", System.nanoTime() + "",
>                        Field.Store.YES, Index.NOT_ANALYZED));
>                iWriter.addDocument(doc);
>
> Thank a lot for suppot.
>

--20cf3054a38fa7bd0d0498892d91--

From java-user-return-48207-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 29 09:33:03 2010
Return-Path: <java-user-return-48207-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 65349 invoked from network); 29 Dec 2010 09:33:03 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 29 Dec 2010 09:33:03 -0000
Received: (qmail 89543 invoked by uid 500); 29 Dec 2010 09:33:01 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89145 invoked by uid 500); 29 Dec 2010 09:33:01 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89137 invoked by uid 99); 29 Dec 2010 09:33:00 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Dec 2010 09:33:00 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ian.lea@gmail.com designates 209.85.214.48 as permitted sender)
Received: from [209.85.214.48] (HELO mail-bw0-f48.google.com) (209.85.214.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Dec 2010 09:32:54 +0000
Received: by bwz8 with SMTP id 8so10273458bwz.35
        for <java-user@lucene.apache.org>; Wed, 29 Dec 2010 01:32:33 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:in-reply-to
         :references:from:date:message-id:subject:to:content-type
         :content-transfer-encoding;
        bh=wK/JogP+/zL+5Thep/OiPDrTxt6ystC07KQFPqMskfc=;
        b=IuhBnDBIK0o5Ytm9lOiIRdm1+DuZwh+eDhGd5Cn5CNDgti+4+73Tq0LthHpwcQOSXs
         RDbMJjQ0x3ETz63dLfKF7CaSDjXJMmcmLdWapJCkL05zDnMT6vkkLVQMfvG5ZN44JvSL
         f8Fhp9ntkV7pPmvB21Sat29HpfXttatbjNAfQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        b=W5wA+Id29a3VuuR5Mt51R6Y8zYCu7lXhe+vnIod1ArMWUHiGwuzC1LPY5zaCiftsem
         eIVuygPz5UAeB6rFlAAGISEU/yRpeqw0h/HyezZ1suY5ZcOU+iSxoUdDdLABHlJJIGom
         GGJASNH5cdio1W3d187Le19EzJ78nfoknzjMQ=
Received: by 10.204.113.75 with SMTP id z11mr10111283bkp.90.1293615151958;
 Wed, 29 Dec 2010 01:32:31 -0800 (PST)
MIME-Version: 1.0
Received: by 10.204.57.143 with HTTP; Wed, 29 Dec 2010 01:32:11 -0800 (PST)
In-Reply-To: <AANLkTik7nq7Wm3W+pY7dmfAHCRaNMhejrnyQitLJfcAh@mail.gmail.com>
References: <AANLkTi=BUoE=0PwfpJsV_FNJVPveswnTWGxNEzvTmB2O@mail.gmail.com> <AANLkTik7nq7Wm3W+pY7dmfAHCRaNMhejrnyQitLJfcAh@mail.gmail.com>
From: Ian Lea <ian.lea@gmail.com>
Date: Wed, 29 Dec 2010 09:32:11 +0000
Message-ID: <AANLkTi=1bMF43MZ2ncX+FKUhd5Zqqa8yijtgDnzfJfKo@mail.gmail.com>
Subject: Re: Lucene index
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

You should also make sure that it is lucene that is taking the time.
You don't say where your data is coming from but it is often slower to
read the the source data rather than to index it with lucene.

See also http://wiki.apache.org/lucene-java/ImproveIndexingSpeed


--
Ian.


On Wed, Dec 29, 2010 at 9:27 AM, Anshum <anshumg@gmail.com> wrote:
> Lucene intermittently takes longer as
> 1. It flushes the buffered docs from memory to the disk and
> 2. It merges the smaller index segments to form a larger segment on regul=
ar
> intervals as per the index writer settings.
> You may have a look at various IndexWriter params in the javadoc on the
> lucene page, starting at
> http://lucene.apache.org/java/2_9_1/api/all/org/apache/lucene/index/Index=
Writer.html#DEFAULT_RAM_BUFFER_SIZE_MB
> <http://lucene.apache.org/java/2_9_1/api/all/org/apache/lucene/index/Inde=
xWriter.html#DEFAULT_RAM_BUFFER_SIZE_MB>
> --
> Anshum Gupta
> http://ai-cafe.blogspot.com
>
>
> On Wed, Dec 29, 2010 at 2:21 PM, King JKing <beuking@gmail.com> wrote:
>
>> Dear all,
>>
>> I use Lucene to index document content 6 field (int) and 1 file (string)
>>
>> I log the index process. Log said that,
>>
>> =A0INFO [CONTENT-FILTER INDEX-TIMER] 2010-12-29 15:45:52,707 Index 55 it=
em in
>> 10576 miliseconds
>> =A0INFO [CONTENT-FILTER INDEX-TIMER] 2010-12-29 15:46:13,378 Index 19 it=
em in
>> 20670 miliseconds
>> =A0INFO [CONTENT-FILTER INDEX-TIMER] 2010-12-29 15:46:28,391 Index 35 it=
em in
>> 15013 miliseconds
>>
>> Why Lucene take much time for just index small amount of document?
>>
>> Could you give me the best performance of Lucence and How to improve
>> performance?
>>
>> Here is my code
>> Document doc =3D new Document();
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0doc.add(new Field("system_id", data.syste=
mId + "",
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0Field.Store.YES, Index.NO=
T_ANALYZED));
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0doc.add(new Field("app_id", data.appId + =
"",
>> Field.Store.YES,
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0Index.NOT_ANALYZED));
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0doc.add(new Field("object_id", data.objec=
tId + "",
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0Field.Store.YES, Index.NO=
T_ANALYZED));
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0doc.add(new Field("content_id", data.cont=
entId + "",
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0Field.Store.YES, Index.NO=
T_ANALYZED));
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0doc.add(new Field("owner_id", data.ownerI=
d + "",
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0Field.Store.YES, Index.NO=
T_ANALYZED));
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0doc.add(new Field("to_user_id", data.toUs=
erId + "",
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0Field.Store.YES, Index.NO=
T_ANALYZED));
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0doc.add(new Field("parent_id", data.paren=
tId + "",
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0Field.Store.YES, Index.NO=
T_ANALYZED));
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0doc.add(new Field("content", data.content=
 + "",
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0Field.Store.YES, Index.AN=
ALYZED));
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0doc.add(new Field("id", System.nanoTime()=
 + "",
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0Field.Store.YES, Index.NO=
T_ANALYZED));
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0iWriter.addDocument(doc);
>>
>> Thank a lot for suppot.
>>
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48208-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 29 10:45:47 2010
Return-Path: <java-user-return-48208-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88555 invoked from network); 29 Dec 2010 10:45:47 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 29 Dec 2010 10:45:47 -0000
Received: (qmail 40496 invoked by uid 500); 29 Dec 2010 10:45:45 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 40140 invoked by uid 500); 29 Dec 2010 10:45:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 40132 invoked by uid 99); 29 Dec 2010 10:45:44 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Dec 2010 10:45:44 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ian.lea@gmail.com designates 209.85.214.48 as permitted sender)
Received: from [209.85.214.48] (HELO mail-bw0-f48.google.com) (209.85.214.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Dec 2010 10:45:37 +0000
Received: by bwz8 with SMTP id 8so10308434bwz.35
        for <java-user@lucene.apache.org>; Wed, 29 Dec 2010 02:45:16 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:in-reply-to
         :references:from:date:message-id:subject:to:content-type
         :content-transfer-encoding;
        bh=yXplG9GVxdcab7woh1uFkE+0QLDYwss+FFHTeep0K50=;
        b=XskrFQsyQFy7XMPzeHmR7IUhYk4NrHFkRZNQnMvYSYLncI3bwAC2Yk2KrZUkzpWMVp
         K9ke73gwm/JAlKRlh9nAdD8HUt3V3lpv7KqglDJBgQjSOgI/f8s5zAWD/MrFkH5eI3qu
         IWgE8RM+W7TTsm6Dz3UxqJuE9Lx8WunlTWBmc=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        b=wTW26rcgiVK6UuNbEH9POJHwwpy214O0hmAPGbiEQ0no2nvdEd+OMYJeaPgDuQekNa
         NHjPE4D/7haXBaIuESDJp8/NCLQQAYMqIXye4/vAQMN9b1cgIdf/9Mo+g1gjgI9wLRtK
         6i7+XOSXrPemltqoUpkHlclHUCtXIOHLJKCk0=
Received: by 10.204.78.67 with SMTP id j3mr4883327bkk.144.1293619515847; Wed,
 29 Dec 2010 02:45:15 -0800 (PST)
MIME-Version: 1.0
Received: by 10.204.57.143 with HTTP; Wed, 29 Dec 2010 02:44:55 -0800 (PST)
In-Reply-To: <AANLkTimB9m59WL+1uihim_yWF3xwPq-fLn_iFX9RKcO4@mail.gmail.com>
References: <AANLkTimB9m59WL+1uihim_yWF3xwPq-fLn_iFX9RKcO4@mail.gmail.com>
From: Ian Lea <ian.lea@gmail.com>
Date: Wed, 29 Dec 2010 10:44:55 +0000
Message-ID: <AANLkTinLqi8OqsESQrA3KjG9wpTF78=MpboO3-SkWS-w@mail.gmail.com>
Subject: Re: relevant score calculation
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

Some of the factors that go in to the score calculation are encoded as
a byte with inevitable loss of precision.  Maybe length is one of
these and lucene is not differentiating between your 3 and 4 word
docs.  Try indexing a document that is significantly longer than 3 or
4 words.

Further reading: http://lucene.apache.org/java/3_0_3/scoring.html, the
javadocs for Similarity and DefaultSimilarity, whatever Google finds.


--
Ian.


On Tue, Dec 28, 2010 at 8:11 PM, Qi Li <alertli@gmail.com> wrote:
> Happy Holidays !
>
> Test case
> =A0 =A0doc1 : =A0 test -- one two three
> =A0 =A0doc2 : =A0 test, one two three
> =A0 =A0doc3 : =A0 one two three
>
> Search query : =A0"one two three" by QueryParser and StandardAnalyzer
>
> Question: =A0why all of three documents have the same score? =A0I really =
want
> the doc3 has higher score because it is an exact match and short. =A0 Can
> anybody explain this? =A0I will appreciate a lot
>
> Here is my code and its output
>
> public class Test {
>
> =A0 =A0public static void main(String[] args){
> =A0 =A0 =A0 =A0test();
> =A0 =A0}
>
> =A0 =A0private static void test(){
> =A0 =A0 =A0 =A0String[] contents =3D {"test -- one two three",
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 "test, one two th=
ree",
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 "one two three"};
>
> =A0 =A0 =A0 =A0Directory dir =3D new RAMDirectory();
> =A0 =A0 =A0 =A0try {
> =A0 =A0 =A0 =A0 =A0 =A0IndexWriter writer =3D new IndexWriter(dir, new
> StandardAnalyzer(Version.LUCENE_30), IndexWriter.MaxFieldLength.UNLIMITED=
);
> =A0 =A0 =A0 =A0 =A0 =A0for (int i=3D0; i<contents.length; i++){
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0Document doc =3D new Document();
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0doc.add(new Field("de", contents[i], Field=
.Store.YES,
> Field.Index.ANALYZED));
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0writer.addDocument(doc);
> =A0 =A0 =A0 =A0 =A0 =A0}
> =A0 =A0 =A0 =A0 =A0 =A0writer.close();
>
> =A0 =A0 =A0 =A0 =A0 =A0IndexSearcher searcher =3D new IndexSearcher(dir);
> =A0 =A0 =A0 =A0 =A0 =A0QueryParser parser =3D new QueryParser(Version.LUC=
ENE_30,"de", new
> StandardAnalyzer(Version.LUCENE_30));
>
> =A0 =A0 =A0 =A0 =A0 =A0Query q =3D parser.parse("one two three");
> =A0 =A0 =A0 =A0 =A0 =A0TopDocs topDocs =3D searcher.search(q, 10);
> =A0 =A0 =A0 =A0 =A0 =A0for (ScoreDoc scoreDoc : topDocs.scoreDocs){
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0Document doc =3D searcher.doc(scoreDoc.doc=
);
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0System.out.println(doc.get("de"));
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0Explanation explan =3D searcher.explain(q,=
 scoreDoc.doc);
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0System.out.println(explan.toString());
> =A0 =A0 =A0 =A0 =A0 =A0}
>
> =A0 =A0 =A0 =A0} catch (CorruptIndexException e) {
> =A0 =A0 =A0 =A0 =A0 =A0e.printStackTrace();
> =A0 =A0 =A0 =A0} catch (LockObtainFailedException e) {
> =A0 =A0 =A0 =A0 =A0 =A0e.printStackTrace();
> =A0 =A0 =A0 =A0} catch (ParseException e) {
> =A0 =A0 =A0 =A0 =A0 =A0e.printStackTrace();
> =A0 =A0 =A0 =A0} catch (IOException e) {
> =A0 =A0 =A0 =A0 =A0 =A0e.printStackTrace();
> =A0 =A0 =A0 =A0}
> =A0 =A0}
> }
>
>
> test -- one two three
> 0.6168854 =3D (MATCH) sum of:
> =A00.20562847 =3D (MATCH) weight(de:one in 0), product of:
> =A0 =A00.57735026 =3D queryWeight(de:one), product of:
> =A0 =A0 =A00.71231794 =3D idf(docFreq=3D3, maxDocs=3D3)
> =A0 =A0 =A00.8105233 =3D queryNorm
> =A0 =A00.35615897 =3D (MATCH) fieldWeight(de:one in 0), product of:
> =A0 =A0 =A01.0 =3D tf(termFreq(de:one)=3D1)
> =A0 =A0 =A00.71231794 =3D idf(docFreq=3D3, maxDocs=3D3)
> =A0 =A0 =A00.5 =3D fieldNorm(field=3Dde, doc=3D0)
> =A00.20562847 =3D (MATCH) weight(de:two in 0), product of:
> =A0 =A00.57735026 =3D queryWeight(de:two), product of:
> =A0 =A0 =A00.71231794 =3D idf(docFreq=3D3, maxDocs=3D3)
> =A0 =A0 =A00.8105233 =3D queryNorm
> =A0 =A00.35615897 =3D (MATCH) fieldWeight(de:two in 0), product of:
> =A0 =A0 =A01.0 =3D tf(termFreq(de:two)=3D1)
> =A0 =A0 =A00.71231794 =3D idf(docFreq=3D3, maxDocs=3D3)
> =A0 =A0 =A00.5 =3D fieldNorm(field=3Dde, doc=3D0)
> =A00.20562847 =3D (MATCH) weight(de:three in 0), product of:
> =A0 =A00.57735026 =3D queryWeight(de:three), product of:
> =A0 =A0 =A00.71231794 =3D idf(docFreq=3D3, maxDocs=3D3)
> =A0 =A0 =A00.8105233 =3D queryNorm
> =A0 =A00.35615897 =3D (MATCH) fieldWeight(de:three in 0), product of:
> =A0 =A0 =A01.0 =3D tf(termFreq(de:three)=3D1)
> =A0 =A0 =A00.71231794 =3D idf(docFreq=3D3, maxDocs=3D3)
> =A0 =A0 =A00.5 =3D fieldNorm(field=3Dde, doc=3D0)
>
> test, one two three
> 0.6168854 =3D (MATCH) sum of:
> =A00.20562847 =3D (MATCH) weight(de:one in 1), product of:
> =A0 =A00.57735026 =3D queryWeight(de:one), product of:
> =A0 =A0 =A00.71231794 =3D idf(docFreq=3D3, maxDocs=3D3)
> =A0 =A0 =A00.8105233 =3D queryNorm
> =A0 =A00.35615897 =3D (MATCH) fieldWeight(de:one in 1), product of:
> =A0 =A0 =A01.0 =3D tf(termFreq(de:one)=3D1)
> =A0 =A0 =A00.71231794 =3D idf(docFreq=3D3, maxDocs=3D3)
> =A0 =A0 =A00.5 =3D fieldNorm(field=3Dde, doc=3D1)
> =A00.20562847 =3D (MATCH) weight(de:two in 1), product of:
> =A0 =A00.57735026 =3D queryWeight(de:two), product of:
> =A0 =A0 =A00.71231794 =3D idf(docFreq=3D3, maxDocs=3D3)
> =A0 =A0 =A00.8105233 =3D queryNorm
> =A0 =A00.35615897 =3D (MATCH) fieldWeight(de:two in 1), product of:
> =A0 =A0 =A01.0 =3D tf(termFreq(de:two)=3D1)
> =A0 =A0 =A00.71231794 =3D idf(docFreq=3D3, maxDocs=3D3)
> =A0 =A0 =A00.5 =3D fieldNorm(field=3Dde, doc=3D1)
> =A00.20562847 =3D (MATCH) weight(de:three in 1), product of:
> =A0 =A00.57735026 =3D queryWeight(de:three), product of:
> =A0 =A0 =A00.71231794 =3D idf(docFreq=3D3, maxDocs=3D3)
> =A0 =A0 =A00.8105233 =3D queryNorm
> =A0 =A00.35615897 =3D (MATCH) fieldWeight(de:three in 1), product of:
> =A0 =A0 =A01.0 =3D tf(termFreq(de:three)=3D1)
> =A0 =A0 =A00.71231794 =3D idf(docFreq=3D3, maxDocs=3D3)
> =A0 =A0 =A00.5 =3D fieldNorm(field=3Dde, doc=3D1)
>
> one two three
> 0.6168854 =3D (MATCH) sum of:
> =A00.20562847 =3D (MATCH) weight(de:one in 2), product of:
> =A0 =A00.57735026 =3D queryWeight(de:one), product of:
> =A0 =A0 =A00.71231794 =3D idf(docFreq=3D3, maxDocs=3D3)
> =A0 =A0 =A00.8105233 =3D queryNorm
> =A0 =A00.35615897 =3D (MATCH) fieldWeight(de:one in 2), product of:
> =A0 =A0 =A01.0 =3D tf(termFreq(de:one)=3D1)
> =A0 =A0 =A00.71231794 =3D idf(docFreq=3D3, maxDocs=3D3)
> =A0 =A0 =A00.5 =3D fieldNorm(field=3Dde, doc=3D2)
> =A00.20562847 =3D (MATCH) weight(de:two in 2), product of:
> =A0 =A00.57735026 =3D queryWeight(de:two), product of:
> =A0 =A0 =A00.71231794 =3D idf(docFreq=3D3, maxDocs=3D3)
> =A0 =A0 =A00.8105233 =3D queryNorm
> =A0 =A00.35615897 =3D (MATCH) fieldWeight(de:two in 2), product of:
> =A0 =A0 =A01.0 =3D tf(termFreq(de:two)=3D1)
> =A0 =A0 =A00.71231794 =3D idf(docFreq=3D3, maxDocs=3D3)
> =A0 =A0 =A00.5 =3D fieldNorm(field=3Dde, doc=3D2)
> =A00.20562847 =3D (MATCH) weight(de:three in 2), product of:
> =A0 =A00.57735026 =3D queryWeight(de:three), product of:
> =A0 =A0 =A00.71231794 =3D idf(docFreq=3D3, maxDocs=3D3)
> =A0 =A0 =A00.8105233 =3D queryNorm
> =A0 =A00.35615897 =3D (MATCH) fieldWeight(de:three in 2), product of:
> =A0 =A0 =A01.0 =3D tf(termFreq(de:three)=3D1)
> =A0 =A0 =A00.71231794 =3D idf(docFreq=3D3, maxDocs=3D3)
> =A0 =A0 =A00.5 =3D fieldNorm(field=3Dde, doc=3D2)
>
> Best regards,
> Qi Li
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48209-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 29 12:07:13 2010
Return-Path: <java-user-return-48209-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23155 invoked from network); 29 Dec 2010 12:07:13 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 29 Dec 2010 12:07:13 -0000
Received: (qmail 6576 invoked by uid 500); 29 Dec 2010 12:07:11 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6273 invoked by uid 500); 29 Dec 2010 12:07:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6265 invoked by uid 99); 29 Dec 2010 12:07:10 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Dec 2010 12:07:10 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of mailtojiangmingyuan@gmail.com designates 209.85.214.176 as permitted sender)
Received: from [209.85.214.176] (HELO mail-iw0-f176.google.com) (209.85.214.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Dec 2010 12:07:03 +0000
Received: by iwn2 with SMTP id 2so11755472iwn.35
        for <java-user@lucene.apache.org>; Wed, 29 Dec 2010 04:06:43 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:from:date
         :message-id:subject:to:content-type;
        bh=HziJjWz9+CpLMzpE1bLXqwnfyNpOWG1475mruzE4Y98=;
        b=ng/OeCWpuoM+LIsBT2SZX4+ZkhGoj1AHZZfculwcX0o8XHFBGckXrizBCJVkPaj8/j
         dXSOUbWVxu5gm2UIx144mErryiLPBwDPvJCqdanJyscYmpljQz51IfSENn+U81c5MX7G
         BUqzMPKaGub8MTUHkQBKUFtkYJGdkTHSIdbPc=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:from:date:message-id:subject:to:content-type;
        b=Cv40iuCUTgz+cr0Fh7TF63ZC646+FOykXXvRcjeBavGrcpAE2W7CwyZ2JKbrEKz4IH
         M7XeqtRulGo4ducLtiV4aOaZpRa6ZfNRYiIX3y3bamnNPbEid+xjKtHah6xHvraI+jgf
         YMlFbZsJv4Ozxxa7dwnykdixFHz/Z4bS2exMw=
Received: by 10.42.176.202 with SMTP id bf10mr14725465icb.184.1293624402948;
 Wed, 29 Dec 2010 04:06:42 -0800 (PST)
MIME-Version: 1.0
Received: by 10.42.227.131 with HTTP; Wed, 29 Dec 2010 04:06:21 -0800 (PST)
From: Jiang mingyuan <mailtojiangmingyuan@gmail.com>
Date: Wed, 29 Dec 2010 20:06:21 +0800
Message-ID: <AANLkTi=6Hr11ceYThW3PnecsuRpQMzSmbgsm8t16rAEb@mail.gmail.com>
Subject: =?UTF-8?Q?Can_lucene_index_survives_a_machine_crash_during_the?=
	=?UTF-8?Q?_merge_or_optimize_operation=EF=BC=9F?=
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=90e6ba6e83e602b26b04988b6795

--90e6ba6e83e602b26b04988b6795
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Can lucene index survives a machine crash during the merge or optimize
operation=EF=BC=9F

or can I stop the running index program during the merge or optimize period=
?

I have saw some of introduction about this few month ago,but when I need it=
,
I can't remember where it is.

Can you help me?

Thanks very much

--------------------------------------
mingyuan

--90e6ba6e83e602b26b04988b6795--

From java-user-return-48210-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 29 12:12:56 2010
Return-Path: <java-user-return-48210-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 23788 invoked from network); 29 Dec 2010 12:12:55 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 29 Dec 2010 12:12:55 -0000
Received: (qmail 9255 invoked by uid 500); 29 Dec 2010 12:12:53 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 9089 invoked by uid 500); 29 Dec 2010 12:12:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 9081 invoked by uid 99); 29 Dec 2010 12:12:53 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Dec 2010 12:12:53 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of anshumg@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Dec 2010 12:12:45 +0000
Received: by fxm2 with SMTP id 2so9698357fxm.35
        for <java-user@lucene.apache.org>; Wed, 29 Dec 2010 04:12:25 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:in-reply-to
         :references:from:date:message-id:subject:to:content-type;
        bh=9xZlGheLIpOoAQzWg/rhCwJ4XCQ76ZvX8YjIaXU5FhA=;
        b=wwxgv6UscxDWpL8sJxARMQd8PvAsg2Eg3hPXmgoR5l4ZQPNB0EVYp7O10C5i4S8zbs
         QOcSYbeuABp1NflEov4ZzxILr3PfY4CSQdQX2Yks8jx4Tf1mgcuR+Sq+KXTFNce5XQ+C
         rBMx6xAKdS0a7gfbM7O2lIk6+90V3J4O73oII=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=jWaItECiFEMqBNI6Glae5c1B3anW0PXART0ubNx7UYdBrFlr0xa6oCbIu3V3H0YbDE
         bPWLlqt2d8uuXrkeLq0Rl2KeCOM8KLeSXmrCgoewS+ePJIquGcgGESy9KR78q1BkNd6j
         3TFQXBkY9t/KNMBVMHIVjtqZF/lA2TeEM1l9Y=
Received: by 10.223.86.13 with SMTP id q13mr556573fal.53.1293624745613; Wed,
 29 Dec 2010 04:12:25 -0800 (PST)
MIME-Version: 1.0
Received: by 10.223.144.71 with HTTP; Wed, 29 Dec 2010 04:12:05 -0800 (PST)
In-Reply-To: <AANLkTi=6Hr11ceYThW3PnecsuRpQMzSmbgsm8t16rAEb@mail.gmail.com>
References: <AANLkTi=6Hr11ceYThW3PnecsuRpQMzSmbgsm8t16rAEb@mail.gmail.com>
From: Anshum <anshumg@gmail.com>
Date: Wed, 29 Dec 2010 17:42:05 +0530
Message-ID: <AANLkTi=FsCpMBWRpd3J74WS_+cKx6Gr1bFCc0tsgoLLO@mail.gmail.com>
Subject: =?UTF-8?Q?Re=3A_Can_lucene_index_survives_a_machine_crash_during?=
	=?UTF-8?Q?_the_merge_or_optimize_operation=EF=BC=9F?=
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=20cf304342046f57e404988b7b85
X-Virus-Checked: Checked by ClamAV on apache.org

--20cf304342046f57e404988b7b85
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

It pretty much can.
Generally, those operations happen on  a copy of the index and hence are
pretty much atomic. That is the reason why 2X the size of the index is
required only for the optimize operation.
You should get (buy) a copy of lucene in action 2nd ed from manning for a
lot of such info.

--
Anshum Gupta
http://ai-cafe.blogspot.com


On Wed, Dec 29, 2010 at 5:36 PM, Jiang mingyuan <
mailtojiangmingyuan@gmail.com> wrote:

> Can lucene index survives a machine crash during the merge or optimize
> operation=EF=BC=9F
>
> or can I stop the running index program during the merge or optimize
> period?
>
> I have saw some of introduction about this few month ago,but when I need
> it,
> I can't remember where it is.
>
> Can you help me?
>
> Thanks very much
>
> --------------------------------------
> mingyuan
>

--20cf304342046f57e404988b7b85--

From java-user-return-48211-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 29 12:41:27 2010
Return-Path: <java-user-return-48211-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 38654 invoked from network); 29 Dec 2010 12:41:27 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 29 Dec 2010 12:41:27 -0000
Received: (qmail 28433 invoked by uid 500); 29 Dec 2010 12:41:25 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 28200 invoked by uid 500); 29 Dec 2010 12:41:25 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 28192 invoked by uid 99); 29 Dec 2010 12:41:24 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Dec 2010 12:41:24 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of mailtojiangmingyuan@gmail.com designates 209.85.210.176 as permitted sender)
Received: from [209.85.210.176] (HELO mail-iy0-f176.google.com) (209.85.210.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Dec 2010 12:41:17 +0000
Received: by iyb26 with SMTP id 26so10624471iyb.35
        for <java-user@lucene.apache.org>; Wed, 29 Dec 2010 04:40:56 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:in-reply-to
         :references:from:date:message-id:subject:to:content-type;
        bh=k8veVgCRAA6DPxr+OfNYYL4+p4QMJiEDZKw4vTU19Ec=;
        b=D0TyfSHlRuBym0yAPOCd4FJYQg7DjyWrFc2eYfxc7OeXdnuHDk6gRLIDcY317KWAFm
         4PH3t6PuY2Ox1tCmJ8FIsiLiCvueFDyAFhVGTuHtOgZuATk9yhLMaYaV/+hdiy1Tl8c/
         hCMg5lGqbnEn7qWdhqBqh7KzHsUMhtSgGOulQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=qCCm2dp4FjvetUP6r7af7mydcvQtxpUWsLF74EAp780LasYYc52F5MFxS/7enRP19M
         KlipO5ByOZKPDvucbd+Oc1Ih8wXqbI4h3DgtbmPZYnNmmamtlBOLBeQPFqltVWo6/7e6
         PQ6YUvZov9tYILAlSLRngDM5EbePkzgRoX3dw=
Received: by 10.42.176.133 with SMTP id be5mr13377728icb.452.1293626456210;
 Wed, 29 Dec 2010 04:40:56 -0800 (PST)
MIME-Version: 1.0
Received: by 10.42.227.131 with HTTP; Wed, 29 Dec 2010 04:40:36 -0800 (PST)
In-Reply-To: <AANLkTi=FsCpMBWRpd3J74WS_+cKx6Gr1bFCc0tsgoLLO@mail.gmail.com>
References: <AANLkTi=6Hr11ceYThW3PnecsuRpQMzSmbgsm8t16rAEb@mail.gmail.com> <AANLkTi=FsCpMBWRpd3J74WS_+cKx6Gr1bFCc0tsgoLLO@mail.gmail.com>
From: Jiang mingyuan <mailtojiangmingyuan@gmail.com>
Date: Wed, 29 Dec 2010 20:40:36 +0800
Message-ID: <AANLkTi=stg8r5uaku1b2Y3rHO1qJi6Ydv9--WhD1r72R@mail.gmail.com>
Subject: =?UTF-8?Q?Re=3A_Can_lucene_index_survives_a_machine_crash_during?=
	=?UTF-8?Q?_the_merge_or_optimize_operation=EF=BC=9F?=
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=90e6ba6e838064fc8a04988be11c
X-Virus-Checked: Checked by ClamAV on apache.org

--90e6ba6e838064fc8a04988be11c
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

thanks for you patient answer and advice.

I will pick up my lucene in action 2nd soon.



On Wed, Dec 29, 2010 at 8:12 PM, Anshum <anshumg@gmail.com> wrote:

> It pretty much can.
> Generally, those operations happen on  a copy of the index and hence are
> pretty much atomic. That is the reason why 2X the size of the index is
> required only for the optimize operation.
> You should get (buy) a copy of lucene in action 2nd ed from manning for a
> lot of such info.
>
> --
> Anshum Gupta
> http://ai-cafe.blogspot.com
>
>
> On Wed, Dec 29, 2010 at 5:36 PM, Jiang mingyuan <
> mailtojiangmingyuan@gmail.com> wrote:
>
> > Can lucene index survives a machine crash during the merge or optimize
> > operation=EF=BC=9F
> >
> > or can I stop the running index program during the merge or optimize
> > period?
> >
> > I have saw some of introduction about this few month ago,but when I nee=
d
> > it,
> > I can't remember where it is.
> >
> > Can you help me?
> >
> > Thanks very much
> >
> > --------------------------------------
> > mingyuan
> >
>

--90e6ba6e838064fc8a04988be11c--

From java-user-return-48212-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 29 14:01:16 2010
Return-Path: <java-user-return-48212-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 59749 invoked from network); 29 Dec 2010 14:01:15 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 29 Dec 2010 14:01:15 -0000
Received: (qmail 66680 invoked by uid 500); 29 Dec 2010 14:01:12 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 66447 invoked by uid 500); 29 Dec 2010 14:01:12 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 66439 invoked by uid 99); 29 Dec 2010 14:01:11 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Dec 2010 14:01:11 +0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=FREEMAIL_FROM,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [98.138.90.123] (HELO web121702.mail.ne1.yahoo.com) (98.138.90.123)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 29 Dec 2010 14:01:04 +0000
Received: (qmail 14425 invoked by uid 60001); 29 Dec 2010 14:00:42 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1293631242; bh=RRJR6EpzeRbFqakOXj24/bl6SkjLgAX75QL995Xd72I=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding; b=W702E4OlTZJmhybmqa5gwOQPPHfxtS4PY5Av+Qe2a7xNJPOKYVYhYyCx7HnXkdK8td5GeylRhnKrDK8ORmEBXl5/zyQO3NyBOAxOk+br+NQprymxbKV3WhVNFkwIPRxfSlVZKCUtzxNBmusJXtXoOZ3uwv5MubFk2b2OFyuWRzo=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=R6jf3M+Vuzl5x8+1GtWN3htSMEiPjHPCGk4OVvvus3zCCul8nPkd70XplO524wBw4j3vpfcdKfpGJh4QR/2xE1ybRbRRdHAC0P9CBjacHtI1ic4n7p9/gJgTVYuX+r/tYLMBnhAoyleA+dh10ukHPZpP8JGuWbhaQ6+UzO3LLHs=;
Message-ID: <480162.10809.qm@web121702.mail.ne1.yahoo.com>
X-YMail-OSG: dFqo.9AVM1n6u0kruOvckIw5KnNF0ZnMEFaZC7zg7sbh2TF
 FC.ajwk.mdj9CHp4t1aPQUyR0YANRmMBecWzmLaswfibqN_1JlCSm2kcUsWl
 OIGF03T0e9Z1DyFCooQvmlOMDZLAgOWXyBHuSd3mIT5F9DFNlruQdm0C1DcH
 U2nnBMZOmZjVLXvyyklooPdY6TedvPVPb7aeWgUc7dIq9de0kXpaofMh8kF4
 WmU4dBVKXx4.dbjucxTuy_Ejt5bwriJho9mAmQEjUn6.D4Tvxa_HHb3g1H2b
 3N4gF48xseWpi
Received: from [193.140.184.4] by web121702.mail.ne1.yahoo.com via HTTP; Wed, 29 Dec 2010 06:00:42 PST
X-Mailer: YahooMailClassic/11.4.20 YahooMailWebService/0.8.107.285259
Date: Wed, 29 Dec 2010 06:00:42 -0800 (PST)
From: Ahmet Arslan <iorixxx@yahoo.com>
Subject: Re: relevant score calculation
To: java-user@lucene.apache.org
In-Reply-To: <AANLkTimB9m59WL+1uihim_yWF3xwPq-fLn_iFX9RKcO4@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

> Test case=0A> =A0 =A0 doc1 :=A0=A0=A0test -- one two=0A> three=0A> =A0 =
=A0 doc2 :=A0=A0=A0test, one two three=0A> =A0 =A0 doc3 :=A0=A0=A0one two t=
hree=0A> =0A> Search query :=A0 "one two three" by QueryParser and=0A> Stan=
dardAnalyzer=0A> =0A> Question:=A0 why all of three documents have the same=
=0A> score?=A0=0A=0AAs Ian said, length norm values of your all documents a=
re the same. =0ASee Jay Hill's message at http://search-lucene.com/m/Qw6CZp=
vRjw/=0A=0A=0A      

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48213-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 29 14:07:46 2010
Return-Path: <java-user-return-48213-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 69737 invoked from network); 29 Dec 2010 14:07:46 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 29 Dec 2010 14:07:46 -0000
Received: (qmail 74624 invoked by uid 500); 29 Dec 2010 14:07:44 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 74435 invoked by uid 500); 29 Dec 2010 14:07:44 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 74427 invoked by uid 99); 29 Dec 2010 14:07:43 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Dec 2010 14:07:43 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of alertli@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Dec 2010 14:07:38 +0000
Received: by fxm2 with SMTP id 2so9764703fxm.35
        for <java-user@lucene.apache.org>; Wed, 29 Dec 2010 06:07:17 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=kgWGzYsGZhHUb9KJwNO7OjFveKBq+wTJ3EuR/Aw/I/w=;
        b=N+lNqgrGVRfflTliVE7FVc/Ku+aHenBmrjbf1YCPKJ6XbvK/T/xwpzZctB9Xa1Qxdz
         xPGFDQhEHcuv24jUqZqbPyj8bP+u3DpUXLFNILw4/UKNhuw0ecbADDd5Qr7MIUDgAjVK
         yG2uxwmX91c7tsxPwB4bkyNhgHfOJnTodp4gk=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=jC1bWK+GExU7S7WrnPbQ9Mwjq8mUzto4u0LUmZvRd8fLBK5gXVXvQkjaF+4nEwZ3fj
         wFB5I441A/312+6YpN3l6j54wr6tIsUPTY3U3Si5iXUJ5OFKuvBcbPvUzjW08isxmmuV
         lzx660NwiudJ5cQghX755NT01YnKhaeiI11AY=
MIME-Version: 1.0
Received: by 10.223.83.13 with SMTP id d13mr9278466fal.139.1293631637021; Wed,
 29 Dec 2010 06:07:17 -0800 (PST)
Received: by 10.223.104.141 with HTTP; Wed, 29 Dec 2010 06:07:16 -0800 (PST)
In-Reply-To: <480162.10809.qm@web121702.mail.ne1.yahoo.com>
References: <AANLkTimB9m59WL+1uihim_yWF3xwPq-fLn_iFX9RKcO4@mail.gmail.com>
	<480162.10809.qm@web121702.mail.ne1.yahoo.com>
Date: Wed, 29 Dec 2010 09:07:16 -0500
Message-ID: <AANLkTikSugZJqVfqJNMOZVNqs-aK-58Cf2x8T-UwnQL7@mail.gmail.com>
Subject: Re: relevant score calculation
From: Qi Li <alertli@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=20cf30433fa031e48304988d162e

--20cf30433fa031e48304988d162e
Content-Type: text/plain; charset=ISO-8859-1

Ahmet and Ian:

Thanks to both of you very much. I will try the patch.

Qi

On Wed, Dec 29, 2010 at 9:00 AM, Ahmet Arslan <iorixxx@yahoo.com> wrote:

> > Test case
> >     doc1 :   test -- one two
> > three
> >     doc2 :   test, one two three
> >     doc3 :   one two three
> >
> > Search query :  "one two three" by QueryParser and
> > StandardAnalyzer
> >
> > Question:  why all of three documents have the same
> > score?
>
> As Ian said, length norm values of your all documents are the same.
> See Jay Hill's message at http://search-lucene.com/m/Qw6CZpvRjw/
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--20cf30433fa031e48304988d162e--

From java-user-return-48214-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 29 15:38:03 2010
Return-Path: <java-user-return-48214-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 2657 invoked from network); 29 Dec 2010 15:38:03 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 29 Dec 2010 15:38:03 -0000
Received: (qmail 61729 invoked by uid 500); 29 Dec 2010 15:38:00 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 61414 invoked by uid 500); 29 Dec 2010 15:38:00 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 61402 invoked by uid 99); 29 Dec 2010 15:37:59 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Dec 2010 15:37:59 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=10.0
	tests=FREEMAIL_FROM,MIME_BASE64_BLANKS,RCVD_IN_DNSWL_LOW,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of adam.saltiel@gmail.com designates 209.85.215.48 as permitted sender)
Received: from [209.85.215.48] (HELO mail-ew0-f48.google.com) (209.85.215.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Dec 2010 15:37:53 +0000
Received: by ewy20 with SMTP id 20so1709351ewy.35
        for <java-user@lucene.apache.org>; Wed, 29 Dec 2010 07:37:32 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:received:x-rim-org-msg-ref-id
         :message-id:content-transfer-encoding:reply-to:x-priority:references
         :in-reply-to:sensitivity:importance:subject:to:from:date
         :content-type:mime-version;
        bh=KxwwJSi6zPEbnY2IMWuSdeqop4AHUDbb7sBnC7dxzGw=;
        b=HPTcMhi7tKQ8ftD9fOznG0aWnoSR6a1XrKgMervhnAyBLSAh0TeaIn224iE/C1Vr37
         osCSYEsd2iS0EDG82xKh9rC8R1cGPJujs/SSGlybAdbhOJ0Sy/m8WmDq8s+/ZkfKcji4
         cA/vecSc8UXuj4Yxob1ppam0gd/GoGMp88pgg=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=x-rim-org-msg-ref-id:message-id:content-transfer-encoding:reply-to
         :x-priority:references:in-reply-to:sensitivity:importance:subject:to
         :from:date:content-type:mime-version;
        b=VTFM974q+2dZMqpId5zKCWrdNqPgm1EeNsVGzwXdjMcVBDYAUUApTzqgQYaZXsfWNF
         z5HuV44W2p+Nv3eQVi8lrU0c5iqiXovUi/7djETdEndeF48K41qNoWVCTVKJaX1A8RZS
         d6GJ7dGkRDe3GYB7QHbv5S3M131BqPljckbKI=
Received: by 10.213.22.142 with SMTP id n14mr11548148ebb.57.1293637051870;
        Wed, 29 Dec 2010 07:37:31 -0800 (PST)
Received: from ups35.c6.bise7.blackberry (bda-178-239-84-118.bis7.eu.blackberry.com [178.239.84.118])
        by mx.google.com with ESMTPS id u1sm10640517eeh.10.2010.12.29.07.37.30
        (version=SSLv3 cipher=RC4-MD5);
        Wed, 29 Dec 2010 07:37:30 -0800 (PST)
X-rim-org-msg-ref-id:1596394141
Message-ID:<1596394141-1293637049-cardhu_decombobulator_blackberry.rim.net-1951755217-@b15.c6.bise7.blackberry>
Content-Transfer-Encoding: base64
Reply-To: adam.saltiel@gmail.com
X-Priority: Normal
References: <tencent_016058B91870538D7A4400B4@qq.com>
In-Reply-To: <tencent_016058B91870538D7A4400B4@qq.com>
Sensitivity: Normal
Importance: Normal
Subject: Re: Using Lucene to search live, being-edited documents
To: java-user@lucene.apache.org
From: adam.saltiel@gmail.com
Date: Wed, 29 Dec 2010 15:37:27 +0000
Content-Type: text/plain; charset="Windows-1252"
MIME-Version: 1.0

VGhpcyBpcyBpbnRlcmVzdGluZy4gV2hhdCBhcmUgd2UgZHJpdmluZyBhdCBoZXJlPyBBIHNpbmds
ZSB1c2VyPyBUaGF0IGRvZXNuJ3QgbWFrZSBzZW5zZSB0byB1bmxlc3MgeW91IHdhbnQgdG8gZmxh
ZyBjZXJ0YWluIHRoaW5ncyBhcyB0aGV5IGNvbnN0cnVjdCB0aGUgZG9jdW1lbnQuIE9yIGVsc2Ug
d2h5IGRvbid0IHRoZXkga25vdyB3aGF0IGlzIGluIHRoZWlyIG93biBkb2N1bWVudD8gVGhlcmUg
bXVzdCBiZSBvdGhlciB3YXlzIGFwYXJ0IGZyb20gTHVjZW5lLiBJdCBzZWVtcyB0byBtZSB5b3Ug
d2FudCBlYWNoIGxpbmUgcGFyc2VkIGFzIHNvb24gYXMgZW50ZXJlZCBhbmQgbWF0Y2hlZCBhZ2Fp
bnN0IHNvbWUgY3JpdGVyaWEuIEkgd291bGQgbG9vayBhdCBwbHVnaW5zIGZvciBPcGVuIE9mZmlj
ZSBmaXJzdC4gT3IgYW55IG90aGVyIHRleHQgZWRpdG9yLiBCdXQgbm90IHN1cmUgeW91IGhhdmUg
Z2l2ZW4gZW5vdWdoIGluZm9ybWF0aW9uLiANClNlbnQgdXNpbmcgQmxhY2tCZXJyea4gZnJvbSBP
cmFuZ2UNCg0KLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCkZyb206ICJTZWFuIiA8c3BhY2Vo
ZXJvQGZveG1haWwuY29tPg0KRGF0ZTogV2VkLCAyOSBEZWMgMjAxMCAxNTozNToxNyANClRvOiBq
YXZhLXVzZXI8amF2YS11c2VyQGx1Y2VuZS5hcGFjaGUub3JnPg0KUmVwbHktVG86IGphdmEtdXNl
ckBsdWNlbmUuYXBhY2hlLm9yZw0KU3ViamVjdDogUmU6VXNpbmcgTHVjZW5lIHRvIHNlYXJjaCBs
aXZlLCBiZWluZy1lZGl0ZWQgZG9jdW1lbnRzDQoNCkRvZXMgaXQgbWFrZSBhbnkgc2Vuc2U/DQog
RXZlcnkgdGltZSBhIHNlYXJjaCByZXN1bHQgaXMgc2hvd24sIHRoZSBvcmlnaW5hbCBkb2N1bWVu
dCBjb3VsZCBoYXZlIGJlZW4gY2hhbmdlZCwgIG5vIG1hdHRlciBob3cgZmFzdCB0aGUgaW5kZXhp
bmcgc3BlZWQgaXMuDQpJZiB5b3UgY2FuIGFjY2VwdCB0aGlzIGluY29uc2lzdGVuY3ksIHlvdSBk
byBub3QgbmVlZCB0byBpbmRleCBzbyBmcmVxdWVudGx5IGF0IGFsbC4NCiANCiANCi0tLS0tLS0t
LS0tLS0tLS0tLSBPcmlnaW5hbCAtLS0tLS0tLS0tLS0tLS0tLS0NCkZyb206ICAic29mdHdhcmUg
dmlzdWFsaXphdGlvbiI8c29mdHdhcmV2aXN1YWxpemF0aW9uQGdtYWlsLmNvbT47DQpEYXRlOiAg
V2VkLCBEZWMgMjksIDIwMTAgMDY6MDYgQU0NClRvOiAgImphdmEtdXNlciI8amF2YS11c2VyQGx1
Y2VuZS5hcGFjaGUub3JnPjsgDQoNClN1YmplY3Q6ICBVc2luZyBMdWNlbmUgdG8gc2VhcmNoIGxp
dmUsIGJlaW5nLWVkaXRlZCBkb2N1bWVudHMNCg0KIA0KVGhpcyBoYXMgcHJvYmFibHkgYmVlbiBh
c2tlZCBiZWZvcmUgYnV0IEkgY291bGRuJ3QgZmluZCBpdCwgc28uLi4NCg0KSXMgaXQgcG9zc2li
bGUgLyBhZHZpc2FibGUgLyBwcmFjdGljYWwgdG8gdXNlIEx1Y2VuZSBhcyB0aGUgIGJhc2lzIG9m
IGEgbGl2ZQ0KZG9jdW1lbnQgc2VhcmNoIGNhcGFiaWxpdHk/IEJ5ICJsaXZlIGRvY3VtZW50IiBJ
IG1lYW4gYSBsYXJnaXNoIGRvY3VtZW50DQpzdWNoIGFzIGEgd29yZCBwcm9jZXNzb3IgbWlnaHQg
YmUgYWJsZSB0byBoYW5kbGUgd2hpY2ggaXMgYmVpbmcgZWRpdGVkDQpjdXJyZW50bHkuIEV4YW1w
bGVzIHdvdWxkIGJlIFdvcmQgZG9jdW1lbnRzIG9mIHNvbWUgc2l6ZSB0aGF0IGFyZSBiZWdpbg0K
d3JpdHRlbiwgcmVhbGx5IGh1Z2UgSmF2YSBmaWxlcywgZXRjLg0KDQpUaGUgdXNlciBpcyBzaXR0
aW5nIHRoZXJlIHR5cGluZyBhd2F5IGFuZCBvZiBjb3Vyc2UgZXZlcnl0aGluZyBpcyBjaGFuZ2lu
Zw0KaW4gcmVhbCB0aW1lLiBUaGlzIHNlZW1zIHRvIGJlIG9ydGhvZ29uYWwgdG8gdGhlIGlkZWEg
b2YgYSBMdWNlbmUgaW5kZXgNCndoaWNoIGlzIGNvc3RseSB0byBjb25zdHJ1Y3QgIGFuZCBjb3N0
bHkgdG8gdXBkYXRlLg0KDQpUSUE=



From java-user-return-48215-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 29 16:55:50 2010
Return-Path: <java-user-return-48215-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 41818 invoked from network); 29 Dec 2010 16:55:50 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 29 Dec 2010 16:55:50 -0000
Received: (qmail 51079 invoked by uid 500); 29 Dec 2010 16:55:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 50764 invoked by uid 500); 29 Dec 2010 16:55:45 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 50756 invoked by uid 99); 29 Dec 2010 16:55:44 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Dec 2010 16:55:44 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of softwarevisualization@gmail.com designates 209.85.214.48 as permitted sender)
Received: from [209.85.214.48] (HELO mail-bw0-f48.google.com) (209.85.214.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Dec 2010 16:55:39 +0000
Received: by bwz8 with SMTP id 8so10548383bwz.35
        for <java-user@lucene.apache.org>; Wed, 29 Dec 2010 08:55:18 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:reply-to
         :in-reply-to:references:date:message-id:subject:from:to:content-type;
        bh=6zA1w/liSHokvZWhnHgvQ6YtXE0hVqJgajaHEYx963E=;
        b=N7GFYUMReIYRv8IKCAtVKXK+XJC0j1+Hl3N4btoCXyOT8vafTmfpatdCGLnYd/ywx4
         vkUuvWB/WamoAY7wzIMznKNeSJ/bXTdRxqAS+Dn4L1CL22nbylUOrzORLt/Lo2fMaLT1
         iGRI9PtdeNmYqTgZvHKzzB5eD0eVDfi/f41rs=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:reply-to:in-reply-to:references:date:message-id
         :subject:from:to:content-type;
        b=n6dExR3auTqdCIjAsoBe+wx5dlMjOskpGKJoxyYNmV8RtFycJ3hpCxfUdJe1PryPqM
         A2Hvn9FJJXNi5tN9Ff5HqoFPV0iOZQD7FmBYTEJ17E8cVMYk5XaH5WCb0GH51SVeguiD
         ZfjNDBmcDsZWy9f2hRGyoiyCbLAafgr9v5JUM=
MIME-Version: 1.0
Received: by 10.204.137.199 with SMTP id x7mr135933bkt.165.1293641717947; Wed,
 29 Dec 2010 08:55:17 -0800 (PST)
Received: by 10.204.65.81 with HTTP; Wed, 29 Dec 2010 08:55:17 -0800 (PST)
Reply-To: softwarevisualization@gmail.com
In-Reply-To: <1596394141-1293637049-cardhu_decombobulator_blackberry.rim.net-1951755217-@b15.c6.bise7.blackberry>
References: <tencent_016058B91870538D7A4400B4@qq.com>
	<1596394141-1293637049-cardhu_decombobulator_blackberry.rim.net-1951755217-@b15.c6.bise7.blackberry>
Date: Wed, 29 Dec 2010 11:55:17 -0500
Message-ID: <AANLkTimZpH9BnaDdgrk2K-B3cfwbbwspALsTLnOgHtxW@mail.gmail.com>
Subject: Re: Using Lucene to search live, being-edited documents
From: software visualization <softwarevisualization@gmail.com>
To: java-user@lucene.apache.org, adam.saltiel@gmail.com
Content-Type: multipart/alternative; boundary=00151747c136109fc904988f6fc4

--00151747c136109fc904988f6fc4
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

I am writing a text editor and have to provide  a certain search
functionality .

The  use case is for single user. A single  document is potentially very
large and numerous such documents may be open and unflushed at any given
time. Think many files of an IDE, except the files are larger. The user is
free to change, say, variables names across documents which may be separate
files opened simultaneously in a variety of tabs (say)  and being edited
with no guarantee that the user has flushed or saved any of it.





On Wed, Dec 29, 2010 at 10:37 AM, <adam.saltiel@gmail.com> wrote:

> This is interesting. What are we driving at here? A single user? That
> doesn't make sense to unless you want to flag certain things as they
> construct the document. Or else why don't they know what is in their own
> document? There must be other ways apart from Lucene. It seems to me you
> want each line parsed as soon as entered and matched against some criteri=
a.
> I would look at plugins for Open Office first. Or any other text editor. =
But
> not sure you have given enough information.
> Sent using BlackBerry=AE from Orange
>
> -----Original Message-----
> From: "Sean" <spacehero@foxmail.com>
> Date: Wed, 29 Dec 2010 15:35:17
> To: java-user<java-user@lucene.apache.org>
> Reply-To: java-user@lucene.apache.org
> Subject: Re:Using Lucene to search live, being-edited documents
>
> Does it make any sense?
>  Every time a search result is shown, the original document could have be=
en
> changed,  no matter how fast the indexing speed is.
> If you can accept this inconsistency, you do not need to index so
> frequently at all.
>
>
> ------------------ Original ------------------
> From:  "software visualization"<softwarevisualization@gmail.com>;
> Date:  Wed, Dec 29, 2010 06:06 AM
> To:  "java-user"<java-user@lucene.apache.org>;
>
> Subject:  Using Lucene to search live, being-edited documents
>
>
> This has probably been asked before but I couldn't find it, so...
>
> Is it possible / advisable / practical to use Lucene as the  basis of a
> live
> document search capability? By "live document" I mean a largish document
> such as a word processor might be able to handle which is being edited
> currently. Examples would be Word documents of some size that are begin
> written, really huge Java files, etc.
>
> The user is sitting there typing away and of course everything is changin=
g
> in real time. This seems to be orthogonal to the idea of a Lucene index
> which is costly to construct  and costly to update.
>
> TIA
>

--00151747c136109fc904988f6fc4--

From java-user-return-48216-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 29 17:16:00 2010
Return-Path: <java-user-return-48216-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 54954 invoked from network); 29 Dec 2010 17:16:00 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 29 Dec 2010 17:16:00 -0000
Received: (qmail 84353 invoked by uid 500); 29 Dec 2010 17:15:58 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 84265 invoked by uid 500); 29 Dec 2010 17:15:57 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 84257 invoked by uid 99); 29 Dec 2010 17:15:57 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Dec 2010 17:15:57 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of adam.saltiel@gmail.com designates 209.85.215.48 as permitted sender)
Received: from [209.85.215.48] (HELO mail-ew0-f48.google.com) (209.85.215.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Dec 2010 17:15:49 +0000
Received: by ewy20 with SMTP id 20so1739650ewy.35
        for <java-user@lucene.apache.org>; Wed, 29 Dec 2010 09:15:29 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:received:x-rim-org-msg-ref-id
         :message-id:reply-to:x-priority:references:in-reply-to:sensitivity
         :importance:subject:to:from:date:content-type:mime-version;
        bh=iBhNESJRW8OU+NtD32zgEetJuHHagc8vu01ebGpsgXo=;
        b=dfTJo8SlijHipJx5FKC6OzytlnqgnLaPSaSNPQYQ/GqRI+7k0QXhWVWdHNJ4oPi269
         1COUWL+LCFu0vBMM0KKNeIUzyFopW57/hxyJJvz4fgNZhA6eNShWl6r0FtmfstrkuH/z
         KFct/CSn9XGbKRpUeHuG5crYBy+fwhNbg3CmQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=x-rim-org-msg-ref-id:message-id:reply-to:x-priority:references
         :in-reply-to:sensitivity:importance:subject:to:from:date
         :content-type:mime-version;
        b=KU3PA1dWsdquK79QaBsyJ3bF6urBnDxcHM+eFX5OrtV298n/lk0eGJy533482D3SSs
         Z8KMB9eLILwcmUh7CBER0uVEmchQaYy/iWuIPK5AcIQtuQyomxcvDpNvguOVydOS246c
         wSyZxs/nMM30y6nFEQNjkRAXvktpCZpEXoL6M=
Received: by 10.213.15.11 with SMTP id i11mr11627417eba.98.1293642928908;
        Wed, 29 Dec 2010 09:15:28 -0800 (PST)
Received: from ups35.c6.bise7.blackberry (bda-178-239-84-118.bis7.eu.blackberry.com [178.239.84.118])
        by mx.google.com with ESMTPS id x54sm10705061eeh.17.2010.12.29.09.15.27
        (version=SSLv3 cipher=RC4-MD5);
        Wed, 29 Dec 2010 09:15:28 -0800 (PST)
X-rim-org-msg-ref-id:37455700
Message-ID:<37455700-1293642926-cardhu_decombobulator_blackberry.rim.net-1955853008-@b15.c6.bise7.blackberry>
Reply-To: adam.saltiel@gmail.com
X-Priority: Normal
References: <tencent_016058B91870538D7A4400B4@qq.com><1596394141-1293637049-cardhu_decombobulator_blackberry.rim.net-1951755217-@b15.c6.bise7.blackberry><AANLkTimZpH9BnaDdgrk2K-B3cfwbbwspALsTLnOgHtxW@mail.gmail.com>
In-Reply-To: <AANLkTimZpH9BnaDdgrk2K-B3cfwbbwspALsTLnOgHtxW@mail.gmail.com>
Sensitivity: Normal
Importance: Normal
Subject: Re: Using Lucene to search live, being-edited documents
To: softwarevisualization@gmail.com,java-user@lucene.apache.org
From: adam.saltiel@gmail.com
Date: Wed, 29 Dec 2010 17:15:25 +0000
Content-Type: multipart/alternative; boundary="part14141-boundary-2068529950-349133276"
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

--part14141-boundary-2068529950-349133276
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="Windows-1252"

V2hhdCBoYXMgdGhpcyB0byBkbyB3aXRoIEx1Y2VuZT8gWW91J3JlIHRoaW5raW5nIGl0cyBpbmRl
eCB3b3VsZCBiZSBmYXN0ZXIgdGhhbiB5b3VyIG93biBzZWFyY2ggYWxnb3JpdGhtLiBXb3VsZCBp
dCB0aG91Z2g/IERvIHlvdSByZWFsbHkgbmVlZCBhbiBpbmRleCBvciBhIGdvb2QgcGF0dGVybiBt
YXRjaGVyPyBJIGNhbid0IHNlZSB3aGF0IHRoZSBzdHJlYW0gYnVmZmVyIGJlaW5nIGZsdXNoZWQg
YnkgdGhlIHVzZXIgaGFzIHRvIGRvIHdpdGggaXQ/IERvbid0IHlvdSBoYXZlIHRvIGNvbnRyb2wg
dGhhdCBiZWhhdmlvdXI/DQoNClNlbnQgdXNpbmcgQmxhY2tCZXJyea4gZnJvbSBPcmFuZ2UNCg0K
LS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCkZyb206IHNvZnR3YXJlIHZpc3VhbGl6YXRpb24g
PHNvZnR3YXJldmlzdWFsaXphdGlvbkBnbWFpbC5jb20+DQpEYXRlOiBXZWQsIDI5IERlYyAyMDEw
IDExOjU1OjE3IA0KVG86IDxqYXZhLXVzZXJAbHVjZW5lLmFwYWNoZS5vcmc+OyA8YWRhbS5zYWx0
aWVsQGdtYWlsLmNvbT4NClJlcGx5LVRvOiBzb2Z0d2FyZXZpc3VhbGl6YXRpb25AZ21haWwuY29t
DQpTdWJqZWN0OiBSZTogVXNpbmcgTHVjZW5lIHRvIHNlYXJjaCBsaXZlLCBiZWluZy1lZGl0ZWQg
ZG9jdW1lbnRzDQoNCkkgYW0gd3JpdGluZyBhIHRleHQgZWRpdG9yIGFuZCBoYXZlIHRvIHByb3Zp
ZGUgIGEgY2VydGFpbiBzZWFyY2gNCmZ1bmN0aW9uYWxpdHkgLg0KDQpUaGUgIHVzZSBjYXNlIGlz
IGZvciBzaW5nbGUgdXNlci4gQSBzaW5nbGUgIGRvY3VtZW50IGlzIHBvdGVudGlhbGx5IHZlcnkN
CmxhcmdlIGFuZCBudW1lcm91cyBzdWNoIGRvY3VtZW50cyBtYXkgYmUgb3BlbiBhbmQgdW5mbHVz
aGVkIGF0IGFueSBnaXZlbg0KdGltZS4gVGhpbmsgbWFueSBmaWxlcyBvZiBhbiBJREUsIGV4Y2Vw
dCB0aGUgZmlsZXMgYXJlIGxhcmdlci4gVGhlIHVzZXIgaXMNCmZyZWUgdG8gY2hhbmdlLCBzYXks
IHZhcmlhYmxlcyBuYW1lcyBhY3Jvc3MgZG9jdW1lbnRzIHdoaWNoIG1heSBiZSBzZXBhcmF0ZQ0K
ZmlsZXMgb3BlbmVkIHNpbXVsdGFuZW91c2x5IGluIGEgdmFyaWV0eSBvZiB0YWJzIChzYXkpICBh
bmQgYmVpbmcgZWRpdGVkDQp3aXRoIG5vIGd1YXJhbnRlZSB0aGF0IHRoZSB1c2VyIGhhcyBmbHVz
aGVkIG9yIHNhdmVkIGFueSBvZiBpdC4NCg0KDQoNCg0KDQpPbiBXZWQsIERlYyAyOSwgMjAxMCBh
dCAxMDozNyBBTSwgPGFkYW0uc2FsdGllbEBnbWFpbC5jb20+IHdyb3RlOg0KDQo+IFRoaXMgaXMg
aW50ZXJlc3RpbmcuIFdoYXQgYXJlIHdlIGRyaXZpbmcgYXQgaGVyZT8gQSBzaW5nbGUgdXNlcj8g
VGhhdA0KPiBkb2Vzbid0IG1ha2Ugc2Vuc2UgdG8gdW5sZXNzIHlvdSB3YW50IHRvIGZsYWcgY2Vy
dGFpbiB0aGluZ3MgYXMgdGhleQ0KPiBjb25zdHJ1Y3QgdGhlIGRvY3VtZW50LiBPciBlbHNlIHdo
eSBkb24ndCB0aGV5IGtub3cgd2hhdCBpcyBpbiB0aGVpciBvd24NCj4gZG9jdW1lbnQ/IFRoZXJl
IG11c3QgYmUgb3RoZXIgd2F5cyBhcGFydCBmcm9tIEx1Y2VuZS4gSXQgc2VlbXMgdG8gbWUgeW91
DQo+IHdhbnQgZWFjaCBsaW5lIHBhcnNlZCBhcyBzb29uIGFzIGVudGVyZWQgYW5kIG1hdGNoZWQg
YWdhaW5zdCBzb21lIGNyaXRlcmlhLg0KPiBJIHdvdWxkIGxvb2sgYXQgcGx1Z2lucyBmb3IgT3Bl
biBPZmZpY2UgZmlyc3QuIE9yIGFueSBvdGhlciB0ZXh0IGVkaXRvci4gQnV0DQo+IG5vdCBzdXJl
IHlvdSBoYXZlIGdpdmVuIGVub3VnaCBpbmZvcm1hdGlvbi4NCj4gU2VudCB1c2luZyBCbGFja0Jl
cnJ5riBmcm9tIE9yYW5nZQ0KPg0KPiAtLS0tLU9yaWdpbmFsIE1lc3NhZ2UtLS0tLQ0KPiBGcm9t
OiAiU2VhbiIgPHNwYWNlaGVyb0Bmb3htYWlsLmNvbT4NCj4gRGF0ZTogV2VkLCAyOSBEZWMgMjAx
MCAxNTozNToxNw0KPiBUbzogamF2YS11c2VyPGphdmEtdXNlckBsdWNlbmUuYXBhY2hlLm9yZz4N
Cj4gUmVwbHktVG86IGphdmEtdXNlckBsdWNlbmUuYXBhY2hlLm9yZw0KPiBTdWJqZWN0OiBSZTpV
c2luZyBMdWNlbmUgdG8gc2VhcmNoIGxpdmUsIGJlaW5nLWVkaXRlZCBkb2N1bWVudHMNCj4NCj4g
RG9lcyBpdCBtYWtlIGFueSBzZW5zZT8NCj4gIEV2ZXJ5IHRpbWUgYSBzZWFyY2ggcmVzdWx0IGlz
IHNob3duLCB0aGUgb3JpZ2luYWwgZG9jdW1lbnQgY291bGQgaGF2ZSBiZWVuDQo+IGNoYW5nZWQs
ICBubyBtYXR0ZXIgaG93IGZhc3QgdGhlIGluZGV4aW5nIHNwZWVkIGlzLg0KPiBJZiB5b3UgY2Fu
IGFjY2VwdCB0aGlzIGluY29uc2lzdGVuY3ksIHlvdSBkbyBub3QgbmVlZCB0byBpbmRleCBzbw0K
PiBmcmVxdWVudGx5IGF0IGFsbC4NCj4NCj4NCj4gLS0tLS0tLS0tLS0tLS0tLS0tIE9yaWdpbmFs
IC0tLS0tLS0tLS0tLS0tLS0tLQ0KPiBGcm9tOiAgInNvZnR3YXJlIHZpc3VhbGl6YXRpb24iPHNv
ZnR3YXJldmlzdWFsaXphdGlvbkBnbWFpbC5jb20+Ow0KPiBEYXRlOiAgV2VkLCBEZWMgMjksIDIw
MTAgMDY6MDYgQU0NCj4gVG86ICAiamF2YS11c2VyIjxqYXZhLXVzZXJAbHVjZW5lLmFwYWNoZS5v
cmc+Ow0KPg0KPiBTdWJqZWN0OiAgVXNpbmcgTHVjZW5lIHRvIHNlYXJjaCBsaXZlLCBiZWluZy1l
ZGl0ZWQgZG9jdW1lbnRzDQo+DQo+DQo+IFRoaXMgaGFzIHByb2JhYmx5IGJlZW4gYXNrZWQgYmVm
b3JlIGJ1dCBJIGNvdWxkbid0IGZpbmQgaXQsIHNvLi4uDQo+DQo+IElzIGl0IHBvc3NpYmxlIC8g
YWR2aXNhYmxlIC8gcHJhY3RpY2FsIHRvIHVzZSBMdWNlbmUgYXMgdGhlICBiYXNpcyBvZiBhDQo+
IGxpdmUNCj4gZG9jdW1lbnQgc2VhcmNoIGNhcGFiaWxpdHk/IEJ5ICJsaXZlIGRvY3VtZW50IiBJ
IG1lYW4gYSBsYXJnaXNoIGRvY3VtZW50DQo+IHN1Y2ggYXMgYSB3b3JkIHByb2Nlc3NvciBtaWdo
dCBiZSBhYmxlIHRvIGhhbmRsZSB3aGljaCBpcyBiZWluZyBlZGl0ZWQNCj4gY3VycmVudGx5LiBF
eGFtcGxlcyB3b3VsZCBiZSBXb3JkIGRvY3VtZW50cyBvZiBzb21lIHNpemUgdGhhdCBhcmUgYmVn
aW4NCj4gd3JpdHRlbiwgcmVhbGx5IGh1Z2UgSmF2YSBmaWxlcywgZXRjLg0KPg0KPiBUaGUgdXNl
ciBpcyBzaXR0aW5nIHRoZXJlIHR5cGluZyBhd2F5IGFuZCBvZiBjb3Vyc2UgZXZlcnl0aGluZyBp
cyBjaGFuZ2luZw0KPiBpbiByZWFsIHRpbWUuIFRoaXMgc2VlbXMgdG8gYmUgb3J0aG9nb25hbCB0
byB0aGUgaWRlYSBvZiBhIEx1Y2VuZSBpbmRleA0KPiB3aGljaCBpcyBjb3N0bHkgdG8gY29uc3Ry
dWN0ICBhbmQgY29zdGx5IHRvIHVwZGF0ZS4NCj4NCj4gVElBDQo+DQoNCg==

--part14141-boundary-2068529950-349133276--


From java-user-return-48217-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Wed Dec 29 20:43:23 2010
Return-Path: <java-user-return-48217-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 39628 invoked from network); 29 Dec 2010 20:43:22 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 29 Dec 2010 20:43:22 -0000
Received: (qmail 21316 invoked by uid 500); 29 Dec 2010 20:43:20 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 21246 invoked by uid 500); 29 Dec 2010 20:43:20 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 21238 invoked by uid 99); 29 Dec 2010 20:43:20 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Dec 2010 20:43:20 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of alertli@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 29 Dec 2010 20:43:15 +0000
Received: by fxm2 with SMTP id 2so10072560fxm.35
        for <java-user@lucene.apache.org>; Wed, 29 Dec 2010 12:42:53 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=ApS5kGOM90vbMkcNpsWdIUWmqlS1svAftcG4pcIPH1E=;
        b=erIZbLXLyVNxh1MSaP42WsBhyqwaFqd2FnKu52E2EY9Obj/iTR+gMa36oMZliSbgcc
         EgxlWB8OylliKvFi4vFzMa674tEi5PRorb2P7r25G9n8Zx7at97rcATzh6zJz8YYOSx6
         C0xTaoyB7dQ1Ovn8hra9YqQ4P+G5da18g7etY=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=oth3gPbez+Ib9obPZmPMvmkQsqn3XMan2fMJGkQdXbmspOjhE6tnosTI7Jv4ZR6BIg
         6HQOXV+E8Yf/tjSQUqCHJichpsBg68e+/xxQlLrYMwIHOThDAZKJkR/kxuPf0VbHdioB
         mb5YsYKUzAvmcJuIN+lZMg5RaFBrV5ho2Yvas=
MIME-Version: 1.0
Received: by 10.223.101.138 with SMTP id c10mr6683761fao.120.1293655373699;
 Wed, 29 Dec 2010 12:42:53 -0800 (PST)
Received: by 10.223.104.141 with HTTP; Wed, 29 Dec 2010 12:42:53 -0800 (PST)
In-Reply-To: <480162.10809.qm@web121702.mail.ne1.yahoo.com>
References: <AANLkTimB9m59WL+1uihim_yWF3xwPq-fLn_iFX9RKcO4@mail.gmail.com>
	<480162.10809.qm@web121702.mail.ne1.yahoo.com>
Date: Wed, 29 Dec 2010 15:42:53 -0500
Message-ID: <AANLkTi=4UJ_0_SJEpfRQgxYxLLx0TbKLPPK=aDZ3aeD8@mail.gmail.com>
Subject: Re: relevant score calculation
From: Qi Li <alertli@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=20cf304341f802dcfd0498929d0c

--20cf304341f802dcfd0498929d0c
Content-Type: text/plain; charset=ISO-8859-1

I tried to override the default lengthNorm method with the suggestion in
this link
https://issues.apache.org/jira/browse/LUCENE-2187.
But it will not work because not every number of terms from 1 to 10 has an
unique score.

Here is my solution, which only works for shorter fields.  Welcome any
critiques or better solutions

    private float[] fs = {1.0f, 0.9f, 0.8f, 0.7f, 0.6f, 0.45f, 0.40f, 0.35f,
0.30f, 0.20f};

    @Override
    public float lengthNorm(String fieldName, int numTerms){
        if (numTerms < 11 && numTerms > 0){
            return fs[numTerms -1];
        }
        float result = super.lengthNorm(fieldName, numTerms);
        if (result > 0.1875){
            return 0.1875f;
        }
        return result;
    }

Here is the fieldNorm from 1 to 10
>> # of terms    lengthNorm
>>    1          1.0
>>    2         .875
>>    3         .75
>>    4         .625
>>    5         .5
>>    6         .4375
>>    7         .375
>>    8         .3125
>>    9         .25
>>   10         .1875

Qi



On Wed, Dec 29, 2010 at 9:00 AM, Ahmet Arslan <iorixxx@yahoo.com> wrote:

> > Test case
> >     doc1 :   test -- one two
> > three
> >     doc2 :   test, one two three
> >     doc3 :   one two three
> >
> > Search query :  "one two three" by QueryParser and
> > StandardAnalyzer
> >
> > Question:  why all of three documents have the same
> > score?
>
> As Ian said, length norm values of your all documents are the same.
> See Jay Hill's message at http://search-lucene.com/m/Qw6CZpvRjw/
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--20cf304341f802dcfd0498929d0c--

From java-user-return-48218-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Dec 30 02:30:40 2010
Return-Path: <java-user-return-48218-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 55252 invoked from network); 30 Dec 2010 02:30:40 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 30 Dec 2010 02:30:40 -0000
Received: (qmail 45451 invoked by uid 500); 30 Dec 2010 02:30:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45378 invoked by uid 500); 30 Dec 2010 02:30:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45370 invoked by uid 99); 30 Dec 2010 02:30:38 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Dec 2010 02:30:38 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of goksron@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Dec 2010 02:30:31 +0000
Received: by fxm2 with SMTP id 2so10232575fxm.35
        for <java-user@lucene.apache.org>; Wed, 29 Dec 2010 18:30:11 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type
         :content-transfer-encoding;
        bh=5MRseA+vKhf7gKnx8D8VEr7TO3SZk5dHmKbYXb0hGJU=;
        b=jrpNbWTP6s+plR1w2+m2g2pnteKj014R1B3OyE2u/jtuYjSUFbtri0Gb4A76V4526j
         1sHr5TJgxf1RsfCYRo2dnQOex/NsrSrRFmPfiJoKgzW9Ba5LdMA8k2dJ/icCLNTekeTt
         E42AWYKQXEvwfu64BQSRxCcayjDe07ey2uApQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        b=Utck7Z6fGgn7EHfDopzIUn9fh8yK/X61Vkozy/e/QFu0Gm8JaPT3mBNlvTCqoE6wBA
         pC1m0kmWcIURlFu/oKIjz7N19Vc8Zkhqi6HjXvZyt2E5lHtPMfjtb9C20JOKPKGGc3rJ
         dUFwLxkcVfqSabaCZKjxoRENGKrtj/xlBVUNw=
MIME-Version: 1.0
Received: by 10.223.121.139 with SMTP id h11mr541145far.5.1293676068537; Wed,
 29 Dec 2010 18:27:48 -0800 (PST)
Received: by 10.223.83.201 with HTTP; Wed, 29 Dec 2010 18:27:47 -0800 (PST)
In-Reply-To: <37455700-1293642926-cardhu_decombobulator_blackberry.rim.net-1955853008-@b15.c6.bise7.blackberry>
References: <tencent_016058B91870538D7A4400B4@qq.com>
	<1596394141-1293637049-cardhu_decombobulator_blackberry.rim.net-1951755217-@b15.c6.bise7.blackberry>
	<AANLkTimZpH9BnaDdgrk2K-B3cfwbbwspALsTLnOgHtxW@mail.gmail.com>
	<37455700-1293642926-cardhu_decombobulator_blackberry.rim.net-1955853008-@b15.c6.bise7.blackberry>
Date: Wed, 29 Dec 2010 18:27:47 -0800
Message-ID: <AANLkTim+enpp=Ou=19W7CFbeubJ2k+zRS5GZz5BRosrP@mail.gmail.com>
Subject: Re: Using Lucene to search live, being-edited documents
From: Lance Norskog <goksron@gmail.com>
To: java-user@lucene.apache.org, adam.saltiel@gmail.com
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

Check out the Instantiated contrib for Lucene. This is an alternative
in-memory data structure that does not need commits and is faster (and
larger) than the Lucene Directory system.

On Wed, Dec 29, 2010 at 9:15 AM,  <adam.saltiel@gmail.com> wrote:
> What has this to do with Lucene? You're thinking its index would be faste=
r than your own search algorithm. Would it though? Do you really need an in=
dex or a good pattern matcher? I can't see what the stream buffer being flu=
shed by the user has to do with it? Don't you have to control that behaviou=
r?
>
> Sent using BlackBerry=C2=AE from Orange
>
> -----Original Message-----
> From: software visualization <softwarevisualization@gmail.com>
> Date: Wed, 29 Dec 2010 11:55:17
> To: <java-user@lucene.apache.org>; <adam.saltiel@gmail.com>
> Reply-To: softwarevisualization@gmail.com
> Subject: Re: Using Lucene to search live, being-edited documents
>
> I am writing a text editor and have to provide =C2=A0a certain search
> functionality .
>
> The =C2=A0use case is for single user. A single =C2=A0document is potenti=
ally very
> large and numerous such documents may be open and unflushed at any given
> time. Think many files of an IDE, except the files are larger. The user i=
s
> free to change, say, variables names across documents which may be separa=
te
> files opened simultaneously in a variety of tabs (say) =C2=A0and being ed=
ited
> with no guarantee that the user has flushed or saved any of it.
>
>
>
>
>
> On Wed, Dec 29, 2010 at 10:37 AM, <adam.saltiel@gmail.com> wrote:
>
>> This is interesting. What are we driving at here? A single user? That
>> doesn't make sense to unless you want to flag certain things as they
>> construct the document. Or else why don't they know what is in their own
>> document? There must be other ways apart from Lucene. It seems to me you
>> want each line parsed as soon as entered and matched against some criter=
ia.
>> I would look at plugins for Open Office first. Or any other text editor.=
 But
>> not sure you have given enough information.
>> Sent using BlackBerry=C2=AE from Orange
>>
>> -----Original Message-----
>> From: "Sean" <spacehero@foxmail.com>
>> Date: Wed, 29 Dec 2010 15:35:17
>> To: java-user<java-user@lucene.apache.org>
>> Reply-To: java-user@lucene.apache.org
>> Subject: Re:Using Lucene to search live, being-edited documents
>>
>> Does it make any sense?
>> =C2=A0Every time a search result is shown, the original document could h=
ave been
>> changed, =C2=A0no matter how fast the indexing speed is.
>> If you can accept this inconsistency, you do not need to index so
>> frequently at all.
>>
>>
>> ------------------ Original ------------------
>> From: =C2=A0"software visualization"<softwarevisualization@gmail.com>;
>> Date: =C2=A0Wed, Dec 29, 2010 06:06 AM
>> To: =C2=A0"java-user"<java-user@lucene.apache.org>;
>>
>> Subject: =C2=A0Using Lucene to search live, being-edited documents
>>
>>
>> This has probably been asked before but I couldn't find it, so...
>>
>> Is it possible / advisable / practical to use Lucene as the =C2=A0basis =
of a
>> live
>> document search capability? By "live document" I mean a largish document
>> such as a word processor might be able to handle which is being edited
>> currently. Examples would be Word documents of some size that are begin
>> written, really huge Java files, etc.
>>
>> The user is sitting there typing away and of course everything is changi=
ng
>> in real time. This seems to be orthogonal to the idea of a Lucene index
>> which is costly to construct =C2=A0and costly to update.
>>
>> TIA
>>
>
>



--=20
Lance Norskog
goksron@gmail.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48219-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Dec 30 11:06:26 2010
Return-Path: <java-user-return-48219-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 30509 invoked from network); 30 Dec 2010 11:06:26 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 30 Dec 2010 11:06:26 -0000
Received: (qmail 58833 invoked by uid 500); 30 Dec 2010 11:06:24 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 58439 invoked by uid 500); 30 Dec 2010 11:06:23 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 58431 invoked by uid 99); 30 Dec 2010 11:06:22 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Dec 2010 11:06:22 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of amel.fraisse@gmail.com designates 209.85.216.169 as permitted sender)
Received: from [209.85.216.169] (HELO mail-qy0-f169.google.com) (209.85.216.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Dec 2010 11:06:15 +0000
Received: by qyk7 with SMTP id 7so11995374qyk.14
        for <java-user@lucene.apache.org>; Thu, 30 Dec 2010 03:05:54 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:date:message-id
         :subject:from:to:content-type;
        bh=t+IrfyOKItBcSV4MBqPHgbgkPmoQn3urTyCsiUq5H34=;
        b=Dh51rZZCDfFssmgwnMyKq1AkX8XNozZOBu1sqZw4KtFvbiVggYMDMNADH+SLs7G6dl
         BC/HEmITI8JGY28BBOEP3FCvKU6ah2ePXxcPqGZfgTsmSjl48Zm123FMtSK+uRr7UKNB
         73cWGsE4b9QGyH4LfqZefG8UpcsLRrf1eYeWA=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=O6V5UQoAkZbKe6zwKzqosKdiDW8kQjnSO4BzPgVgBXq9oVCA4pfWnS3XPUPxLjH0lM
         UKnM5VhVx13wqvRBNy8hXQv/3t1drY3OZ6Vx9yDhGp6M1XpSnIUm5Ccv6ZVjMZ5pA7Tv
         VKd6zOf1ngf62smZ9O/kqT5dx64NQ+/SPboaw=
MIME-Version: 1.0
Received: by 10.229.238.148 with SMTP id ks20mr14016867qcb.78.1293707154032;
 Thu, 30 Dec 2010 03:05:54 -0800 (PST)
Received: by 10.229.95.134 with HTTP; Thu, 30 Dec 2010 03:05:54 -0800 (PST)
Date: Thu, 30 Dec 2010 12:05:54 +0100
Message-ID: <AANLkTin+_ryP1JF3Ehd1FnTMgkryk9-GWYvX5JLMCrCw@mail.gmail.com>
Subject: Using Lucene/Solr for Plagiarism detection
From: Amel Fraisse <amel.fraisse@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=00163646b8ee5c07eb04989eab90
X-Virus-Checked: Checked by ClamAV on apache.org

--00163646b8ee5c07eb04989eab90
Content-Type: text/plain; charset=ISO-8859-1

Hello,

I am using Lucene for plagiarism detection.

The goal is that: when I have a new document, I will check on the solr index
if there is a document that contain some common chunk.

So to compute similarity between the query and a source document I would use
this formula :

Score (suspicious document, source document) = Number of common chunk
between source document and suspicious document  / Number of total chunk in
the suspicious document.

So I have to change the scoring formula in the Similarity class.

How can I change the scoring formula? ( by customizing only the Similarity
class? or Scorer?)

Do you have an Example of this use case?

Thank for your help.

--00163646b8ee5c07eb04989eab90--

From java-user-return-48220-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Dec 30 13:58:37 2010
Return-Path: <java-user-return-48220-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 88829 invoked from network); 30 Dec 2010 13:58:37 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 30 Dec 2010 13:58:37 -0000
Received: (qmail 11137 invoked by uid 500); 30 Dec 2010 13:58:35 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10902 invoked by uid 500); 30 Dec 2010 13:58:34 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10890 invoked by uid 99); 30 Dec 2010 13:58:34 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Dec 2010 13:58:34 +0000
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=FREEMAIL_FROM,RFC_ABUSE_POST,SPF_NEUTRAL,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: 216.139.236.26 is neither permitted nor denied by domain of viruslviv@gmail.com)
Received: from [216.139.236.26] (HELO sam.nabble.com) (216.139.236.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Dec 2010 13:58:28 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by sam.nabble.com with esmtp (Exim 4.69)
	(envelope-from <viruslviv@gmail.com>)
	id 1PYJ14-0007df-RH
	for java-user@lucene.apache.org; Thu, 30 Dec 2010 05:58:06 -0800
Date: Thu, 30 Dec 2010 05:58:06 -0800 (PST)
From: viruslviv <viruslviv@gmail.com>
To: java-user@lucene.apache.org
Message-ID: <1293717486821-2167618.post@n3.nabble.com>
Subject: SpanNearQuery doesn't return document if the same word within query
 is repeated
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org


Hello Lucene community!

I am working with Solr/Lucene tool near half of year, and faced with
interesting issue with SpanNearQuery queries. 


Consider we have following text within document (you can find whole document
text below):
"intended recipient of this message or if this message has been addressed"

and query:
(messag within 3 of address) within 5 of messag within 3 of address. 

I was expecting that this query will return me the document, however it
didn't.

However, according to 
http://www.lucidimagination.com/blog/2009/07/18/the-spanquery/ What does it
mean to require that Spans come in order and how do SpanQuerys actually
match?  it looks like that Lucene doesn't see word "message" second time,
but picks up the first one.
I tried to change slop for the last word to 6 ((messag within 3 of address)
within 5 of messag within 6 of address) and the document was returned.
Unfortunately I am not allowed to do widening for queries in runtime. 

Did anyone has such issue and can provide me some information how to omit
this?

Text sample within document (Please note that Snowball analyzer is used
during indexing, this is raw text):

The contents of this e-mail message and
any attachments are intended solely for the
addressee(s) and may contain confidential
and/or legally privileged information. If you
are not the intended recipient of this message
or if this message has been addressed to you
in error, please immediately alert the sender
 by reply e-mail and then delete this message
and any attachments. If you are not the
intended recipient, you are notified that
any use, dissemination, distribution, copying,
or storage of this message or any attachment
is strictly prohibited.


Code:

public static void main(String ... args) throws Exception,
            CorruptIndexException, IOException {
        SpanNearQuery spanNear = new SpanNearQuery(new SpanQuery[] {
                new SpanTermQuery(new Term(BODY, "intend")),
                new SpanTermQuery(new Term(BODY, "messag"))},
                4,
                false);
        SpanNearQuery spanNear2 = new SpanNearQuery(new SpanQuery[]
{spanNear, new SpanTermQuery(new Term(BODY, "messag"))}, 5, false);
        SpanNearQuery spanNear3 = new SpanNearQuery(new SpanQuery[]
{spanNear2, new SpanTermQuery(new Term(BODY, "address"))}, 3, false);
        Directory directory = SimpleFSDirectory("C:\\\\20\\index");
        IndexSearcher searcher = new IndexSearcher(directory);
        searcher.setDefaultFieldSortScoring(true, false);
        TopDocs results = searcher.search(spanNear3, null, 20,
Sort.RELEVANCE);
        //Iterator it = results.iterator();

        for (ScoreDoc sd : results.scoreDocs) {
            int docID = sd.doc;
            float score = sd.score;
            System.out.println("Doc id: " + docID + " ,score: " + score);
        }
        searcher.close();
    }

-- 
View this message in context: http://lucene.472066.n3.nabble.com/SpanNearQuery-doesn-t-return-document-if-the-same-word-within-query-is-repeated-tp2167618p2167618.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48221-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Dec 30 14:48:01 2010
Return-Path: <java-user-return-48221-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 10702 invoked from network); 30 Dec 2010 14:48:01 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 30 Dec 2010 14:48:01 -0000
Received: (qmail 68155 invoked by uid 500); 30 Dec 2010 14:47:59 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 67729 invoked by uid 500); 30 Dec 2010 14:47:58 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 67721 invoked by uid 99); 30 Dec 2010 14:47:58 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Dec 2010 14:47:58 +0000
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=FREEMAIL_FROM,RFC_ABUSE_POST,SPF_NEUTRAL,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: 216.139.236.26 is neither permitted nor denied by domain of viruslviv@gmail.com)
Received: from [216.139.236.26] (HELO sam.nabble.com) (216.139.236.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Dec 2010 14:47:51 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by sam.nabble.com with esmtp (Exim 4.69)
	(envelope-from <viruslviv@gmail.com>)
	id 1PYJms-0002VF-Ue
	for java-user@lucene.apache.org; Thu, 30 Dec 2010 06:47:30 -0800
Date: Thu, 30 Dec 2010 06:47:30 -0800 (PST)
From: viruslviv <viruslviv@gmail.com>
To: java-user@lucene.apache.org
Message-ID: <1293720450788-2167824.post@n3.nabble.com>
In-Reply-To: <1293717486821-2167618.post@n3.nabble.com>
References: <1293717486821-2167618.post@n3.nabble.com>
Subject: Re: SpanNearQuery doesn't return document if the same word within
 query is repeated
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org


Sorry, 


An error in post with query, correct one is (the code has correct version):
(intend within 3 of messag) within 5 of messag within 3 of address. 
-- 
View this message in context: http://lucene.472066.n3.nabble.com/SpanNearQuery-doesn-t-return-document-if-the-same-word-within-query-is-repeated-tp2167618p2167824.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48222-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Dec 30 16:23:17 2010
Return-Path: <java-user-return-48222-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 48714 invoked from network); 30 Dec 2010 16:23:17 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 30 Dec 2010 16:23:17 -0000
Received: (qmail 89901 invoked by uid 500); 30 Dec 2010 16:23:15 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 89569 invoked by uid 500); 30 Dec 2010 16:23:11 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 89561 invoked by uid 99); 30 Dec 2010 16:23:11 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Dec 2010 16:23:11 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of shashi.mit@gmail.com designates 74.125.82.176 as permitted sender)
Received: from [74.125.82.176] (HELO mail-wy0-f176.google.com) (74.125.82.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Dec 2010 16:23:04 +0000
Received: by wye20 with SMTP id 20so11681776wye.35
        for <java-user@lucene.apache.org>; Thu, 30 Dec 2010 08:22:43 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:sender:received
         :in-reply-to:references:from:date:x-google-sender-auth:message-id
         :subject:to:content-type:content-transfer-encoding;
        bh=cIj1Xp0xbVsZA2hQOE7jjQlbbmp4GRK84x5yeokwzOY=;
        b=hqB68JDrGpxqLjKXkEmwbv1ujFPGAlTUTRBaelFigKbRe8M4O9+SU6I12XSUL7xpNt
         7dlyc/PDJ+eBi32Lo6d7PURilC7QxVS8am/RkfSGFX752YVxiMCrzvIKENUe23ltL30r
         cOQ5VQehqgR+0Ze48qWCL4RwdHzTir478k9Ts=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:sender:in-reply-to:references:from:date
         :x-google-sender-auth:message-id:subject:to:content-type
         :content-transfer-encoding;
        b=l75hd4KV0BJ55qjAaPI5a4YTBZ/gZSZAPJbrq4RX+UBX/9x72tcC+Vttno/xNO/dlA
         GgDXqdUePzDRUfZpvbMRG8jo64Y9A59nqcsRKTORpFhTgDX/NyGSOwL2XA6f4jqqPe/Y
         iPRXz1Fubt4b//gIWwC+fRLZOwzWIKfzljHfA=
Received: by 10.216.17.201 with SMTP id j51mr2403163wej.44.1293726163480; Thu,
 30 Dec 2010 08:22:43 -0800 (PST)
MIME-Version: 1.0
Sender: shashi.mit@gmail.com
Received: by 10.216.134.84 with HTTP; Thu, 30 Dec 2010 08:22:13 -0800 (PST)
In-Reply-To: <AANLkTin+_ryP1JF3Ehd1FnTMgkryk9-GWYvX5JLMCrCw@mail.gmail.com>
References: <AANLkTin+_ryP1JF3Ehd1FnTMgkryk9-GWYvX5JLMCrCw@mail.gmail.com>
From: Shashi Kant <skant@sloan.mit.edu>
Date: Thu, 30 Dec 2010 11:22:13 -0500
X-Google-Sender-Auth: F9Gx26KSuFEAxbwryfs-9yxr-1c
Message-ID: <AANLkTim-f989TWhA8=V+uZ5dyScHy0m4n6maj8TzmQz5@mail.gmail.com>
Subject: Re: Using Lucene/Solr for Plagiarism detection
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

Have you considered using document similarity metrics such as Cosine Simila=
rity?


On Thu, Dec 30, 2010 at 6:05 AM, Amel Fraisse <amel.fraisse@gmail.com> wrot=
e:
> Hello,
>
> I am using Lucene for plagiarism detection.
>
> The goal is that: when I have a new document, I will check on the solr in=
dex
> if there is a document that contain some common chunk.
>
> So to compute similarity between the query and a source document I would =
use
> this formula :
>
> Score (suspicious document, source document) =3D Number of common chunk
> between source document and suspicious document =A0/ Number of total chun=
k in
> the suspicious document.
>
> So I have to change the scoring formula in the Similarity class.
>
> How can I change the scoring formula? ( by customizing only the Similarit=
y
> class? or Scorer?)
>
> Do you have an Example of this use case?
>
> Thank for your help.
>

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48223-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Dec 30 16:28:58 2010
Return-Path: <java-user-return-48223-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49143 invoked from network); 30 Dec 2010 16:28:58 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 30 Dec 2010 16:28:58 -0000
Received: (qmail 93170 invoked by uid 500); 30 Dec 2010 16:28:56 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 92929 invoked by uid 500); 30 Dec 2010 16:28:53 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 92921 invoked by uid 99); 30 Dec 2010 16:28:53 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Dec 2010 16:28:53 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of amel.fraisse@gmail.com designates 209.85.216.169 as permitted sender)
Received: from [209.85.216.169] (HELO mail-qy0-f169.google.com) (209.85.216.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Dec 2010 16:28:46 +0000
Received: by qyk7 with SMTP id 7so12254023qyk.14
        for <java-user@lucene.apache.org>; Thu, 30 Dec 2010 08:28:26 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=NYD6ETElADUZRB6KWaZAKVuxtPRwHr7SCTJ+DvDjv50=;
        b=eckCpPq89v83DZUXFFrXRsm4i/bUHjZBOCWoV8TFCjqeL3xqqbxSbFXuFTlRxj6n5N
         JRCA8DIoxfm11IsG/aHuXmqrS1gYz4XvfgY0YKZG8jB6W5qttlzWrHjF2Dhiu53A3b+j
         pmSESFJwdqvPTA/n3dPGdVx65ByKYLKjjOm14=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=CWwKb/AQXYkYaUG+d8RKKdGWRsGtsge82bBBA3KHPRfuEVQnryXoAqKIkH5Oafdhgq
         aokRFaR5OH+Pe/xR+oAVunmKt4UeenrDTKQi8zu1np70eoRUk2fwjuS/jRH2i4zFFGSN
         jJ6wIKVhkPym6co5ChkI3gYHRimKCsx4dAtEA=
MIME-Version: 1.0
Received: by 10.229.109.197 with SMTP id k5mr14135065qcp.268.1293726506097;
 Thu, 30 Dec 2010 08:28:26 -0800 (PST)
Received: by 10.229.95.134 with HTTP; Thu, 30 Dec 2010 08:28:26 -0800 (PST)
In-Reply-To: <AANLkTim-f989TWhA8=V+uZ5dyScHy0m4n6maj8TzmQz5@mail.gmail.com>
References: <AANLkTin+_ryP1JF3Ehd1FnTMgkryk9-GWYvX5JLMCrCw@mail.gmail.com>
	<AANLkTim-f989TWhA8=V+uZ5dyScHy0m4n6maj8TzmQz5@mail.gmail.com>
Date: Thu, 30 Dec 2010 17:28:26 +0100
Message-ID: <AANLkTikg4JFCJnhJgS+jQ9bbdb_2Umi2E7Fc8_bepfkk@mail.gmail.com>
Subject: Re: Using Lucene/Solr for Plagiarism detection
From: Amel Fraisse <amel.fraisse@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=001636310761d51dc10498a32c3e

--001636310761d51dc10498a32c3e
Content-Type: text/plain; charset=ISO-8859-1

Hello,

No I'm not using cosine similarity metrics.


2010/12/30 Shashi Kant <skant@sloan.mit.edu>

> Have you considered using document similarity metrics such as Cosine
> Similarity?
>
>
> On Thu, Dec 30, 2010 at 6:05 AM, Amel Fraisse <amel.fraisse@gmail.com>
> wrote:
> > Hello,
> >
> > I am using Lucene for plagiarism detection.
> >
> > The goal is that: when I have a new document, I will check on the solr
> index
> > if there is a document that contain some common chunk.
> >
> > So to compute similarity between the query and a source document I would
> use
> > this formula :
> >
> > Score (suspicious document, source document) = Number of common chunk
> > between source document and suspicious document  / Number of total chunk
> in
> > the suspicious document.
> >
> > So I have to change the scoring formula in the Similarity class.
> >
> > How can I change the scoring formula? ( by customizing only the
> Similarity
> > class? or Scorer?)
> >
> > Do you have an Example of this use case?
> >
> > Thank for your help.
> >
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>


-- 
--------------
Amel Fraisse

--001636310761d51dc10498a32c3e--

From java-user-return-48224-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Dec 30 19:15:43 2010
Return-Path: <java-user-return-48224-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 15419 invoked from network); 30 Dec 2010 19:15:43 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 30 Dec 2010 19:15:43 -0000
Received: (qmail 46087 invoked by uid 500); 30 Dec 2010 19:15:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45947 invoked by uid 500); 30 Dec 2010 19:15:41 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45939 invoked by uid 99); 30 Dec 2010 19:15:41 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Dec 2010 19:15:41 +0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=RCVD_IN_DNSWL_NONE,SPF_HELO_PASS,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [212.227.17.9] (HELO moutng.kundenserver.de) (212.227.17.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Dec 2010 19:15:33 +0000
Received: from brouwer.fritz.box (srbk-5d801dd2.pool.mediaWays.net [93.128.29.210])
	by mrelayeu.kundenserver.de (node=mrbap2) with ESMTP (Nemesis)
	id 0LlHiI-1Q6tlg3TwU-00aURh; Thu, 30 Dec 2010 20:15:10 +0100
From: Paul Libbrecht <paul@hoplahup.net>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: quoted-printable
Subject: Comment in query-parser?
Date: Thu, 30 Dec 2010 20:15:05 +0100
Message-Id: <77B4F7DD-9D06-4BE6-AA04-EF97E012474F@hoplahup.net>
To: java-user@lucene.apache.org
Mime-Version: 1.0 (Apple Message framework v1082)
X-Mailer: Apple Mail (2.1082)
X-Provags-ID: V02:K0:y7Fa/Hp2cchbfWjWJT8vI0NICB9ZmJ9rUr4vXoitllh
 vK5UhQcr81A/oM0tIwT3HQMrxD7uOP9RrCbz7mez5UnWIbtfrk
 tL8VHk9z/384vgi5u89BRNHLVxyMZrNDF/SGrQDay0c5SFXyAd
 ELvGim+fPqiPgzEy+N0m2Lghg4FRVo1qH3elYgAwSbA2ncL+ih
 1rH/SMvfdXJ/p6JhfO+r1UU1gQGqzLMbqSZQAkKjEs=


I'm more and more involved into preparing dedicated pages that list =
resources of our servers according to an elaborate query I received in a =
human description and "implement" as a query-parser query. Doing this I =
regularly use "indexed-doc" views.

The implementation is thus a query that could be somewhat long and would =
enjoy illuminating comments.

Is there anything in the query parser that would be considered ignored =
till the end of the line?
Currently I'm using a fancy field but it introduces a useless query.

thanks in advance

paul=

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48225-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Thu Dec 30 19:52:08 2010
Return-Path: <java-user-return-48225-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20866 invoked from network); 30 Dec 2010 19:52:07 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 30 Dec 2010 19:52:07 -0000
Received: (qmail 94526 invoked by uid 500); 30 Dec 2010 19:52:05 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 94407 invoked by uid 500); 30 Dec 2010 19:52:05 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 94399 invoked by uid 99); 30 Dec 2010 19:52:05 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Dec 2010 19:52:05 +0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [212.97.32.66] (HELO smtp-out-03.comm2000.it) (212.97.32.66)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 30 Dec 2010 19:51:56 +0000
Received: from [192.168.0.4] (250.188.173.62.dsl.static.ip.kpnqwest.it [62.173.188.250])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by smtp-out-03.comm2000.it (Postfix) with ESMTP id 0A2342D6A38
	for <java-user@lucene.apache.org>; Thu, 30 Dec 2010 20:51:35 +0100 (CET)
Message-ID: <4D1CE2C6.7000903@fissore.org>
Date: Thu, 30 Dec 2010 20:51:34 +0100
From: Federico Fissore <federico@fissore.org>
User-Agent: Mozilla/5.0 (X11; U; Linux x86_64; en-US; rv:1.9.2.13) Gecko/20101208 Thunderbird/3.1.7
MIME-Version: 1.0
To: java-user@lucene.apache.org
Subject: Re: Comment in query-parser?
References: <77B4F7DD-9D06-4BE6-AA04-EF97E012474F@hoplahup.net>
In-Reply-To: <77B4F7DD-9D06-4BE6-AA04-EF97E012474F@hoplahup.net>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Paul Libbrecht, il 30/12/2010 20:15, ha scritto:
[...]

> Is there anything in the query parser that would be considered ignored till the end of the line?
> Currently I'm using a fancy field but it introduces a useless query.
>

I would make a CommentFilter and put it in an Analyzer I would give to 
the standard query parser

federico

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48226-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Fri Dec 31 00:23:40 2010
Return-Path: <java-user-return-48226-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 12426 invoked from network); 31 Dec 2010 00:23:40 -0000
Received: from unknown (HELO mail.apache.org) (140.211.11.3)
  by 140.211.11.9 with SMTP; 31 Dec 2010 00:23:40 -0000
Received: (qmail 6117 invoked by uid 500); 31 Dec 2010 00:23:37 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 6054 invoked by uid 500); 31 Dec 2010 00:23:37 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 6046 invoked by uid 99); 31 Dec 2010 00:23:37 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 31 Dec 2010 00:23:37 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of goksron@gmail.com designates 209.85.161.48 as permitted sender)
Received: from [209.85.161.48] (HELO mail-fx0-f48.google.com) (209.85.161.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 31 Dec 2010 00:23:30 +0000
Received: by fxm2 with SMTP id 2so10928942fxm.35
        for <java-user@lucene.apache.org>; Thu, 30 Dec 2010 16:23:10 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type
         :content-transfer-encoding;
        bh=M1WvCVlm13Z5ti7dCWpddtFknFKCT2Budh3hrdNBF7c=;
        b=bgxP+vno1UpxKWlC7ARcKcWQjpxFGVltLblepaMhSkChkMocJ+e3Rz1dJkKUi6IZem
         E8XIM/o7zUXTjISDeWM4nELOntLptMQAA8z5gpPf3GkFYJbQpbe2cD55NV5W1gG2scSk
         9HN0Yk4CBcrOb+pAUFFjNG+C3S12eQtXxG+AE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        b=JjsLwowKTMU/rcbByfVTYiCTbQ7Z+jzw6n0sqDiUn0/j5ZMPy2hqRkHDO5DsPyGsnw
         wWYOEDJI+G36mNykFgNOz/qABrKbganXxB0tDXRq3p6aK3dXj8X8rAKqQXMJB7i3HAfc
         25/BjajIbqQQhC+Dz4MN4J0Cu+HUf+2i4Y2+k=
MIME-Version: 1.0
Received: by 10.223.121.139 with SMTP id h11mr1677370far.5.1293754990015; Thu,
 30 Dec 2010 16:23:10 -0800 (PST)
Received: by 10.223.83.201 with HTTP; Thu, 30 Dec 2010 16:23:09 -0800 (PST)
In-Reply-To: <AANLkTikg4JFCJnhJgS+jQ9bbdb_2Umi2E7Fc8_bepfkk@mail.gmail.com>
References: <AANLkTin+_ryP1JF3Ehd1FnTMgkryk9-GWYvX5JLMCrCw@mail.gmail.com>
	<AANLkTim-f989TWhA8=V+uZ5dyScHy0m4n6maj8TzmQz5@mail.gmail.com>
	<AANLkTikg4JFCJnhJgS+jQ9bbdb_2Umi2E7Fc8_bepfkk@mail.gmail.com>
Date: Thu, 30 Dec 2010 16:23:09 -0800
Message-ID: <AANLkTikQE8A4CeUdFwtji4_gzb03WHNg2wLDcc_-V=Ca@mail.gmail.com>
Subject: Re: Using Lucene/Solr for Plagiarism detection
From: Lance Norskog <goksron@gmail.com>
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

The MoreLikeThis feature may be exactly what you want. Try it out.

On Thu, Dec 30, 2010 at 8:28 AM, Amel Fraisse <amel.fraisse@gmail.com> wrot=
e:
> Hello,
>
> No I'm not using cosine similarity metrics.
>
>
> 2010/12/30 Shashi Kant <skant@sloan.mit.edu>
>
>> Have you considered using document similarity metrics such as Cosine
>> Similarity?
>>
>>
>> On Thu, Dec 30, 2010 at 6:05 AM, Amel Fraisse <amel.fraisse@gmail.com>
>> wrote:
>> > Hello,
>> >
>> > I am using Lucene for plagiarism detection.
>> >
>> > The goal is that: when I have a new document, I will check on the solr
>> index
>> > if there is a document that contain some common chunk.
>> >
>> > So to compute similarity between the query and a source document I wou=
ld
>> use
>> > this formula :
>> >
>> > Score (suspicious document, source document) =3D Number of common chun=
k
>> > between source document and suspicious document =C2=A0/ Number of tota=
l chunk
>> in
>> > the suspicious document.
>> >
>> > So I have to change the scoring formula in the Similarity class.
>> >
>> > How can I change the scoring formula? ( by customizing only the
>> Similarity
>> > class? or Scorer?)
>> >
>> > Do you have an Example of this use case?
>> >
>> > Thank for your help.
>> >
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
>> For additional commands, e-mail: java-user-help@lucene.apache.org
>>
>>
>
>
> --
> --------------
> Amel Fraisse
>



--=20
Lance Norskog
goksron@gmail.com

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48230-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Jan 01 17:18:21 2011
Return-Path: <java-user-return-48230-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 24905 invoked from network); 1 Jan 2011 17:18:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 1 Jan 2011 17:18:21 -0000
Received: (qmail 78258 invoked by uid 500); 1 Jan 2011 01:02:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 78227 invoked by uid 500); 1 Jan 2011 01:02:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 78218 invoked by uid 99); 1 Jan 2011 01:02:16 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 01 Jan 2011 01:02:16 +0000
X-ASF-Spam-Status: No, hits=0.7 required=10.0
	tests=RCVD_IN_DNSWL_NONE,SPF_HELO_PASS,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [212.227.126.187] (HELO moutng.kundenserver.de) (212.227.126.187)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 01 Jan 2011 01:02:08 +0000
Received: from brouwer.fritz.box (srbk-4d0b9293.pool.mediaWays.net [77.11.146.147])
	by mrelayeu.kundenserver.de (node=mrbap1) with ESMTP (Nemesis)
	id 0MP1NP-1PT2gn2UuV-00666w; Sat, 01 Jan 2011 02:01:46 +0100
From: Paul Libbrecht <paul@hoplahup.net>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: quoted-printable
Subject: two IndexSearchers on one dir?
Date: Sat, 1 Jan 2011 02:01:45 +0100
Message-Id: <08E1F602-7E01-4EBB-9962-E0411F45F007@hoplahup.net>
To: java-user@lucene.apache.org
Mime-Version: 1.0 (Apple Message framework v1082)
X-Mailer: Apple Mail (2.1082)
X-Provags-ID: V02:K0:n3o6LxFs1Oys1Fdqlf8uA+5SwFlhv1oQ/wQpPXbeVi0
 F1++qjdUnCttIl2cXwTusGcc1F33QsCGbP/Y9mImK64rJUyygV
 8+5c4jWgV9J52NSHB/D77QH5VJ8Rq/Xw32S+e9GEDEZAOE1uK4
 UXbqKH6gWVM1pUYUxaQKd75sf2WQMMbufajnhFPP+xSSLaJTgS
 K1MtszmH+dGyPwBQ1YsQn1pZXmiM9D7maZoJ14iMAM=


Hello list,

is it a good or bad thing to open to index-searchers on FSDirectories of =
the same path?

(namely, one short-lived, one long-lived).

thanks in advance

paul=

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48227-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Jan 01 17:36:10 2011
Return-Path: <java-user-return-48227-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 47283 invoked from network); 1 Jan 2011 17:36:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 1 Jan 2011 17:36:09 -0000
Received: (qmail 86736 invoked by uid 500); 31 Dec 2010 16:26:07 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 86446 invoked by uid 500); 31 Dec 2010 16:26:07 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Delivered-To: moderator for java-user@lucene.apache.org
Received: (qmail 12931 invoked by uid 99); 31 Dec 2010 11:12:34 -0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1293793924; bh=q48JBGuoiUY7EO11IPYrbvvY/HlwQjapJWoR81HT7xk=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type; b=c6//jzl6WyGGkxOu6B8oXm+qJTu2aKkVTCpHBAZwwlZ4IiZlRpIh0/zIyzSdEUq884q+qS9jRkZBlk53Ck0U0E1/tn1D8XEXjiulcIt4OxwvbiJVouLdrqAbRWIXcS95AnYcoXMK0dbTOF5x5yI7tkQwtQUSBYdfd4ZjjaGR1aY=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type;
  b=yBny3xI9OtlsiiLaF0PMuCFUeNQmH2cp/wMFgPW6DQuWmWxEWpgBYrSaMXgGukSz4hu/BDS2o6TaIvW232MmGFxQRdsK6Awd1poNHzSzizZBlC9iA3DT8d9mGu6W13CPpQ5F2wYKgS9Y4ThX2prN/g0hMDkw/h4S4uIJK05J0P4=;
Message-ID: <151986.56456.qm@web114720.mail.gq1.yahoo.com>
X-YMail-OSG: EeJ2qbwVM1k.j1cfU77ujWs6FL.DxW_.eePa6ZWy4vIYXbz
 VW8Fy621wchJUfEoJ11E.VlvzgooL8d5.cUFxhhsEC3oaIyE6MjIq1fwhIUt
 oZWsIEup1XobvT28f2RMtlEe0SNn8SssFRpxvLQ3K59dQKWlm76t1QcN4t6h
 MoaxeA6t6QkLwhTgQ8nbCAVKAglpyYXNk64QQEo1LBig.9DTD1WxFeNPJQu9
 FXElIDPaA2yOGe4Xf44_Ha.rXA7t7CHlNdpCgFlX4ksh92L.78KcMpiH3YKZ
 mmMnR3MYI7REr3VYBhcWZ.ljUWmhIVlZUr40ZJo.2wzOgu9LMFxk2jWCNjH7
 7uPYHFj5qeLRAp8L07AYxOsdxEbY8On9YlcmvSesGZjKPku17rTCYtfd8xvv
 r_0tcvUhJQhI-
X-Mailer: YahooMailRC/553 YahooMailWebService/0.8.107.285259
Date: Fri, 31 Dec 2010 03:12:04 -0800 (PST)
From: Benzion G <benzionk@yahoo.com>
Subject: parsing Java log file with Lucene 3.0.3
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-497718565-1293793924=:56456"
X-Virus-Checked: Checked by ClamAV on apache.org

--0-497718565-1293793924=:56456
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

Hi,=0A=0AI need to parse the Java log files with Lucene 3.0.3. The Standard=
Analyzer is =0AOK, except it's handling of dots.=0A=0AE.g. it handles "java=
.lang.NullPointerException" as one word and=A0searching for =0A"NullPointer=
Exception" will bring nothing.=0A=0AI=A0need an Analyzer that will work as =
StandardAnalyzer,but will handle dots as =0Aword separators (e.g. as it han=
dles commas).=0A=0APlease advice.=0A=0AThanks.=0A=A0=0ARegards,=0ABenzion.=
=0A=0A=0A      
--0-497718565-1293793924=:56456--

From java-user-return-48229-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Jan 01 17:37:16 2011
Return-Path: <java-user-return-48229-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 49106 invoked from network); 1 Jan 2011 17:37:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 1 Jan 2011 17:37:16 -0000
Received: (qmail 12662 invoked by uid 500); 31 Dec 2010 19:41:14 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 12614 invoked by uid 500); 31 Dec 2010 19:41:13 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 12606 invoked by uid 99); 31 Dec 2010 19:41:13 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 31 Dec 2010 19:41:13 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of erickerickson@gmail.com designates 209.85.216.176 as permitted sender)
Received: from [209.85.216.176] (HELO mail-qy0-f176.google.com) (209.85.216.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 31 Dec 2010 19:41:07 +0000
Received: by qyk10 with SMTP id 10so12469428qyk.14
        for <java-user@lucene.apache.org>; Fri, 31 Dec 2010 11:40:47 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=ZeRePpue2tUajossbTLJ9z/Xha1NU0uowjTzUSHilGQ=;
        b=W3H9Z6Fgp4XLDmDjAF4asUsZXGvO6qiDK2uSQOu4l4IwtR9OZ5BqEjXo/CyVFmZrc7
         k00pIF5+vLNQCS+F/6i5pp6GsB131SpV4KlTZdodKDe7CUY4uMHb+z6nrG5ZX2xbGdK4
         WgKW/vUORep97Y2Dor/psJGxUod8+x379GB7c=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=GHS4any0gCuaxbaZKtQeuwm3tZh6tgNl6IwZlzaOpvYdZThjOEDPitde+4iZQpSPFs
         pGFE+jtWI6cOUP/xt6pIuVabvXK2FHX+ifsOH9wM21OfE9N5pwEVdH2kpUubhEQIodR3
         plL1QpNrpesJxKivYaaDggbtCFCs8GmWc9U84=
MIME-Version: 1.0
Received: by 10.229.236.193 with SMTP id kl1mr16482512qcb.114.1293824446937;
 Fri, 31 Dec 2010 11:40:46 -0800 (PST)
Received: by 10.229.235.208 with HTTP; Fri, 31 Dec 2010 11:40:46 -0800 (PST)
In-Reply-To: <151986.56456.qm@web114720.mail.gq1.yahoo.com>
References: <151986.56456.qm@web114720.mail.gq1.yahoo.com>
Date: Fri, 31 Dec 2010 14:40:46 -0500
Message-ID: <AANLkTikJUOTD64EVo1anAqCy1Qdb9qejRUd64ZmXbjEF@mail.gmail.com>
Subject: Re: parsing Java log file with Lucene 3.0.3
From: Erick Erickson <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016e64ca45a8fb9680498b9fad5

--0016e64ca45a8fb9680498b9fad5
Content-Type: text/plain; charset=ISO-8859-1

Have you looked at:
http://wiki.apache.org/solr/AnalyzersTokenizersTokenFilters

Best
Erick

On Fri, Dec 31, 2010 at 6:12 AM, Benzion G <benzionk@yahoo.com> wrote:

> Hi,
>
> I need to parse the Java log files with Lucene 3.0.3. The StandardAnalyzer
> is
> OK, except it's handling of dots.
>
> E.g. it handles "java.lang.NullPointerException" as one word and searching
> for
> "NullPointerException" will bring nothing.
>
> I need an Analyzer that will work as StandardAnalyzer,but will handle dots
> as
> word separators (e.g. as it handles commas).
>
> Please advice.
>
> Thanks.
>
> Regards,
> Benzion.
>
>
>

--0016e64ca45a8fb9680498b9fad5--

From java-user-return-48228-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Jan 01 18:21:44 2011
Return-Path: <java-user-return-48228-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 95972 invoked from network); 1 Jan 2011 18:21:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 1 Jan 2011 18:21:43 -0000
Received: (qmail 10793 invoked by uid 500); 31 Dec 2010 17:11:41 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 10571 invoked by uid 500); 31 Dec 2010 17:11:40 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 10563 invoked by uid 99); 31 Dec 2010 17:11:40 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 31 Dec 2010 17:11:40 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of hasan.diwan@gmail.com designates 74.125.82.48 as permitted sender)
Received: from [74.125.82.48] (HELO mail-ww0-f48.google.com) (74.125.82.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 31 Dec 2010 17:11:32 +0000
Received: by wwd20 with SMTP id 20so11891162wwd.5
        for <java-user@lucene.apache.org>; Fri, 31 Dec 2010 09:11:12 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:in-reply-to
         :references:from:date:message-id:subject:to:content-type
         :content-transfer-encoding;
        bh=GFlaytbhXwVu1S5g4DTZpi9qOY9giDysElIfm+MT5eU=;
        b=FiH+vQEX5TvZXPizWt4faepMEpTrixjcjXm1TaoV4tXYiUILPMUICvjztMj8mCNLck
         RnCxfEVHssdj+Tn8CjyU3qT4e0C5lINNlFUPOT6+JMUorOOPEEE46gKjudPRAJ39ReIA
         7PeRIA2Prh2gfQ6bnOgzdO8LHqzrQ+rhKT/90=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        b=WFuTDMS6Jlps8JaZbrLgTKTnEsehjAtw9FVW1z4ozWDuCPzbL7gDomKw0q/3IXeeuK
         zrZ79LIxg50n1boQ0dfsLMT3dRIp/ioRd3Ov/IqsNQlBwtSDKEZlSTKFbHL+P2NfHpnw
         5FA2wdKD2DzvMGdqfWYuToDK38kLu6wRBfuX8=
Received: by 10.216.171.76 with SMTP id q54mr8446224wel.93.1293815472166; Fri,
 31 Dec 2010 09:11:12 -0800 (PST)
MIME-Version: 1.0
Received: by 10.216.50.70 with HTTP; Fri, 31 Dec 2010 09:10:52 -0800 (PST)
In-Reply-To: <151986.56456.qm@web114720.mail.gq1.yahoo.com>
References: <151986.56456.qm@web114720.mail.gq1.yahoo.com>
From: Hasan Diwan <hasan.diwan@gmail.com>
Date: Fri, 31 Dec 2010 17:10:52 +0000
Message-ID: <AANLkTinVW4-BoB_-ppPu4So+Su-Jrsbo=J2riwhQm=7g@mail.gmail.com>
Subject: Re: parsing Java log file with Lucene 3.0.3
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

On 31 December 2010 11:12, Benzion G <benzionk@yahoo.com> wrote:
> I need to parse the Java log files with Lucene 3.0.3. The StandardAnalyze=
r is
> OK, except it's handling of dots.
>
> E.g. it handles "java.lang.NullPointerException" as one word and=C2=A0sea=
rching for
> "NullPointerException" will bring nothing.
>
> I=C2=A0need an Analyzer that will work as StandardAnalyzer,but will handl=
e dots as
> word separators (e.g. as it handles commas).

Before you hand it to the Analyzer, why not run a line.replace(".",",")?
--=20
Sent from my mobile device
Envoyait de mon telephone mobil

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48231-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Jan 01 18:31:40 2011
Return-Path: <java-user-return-48231-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 9983 invoked from network); 1 Jan 2011 18:31:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 1 Jan 2011 18:31:39 -0000
Received: (qmail 18133 invoked by uid 500); 1 Jan 2011 02:23:38 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 18098 invoked by uid 500); 1 Jan 2011 02:23:38 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 18090 invoked by uid 99); 1 Jan 2011 02:23:38 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 01 Jan 2011 02:23:38 +0000
X-ASF-Spam-Status: No, hits=1.5 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of erickerickson@gmail.com designates 209.85.216.176 as permitted sender)
Received: from [209.85.216.176] (HELO mail-qy0-f176.google.com) (209.85.216.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 01 Jan 2011 02:23:32 +0000
Received: by qyk10 with SMTP id 10so12589169qyk.14
        for <java-user@lucene.apache.org>; Fri, 31 Dec 2010 18:23:12 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=+DjmLVbVI+pPNl8AJ3YF7mmVeaOt+VeHeqQ7JI8/avw=;
        b=tRiiq3HBBhdSuU1s28qP8TKK2hL6ARNuL4QrXtb3qYnu+kbfNxutmunAZ58aXX7CML
         X+bPUjf97SO5b5KjaP7MX7gBvNUuCs6tBMqHee+MYDx8d9FPeuc2SO4bmIsjQilQlWLk
         LqDhLqhmZ5mJ19mIRpMmbi/zjYLE/F5j9q0k4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=aEclPkYuj1TTLMCvj7cQ1GrWVcYZ20qPQq66C3L94u5Z/rMDmZgeRFF50lPufe1lzi
         KibRr2C4u8yNuCFUMZyu1hgXCqYpgOgvCedjYP0mVjSfoQ9JtIbExzycHHL3i2KyjpjN
         w3SHdgh2a2dseoUXbIzRS7WIeqkRBaTkm86VQ=
MIME-Version: 1.0
Received: by 10.229.241.13 with SMTP id lc13mr17184187qcb.190.1293848592094;
 Fri, 31 Dec 2010 18:23:12 -0800 (PST)
Received: by 10.229.235.208 with HTTP; Fri, 31 Dec 2010 18:23:12 -0800 (PST)
In-Reply-To: <08E1F602-7E01-4EBB-9962-E0411F45F007@hoplahup.net>
References: <08E1F602-7E01-4EBB-9962-E0411F45F007@hoplahup.net>
Date: Fri, 31 Dec 2010 21:23:12 -0500
Message-ID: <AANLkTimzad1kA-Xj-wZZarQ1xLugQgS_xXXs9+4M1dQ+@mail.gmail.com>
Subject: Re: two IndexSearchers on one dir?
From: Erick Erickson <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=0016363b8efcb998bf0498bf9930

--0016363b8efcb998bf0498bf9930
Content-Type: text/plain; charset=ISO-8859-1

It's not a problem, but it's best to share the underlying reader. You
could open your short-lived searcher by getting a reader
via getIndexReader() on your long-lived searcher....

What's the underlying use-case you're trying to make happen?

Best
Erick

On Fri, Dec 31, 2010 at 8:01 PM, Paul Libbrecht <paul@hoplahup.net> wrote:

>
> Hello list,
>
> is it a good or bad thing to open to index-searchers on FSDirectories of
> the same path?
>
> (namely, one short-lived, one long-lived).
>
> thanks in advance
>
> paul
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--0016363b8efcb998bf0498bf9930--

From java-user-return-48232-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Jan 01 21:32:51 2011
Return-Path: <java-user-return-48232-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 16912 invoked from network); 1 Jan 2011 21:32:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 1 Jan 2011 21:32:50 -0000
Received: (qmail 36585 invoked by uid 500); 1 Jan 2011 21:32:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 36522 invoked by uid 500); 1 Jan 2011 21:32:47 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 36514 invoked by uid 99); 1 Jan 2011 21:32:47 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 01 Jan 2011 21:32:47 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [98.136.183.132] (HELO web114705.mail.gq1.yahoo.com) (98.136.183.132)
    by apache.org (qpsmtpd/0.29) with SMTP; Sat, 01 Jan 2011 21:32:38 +0000
Received: (qmail 11347 invoked by uid 60001); 1 Jan 2011 21:32:16 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1293917536; bh=tzIucK7Y8w4zS10vO7i/V+YeCX+rTfAh10fXMDn7GSI=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type; b=plK9eI7y1O4pEP4doED//4rqT7JdRhAzSYDfLqdK8rWRjQ87jIjgIf8ugld/7yH2RXxVpR47OB6otMgAqEaSG7NuVikRNwHV+qpKwiv3iqBGN8z9ekhf0FkTxPdig+09EhGBR6x6FHbWpRzxGug0y8G2NpOdxhwwbyNm/v5T8LY=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type;
  b=crVzxFsm0HyhdSWcs3Smhy0jcY1y9CV5oDXuuV1ZIn+M+5OZC4mLg9Hts1RDtnVS1H4Ja0/DSwWjEK2UZLOvBuX3Dv5QwuFjVWDWdps9c5fINLcvctPT2zHcYWQmGZs4yKSE2y0GQIr5NQfd1lNZWlfStGxFyL6WY9NBHPwswkY=;
Message-ID: <741774.4152.qm@web114705.mail.gq1.yahoo.com>
X-YMail-OSG: T79seJcVM1kaOomoZpMIwsVXbrbEzL0qPM0yUaL_qrpwVoT
 .N1Qu4Cr2u5w92xHewFlwcsTdGYwTBQWW4sp2Q7R_we0FnInA6OsYqvjr4gb
 w3fftsHkaKSvsn9SJDmakefND75uLYq8mj1s8b0ZT.AGVkbU0LD1mu4BWn56
 ozo4KzpTCj0yyxkSMbml5WCky4pM.QHnIZmOAloniPof9M7Eey8H4ePxRUkn
 NQkHFlxxzYNYcGlKtnKSTWd5UXtPkC4og_bEKOLGmv6.qCv8dWKBHrGN14xN
 qcnni15A72BaSti60IG5AuW0qv1sw2qfj1_TJb6PLtnuk3IT5gapcGgpE66H
 4DYH49l9zN_HSGbtqr9n9Bvph6oGZ1VwcdGN26wqAyDjc0m0gd2neo5EbRjj
 AD4CDR1fjdSU-
Received: from [79.181.22.134] by web114705.mail.gq1.yahoo.com via HTTP; Sat, 01 Jan 2011 13:32:16 PST
X-Mailer: YahooMailRC/553 YahooMailWebService/0.8.107.285259
Date: Sat, 1 Jan 2011 13:32:16 -0800 (PST)
From: Benzion G <benzionk@yahoo.com>
Subject: "GROUP BY" query
To: java-user@lucene.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1573029568-1293917536=:4152"
X-Virus-Checked: Checked by ClamAV on apache.org

--0-1573029568-1293917536=:4152
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

Lets' say I have=A0documents with following. =0A=0Aid=A0=A0=A0 text=0A1=A0=
=A0=A0=A0 User not found=0A2=A0=A0=A0=A0 User not found=0A3=A0=A0=A0=A0 Add=
ress not found=0A4=A0=A0=A0=A0 Fatal error=0A5=A0=A0=A0=A0 User not found=
=0A6=A0=A0=A0=A0 Address not found=0A7=A0=A0=A0=A0 User not found=0A=0A=0AH=
ow can I=A0get=A0each text only once in search results (similar to SQL "GRO=
UP BY"), =0Ai.e.=0A=0Aid=A0=A0=A0 text=0A1=A0=A0=A0=A0 User not found=0A3=
=A0=A0=A0=A0 Address not found=0A4=A0=A0=A0=A0 Fatal error=0A=0A=A0=0ARegar=
ds,=0ABenzion.=0A=0A=0A      
--0-1573029568-1293917536=:4152--

From java-user-return-48233-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Jan 01 21:47:50 2011
Return-Path: <java-user-return-48233-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 18914 invoked from network); 1 Jan 2011 21:47:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 1 Jan 2011 21:47:50 -0000
Received: (qmail 45109 invoked by uid 500); 1 Jan 2011 21:47:48 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 45078 invoked by uid 500); 1 Jan 2011 21:47:48 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 45070 invoked by uid 99); 1 Jan 2011 21:47:48 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 01 Jan 2011 21:47:48 +0000
X-ASF-Spam-Status: No, hits=3.0 required=10.0
	tests=FORGED_YAHOO_RCVD,FREEMAIL_FROM,RFC_ABUSE_POST,SPF_NEUTRAL,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [216.139.236.26] (HELO sam.nabble.com) (216.139.236.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 01 Jan 2011 21:47:43 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by sam.nabble.com with esmtp (Exim 4.69)
	(envelope-from <benzionk@yahoo.com>)
	id 1PZ9II-00052l-Jw
	for java-user@lucene.apache.org; Sat, 01 Jan 2011 13:47:22 -0800
Date: Sat, 1 Jan 2011 13:47:22 -0800 (PST)
From: Benzion G <benzionk@yahoo.com>
To: java-user@lucene.apache.org
Message-ID: <1293918442597-2177453.post@n3.nabble.com>
In-Reply-To: <AANLkTinVW4-BoB_-ppPu4So+Su-Jrsbo=J2riwhQm=7g@mail.gmail.com>
References: <151986.56456.qm@web114720.mail.gq1.yahoo.com> <AANLkTinVW4-BoB_-ppPu4So+Su-Jrsbo=J2riwhQm=7g@mail.gmail.com>
Subject: Re: parsing Java log file with Lucene 3.0.3
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit


Hi,

Of course I thought about replacing dots by commas or blanks. But I add this
field as Filed.Store.YES. 
If I'll replace dot with commas it will appear with commas in search
results. 

I also considered adding it as 2 fields: 
1. With dots replaced by commas for index and Filed.Store.NO
2. The original message with Filed.Store.YES and not indexed.

But I'm afraid it will make my index files much bigger. Since I'm indexing
log files the index will be anyway too big so I can't make it even bigger.
-- 
View this message in context: http://lucene.472066.n3.nabble.com/parsing-Java-log-file-with-Lucene-3-0-3-tp2173046p2177453.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48234-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Jan 01 21:49:56 2011
Return-Path: <java-user-return-48234-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19837 invoked from network); 1 Jan 2011 21:49:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 1 Jan 2011 21:49:56 -0000
Received: (qmail 47445 invoked by uid 500); 1 Jan 2011 21:49:54 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 47391 invoked by uid 500); 1 Jan 2011 21:49:54 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 47383 invoked by uid 99); 1 Jan 2011 21:49:54 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 01 Jan 2011 21:49:54 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=10.0
	tests=FREEMAIL_FROM,RCVD_IN_DNSWL_LOW,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of hasan.diwan@gmail.com designates 74.125.82.48 as permitted sender)
Received: from [74.125.82.48] (HELO mail-ww0-f48.google.com) (74.125.82.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 01 Jan 2011 21:49:47 +0000
Received: by wwd20 with SMTP id 20so12465733wwd.5
        for <java-user@lucene.apache.org>; Sat, 01 Jan 2011 13:49:26 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:mime-version:received:in-reply-to
         :references:from:date:message-id:subject:to:content-type;
        bh=tzHloIIzGRvPYdZNJDhs/CQvCLw+ObufIzWn+/y3ZG0=;
        b=njYgGXjEB5HaDieKOyYaGIRdldEvdLrX1Vf/pMscM+3mI1Lsxuya9DKG/XbbWtKuUw
         S47TlY3xAx2FILET/NM11t3BCnHdnW0HB/R7+ghKi7+bJ2GuJ4jv4IfypdThQSjsTH85
         04OBZFmgvcWEEWq3iZsnmTxBgt1Zu912dzkZ4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=jrivUIHtSV/+1tgCDLvybyoTo6L72NaNkxmJ0afEuuDjN1f0AbLJJDf2WnCLvTcB2G
         bBhwwxrZZS3kED1RGxUuk/Nq2JvlK959qIIoFqffKUT/hz8malgoSRR0QxWy7yzyQM2b
         t9xUbMHx9gCzVnWjjDHQi8UGAFBt24iH0j+Io=
Received: by 10.216.171.76 with SMTP id q54mr9420509wel.93.1293918566756; Sat,
 01 Jan 2011 13:49:26 -0800 (PST)
MIME-Version: 1.0
Received: by 10.216.50.70 with HTTP; Sat, 1 Jan 2011 13:49:06 -0800 (PST)
In-Reply-To: <1293918442597-2177453.post@n3.nabble.com>
References: <151986.56456.qm@web114720.mail.gq1.yahoo.com> <AANLkTinVW4-BoB_-ppPu4So+Su-Jrsbo=J2riwhQm=7g@mail.gmail.com>
 <1293918442597-2177453.post@n3.nabble.com>
From: Hasan Diwan <hasan.diwan@gmail.com>
Date: Sat, 1 Jan 2011 21:49:06 +0000
Message-ID: <AANLkTimnWL0qNDG94f0nS3myXhvx3T+w_TkapKRLiRqx@mail.gmail.com>
Subject: Re: parsing Java log file with Lucene 3.0.3
To: java-user@lucene.apache.org
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On 1 January 2011 21:47, Benzion G <benzionk@yahoo.com> wrote:
> But I'm afraid it will make my index files much bigger. Since I'm indexing
> log files the index will be anyway too big so I can't make it even bigger.

Have you tried it out? How large are your log files and how large do
you expect them to get?
-- 
Sent from my mobile device
Envoyait de mon telephone mobil

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48235-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Jan 01 21:50:19 2011
Return-Path: <java-user-return-48235-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 19973 invoked from network); 1 Jan 2011 21:50:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 1 Jan 2011 21:50:18 -0000
Received: (qmail 49577 invoked by uid 500); 1 Jan 2011 21:50:16 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 49462 invoked by uid 500); 1 Jan 2011 21:50:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 49454 invoked by uid 99); 1 Jan 2011 21:50:16 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 01 Jan 2011 21:50:16 +0000
X-ASF-Spam-Status: No, hits=3.0 required=10.0
	tests=FORGED_YAHOO_RCVD,FREEMAIL_FROM,RFC_ABUSE_POST,SPF_NEUTRAL,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [216.139.236.26] (HELO sam.nabble.com) (216.139.236.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 01 Jan 2011 21:50:10 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by sam.nabble.com with esmtp (Exim 4.69)
	(envelope-from <benzionk@yahoo.com>)
	id 1PZ9Kf-0005A1-An
	for java-user@lucene.apache.org; Sat, 01 Jan 2011 13:49:49 -0800
Date: Sat, 1 Jan 2011 13:49:49 -0800 (PST)
From: Benzion G <benzionk@yahoo.com>
To: java-user@lucene.apache.org
Message-ID: <1293918589328-2177458.post@n3.nabble.com>
In-Reply-To: <1293918442597-2177453.post@n3.nabble.com>
References: <151986.56456.qm@web114720.mail.gq1.yahoo.com> <AANLkTinVW4-BoB_-ppPu4So+Su-Jrsbo=J2riwhQm=7g@mail.gmail.com> <1293918442597-2177453.post@n3.nabble.com>
Subject: Re: parsing Java log file with Lucene 3.0.3
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org


I tried to understand where the StandardAnalyzer and other Standard* classes
are handling these dots and commas and how can I change its behaviour. I
debugged it as well, but I failed to understand it. 
-- 
View this message in context: http://lucene.472066.n3.nabble.com/parsing-Java-log-file-with-Lucene-3-0-3-tp2173046p2177458.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48236-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sat Jan 01 21:56:11 2011
Return-Path: <java-user-return-48236-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 20954 invoked from network); 1 Jan 2011 21:56:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 1 Jan 2011 21:56:10 -0000
Received: (qmail 54002 invoked by uid 500); 1 Jan 2011 21:56:08 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 53820 invoked by uid 500); 1 Jan 2011 21:56:08 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 53812 invoked by uid 99); 1 Jan 2011 21:56:08 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 01 Jan 2011 21:56:08 +0000
X-ASF-Spam-Status: No, hits=3.0 required=10.0
	tests=FORGED_YAHOO_RCVD,FREEMAIL_FROM,RFC_ABUSE_POST,SPF_NEUTRAL,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [216.139.236.26] (HELO sam.nabble.com) (216.139.236.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 01 Jan 2011 21:56:03 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by sam.nabble.com with esmtp (Exim 4.69)
	(envelope-from <benzionk@yahoo.com>)
	id 1PZ9QM-0005TP-OU
	for java-user@lucene.apache.org; Sat, 01 Jan 2011 13:55:42 -0800
Date: Sat, 1 Jan 2011 13:55:42 -0800 (PST)
From: Benzion G <benzionk@yahoo.com>
To: java-user@lucene.apache.org
Message-ID: <1293918942752-2177477.post@n3.nabble.com>
In-Reply-To: <1293918589328-2177458.post@n3.nabble.com>
References: <151986.56456.qm@web114720.mail.gq1.yahoo.com> <AANLkTinVW4-BoB_-ppPu4So+Su-Jrsbo=J2riwhQm=7g@mail.gmail.com> <1293918442597-2177453.post@n3.nabble.com> <1293918589328-2177458.post@n3.nabble.com>
Subject: Re: parsing Java log file with Lucene 3.0.3
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit


I'm testing it with ~50M log files. But in production env the log files will
be ~10G.
-- 
View this message in context: http://lucene.472066.n3.nabble.com/parsing-Java-log-file-with-Lucene-3-0-3-tp2173046p2177477.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48237-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Jan 02 01:25:19 2011
Return-Path: <java-user-return-48237-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 92261 invoked from network); 2 Jan 2011 01:25:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 2 Jan 2011 01:25:19 -0000
Received: (qmail 32158 invoked by uid 500); 2 Jan 2011 01:25:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 32100 invoked by uid 500); 2 Jan 2011 01:25:16 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 32092 invoked by uid 99); 2 Jan 2011 01:25:16 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 02 Jan 2011 01:25:16 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [209.85.212.48] (HELO mail-vw0-f48.google.com) (209.85.212.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 02 Jan 2011 01:25:10 +0000
Received: by vws18 with SMTP id 18so4999170vws.35
        for <java-user@lucene.apache.org>; Sat, 01 Jan 2011 17:24:48 -0800 (PST)
MIME-Version: 1.0
Received: by 10.220.193.11 with SMTP id ds11mr5767906vcb.209.1293931488585;
 Sat, 01 Jan 2011 17:24:48 -0800 (PST)
Received: by 10.220.176.131 with HTTP; Sat, 1 Jan 2011 17:24:48 -0800 (PST)
In-Reply-To: <741774.4152.qm@web114705.mail.gq1.yahoo.com>
References: <741774.4152.qm@web114705.mail.gq1.yahoo.com>
Date: Sat, 1 Jan 2011 20:24:48 -0500
Message-ID: <AANLkTik5iK9YhBZ7WMpeTT8an5qev9UwJmAZ=bVyPyGe@mail.gmail.com>
Subject: Re: "GROUP BY" query
From: Joe Scanlon <jscanlon@element115.net>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=90e6ba53ac3cbda9990498d2e627
X-Virus-Checked: Checked by ClamAV on apache.org

--90e6ba53ac3cbda9990498d2e627
Content-Type: text/plain; charset=ISO-8859-1

Something like this works pretty well

public static Map <String, Integer> getFullTerms(IndexReader ir, String
fieldName, IndexSearcher is) throws IOException{
   Map<String,Integer > termMap = new LinkedHashMap<String,Integer>();
          TermEnum terms = ir.terms(new Term(fieldName, ""));
          while (fieldName.equals(terms.term().field()))
          {
         // System.out.println(terms.term().text());
           termMap.put(getCatName(terms.term().text(), ir, is),
terms.docFreq());
             System.out.println("Unique category ids: " +terms.term().text()
+ " catname: "+getCatName(terms.term().text(), ir, is)+" shows up in this
many docs: "+ terms.docFreq());
              if (!terms.next())
                  break;
          }
          return termMap;
   }

On Sat, Jan 1, 2011 at 4:32 PM, Benzion G <benzionk@yahoo.com> wrote:

> Lets' say I have documents with following.
>
> id    text
> 1     User not found
> 2     User not found
> 3     Address not found
> 4     Fatal error
> 5     User not found
> 6     Address not found
> 7     User not found
>
>
> How can I get each text only once in search results (similar to SQL "GROUP
> BY"),
> i.e.
>
> id    text
> 1     User not found
> 3     Address not found
> 4     Fatal error
>
>
> Regards,
> Benzion.
>
>
>




-- 
Joe Scanlon

jscanlon@element115.net

Mobile: 603 459 3242
Office:  312 445 0018

--90e6ba53ac3cbda9990498d2e627--

From java-user-return-48238-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Jan 02 02:24:52 2011
Return-Path: <java-user-return-48238-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 5890 invoked from network); 2 Jan 2011 02:24:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 2 Jan 2011 02:24:52 -0000
Received: (qmail 46859 invoked by uid 500); 2 Jan 2011 02:24:50 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 46809 invoked by uid 500); 2 Jan 2011 02:24:50 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 46801 invoked by uid 99); 2 Jan 2011 02:24:49 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 02 Jan 2011 02:24:49 +0000
X-ASF-Spam-Status: No, hits=2.8 required=10.0
	tests=FREEMAIL_FROM,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,RFC_ABUSE_POST,SPF_PASS,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of erickerickson@gmail.com designates 209.85.216.48 as permitted sender)
Received: from [209.85.216.48] (HELO mail-qw0-f48.google.com) (209.85.216.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 02 Jan 2011 02:24:43 +0000
Received: by qwh6 with SMTP id 6so13192359qwh.35
        for <java-user@lucene.apache.org>; Sat, 01 Jan 2011 18:24:22 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=nrC/0QOIIE65Jm5ZFzSslbqwmoWoXIBBY+VwSjLJ1Po=;
        b=A491UIHXnh76aF2YY+sMyuO+S6J7p3Eul2BXoLJxUpdCWd3NKj6BlecLjg6ZNjalZ8
         /AcyK217mGT7lfjoLKF8rUIpVallh4zXJsDigAHKGP4M0TxK2qLwlmGAd1nZ/BgCKN2B
         YSK6Wcb3ShiG8IXqrMQM+AmMS3R7NZ0npRLsI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=pM1yimWkkejgzssU/+FLau0JsHVvM4SINcxhsvyUtAlohkqsUuZI/d3+GqgxH0pqip
         fsi6tkmTGHgiRyTsmdUWsOImkVl1FyWx3ykj6Mmapgv6QQu490BAT7ROBfvk+WpBdemT
         hW/Ym7RoyrW9HEfRBD4crjcH3IM/W8iqP3cQQ=
MIME-Version: 1.0
Received: by 10.229.98.135 with SMTP id q7mr16146438qcn.270.1293935061433;
 Sat, 01 Jan 2011 18:24:21 -0800 (PST)
Received: by 10.229.235.208 with HTTP; Sat, 1 Jan 2011 18:24:21 -0800 (PST)
In-Reply-To: <1293918442597-2177453.post@n3.nabble.com>
References: <151986.56456.qm@web114720.mail.gq1.yahoo.com>
	<AANLkTinVW4-BoB_-ppPu4So+Su-Jrsbo=J2riwhQm=7g@mail.gmail.com>
	<1293918442597-2177453.post@n3.nabble.com>
Date: Sat, 1 Jan 2011 21:24:21 -0500
Message-ID: <AANLkTi=zFAHr60UJCXCL-NBuHU1S6qF4726FDtoULWpG@mail.gmail.com>
Subject: Re: parsing Java log file with Lucene 3.0.3
From: Erick Erickson <erickerickson@gmail.com>
To: java-user@lucene.apache.org
Content-Type: multipart/alternative; boundary=001636831cdab2fe160498d3bb3f
X-Virus-Checked: Checked by ClamAV on apache.org

--001636831cdab2fe160498d3bb3f
Content-Type: text/plain; charset=ISO-8859-1

<<<If I'll replace dot with commas it will appear with commas in search
results.>>>

No, that is not the case. Storing a field stores an exact copy of the
input, without any analysis. The intent of storing a field is to return
something to display in the results list that reflects the original
document. What use would it be to store something that had gone
through the analysis chain? Would you really want to show the user
say, the stemmed version of the input text?

Best
Erick

On Sat, Jan 1, 2011 at 4:47 PM, Benzion G <benzionk@yahoo.com> wrote:

>
> Hi,
>
> Of course I thought about replacing dots by commas or blanks. But I add
> this
> field as Filed.Store.YES.
> If I'll replace dot with commas it will appear with commas in search
> results.
>
> I also considered adding it as 2 fields:
> 1. With dots replaced by commas for index and Filed.Store.NO
> 2. The original message with Filed.Store.YES and not indexed.
>
> But I'm afraid it will make my index files much bigger. Since I'm indexing
> log files the index will be anyway too big so I can't make it even bigger.
> --
> View this message in context:
> http://lucene.472066.n3.nabble.com/parsing-Java-log-file-with-Lucene-3-0-3-tp2173046p2177453.html
> Sent from the Lucene - Java Users mailing list archive at Nabble.com.
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
> For additional commands, e-mail: java-user-help@lucene.apache.org
>
>

--001636831cdab2fe160498d3bb3f--

From java-user-return-48239-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Jan 02 04:45:54 2011
Return-Path: <java-user-return-48239-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 38337 invoked from network); 2 Jan 2011 04:45:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 2 Jan 2011 04:45:54 -0000
Received: (qmail 79865 invoked by uid 500); 2 Jan 2011 04:45:52 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 79599 invoked by uid 500); 2 Jan 2011 04:45:51 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 79591 invoked by uid 99); 2 Jan 2011 04:45:50 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 02 Jan 2011 04:45:50 +0000
X-ASF-Spam-Status: No, hits=3.0 required=10.0
	tests=FORGED_YAHOO_RCVD,FREEMAIL_FROM,RFC_ABUSE_POST,SPF_NEUTRAL,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [216.139.236.26] (HELO sam.nabble.com) (216.139.236.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 02 Jan 2011 04:45:45 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by sam.nabble.com with esmtp (Exim 4.69)
	(envelope-from <benzionk@yahoo.com>)
	id 1PZFoq-0001Of-GL
	for java-user@lucene.apache.org; Sat, 01 Jan 2011 20:45:24 -0800
Date: Sat, 1 Jan 2011 20:45:24 -0800 (PST)
From: Benzion G <benzionk@yahoo.com>
To: java-user@lucene.apache.org
Message-ID: <1293943524498-2178710.post@n3.nabble.com>
In-Reply-To: <AANLkTi=zFAHr60UJCXCL-NBuHU1S6qF4726FDtoULWpG@mail.gmail.com>
References: <151986.56456.qm@web114720.mail.gq1.yahoo.com> <AANLkTinVW4-BoB_-ppPu4So+Su-Jrsbo=J2riwhQm=7g@mail.gmail.com> <1293918442597-2177453.post@n3.nabble.com> <AANLkTi=zFAHr60UJCXCL-NBuHU1S6qF4726FDtoULWpG@mail.gmail.com>
Subject: Re: parsing Java log file with Lucene 3.0.3
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit


Of course I want to store and then show to user the original message. That's
why I can't change it and the place to handle the dots is the Analyzer area.
So how can I make the StandardAnalyzer to handle dots as commas? 
-- 
View this message in context: http://lucene.472066.n3.nabble.com/parsing-Java-log-file-with-Lucene-3-0-3-tp2173046p2178710.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48240-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Jan 02 05:09:19 2011
Return-Path: <java-user-return-48240-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 50815 invoked from network); 2 Jan 2011 05:09:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 2 Jan 2011 05:09:19 -0000
Received: (qmail 86077 invoked by uid 500); 2 Jan 2011 05:09:17 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 85790 invoked by uid 500); 2 Jan 2011 05:09:17 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 85782 invoked by uid 99); 2 Jan 2011 05:09:16 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 02 Jan 2011 05:09:16 +0000
X-ASF-Spam-Status: No, hits=3.0 required=10.0
	tests=FORGED_YAHOO_RCVD,FREEMAIL_FROM,RFC_ABUSE_POST,SPF_NEUTRAL,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [216.139.236.26] (HELO sam.nabble.com) (216.139.236.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 02 Jan 2011 05:09:09 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by sam.nabble.com with esmtp (Exim 4.69)
	(envelope-from <benzionk@yahoo.com>)
	id 1PZGBU-0002fA-LD
	for java-user@lucene.apache.org; Sat, 01 Jan 2011 21:08:48 -0800
Date: Sat, 1 Jan 2011 21:08:48 -0800 (PST)
From: Benzion G <benzionk@yahoo.com>
To: java-user@lucene.apache.org
Message-ID: <1293944928649-2178752.post@n3.nabble.com>
In-Reply-To: <AANLkTik5iK9YhBZ7WMpeTT8an5qev9UwJmAZ=bVyPyGe@mail.gmail.com>
References: <741774.4152.qm@web114705.mail.gq1.yahoo.com> <AANLkTik5iK9YhBZ7WMpeTT8an5qev9UwJmAZ=bVyPyGe@mail.gmail.com>
Subject: Re: "GROUP BY" query
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org


Tried it. Brings nothing. I tried even simpler version:

		TermEnum terms = ir.terms();
		
		while (terms.next())
		{
			System.out.println(terms.term().text());
		}	

It also brings no terms.
-- 
View this message in context: http://lucene.472066.n3.nabble.com/GROUP-BY-query-tp2177408p2178752.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


From java-user-return-48241-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org Sun Jan 02 08:56:45 2011
Return-Path: <java-user-return-48241-apmail-lucene-java-user-archive=lucene.apache.org@lucene.apache.org>
Delivered-To: apmail-lucene-java-user-archive@www.apache.org
Received: (qmail 21287 invoked from network); 2 Jan 2011 08:56:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 2 Jan 2011 08:56:44 -0000
Received: (qmail 19461 invoked by uid 500); 2 Jan 2011 08:56:42 -0000
Delivered-To: apmail-lucene-java-user-archive@lucene.apache.org
Received: (qmail 19232 invoked by uid 500); 2 Jan 2011 08:56:42 -0000
Mailing-List: contact java-user-help@lucene.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:java-user-help@lucene.apache.org>
List-Unsubscribe: <mailto:java-user-unsubscribe@lucene.apache.org>
List-Post: <mailto:java-user@lucene.apache.org>
List-Id: <java-user.lucene.apache.org>
Reply-To: java-user@lucene.apache.org
Delivered-To: mailing list java-user@lucene.apache.org
Received: (qmail 19224 invoked by uid 99); 2 Jan 2011 08:56:41 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 02 Jan 2011 08:56:41 +0000
X-ASF-Spam-Status: No, hits=3.0 required=10.0
	tests=FORGED_YAHOO_RCVD,FREEMAIL_FROM,RFC_ABUSE_POST,SPF_NEUTRAL,T_TO_NO_BRKTS_FREEMAIL,URI_HEX
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [216.139.236.26] (HELO sam.nabble.com) (216.139.236.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 02 Jan 2011 08:56:34 +0000
Received: from ben.nabble.com ([192.168.236.152])
	by sam.nabble.com with esmtp (Exim 4.69)
	(envelope-from <benzionk@yahoo.com>)
	id 1PZJjY-0004r7-MW
	for java-user@lucene.apache.org; Sun, 02 Jan 2011 00:56:12 -0800
Date: Sun, 2 Jan 2011 00:56:12 -0800 (PST)
From: Benzion G <benzionk@yahoo.com>
To: java-user@lucene.apache.org
Message-ID: <1293958572680-2179230.post@n3.nabble.com>
In-Reply-To: <AANLkTik5iK9YhBZ7WMpeTT8an5qev9UwJmAZ=bVyPyGe@mail.gmail.com>
References: <741774.4152.qm@web114705.mail.gq1.yahoo.com> <AANLkTik5iK9YhBZ7WMpeTT8an5qev9UwJmAZ=bVyPyGe@mail.gmail.com>
Subject: Re: "GROUP BY" query
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org


Sorry, my mistake. It works now. Thanks a lot!
-- 
View this message in context: http://lucene.472066.n3.nabble.com/GROUP-BY-query-tp2177408p2179230.html
Sent from the Lucene - Java Users mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: java-user-unsubscribe@lucene.apache.org
For additional commands, e-mail: java-user-help@lucene.apache.org


